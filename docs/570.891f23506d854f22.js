(self.webpackChunkAngular=self.webpackChunkAngular||[]).push([[570],{7135:(Je,le,l)=>{"use strict";l.r(le),l.d(le,{AppModule:()=>Il});var e=l(9862),S=l(4221),u=l(9212),N=l(2236),x=l(2460);const h="@ngrx/router-store/request",E=((0,S.PH)(h,(0,S.Ky)()),"@ngrx/router-store/navigation"),F=((0,S.PH)(E,(0,S.Ky)()),"@ngrx/router-store/cancel"),$=((0,S.PH)(F,(0,S.Ky)()),"@ngrx/router-store/error"),q=((0,S.PH)($,(0,S.Ky)()),"@ngrx/router-store/navigated");(0,S.PH)(q,(0,S.Ky)());class Fe{serialize(d){return{root:this.serializeRoute(d.root),url:d.url}}serializeRoute(d){const c=d.children.map(v=>this.serializeRoute(v));return{params:d.params,data:d.data,url:d.url,outlet:d.outlet,title:d.title,routeConfig:d.routeConfig?{path:d.routeConfig.path,pathMatch:d.routeConfig.pathMatch,redirectTo:d.routeConfig.redirectTo,outlet:d.routeConfig.outlet,title:"string"==typeof d.routeConfig.title?d.routeConfig.title:void 0}:null,queryParams:d.queryParams,fragment:d.fragment,firstChild:c[0],children:c}}}var be=function(w){return w[w.PreActivation=1]="PreActivation",w[w.PostActivation=2]="PostActivation",w}(be||{});const De="router",se=new u.OlP("@ngrx/router-store Internal Configuration"),Ae=new u.OlP("@ngrx/router-store Configuration");function Me(w){return{stateKey:De,serializer:Fe,navigationActionTiming:be.PreActivation,...w}}class st{serialize(d){return{root:this.serializeRoute(d.root),url:d.url}}serializeRoute(d){const c=d.children.map(v=>this.serializeRoute(v));return{params:d.params,paramMap:d.paramMap,data:d.data,url:d.url,outlet:d.outlet,title:d.title,routeConfig:d.routeConfig?{component:d.routeConfig.component,path:d.routeConfig.path,pathMatch:d.routeConfig.pathMatch,redirectTo:d.routeConfig.redirectTo,outlet:d.routeConfig.outlet,title:d.routeConfig.title}:null,queryParams:d.queryParams,queryParamMap:d.queryParamMap,fragment:d.fragment,component:d.routeConfig?d.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:c[0],pathFromRoot:void 0,children:c}}}class fe{}var Dt=function(w){return w[w.NONE=1]="NONE",w[w.ROUTER=2]="ROUTER",w[w.STORE=3]="STORE",w}(Dt||{});let Gt=(()=>{class w{constructor(c,v,L,ie,Se,Oe){this.store=c,this.router=v,this.serializer=L,this.errorHandler=ie,this.config=Se,this.activeRuntimeChecks=Oe,this.lastEvent=null,this.routerState=null,this.trigger=Dt.NONE,this.stateKey=this.config.stateKey,!(0,S.rM)()&&(0,u.X6Q)()&&(Oe?.strictActionSerializability||Oe?.strictStateSerializability)&&this.serializer instanceof st&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,S.Ys)(this.stateKey),(0,x.M)(this.store)).subscribe(([c,v])=>{this.navigateIfNeeded(c,v)})}navigateIfNeeded(c,v){if(!c||!c.state||this.trigger===Dt.ROUTER||this.lastEvent instanceof N.OD)return;const L=c.state.url;(function Pt(w,d){return dt(w)===dt(d)})(this.router.url,L)||(this.storeState=v,this.trigger=Dt.STORE,this.router.navigateByUrl(L).catch(ie=>{this.errorHandler.handleError(ie)}))}setUpRouterEventsListener(){const c=this.config.navigationActionTiming===be.PostActivation;let v;this.router.events.pipe((0,x.M)(this.store)).subscribe(([L,ie])=>{this.lastEvent=L,L instanceof N.OD?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==Dt.STORE&&(this.storeState=ie,this.dispatchRouterRequest(L))):L instanceof N.R9?(v=L,!c&&this.trigger!==Dt.STORE&&this.dispatchRouterNavigation(L)):L instanceof N.gk?(this.dispatchRouterCancel(L),this.reset()):L instanceof N.Q3?(this.dispatchRouterError(L),this.reset()):L instanceof N.m2&&(this.trigger!==Dt.STORE&&(c&&this.dispatchRouterNavigation(v),this.dispatchRouterNavigated(L)),this.reset())})}dispatchRouterRequest(c){this.dispatchRouterAction(h,{event:c})}dispatchRouterNavigation(c){const v=this.serializer.serialize(c.state);this.dispatchRouterAction(E,{routerState:v,event:new N.R9(c.id,c.url,c.urlAfterRedirects,v)})}dispatchRouterCancel(c){this.dispatchRouterAction(F,{storeState:this.storeState,event:c})}dispatchRouterError(c){this.dispatchRouterAction($,{storeState:this.storeState,event:new N.Q3(c.id,c.url,`${c}`)})}dispatchRouterNavigated(c){const v=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(q,{event:c,routerState:v})}dispatchRouterAction(c,v){this.trigger=Dt.ROUTER;try{this.store.dispatch({type:c,payload:{routerState:this.routerState,...v,event:0===this.config.routerState?v.event:{id:v.event.id,url:v.event.url,urlAfterRedirects:v.event.urlAfterRedirects}}})}finally{this.trigger=Dt.NONE}}reset(){this.trigger=Dt.NONE,this.storeState=null,this.routerState=null}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(S.yh),u.LFG(N.F0),u.LFG(fe),u.LFG(u.qLn),u.LFG(Ae),u.LFG(S.hg))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})();function dt(w){return w?.length>0&&"/"===w[w.length-1]?w.substring(0,w.length-1):w}function sn(w={}){return(0,u.MR2)([{provide:se,useValue:w},{provide:Ae,useFactory:Me,deps:[se]},{provide:fe,useClass:w.serializer?w.serializer:0===w.routerState?st:Fe},{provide:u.Xts,multi:!0,useFactory:()=>()=>(0,u.f3M)(Gt)},Gt])}let an=(()=>{class w{static forRoot(c={}){return{ngModule:w,providers:[sn(c)]}}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({})}return w})();var hn=l(6593),cn=l(7178),$t=l(6825);function ht(w){return new u.vHH(3e3,!1)}function pe(w){switch(w.length){case 0:return new $t.ZN;case 1:return w[0];default:return new $t.ZE(w)}}function et(w,d,c=new Map,v=new Map){const L=[],ie=[];let Se=-1,Oe=null;if(d.forEach(bt=>{const Ot=bt.get("offset"),fn=Ot==Se,mn=fn&&Oe||new Map;bt.forEach((Zn,s)=>{let p=s,O=Zn;if("offset"!==s)switch(p=w.normalizePropertyName(p,L),O){case $t.k1:O=c.get(s);break;case $t.l3:O=v.get(s);break;default:O=w.normalizeStyleValue(s,p,O,L)}mn.set(p,O)}),fn||ie.push(mn),Oe=mn,Se=Ot}),L.length)throw function xn(w){return new u.vHH(3502,!1)}();return ie}function ct(w,d,c,v){switch(d){case"start":w.onStart(()=>v(c&&at(c,"start",w)));break;case"done":w.onDone(()=>v(c&&at(c,"done",w)));break;case"destroy":w.onDestroy(()=>v(c&&at(c,"destroy",w)))}}function at(w,d,c){const ie=lt(w.element,w.triggerName,w.fromState,w.toState,d||w.phaseName,c.totalTime??w.totalTime,!!c.disabled),Se=w._data;return null!=Se&&(ie._data=Se),ie}function lt(w,d,c,v,L="",ie=0,Se){return{element:w,triggerName:d,fromState:c,toState:v,phaseName:L,totalTime:ie,disabled:!!Se}}function Ut(w,d,c){let v=w.get(d);return v||w.set(d,v=c),v}function pn(w){const d=w.indexOf(":");return[w.substring(1,d),w.slice(d+1)]}const vn=typeof document>"u"?null:document.documentElement;function Jt(w){const d=w.parentNode||w.host||null;return d===vn?null:d}let Bt=null,ge=!1;function Qt(w,d){for(;d;){if(d===w)return!0;d=Jt(d)}return!1}function Rn(w,d,c){if(c)return Array.from(w.querySelectorAll(d));const v=w.querySelector(d);return v?[v]:[]}let Ci=(()=>{class w{validateStyleProperty(c){return function $e(w){Bt||(Bt=function kt(){return typeof document<"u"?document.body:null}()||{},ge=!!Bt.style&&"WebkitAppearance"in Bt.style);let d=!0;return Bt.style&&!function Ke(w){return"ebkit"==w.substring(1,6)}(w)&&(d=w in Bt.style,!d&&ge&&(d="Webkit"+w.charAt(0).toUpperCase()+w.slice(1)in Bt.style)),d}(c)}matchesElement(c,v){return!1}containsElement(c,v){return Qt(c,v)}getParentElement(c){return Jt(c)}query(c,v,L){return Rn(c,v,L)}computeStyle(c,v,L){return L||""}animate(c,v,L,ie,Se,Oe=[],bt){return new $t.ZN(L,ie)}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),tr=(()=>{class w{static#e=this.NOOP=new Ci}return w})();class rr{}const xi=1e3,sr="ng-enter",Oi="ng-leave",si="ng-trigger",nr=".ng-trigger",Qr="ng-animating",zr=".ng-animating";function zi(w){if("number"==typeof w)return w;const d=w.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:Wr(parseFloat(d[1]),d[2])}function Wr(w,d){return"s"===d?w*xi:w}function Xr(w,d,c){return w.hasOwnProperty("duration")?w:function ve(w,d,c){let L,ie=0,Se="";if("string"==typeof w){const Oe=w.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Oe)return d.push(ht()),{duration:0,delay:0,easing:""};L=Wr(parseFloat(Oe[1]),Oe[2]);const bt=Oe[3];null!=bt&&(ie=Wr(parseFloat(bt),Oe[4]));const Ot=Oe[5];Ot&&(Se=Ot)}else L=w;if(!c){let Oe=!1,bt=d.length;L<0&&(d.push(function Tt(){return new u.vHH(3100,!1)}()),Oe=!0),ie<0&&(d.push(function wt(){return new u.vHH(3101,!1)}()),Oe=!0),Oe&&d.splice(bt,0,ht())}return{duration:L,delay:ie,easing:Se}}(w,d,c)}function St(w,d,c){d.forEach((v,L)=>{const ie=_e(L);c&&!c.has(L)&&c.set(L,w.style[ie]),w.style[ie]=v})}function i(w,d){d.forEach((c,v)=>{const L=_e(v);w.style[L]=""})}function r(w){return Array.isArray(w)?1==w.length?w[0]:(0,$t.vP)(w):w}const f=new RegExp("{{\\s*(.+?)\\s*}}","g");function T(w){let d=[];if("string"==typeof w){let c;for(;c=f.exec(w);)d.push(c[1]);f.lastIndex=0}return d}function k(w,d,c){const v=`${w}`,L=v.replace(f,(ie,Se)=>{let Oe=d[Se];return null==Oe&&(c.push(function Vt(w){return new u.vHH(3003,!1)}()),Oe=""),Oe.toString()});return L==v?w:L}const te=/-+([a-z0-9])/g;function _e(w){return w.replace(te,(...d)=>d[1].toUpperCase())}function Ee(w,d,c){switch(d.type){case $t.mo.Trigger:return w.visitTrigger(d,c);case $t.mo.State:return w.visitState(d,c);case $t.mo.Transition:return w.visitTransition(d,c);case $t.mo.Sequence:return w.visitSequence(d,c);case $t.mo.Group:return w.visitGroup(d,c);case $t.mo.Animate:return w.visitAnimate(d,c);case $t.mo.Keyframes:return w.visitKeyframes(d,c);case $t.mo.Style:return w.visitStyle(d,c);case $t.mo.Reference:return w.visitReference(d,c);case $t.mo.AnimateChild:return w.visitAnimateChild(d,c);case $t.mo.AnimateRef:return w.visitAnimateRef(d,c);case $t.mo.Query:return w.visitQuery(d,c);case $t.mo.Stagger:return w.visitStagger(d,c);default:throw function dn(w){return new u.vHH(3004,!1)}()}}function Pe(w,d){return window.getComputedStyle(w)[d]}const Ve=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ot extends rr{normalizePropertyName(d,c){return _e(d)}normalizeStyleValue(d,c,v,L){let ie="";const Se=v.toString().trim();if(Ve.has(c)&&0!==v&&"0"!==v)if("number"==typeof v)ie="px";else{const Oe=v.match(/^[+-]?[\d\.]+([a-z]*)$/);Oe&&0==Oe[1].length&&L.push(function An(w,d){return new u.vHH(3005,!1)}())}return Se+ie}}const Q="*";const Rt=new Set(["true","1"]),yt=new Set(["false","0"]);function Zt(w,d){const c=Rt.has(w)||yt.has(w),v=Rt.has(d)||yt.has(d);return(L,ie)=>{let Se=w==Q||w==L,Oe=d==Q||d==ie;return!Se&&c&&"boolean"==typeof L&&(Se=L?Rt.has(w):yt.has(w)),!Oe&&v&&"boolean"==typeof ie&&(Oe=ie?Rt.has(d):yt.has(d)),Se&&Oe}}const Ln=new RegExp("s*:selfs*,?","g");function Vn(w,d,c,v){return new di(w).build(d,c,v)}class di{constructor(d){this._driver=d}build(d,c,v){const L=new bi(c);return this._resetContextStyleTimingState(L),Ee(this,r(d),L)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles=new Map,d.collectedStyles.set("",new Map),d.currentTime=0}visitTrigger(d,c){let v=c.queryCount=0,L=c.depCount=0;const ie=[],Se=[];return"@"==d.name.charAt(0)&&c.errors.push(function Te(){return new u.vHH(3006,!1)}()),d.definitions.forEach(Oe=>{if(this._resetContextStyleTimingState(c),Oe.type==$t.mo.State){const bt=Oe,Ot=bt.name;Ot.toString().split(/\s*,\s*/).forEach(fn=>{bt.name=fn,ie.push(this.visitState(bt,c))}),bt.name=Ot}else if(Oe.type==$t.mo.Transition){const bt=this.visitTransition(Oe,c);v+=bt.queryCount,L+=bt.depCount,Se.push(bt)}else c.errors.push(function U(){return new u.vHH(3007,!1)}())}),{type:$t.mo.Trigger,name:d.name,states:ie,transitions:Se,queryCount:v,depCount:L,options:null}}visitState(d,c){const v=this.visitStyle(d.styles,c),L=d.options&&d.options.params||null;if(v.containsDynamicStyles){const ie=new Set,Se=L||{};v.styles.forEach(Oe=>{Oe instanceof Map&&Oe.forEach(bt=>{T(bt).forEach(Ot=>{Se.hasOwnProperty(Ot)||ie.add(Ot)})})}),ie.size&&c.errors.push(function K(w,d){return new u.vHH(3008,!1)}(0,ie.values()))}return{type:$t.mo.State,name:d.name,style:v,options:L?{params:L}:null}}visitTransition(d,c){c.queryCount=0,c.depCount=0;const v=Ee(this,r(d.animation),c),L=function Ie(w,d){const c=[];return"string"==typeof w?w.split(/\s*,\s*/).forEach(v=>function ze(w,d,c){if(":"==w[0]){const bt=function Le(w,d){switch(w){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,v)=>parseFloat(v)>parseFloat(c);case":decrement":return(c,v)=>parseFloat(v)<parseFloat(c);default:return d.push(function Hn(w){return new u.vHH(3016,!1)}()),"* => *"}}(w,c);if("function"==typeof bt)return void d.push(bt);w=bt}const v=w.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==v||v.length<4)return c.push(function Pn(w){return new u.vHH(3015,!1)}()),d;const L=v[1],ie=v[2],Se=v[3];d.push(Zt(L,Se)),"<"==ie[0]&&(L!=Q||Se!=Q)&&d.push(Zt(Se,L))}(v,c,d)):c.push(w),c}(d.expr,c.errors);return{type:$t.mo.Transition,matchers:L,animation:v,queryCount:c.queryCount,depCount:c.depCount,options:Ar(d.options)}}visitSequence(d,c){return{type:$t.mo.Sequence,steps:d.steps.map(v=>Ee(this,v,c)),options:Ar(d.options)}}visitGroup(d,c){const v=c.currentTime;let L=0;const ie=d.steps.map(Se=>{c.currentTime=v;const Oe=Ee(this,Se,c);return L=Math.max(L,c.currentTime),Oe});return c.currentTime=L,{type:$t.mo.Group,steps:ie,options:Ar(d.options)}}visitAnimate(d,c){const v=function qi(w,d){if(w.hasOwnProperty("duration"))return w;if("number"==typeof w)return ir(Xr(w,d).duration,0,"");const c=w;if(c.split(/\s+/).some(ie=>"{"==ie.charAt(0)&&"{"==ie.charAt(1))){const ie=ir(0,0,"");return ie.dynamic=!0,ie.strValue=c,ie}const L=Xr(c,d);return ir(L.duration,L.delay,L.easing)}(d.timings,c.errors);c.currentAnimateTimings=v;let L,ie=d.styles?d.styles:(0,$t.oB)({});if(ie.type==$t.mo.Keyframes)L=this.visitKeyframes(ie,c);else{let Se=d.styles,Oe=!1;if(!Se){Oe=!0;const Ot={};v.easing&&(Ot.easing=v.easing),Se=(0,$t.oB)(Ot)}c.currentTime+=v.duration+v.delay;const bt=this.visitStyle(Se,c);bt.isEmptyStep=Oe,L=bt}return c.currentAnimateTimings=null,{type:$t.mo.Animate,timings:v,style:L,options:null}}visitStyle(d,c){const v=this._makeStyleAst(d,c);return this._validateStyleAst(v,c),v}_makeStyleAst(d,c){const v=[],L=Array.isArray(d.styles)?d.styles:[d.styles];for(let Oe of L)"string"==typeof Oe?Oe===$t.l3?v.push(Oe):c.errors.push(new u.vHH(3002,!1)):v.push(new Map(Object.entries(Oe)));let ie=!1,Se=null;return v.forEach(Oe=>{if(Oe instanceof Map&&(Oe.has("easing")&&(Se=Oe.get("easing"),Oe.delete("easing")),!ie))for(let bt of Oe.values())if(bt.toString().indexOf("{{")>=0){ie=!0;break}}),{type:$t.mo.Style,styles:v,easing:Se,offset:d.offset,containsDynamicStyles:ie,options:null}}_validateStyleAst(d,c){const v=c.currentAnimateTimings;let L=c.currentTime,ie=c.currentTime;v&&ie>0&&(ie-=v.duration+v.delay),d.styles.forEach(Se=>{"string"!=typeof Se&&Se.forEach((Oe,bt)=>{const Ot=c.collectedStyles.get(c.currentQuerySelector),fn=Ot.get(bt);let mn=!0;fn&&(ie!=L&&ie>=fn.startTime&&L<=fn.endTime&&(c.errors.push(function tt(w,d,c,v,L){return new u.vHH(3010,!1)}()),mn=!1),ie=fn.startTime),mn&&Ot.set(bt,{startTime:ie,endTime:L}),c.options&&function a(w,d,c){const v=d.params||{},L=T(w);L.length&&L.forEach(ie=>{v.hasOwnProperty(ie)||c.push(function Kt(w){return new u.vHH(3001,!1)}())})}(Oe,c.options,c.errors)})})}visitKeyframes(d,c){const v={type:$t.mo.Keyframes,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function qe(){return new u.vHH(3011,!1)}()),v;let ie=0;const Se=[];let Oe=!1,bt=!1,Ot=0;const fn=d.steps.map(J=>{const de=this._makeStyleAst(J,c);let me=null!=de.offset?de.offset:function Gi(w){if("string"==typeof w)return null;let d=null;if(Array.isArray(w))w.forEach(c=>{if(c instanceof Map&&c.has("offset")){const v=c;d=parseFloat(v.get("offset")),v.delete("offset")}});else if(w instanceof Map&&w.has("offset")){const c=w;d=parseFloat(c.get("offset")),c.delete("offset")}return d}(de.styles),Ue=0;return null!=me&&(ie++,Ue=de.offset=me),bt=bt||Ue<0||Ue>1,Oe=Oe||Ue<Ot,Ot=Ue,Se.push(Ue),de});bt&&c.errors.push(function Et(){return new u.vHH(3012,!1)}()),Oe&&c.errors.push(function Qe(){return new u.vHH(3200,!1)}());const mn=d.steps.length;let Zn=0;ie>0&&ie<mn?c.errors.push(function Ct(){return new u.vHH(3202,!1)}()):0==ie&&(Zn=1/(mn-1));const s=mn-1,p=c.currentTime,O=c.currentAnimateTimings,I=O.duration;return fn.forEach((J,de)=>{const me=Zn>0?de==s?1:Zn*de:Se[de],Ue=me*I;c.currentTime=p+O.delay+Ue,O.duration=Ue,this._validateStyleAst(J,c),J.offset=me,v.styles.push(J)}),v}visitReference(d,c){return{type:$t.mo.Reference,animation:Ee(this,r(d.animation),c),options:Ar(d.options)}}visitAnimateChild(d,c){return c.depCount++,{type:$t.mo.AnimateChild,options:Ar(d.options)}}visitAnimateRef(d,c){return{type:$t.mo.AnimateRef,animation:this.visitReference(d.animation,c),options:Ar(d.options)}}visitQuery(d,c){const v=c.currentQuerySelector,L=d.options||{};c.queryCount++,c.currentQuery=d;const[ie,Se]=function Ji(w){const d=!!w.split(/\s*,\s*/).find(c=>":self"==c);return d&&(w=w.replace(Ln,"")),w=w.replace(/@\*/g,nr).replace(/@\w+/g,c=>nr+"-"+c.slice(1)).replace(/:animating/g,zr),[w,d]}(d.selector);c.currentQuerySelector=v.length?v+" "+ie:ie,Ut(c.collectedStyles,c.currentQuerySelector,new Map);const Oe=Ee(this,r(d.animation),c);return c.currentQuery=null,c.currentQuerySelector=v,{type:$t.mo.Query,selector:ie,limit:L.limit||0,optional:!!L.optional,includeSelf:Se,animation:Oe,originalSelector:d.selector,options:Ar(d.options)}}visitStagger(d,c){c.currentQuery||c.errors.push(function Yt(){return new u.vHH(3013,!1)}());const v="full"===d.timings?{duration:0,delay:0,easing:"full"}:Xr(d.timings,c.errors,!0);return{type:$t.mo.Stagger,animation:Ee(this,r(d.animation),c),timings:v,options:null}}}class bi{constructor(d){this.errors=d,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ar(w){return w?(w={...w}).params&&(w.params=function qn(w){return w?{...w}:null}(w.params)):w={},w}function ir(w,d,c){return{duration:w,delay:d,easing:c}}function Mr(w,d,c,v,L,ie,Se=null,Oe=!1){return{type:1,element:w,keyframes:d,preStyleProps:c,postStyleProps:v,duration:L,delay:ie,totalTime:L+ie,easing:Se,subTimeline:Oe}}class cr{constructor(){this._map=new Map}get(d){return this._map.get(d)||[]}append(d,c){let v=this._map.get(d);v||this._map.set(d,v=[]),v.push(...c)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const ur=new RegExp(":enter","g"),$r=new RegExp(":leave","g");function yr(w,d,c,v,L,ie=new Map,Se=new Map,Oe,bt,Ot=[]){return(new Yr).buildKeyframes(w,d,c,v,L,ie,Se,Oe,bt,Ot)}class Yr{buildKeyframes(d,c,v,L,ie,Se,Oe,bt,Ot,fn=[]){Ot=Ot||new cr;const mn=new br(d,c,Ot,L,ie,fn,[]);mn.options=bt;const Zn=bt.delay?zi(bt.delay):0;mn.currentTimeline.delayNextStep(Zn),mn.currentTimeline.setStyles([Se],null,mn.errors,bt),Ee(this,v,mn);const s=mn.timelines.filter(p=>p.containsAnimation());if(s.length&&Oe.size){let p;for(let O=s.length-1;O>=0;O--){const I=s[O];if(I.element===c){p=I;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([Oe],null,mn.errors,bt)}return s.length?s.map(p=>p.buildKeyframes()):[Mr(c,[],[],[],0,Zn,"",!1)]}visitTrigger(d,c){}visitState(d,c){}visitTransition(d,c){}visitAnimateChild(d,c){const v=c.subInstructions.get(c.element);if(v){const L=c.createSubContext(d.options),ie=c.currentTimeline.currentTime,Se=this._visitSubInstructions(v,L,L.options);ie!=Se&&c.transformIntoNewTimeline(Se)}c.previousNode=d}visitAnimateRef(d,c){const v=c.createSubContext(d.options);v.transformIntoNewTimeline(),this._applyAnimationRefDelays([d.options,d.animation.options],c,v),this.visitReference(d.animation,v),c.transformIntoNewTimeline(v.currentTimeline.currentTime),c.previousNode=d}_applyAnimationRefDelays(d,c,v){for(const L of d){const ie=L?.delay;if(ie){const Se="number"==typeof ie?ie:zi(k(ie,L?.params??{},c.errors));v.delayNextStep(Se)}}}_visitSubInstructions(d,c,v){let ie=c.currentTimeline.currentTime;const Se=null!=v.duration?zi(v.duration):null,Oe=null!=v.delay?zi(v.delay):null;return 0!==Se&&d.forEach(bt=>{const Ot=c.appendInstructionToTimeline(bt,Se,Oe);ie=Math.max(ie,Ot.duration+Ot.delay)}),ie}visitReference(d,c){c.updateOptions(d.options,!0),Ee(this,d.animation,c),c.previousNode=d}visitSequence(d,c){const v=c.subContextCount;let L=c;const ie=d.options;if(ie&&(ie.params||ie.delay)&&(L=c.createSubContext(ie),L.transformIntoNewTimeline(),null!=ie.delay)){L.previousNode.type==$t.mo.Style&&(L.currentTimeline.snapshotCurrentStyles(),L.previousNode=Ur);const Se=zi(ie.delay);L.delayNextStep(Se)}d.steps.length&&(d.steps.forEach(Se=>Ee(this,Se,L)),L.currentTimeline.applyStylesToKeyframe(),L.subContextCount>v&&L.transformIntoNewTimeline()),c.previousNode=d}visitGroup(d,c){const v=[];let L=c.currentTimeline.currentTime;const ie=d.options&&d.options.delay?zi(d.options.delay):0;d.steps.forEach(Se=>{const Oe=c.createSubContext(d.options);ie&&Oe.delayNextStep(ie),Ee(this,Se,Oe),L=Math.max(L,Oe.currentTimeline.currentTime),v.push(Oe.currentTimeline)}),v.forEach(Se=>c.currentTimeline.mergeTimelineCollectedStyles(Se)),c.transformIntoNewTimeline(L),c.previousNode=d}_visitTiming(d,c){if(d.dynamic){const v=d.strValue;return Xr(c.params?k(v,c.params,c.errors):v,c.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,c){const v=c.currentAnimateTimings=this._visitTiming(d.timings,c),L=c.currentTimeline;v.delay&&(c.incrementTime(v.delay),L.snapshotCurrentStyles());const ie=d.style;ie.type==$t.mo.Keyframes?this.visitKeyframes(ie,c):(c.incrementTime(v.duration),this.visitStyle(ie,c),L.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=d}visitStyle(d,c){const v=c.currentTimeline,L=c.currentAnimateTimings;!L&&v.hasCurrentStyleProperties()&&v.forwardFrame();const ie=L&&L.easing||d.easing;d.isEmptyStep?v.applyEmptyStep(ie):v.setStyles(d.styles,ie,c.errors,c.options),c.previousNode=d}visitKeyframes(d,c){const v=c.currentAnimateTimings,L=c.currentTimeline.duration,ie=v.duration,Oe=c.createSubContext().currentTimeline;Oe.easing=v.easing,d.styles.forEach(bt=>{Oe.forwardTime((bt.offset||0)*ie),Oe.setStyles(bt.styles,bt.easing,c.errors,c.options),Oe.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(Oe),c.transformIntoNewTimeline(L+ie),c.previousNode=d}visitQuery(d,c){const v=c.currentTimeline.currentTime,L=d.options||{},ie=L.delay?zi(L.delay):0;ie&&(c.previousNode.type===$t.mo.Style||0==v&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Ur);let Se=v;const Oe=c.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!L.optional,c.errors);c.currentQueryTotal=Oe.length;let bt=null;Oe.forEach((Ot,fn)=>{c.currentQueryIndex=fn;const mn=c.createSubContext(d.options,Ot);ie&&mn.delayNextStep(ie),Ot===c.element&&(bt=mn.currentTimeline),Ee(this,d.animation,mn),mn.currentTimeline.applyStylesToKeyframe(),Se=Math.max(Se,mn.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(Se),bt&&(c.currentTimeline.mergeTimelineCollectedStyles(bt),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=d}visitStagger(d,c){const v=c.parentContext,L=c.currentTimeline,ie=d.timings,Se=Math.abs(ie.duration),Oe=Se*(c.currentQueryTotal-1);let bt=Se*c.currentQueryIndex;switch(ie.duration<0?"reverse":ie.easing){case"reverse":bt=Oe-bt;break;case"full":bt=v.currentStaggerTime}const fn=c.currentTimeline;bt&&fn.delayNextStep(bt);const mn=fn.currentTime;Ee(this,d.animation,c),c.previousNode=d,v.currentStaggerTime=L.currentTime-mn+(L.startTime-v.currentTimeline.startTime)}}const Ur={};class br{constructor(d,c,v,L,ie,Se,Oe,bt){this._driver=d,this.element=c,this.subInstructions=v,this._enterClassName=L,this._leaveClassName=ie,this.errors=Se,this.timelines=Oe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ur,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=bt||new Or(this._driver,c,0),Oe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,c){if(!d)return;const v=d;let L=this.options;null!=v.duration&&(L.duration=zi(v.duration)),null!=v.delay&&(L.delay=zi(v.delay));const ie=v.params;if(ie){let Se=L.params;Se||(Se=this.options.params={}),Object.keys(ie).forEach(Oe=>{(!c||!Se.hasOwnProperty(Oe))&&(Se[Oe]=k(ie[Oe],Se,this.errors))})}}_copyOptions(){const d={};if(this.options){const c=this.options.params;if(c){const v=d.params={};Object.keys(c).forEach(L=>{v[L]=c[L]})}}return d}createSubContext(d=null,c,v){const L=c||this.element,ie=new br(this._driver,L,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(L,v||0));return ie.previousNode=this.previousNode,ie.currentAnimateTimings=this.currentAnimateTimings,ie.options=this._copyOptions(),ie.updateOptions(d),ie.currentQueryIndex=this.currentQueryIndex,ie.currentQueryTotal=this.currentQueryTotal,ie.parentContext=this,this.subContextCount++,ie}transformIntoNewTimeline(d){return this.previousNode=Ur,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,c,v){const L={duration:c??d.duration,delay:this.currentTimeline.currentTime+(v??0)+d.delay,easing:""},ie=new dr(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,L,d.stretchStartingKeyframe);return this.timelines.push(ie),L}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,c,v,L,ie,Se){let Oe=[];if(L&&Oe.push(this.element),d.length>0){d=(d=d.replace(ur,"."+this._enterClassName)).replace($r,"."+this._leaveClassName);let Ot=this._driver.query(this.element,d,1!=v);0!==v&&(Ot=v<0?Ot.slice(Ot.length+v,Ot.length):Ot.slice(0,v)),Oe.push(...Ot)}return!ie&&0==Oe.length&&Se.push(function ln(w){return new u.vHH(3014,!1)}()),Oe}}class Or{constructor(d,c,v,L){this._driver=d,this.element=c,this.startTime=v,this._elementTimelineStylesLookup=L,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+d),c&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,c){return this.applyStylesToKeyframe(),new Or(this._driver,d,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,c){this._localTimelineStyles.set(d,c),this._globalTimelineStyles.set(d,c),this._styleSummary.set(d,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&this._previousKeyframe.set("easing",d);for(let[c,v]of this._globalTimelineStyles)this._backFill.set(c,v||$t.l3),this._currentKeyframe.set(c,$t.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,c,v,L){c&&this._previousKeyframe.set("easing",c);const ie=L&&L.params||{},Se=function Bi(w,d){const c=new Map;let v;return w.forEach(L=>{if("*"===L){v??=d.keys();for(let ie of v)c.set(ie,$t.l3)}else for(let[ie,Se]of L)c.set(ie,Se)}),c}(d,this._globalTimelineStyles);for(let[Oe,bt]of Se){const Ot=k(bt,ie,v);this._pendingStyles.set(Oe,Ot),this._localTimelineStyles.has(Oe)||this._backFill.set(Oe,this._globalTimelineStyles.get(Oe)??$t.l3),this._updateStyle(Oe,Ot)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((d,c)=>{this._currentKeyframe.set(c,d)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((d,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,d)}))}snapshotCurrentStyles(){for(let[d,c]of this._localTimelineStyles)this._pendingStyles.set(d,c),this._updateStyle(d,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let c in this._currentKeyframe)d.push(c);return d}mergeTimelineCollectedStyles(d){d._styleSummary.forEach((c,v)=>{const L=this._styleSummary.get(v);(!L||c.time>L.time)&&this._updateStyle(v,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,c=new Set,v=1===this._keyframes.size&&0===this.duration;let L=[];this._keyframes.forEach((Oe,bt)=>{const Ot=new Map([...this._backFill,...Oe]);Ot.forEach((fn,mn)=>{fn===$t.k1?d.add(mn):fn===$t.l3&&c.add(mn)}),v||Ot.set("offset",bt/this.duration),L.push(Ot)});const ie=[...d.values()],Se=[...c.values()];if(v){const Oe=L[0],bt=new Map(Oe);Oe.set("offset",0),bt.set("offset",1),L=[Oe,bt]}return Mr(this.element,L,ie,Se,this.duration,this.startTime,this.easing,!1)}}class dr extends Or{constructor(d,c,v,L,ie,Se,Oe=!1){super(d,c,Se.delay),this.keyframes=v,this.preStyleProps=L,this.postStyleProps=ie,this._stretchStartingKeyframe=Oe,this.timings={duration:Se.duration,delay:Se.delay,easing:Se.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:c,duration:v,easing:L}=this.timings;if(this._stretchStartingKeyframe&&c){const ie=[],Se=v+c,Oe=c/Se,bt=new Map(d[0]);bt.set("offset",0),ie.push(bt);const Ot=new Map(d[0]);Ot.set("offset",Li(Oe)),ie.push(Ot);const fn=d.length-1;for(let mn=1;mn<=fn;mn++){let Zn=new Map(d[mn]);const s=Zn.get("offset");Zn.set("offset",Li((c+s*v)/Se)),ie.push(Zn)}v=Se,c=0,L="",d=ie}return Mr(this.element,d,this.preStyleProps,this.postStyleProps,v,c,L,!0)}}function Li(w,d=3){const c=Math.pow(10,d-1);return Math.round(w*c)/c}function Ti(w,d,c,v,L,ie,Se,Oe,bt,Ot,fn,mn,Zn){return{type:0,element:w,triggerName:d,isRemovalTransition:L,fromState:c,fromStyles:ie,toState:v,toStyles:Se,timelines:Oe,queriedElements:bt,preStyleProps:Ot,postStyleProps:fn,totalTime:mn,errors:Zn}}const Er={};class Gr{constructor(d,c,v){this._triggerName=d,this.ast=c,this._stateStyles=v}match(d,c,v,L){return function Os(w,d,c,v,L){return w.some(ie=>ie(d,c,v,L))}(this.ast.matchers,d,c,v,L)}buildStyles(d,c,v){let L=this._stateStyles.get("*");return void 0!==d&&(L=this._stateStyles.get(d?.toString())||L),L?L.buildStyles(c,v):new Map}build(d,c,v,L,ie,Se,Oe,bt,Ot,fn){const mn=[],Zn=this.ast.options&&this.ast.options.params||Er,p=this.buildStyles(v,Oe&&Oe.params||Er,mn),O=bt&&bt.params||Er,I=this.buildStyles(L,O,mn),J=new Set,de=new Map,me=new Map,Ue="void"===L,Ze={params:wr(O,Zn),delay:this.ast.options?.delay},rt=fn?[]:yr(d,c,this.ast.animation,ie,Se,p,I,Ze,Ot,mn);let gt=0;return rt.forEach(Ft=>{gt=Math.max(Ft.duration+Ft.delay,gt)}),mn.length?Ti(c,this._triggerName,v,L,Ue,p,I,[],[],de,me,gt,mn):(rt.forEach(Ft=>{const xt=Ft.element,Xt=Ut(de,xt,new Set);Ft.preStyleProps.forEach(gi=>Xt.add(gi));const Wn=Ut(me,xt,new Set);Ft.postStyleProps.forEach(gi=>Wn.add(gi)),xt!==c&&J.add(xt)}),Ti(c,this._triggerName,v,L,Ue,p,I,rt,[...J.values()],de,me,gt))}}function wr(w,d){const c={...d};return Object.entries(w).forEach(([v,L])=>{null!=L&&(c[v]=L)}),c}class Hr{constructor(d,c,v){this.styles=d,this.defaultParams=c,this.normalizer=v}buildStyles(d,c){const v=new Map,L=wr(d,this.defaultParams);return this.styles.styles.forEach(ie=>{"string"!=typeof ie&&ie.forEach((Se,Oe)=>{Se&&(Se=k(Se,L,c));const bt=this.normalizer.normalizePropertyName(Oe,c);Se=this.normalizer.normalizeStyleValue(Oe,bt,Se,c),v.set(Oe,Se)})}),v}}class ro{constructor(d,c,v){this.name=d,this.ast=c,this._normalizer=v,this.transitionFactories=[],this.states=new Map,c.states.forEach(L=>{this.states.set(L.name,new Hr(L.style,L.options&&L.options.params||{},v))}),wo(this.states,"true","1"),wo(this.states,"false","0"),c.transitions.forEach(L=>{this.transitionFactories.push(new Gr(d,L,this.states))}),this.fallbackTransition=function es(w,d,c){return new Gr(w,{type:$t.mo.Transition,animation:{type:$t.mo.Sequence,steps:[],options:null},matchers:[(Se,Oe)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,c,v,L){return this.transitionFactories.find(Se=>Se.match(d,c,v,L))||null}matchStyles(d,c,v){return this.fallbackTransition.buildStyles(d,c,v)}}function wo(w,d,c){w.has(d)?w.has(c)||w.set(c,w.get(d)):w.has(c)&&w.set(d,w.get(c))}const So=new cr;class Go{constructor(d,c,v){this.bodyNode=d,this._driver=c,this._normalizer=v,this._animations=new Map,this._playersById=new Map,this.players=[]}register(d,c){const v=[],ie=Vn(this._driver,c,v,[]);if(v.length)throw function vi(w){return new u.vHH(3503,!1)}();this._animations.set(d,ie)}_buildPlayer(d,c,v){const L=d.element,ie=et(this._normalizer,d.keyframes,c,v);return this._driver.animate(L,ie,d.duration,d.delay,d.easing,[],!0)}create(d,c,v={}){const L=[],ie=this._animations.get(d);let Se;const Oe=new Map;if(ie?(Se=yr(this._driver,c,ie,sr,Oi,new Map,new Map,v,So,L),Se.forEach(fn=>{const mn=Ut(Oe,fn.element,new Map);fn.postStyleProps.forEach(Zn=>mn.set(Zn,null))})):(L.push(function ri(){return new u.vHH(3300,!1)}()),Se=[]),L.length)throw function ce(w){return new u.vHH(3504,!1)}();Oe.forEach((fn,mn)=>{fn.forEach((Zn,s)=>{fn.set(s,this._driver.computeStyle(mn,s,$t.l3))})});const Ot=pe(Se.map(fn=>{const mn=Oe.get(fn.element);return this._buildPlayer(fn,new Map,mn)}));return this._playersById.set(d,Ot),Ot.onDestroy(()=>this.destroy(d)),this.players.push(Ot),Ot}destroy(d){const c=this._getPlayer(d);c.destroy(),this._playersById.delete(d);const v=this.players.indexOf(c);v>=0&&this.players.splice(v,1)}_getPlayer(d){const c=this._playersById.get(d);if(!c)throw function Mi(w){return new u.vHH(3301,!1)}();return c}listen(d,c,v,L){const ie=lt(c,"","","");return ct(this._getPlayer(d),v,ie,L),()=>{}}command(d,c,v,L){if("register"==v)return void this.register(d,L[0]);if("create"==v)return void this.create(d,c,L[0]||{});const ie=this._getPlayer(d);switch(v){case"play":ie.play();break;case"pause":ie.pause();break;case"reset":ie.reset();break;case"restart":ie.restart();break;case"finish":ie.finish();break;case"init":ie.init();break;case"setPosition":ie.setPosition(parseFloat(L[0]));break;case"destroy":this.destroy(d)}}}const Co="ng-animate-queued",so="ng-animate-disabled",Jr=[],Bs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Us={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hr="__ng_removed";class ts{get params(){return this.options.params}constructor(d,c=""){this.namespaceId=c;const v=d&&d.hasOwnProperty("value");if(this.value=function ao(w){return w??null}(v?d.value:d),v){const{value:ie,...Se}=d;this.options=Se}else this.options={};this.options.params||(this.options.params={})}absorbOptions(d){const c=d.params;if(c){const v=this.options.params;Object.keys(c).forEach(L=>{null==v[L]&&(v[L]=c[L])})}}}const or="void",Pi=new ts(or);class Hs{constructor(d,c,v){this.id=d,this.hostElement=c,this._engine=v,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+d,fr(c,this._hostClassName)}listen(d,c,v,L){if(!this._triggers.has(c))throw function Ii(w,d){return new u.vHH(3302,!1)}();if(null==v||0==v.length)throw function qt(w){return new u.vHH(3303,!1)}();if(!function ds(w){return"start"==w||"done"==w}(v))throw function Tr(w,d){return new u.vHH(3400,!1)}();const ie=Ut(this._elementListeners,d,[]),Se={name:c,phase:v,callback:L};ie.push(Se);const Oe=Ut(this._engine.statesByElement,d,new Map);return Oe.has(c)||(fr(d,si),fr(d,si+"-"+c),Oe.set(c,Pi)),()=>{this._engine.afterFlush(()=>{const bt=ie.indexOf(Se);bt>=0&&ie.splice(bt,1),this._triggers.has(c)||Oe.delete(c)})}}register(d,c){return!this._triggers.has(d)&&(this._triggers.set(d,c),!0)}_getTrigger(d){const c=this._triggers.get(d);if(!c)throw function Xi(w){return new u.vHH(3401,!1)}();return c}trigger(d,c,v,L=!0){const ie=this._getTrigger(c),Se=new Es(this.id,c,d);let Oe=this._engine.statesByElement.get(d);Oe||(fr(d,si),fr(d,si+"-"+c),this._engine.statesByElement.set(d,Oe=new Map));let bt=Oe.get(c);const Ot=new ts(v,this.id);if(!(v&&v.hasOwnProperty("value"))&&bt&&Ot.absorbOptions(bt.options),Oe.set(c,Ot),bt||(bt=Pi),Ot.value!==or&&bt.value===Ot.value){if(!function W(w,d){const c=Object.keys(w),v=Object.keys(d);if(c.length!=v.length)return!1;for(let L=0;L<c.length;L++){const ie=c[L];if(!d.hasOwnProperty(ie)||w[ie]!==d[ie])return!1}return!0}(bt.params,Ot.params)){const O=[],I=ie.matchStyles(bt.value,bt.params,O),J=ie.matchStyles(Ot.value,Ot.params,O);O.length?this._engine.reportError(O):this._engine.afterFlush(()=>{i(d,I),St(d,J)})}return}const Zn=Ut(this._engine.playersByElement,d,[]);Zn.forEach(O=>{O.namespaceId==this.id&&O.triggerName==c&&O.queued&&O.destroy()});let s=ie.matchTransition(bt.value,Ot.value,d,Ot.params),p=!1;if(!s){if(!L)return;s=ie.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:c,transition:s,fromState:bt,toState:Ot,player:Se,isFallbackTransition:p}),p||(fr(d,Co),Se.onStart(()=>{jr(d,Co)})),Se.onDone(()=>{let O=this.players.indexOf(Se);O>=0&&this.players.splice(O,1);const I=this._engine.playersByElement.get(d);if(I){let J=I.indexOf(Se);J>=0&&I.splice(J,1)}}),this.players.push(Se),Zn.push(Se),Se}deregister(d){this._triggers.delete(d),this._engine.statesByElement.forEach(c=>c.delete(d)),this._elementListeners.forEach((c,v)=>{this._elementListeners.set(v,c.filter(L=>L.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const c=this._engine.playersByElement.get(d);c&&(c.forEach(v=>v.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,c){const v=this._engine.driver.query(d,nr,!0);v.forEach(L=>{if(L[hr])return;const ie=this._engine.fetchNamespacesByElement(L);ie.size?ie.forEach(Se=>Se.triggerLeaveAnimation(L,c,!1,!0)):this.clearElementCache(L)}),this._engine.afterFlushAnimationsDone(()=>v.forEach(L=>this.clearElementCache(L)))}triggerLeaveAnimation(d,c,v,L){const ie=this._engine.statesByElement.get(d),Se=new Map;if(ie){const Oe=[];if(ie.forEach((bt,Ot)=>{if(Se.set(Ot,bt.value),this._triggers.has(Ot)){const fn=this.trigger(d,Ot,or,L);fn&&Oe.push(fn)}}),Oe.length)return this._engine.markElementAsRemoved(this.id,d,!0,c,Se),v&&pe(Oe).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const c=this._elementListeners.get(d),v=this._engine.statesByElement.get(d);if(c&&v){const L=new Set;c.forEach(ie=>{const Se=ie.name;if(L.has(Se))return;L.add(Se);const bt=this._triggers.get(Se).fallbackTransition,Ot=v.get(Se)||Pi,fn=new ts(or),mn=new Es(this.id,Se,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:Se,transition:bt,fromState:Ot,toState:fn,player:mn,isFallbackTransition:!0})})}}removeNode(d,c){const v=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,c),this.triggerLeaveAnimation(d,c,!0))return;let L=!1;if(v.totalAnimations){const ie=v.players.length?v.playersByQueriedElement.get(d):[];if(ie&&ie.length)L=!0;else{let Se=d;for(;Se=Se.parentNode;)if(v.statesByElement.get(Se)){L=!0;break}}}if(this.prepareLeaveAnimationListeners(d),L)v.markElementAsRemoved(this.id,d,!1,c);else{const ie=d[hr];(!ie||ie===Bs)&&(v.afterFlush(()=>this.clearElementCache(d)),v.destroyInnerAnimations(d),v._onRemovalComplete(d,c))}}insertNode(d,c){fr(d,this._hostClassName)}drainQueuedTransitions(d){const c=[];return this._queue.forEach(v=>{const L=v.player;if(L.destroyed)return;const ie=v.element,Se=this._elementListeners.get(ie);Se&&Se.forEach(Oe=>{if(Oe.name==v.triggerName){const bt=lt(ie,v.triggerName,v.fromState.value,v.toState.value);bt._data=d,ct(v.player,Oe.phase,bt,Oe.callback)}}),L.markedForDestroy?this._engine.afterFlush(()=>{L.destroy()}):c.push(v)}),this._queue=[],c.sort((v,L)=>{const ie=v.transition.ast.depCount,Se=L.transition.ast.depCount;return 0==ie||0==Se?ie-Se:this._engine.driver.containsElement(v.element,L.element)?1:-1})}destroy(d){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}}class us{_onRemovalComplete(d,c){this.onRemovalComplete(d,c)}constructor(d,c,v){this.bodyNode=d,this.driver=c,this._normalizer=v,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(L,ie)=>{}}get queuedPlayers(){const d=[];return this._namespaceList.forEach(c=>{c.players.forEach(v=>{v.queued&&d.push(v)})}),d}createNamespace(d,c){const v=new Hs(d,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(v,c):(this.newHostElements.set(c,v),this.collectEnterElement(c)),this._namespaceLookup[d]=v}_balanceNamespaceList(d,c){const v=this._namespaceList,L=this.namespacesByHostElement;if(v.length-1>=0){let Se=!1,Oe=this.driver.getParentElement(c);for(;Oe;){const bt=L.get(Oe);if(bt){const Ot=v.indexOf(bt);v.splice(Ot+1,0,d),Se=!0;break}Oe=this.driver.getParentElement(Oe)}Se||v.unshift(d)}else v.push(d);return L.set(c,d),d}register(d,c){let v=this._namespaceLookup[d];return v||(v=this.createNamespace(d,c)),v}registerTrigger(d,c,v){let L=this._namespaceLookup[d];L&&L.register(c,v)&&this.totalAnimations++}destroy(d,c){d&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const v=this._fetchNamespace(d);this.namespacesByHostElement.delete(v.hostElement);const L=this._namespaceList.indexOf(v);L>=0&&this._namespaceList.splice(L,1),v.destroy(c),delete this._namespaceLookup[d]}))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const c=new Set,v=this.statesByElement.get(d);if(v)for(let L of v.values())if(L.namespaceId){const ie=this._fetchNamespace(L.namespaceId);ie&&c.add(ie)}return c}trigger(d,c,v,L){if(ns(c)){const ie=this._fetchNamespace(d);if(ie)return ie.trigger(c,v,L),!0}return!1}insertNode(d,c,v,L){if(!ns(c))return;const ie=c[hr];if(ie&&ie.setForRemoval){ie.setForRemoval=!1,ie.setForMove=!0;const Se=this.collectedLeaveElements.indexOf(c);Se>=0&&this.collectedLeaveElements.splice(Se,1)}if(d){const Se=this._fetchNamespace(d);Se&&Se.insertNode(c,v)}L&&this.collectEnterElement(c)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,c){c?this.disabledNodes.has(d)||(this.disabledNodes.add(d),fr(d,so)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),jr(d,so))}removeNode(d,c,v){if(ns(c)){const L=d?this._fetchNamespace(d):null;L?L.removeNode(c,v):this.markElementAsRemoved(d,c,!1,v);const ie=this.namespacesByHostElement.get(c);ie&&ie.id!==d&&ie.removeNode(c,v)}else this._onRemovalComplete(c,v)}markElementAsRemoved(d,c,v,L,ie){this.collectedLeaveElements.push(c),c[hr]={namespaceId:d,setForRemoval:L,hasAnimation:v,removedBeforeQueried:!1,previousTriggersValues:ie}}listen(d,c,v,L,ie){return ns(c)?this._fetchNamespace(d).listen(c,v,L,ie):()=>{}}_buildInstruction(d,c,v,L,ie){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,v,L,d.fromState.options,d.toState.options,c,ie)}destroyInnerAnimations(d){let c=this.driver.query(d,nr,!0);c.forEach(v=>this.destroyActiveAnimationsForElement(v)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(d,zr,!0),c.forEach(v=>this.finishActiveQueriedAnimationOnElement(v)))}destroyActiveAnimationsForElement(d){const c=this.playersByElement.get(d);c&&c.forEach(v=>{v.queued?v.markedForDestroy=!0:v.destroy()})}finishActiveQueriedAnimationOnElement(d){const c=this.playersByQueriedElement.get(d);c&&c.forEach(v=>v.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return pe(this.players).onDone(()=>d());d()})}processLeaveNode(d){const c=d[hr];if(c&&c.setForRemoval){if(d[hr]=Bs,c.namespaceId){this.destroyInnerAnimations(d);const v=this._fetchNamespace(c.namespaceId);v&&v.clearElementCache(d)}this._onRemovalComplete(d,c.setForRemoval)}d.classList?.contains(so)&&this.markElementAsDisabled(d,!1),this.driver.query(d,".ng-animate-disabled",!0).forEach(v=>{this.markElementAsDisabled(v,!1)})}flush(d=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((v,L)=>this._balanceNamespaceList(v,L)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let v=0;v<this.collectedEnterElements.length;v++)fr(this.collectedEnterElements[v],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const v=[];try{c=this._flushAnimations(v,d)}finally{for(let L=0;L<v.length;L++)v[L]()}}else for(let v=0;v<this.collectedLeaveElements.length;v++)this.processLeaveNode(this.collectedLeaveElements[v]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(v=>v()),this._flushFns=[],this._whenQuietFns.length){const v=this._whenQuietFns;this._whenQuietFns=[],c.length?pe(c).onDone(()=>{v.forEach(L=>L())}):v.forEach(L=>L())}}reportError(d){throw function er(w){return new u.vHH(3402,!1)}()}_flushAnimations(d,c){const v=new cr,L=[],ie=new Map,Se=[],Oe=new Map,bt=new Map,Ot=new Map,fn=new Set;this.disabledNodes.forEach(Lt=>{fn.add(Lt);const rn=this.driver.query(Lt,".ng-animate-queued",!0);for(let tn=0;tn<rn.length;tn++)fn.add(rn[tn])});const mn=this.bodyNode,Zn=Array.from(this.statesByElement.keys()),s=co(Zn,this.collectedEnterElements),p=new Map;let O=0;s.forEach((Lt,rn)=>{const tn=sr+O++;p.set(rn,tn),Lt.forEach(On=>fr(On,tn))});const I=[],J=new Set,de=new Set;for(let Lt=0;Lt<this.collectedLeaveElements.length;Lt++){const rn=this.collectedLeaveElements[Lt],tn=rn[hr];tn&&tn.setForRemoval&&(I.push(rn),J.add(rn),tn.hasAnimation?this.driver.query(rn,".ng-star-inserted",!0).forEach(On=>J.add(On)):de.add(rn))}const me=new Map,Ue=co(Zn,Array.from(J));Ue.forEach((Lt,rn)=>{const tn=Oi+O++;me.set(rn,tn),Lt.forEach(On=>fr(On,tn))}),d.push(()=>{s.forEach((Lt,rn)=>{const tn=p.get(rn);Lt.forEach(On=>jr(On,tn))}),Ue.forEach((Lt,rn)=>{const tn=me.get(rn);Lt.forEach(On=>jr(On,tn))}),I.forEach(Lt=>{this.processLeaveNode(Lt)})});const Ze=[],rt=[];for(let Lt=this._namespaceList.length-1;Lt>=0;Lt--)this._namespaceList[Lt].drainQueuedTransitions(c).forEach(tn=>{const On=tn.player,ni=tn.element;if(Ze.push(On),this.collectedEnterElements.length){const mt=ni[hr];if(mt&&mt.setForMove){if(mt.previousTriggersValues&&mt.previousTriggersValues.has(tn.triggerName)){const Tn=mt.previousTriggersValues.get(tn.triggerName),zt=this.statesByElement.get(tn.element);if(zt&&zt.has(tn.triggerName)){const bn=zt.get(tn.triggerName);bn.value=Tn,zt.set(tn.triggerName,bn)}}return void On.destroy()}}const mi=!mn||!this.driver.containsElement(mn,ni),Ai=me.get(ni),ai=p.get(ni),_n=this._buildInstruction(tn,v,ai,Ai,mi);if(_n.errors&&_n.errors.length)return void rt.push(_n);if(mi)return On.onStart(()=>i(ni,_n.fromStyles)),On.onDestroy(()=>St(ni,_n.toStyles)),void L.push(On);if(tn.isFallbackTransition)return On.onStart(()=>i(ni,_n.fromStyles)),On.onDestroy(()=>St(ni,_n.toStyles)),void L.push(On);const Ui=[];_n.timelines.forEach(mt=>{mt.stretchStartingKeyframe=!0,this.disabledNodes.has(mt.element)||Ui.push(mt)}),_n.timelines=Ui,v.append(ni,_n.timelines),Se.push({instruction:_n,player:On,element:ni}),_n.queriedElements.forEach(mt=>Ut(Oe,mt,[]).push(On)),_n.preStyleProps.forEach((mt,Tn)=>{if(mt.size){let zt=bt.get(Tn);zt||bt.set(Tn,zt=new Set),mt.forEach((bn,Un)=>zt.add(Un))}}),_n.postStyleProps.forEach((mt,Tn)=>{let zt=Ot.get(Tn);zt||Ot.set(Tn,zt=new Set),mt.forEach((bn,Un)=>zt.add(Un))})});if(rt.length){const Lt=[];rt.forEach(rn=>{Lt.push(function It(w,d){return new u.vHH(3505,!1)}())}),Ze.forEach(rn=>rn.destroy()),this.reportError(Lt)}const gt=new Map,Ft=new Map;Se.forEach(Lt=>{const rn=Lt.element;v.has(rn)&&(Ft.set(rn,rn),this._beforeAnimationBuild(Lt.player.namespaceId,Lt.instruction,gt))}),L.forEach(Lt=>{const rn=Lt.element;this._getPreviousPlayers(rn,!1,Lt.namespaceId,Lt.triggerName,null).forEach(On=>{Ut(gt,rn,[]).push(On),On.destroy()})});const xt=I.filter(Lt=>P(Lt,bt,Ot)),Xt=new Map;lo(Xt,this.driver,de,Ot,$t.l3).forEach(Lt=>{P(Lt,bt,Ot)&&xt.push(Lt)});const gi=new Map;s.forEach((Lt,rn)=>{lo(gi,this.driver,new Set(Lt),bt,$t.k1)}),xt.forEach(Lt=>{const rn=Xt.get(Lt),tn=gi.get(Lt);Xt.set(Lt,new Map([...rn?.entries()??[],...tn?.entries()??[]]))});const nn=[],en=[],In={};Se.forEach(Lt=>{const{element:rn,player:tn,instruction:On}=Lt;if(v.has(rn)){if(fn.has(rn))return tn.onDestroy(()=>St(rn,On.toStyles)),tn.disabled=!0,tn.overrideTotalTime(On.totalTime),void L.push(tn);let ni=In;if(Ft.size>1){let Ai=rn;const ai=[];for(;Ai=Ai.parentNode;){const _n=Ft.get(Ai);if(_n){ni=_n;break}ai.push(Ai)}ai.forEach(_n=>Ft.set(_n,ni))}const mi=this._buildAnimation(tn.namespaceId,On,gt,ie,gi,Xt);if(tn.setRealPlayer(mi),ni===In)nn.push(tn);else{const Ai=this.playersByElement.get(ni);Ai&&Ai.length&&(tn.parentPlayer=pe(Ai)),L.push(tn)}}else i(rn,On.fromStyles),tn.onDestroy(()=>St(rn,On.toStyles)),en.push(tn),fn.has(rn)&&L.push(tn)}),en.forEach(Lt=>{const rn=ie.get(Lt.element);if(rn&&rn.length){const tn=pe(rn);Lt.setRealPlayer(tn)}}),L.forEach(Lt=>{Lt.parentPlayer?Lt.syncPlayerEvents(Lt.parentPlayer):Lt.destroy()});for(let Lt=0;Lt<I.length;Lt++){const rn=I[Lt],tn=rn[hr];if(jr(rn,Oi),tn&&tn.hasAnimation)continue;let On=[];if(Oe.size){let mi=Oe.get(rn);mi&&mi.length&&On.push(...mi);let Ai=this.driver.query(rn,zr,!0);for(let ai=0;ai<Ai.length;ai++){let _n=Oe.get(Ai[ai]);_n&&_n.length&&On.push(..._n)}}const ni=On.filter(mi=>!mi.destroyed);ni.length?uo(this,rn,ni):this.processLeaveNode(rn)}return I.length=0,nn.forEach(Lt=>{this.players.push(Lt),Lt.onDone(()=>{Lt.destroy();const rn=this.players.indexOf(Lt);this.players.splice(rn,1)}),Lt.play()}),nn}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,c,v,L,ie){let Se=[];if(c){const Oe=this.playersByQueriedElement.get(d);Oe&&(Se=Oe)}else{const Oe=this.playersByElement.get(d);if(Oe){const bt=!ie||ie==or;Oe.forEach(Ot=>{Ot.queued||!bt&&Ot.triggerName!=L||Se.push(Ot)})}}return(v||L)&&(Se=Se.filter(Oe=>!(v&&v!=Oe.namespaceId||L&&L!=Oe.triggerName))),Se}_beforeAnimationBuild(d,c,v){const ie=c.element,Se=c.isRemovalTransition?void 0:d,Oe=c.isRemovalTransition?void 0:c.triggerName;for(const bt of c.timelines){const Ot=bt.element,fn=Ot!==ie,mn=Ut(v,Ot,[]);this._getPreviousPlayers(Ot,fn,Se,Oe,c.toState).forEach(s=>{const p=s.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),s.destroy(),mn.push(s)})}i(ie,c.fromStyles)}_buildAnimation(d,c,v,L,ie,Se){const Oe=c.triggerName,bt=c.element,Ot=[],fn=new Set,mn=new Set,Zn=c.timelines.map(p=>{const O=p.element;fn.add(O);const I=O[hr];if(I&&I.removedBeforeQueried)return new $t.ZN(p.duration,p.delay);const J=O!==bt,de=function js(w){const d=[];return H(w,d),d}((v.get(O)||Jr).map(gt=>gt.getRealPlayer())).filter(gt=>!!gt.element&&gt.element===O),me=ie.get(O),Ue=Se.get(O),Ze=et(this._normalizer,p.keyframes,me,Ue),rt=this._buildPlayer(p,Ze,de);if(p.subTimeline&&L&&mn.add(O),J){const gt=new Es(d,Oe,O);gt.setRealPlayer(rt),Ot.push(gt)}return rt});Ot.forEach(p=>{Ut(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function oo(w,d,c){let v=w.get(d);if(v){if(v.length){const L=v.indexOf(c);v.splice(L,1)}0==v.length&&w.delete(d)}return v}(this.playersByQueriedElement,p.element,p))}),fn.forEach(p=>fr(p,Qr));const s=pe(Zn);return s.onDestroy(()=>{fn.forEach(p=>jr(p,Qr)),St(bt,c.toStyles)}),mn.forEach(p=>{Ut(L,p,[]).push(s)}),s}_buildPlayer(d,c,v){return c.length>0?this.driver.animate(d.element,c,d.duration,d.delay,d.easing,v):new $t.ZN(d.duration,d.delay)}}class Es{constructor(d,c,v){this.namespaceId=d,this.triggerName=c,this.element=v,this._player=new $t.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(d){this._containsRealPlayer||(this._player=d,this._queuedCallbacks.forEach((c,v)=>{c.forEach(L=>ct(d,v,void 0,L))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const c=this._player;c.triggerCallback&&d.onStart(()=>c.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,c){Ut(this._queuedCallbacks,d,[]).push(c)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const c=this._player;c.triggerCallback&&c.triggerCallback(d)}}function ns(w){return w&&1===w.nodeType}function hs(w,d){const c=w.style.display;return w.style.display=d??"none",c}function lo(w,d,c,v,L){const ie=[];c.forEach(bt=>ie.push(hs(bt)));const Se=[];v.forEach((bt,Ot)=>{const fn=new Map;bt.forEach(mn=>{const Zn=d.computeStyle(Ot,mn,L);fn.set(mn,Zn),(!Zn||0==Zn.length)&&(Ot[hr]=Us,Se.push(Ot))}),w.set(Ot,fn)});let Oe=0;return c.forEach(bt=>hs(bt,ie[Oe++])),Se}function co(w,d){const c=new Map;if(w.forEach(Oe=>c.set(Oe,[])),0==d.length)return c;const L=new Set(d),ie=new Map;function Se(Oe){if(!Oe)return 1;let bt=ie.get(Oe);if(bt)return bt;const Ot=Oe.parentNode;return bt=c.has(Ot)?Ot:L.has(Ot)?1:Se(Ot),ie.set(Oe,bt),bt}return d.forEach(Oe=>{const bt=Se(Oe);1!==bt&&c.get(bt).push(Oe)}),c}function fr(w,d){w.classList?.add(d)}function jr(w,d){w.classList?.remove(d)}function uo(w,d,c){pe(c).onDone(()=>w.processLeaveNode(d))}function H(w,d){for(let c=0;c<w.length;c++){const v=w[c];v instanceof $t.ZE?H(v.players,d):d.push(v)}}function P(w,d,c){const v=c.get(w);if(!v)return!1;let L=d.get(w);return L?v.forEach(ie=>L.add(ie)):d.set(w,v),c.delete(w),!0}class oe{constructor(d,c,v){this._driver=c,this._normalizer=v,this._triggerCache={},this.onRemovalComplete=(L,ie)=>{},this._transitionEngine=new us(d.body,c,v),this._timelineEngine=new Go(d.body,c,v),this._transitionEngine.onRemovalComplete=(L,ie)=>this.onRemovalComplete(L,ie)}registerTrigger(d,c,v,L,ie){const Se=d+"-"+L;let Oe=this._triggerCache[Se];if(!Oe){const bt=[],fn=Vn(this._driver,ie,bt,[]);if(bt.length)throw function jn(w,d){return new u.vHH(3404,!1)}();Oe=function ys(w,d,c){return new ro(w,d,c)}(L,fn,this._normalizer),this._triggerCache[Se]=Oe}this._transitionEngine.registerTrigger(c,L,Oe)}register(d,c){this._transitionEngine.register(d,c)}destroy(d,c){this._transitionEngine.destroy(d,c)}onInsert(d,c,v,L){this._transitionEngine.insertNode(d,c,v,L)}onRemove(d,c,v){this._transitionEngine.removeNode(d,c,v)}disableAnimations(d,c){this._transitionEngine.markElementAsDisabled(d,c)}process(d,c,v,L){if("@"==v.charAt(0)){const[ie,Se]=pn(v);this._timelineEngine.command(ie,c,Se,L)}else this._transitionEngine.trigger(d,c,v,L)}listen(d,c,v,L,ie){if("@"==v.charAt(0)){const[Se,Oe]=pn(v);return this._timelineEngine.listen(Se,c,Oe,ie)}return this._transitionEngine.listen(d,c,v,L,ie)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(d){this._transitionEngine.afterFlushAnimationsDone(d)}}let wn=(()=>{class w{static#e=this.initialStylesByElement=new WeakMap;constructor(c,v,L){this._element=c,this._startStyles=v,this._endStyles=L,this._state=0;let ie=w.initialStylesByElement.get(c);ie||w.initialStylesByElement.set(c,ie=new Map),this._initialStyles=ie}start(){this._state<1&&(this._startStyles&&St(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(St(this._element,this._initialStyles),this._endStyles&&(St(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(w.initialStylesByElement.delete(this._element),this._startStyles&&(i(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(i(this._element,this._endStyles),this._endStyles=null),St(this._element,this._initialStyles),this._state=3)}}return w})();function Bn(w){let d=null;return w.forEach((c,v)=>{(function Wi(w){return"display"===w||"position"===w})(v)&&(d=d||new Map,d.set(v,c))}),d}class pr{constructor(d,c,v,L){this.element=d,this.keyframes=c,this.options=v,this._specialStyles=L,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=v.duration,this._delay=v.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:new Map;const c=()=>this._onFinish();this.domPlayer.addEventListener("finish",c),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",c)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(d){const c=[];return d.forEach(v=>{c.push(Object.fromEntries(v))}),c}_triggerWebAnimation(d,c,v){return d.animate(this._convertKeyframesToObject(c),v)}onStart(d){this._originalOnStartFns.push(d),this._onStartFns.push(d)}onDone(d){this._originalOnDoneFns.push(d),this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d=new Map;this.hasStarted()&&this._finalKeyframe.forEach((v,L)=>{"offset"!==L&&d.set(L,this._finished?v:Pe(this.element,L))}),this.currentSnapshot=d}triggerCallback(d){const c="start"===d?this._onStartFns:this._onDoneFns;c.forEach(v=>v()),c.length=0}}class Fr{validateStyleProperty(d){return!0}validateAnimatableStyleProperty(d){return!0}matchesElement(d,c){return!1}containsElement(d,c){return Qt(d,c)}getParentElement(d){return Jt(d)}query(d,c,v){return Rn(d,c,v)}computeStyle(d,c,v){return Pe(d,c)}animate(d,c,v,L,ie,Se=[]){const bt={duration:v,delay:L,fill:0==L?"both":"forwards"};ie&&(bt.easing=ie);const Ot=new Map,fn=Se.filter(s=>s instanceof pr);(function we(w,d){return 0===w||0===d})(v,L)&&fn.forEach(s=>{s.currentSnapshot.forEach((p,O)=>Ot.set(O,p))});let mn=function Ye(w){return w.length?w[0]instanceof Map?w:w.map(d=>new Map(Object.entries(d))):[]}(c).map(s=>new Map(s));mn=function Ce(w,d,c){if(c.size&&d.length){let v=d[0],L=[];if(c.forEach((ie,Se)=>{v.has(Se)||L.push(Se),v.set(Se,ie)}),L.length)for(let ie=1;ie<d.length;ie++){let Se=d[ie];L.forEach(Oe=>Se.set(Oe,Pe(w,Oe)))}}return d}(d,mn,Ot);const Zn=function We(w,d){let c=null,v=null;return Array.isArray(d)&&d.length?(c=Bn(d[0]),d.length>1&&(v=Bn(d[d.length-1]))):d instanceof Map&&(c=Bn(d)),c||v?new wn(w,c,v):null}(d,mn);return new pr(d,mn,bt,Zn)}}const Xs="@.disabled";class fo{constructor(d,c,v,L){this.namespaceId=d,this.delegate=c,this.engine=v,this._onDestroy=L,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(d){this.delegate.destroyNode?.(d)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(d,c){return this.delegate.createElement(d,c)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,c){this.delegate.appendChild(d,c),this.engine.onInsert(this.namespaceId,c,d,!1)}insertBefore(d,c,v,L=!0){this.delegate.insertBefore(d,c,v),this.engine.onInsert(this.namespaceId,c,d,L)}removeChild(d,c,v){this.engine.onRemove(this.namespaceId,c,this.delegate)}selectRootElement(d,c){return this.delegate.selectRootElement(d,c)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,c,v,L){this.delegate.setAttribute(d,c,v,L)}removeAttribute(d,c,v){this.delegate.removeAttribute(d,c,v)}addClass(d,c){this.delegate.addClass(d,c)}removeClass(d,c){this.delegate.removeClass(d,c)}setStyle(d,c,v,L){this.delegate.setStyle(d,c,v,L)}removeStyle(d,c,v){this.delegate.removeStyle(d,c,v)}setProperty(d,c,v){"@"==c.charAt(0)&&c==Xs?this.disableAnimations(d,!!v):this.delegate.setProperty(d,c,v)}setValue(d,c){this.delegate.setValue(d,c)}listen(d,c,v){return this.delegate.listen(d,c,v)}disableAnimations(d,c){this.engine.disableAnimations(d,c)}}class Vs extends fo{constructor(d,c,v,L,ie){super(c,v,L,ie),this.factory=d,this.namespaceId=c}setProperty(d,c,v){"@"==c.charAt(0)?"."==c.charAt(1)&&c==Xs?this.disableAnimations(d,v=void 0===v||!!v):this.engine.process(this.namespaceId,d,c.slice(1),v):this.delegate.setProperty(d,c,v)}listen(d,c,v){if("@"==c.charAt(0)){const L=function eo(w){switch(w){case"body":return document.body;case"document":return document;case"window":return window;default:return w}}(d);let ie=c.slice(1),Se="";return"@"!=ie.charAt(0)&&([ie,Se]=function xs(w){const d=w.indexOf(".");return[w.substring(0,d),w.slice(d+1)]}(ie)),this.engine.listen(this.namespaceId,L,ie,Se,Oe=>{this.factory.scheduleListenerCallback(Oe._data||-1,v,Oe)})}return this.delegate.listen(d,c,v)}}class Do{constructor(d,c,v){this.delegate=d,this.engine=c,this._zone=v,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,c.onRemovalComplete=(L,ie)=>{const Se=ie?.parentNode(L);Se&&ie.removeChild(Se,L)}}createRenderer(d,c){const L=this.delegate.createRenderer(d,c);if(!d||!c?.data?.animation){const Ot=this._rendererCache;let fn=Ot.get(L);return fn||(fn=new fo("",L,this.engine,()=>Ot.delete(L)),Ot.set(L,fn)),fn}const ie=c.id,Se=c.id+"-"+this._currentId;this._currentId++,this.engine.register(Se,d);const Oe=Ot=>{Array.isArray(Ot)?Ot.forEach(Oe):this.engine.registerTrigger(ie,Se,d,Ot.name,Ot)};return c.data.animation.forEach(Oe),new Vs(this,Se,L,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(d,c,v){if(d>=0&&d<this._microtaskId)return void this._zone.run(()=>c(v));const L=this._animationCallbacksBuffer;0==L.length&&queueMicrotask(()=>{this._zone.run(()=>{L.forEach(ie=>{const[Se,Oe]=ie;Se(Oe)}),this._animationCallbacksBuffer=[]})}),L.push([c,v])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var Nr=l(6814);const Mo=[{provide:rr,useFactory:function ya(){return new ot}},{provide:oe,useClass:(()=>{class w extends oe{constructor(c,v,L,ie){super(c,v,L)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Nr.K0),u.LFG(tr),u.LFG(rr),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})()},{provide:u.FYo,useFactory:function to(w,d,c){return new Do(w,d,c)},deps:[hn.se,oe,u.R0b]}],fs=[{provide:tr,useFactory:()=>new Fr},{provide:u.QbO,useValue:"BrowserAnimations"},...Mo],Rs=[{provide:tr,useClass:Ci},{provide:u.QbO,useValue:"NoopAnimations"},...Mo];let is=(()=>{class w{static withConfig(c){return{ngModule:w,providers:c.disableAnimations?Rs:fs}}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({providers:fs,imports:[hn.b2]})}return w})(),rs=(()=>{class w{constructor(){this.onError=new u.vpe}error(c){this.onError.emit(c)}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})();var zs=l(9666),ps=l(7414),Fi=l(553);const Pr=Fi.N.Auth;let ss=(()=>{class w{constructor(c,v){this.http=c,this.route=v,this.mgr=new ps.UserManager(Pr),this.userLoadededEvent=new u.vpe,this.loggedIn=!1,this.mgr.getUser().then(L=>{L?(this.loggedIn=!0,this.currentUser=L,this.userLoadededEvent.emit(L)):this.loggedIn=!1}).catch(L=>{console.error(L),this.loggedIn=!1}),this.mgr.events.addUserLoaded(L=>{this.currentUser=L,localStorage.setItem("token",L.id_token),localStorage.setItem("access_token",L.access_token),this.loggedIn=void 0!==L,Fi.N.production||console.log("authService addUserLoaded",L)})}clearState(){this.mgr.clearStaleState().then(function(){console.log("clearStateState success")}).catch(function(c){console.log("clearStateState error",c.message)})}getUser(){}removeUser(){}startSigninMainWindow(){this.mgr.signinRedirect({data:"some data"}).then(function(){console.log("signinRedirect done")}).catch(function(c){return console.log(c),c})}endSigninMainWindow(){this.mgr.signinRedirectCallback().then(function(c){console.log("signed in",c)}).catch(function(c){console.log(c)})}startSignoutMainWindow(){}logout(){}endSignoutMainWindow(){this.mgr.signoutRedirectCallback().then(function(c){console.log("signed out",c)}).catch(function(c){console.log(c)})}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(e.eN),u.LFG(N.F0))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),Oo=(()=>{class w{constructor(c,v,L){this.authService=c,this.router=v,this.store=L}ngOnInit(){(0,zs.D)(this.authService.mgr.signinRedirectCallback()).subscribe(c=>{this.authService.userLoadededEvent.emit(c),this.router.navigate(["/"])},c=>{console.log(c),this.router.navigate(["/404"])})}static#e=this.\u0275fac=function(v){return new(v||w)(u.Y36(ss),u.Y36(N.F0),u.Y36(S.yh))};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["app-authorization"]],decls:2,vars:0,consts:[[1,"text-center"]],template:function(v,L){1&v&&(u.TgZ(0,"p",0),u._uU(1,"Logging you in. Please wait ..........."),u.qZA())}})}return w})(),Wo=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[N.Bz.forChild([{path:"authorize",component:Oo}]),N.Bz]})}return w})();var Gs=l(6746);let aa=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[Nr.ez,Wo,Gs.m]})}return w})(),Is=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[N.Bz.forRoot([{path:"",loadChildren:()=>Promise.all([l.e(592),l.e(21)]).then(l.bind(l,7021)).then(c=>c.HomeModule)},{path:"profile",loadChildren:()=>Promise.all([l.e(592),l.e(371)]).then(l.bind(l,8371)).then(c=>c.ProfileModule)},{path:"about",loadChildren:()=>Promise.all([l.e(592),l.e(673)]).then(l.bind(l,7673)).then(c=>c.AboutModule)},{path:"notes",loadChildren:()=>l.e(375).then(l.bind(l,375)).then(c=>c.NotesModule)},{path:"wizard",loadChildren:()=>Promise.all([l.e(592),l.e(602)]).then(l.bind(l,8602)).then(c=>c.WizardManagerModule)},{path:"login",loadChildren:()=>Promise.all([l.e(592),l.e(610)]).then(l.bind(l,7610)).then(c=>c.LoginModule)},{path:"movies",loadChildren:()=>Promise.all([l.e(592),l.e(168)]).then(l.bind(l,5168)).then(c=>c.MoviesModule)},{path:"events",loadChildren:()=>Promise.all([l.e(592),l.e(229)]).then(l.bind(l,6229)).then(c=>c.EventsModule)}]),N.Bz]})}return w})();var $o=l(6267);let Yo=(()=>{class w{constructor(c,v,L){this.location=c,this.service=v,this.store=L}login(){}goback(){this.location.back()}startSignoutMainWindow(){this.service.logout()}static#e=this.\u0275fac=function(v){return new(v||w)(u.Y36(Nr.Ye),u.Y36(ss),u.Y36(S.yh))};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["app-unauthorized"]],decls:11,vars:0,consts:[[1,"row","mt-5","justify-content-center"],[1,"col-md-6","mt-5"],[1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[1,"row","justify-content-center"]],template:function(v,L){1&v&&(u.TgZ(0,"div",0)(1,"div",1)(2,"button",2),u.NdJ("click",function(){return L.login()}),u._uU(3,"Login"),u.qZA()(),u.TgZ(4,"div",1)(5,"button",2),u.NdJ("click",function(){return L.startSignoutMainWindow()}),u._uU(6,"Sign Out"),u.qZA()()(),u.TgZ(7,"div",3)(8,"div",1)(9,"button",2),u.NdJ("click",function(){return L.goback()}),u._uU(10,"Back"),u.qZA()()())}})}return w})(),la=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[N.Bz.forChild([{path:"unauthorized",component:Yo}]),N.Bz]})}return w})(),Po=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[Nr.ez,la,Gs.m]})}return w})(),ca=(()=>{class w{constructor(c){this.authService=c}static#e=this.\u0275fac=function(v){return new(v||w)(u.Y36(ss))};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["app-notfound"]],decls:2,vars:0,template:function(v,L){1&v&&(u.TgZ(0,"h1"),u._uU(1,"404 Not Found"),u.qZA())}})}return w})(),Fs=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[N.Bz.forChild([{path:"404",component:ca}]),N.Bz]})}return w})(),Lr=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[Nr.ez,Fs,Gs.m]})}return w})();var Jo=l(8973);let Ns=(()=>{class w{constructor(){this.toasts=[]}remove(c){this.toasts=this.toasts.filter(v=>v!==c)}clear(){this.toasts.splice(0,this.toasts.length)}showSuccess(c,v){this.show(c,v,{classname:"bg-success text-light",delay:5e3})}showDanger(c,v){this.show(c,v,{classname:"bg-danger text-light",delay:1e4})}showStandard(c,v){this.show(c,v)}show(c,v,L={}){this.toasts.push({textOrTpl:c,header:v,...L})}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function po(w,d){if(1&w){const c=u.EpF();u.TgZ(0,"ngb-toast",1),u.NdJ("hidden",function(){const ie=u.CHM(c).$implicit,Se=u.oxw();return u.KtG(Se.toastService.remove(ie))}),u._uU(1),u.qZA()}if(2&w){const c=d.$implicit;u.Tol(c.classname),u.Q6J("autohide",!0)("delay",c.delay||5e3)("header",c.header)("animation",!1),u.xp6(),u.hij(" ",c.textOrTpl,"\n")}}let Zo=(()=>{class w{constructor(c){this.toastService=c,this.class="toast-container position-fixed bottom-0 end-0 p-3",this.zIndex=1200}static#e=this.\u0275fac=function(v){return new(v||w)(u.Y36(Ns))};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["app-toast-global"]],hostVars:4,hostBindings:function(v,L){2&v&&(u.Tol(L.class),u.Udp("z-index",L.zIndex))},decls:1,vars:1,consts:[[3,"class","autohide","delay","header","animation","hidden",4,"ngFor","ngForOf"],[3,"autohide","delay","header","animation","hidden"]],template:function(v,L){1&v&&u.YNc(0,po,2,7,"ngb-toast",0),2&v&&u.Q6J("ngForOf",L.toastService.toasts)},dependencies:[Nr.sg,cn.Iv],encapsulation:2})}return w})();var go=l(5754),Ks=l(8194),ws=l(8369),Ws=l(2268),mo=l(4648),xo=l(9141),gs=l(4751),Qi=l(783),Ro=l(9301);const qo=()=>["/profile"];function Ne(w,d){if(1&w){const c=u.EpF();u.TgZ(0,"div",1)(1,"button",2),u._uU(2),u.qZA(),u.TgZ(3,"div",3),u._UZ(4,"button",4),u.TgZ(5,"div",5)(6,"app-theme-option",6),u.NdJ("themeToggleDark",function(){u.CHM(c);const L=u.oxw();return u.KtG(L.onDarkModeToggle())}),u.ALo(7,"async"),u.qZA(),u.TgZ(8,"button",7),u._uU(9,"Profile"),u.qZA(),u.TgZ(10,"button",8),u.NdJ("click",function(){u.CHM(c);const L=u.oxw();return u.KtG(L.logOut())}),u._uU(11,"Logout"),u.qZA()()()()}if(2&w){const c=u.oxw();u.xp6(),u.Q6J("routerLink",u.DdM(7,qo)),u.xp6(),u.Oqu(c.givenName),u.xp6(4),u.Q6J("label","Dark Mode")("darkMode",u.lcZ(7,5,c.isDarkMode)),u.xp6(2),u.Q6J("routerLink",u.DdM(8,qo))}}function B(w,d){if(1&w){const c=u.EpF();u.TgZ(0,"button",9),u.NdJ("click",function(){u.CHM(c);const L=u.oxw();return u.KtG(L.login())}),u._uU(1,"Login / SignUp"),u.qZA()}}let R=(()=>{class w{constructor(c,v){this.oauthService=c,this.store=v,this.signout=new u.vpe,this.isDarkMode=this.store.select(xo.Yc)}login(){this.oauthService.initLoginFlow()}logOut(){this.oauthService.logOut()}get isLoggedIn(){return this.store.select(xo.jl)}get givenName(){const c=this.oauthService.getIdentityClaims();return c?c.given_name:null}onDarkModeToggle(){this.store.dispatch(Qi.In())}static#e=this.\u0275fac=function(v){return new(v||w)(u.Y36(gs.Ct),u.Y36(S.yh))};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["app-userinfo"]],outputs:{signout:"signout"},decls:3,vars:3,consts:[["class","btn-group"],[1,"btn-group"],["type","button",1,"btn","btn-primary",3,"routerLink"],["ngbDropdown","","role","group","aria-label","Button group with nested dropdown",1,"btn-group"],["type","button","ngbDropdownToggle","",1,"btn","btn-primary","dropdown-toggle-split"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"label","darkMode","themeToggleDark"],[1,"dropdown-item",3,"routerLink"],["id","btnLogout",1,"dropdown-item",3,"click"],["id","btnLogin","type","button",1,"btn","btn-primary",3,"click"]],template:function(v,L){1&v&&(u.YNc(0,Ne,12,9,"div",0),u.ALo(1,"async"),u.YNc(2,B,2,0)),2&v&&u.um2(0,u.lcZ(1,1,L.isLoggedIn)?0:2)},dependencies:[N.rH,cn.jt,cn.iD,cn.Vi,Ro.e,Nr.Ov],styles:[".theme-switch[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return w})();function X(w,d){1&w&&(u.TgZ(0,"div",17),u._UZ(1,"span",18),u.qZA())}function ye(w,d){if(1&w&&(u.TgZ(0,"span",20),u._uU(1),u.qZA()),2&w){const c=d.ngIf;u.xp6(),u.Oqu(c)}}function it(w,d){if(1&w&&(u.YNc(0,ye,2,1,"span",19),u.ALo(1,"async")),2&w){const c=u.oxw(2);u.Q6J("ngIf",u.lcZ(1,1,c.NotesCount))}}function Mt(w,d){1&w&&(u.TgZ(0,"div",17),u._UZ(1,"span",18),u.qZA())}function Wt(w,d){if(1&w&&(u.TgZ(0,"span",20),u._uU(1),u.qZA()),2&w){const c=d.ngIf;u.xp6(),u.Oqu(c)}}function Cn(w,d){if(1&w&&(u.YNc(0,Wt,2,1,"span",19),u.ALo(1,"async")),2&w){const c=u.oxw(2);u.Q6J("ngIf",u.lcZ(1,1,c.EventsCount))}}const Nn=()=>["active"],hi=()=>({exact:!0}),$i=()=>["/"],xr=()=>({exact:!1}),$s=()=>["/about"],Ys=()=>["/profile"],Sr=w=>({active:w}),Kr=()=>["/notes"],Qo=()=>["/notes/archived"],Js=()=>["/wizard"],Hi=()=>["/events"],Io=()=>["/movies"];function Fo(w,d){if(1&w&&(u.TgZ(0,"ul",8)(1,"li",9)(2,"a",10),u._uU(3,"Home"),u.qZA()(),u.TgZ(4,"li",9)(5,"a",10),u._uU(6,"About"),u.qZA()(),u.TgZ(7,"li",9)(8,"a",10),u._uU(9,"Profile"),u.qZA()(),u.TgZ(10,"li",11)(11,"a",12),u.NdJ("click",function(v){return v.preventDefault()}),u._uU(12," Notes "),u.YNc(13,X,2,0,"div",13),u.ALo(14,"async"),u.YNc(15,it,2,3),u.qZA(),u.TgZ(16,"ul",14)(17,"li",15)(18,"a",16),u._uU(19,"Notes"),u.qZA()(),u.TgZ(20,"li",15)(21,"a",16),u._uU(22,"Archived Notes"),u.qZA()()()(),u.TgZ(23,"li",9)(24,"a",10),u._uU(25,"Wizard"),u.qZA()(),u.TgZ(26,"li",9)(27,"a",10),u._uU(28," Events "),u.YNc(29,Mt,2,0,"div",13),u.ALo(30,"async"),u.YNc(31,Cn,2,3),u.qZA()(),u.TgZ(32,"li",9)(33,"a",10),u._uU(34,"Movies"),u.qZA()()()),2&w){const c=u.oxw();u.xp6(2),u.Q6J("routerLinkActive",u.DdM(29,Nn))("routerLinkActiveOptions",u.DdM(30,hi))("routerLink",u.DdM(31,$i)),u.xp6(3),u.Q6J("routerLinkActive",u.DdM(32,Nn))("routerLinkActiveOptions",u.DdM(33,xr))("routerLink",u.DdM(34,$s)),u.xp6(3),u.Q6J("routerLinkActive",u.DdM(35,Nn))("routerLinkActiveOptions",u.DdM(36,hi))("routerLink",u.DdM(37,Ys)),u.xp6(3),u.Q6J("ngClass",u.VKq(38,Sr,c.isNotesURLActive))("routerLinkActive",u.DdM(40,Nn))("routerLinkActiveOptions",u.DdM(41,xr)),u.xp6(2),u.um2(13,u.lcZ(14,25,c.NoteLoading)?13:15),u.xp6(5),u.Q6J("routerLink",u.DdM(42,Kr)),u.xp6(3),u.Q6J("routerLink",u.DdM(43,Qo)),u.xp6(3),u.Q6J("routerLinkActive",u.DdM(44,Nn))("routerLinkActiveOptions",u.DdM(45,xr))("routerLink",u.DdM(46,Js)),u.xp6(3),u.Q6J("routerLinkActive",u.DdM(47,Nn))("routerLinkActiveOptions",u.DdM(48,xr))("routerLink",u.DdM(49,Hi)),u.xp6(2),u.um2(29,u.lcZ(30,27,c.EventLoading)?29:31),u.xp6(4),u.Q6J("routerLinkActive",u.DdM(50,Nn))("routerLinkActiveOptions",u.DdM(51,xr))("routerLink",u.DdM(52,Io))}}let Ya=(()=>{class w{constructor(c,v,L,ie){this.oauthService=c,this.eventStore=v,this.noteStore=L,this.router=ie,this.signout=new u.vpe,this.isExpanded=!1,this.routerLinkActiveOptions={matrixParams:"ignored",queryParams:"subset",fragment:"ignored",paths:"subset"}}get isNotesURLActive(){return this.router.isActive("/notes",this.routerLinkActiveOptions)}get EventsCount(){return this.eventStore.select(Ws.Go)}get EventLoading(){return this.eventStore.select(Ws.Vc)}get NotesCount(){return this.noteStore.select(mo.vh)}get NoteLoading(){return this.noteStore.select(mo.Vc)}onSignout(){}get IsLoggedIn(){return this.eventStore.select(xo.jl)}static#e=this.\u0275fac=function(v){return new(v||w)(u.Y36(gs.Ct),u.Y36(S.yh),u.Y36(S.yh),u.Y36(N.F0))};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["app-header"]],outputs:{signout:"signout"},decls:10,vars:7,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],[1,"container-fluid"],["type","button","aria-controls","navbarContent",1,"navbar-toggler","navbar-toggler-right",3,"click"],[1,"navbar-toggler-icon"],[1,"navbar-brand",3,"routerLink"],["id","navbarSupportedContent",1,"collapse","navbar-collapse",3,"ngbCollapse"],["class","navbar-nav mr-auto",4,"ngIf"],[3,"signout"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],[1,"nav-link",3,"routerLinkActive","routerLinkActiveOptions","routerLink"],["ngbDropdown","",1,"nav-item","dropdown"],["ngbDropdownToggle","","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle",3,"ngClass","routerLinkActive","routerLinkActiveOptions","click"],["class","spinner-border text-secondary spinner-border-sm","role","status"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu"],["ngbDropdownItem",""],[1,"dropdown-item",3,"routerLink"],["role","status",1,"spinner-border","text-secondary","spinner-border-sm"],[1,"sr-only"],["class","badge bg-secondary",4,"ngIf"],[1,"badge","bg-secondary"]],template:function(v,L){1&v&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"button",2),u.NdJ("click",function(){return L.isExpanded=!L.isExpanded}),u._UZ(3,"span",3),u.qZA(),u.TgZ(4,"a",4),u._uU(5,"Angular"),u.qZA(),u.TgZ(6,"div",5),u.YNc(7,Fo,35,53,"ul",6),u.ALo(8,"async"),u.qZA(),u.TgZ(9,"app-userinfo",7),u.NdJ("signout",function(){return L.onSignout()}),u.qZA()()()),2&v&&(u.xp6(2),u.uIk("aria-expanded",!L.isExpanded),u.xp6(2),u.Q6J("routerLink",u.DdM(6,$i)),u.xp6(2),u.Q6J("ngbCollapse",!L.isExpanded),u.xp6(),u.Q6J("ngIf",u.lcZ(8,4,L.IsLoggedIn)))},dependencies:[Nr.mk,Nr.O5,N.rH,N.Od,cn._D,cn.jt,cn.iD,cn.Vi,cn.TH,R,Nr.Ov],changeDetection:0})}return w})();function ua(w,d){1&w&&u._UZ(0,"app-dialog-info-component")}let ks=(()=>{class w{constructor(){}ngOnInit(){this.currentAppVersion=Fi.N.appVersion}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["app-main"]],viewQuery:function(v,L){if(1&v&&u.Gf(Jo.q,5),2&v){let ie;u.iGM(ie=u.CRH())&&(L.appLoadingComponent=ie.first)}},decls:8,vars:3,consts:[["appConfirm",""],[3,"position","moveSpeed"]],template:function(v,L){1&v&&(u._UZ(0,"app-header")(1,"app-loading")(2,"router-outlet"),u.YNc(3,ua,1,0,"ng-template",0),u._UZ(4,"app-back-top",1)(5,"app-toast-global"),u.TgZ(6,"div"),u._uU(7),u.qZA()),2&v&&(u.xp6(4),u.Q6J("position",200)("moveSpeed",50),u.xp6(3),u.hij(" ",L.currentAppVersion,"\n"))},dependencies:[Zo,go.h,Ks.F,Jo.q,ws.B,Ya,N.lC],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column;height:100%;position:relative}.container[_ngcontent-%COMP%]{margin-top:5px}"]})}return w})();var ti=l(7398),_o=l(589);const Zr=Fi.N.NOTES_API;let ba=(()=>{class w{constructor(c){this.http=c}getNotes(){return this.http.get(Zr)}getNote(c){return this.http.get(Zr+c)}addNote(c){return this.http.post(Zr,c)}deleteNote(c){return this.http.delete(Zr+c.id).pipe((0,ti.U)(v=>new _o.j(v)))}addOrUpdateNote(c){return this.http.post(Zr,JSON.stringify(c)).pipe((0,ti.U)(v=>new _o.j(v)))}updateNote(c){return this.http.put(Zr,c).pipe((0,ti.U)(v=>new _o.j(v)))}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(e.eN))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})();var ci=l(6306),No=l(8504);let Ja=(()=>{class w{constructor(){}ShowDialog(){}handleError(c){return(0,No._)(c)}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})();const vo=Fi.N.EVENTS_API;let Fa=(()=>{class w extends Ja{constructor(c){super(),this.http=c}getAllEvents(){return this.http.get(vo)}createEvent(c){return this.http.post(vo,c)}getEventById(c){return this.http.get(vo+c)}updateEvent(c){return this.http.put(vo,c).pipe((0,ti.U)(v=>v),(0,ci.K)(this.handleError))}toggleEvent(c){return this.http.put(vo+"toggle/",c).pipe((0,ti.U)(v=>v),(0,ci.K)(this.handleError))}deleteEventById(c){return this.http.delete(vo+c.id).pipe((0,ti.U)(()=>c),(0,ci.K)(this.handleError))}deleteEvents(c){return this.http.delete(vo,{body:c}).pipe((0,ti.U)(v=>v),(0,ci.K)(this.handleError))}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(e.eN))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),da=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({providers:[Ns],imports:[hn.b2,cn.IJ]})}return w})();var ms=l(2181);let mr=(()=>{class w{constructor(c){this.injector=c,this.injector.get(gs.Ct).events.subscribe(v=>{"discovery_document_load_error"===v.type&&this.handleError(v)})}handleError(c){throw this.injector.get(rs).error(c),c}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(u.zs3))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})();var ko=l(6833);let ea=(()=>{class w{constructor(c,v){this.confirmService=c,this.injector=v}intercept(c,v){const L=this.injector.get(rs);return v.handle(c).pipe((0,ci.K)(ie=>(L.error(ie),(0,No._)(()=>ie.message))))}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(ko.z),u.LFG(u.zs3))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})();var bo=l(5306);const Na=[{provide:Nr.mr,useValue:"/Angular"},{provide:N.wN,useClass:class ha{retrieve(d){return null}shouldAttach(d){return!1}shouldDetach(d){return!1}shouldReuseRoute(d,c){return d.routeConfig===c.routeConfig&&!d.data.alwaysRefresh}store(d,c){}}},{provide:e.TP,useClass:ea,multi:!0},{provide:u.qLn,useClass:mr},{provide:u.ip1,useFactory:function Xo(w){return()=>w.initTheme()},deps:[bo.f],multi:!0},{provide:u.ip1,useFactory:function Vr(w,d){return()=>{w.onError.subscribe(c=>{d.showDanger(c.message,c.statusText?c.statusText:"Error")})}},deps:[rs,Ns],multi:!0},{provide:u.tb,useFactory:function yo(w){return d=>{w.events.pipe((0,ms.h)(c=>c instanceof N.sj)).subscribe(c=>{!function Zs(w,d){switch(w.constructor){case N.m2:d.appLoadingComponent.loading=!1;break;case N.Q3:case N.gk:case N.OD:d.appLoadingComponent.loading=!0}}(c,d.instance)})}},deps:[N.F0],multi:!0}];class Xn{serialize(d){let c=d.root;for(;c.firstChild;)c=c.firstChild;const{url:v,root:{queryParams:L}}=d,{params:ie}=c;return{url:v,params:ie,queryParams:L}}}var ta=l(3019),Ea=l(5592),wa=l(8645),Eo=l(7538),_s=l(6232),wi=l(2096),na=l(4674);class Ss{constructor(d,c,v){this.kind=d,this.value=c,this.error=v,this.hasValue="N"===d}observe(d){return La(this,d)}do(d,c,v){const{kind:L,value:ie,error:Se}=this;return"N"===L?d?.(ie):"E"===L?c?.(Se):v?.()}accept(d,c,v){var L;return(0,na.m)(null===(L=d)||void 0===L?void 0:L.next)?this.observe(d):this.do(d,c,v)}toObservable(){const{kind:d,value:c,error:v}=this,L="N"===d?(0,wi.of)(c):"E"===d?(0,No._)(()=>v):"C"===d?_s.E:0;if(!L)throw new TypeError(`Unexpected notification kind ${d}`);return L}static createNext(d){return new Ss("N",d)}static createError(d){return new Ss("E",void 0,d)}static createComplete(){return Ss.completeNotification}}function La(w,d){var c,v,L;const{kind:ie,value:Se,error:Oe}=w;if("string"!=typeof ie)throw new TypeError('Invalid notification, missing "kind"');"N"===ie?null===(c=d.next)||void 0===c||c.call(d,Se):"E"===ie?null===(v=d.error)||void 0===v||v.call(d,Oe):null===(L=d.complete)||void 0===L||L.call(d)}Ss.completeNotification=new Ss("C");var Lo=l(9360),Bo=l(8251),Uo=l(4829);function Ba(w,d,c,v){return(0,Lo.e)((L,ie)=>{let Se;d&&"function"!=typeof d?({duration:c,element:Se,connector:v}=d):Se=d;const Oe=new Map,bt=p=>{Oe.forEach(p),p(ie)},Ot=p=>bt(O=>O.error(p));let fn=0,mn=!1;const Zn=new Bo.Q(ie,p=>{try{const O=w(p);let I=Oe.get(O);if(!I){Oe.set(O,I=v?v():new wa.x);const J=function s(p,O){const I=new Ea.y(J=>{fn++;const de=O.subscribe(J);return()=>{de.unsubscribe(),0==--fn&&mn&&Zn.unsubscribe()}});return I.key=p,I}(O,I);if(ie.next(J),c){const de=(0,Bo.x)(I,()=>{I.complete(),de?.unsubscribe()},void 0,void 0,()=>Oe.delete(O));Zn.add((0,Uo.Xf)(c(J)).subscribe(de))}}I.next(Se?Se(p):p)}catch(O){Ot(O)}},()=>bt(p=>p.complete()),Ot,()=>Oe.clear(),()=>(mn=!0,0===fn));L.subscribe(Zn)})}var fa=l(9769);function g(w,d){return d?c=>c.pipe(g((v,L)=>(0,Uo.Xf)(w(v,L)).pipe((0,ti.U)((ie,Se)=>d(v,ie,L,Se))))):(0,Lo.e)((c,v)=>{let L=0,ie=null,Se=!1;c.subscribe((0,Bo.x)(v,Oe=>{ie||(ie=(0,Bo.x)(v,void 0,()=>{ie=null,Se&&v.complete()}),(0,Uo.Xf)(w(Oe,L++)).subscribe(ie))},()=>{Se=!0,!ie&&v.complete()}))})}var _=l(8180);const M={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},z="__@ngrx/effects_create__";function ne(w,d={}){const c=d.functional?w:w(),v={...M,...d};return Object.defineProperty(c,z,{value:v}),c}function yn(w){return Object.getPrototypeOf(w)}function oi(w){return"function"==typeof w}function ji(w){return w.filter(oi)}function qs(w,d,c){const v=yn(w),ie=v&&"Object"!==v.constructor.name?v.constructor.name:null,Se=function vt(w){return function He(w){return Object.getOwnPropertyNames(w).filter(v=>!(!w[v]||!w[v].hasOwnProperty(z))&&w[v][z].hasOwnProperty("dispatch")).map(v=>({propertyName:v,...w[v][z]}))}(w)}(w).map(({propertyName:Oe,dispatch:bt,useEffectsErrorHandler:Ot})=>{const fn="function"==typeof w[Oe]?w[Oe]():w[Oe],mn=Ot?c(fn,d):fn;return!1===bt?mn.pipe((0,Eo.l)()):mn.pipe(function Za(){return(0,Lo.e)((w,d)=>{w.subscribe((0,Bo.x)(d,c=>{d.next(Ss.createNext(c))},()=>{d.next(Ss.createComplete()),d.complete()},c=>{d.next(Ss.createError(c)),d.complete()}))})}()).pipe((0,ti.U)(s=>({effect:w[Oe],notification:s,propertyName:Oe,sourceName:ie,sourceInstance:w})))});return(0,ta.T)(...Se)}function Ho(w,d,c=10){return w.pipe((0,ci.K)(v=>(d&&d.handleError(v),c<=1?w:Ho(w,d,c-1))))}let Cs=(()=>{class w extends Ea.y{constructor(c){super(),c&&(this.source=c)}lift(c){const v=new w;return v.source=this,v.operator=c,v}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(S.Y$))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Qn(...w){return(0,ms.h)(d=>w.some(c=>"string"==typeof c?c===d.type:c.type===d.type))}const sl=new u.OlP("@ngrx/effects Internal Root Guard"),Sa=new u.OlP("@ngrx/effects User Provided Effects"),qa=new u.OlP("@ngrx/effects Internal Root Effects"),ol=new u.OlP("@ngrx/effects Internal Root Effects Instances"),vl=new u.OlP("@ngrx/effects Internal Feature Effects"),Qa=new u.OlP("@ngrx/effects Internal Feature Effects Instance Groups"),yl=new u.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Ho}),bl="@ngrx/effects/init";(0,S.PH)(bl);function tl(w){return nl(w,"ngrxOnInitEffects")}function nl(w,d){return w&&d in w&&"function"==typeof w[d]}let os=(()=>{class w extends wa.x{constructor(c,v){super(),this.errorHandler=c,this.effectsErrorHandler=v}addEffects(c){this.next(c)}toActions(){return this.pipe(Ba(c=>function Jn(w){return!!w.constructor&&"Object"!==w.constructor.name&&"Function"!==w.constructor.name}(c)?yn(c):c),(0,fa.z)(c=>c.pipe(Ba(Ni))),(0,fa.z)(c=>{const v=c.pipe(g(ie=>function pa(w,d){return c=>{const v=qs(c,w,d);return function el(w){return nl(w,"ngrxOnRunEffects")}(c)?c.ngrxOnRunEffects(v):v}}(this.errorHandler,this.effectsErrorHandler)(ie)),(0,ti.U)(ie=>(function El(w,d){if("N"===w.notification.kind){const c=w.notification.value;!function zl(w){return"function"!=typeof w&&w&&w.type&&"string"==typeof w.type}(c)&&d.handleError(new Error(`Effect ${function Xa({propertyName:w,sourceInstance:d,sourceName:c}){const v="function"==typeof d[w];return c?`"${c}.${String(w)}${v?"()":""}"`:`"${String(w)}()"`}(w)} dispatched an invalid action: ${function wl(w){try{return JSON.stringify(w)}catch{return w}}(c)}`))}}(ie,this.errorHandler),ie.notification)),(0,ms.h)(ie=>"N"===ie.kind&&null!=ie.value),function D(){return(0,Lo.e)((w,d)=>{w.subscribe((0,Bo.x)(d,c=>La(c,d)))})}()),L=c.pipe((0,_.q)(1),(0,ms.h)(tl),(0,ti.U)(ie=>ie.ngrxOnInitEffects()));return(0,ta.T)(v,L)}))}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(u.qLn),u.LFG(yl))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Ni(w){return function Cl(w){return nl(w,"ngrxOnIdentifyEffects")}(w)?w.ngrxOnIdentifyEffects():""}let Ca=(()=>{class w{get isStarted(){return!!this.effectsSubscription}constructor(c,v){this.effectSources=c,this.store=v,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(os),u.LFG(S.yh))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),Ta=(()=>{class w{constructor(c,v,L,ie,Se,Oe,bt){this.sources=c,v.start();for(const Ot of ie)c.addEffects(Ot);L.dispatch({type:bl})}addEffects(c){this.sources.addEffects(c)}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(os),u.LFG(Ca),u.LFG(S.yh),u.LFG(ol),u.LFG(S.cr,8),u.LFG(S.CK,8),u.LFG(sl,8))};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({})}return w})(),al=(()=>{class w{constructor(c,v,L,ie){const Se=v.flat();for(const Oe of Se)c.addEffects(Oe)}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Ta),u.LFG(Qa),u.LFG(S.cr,8),u.LFG(S.CK,8))};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({})}return w})(),ll=(()=>{class w{static forFeature(...c){const v=c.flat(),L=ji(v);return{ngModule:al,providers:[L,{provide:vl,multi:!0,useValue:v},{provide:Sa,multi:!0,useValue:[]},{provide:Qa,multi:!0,useFactory:Da,deps:[vl,Sa]}]}}static forRoot(...c){const v=c.flat(),L=ji(v);return{ngModule:Ta,providers:[L,{provide:qa,useValue:[v]},{provide:sl,useFactory:Al},{provide:Sa,multi:!0,useValue:[]},{provide:ol,useFactory:Da,deps:[qa,Sa]}]}}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({})}return w})();function Da(w,d){const c=[];for(const v of w)c.push(...v);for(const v of d)c.push(...v);return c.map(v=>function no(w){return w instanceof u.OlP||oi(w)}(v)?(0,u.f3M)(v):v)}function Al(){const w=(0,u.f3M)(Ca,{optional:!0,skipSelf:!0}),d=(0,u.f3M)(qa,{self:!0});if((1!==d.length||0!==d[0].length)&&w)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Ma=l(7632),as=l(2481);const sa=(0,S.Lq)({profile:{}},(0,S.on)(as.qm,(w,d)=>({profile:d.profile}))),cl=(0,S.ZF)("profile"),jo=((0,S.P1)(cl,w=>w.profile),{notes:mo.$i,events:Ws.I9,profile:sa,preference:xo.Cn,router:function ue(w,d){const c=d;switch(c.type){case E:case $:case F:return{state:c.payload.routerState,navigationId:c.payload.event.id};default:return w}}}),_a=Fi.N.production?[]:[function ma(w){return function(d,c){return w(d,c)}}];var ei=l(4664),Di=l(6994),kn=l(3613);let Ua=(()=>{class w{constructor(c,v,L,ie){this.oauthService=c,this.router=v,this.actions$=L,this.store=ie,this.login=ne(()=>this.actions$.pipe(Qn(as.F2),(0,ei.w)(Se=>this.oauthService.fetchTokenUsingPasswordFlowAndLoadUserProfile(Se.username,Se.password).then(()=>this.store.dispatch(as.EB())).catch(Oe=>this.store.dispatch(as.D2({payload:Oe}))))),{dispatch:!1}),this.loginEventSuccess=ne(()=>this.actions$.pipe(Qn(as.EB),(0,ei.w)(()=>this.oauthService.loadUserProfile().then(Se=>{this.store.dispatch(as.qm({profile:Se})),this.store.dispatch(Di.sZ()),this.store.dispatch(kn.jO()),this.store.dispatch(as.It())}).catch(Se=>this.store.dispatch(as.J2({payload:Se}))))),{dispatch:!1}),this.tokenExpire=ne(()=>this.actions$.pipe(Qn(as.W8),(0,ei.w)(Se=>(this.store.dispatch(as.kS({message:Se.message})),_s.E))),{dispatch:!1}),this.logout=ne(()=>this.actions$.pipe(Qn(as.kS),(0,ei.w)(Se=>(this.oauthService.logOut(),this.store.dispatch(Di.J_()),this.store.dispatch(as.TY({message:Se.message})),_s.E))),{dispatch:!1}),this.routeToHome=ne(()=>this.actions$.pipe(Qn(as.It),(0,ei.w)(()=>this.router.navigate(["/"]))),{dispatch:!1}),this.routeToLogin=ne(()=>this.actions$.pipe(Qn(as.TY),(0,ei.w)(Se=>this.router.navigate(["/login",{endsession:Se.message,skipLocationChange:!0}]))),{dispatch:!1})}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(gs.Ct),u.LFG(N.F0),u.LFG(Cs),u.LFG(S.yh))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),ul=(()=>{class w{constructor(c,v,L,ie){this.actions$=c,this.notesDataService=v,this.router=L,this.toastService=ie,this.save=ne(()=>this.actions$.pipe(Qn(kn.kT),(0,ei.w)(Se=>this.notesDataService.addNote(Se.payload).pipe((0,ti.U)(Oe=>kn.Yg({payload:Oe})),(0,ci.K)(Oe=>(0,wi.of)(kn.ce({payload:Oe}))))))),this.updateNoteText=ne(()=>this.actions$.pipe(Qn(kn.Y8),(0,ei.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,ti.U)(Oe=>kn.ac({payload:Oe})),(0,ci.K)(Oe=>(0,wi.of)(kn.G_({payload:Oe}))))))),this.updateNotePosition=ne(()=>this.actions$.pipe(Qn(kn.lk),(0,ei.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,ti.U)(Oe=>kn.qw({payload:Oe})),(0,ci.K)(Oe=>(0,wi.of)(kn.Zw({payload:Oe}))))))),this.updateNoteSelection=ne(()=>this.actions$.pipe(Qn(kn.w),(0,ei.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,ti.U)(Oe=>kn.bd({payload:Oe})),(0,ci.K)(Oe=>(0,wi.of)(kn.j8({payload:Oe}))))))),this.update=ne(()=>this.actions$.pipe(Qn(kn.Qk),(0,ei.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,ti.U)(Oe=>kn.Hl({payload:Oe})),(0,ci.K)(Oe=>(0,wi.of)(kn.ce({payload:Oe}))))))),this.updatePinOrder=ne(()=>this.actions$.pipe(Qn(kn.jA),(0,ei.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,ti.U)(Oe=>kn.HI({payload:Oe})),(0,ci.K)(Oe=>(0,wi.of)(kn.MJ({payload:Oe}))))))),this.fetchNotes=ne(()=>this.actions$.pipe(Qn(kn.jO),(0,ei.w)(()=>(0,wi.of)(kn.kU())))),this.fetchNotesStart=ne(()=>this.actions$.pipe(Qn(kn.kU),(0,ei.w)(()=>this.notesDataService.getNotes().pipe((0,ti.U)(Se=>kn.Tf({payload:Se})),(0,ci.K)(Se=>(0,wi.of)({type:kn.yV.type,payload:Se})))))),this.fetchNotesSuccess=ne(()=>this.actions$.pipe(Qn(kn.Tf),(0,ei.w)(()=>(0,wi.of)(kn.FF())))),this.delete=ne(()=>this.actions$.pipe(Qn(kn.f_),(0,ei.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,ti.U)(Oe=>kn.or({payload:Oe})),(0,ci.K)(Oe=>(0,wi.of)(kn.hR({payload:Oe}))))))),this.deleteSuccess=ne(()=>this.actions$.pipe(Qn(kn.or),(0,ei.w)(()=>(this.toastService.showSuccess("Note Deleted","Info"),this.router.navigate(["/notes"]),_s.E))),{dispatch:!1}),this.archiveNote=ne(()=>this.actions$.pipe(Qn(kn.Bn),(0,ei.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,ti.U)(Oe=>kn.iG({payload:Oe})),(0,ci.K)(Oe=>(0,wi.of)(kn.bh({payload:Oe}))))))),this.toggleSpellCheck=ne(()=>this.actions$.pipe(Qn(kn.Tq),(0,ei.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,ti.U)(Oe=>kn.Zn({payload:Oe})),(0,ci.K)(Oe=>(0,wi.of)(kn.qp({payload:Oe}))))))),this.archiveNoteSuccess=ne(()=>this.actions$.pipe(Qn(kn.iG),(0,ei.w)(()=>(this.toastService.showSuccess("Note successfully archived","Info"),_s.E))),{dispatch:!1}),this.restoreNote=ne(()=>this.actions$.pipe(Qn(kn.Us),(0,ei.w)(Se=>this.notesDataService.updateNote({...Se.payload,archived:!1}).pipe((0,ti.U)(Oe=>kn.sI({payload:Oe})),(0,ci.K)(Oe=>(0,wi.of)(kn.AG({payload:Oe}))))))),this.restoreNoteSuccess=ne(()=>this.actions$.pipe(Qn(kn.sI),(0,ei.w)(()=>(this.toastService.showSuccess("Note successfully restored","Info"),_s.E))),{dispatch:!1}),this.updateNoteColour=ne(()=>this.actions$.pipe(Qn(kn.rs),(0,ei.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,ti.U)(Oe=>kn.qS({payload:Oe})),(0,ci.K)(Oe=>(0,wi.of)(kn.YY({payload:Oe}))))))),this.updateNoteColourSuccess=ne(()=>this.actions$.pipe(Qn(kn.qS),(0,ei.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,ti.U)(Oe=>kn.O5({payload:Oe})),(0,ci.K)(Oe=>(0,wi.of)(kn.pB({payload:Oe}))))))),this.updateNoteHeader=ne(()=>this.actions$.pipe(Qn(kn.gl),(0,ei.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,ti.U)(Oe=>kn.jT({payload:Oe})),(0,ci.K)(Oe=>(0,wi.of)(kn.v3({payload:Oe})))))))}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Cs),u.LFG(ba),u.LFG(N.F0),u.LFG(Ns))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),dl=(()=>{class w{constructor(c,v,L){this.actions$=c,this.eventsDataService=v,this.toastService=L,this.createEvent=ne(()=>this.actions$.pipe(Qn(Di.yM),(0,ei.w)(ie=>this.eventsDataService.createEvent(ie.payload).pipe((0,ti.U)(Se=>Di.Ar({payload:Se})),(0,ci.K)(Se=>(0,wi.of)(Di.SZ({payload:Se}))))))),this.createEventSuccess=ne(()=>this.actions$.pipe(Qn(Di.Ar),(0,ei.w)(ie=>(this.toastService.showSuccess(ie.payload.title,"Event Added"),_s.E))),{dispatch:!1}),this.updateEvent=ne(()=>this.actions$.pipe(Qn(Di.eJ),(0,ei.w)(ie=>this.eventsDataService.updateEvent(ie.payload.newValue).pipe((0,ti.U)(Se=>Di.VD({payload:Se})),(0,ci.K)(Se=>(0,wi.of)(Di.M0({payload:Se}))))))),this.updateEventSuccess=ne(()=>this.actions$.pipe(Qn(Di.VD),(0,ei.w)(ie=>(this.toastService.showSuccess(ie.payload.title,"Event Updated"),_s.E))),{dispatch:!1}),this.toggleEvent=ne(()=>this.actions$.pipe(Qn(Di.Hw),(0,ei.w)(ie=>this.eventsDataService.toggleEvent(ie.payload).pipe((0,ti.U)(Se=>Di.Lz({payload:Se})),(0,ci.K)(Se=>(0,wi.of)(Di.Pr({payload:Se}))))))),this.toggleEventSuccess=ne(()=>this.actions$.pipe(Qn(Di.Lz),(0,ei.w)(ie=>(this.toastService.showSuccess(ie.payload.title,"Event Updated"),_s.E))),{dispatch:!1}),this.fetchEvents=ne(()=>this.actions$.pipe(Qn(Di.sZ),(0,ei.w)(()=>(0,wi.of)(Di.x1())))),this.fetchEventsStart=ne(()=>this.actions$.pipe(Qn(Di.x1),(0,ei.w)(()=>this.eventsDataService.getAllEvents().pipe((0,ti.U)(ie=>Di.aw({payload:ie})),(0,ci.K)(ie=>(0,wi.of)({type:Di.ZF.type,payload:ie})))))),this.fetchEventsSuccess=ne(()=>this.actions$.pipe(Qn(Di.aw),(0,ei.w)(()=>(0,wi.of)(Di.OV())))),this.deleteEvent=ne(()=>this.actions$.pipe(Qn(Di.Bt),(0,ei.w)(ie=>this.eventsDataService.deleteEventById(ie.payload).pipe((0,ti.U)(Se=>Di.UF({payload:Se})),(0,ci.K)(Se=>(0,wi.of)(Di.ke({payload:Se}))))))),this.deleteEvents=ne(()=>this.actions$.pipe(Qn(Di.BR),(0,ei.w)(ie=>this.eventsDataService.deleteEvents(ie.payload).pipe((0,ti.U)(Se=>Di.c({payload:Se})),(0,ci.K)(Se=>(0,wi.of)(Di.I7({payload:Se})))))))}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Cs),u.LFG(Fa),u.LFG(Ns))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),Ml=(()=>{class w{constructor(c,v){this.actions$=c,this.themeService=v,this.toggleDarkMode=ne(()=>this.actions$.pipe(Qn(Qi.In),(0,ei.w)(()=>(0,wi.of)(this.themeService.toggleDarkMode()).pipe((0,ti.U)(()=>Qi.TU()))))),this.getIsLoggedIn=ne(()=>this.actions$.pipe(Qn(Qi.M7),(0,ei.w)(()=>(0,wi.of)(Qi.MP({isLoggedIn:"true"===localStorage.getItem("isLoggedIn")||!1}))))),this.setIsLoggedIn=ne(()=>this.actions$.pipe(Qn(Qi.nf),(0,ei.w)(L=>(0,wi.of)(localStorage.setItem("isLoggedIn",L.isLoggedIn.toString())).pipe((0,ti.U)(()=>Qi.MP({isLoggedIn:L.isLoggedIn})))))),this.getIsLoggedInSuccess=ne(()=>this.actions$.pipe(Qn(Qi.MP),(0,ei.w)(L=>(0,wi.of)(Qi.MP({isLoggedIn:L.isLoggedIn}))))),this.logInSuccess=ne(()=>this.actions$.pipe(Qn(Qi.Ib,Qi.d8),(0,ei.w)(()=>(0,wi.of)(kn.jO(),Di.sZ()))))}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Cs),u.LFG(bo.f))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),Ha=(()=>{class w{constructor(c){this.actions$=c,this.deleteSuccess=ne(()=>this.actions$.pipe(Qn(h),(0,ei.w)(()=>_s.E)),{dispatch:!1})}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Cs))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),hl=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[S.Aw.forRoot(jo,{metaReducers:_a}),ll.forRoot([ul,dl,Ua,Ml,Ha]),Ma.FT.instrument({connectInZone:!0})]})}return w})();var fl=l(5861);window;const Ol={requireHttps:!1,issuer:"https://accounts.google.com",strictDiscoveryDocumentValidation:!1,clientId:"35558275617-qa2pthvce7ccunhrv0708lsbnp2vsonj.apps.googleusercontent.com",redirectUri:(0,u.X6Q)()?"http://localhost:4200/Angular":"https://eskinderg.github.io/Angular",scope:"openid profile email",showDebugInformation:!0,sessionChecksEnabled:!0};function Pl(w,d,c,v){return w.configure(Ol),w.setupAutomaticSilentRefresh(),(0,fl.Z)(function*(){return yield w.loadDiscoveryDocumentAndTryLogin({onLoginError:L=>{v.error(`Error Code: ${L.error}, Error Description: ${L.error_description}`)}}),w.hasValidAccessToken()?d.dispatch((0,Qi.d8)()):c.showStandard("No valid access_token"),!0})}let xl=(()=>{class w{constructor(){}intercept(c,v){return c.url.includes(Fi.N.API)&&(c=c.clone({setHeaders:{Authorization:`Bearer ${localStorage.getItem("id_token")}`}})),v.handle(c)}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),Rl=(()=>{class w extends gs.mb{constructor(c){super(),this.logg=c}debug(c,...v){console.info(v)}info(c,...v){console.log(v),this.logg.showSuccess(c,"OAuth Info")}log(c,...v){console.log(v),this.logg.showSuccess(c,"OAuth Log")}warn(c,...v){console.log(v)}error(c,...v){console.log(v),this.logg.showSuccess(c,"OAuth Error")}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Ns))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),il=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({providers:[{provide:e.TP,useClass:xl,multi:!0},{provide:u.ip1,useFactory:Pl,deps:[gs.Ct,S.yh,Ns,rs],multi:!0},{provide:gs.Hy,useValue:localStorage},{provide:Nr.mr,useValue:"Angular"},{provide:gs.mb,useClass:Rl}],imports:[gs.zr.forRoot()]})}return w})(),Il=(()=>{class w{constructor(){}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w,bootstrap:[ks]});static#n=this.\u0275inj=u.cJS({providers:[ba,Fa,rs,Na],imports:[hn.b2,e.JF,il,Po,da,Lr,aa,is,hl,$o.c.forRoot(),Gs.m.forRoot(),cn.IJ,Is,an.forRoot({serializer:Xn})]})}return w})()},682:(Je,le,l)=>{"use strict";l.d(le,{s:()=>C});var e=l(9212),S=l(6814),u=l(7178);const N=F=>({"font-size":F});function x(F,V){if(1&F&&(e.TgZ(0,"span",4),e._uU(1,"\u2665"),e.qZA()),2&F){const $=e.oxw(2);e.Q6J("ngStyle",e.VKq(1,N,$.size+"rem"))}}function h(F,V){if(1&F&&(e.TgZ(0,"span",5),e._uU(1,"\u2665"),e.qZA()),2&F){const $=e.oxw(2);e.Q6J("ngStyle",e.VKq(1,N,$.size+"rem"))}}function y(F,V){if(1&F&&(e.TgZ(0,"span",5)(1,"span",6),e._uU(2,"\u2665"),e.qZA(),e._uU(3,"\u2665 "),e.qZA()),2&F){const $=e.oxw().fill,j=e.oxw();e.Q6J("ngStyle",e.VKq(3,N,j.size+"rem")),e.xp6(),e.Udp("width",$,"%")}}function E(F,V){if(1&F&&e.YNc(0,x,2,3,"span",2)(1,h,2,3,"span",3)(2,y,4,5,"span",3),2&F){const $=V.fill;e.Q6J("ngIf",100===$),e.xp6(),e.Q6J("ngIf",0===$),e.xp6(),e.Q6J("ngIf",$<100&&$>0)}}let C=(()=>{class F{constructor(){this.size=3}static#e=this.\u0275fac=function(j){return new(j||F)};static#t=this.\u0275cmp=e.Xpm({type:F,selectors:[["app-ngbd-rating-decimal"]],inputs:{rating:"rating",currentRate:"currentRate",size:"size"},decls:3,vars:4,consts:[["t",""],[3,"rate","starTemplate","readonly","max"],["class","star full",3,"ngStyle",4,"ngIf"],["class","star",3,"ngStyle",4,"ngIf"],[1,"star","full",3,"ngStyle"],[1,"star",3,"ngStyle"],[1,"half"]],template:function(j,q){if(1&j&&(e.YNc(0,E,3,3,"ng-template",null,0,e.W1O),e._UZ(2,"ngb-rating",1)),2&j){const ee=e.MAs(1);e.xp6(2),e.Q6J("rate",q.currentRate)("starTemplate",ee)("readonly",!0)("max",5)}},dependencies:[S.O5,S.PC,u.OC],styles:[".star[_ngcontent-%COMP%]{position:relative;display:inline-block;color:#d3d3d3}.full[_ngcontent-%COMP%]{color:red}.half[_ngcontent-%COMP%]{position:absolute;display:inline-block;overflow:hidden;color:red}"]})}return F})()},221:(Je,le,l)=>{"use strict";l.d(le,{i:()=>S});var e=l(9212);let S=(()=>{class u{transform(x){return new Date(x).toLocaleDateString("en-US",{month:"long",year:"numeric"})}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275pipe=e.Yjl({name:"format",type:u,pure:!0})}return u})()},3569:(Je,le,l)=>{"use strict";l.d(le,{h:()=>S});var e=l(9212);let S=(()=>{class u{transform(x){if(x){const h=Math.floor((+new Date-+new Date(x))/1e3);if(h<29)return"just now";const y={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};let E;for(const C in y)if(E=Math.floor(h/y[C]),E>0)return 1===E?E+" "+C+" ago":E+" "+C+"s ago"}return x}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275pipe=e.Yjl({name:"dateago",type:u,pure:!0})}return u})()},7198:(Je,le,l)=>{"use strict";l.d(le,{P:()=>N});var e=l(9212),S=l(4751),u=l(2236);let N=(()=>{class x{constructor(y,E){this.oauthService=y,this.router=E}canActivate(){return!!this.oauthService.hasValidAccessToken()||(this.router.navigate(["/"]),!1)}static#e=this.\u0275fac=function(E){return new(E||x)(e.LFG(S.Ct),e.LFG(u.F0))};static#t=this.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac})}return x})()},6746:(Je,le,l)=>{"use strict";l.d(le,{m:()=>qo});var e=l(6814),S=l(95),u=l(2236),N=l(7178),x=l(7198),h=l(9212),y=l(2096),E=l(4751),C=l(9862);let F=(()=>{class Ne{constructor(R,X,ye){this.oauthService=R,this.http=X,this.route=ye,this.userLoadededEvent=new h.vpe,this.loggedIn=!1}isLoggedInObs(){return(0,y.of)(this.oauthService.hasValidAccessToken())}isLoggedIn(){return this.oauthService.hasValidAccessToken()}clearState(){}getUser(){this.oauthService.loadUserProfile().then(R=>{this.currentUser=R,console.log("got user",R),this.userLoadededEvent.emit(R)}).catch(function(R){console.log(R)})}getProfile(){return this.oauthService.getIdentityClaims()}removeUser(){}startSigninMainWindow(){}endSigninMainWindow(){}startSignoutMainWindow(){}logout(){this.oauthService.logOut()}endSignoutMainWindow(){}static#e=this.\u0275fac=function(X){return new(X||Ne)(h.LFG(E.Ct),h.LFG(C.eN),h.LFG(u.F0))};static#t=this.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac})}return Ne})();var V=l(7368),$=l(2831),j=l(2495),Pi=l(8645),Hs=l(7394),us=l(6321),Es=l(9080),ao=l(927),ns=l(5592),ds=l(3019),hs=l(9773);function H(Ne,B,R){for(let X in B)if(B.hasOwnProperty(X)){const ye=B[X];ye?Ne.setProperty(X,ye,R?.has(X)?"important":""):Ne.removeProperty(X)}return Ne}function W(Ne,B){const R=B?"":"none";H(Ne.style,{"touch-action":B?"":"none","-webkit-user-drag":B?"":"none","-webkit-tap-highlight-color":B?"":"transparent","user-select":R,"-ms-user-select":R,"-webkit-user-select":R,"-moz-user-select":R})}function P(Ne,B,R){H(Ne.style,{position:B?"":"fixed",top:B?"":"0",opacity:B?"":"0",left:B?"":"-999em"},R)}function oe(Ne,B){return B&&"none"!=B?Ne+" "+B:Ne}function We(Ne){const B=Ne.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Ne)*B}function Bn(Ne,B){return Ne.getPropertyValue(B).split(",").map(X=>X.trim())}function Wi(Ne){const B=Ne.getBoundingClientRect();return{top:B.top,right:B.right,bottom:B.bottom,left:B.left,width:B.width,height:B.height,x:B.x,y:B.y}}function pr(Ne,B,R){const{top:X,bottom:ye,left:it,right:Mt}=Ne;return R>=X&&R<=ye&&B>=it&&B<=Mt}function Fr(Ne,B,R){Ne.top+=B,Ne.bottom=Ne.top+Ne.height,Ne.left+=R,Ne.right=Ne.left+Ne.width}function Ps(Ne,B,R,X){const{top:ye,right:it,bottom:Mt,left:Wt,width:Cn,height:Nn}=Ne,hi=Cn*B,$i=Nn*B;return X>ye-$i&&X<Mt+$i&&R>Wt-hi&&R<it+hi}l(7398),l(8180),l(7921),l(9397),l(4664),l(9388);class ho{constructor(B){this._document=B,this.positions=new Map}clear(){this.positions.clear()}cache(B){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),B.forEach(R=>{this.positions.set(R,{scrollPosition:{top:R.scrollTop,left:R.scrollLeft},clientRect:Wi(R)})})}handleScroll(B){const R=(0,$.sA)(B),X=this.positions.get(R);if(!X)return null;const ye=X.scrollPosition;let it,Mt;if(R===this._document){const Nn=this.getViewportScrollPosition();it=Nn.top,Mt=Nn.left}else it=R.scrollTop,Mt=R.scrollLeft;const Wt=ye.top-it,Cn=ye.left-Mt;return this.positions.forEach((Nn,hi)=>{Nn.clientRect&&R!==hi&&R.contains(hi)&&Fr(Nn.clientRect,Wt,Cn)}),ye.top=it,ye.left=Mt,{top:Wt,left:Cn}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function gr(Ne){const B=Ne.cloneNode(!0),R=B.querySelectorAll("[id]"),X=Ne.nodeName.toLowerCase();B.removeAttribute("id");for(let ye=0;ye<R.length;ye++)R[ye].removeAttribute("id");return"canvas"===X?eo(Ne,B):("input"===X||"select"===X||"textarea"===X)&&Vs(Ne,B),Xs("canvas",Ne,B,eo),Xs("input, textarea, select",Ne,B,Vs),B}function Xs(Ne,B,R,X){const ye=B.querySelectorAll(Ne);if(ye.length){const it=R.querySelectorAll(Ne);for(let Mt=0;Mt<ye.length;Mt++)X(ye[Mt],it[Mt])}}let fo=0;function Vs(Ne,B){"file"!==B.type&&(B.value=Ne.value),"radio"===B.type&&B.name&&(B.name=`mat-clone-${B.name}-${fo++}`)}function eo(Ne,B){const R=B.getContext("2d");if(R)try{R.drawImage(Ne,0,0)}catch{}}const xs=(0,$.i$)({passive:!0}),Do=(0,$.i$)({passive:!1}),Ao=new Set(["position"]);class ya{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(B){const R=(0,j.Ig)(B);R!==this._disabled&&(this._disabled=R,this._toggleNativeDragInteractions(),this._handles.forEach(X=>W(X,R)))}constructor(B,R,X,ye,it,Mt){this._config=R,this._document=X,this._ngZone=ye,this._viewportRuler=it,this._dragDropRegistry=Mt,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Pi.x,this._pointerMoveSubscription=Hs.w0.EMPTY,this._pointerUpSubscription=Hs.w0.EMPTY,this._scrollSubscription=Hs.w0.EMPTY,this._resizeSubscription=Hs.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Pi.x,this.started=new Pi.x,this.released=new Pi.x,this.ended=new Pi.x,this.entered=new Pi.x,this.exited=new Pi.x,this.dropped=new Pi.x,this.moved=this._moveEvents,this._pointerDown=Wt=>{if(this.beforeStarted.next(),this._handles.length){const Cn=this._getTargetHandle(Wt);Cn&&!this._disabledHandles.has(Cn)&&!this.disabled&&this._initializeDragSequence(Cn,Wt)}else this.disabled||this._initializeDragSequence(this._rootElement,Wt)},this._pointerMove=Wt=>{const Cn=this._getPointerPositionOnPage(Wt);if(!this._hasStartedDragging){if(Math.abs(Cn.x-this._pickupPositionOnPage.x)+Math.abs(Cn.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const $s=Date.now()>=this._dragStartTime+this._getDragStartDelay(Wt),Ys=this._dropContainer;if(!$s)return void this._endDragSequence(Wt);(!Ys||!Ys.isDragging()&&!Ys.isReceiving())&&(Wt.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Wt)))}return}Wt.preventDefault();const Nn=this._getConstrainedPointerPosition(Cn);if(this._hasMoved=!0,this._lastKnownPointerPosition=Cn,this._updatePointerDirectionDelta(Nn),this._dropContainer)this._updateActiveDropContainer(Nn,Cn);else{const hi=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,$i=this._activeTransform;$i.x=Nn.x-hi.x+this._passiveTransform.x,$i.y=Nn.y-hi.y+this._passiveTransform.y,this._applyRootElementTransform($i.x,$i.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:Nn,event:Wt,distance:this._getDragDistance(Nn),delta:this._pointerDirectionDelta})})},this._pointerUp=Wt=>{this._endDragSequence(Wt)},this._nativeDragStart=Wt=>{if(this._handles.length){const Cn=this._getTargetHandle(Wt);Cn&&!this._disabledHandles.has(Cn)&&!this.disabled&&Wt.preventDefault()}else this.disabled||Wt.preventDefault()},this.withRootElement(B).withParent(R.parentDragRef||null),this._parentPositions=new ho(X),Mt.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(B){this._handles=B.map(X=>(0,j.fI)(X)),this._handles.forEach(X=>W(X,this.disabled)),this._toggleNativeDragInteractions();const R=new Set;return this._disabledHandles.forEach(X=>{this._handles.indexOf(X)>-1&&R.add(X)}),this._disabledHandles=R,this}withPreviewTemplate(B){return this._previewTemplate=B,this}withPlaceholderTemplate(B){return this._placeholderTemplate=B,this}withRootElement(B){const R=(0,j.fI)(B);return R!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{R.addEventListener("mousedown",this._pointerDown,Do),R.addEventListener("touchstart",this._pointerDown,xs),R.addEventListener("dragstart",this._nativeDragStart,Do)}),this._initialTransform=void 0,this._rootElement=R),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(B){return this._boundaryElement=B?(0,j.fI)(B):null,this._resizeSubscription.unsubscribe(),B&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(B){return this._parentDragRef=B,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(B){!this._disabledHandles.has(B)&&this._handles.indexOf(B)>-1&&(this._disabledHandles.add(B),W(B,!0))}enableHandle(B){this._disabledHandles.has(B)&&(this._disabledHandles.delete(B),W(B,this.disabled))}withDirection(B){return this._direction=B,this}_withDropContainer(B){this._dropContainer=B}getFreeDragPosition(){const B=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:B.x,y:B.y}}setFreeDragPosition(B){return this._activeTransform={x:0,y:0},this._passiveTransform.x=B.x,this._passiveTransform.y=B.y,this._dropContainer||this._applyRootElementTransform(B.x,B.y),this}withPreviewContainer(B){return this._previewContainer=B,this}_sortFromLastPointerPosition(){const B=this._lastKnownPointerPosition;B&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(B),B)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(B){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:B}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(B),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const R=this._getPointerPositionOnPage(B);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(R),dropPoint:R,event:B})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(B){fs(B)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const R=this._dropContainer;if(R){const X=this._rootElement,ye=X.parentNode,it=this._placeholder=this._createPlaceholderElement(),Mt=this._anchor=this._anchor||this._document.createComment(""),Wt=this._getShadowRoot();ye.insertBefore(Mt,X),this._initialTransform=X.style.transform||"",this._preview=this._createPreviewElement(),P(X,!1,Ao),this._document.body.appendChild(ye.replaceChild(it,X)),this._getPreviewInsertionPoint(ye,Wt).appendChild(this._preview),this.started.next({source:this,event:B}),R.start(),this._initialContainer=R,this._initialIndex=R.getItemIndex(this)}else this.started.next({source:this,event:B}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(R?R.getScrollableParents():[])}_initializeDragSequence(B,R){this._parentDragRef&&R.stopPropagation();const X=this.isDragging(),ye=fs(R),it=!ye&&0!==R.button,Mt=this._rootElement,Wt=(0,$.sA)(R),Cn=!ye&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),Nn=ye?function Os(Ne){const B=Ne.touches&&Ne.touches[0]||Ne.changedTouches&&Ne.changedTouches[0];return!(!B||-1!==B.identifier||null!=B.radiusX&&1!==B.radiusX||null!=B.radiusY&&1!==B.radiusY)}(R):function pi(Ne){return 0===Ne.buttons||0===Ne.offsetX&&0===Ne.offsetY}(R);if(Wt&&Wt.draggable&&"mousedown"===R.type&&R.preventDefault(),X||it||Cn||Nn)return;if(this._handles.length){const xr=Mt.style;this._rootElementTapHighlight=xr.webkitTapHighlightColor||"",xr.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(xr=>this._updateOnScroll(xr)),this._boundaryElement&&(this._boundaryRect=Wi(this._boundaryElement));const hi=this._previewTemplate;this._pickupPositionInElement=hi&&hi.template&&!hi.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,B,R);const $i=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(R);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:$i.x,y:$i.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,R)}_cleanupDragArtifacts(B){P(this._rootElement,!0,Ao),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const R=this._dropContainer,X=R.getItemIndex(this),ye=this._getPointerPositionOnPage(B),it=this._getDragDistance(ye),Mt=R._isOverContainer(ye.x,ye.y);this.ended.next({source:this,distance:it,dropPoint:ye,event:B}),this.dropped.next({item:this,currentIndex:X,previousIndex:this._initialIndex,container:R,previousContainer:this._initialContainer,isPointerOverContainer:Mt,distance:it,dropPoint:ye,event:B}),R.drop(this,X,this._initialIndex,this._initialContainer,Mt,it,ye,B),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:B,y:R},{x:X,y:ye}){let it=this._initialContainer._getSiblingContainerFromPosition(this,B,R);!it&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(B,R)&&(it=this._initialContainer),it&&it!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=it,this._dropContainer.enter(this,B,R,it===this._initialContainer&&it.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:it,currentIndex:it.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(X,ye),this._dropContainer._sortItem(this,B,R,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(B,R):this._applyPreviewTransform(B-this._pickupPositionInElement.x,R-this._pickupPositionInElement.y))}_createPreviewElement(){const B=this._previewTemplate,R=this.previewClass,X=B?B.template:null;let ye;if(X&&B){const it=B.matchSize?this._initialClientRect:null,Mt=B.viewContainer.createEmbeddedView(X,B.context);Mt.detectChanges(),ye=Rs(Mt,this._document),this._previewRef=Mt,B.matchSize?is(ye,it):ye.style.transform=to(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else ye=gr(this._rootElement),is(ye,this._initialClientRect),this._initialTransform&&(ye.style.transform=this._initialTransform);return H(ye.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Ao),W(ye,!1),ye.classList.add("cdk-drag-preview"),ye.setAttribute("dir",this._direction),R&&(Array.isArray(R)?R.forEach(it=>ye.classList.add(it)):ye.classList.add(R)),ye}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const B=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(B.left,B.top);const R=function wn(Ne){const B=getComputedStyle(Ne),R=Bn(B,"transition-property"),X=R.find(Wt=>"transform"===Wt||"all"===Wt);if(!X)return 0;const ye=R.indexOf(X),it=Bn(B,"transition-duration"),Mt=Bn(B,"transition-delay");return We(it[ye])+We(Mt[ye])}(this._preview);return 0===R?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(X=>{const ye=Mt=>{(!Mt||(0,$.sA)(Mt)===this._preview&&"transform"===Mt.propertyName)&&(this._preview?.removeEventListener("transitionend",ye),X(),clearTimeout(it))},it=setTimeout(ye,1.5*R);this._preview.addEventListener("transitionend",ye)}))}_createPlaceholderElement(){const B=this._placeholderTemplate,R=B?B.template:null;let X;return R?(this._placeholderRef=B.viewContainer.createEmbeddedView(R,B.context),this._placeholderRef.detectChanges(),X=Rs(this._placeholderRef,this._document)):X=gr(this._rootElement),X.style.pointerEvents="none",X.classList.add("cdk-drag-placeholder"),X}_getPointerPositionInElement(B,R,X){const ye=R===this._rootElement?null:R,it=ye?ye.getBoundingClientRect():B,Mt=fs(X)?X.targetTouches[0]:X,Wt=this._getViewportScrollPosition();return{x:it.left-B.left+(Mt.pageX-it.left-Wt.left),y:it.top-B.top+(Mt.pageY-it.top-Wt.top)}}_getPointerPositionOnPage(B){const R=this._getViewportScrollPosition(),X=fs(B)?B.touches[0]||B.changedTouches[0]||{pageX:0,pageY:0}:B,ye=X.pageX-R.left,it=X.pageY-R.top;if(this._ownerSVGElement){const Mt=this._ownerSVGElement.getScreenCTM();if(Mt){const Wt=this._ownerSVGElement.createSVGPoint();return Wt.x=ye,Wt.y=it,Wt.matrixTransform(Mt.inverse())}}return{x:ye,y:it}}_getConstrainedPointerPosition(B){const R=this._dropContainer?this._dropContainer.lockAxis:null;let{x:X,y:ye}=this.constrainPosition?this.constrainPosition(B,this,this._initialClientRect,this._pickupPositionInElement):B;if("x"===this.lockAxis||"x"===R?ye=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===R)&&(X=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:it,y:Mt}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,Wt=this._boundaryRect,{width:Cn,height:Nn}=this._getPreviewRect(),hi=Wt.top+Mt,$i=Wt.bottom-(Nn-Mt);X=Mo(X,Wt.left+it,Wt.right-(Cn-it)),ye=Mo(ye,hi,$i)}return{x:X,y:ye}}_updatePointerDirectionDelta(B){const{x:R,y:X}=B,ye=this._pointerDirectionDelta,it=this._pointerPositionAtLastDirectionChange,Mt=Math.abs(R-it.x),Wt=Math.abs(X-it.y);return Mt>this._config.pointerDirectionChangeThreshold&&(ye.x=R>it.x?1:-1,it.x=R),Wt>this._config.pointerDirectionChangeThreshold&&(ye.y=X>it.y?1:-1,it.y=X),ye}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const B=this._handles.length>0||!this.isDragging();B!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=B,W(this._rootElement,B))}_removeRootElementListeners(B){B.removeEventListener("mousedown",this._pointerDown,Do),B.removeEventListener("touchstart",this._pointerDown,xs),B.removeEventListener("dragstart",this._nativeDragStart,Do)}_applyRootElementTransform(B,R){const X=to(B,R),ye=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=ye.transform&&"none"!=ye.transform?ye.transform:""),ye.transform=oe(X,this._initialTransform)}_applyPreviewTransform(B,R){const X=this._previewTemplate?.template?void 0:this._initialTransform,ye=to(B,R);this._preview.style.transform=oe(ye,X)}_getDragDistance(B){const R=this._pickupPositionOnPage;return R?{x:B.x-R.x,y:B.y-R.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:B,y:R}=this._passiveTransform;if(0===B&&0===R||this.isDragging()||!this._boundaryElement)return;const X=this._rootElement.getBoundingClientRect(),ye=this._boundaryElement.getBoundingClientRect();if(0===ye.width&&0===ye.height||0===X.width&&0===X.height)return;const it=ye.left-X.left,Mt=X.right-ye.right,Wt=ye.top-X.top,Cn=X.bottom-ye.bottom;ye.width>X.width?(it>0&&(B+=it),Mt>0&&(B-=Mt)):B=0,ye.height>X.height?(Wt>0&&(R+=Wt),Cn>0&&(R-=Cn)):R=0,(B!==this._passiveTransform.x||R!==this._passiveTransform.y)&&this.setFreeDragPosition({y:R,x:B})}_getDragStartDelay(B){const R=this.dragStartDelay;return"number"==typeof R?R:fs(B)?R.touch:R?R.mouse:0}_updateOnScroll(B){const R=this._parentPositions.handleScroll(B);if(R){const X=(0,$.sA)(B);this._boundaryRect&&X!==this._boundaryElement&&X.contains(this._boundaryElement)&&Fr(this._boundaryRect,R.top,R.left),this._pickupPositionOnPage.x+=R.left,this._pickupPositionOnPage.y+=R.top,this._dropContainer||(this._activeTransform.x-=R.left,this._activeTransform.y-=R.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,$.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(B,R){const X=this._previewContainer||"global";if("parent"===X)return B;if("global"===X){const ye=this._document;return R||ye.fullscreenElement||ye.webkitFullscreenElement||ye.mozFullScreenElement||ye.msFullscreenElement||ye.body}return(0,j.fI)(X)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(B){return this._handles.find(R=>B.target&&(B.target===R||R.contains(B.target)))}}function to(Ne,B){return`translate3d(${Math.round(Ne)}px, ${Math.round(B)}px, 0)`}function Mo(Ne,B,R){return Math.max(B,Math.min(R,Ne))}function fs(Ne){return"t"===Ne.type[0]}function Rs(Ne,B){const R=Ne.rootNodes;if(1===R.length&&R[0].nodeType===B.ELEMENT_NODE)return R[0];const X=B.createElement("div");return R.forEach(ye=>X.appendChild(ye)),X}function is(Ne,B){Ne.style.width=`${B.width}px`,Ne.style.height=`${B.height}px`,Ne.style.transform=to(B.left,B.top)}function rs(Ne,B){return Math.max(0,Math.min(B,Ne))}class zs{constructor(B,R){this._element=B,this._dragDropRegistry=R,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(B){this.withItems(B)}sort(B,R,X,ye){const it=this._itemPositions,Mt=this._getItemIndexFromPointerPosition(B,R,X,ye);if(-1===Mt&&it.length>0)return null;const Wt="horizontal"===this.orientation,Cn=it.findIndex(Kr=>Kr.drag===B),Nn=it[Mt],$i=Nn.clientRect,xr=Cn>Mt?1:-1,$s=this._getItemOffsetPx(it[Cn].clientRect,$i,xr),Ys=this._getSiblingOffsetPx(Cn,it,xr),Sr=it.slice();return function Ia(Ne,B,R){const X=rs(B,Ne.length-1),ye=rs(R,Ne.length-1);if(X===ye)return;const it=Ne[X],Mt=ye<X?-1:1;for(let Wt=X;Wt!==ye;Wt+=Mt)Ne[Wt]=Ne[Wt+Mt];Ne[ye]=it}(it,Cn,Mt),it.forEach((Kr,Qo)=>{if(Sr[Qo]===Kr)return;const Js=Kr.drag===B,Hi=Js?$s:Ys,Io=Js?B.getPlaceholderElement():Kr.drag.getRootElement();Kr.offset+=Hi,Wt?(Io.style.transform=oe(`translate3d(${Math.round(Kr.offset)}px, 0, 0)`,Kr.initialTransform),Fr(Kr.clientRect,0,Hi)):(Io.style.transform=oe(`translate3d(0, ${Math.round(Kr.offset)}px, 0)`,Kr.initialTransform),Fr(Kr.clientRect,Hi,0))}),this._previousSwap.overlaps=pr($i,R,X),this._previousSwap.drag=Nn.drag,this._previousSwap.delta=Wt?ye.x:ye.y,{previousIndex:Cn,currentIndex:Mt}}enter(B,R,X,ye){const it=null==ye||ye<0?this._getItemIndexFromPointerPosition(B,R,X):ye,Mt=this._activeDraggables,Wt=Mt.indexOf(B),Cn=B.getPlaceholderElement();let Nn=Mt[it];if(Nn===B&&(Nn=Mt[it+1]),!Nn&&(null==it||-1===it||it<Mt.length-1)&&this._shouldEnterAsFirstChild(R,X)&&(Nn=Mt[0]),Wt>-1&&Mt.splice(Wt,1),Nn&&!this._dragDropRegistry.isDragging(Nn)){const hi=Nn.getRootElement();hi.parentElement.insertBefore(Cn,hi),Mt.splice(it,0,B)}else(0,j.fI)(this._element).appendChild(Cn),Mt.push(B);Cn.style.transform="",this._cacheItemPositions()}withItems(B){this._activeDraggables=B.slice(),this._cacheItemPositions()}withSortPredicate(B){this._sortPredicate=B}reset(){this._activeDraggables.forEach(B=>{const R=B.getRootElement();if(R){const X=this._itemPositions.find(ye=>ye.drag===B)?.initialTransform;R.style.transform=X||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(B){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(X=>X.drag===B)}updateOnScroll(B,R){this._itemPositions.forEach(({clientRect:X})=>{Fr(X,B,R)}),this._itemPositions.forEach(({drag:X})=>{this._dragDropRegistry.isDragging(X)&&X._sortFromLastPointerPosition()})}_cacheItemPositions(){const B="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(R=>{const X=R.getVisibleElement();return{drag:R,offset:0,initialTransform:X.style.transform||"",clientRect:Wi(X)}}).sort((R,X)=>B?R.clientRect.left-X.clientRect.left:R.clientRect.top-X.clientRect.top)}_getItemOffsetPx(B,R,X){const ye="horizontal"===this.orientation;let it=ye?R.left-B.left:R.top-B.top;return-1===X&&(it+=ye?R.width-B.width:R.height-B.height),it}_getSiblingOffsetPx(B,R,X){const ye="horizontal"===this.orientation,it=R[B].clientRect,Mt=R[B+-1*X];let Wt=it[ye?"width":"height"]*X;if(Mt){const Cn=ye?"left":"top",Nn=ye?"right":"bottom";-1===X?Wt-=Mt.clientRect[Cn]-it[Nn]:Wt+=it[Cn]-Mt.clientRect[Nn]}return Wt}_shouldEnterAsFirstChild(B,R){if(!this._activeDraggables.length)return!1;const X=this._itemPositions,ye="horizontal"===this.orientation;if(X[0].drag!==this._activeDraggables[0]){const Mt=X[X.length-1].clientRect;return ye?B>=Mt.right:R>=Mt.bottom}{const Mt=X[0].clientRect;return ye?B<=Mt.left:R<=Mt.top}}_getItemIndexFromPointerPosition(B,R,X,ye){const it="horizontal"===this.orientation,Mt=this._itemPositions.findIndex(({drag:Wt,clientRect:Cn})=>Wt!==B&&((!ye||Wt!==this._previousSwap.drag||!this._previousSwap.overlaps||(it?ye.x:ye.y)!==this._previousSwap.delta)&&(it?R>=Math.floor(Cn.left)&&R<Math.floor(Cn.right):X>=Math.floor(Cn.top)&&X<Math.floor(Cn.bottom))));return-1!==Mt&&this._sortPredicate(Mt,B)?Mt:-1}}class Pr{constructor(B,R,X,ye,it){this._dragDropRegistry=R,this._ngZone=ye,this._viewportRuler=it,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Pi.x,this.entered=new Pi.x,this.exited=new Pi.x,this.dropped=new Pi.x,this.sorted=new Pi.x,this.receivingStarted=new Pi.x,this.receivingStopped=new Pi.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Hs.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Pi.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function oo(Ne=0,B=us.z){return Ne<0&&(Ne=0),(0,Es.H)(Ne,Ne,B)}(0,ao.Z).pipe((0,hs.R)(this._stopScrollTimers)).subscribe(()=>{const Mt=this._scrollNode,Wt=this.autoScrollStep;1===this._verticalScrollDirection?Mt.scrollBy(0,-Wt):2===this._verticalScrollDirection&&Mt.scrollBy(0,Wt),1===this._horizontalScrollDirection?Mt.scrollBy(-Wt,0):2===this._horizontalScrollDirection&&Mt.scrollBy(Wt,0)})},this.element=(0,j.fI)(B),this._document=X,this.withScrollableParents([this.element]),R.registerDropContainer(this),this._parentPositions=new ho(X),this._sortStrategy=new zs(this.element,R),this._sortStrategy.withSortPredicate((Mt,Wt)=>this.sortPredicate(Mt,Wt,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(B,R,X,ye){this._draggingStarted(),null==ye&&this.sortingDisabled&&(ye=this._draggables.indexOf(B)),this._sortStrategy.enter(B,R,X,ye),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:B,container:this,currentIndex:this.getItemIndex(B)})}exit(B){this._reset(),this.exited.next({item:B,container:this})}drop(B,R,X,ye,it,Mt,Wt,Cn={}){this._reset(),this.dropped.next({item:B,currentIndex:R,previousIndex:X,container:this,previousContainer:ye,isPointerOverContainer:it,distance:Mt,dropPoint:Wt,event:Cn})}withItems(B){const R=this._draggables;return this._draggables=B,B.forEach(X=>X._withDropContainer(this)),this.isDragging()&&(R.filter(ye=>ye.isDragging()).every(ye=>-1===B.indexOf(ye))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(B){return this._sortStrategy.direction=B,this}connectedTo(B){return this._siblings=B.slice(),this}withOrientation(B){return this._sortStrategy.orientation=B,this}withScrollableParents(B){const R=(0,j.fI)(this.element);return this._scrollableElements=-1===B.indexOf(R)?[R,...B]:B.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(B){return this._isDragging?this._sortStrategy.getItemIndex(B):this._draggables.indexOf(B)}isReceiving(){return this._activeSiblings.size>0}_sortItem(B,R,X,ye){if(this.sortingDisabled||!this._clientRect||!Ps(this._clientRect,.05,R,X))return;const it=this._sortStrategy.sort(B,R,X,ye);it&&this.sorted.next({previousIndex:it.previousIndex,currentIndex:it.currentIndex,container:this,item:B})}_startScrollingIfNecessary(B,R){if(this.autoScrollDisabled)return;let X,ye=0,it=0;if(this._parentPositions.positions.forEach((Mt,Wt)=>{Wt===this._document||!Mt.clientRect||X||Ps(Mt.clientRect,.05,B,R)&&([ye,it]=function Wo(Ne,B,R,X){const ye=ss(B,X),it=Oo(B,R);let Mt=0,Wt=0;if(ye){const Cn=Ne.scrollTop;1===ye?Cn>0&&(Mt=1):Ne.scrollHeight-Cn>Ne.clientHeight&&(Mt=2)}if(it){const Cn=Ne.scrollLeft;1===it?Cn>0&&(Wt=1):Ne.scrollWidth-Cn>Ne.clientWidth&&(Wt=2)}return[Mt,Wt]}(Wt,Mt.clientRect,B,R),(ye||it)&&(X=Wt))}),!ye&&!it){const{width:Mt,height:Wt}=this._viewportRuler.getViewportSize(),Cn={width:Mt,height:Wt,top:0,right:Mt,bottom:Wt,left:0};ye=ss(Cn,R),it=Oo(Cn,B),X=window}X&&(ye!==this._verticalScrollDirection||it!==this._horizontalScrollDirection||X!==this._scrollNode)&&(this._verticalScrollDirection=ye,this._horizontalScrollDirection=it,this._scrollNode=X,(ye||it)&&X?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const B=(0,j.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=B.msScrollSnapType||B.scrollSnapType||"",B.scrollSnapType=B.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const B=(0,j.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(B).clientRect}_reset(){this._isDragging=!1;const B=(0,j.fI)(this.element).style;B.scrollSnapType=B.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(R=>R._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(B,R){return null!=this._clientRect&&pr(this._clientRect,B,R)}_getSiblingContainerFromPosition(B,R,X){return this._siblings.find(ye=>ye._canReceive(B,R,X))}_canReceive(B,R,X){if(!this._clientRect||!pr(this._clientRect,R,X)||!this.enterPredicate(B,this))return!1;const ye=this._getShadowRoot().elementFromPoint(R,X);if(!ye)return!1;const it=(0,j.fI)(this.element);return ye===it||it.contains(ye)}_startReceiving(B,R){const X=this._activeSiblings;!X.has(B)&&R.every(ye=>this.enterPredicate(ye,this)||this._draggables.indexOf(ye)>-1)&&(X.add(B),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:B,receiver:this,items:R}))}_stopReceiving(B){this._activeSiblings.delete(B),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:B,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(B=>{if(this.isDragging()){const R=this._parentPositions.handleScroll(B);R&&this._sortStrategy.updateOnScroll(R.top,R.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const B=(0,$.kV)((0,j.fI)(this.element));this._cachedShadowRoot=B||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const B=this._sortStrategy.getActiveItemsSnapshot().filter(R=>R.isDragging());this._siblings.forEach(R=>R._startReceiving(this,B))}}function ss(Ne,B){const{top:R,bottom:X,height:ye}=Ne,it=.05*ye;return B>=R-it&&B<=R+it?1:B>=X-it&&B<=X+it?2:0}function Oo(Ne,B){const{left:R,right:X,width:ye}=Ne,it=.05*ye;return B>=R-it&&B<=R+it?1:B>=X-it&&B<=X+it?2:0}const Gs=(0,$.i$)({passive:!1,capture:!0});let aa=(()=>{class Ne{constructor(R,X){this._ngZone=R,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=ye=>ye.isDragging(),this.pointerMove=new Pi.x,this.pointerUp=new Pi.x,this.scroll=new Pi.x,this._preventDefaultWhileDragging=ye=>{this._activeDragInstances.length>0&&ye.preventDefault()},this._persistentTouchmoveListener=ye=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&ye.preventDefault(),this.pointerMove.next(ye))},this._document=X}registerDropContainer(R){this._dropInstances.has(R)||this._dropInstances.add(R)}registerDragItem(R){this._dragInstances.add(R),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Gs)})}removeDropContainer(R){this._dropInstances.delete(R)}removeDragItem(R){this._dragInstances.delete(R),this.stopDragging(R),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Gs)}startDragging(R,X){if(!(this._activeDragInstances.indexOf(R)>-1)&&(this._activeDragInstances.push(R),1===this._activeDragInstances.length)){const ye=X.type.startsWith("touch");this._globalListeners.set(ye?"touchend":"mouseup",{handler:it=>this.pointerUp.next(it),options:!0}).set("scroll",{handler:it=>this.scroll.next(it),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Gs}),ye||this._globalListeners.set("mousemove",{handler:it=>this.pointerMove.next(it),options:Gs}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((it,Mt)=>{this._document.addEventListener(Mt,it.handler,it.options)})})}}stopDragging(R){const X=this._activeDragInstances.indexOf(R);X>-1&&(this._activeDragInstances.splice(X,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(R){return this._activeDragInstances.indexOf(R)>-1}scrolled(R){const X=[this.scroll];return R&&R!==this._document&&X.push(new ns.y(ye=>this._ngZone.runOutsideAngular(()=>{const Mt=Wt=>{this._activeDragInstances.length&&ye.next(Wt)};return R.addEventListener("scroll",Mt,!0),()=>{R.removeEventListener("scroll",Mt,!0)}}))),(0,ds.T)(...X)}ngOnDestroy(){this._dragInstances.forEach(R=>this.removeDragItem(R)),this._dropInstances.forEach(R=>this.removeDropContainer(R)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((R,X)=>{this._document.removeEventListener(X,R.handler,R.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(X){return new(X||Ne)(h.LFG(h.R0b),h.LFG(e.K0))};static#t=this.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();const Is={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let $o=(()=>{class Ne{constructor(R,X,ye,it){this._document=R,this._ngZone=X,this._viewportRuler=ye,this._dragDropRegistry=it}createDrag(R,X=Is){return new ya(R,X,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(R){return new Pr(R,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(X){return new(X||Ne)(h.LFG(e.K0),h.LFG(h.R0b),h.LFG(V.rL),h.LFG(aa))};static#t=this.\u0275prov=h.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})(),Qi=(()=>{class Ne{static#e=this.\u0275fac=function(X){return new(X||Ne)};static#t=this.\u0275mod=h.oAB({type:Ne});static#n=this.\u0275inj=h.cJS({providers:[$o],imports:[V.ZD]})}return Ne})();var Ro=l(9301);let qo=(()=>{class Ne{static forRoot(){return{ngModule:Ne,providers:[F,x.P]}}static#e=this.\u0275fac=function(X){return new(X||Ne)};static#t=this.\u0275mod=h.oAB({type:Ne});static#n=this.\u0275inj=h.cJS({imports:[e.ez,u.Bz,S.u5,S.UX,N.IJ,Ro.e,e.ez,S.u5,S.UX,u.Bz,Qi]})}return Ne})()},8973:(Je,le,l)=>{"use strict";l.d(le,{q:()=>N});var e=l(9212),S=l(6814);const u=x=>({hide:x});let N=(()=>{class x{constructor(y){this.cd=y,this._loading=!0}set loading(y){this._loading=y,this.cd.detectChanges()}get loading(){return this._loading}static#e=this.\u0275fac=function(E){return new(E||x)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:x,selectors:[["app-loading"]],inputs:{loading:"loading"},decls:2,vars:3,consts:[[1,"progress",3,"ngClass"],[1,"loading"]],template:function(E,C){1&E&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&E&&e.Q6J("ngClass",e.VKq(1,u,!C.loading))},dependencies:[S.mk],styles:['[_nghost-%COMP%]{position:fixed;width:100%;top:0;z-index:4}.hide[_ngcontent-%COMP%]{display:none!important}.progress[_ngcontent-%COMP%]{position:relative;height:4px;display:block;width:100%;background-color:#dc3545;border-radius:2px;background-clip:padding-box;overflow:hidden}.progress[_ngcontent-%COMP%]   .determinate[_ngcontent-%COMP%]{position:absolute;background-color:inherit;top:0;bottom:0;background-color:#198754;transition:width .3s linear}.progress[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{background-color:#198754}.progress[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:_ngcontent-%COMP%_indeterminate 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.progress[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:_ngcontent-%COMP%_indeterminate-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes _ngcontent-%COMP%_indeterminate{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes _ngcontent-%COMP%_indeterminate-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}'],changeDetection:0})}return x})()},9301:(Je,le,l)=>{"use strict";l.d(le,{e:()=>x});var e=l(6814),S=l(9212);const u=["toggleOption"],N=h=>({"text-muted":h});let x=(()=>{class h{constructor(){this.themeToggleDark=new S.vpe}toggle(){this.toggleOption.nativeElement.blur(),this.themeToggleDark.emit()}static#e=this.\u0275fac=function(C){return new(C||h)};static#t=this.\u0275cmp=S.Xpm({type:h,selectors:[["app-theme-option"]],viewQuery:function(C,F){if(1&C&&S.Gf(u,5),2&C){let V;S.iGM(V=S.CRH())&&(F.toggleOption=V.first)}},inputs:{darkMode:"darkMode",label:"label"},outputs:{themeToggleDark:"themeToggleDark"},standalone:!0,features:[S.jDz],decls:6,vars:5,consts:[[1,"toggle-check","toggle-switch"],["for","flexSwitchCheckChecked",1,"form-check-label",3,"ngClass"],["type","checkbox","role","switch","id","flexSwitchCheckChecked",1,"toggle-input",3,"checked","click"],["toggleOption",""]],template:function(C,F){1&C&&(S.TgZ(0,"div",0)(1,"label",1),S._uU(2),S.qZA(),S._uU(3," \xa0 \xa0 "),S.TgZ(4,"input",2,3),S.NdJ("click",function(){return F.toggle()}),S.qZA()()),2&C&&(S.xp6(),S.Q6J("ngClass",S.VKq(3,N,!F.darkMode)),S.xp6(),S.Oqu(F.label),S.xp6(2),S.Q6J("checked",F.darkMode))},dependencies:[e.ez,e.mk],styles:["[_nghost-%COMP%]{padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);display:block}.toggle-switch[_ngcontent-%COMP%]   .toggle-input[_ngcontent-%COMP%]{--bs-form-switch-bg: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e\");width:2em;background-image:var(--bs-form-switch-bg);background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}.toggle-input[_ngcontent-%COMP%]{--bs-form-check-bg: var(--bs-body-bg);flex-shrink:0;width:1em;height:1em;margin-top:.25em;vertical-align:top;appearance:none;background-color:var(--bs-form-check-bg);background-image:var(--bs-form-check-bg-image);background-repeat:no-repeat;background-position:center;background-size:contain;border:var(--bs-border-width) solid var(--bs-border-color);-webkit-print-color-adjust:exact;print-color-adjust:exact}.toggle-switch[_ngcontent-%COMP%]   .toggle-input[_ngcontent-%COMP%]:checked{background-position:right center;--bs-form-switch-bg: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e\")}.toggle-input[_ngcontent-%COMP%]:checked[type=checkbox]{--bs-form-check-bg-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e\")}.toggle-switch[_ngcontent-%COMP%]   .toggle-input[_ngcontent-%COMP%]{--bs-form-switch-bg: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e\");width:2em;background-image:var(--bs-form-switch-bg);background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}.toggle-input[_ngcontent-%COMP%]:checked{background-color:#909dab1f;border-color:#909dab1f}.toggle-input[type=checkbox][_ngcontent-%COMP%]{border-radius:.25em}.toggle-switch[_ngcontent-%COMP%]{padding-left:0;display:flex;flex-direction:row;flex-wrap:nowrap}"]})}return h})()},8194:(Je,le,l)=>{"use strict";l.d(le,{F:()=>u});var e=l(9212);const S=["baBackTop"];let u=(()=>{class N{constructor(){this.position=400,this.showSpeed=500,this.moveSpeed=1e3}ngAfterViewInit(){this._onWindowScroll()}_onClick(){return this._selector.nativeElement.scroll({top:0,left:0,behavior:"smooth"}),!1}_onWindowScroll(){}static#e=this.\u0275fac=function(y){return new(y||N)};static#t=this.\u0275cmp=e.Xpm({type:N,selectors:[["app-back-top"]],viewQuery:function(y,E){if(1&y&&e.Gf(S,7),2&y){let C;e.iGM(C=e.CRH())&&(E._selector=C.first)}},hostBindings:function(y,E){1&y&&e.NdJ("click",function(){return E._onClick()})("scroll",function(){return E._onWindowScroll()},!1,e.Jf7)},inputs:{position:"position",showSpeed:"showSpeed",moveSpeed:"moveSpeed"},decls:2,vars:0,consts:[["title","Back to Top",1,"fa","fa-circle-up","back-top","ba-back-top"],["baBackTop",""]],template:function(y,E){1&y&&e._UZ(0,"i",0,1)},styles:[".ba-back-top[_ngcontent-%COMP%]{position:fixed;cursor:pointer;z-index:9999;display:none;text-decoration:none;right:40px;bottom:40px!important;font-size:45px;text-align:center;opacity:.4;color:#fff;border-radius:50%;line-height:40px;background:var(--bs-primary)}.ba-back-top[_ngcontent-%COMP%]:hover{opacity:.8}"]})}return N})()},2743:(Je,le,l)=>{"use strict";l.d(le,{w:()=>h});var e=l(9212),S=l(6814);function u(y,E){if(1&y&&(e.TgZ(0,"h4",6),e._uU(1),e.qZA()),2&y){const C=e.oxw();e.xp6(),e.hij(" ",C.title," ")}}function N(y,E){if(1&y&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&y){const C=e.oxw();e.xp6(),e.hij(" ",C.footer," ")}}const x=["*"];let h=(()=>{class y{static#e=this.\u0275fac=function(F){return new(F||y)};static#t=this.\u0275cmp=e.Xpm({type:y,selectors:[["app-ba-card"]],inputs:{title:"title",baCardClass:"baCardClass",cardType:"cardType",header:"header",footer:"footer",scrollBar:"scrollBar",margin:"margin",padding:"padding"},ngContentSelectors:x,decls:8,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"card-block"],["class","card-title",4,"ngIf"],[1,"card-text"],["class","card-footer",4,"ngIf"],[1,"card-title"],[1,"card-footer"]],template:function(F,V){1&F&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,u,2,1,"h4",3),e.TgZ(5,"p",4),e.Hsn(6),e.qZA()(),e.YNc(7,N,2,1,"div",5),e.qZA()),2&F&&(e.xp6(2),e.hij(" ",V.header," "),e.xp6(),e.Udp("margin",V.margin,"rem")("padding",V.padding,"rem"),e.xp6(),e.Q6J("ngIf",V.title),e.xp6(3),e.Q6J("ngIf",V.footer))},dependencies:[S.O5],styles:[".card-block[_ngcontent-%COMP%]{margin:1rem}.panel-default[_ngcontent-%COMP%]{border-color:#ddd}.panel[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#fff;border:1px solid transparent;border-radius:4px;box-shadow:0 1px 1px #0000000d}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]{color:#333;background-color:#f5f5f5;border-color:#ddd}.panel-heading[_ngcontent-%COMP%]{padding:10px 15px;border-bottom:1px solid transparent;border-top-left-radius:3px;border-top-right-radius:3px}.panel-body[_ngcontent-%COMP%]{padding:15px}"]})}return y})()},596:(Je,le,l)=>{"use strict";function e(s,p){let O;if(void 0===p)for(const I of s)null!=I&&(O<I||void 0===O&&I>=I)&&(O=I);else{let I=-1;for(let J of s)null!=(J=p(J,++I,s))&&(O<J||void 0===O&&J>=J)&&(O=J)}return O}function S(s){return s}l.d(le,{J:()=>Zn});var u=1,N=2,x=3,h=4,y=1e-6;function E(s){return"translate("+s+",0)"}function C(s){return"translate(0,"+s+")"}function F(s){return p=>+s(p)}function V(s,p){return p=Math.max(0,s.bandwidth()-2*p)/2,s.round()&&(p=Math.round(p)),O=>+s(O)+p}function $(){return!this.__axis}function j(s,p){var O=[],I=null,J=null,de=6,me=6,Ue=3,Ze=typeof window<"u"&&window.devicePixelRatio>1?0:.5,rt=s===u||s===h?-1:1,gt=s===h||s===N?"x":"y",Ft=s===u||s===x?E:C;function xt(Xt){var Wn=I??(p.ticks?p.ticks.apply(p,O):p.domain()),gi=J??(p.tickFormat?p.tickFormat.apply(p,O):S),nn=Math.max(de,0)+Ue,en=p.range(),In=+en[0]+Ze,Lt=+en[en.length-1]+Ze,rn=(p.bandwidth?V:F)(p.copy(),Ze),tn=Xt.selection?Xt.selection():Xt,On=tn.selectAll(".domain").data([null]),ni=tn.selectAll(".tick").data(Wn,p).order(),mi=ni.exit(),Ai=ni.enter().append("g").attr("class","tick"),ai=ni.select("line"),_n=ni.select("text");On=On.merge(On.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),ni=ni.merge(Ai),ai=ai.merge(Ai.append("line").attr("stroke","currentColor").attr(gt+"2",rt*de)),_n=_n.merge(Ai.append("text").attr("fill","currentColor").attr(gt,rt*nn).attr("dy",s===u?"0em":s===x?"0.71em":"0.32em")),Xt!==tn&&(On=On.transition(Xt),ni=ni.transition(Xt),ai=ai.transition(Xt),_n=_n.transition(Xt),mi=mi.transition(Xt).attr("opacity",y).attr("transform",function(Ui){return isFinite(Ui=rn(Ui))?Ft(Ui+Ze):this.getAttribute("transform")}),Ai.attr("opacity",y).attr("transform",function(Ui){var fi=this.parentNode.__axis;return Ft((fi&&isFinite(fi=fi(Ui))?fi:rn(Ui))+Ze)})),mi.remove(),On.attr("d",s===h||s===N?me?"M"+rt*me+","+In+"H"+Ze+"V"+Lt+"H"+rt*me:"M"+Ze+","+In+"V"+Lt:me?"M"+In+","+rt*me+"V"+Ze+"H"+Lt+"V"+rt*me:"M"+In+","+Ze+"H"+Lt),ni.attr("opacity",1).attr("transform",function(Ui){return Ft(rn(Ui)+Ze)}),ai.attr(gt+"2",rt*de),_n.attr(gt,rt*nn).text(gi),tn.filter($).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",s===N?"start":s===h?"end":"middle"),tn.each(function(){this.__axis=rn})}return xt.scale=function(Xt){return arguments.length?(p=Xt,xt):p},xt.ticks=function(){return O=Array.from(arguments),xt},xt.tickArguments=function(Xt){return arguments.length?(O=null==Xt?[]:Array.from(Xt),xt):O.slice()},xt.tickValues=function(Xt){return arguments.length?(I=null==Xt?null:Array.from(Xt),xt):I&&I.slice()},xt.tickFormat=function(Xt){return arguments.length?(J=Xt,xt):J},xt.tickSize=function(Xt){return arguments.length?(de=me=+Xt,xt):de},xt.tickSizeInner=function(Xt){return arguments.length?(de=+Xt,xt):de},xt.tickSizeOuter=function(Xt){return arguments.length?(me=+Xt,xt):me},xt.tickPadding=function(Xt){return arguments.length?(Ue=+Xt,xt):Ue},xt.offset=function(Xt){return arguments.length?(Ze=+Xt,xt):Ze},xt}function ue(s){return j(x,s)}function Fe(s){return j(h,s)}function be(){}function De(s){return null==s?be:function(){return this.querySelector(s)}}function Me(){return[]}function st(s){return null==s?Me:function(){return this.querySelectorAll(s)}}function Gt(s){return function(){return this.matches(s)}}function Pt(s){return function(p){return p.matches(s)}}var dt=Array.prototype.find;function an(){return this.firstElementChild}var Sn=Array.prototype.filter;function hn(){return Array.from(this.children)}function ht(s){return new Array(s.length)}function wt(s,p){this.ownerDocument=s.ownerDocument,this.namespaceURI=s.namespaceURI,this._next=null,this._parent=s,this.__data__=p}function Vt(s,p,O,I,J,de){for(var Ue,me=0,Ze=p.length,rt=de.length;me<rt;++me)(Ue=p[me])?(Ue.__data__=de[me],I[me]=Ue):O[me]=new wt(s,de[me]);for(;me<Ze;++me)(Ue=p[me])&&(J[me]=Ue)}function dn(s,p,O,I,J,de,me){var Ue,Ze,Xt,rt=new Map,gt=p.length,Ft=de.length,xt=new Array(gt);for(Ue=0;Ue<gt;++Ue)(Ze=p[Ue])&&(xt[Ue]=Xt=me.call(Ze,Ze.__data__,Ue,p)+"",rt.has(Xt)?J[Ue]=Ze:rt.set(Xt,Ze));for(Ue=0;Ue<Ft;++Ue)Xt=me.call(s,de[Ue],Ue,de)+"",(Ze=rt.get(Xt))?(I[Ue]=Ze,Ze.__data__=de[Ue],rt.delete(Xt)):O[Ue]=new wt(s,de[Ue]);for(Ue=0;Ue<gt;++Ue)(Ze=p[Ue])&&rt.get(xt[Ue])===Ze&&(J[Ue]=Ze)}function An(s){return s.__data__}function U(s){return"object"==typeof s&&"length"in s?s:Array.from(s)}function Et(s,p){return s<p?-1:s>p?1:s>=p?0:NaN}wt.prototype={constructor:wt,appendChild:function(s){return this._parent.insertBefore(s,this._next)},insertBefore:function(s,p){return this._parent.insertBefore(s,p)},querySelector:function(s){return this._parent.querySelector(s)},querySelectorAll:function(s){return this._parent.querySelectorAll(s)}};var zn="http://www.w3.org/1999/xhtml";const on={svg:"http://www.w3.org/2000/svg",xhtml:zn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jn(s){var p=s+="",O=p.indexOf(":");return O>=0&&"xmlns"!==(p=s.slice(0,O))&&(s=s.slice(O+1)),on.hasOwnProperty(p)?{space:on[p],local:s}:s}function xn(s){return function(){this.removeAttribute(s)}}function vi(s){return function(){this.removeAttributeNS(s.space,s.local)}}function ri(s,p){return function(){this.setAttribute(s,p)}}function ce(s,p){return function(){this.setAttributeNS(s.space,s.local,p)}}function Mi(s,p){return function(){var O=p.apply(this,arguments);null==O?this.removeAttribute(s):this.setAttribute(s,O)}}function Ii(s,p){return function(){var O=p.apply(this,arguments);null==O?this.removeAttributeNS(s.space,s.local):this.setAttributeNS(s.space,s.local,O)}}function Tr(s){return s.ownerDocument&&s.ownerDocument.defaultView||s.document&&s||s.defaultView}function Xi(s){return function(){this.style.removeProperty(s)}}function er(s,p,O){return function(){this.style.setProperty(s,p,O)}}function Ht(s,p,O){return function(){var I=p.apply(this,arguments);null==I?this.style.removeProperty(s):this.style.setProperty(s,I,O)}}function Y(s,p){return s.style.getPropertyValue(p)||Tr(s).getComputedStyle(s,null).getPropertyValue(p)}function pe(s){return function(){delete this[s]}}function et(s,p){return function(){this[s]=p}}function ct(s,p){return function(){var O=p.apply(this,arguments);null==O?delete this[s]:this[s]=O}}function lt(s){return s.trim().split(/^|\s+/)}function Ut(s){return s.classList||new pn(s)}function pn(s){this._node=s,this._names=lt(s.getAttribute("class")||"")}function vn(s,p){for(var O=Ut(s),I=-1,J=p.length;++I<J;)O.add(p[I])}function Jt(s,p){for(var O=Ut(s),I=-1,J=p.length;++I<J;)O.remove(p[I])}function Ke(s){return function(){vn(this,s)}}function Bt(s){return function(){Jt(this,s)}}function ge(s,p){return function(){(p.apply(this,arguments)?vn:Jt)(this,s)}}function _t(){this.textContent=""}function kt(s){return function(){this.textContent=s}}function Qt(s){return function(){var p=s.apply(this,arguments);this.textContent=p??""}}function ui(){this.innerHTML=""}function Ci(s){return function(){this.innerHTML=s}}function tr(s){return function(){var p=s.apply(this,arguments);this.innerHTML=p??""}}function Zi(){this.nextSibling&&this.parentNode.appendChild(this)}function lr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sr(s){return function(){var p=this.ownerDocument,O=this.namespaceURI;return O===zn&&p.documentElement.namespaceURI===zn?p.createElement(s):p.createElementNS(O,s)}}function Oi(s){return function(){return this.ownerDocument.createElementNS(s.space,s.local)}}function si(s){var p=jn(s);return(p.local?Oi:sr)(p)}function Qr(){return null}function zi(){var s=this.parentNode;s&&s.removeChild(this)}function Xr(){var s=this.cloneNode(!1),p=this.parentNode;return p?p.insertBefore(s,this.nextSibling):s}function ve(){var s=this.cloneNode(!0),p=this.parentNode;return p?p.insertBefore(s,this.nextSibling):s}function r(s){return function(){var p=this.__on;if(p){for(var de,O=0,I=-1,J=p.length;O<J;++O)de=p[O],s.type&&de.type!==s.type||de.name!==s.name?p[++I]=de:this.removeEventListener(de.type,de.listener,de.options);++I?p.length=I:delete this.__on}}}function a(s,p,O){return function(){var J,I=this.__on,de=function St(s){return function(p){s.call(this,p,this.__data__)}}(p);if(I)for(var me=0,Ue=I.length;me<Ue;++me)if((J=I[me]).type===s.type&&J.name===s.name)return this.removeEventListener(J.type,J.listener,J.options),this.addEventListener(J.type,J.listener=de,J.options=O),void(J.value=p);this.addEventListener(s.type,de,O),J={type:s.type,name:s.name,value:p,listener:de,options:O},I?I.push(J):this.__on=[J]}}function T(s,p,O){var I=Tr(s),J=I.CustomEvent;"function"==typeof J?J=new J(p,O):(J=I.document.createEvent("Event"),O?(J.initEvent(p,O.bubbles,O.cancelable),J.detail=O.detail):J.initEvent(p,!1,!1)),s.dispatchEvent(J)}function k(s,p){return function(){return T(this,s,p)}}function te(s,p){return function(){return T(this,s,p.apply(this,arguments))}}pn.prototype={add:function(s){this._names.indexOf(s)<0&&(this._names.push(s),this._node.setAttribute("class",this._names.join(" ")))},remove:function(s){var p=this._names.indexOf(s);p>=0&&(this._names.splice(p,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(s){return this._names.indexOf(s)>=0}};var we=[null];function Ce(s,p){this._groups=s,this._parents=p}function Ee(){return new Ce([[document.documentElement]],we)}Ce.prototype=Ee.prototype={constructor:Ce,select:function se(s){"function"!=typeof s&&(s=De(s));for(var p=this._groups,O=p.length,I=new Array(O),J=0;J<O;++J)for(var Ze,rt,de=p[J],me=de.length,Ue=I[J]=new Array(me),gt=0;gt<me;++gt)(Ze=de[gt])&&(rt=s.call(Ze,Ze.__data__,gt,de))&&("__data__"in Ze&&(rt.__data__=Ze.__data__),Ue[gt]=rt);return new Ce(I,this._parents)},selectAll:function Dt(s){s="function"==typeof s?function fe(s){return function(){return function Ae(s){return null==s?[]:Array.isArray(s)?s:Array.from(s)}(s.apply(this,arguments))}}(s):st(s);for(var p=this._groups,O=p.length,I=[],J=[],de=0;de<O;++de)for(var Ze,me=p[de],Ue=me.length,rt=0;rt<Ue;++rt)(Ze=me[rt])&&(I.push(s.call(Ze,Ze.__data__,rt,me)),J.push(Ze));return new Ce(I,J)},selectChild:function un(s){return this.select(null==s?an:function sn(s){return function(){return dt.call(this.children,s)}}("function"==typeof s?s:Pt(s)))},selectChildren:function $t(s){return this.selectAll(null==s?hn:function cn(s){return function(){return Sn.call(this.children,s)}}("function"==typeof s?s:Pt(s)))},filter:function Xe(s){"function"!=typeof s&&(s=Gt(s));for(var p=this._groups,O=p.length,I=new Array(O),J=0;J<O;++J)for(var Ze,de=p[J],me=de.length,Ue=I[J]=[],rt=0;rt<me;++rt)(Ze=de[rt])&&s.call(Ze,Ze.__data__,rt,de)&&Ue.push(Ze);return new Ce(I,this._parents)},data:function Te(s,p){if(!arguments.length)return Array.from(this,An);var O=p?dn:Vt,I=this._parents,J=this._groups;"function"!=typeof s&&(s=function Kt(s){return function(){return s}}(s));for(var de=J.length,me=new Array(de),Ue=new Array(de),Ze=new Array(de),rt=0;rt<de;++rt){var gt=I[rt],Ft=J[rt],xt=Ft.length,Xt=U(s.call(gt,gt&&gt.__data__,rt,I)),Wn=Xt.length,gi=Ue[rt]=new Array(Wn),nn=me[rt]=new Array(Wn);O(gt,Ft,gi,nn,Ze[rt]=new Array(xt),Xt,p);for(var rn,tn,In=0,Lt=0;In<Wn;++In)if(rn=gi[In]){for(In>=Lt&&(Lt=In+1);!(tn=nn[Lt])&&++Lt<Wn;);rn._next=tn||null}}return(me=new Ce(me,I))._enter=Ue,me._exit=Ze,me},enter:function Tt(){return new Ce(this._enter||this._groups.map(ht),this._parents)},exit:function K(){return new Ce(this._exit||this._groups.map(ht),this._parents)},join:function xe(s,p,O){var I=this.enter(),J=this,de=this.exit();return"function"==typeof s?(I=s(I))&&(I=I.selection()):I=I.append(s+""),null!=p&&(J=p(J))&&(J=J.selection()),null==O?de.remove():O(de),I&&J?I.merge(J).order():J},merge:function Be(s){for(var p=s.selection?s.selection():s,O=this._groups,I=p._groups,J=O.length,me=Math.min(J,I.length),Ue=new Array(J),Ze=0;Ze<me;++Ze)for(var Xt,rt=O[Ze],gt=I[Ze],Ft=rt.length,xt=Ue[Ze]=new Array(Ft),Wn=0;Wn<Ft;++Wn)(Xt=rt[Wn]||gt[Wn])&&(xt[Wn]=Xt);for(;Ze<J;++Ze)Ue[Ze]=O[Ze];return new Ce(Ue,this._parents)},selection:function Pe(){return this},order:function tt(){for(var s=this._groups,p=-1,O=s.length;++p<O;)for(var me,I=s[p],J=I.length-1,de=I[J];--J>=0;)(me=I[J])&&(de&&4^me.compareDocumentPosition(de)&&de.parentNode.insertBefore(me,de),de=me);return this},sort:function qe(s){function p(Ft,xt){return Ft&&xt?s(Ft.__data__,xt.__data__):!Ft-!xt}s||(s=Et);for(var O=this._groups,I=O.length,J=new Array(I),de=0;de<I;++de){for(var rt,me=O[de],Ue=me.length,Ze=J[de]=new Array(Ue),gt=0;gt<Ue;++gt)(rt=me[gt])&&(Ze[gt]=rt);Ze.sort(p)}return new Ce(J,this._parents).order()},call:function Qe(){var s=arguments[0];return arguments[0]=this,s.apply(null,arguments),this},nodes:function Ct(){return Array.from(this)},node:function Yt(){for(var s=this._groups,p=0,O=s.length;p<O;++p)for(var I=s[p],J=0,de=I.length;J<de;++J){var me=I[J];if(me)return me}return null},size:function ln(){let s=0;for(const p of this)++s;return s},empty:function Pn(){return!this.node()},each:function Hn(s){for(var p=this._groups,O=0,I=p.length;O<I;++O)for(var Ue,J=p[O],de=0,me=J.length;de<me;++de)(Ue=J[de])&&s.call(Ue,Ue.__data__,de,J);return this},attr:function qt(s,p){var O=jn(s);if(arguments.length<2){var I=this.node();return O.local?I.getAttributeNS(O.space,O.local):I.getAttribute(O)}return this.each((null==p?O.local?vi:xn:"function"==typeof p?O.local?Ii:Mi:O.local?ce:ri)(O,p))},style:function It(s,p,O){return arguments.length>1?this.each((null==p?Xi:"function"==typeof p?Ht:er)(s,p,O??"")):Y(this.node(),s)},property:function at(s,p){return arguments.length>1?this.each((null==p?pe:"function"==typeof p?ct:et)(s,p)):this.node()[s]},classed:function $e(s,p){var O=lt(s+"");if(arguments.length<2){for(var I=Ut(this.node()),J=-1,de=O.length;++J<de;)if(!I.contains(O[J]))return!1;return!0}return this.each(("function"==typeof p?ge:p?Ke:Bt)(O,p))},text:function Rn(s){return arguments.length?this.each(null==s?_t:("function"==typeof s?Qt:kt)(s)):this.node().textContent},html:function rr(s){return arguments.length?this.each(null==s?ui:("function"==typeof s?tr:Ci)(s)):this.node().innerHTML},raise:function xi(){return this.each(Zi)},lower:function Dr(){return this.each(lr)},append:function nr(s){var p="function"==typeof s?s:si(s);return this.select(function(){return this.appendChild(p.apply(this,arguments))})},insert:function zr(s,p){var O="function"==typeof s?s:si(s),I=null==p?Qr:"function"==typeof p?p:De(p);return this.select(function(){return this.insertBefore(O.apply(this,arguments),I.apply(this,arguments)||null)})},remove:function Wr(){return this.each(zi)},clone:function Ye(s){return this.select(s?ve:Xr)},datum:function Ge(s){return arguments.length?this.property("__data__",s):this.node().__data__},on:function f(s,p,O){var J,me,I=function i(s){return s.trim().split(/^|\s+/).map(function(p){var O="",I=p.indexOf(".");return I>=0&&(O=p.slice(I+1),p=p.slice(0,I)),{type:p,name:O}})}(s+""),de=I.length;if(!(arguments.length<2)){for(Ue=p?a:r,J=0;J<de;++J)this.each(Ue(I[J],p,O));return this}var Ue=this.node().__on;if(Ue)for(var gt,Ze=0,rt=Ue.length;Ze<rt;++Ze)for(J=0,gt=Ue[Ze];J<de;++J)if((me=I[J]).type===gt.type&&me.name===gt.name)return gt.value},dispatch:function _e(s,p){return this.each(("function"==typeof p?te:k)(s,p))},[Symbol.iterator]:function*he(){for(var s=this._groups,p=0,O=s.length;p<O;++p)for(var me,I=s[p],J=0,de=I.length;J<de;++J)(me=I[J])&&(yield me)}};const Ve=Ee;var ot={value:()=>{}};function ut(){for(var I,s=0,p=arguments.length,O={};s<p;++s){if(!(I=arguments[s]+"")||I in O||/[\s.]/.test(I))throw new Error("illegal type: "+I);O[I]=[]}return new ft(O)}function ft(s){this._=s}function Re(s,p){for(var J,O=0,I=s.length;O<I;++O)if((J=s[O]).name===p)return J.value}function ke(s,p,O){for(var I=0,J=s.length;I<J;++I)if(s[I].name===p){s[I]=ot,s=s.slice(0,I).concat(s.slice(I+1));break}return null!=O&&s.push({name:p,value:O}),s}ft.prototype=ut.prototype={constructor:ft,on:function(s,p){var J,O=this._,I=function ae(s,p){return s.trim().split(/^|\s+/).map(function(O){var I="",J=O.indexOf(".");if(J>=0&&(I=O.slice(J+1),O=O.slice(0,J)),O&&!p.hasOwnProperty(O))throw new Error("unknown type: "+O);return{type:O,name:I}})}(s+"",O),de=-1,me=I.length;if(!(arguments.length<2)){if(null!=p&&"function"!=typeof p)throw new Error("invalid callback: "+p);for(;++de<me;)if(J=(s=I[de]).type)O[J]=ke(O[J],s.name,p);else if(null==p)for(J in O)O[J]=ke(O[J],s.name,null);return this}for(;++de<me;)if((J=(s=I[de]).type)&&(J=Re(O[J],s.name)))return J},copy:function(){var s={},p=this._;for(var O in p)s[O]=p[O].slice();return new ft(s)},call:function(s,p){if((J=arguments.length-2)>0)for(var J,de,O=new Array(J),I=0;I<J;++I)O[I]=arguments[I+2];if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(I=0,J=(de=this._[s]).length;I<J;++I)de[I].value.apply(p,O)},apply:function(s,p,O){if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(var I=this._[s],J=0,de=I.length;J<de;++J)I[J].value.apply(p,O)}};const je=ut;var Rt,yt,Q=0,Ie=0,ze=0,Le=1e3,Zt=0,Mn=0,Ln=0,Vn="object"==typeof performance&&performance.now?performance:Date,Kn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(s){setTimeout(s,17)};function di(){return Mn||(Kn(Ji),Mn=Vn.now()+Ln)}function Ji(){Mn=0}function qn(){this._call=this._time=this._next=null}function bi(s,p,O){var I=new qn;return I.restart(s,p,O),I}function qi(){Mn=(Zt=Vn.now())+Ln,Q=Ie=0;try{!function Gi(){di(),++Q;for(var p,s=Rt;s;)(p=Mn-s._time)>=0&&s._call.call(void 0,p),s=s._next;--Q}()}finally{Q=0,function ir(){for(var s,O,p=Rt,I=1/0;p;)p._call?(I>p._time&&(I=p._time),s=p,p=p._next):(O=p._next,p._next=null,p=s?s._next=O:Rt=O);yt=s,Mr(I)}(),Mn=0}}function Ar(){var s=Vn.now(),p=s-Zt;p>Le&&(Ln-=p,Zt=s)}function Mr(s){Q||(Ie&&(Ie=clearTimeout(Ie)),s-Mn>24?(s<1/0&&(Ie=setTimeout(qi,s-Vn.now()-Ln)),ze&&(ze=clearInterval(ze))):(ze||(Zt=Vn.now(),ze=setInterval(Ar,Le)),Q=1,Kn(qi)))}function cr(s,p,O){var I=new qn;return I.restart(J=>{I.stop(),s(J+p)},p=null==p?0:+p,O),I}qn.prototype=bi.prototype={constructor:qn,restart:function(s,p,O){if("function"!=typeof s)throw new TypeError("callback is not a function");O=(null==O?di():+O)+(null==p?0:+p),!this._next&&yt!==this&&(yt?yt._next=this:Rt=this,yt=this),this._call=s,this._time=O,Mr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mr())}};var vs=je("start","end","cancel","interrupt"),Rr=[],ur=0,yr=3;function Or(s,p,O,I,J,de){var me=s.__transition;if(me){if(O in me)return}else s.__transition={};!function Ti(s,p,O){var J,I=s.__transition;function me(rt){var gt,Ft,xt,Xt;if(1!==O.state)return Ze();for(gt in I)if((Xt=I[gt]).name===O.name){if(Xt.state===yr)return cr(me);4===Xt.state?(Xt.state=6,Xt.timer.stop(),Xt.on.call("interrupt",s,s.__data__,Xt.index,Xt.group),delete I[gt]):+gt<p&&(Xt.state=6,Xt.timer.stop(),Xt.on.call("cancel",s,s.__data__,Xt.index,Xt.group),delete I[gt])}if(cr(function(){O.state===yr&&(O.state=4,O.timer.restart(Ue,O.delay,O.time),Ue(rt))}),O.state=2,O.on.call("start",s,s.__data__,O.index,O.group),2===O.state){for(O.state=yr,J=new Array(xt=O.tween.length),gt=0,Ft=-1;gt<xt;++gt)(Xt=O.tween[gt].value.call(s,s.__data__,O.index,O.group))&&(J[++Ft]=Xt);J.length=Ft+1}}function Ue(rt){for(var gt=rt<O.duration?O.ease.call(null,rt/O.duration):(O.timer.restart(Ze),O.state=5,1),Ft=-1,xt=J.length;++Ft<xt;)J[Ft].call(s,gt);5===O.state&&(O.on.call("end",s,s.__data__,O.index,O.group),Ze())}function Ze(){for(var rt in O.state=6,O.timer.stop(),delete I[p],I)return;delete s.__transition}I[p]=O,O.timer=bi(function de(rt){O.state=1,O.timer.restart(me,O.delay,O.time),O.delay<=rt&&me(rt-O.delay)},0,O.time)}(s,O,{name:p,index:I,group:J,on:vs,tween:Rr,time:de.time,delay:de.delay,duration:de.duration,ease:de.ease,timer:null,state:ur})}function dr(s,p){var O=Bi(s,p);if(O.state>ur)throw new Error("too late; already scheduled");return O}function Li(s,p){var O=Bi(s,p);if(O.state>yr)throw new Error("too late; already running");return O}function Bi(s,p){var O=s.__transition;if(!O||!(O=O[p]))throw new Error("transition not found");return O}function pi(s,p){return s=+s,p=+p,function(O){return s*(1-O)+p*O}}var ys,Os=180/Math.PI,wr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hr(s,p,O,I,J,de){var me,Ue,Ze;return(me=Math.sqrt(s*s+p*p))&&(s/=me,p/=me),(Ze=s*O+p*I)&&(O-=s*Ze,I-=p*Ze),(Ue=Math.sqrt(O*O+I*I))&&(O/=Ue,I/=Ue,Ze/=Ue),s*I<p*O&&(s=-s,p=-p,Ze=-Ze,me=-me),{translateX:J,translateY:de,rotate:Math.atan2(p,s)*Os,skewX:Math.atan(Ze)*Os,scaleX:me,scaleY:Ue}}function wo(s,p,O,I){function J(rt){return rt.length?rt.pop()+" ":""}return function(rt,gt){var Ft=[],xt=[];return rt=s(rt),gt=s(gt),function de(rt,gt,Ft,xt,Xt,Wn){if(rt!==Ft||gt!==xt){var gi=Xt.push("translate(",null,p,null,O);Wn.push({i:gi-4,x:pi(rt,Ft)},{i:gi-2,x:pi(gt,xt)})}else(Ft||xt)&&Xt.push("translate("+Ft+p+xt+O)}(rt.translateX,rt.translateY,gt.translateX,gt.translateY,Ft,xt),function me(rt,gt,Ft,xt){rt!==gt?(rt-gt>180?gt+=360:gt-rt>180&&(rt+=360),xt.push({i:Ft.push(J(Ft)+"rotate(",null,I)-2,x:pi(rt,gt)})):gt&&Ft.push(J(Ft)+"rotate("+gt+I)}(rt.rotate,gt.rotate,Ft,xt),function Ue(rt,gt,Ft,xt){rt!==gt?xt.push({i:Ft.push(J(Ft)+"skewX(",null,I)-2,x:pi(rt,gt)}):gt&&Ft.push(J(Ft)+"skewX("+gt+I)}(rt.skewX,gt.skewX,Ft,xt),function Ze(rt,gt,Ft,xt,Xt,Wn){if(rt!==Ft||gt!==xt){var gi=Xt.push(J(Xt)+"scale(",null,",",null,")");Wn.push({i:gi-4,x:pi(rt,Ft)},{i:gi-2,x:pi(gt,xt)})}else(1!==Ft||1!==xt)&&Xt.push(J(Xt)+"scale("+Ft+","+xt+")")}(rt.scaleX,rt.scaleY,gt.scaleX,gt.scaleY,Ft,xt),rt=gt=null,function(Xt){for(var nn,Wn=-1,gi=xt.length;++Wn<gi;)Ft[(nn=xt[Wn]).i]=nn.x(Xt);return Ft.join("")}}}var So=wo(function ro(s){const p=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(s+"");return p.isIdentity?wr:Hr(p.a,p.b,p.c,p.d,p.e,p.f)},"px, ","px)","deg)"),Go=wo(function es(s){return null!=s&&(ys||(ys=document.createElementNS("http://www.w3.org/2000/svg","g")),ys.setAttribute("transform",s),s=ys.transform.baseVal.consolidate())?Hr((s=s.matrix).a,s.b,s.c,s.d,s.e,s.f):wr},", ",")",")");function Co(s,p){var O,I;return function(){var J=Li(this,s),de=J.tween;if(de!==O)for(var me=0,Ue=(I=O=de).length;me<Ue;++me)if(I[me].name===p){(I=I.slice()).splice(me,1);break}J.tween=I}}function Ko(s,p,O){var I,J;if("function"!=typeof O)throw new Error;return function(){var de=Li(this,s),me=de.tween;if(me!==I){J=(I=me).slice();for(var Ue={name:p,value:O},Ze=0,rt=J.length;Ze<rt;++Ze)if(J[Ze].name===p){J[Ze]=Ue;break}Ze===rt&&J.push(Ue)}de.tween=J}}function bs(s,p,O){var I=s._id;return s.each(function(){var J=Li(this,I);(J.value||(J.value={}))[p]=O.apply(this,arguments)}),function(J){return Bi(J,I).value[p]}}function Ir(s,p,O){s.prototype=p.prototype=O,O.constructor=s}function To(s,p){var O=Object.create(s.prototype);for(var I in p)O[I]=p[I];return O}function Jr(){}var Us=1/.7,hr="\\s*([+-]?\\d+)\\s*",ts="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",or="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pi=/^#([0-9a-f]{3,8})$/,Hs=new RegExp(`^rgb\\(${hr},${hr},${hr}\\)$`),us=new RegExp(`^rgb\\(${or},${or},${or}\\)$`),Es=new RegExp(`^rgba\\(${hr},${hr},${hr},${ts}\\)$`),oo=new RegExp(`^rgba\\(${or},${or},${or},${ts}\\)$`),ao=new RegExp(`^hsl\\(${ts},${or},${or}\\)$`),ns=new RegExp(`^hsla\\(${ts},${or},${or},${ts}\\)$`),ds={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hs(){return this.rgb().formatHex()}function fr(){return this.rgb().formatRgb()}function jr(s){var p,O;return s=(s+"").trim().toLowerCase(),(p=Pi.exec(s))?(O=p[1].length,p=parseInt(p[1],16),6===O?uo(p):3===O?new P(p>>8&15|p>>4&240,p>>4&15|240&p,(15&p)<<4|15&p,1):8===O?js(p>>24&255,p>>16&255,p>>8&255,(255&p)/255):4===O?js(p>>12&15|p>>8&240,p>>8&15|p>>4&240,p>>4&15|240&p,((15&p)<<4|15&p)/255):null):(p=Hs.exec(s))?new P(p[1],p[2],p[3],1):(p=us.exec(s))?new P(255*p[1]/100,255*p[2]/100,255*p[3]/100,1):(p=Es.exec(s))?js(p[1],p[2],p[3],p[4]):(p=oo.exec(s))?js(255*p[1]/100,255*p[2]/100,255*p[3]/100,p[4]):(p=ao.exec(s))?Fr(p[1],p[2]/100,p[3]/100,1):(p=ns.exec(s))?Fr(p[1],p[2]/100,p[3]/100,p[4]):ds.hasOwnProperty(s)?uo(ds[s]):"transparent"===s?new P(NaN,NaN,NaN,0):null}function uo(s){return new P(s>>16&255,s>>8&255,255&s,1)}function js(s,p,O,I){return I<=0&&(s=p=O=NaN),new P(s,p,O,I)}function W(s,p,O,I){return 1===arguments.length?function H(s){return s instanceof Jr||(s=jr(s)),s?new P((s=s.rgb()).r,s.g,s.b,s.opacity):new P}(s):new P(s,p,O,I??1)}function P(s,p,O,I){this.r=+s,this.g=+p,this.b=+O,this.opacity=+I}function oe(){return`#${pr(this.r)}${pr(this.g)}${pr(this.b)}`}function wn(){const s=Bn(this.opacity);return`${1===s?"rgb(":"rgba("}${Wi(this.r)}, ${Wi(this.g)}, ${Wi(this.b)}${1===s?")":`, ${s})`}`}function Bn(s){return isNaN(s)?1:Math.max(0,Math.min(1,s))}function Wi(s){return Math.max(0,Math.min(255,Math.round(s)||0))}function pr(s){return((s=Wi(s))<16?"0":"")+s.toString(16)}function Fr(s,p,O,I){return I<=0?s=p=O=NaN:O<=0||O>=1?s=p=NaN:p<=0&&(s=NaN),new gr(s,p,O,I)}function Ps(s){if(s instanceof gr)return new gr(s.h,s.s,s.l,s.opacity);if(s instanceof Jr||(s=jr(s)),!s)return new gr;if(s instanceof gr)return s;var p=(s=s.rgb()).r/255,O=s.g/255,I=s.b/255,J=Math.min(p,O,I),de=Math.max(p,O,I),me=NaN,Ue=de-J,Ze=(de+J)/2;return Ue?(me=p===de?(O-I)/Ue+6*(O<I):O===de?(I-p)/Ue+2:(p-O)/Ue+4,Ue/=Ze<.5?de+J:2-de-J,me*=60):Ue=Ze>0&&Ze<1?0:me,new gr(me,Ue,Ze,s.opacity)}function gr(s,p,O,I){this.h=+s,this.s=+p,this.l=+O,this.opacity=+I}function Xs(s){return(s=(s||0)%360)<0?s+360:s}function fo(s){return Math.max(0,Math.min(1,s||0))}function Vs(s,p,O){return 255*(s<60?p+(O-p)*s/60:s<180?O:s<240?p+(O-p)*(240-s)/60:p)}function eo(s,p,O,I,J){var de=s*s,me=de*s;return((1-3*s+3*de-me)*p+(4-6*de+3*me)*O+(1+3*s+3*de-3*me)*I+me*J)/6}Ir(Jr,jr,{copy(s){return Object.assign(new this.constructor,this,s)},displayable(){return this.rgb().displayable()},hex:hs,formatHex:hs,formatHex8:function lo(){return this.rgb().formatHex8()},formatHsl:function co(){return Ps(this).formatHsl()},formatRgb:fr,toString:fr}),Ir(P,W,To(Jr,{brighter(s){return s=null==s?Us:Math.pow(Us,s),new P(this.r*s,this.g*s,this.b*s,this.opacity)},darker(s){return s=null==s?.7:Math.pow(.7,s),new P(this.r*s,this.g*s,this.b*s,this.opacity)},rgb(){return this},clamp(){return new P(Wi(this.r),Wi(this.g),Wi(this.b),Bn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oe,formatHex:oe,formatHex8:function We(){return`#${pr(this.r)}${pr(this.g)}${pr(this.b)}${pr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:wn,toString:wn})),Ir(gr,function ho(s,p,O,I){return 1===arguments.length?Ps(s):new gr(s,p,O,I??1)},To(Jr,{brighter(s){return s=null==s?Us:Math.pow(Us,s),new gr(this.h,this.s,this.l*s,this.opacity)},darker(s){return s=null==s?.7:Math.pow(.7,s),new gr(this.h,this.s,this.l*s,this.opacity)},rgb(){var s=this.h%360+360*(this.h<0),p=isNaN(s)||isNaN(this.s)?0:this.s,O=this.l,I=O+(O<.5?O:1-O)*p,J=2*O-I;return new P(Vs(s>=240?s-240:s+120,J,I),Vs(s,J,I),Vs(s<120?s+240:s-120,J,I),this.opacity)},clamp(){return new gr(Xs(this.h),fo(this.s),fo(this.l),Bn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const s=Bn(this.opacity);return`${1===s?"hsl(":"hsla("}${Xs(this.h)}, ${100*fo(this.s)}%, ${100*fo(this.l)}%${1===s?")":`, ${s})`}`}}));const Nr=s=>()=>s;function fs(s,p){var O=p-s;return O?function Ao(s,p){return function(O){return s+O*p}}(s,O):Nr(isNaN(s)?p:s)}const Rs=function s(p){var O=function Mo(s){return 1==(s=+s)?fs:function(p,O){return O-p?function ya(s,p,O){return s=Math.pow(s,O),p=Math.pow(p,O)-s,O=1/O,function(I){return Math.pow(s+I*p,O)}}(p,O,s):Nr(isNaN(p)?O:p)}}(p);function I(J,de){var me=O((J=W(J)).r,(de=W(de)).r),Ue=O(J.g,de.g),Ze=O(J.b,de.b),rt=fs(J.opacity,de.opacity);return function(gt){return J.r=me(gt),J.g=Ue(gt),J.b=Ze(gt),J.opacity=rt(gt),J+""}}return I.gamma=s,I}(1);function is(s){return function(p){var me,Ue,O=p.length,I=new Array(O),J=new Array(O),de=new Array(O);for(me=0;me<O;++me)Ue=W(p[me]),I[me]=Ue.r||0,J[me]=Ue.g||0,de[me]=Ue.b||0;return I=s(I),J=s(J),de=s(de),Ue.opacity=1,function(Ze){return Ue.r=I(Ze),Ue.g=J(Ze),Ue.b=de(Ze),Ue+""}}}is(function xs(s){var p=s.length-1;return function(O){var I=O<=0?O=0:O>=1?(O=1,p-1):Math.floor(O*p),J=s[I],de=s[I+1];return eo((O-I/p)*p,I>0?s[I-1]:2*J-de,J,de,I<p-1?s[I+2]:2*de-J)}}),is(function Do(s){var p=s.length;return function(O){var I=Math.floor(((O%=1)<0?++O:O)*p);return eo((O-I/p)*p,s[(I+p-1)%p],s[I%p],s[(I+1)%p],s[(I+2)%p])}});var kr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rs=new RegExp(kr.source,"g");function Fi(s,p){var I,J,de,O=kr.lastIndex=rs.lastIndex=0,me=-1,Ue=[],Ze=[];for(s+="",p+="";(I=kr.exec(s))&&(J=rs.exec(p));)(de=J.index)>O&&(de=p.slice(O,de),Ue[me]?Ue[me]+=de:Ue[++me]=de),(I=I[0])===(J=J[0])?Ue[me]?Ue[me]+=J:Ue[++me]=J:(Ue[++me]=null,Ze.push({i:me,x:pi(I,J)})),O=rs.lastIndex;return O<p.length&&(de=p.slice(O),Ue[me]?Ue[me]+=de:Ue[++me]=de),Ue.length<2?Ze[0]?function ps(s){return function(p){return s(p)+""}}(Ze[0].x):function zs(s){return function(){return s}}(p):(p=Ze.length,function(rt){for(var Ft,gt=0;gt<p;++gt)Ue[(Ft=Ze[gt]).i]=Ft.x(rt);return Ue.join("")})}function Pr(s,p){var O;return("number"==typeof p?pi:p instanceof jr?Rs:(O=jr(p))?(p=O,Rs):Fi)(s,p)}function ss(s){return function(){this.removeAttribute(s)}}function Oo(s){return function(){this.removeAttributeNS(s.space,s.local)}}function Wo(s,p,O){var I,de,J=O+"";return function(){var me=this.getAttribute(s);return me===J?null:me===I?de:de=p(I=me,O)}}function Gs(s,p,O){var I,de,J=O+"";return function(){var me=this.getAttributeNS(s.space,s.local);return me===J?null:me===I?de:de=p(I=me,O)}}function aa(s,p,O){var I,J,de;return function(){var me,Ze,Ue=O(this);return null==Ue?void this.removeAttribute(s):(me=this.getAttribute(s))===(Ze=Ue+"")?null:me===I&&Ze===J?de:(J=Ze,de=p(I=me,Ue))}}function Is(s,p,O){var I,J,de;return function(){var me,Ze,Ue=O(this);return null==Ue?void this.removeAttributeNS(s.space,s.local):(me=this.getAttributeNS(s.space,s.local))===(Ze=Ue+"")?null:me===I&&Ze===J?de:(J=Ze,de=p(I=me,Ue))}}function Po(s,p){var O,I;function J(){var de=p.apply(this,arguments);return de!==I&&(O=(I=de)&&function la(s,p){return function(O){this.setAttributeNS(s.space,s.local,p.call(this,O))}}(s,de)),O}return J._value=p,J}function ca(s,p){var O,I;function J(){var de=p.apply(this,arguments);return de!==I&&(O=(I=de)&&function Yo(s,p){return function(O){this.setAttribute(s,p.call(this,O))}}(s,de)),O}return J._value=p,J}function Lr(s,p){return function(){dr(this,s).delay=+p.apply(this,arguments)}}function Jo(s,p){return p=+p,function(){dr(this,s).delay=p}}function po(s,p){return function(){Li(this,s).duration=+p.apply(this,arguments)}}function Zo(s,p){return p=+p,function(){Li(this,s).duration=p}}var ye=Ve.prototype.constructor;function Wt(s){return function(){this.style.removeProperty(s)}}var ua=0;function ks(s,p,O,I){this._groups=s,this._parents=p,this._name=O,this._id=I}function _o(){return++ua}var Zr=Ve.prototype;ks.prototype=function ti(s){return Ve().transition(s)}.prototype={constructor:ks,select:function R(s){var p=this._name,O=this._id;"function"!=typeof s&&(s=De(s));for(var I=this._groups,J=I.length,de=new Array(J),me=0;me<J;++me)for(var gt,Ft,Ue=I[me],Ze=Ue.length,rt=de[me]=new Array(Ze),xt=0;xt<Ze;++xt)(gt=Ue[xt])&&(Ft=s.call(gt,gt.__data__,xt,Ue))&&("__data__"in gt&&(Ft.__data__=gt.__data__),rt[xt]=Ft,Or(rt[xt],p,O,xt,rt,Bi(gt,O)));return new ks(de,this._parents,p,O)},selectAll:function X(s){var p=this._name,O=this._id;"function"!=typeof s&&(s=st(s));for(var I=this._groups,J=I.length,de=[],me=[],Ue=0;Ue<J;++Ue)for(var gt,Ze=I[Ue],rt=Ze.length,Ft=0;Ft<rt;++Ft)if(gt=Ze[Ft]){for(var Xt,xt=s.call(gt,gt.__data__,Ft,Ze),Wn=Bi(gt,O),gi=0,nn=xt.length;gi<nn;++gi)(Xt=xt[gi])&&Or(Xt,p,O,gi,xt,Wn);de.push(xt),me.push(gt)}return new ks(de,me,p,O)},selectChild:Zr.selectChild,selectChildren:Zr.selectChildren,filter:function xo(s){"function"!=typeof s&&(s=Gt(s));for(var p=this._groups,O=p.length,I=new Array(O),J=0;J<O;++J)for(var Ze,de=p[J],me=de.length,Ue=I[J]=[],rt=0;rt<me;++rt)(Ze=de[rt])&&s.call(Ze,Ze.__data__,rt,de)&&Ue.push(Ze);return new ks(I,this._parents,this._name,this._id)},merge:function gs(s){if(s._id!==this._id)throw new Error;for(var p=this._groups,O=s._groups,I=p.length,de=Math.min(I,O.length),me=new Array(I),Ue=0;Ue<de;++Ue)for(var xt,Ze=p[Ue],rt=O[Ue],gt=Ze.length,Ft=me[Ue]=new Array(gt),Xt=0;Xt<gt;++Xt)(xt=Ze[Xt]||rt[Xt])&&(Ft[Xt]=xt);for(;Ue<I;++Ue)me[Ue]=p[Ue];return new ks(me,this._parents,this._name,this._id)},selection:function it(){return new ye(this._groups,this._parents)},transition:function Fo(){for(var s=this._name,p=this._id,O=_o(),I=this._groups,J=I.length,de=0;de<J;++de)for(var Ze,me=I[de],Ue=me.length,rt=0;rt<Ue;++rt)if(Ze=me[rt]){var gt=Bi(Ze,p);Or(Ze,s,O,rt,me,{time:gt.time+gt.delay+gt.duration,delay:0,duration:gt.duration,ease:gt.ease})}return new ks(I,this._parents,s,O)},call:Zr.call,nodes:Zr.nodes,node:Zr.node,size:Zr.size,empty:Zr.empty,each:Zr.each,on:function qo(s,p){var O=this._id;return arguments.length<2?Bi(this.node(),O).on.on(s):this.each(function Ro(s,p,O){var I,J,de=function Qi(s){return(s+"").trim().split(/^|\s+/).every(function(p){var O=p.indexOf(".");return O>=0&&(p=p.slice(0,O)),!p||"start"===p})}(p)?dr:Li;return function(){var me=de(this,s),Ue=me.on;Ue!==I&&(J=(I=Ue).copy()).on(p,O),me.on=J}}(O,s,p))},attr:function $o(s,p){var O=jn(s),I="transform"===O?Go:Pr;return this.attrTween(s,"function"==typeof p?(O.local?Is:aa)(O,I,bs(this,"attr."+s,p)):null==p?(O.local?Oo:ss)(O):(O.local?Gs:Wo)(O,I,p))},attrTween:function Fs(s,p){var O="attr."+s;if(arguments.length<2)return(O=this.tween(O))&&O._value;if(null==p)return this.tween(O,null);if("function"!=typeof p)throw new Error;var I=jn(s);return this.tween(O,(I.local?Po:ca)(I,p))},style:function $i(s,p,O){var I="transform"==(s+="")?So:Pr;return null==p?this.styleTween(s,function Mt(s,p){var O,I,J;return function(){var de=Y(this,s),me=(this.style.removeProperty(s),Y(this,s));return de===me?null:de===O&&me===I?J:J=p(O=de,I=me)}}(s,I)).on("end.style."+s,Wt(s)):"function"==typeof p?this.styleTween(s,function Nn(s,p,O){var I,J,de;return function(){var me=Y(this,s),Ue=O(this),Ze=Ue+"";return null==Ue&&(this.style.removeProperty(s),Ze=Ue=Y(this,s)),me===Ze?null:me===I&&Ze===J?de:(J=Ze,de=p(I=me,Ue))}}(s,I,bs(this,"style."+s,p))).each(function hi(s,p){var O,I,J,Ue,de="style."+p,me="end."+de;return function(){var Ze=Li(this,s),rt=Ze.on,gt=null==Ze.value[de]?Ue||(Ue=Wt(p)):void 0;(rt!==O||J!==gt)&&(I=(O=rt).copy()).on(me,J=gt),Ze.on=I}}(this._id,s)):this.styleTween(s,function Cn(s,p,O){var I,de,J=O+"";return function(){var me=Y(this,s);return me===J?null:me===I?de:de=p(I=me,O)}}(s,I,p),O).on("end.style."+s,null)},styleTween:function Ys(s,p,O){var I="style."+(s+="");if(arguments.length<2)return(I=this.tween(I))&&I._value;if(null==p)return this.tween(I,null);if("function"!=typeof p)throw new Error;return this.tween(I,function $s(s,p,O){var I,J;function de(){var me=p.apply(this,arguments);return me!==J&&(I=(J=me)&&function xr(s,p,O){return function(I){this.style.setProperty(s,p.call(this,I),O)}}(s,me,O)),I}return de._value=p,de}(s,p,O??""))},text:function Qo(s){return this.tween("text","function"==typeof s?function Kr(s){return function(){var p=s(this);this.textContent=p??""}}(bs(this,"text",s)):function Sr(s){return function(){this.textContent=s}}(null==s?"":s+""))},textTween:function Io(s){var p="text";if(arguments.length<1)return(p=this.tween(p))&&p._value;if(null==s)return this.tween(p,null);if("function"!=typeof s)throw new Error;return this.tween(p,function Hi(s){var p,O;function I(){var J=s.apply(this,arguments);return J!==O&&(p=(O=J)&&function Js(s){return function(p){this.textContent=s.call(this,p)}}(J)),p}return I._value=s,I}(s))},remove:function B(){return this.on("end.remove",function Ne(s){return function(){var p=this.parentNode;for(var O in this.__transition)if(+O!==s)return;p&&p.removeChild(this)}}(this._id))},tween:function so(s,p){var O=this._id;if(s+="",arguments.length<2){for(var me,I=Bi(this.node(),O).tween,J=0,de=I.length;J<de;++J)if((me=I[J]).name===s)return me.value;return null}return this.each((null==p?Co:Ko)(O,s,p))},delay:function Ns(s){var p=this._id;return arguments.length?this.each(("function"==typeof s?Lr:Jo)(p,s)):Bi(this.node(),p).delay},duration:function go(s){var p=this._id;return arguments.length?this.each(("function"==typeof s?po:Zo)(p,s)):Bi(this.node(),p).duration},ease:function ws(s){var p=this._id;return arguments.length?this.each(function Ks(s,p){if("function"!=typeof p)throw new Error;return function(){Li(this,s).ease=p}}(p,s)):Bi(this.node(),p).ease},easeVarying:function mo(s){if("function"!=typeof s)throw new Error;return this.each(function Ws(s,p){return function(){var O=p.apply(this,arguments);if("function"!=typeof O)throw new Error;Li(this,s).ease=O}}(this._id,s))},end:function Ya(){var s,p,O=this,I=O._id,J=O.size();return new Promise(function(de,me){var Ue={value:me},Ze={value:function(){0==--J&&de()}};O.each(function(){var rt=Li(this,I),gt=rt.on;gt!==s&&((p=(s=gt).copy())._.cancel.push(Ue),p._.interrupt.push(Ue),p._.end.push(Ze)),rt.on=p}),0===J&&de()})},[Symbol.iterator]:Zr[Symbol.iterator]};var Ja={time:null,delay:0,duration:250,ease:function No(s){return((s*=2)<=1?s*s*s:(s-=2)*s*s+2)/2}};function vo(s,p){for(var O;!(O=s.__transition)||!(O=O[p]);)if(!(s=s.parentNode))throw new Error(`transition ${p} not found`);return O}Ve.prototype.interrupt=function Gr(s){return this.each(function(){!function Er(s,p){var I,J,me,O=s.__transition,de=!0;if(O){for(me in p=null==p?null:p+"",O)(I=O[me]).name===p?(J=I.state>2&&I.state<5,I.state=6,I.timer.stop(),I.on.call(J?"interrupt":"cancel",s,s.__data__,I.index,I.group),delete O[me]):de=!1;de&&delete s.__transition}}(this,s)})},Ve.prototype.transition=function Fa(s){var p,O;s instanceof ks?(p=s._id,s=s._name):(p=_o(),(O=Ja).time=di(),s=null==s?null:s+"");for(var I=this._groups,J=I.length,de=0;de<J;++de)for(var Ze,me=I[de],Ue=me.length,rt=0;rt<Ue;++rt)(Ze=me[rt])&&Or(Ze,s,p,rt,me,O||vo(Ze,p));return new ks(I,this._parents,s,p)};Math;function Eo(s){return{type:s}}function fa(s,p){switch(arguments.length){case 0:break;case 1:this.range(s);break;default:this.range(p).domain(s)}return this}["w","e"].map(Eo),["n","s"].map(Eo),["n","w","e","s","nw","ne","sw","se"].map(Eo);class D extends Map{constructor(p,O=He){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:O}}),null!=p)for(const[I,J]of p)this.set(I,J)}get(p){return super.get(M(this,p))}has(p){return super.has(M(this,p))}set(p,O){return super.set(function z({_intern:s,_key:p},O){const I=p(O);return s.has(I)?s.get(I):(s.set(I,O),O)}(this,p),O)}delete(p){return super.delete(function ne({_intern:s,_key:p},O){const I=p(O);return s.has(I)&&(O=s.get(I),s.delete(I)),O}(this,p))}}function M({_intern:s,_key:p},O){const I=p(O);return s.has(I)?s.get(I):O}function He(s){return null!==s&&"object"==typeof s?s.valueOf():s}const At=Symbol("implicit");function vt(){var s=new D,p=[],O=[],I=At;function J(de){let me=s.get(de);if(void 0===me){if(I!==At)return I;s.set(de,me=p.push(de)-1)}return O[me%O.length]}return J.domain=function(de){if(!arguments.length)return p.slice();p=[],s=new D;for(const me of de)s.has(me)||s.set(me,p.push(me)-1);return J},J.range=function(de){return arguments.length?(O=Array.from(de),J):O.slice()},J.unknown=function(de){return arguments.length?(I=de,J):I},J.copy=function(){return vt(p,O).unknown(I)},fa.apply(J,arguments),J}function yn(){var de,me,s=vt().unknown(void 0),p=s.domain,O=s.range,I=0,J=1,Ue=!1,Ze=0,rt=0,gt=.5;function Ft(){var xt=p().length,Xt=J<I,Wn=Xt?J:I,gi=Xt?I:J;de=(gi-Wn)/Math.max(1,xt-Ze+2*rt),Ue&&(de=Math.floor(de)),Wn+=(gi-Wn-de*(xt-Ze))*gt,me=de*(1-Ze),Ue&&(Wn=Math.round(Wn),me=Math.round(me));var nn=function Ba(s,p,O){s=+s,p=+p,O=(J=arguments.length)<2?(p=s,s=0,1):J<3?1:+O;for(var I=-1,J=0|Math.max(0,Math.ceil((p-s)/O)),de=new Array(J);++I<J;)de[I]=s+I*O;return de}(xt).map(function(en){return Wn+de*en});return O(Xt?nn.reverse():nn)}return delete s.unknown,s.domain=function(xt){return arguments.length?(p(xt),Ft()):p()},s.range=function(xt){return arguments.length?([I,J]=xt,I=+I,J=+J,Ft()):[I,J]},s.rangeRound=function(xt){return[I,J]=xt,I=+I,J=+J,Ue=!0,Ft()},s.bandwidth=function(){return me},s.step=function(){return de},s.round=function(xt){return arguments.length?(Ue=!!xt,Ft()):Ue},s.padding=function(xt){return arguments.length?(Ze=Math.min(1,rt=+xt),Ft()):Ze},s.paddingInner=function(xt){return arguments.length?(Ze=Math.min(1,xt),Ft()):Ze},s.paddingOuter=function(xt){return arguments.length?(rt=+xt,Ft()):rt},s.align=function(xt){return arguments.length?(gt=Math.max(0,Math.min(1,xt)),Ft()):gt},s.copy=function(){return yn(p(),[I,J]).round(Ue).paddingInner(Ze).paddingOuter(rt).align(gt)},fa.apply(Ft(),arguments)}var ji=Math.sqrt(50),no=Math.sqrt(10),qs=Math.sqrt(2);function Ho(s,p,O){var I=(p-s)/Math.max(0,O),J=Math.floor(Math.log(I)/Math.LN10),de=I/Math.pow(10,J);return J>=0?(de>=ji?10:de>=no?5:de>=qs?2:1)*Math.pow(10,J):-Math.pow(10,-J)/(de>=ji?10:de>=no?5:de>=qs?2:1)}function Qn(s,p){return null==s||null==p?NaN:s<p?-1:s>p?1:s>=p?0:NaN}function sl(s,p){return null==s||null==p?NaN:p<s?-1:p>s?1:p>=s?0:NaN}function Sa(s){let p,O,I;function J(Ue,Ze,rt=0,gt=Ue.length){if(rt<gt){if(0!==p(Ze,Ze))return gt;do{const Ft=rt+gt>>>1;O(Ue[Ft],Ze)<0?rt=Ft+1:gt=Ft}while(rt<gt)}return rt}return 2!==s.length?(p=Qn,O=(Ue,Ze)=>Qn(s(Ue),Ze),I=(Ue,Ze)=>s(Ue)-Ze):(p=s===Qn||s===sl?s:qa,O=s,I=s),{left:J,center:function me(Ue,Ze,rt=0,gt=Ue.length){const Ft=J(Ue,Ze,rt,gt-1);return Ft>rt&&I(Ue[Ft-1],Ze)>-I(Ue[Ft],Ze)?Ft-1:Ft},right:function de(Ue,Ze,rt=0,gt=Ue.length){if(rt<gt){if(0!==p(Ze,Ze))return gt;do{const Ft=rt+gt>>>1;O(Ue[Ft],Ze)<=0?rt=Ft+1:gt=Ft}while(rt<gt)}return rt}}}function qa(){return 0}const yl=Sa(Qn).right,El=(Sa(function ol(s){return null===s?NaN:+s}),yl);function Xa(s,p){var me,O=p?p.length:0,I=s?Math.min(O,s.length):0,J=new Array(I),de=new Array(O);for(me=0;me<I;++me)J[me]=el(s[me],p[me]);for(;me<O;++me)de[me]=p[me];return function(Ue){for(me=0;me<I;++me)de[me]=J[me](Ue);return de}}function wl(s,p){var O=new Date;return s=+s,p=+p,function(I){return O.setTime(s*(1-I)+p*I),O}}function Sl(s,p){var J,O={},I={};for(J in(null===s||"object"!=typeof s)&&(s={}),(null===p||"object"!=typeof p)&&(p={}),p)J in s?O[J]=el(s[J],p[J]):I[J]=p[J];return function(de){for(J in O)I[J]=O[J](de);return I}}function Cl(s,p){p||(p=[]);var J,O=s?Math.min(p.length,s.length):0,I=p.slice();return function(de){for(J=0;J<O;++J)I[J]=s[J]*(1-de)+p[J]*de;return I}}function el(s,p){var I,O=typeof p;return null==p||"boolean"===O?Nr(p):("number"===O?pi:"string"===O?(I=jr(p))?(p=I,Rs):Fi:p instanceof jr?Rs:p instanceof Date?wl:function Tl(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}(p)?Cl:Array.isArray(p)?Xa:"function"!=typeof p.valueOf&&"function"!=typeof p.toString||isNaN(p)?Sl:pi)(s,p)}function Dl(s,p){return s=+s,p=+p,function(O){return Math.round(s*(1-O)+p*O)}}function nl(s){return+s}var os=[0,1];function Ni(s){return s}function pa(s,p){return(p-=s=+s)?function(O){return(O-s)/p}:function tl(s){return function(){return s}}(isNaN(p)?NaN:.5)}function Ta(s,p,O){var I=s[0],J=s[1],de=p[0],me=p[1];return J<I?(I=pa(J,I),de=O(me,de)):(I=pa(I,J),de=O(de,me)),function(Ue){return de(I(Ue))}}function al(s,p,O){var I=Math.min(s.length,p.length)-1,J=new Array(I),de=new Array(I),me=-1;for(s[I]<s[0]&&(s=s.slice().reverse(),p=p.slice().reverse());++me<I;)J[me]=pa(s[me],s[me+1]),de[me]=O(p[me],p[me+1]);return function(Ue){var Ze=El(s,Ue,1,I)-1;return de[Ze](J[Ze](Ue))}}var _a,Aa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ra(s){if(!(p=Aa.exec(s)))throw new Error("invalid format: "+s);var p;return new Ma({fill:p[1],align:p[2],sign:p[3],symbol:p[4],zero:p[5],width:p[6],comma:p[7],precision:p[8]&&p[8].slice(1),trim:p[9],type:p[10]})}function Ma(s){this.fill=void 0===s.fill?" ":s.fill+"",this.align=void 0===s.align?">":s.align+"",this.sign=void 0===s.sign?"-":s.sign+"",this.symbol=void 0===s.symbol?"":s.symbol+"",this.zero=!!s.zero,this.width=void 0===s.width?void 0:+s.width,this.comma=!!s.comma,this.precision=void 0===s.precision?void 0:+s.precision,this.trim=!!s.trim,this.type=void 0===s.type?"":s.type+""}function Oa(s,p){if((O=(s=p?s.toExponential(p-1):s.toExponential()).indexOf("e"))<0)return null;var O,I=s.slice(0,O);return[I.length>1?I[0]+I.slice(2):I,+s.slice(O+1)]}function sa(s){return(s=Oa(Math.abs(s)))?s[1]:NaN}function Di(s,p){var O=Oa(s,p);if(!O)return s+"";var I=O[0],J=O[1];return J<0?"0."+new Array(-J).join("0")+I:I.length>J+1?I.slice(0,J+1)+"."+I.slice(J+1):I+new Array(J-I.length+2).join("0")}ra.prototype=Ma.prototype,Ma.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const kn={"%":(s,p)=>(100*s).toFixed(p),b:s=>Math.round(s).toString(2),c:s=>s+"",d:function as(s){return Math.abs(s=Math.round(s))>=1e21?s.toLocaleString("en").replace(/,/g,""):s.toString(10)},e:(s,p)=>s.toExponential(p),f:(s,p)=>s.toFixed(p),g:(s,p)=>s.toPrecision(p),o:s=>Math.round(s).toString(8),p:(s,p)=>Di(100*s,p),r:Di,s:function ei(s,p){var O=Oa(s,p);if(!O)return s+"";var I=O[0],J=O[1],de=J-(_a=3*Math.max(-8,Math.min(8,Math.floor(J/3))))+1,me=I.length;return de===me?I:de>me?I+new Array(de-me+1).join("0"):de>0?I.slice(0,de)+"."+I.slice(de):"0."+new Array(1-de).join("0")+Oa(s,Math.max(0,p+de-1))[0]},X:s=>Math.round(s).toString(16).toUpperCase(),x:s=>Math.round(s).toString(16)};function Ua(s){return s}var Ha,hl,fl,ul=Array.prototype.map,dl=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Rl(s){var p=s.domain;return s.ticks=function(O){var I=p();return function Qs(s,p,O){var I,de,me,Ue,J=-1;if(O=+O,(s=+s)==(p=+p)&&O>0)return[s];if((I=p<s)&&(de=s,s=p,p=de),0===(Ue=Ho(s,p,O))||!isFinite(Ue))return[];if(Ue>0){let Ze=Math.round(s/Ue),rt=Math.round(p/Ue);for(Ze*Ue<s&&++Ze,rt*Ue>p&&--rt,me=new Array(de=rt-Ze+1);++J<de;)me[J]=(Ze+J)*Ue}else{Ue=-Ue;let Ze=Math.round(s*Ue),rt=Math.round(p*Ue);for(Ze/Ue<s&&++Ze,rt/Ue>p&&--rt,me=new Array(de=rt-Ze+1);++J<de;)me[J]=(Ze+J)/Ue}return I&&me.reverse(),me}(I[0],I[I.length-1],O??10)},s.tickFormat=function(O,I){var J=p();return function xl(s,p,O,I){var de,J=function Cs(s,p,O){var I=Math.abs(p-s)/Math.max(0,O),J=Math.pow(10,Math.floor(Math.log(I)/Math.LN10)),de=I/J;return de>=ji?J*=10:de>=no?J*=5:de>=qs&&(J*=2),p<s?-J:J}(s,p,O);switch((I=ra(I??",f")).type){case"s":var me=Math.max(Math.abs(s),Math.abs(p));return null==I.precision&&!isNaN(de=function cl(s,p){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(sa(p)/3)))-sa(Math.abs(s)))}(J,me))&&(I.precision=de),fl(I,me);case"":case"e":case"g":case"p":case"r":null==I.precision&&!isNaN(de=function Ol(s,p){return s=Math.abs(s),p=Math.abs(p)-s,Math.max(0,sa(p)-sa(s))+1}(J,Math.max(Math.abs(s),Math.abs(p))))&&(I.precision=de-("e"===I.type));break;case"f":case"%":null==I.precision&&!isNaN(de=function Pl(s){return Math.max(0,-sa(Math.abs(s)))}(J))&&(I.precision=de-2*("%"===I.type))}return hl(I)}(J[0],J[J.length-1],O??10,I)},s.nice=function(O){null==O&&(O=10);var Ze,rt,I=p(),J=0,de=I.length-1,me=I[J],Ue=I[de],gt=10;for(Ue<me&&(rt=me,me=Ue,Ue=rt,rt=J,J=de,de=rt);gt-- >0;){if((rt=Ho(me,Ue,O))===Ze)return I[J]=me,I[de]=Ue,p(I);if(rt>0)me=Math.floor(me/rt)*rt,Ue=Math.ceil(Ue/rt)*rt;else{if(!(rt<0))break;me=Math.ceil(me*rt)/rt,Ue=Math.floor(Ue*rt)/rt}Ze=rt}return s},s}function il(){var s=function Al(){return function Da(){var I,J,de,Ue,Ze,rt,s=os,p=os,O=el,me=Ni;function gt(){var xt=Math.min(s.length,p.length);return me!==Ni&&(me=function Ca(s,p){var O;return s>p&&(O=s,s=p,p=O),function(I){return Math.max(s,Math.min(p,I))}}(s[0],s[xt-1])),Ue=xt>2?al:Ta,Ze=rt=null,Ft}function Ft(xt){return null==xt||isNaN(xt=+xt)?de:(Ze||(Ze=Ue(s.map(I),p,O)))(I(me(xt)))}return Ft.invert=function(xt){return me(J((rt||(rt=Ue(p,s.map(I),pi)))(xt)))},Ft.domain=function(xt){return arguments.length?(s=Array.from(xt,nl),gt()):s.slice()},Ft.range=function(xt){return arguments.length?(p=Array.from(xt),gt()):p.slice()},Ft.rangeRound=function(xt){return p=Array.from(xt),O=Dl,gt()},Ft.clamp=function(xt){return arguments.length?(me=!!xt||Ni,gt()):me!==Ni},Ft.interpolate=function(xt){return arguments.length?(O=xt,gt()):O},Ft.unknown=function(xt){return arguments.length?(de=xt,Ft):de},function(xt,Xt){return I=xt,J=Xt,gt()}}()(Ni,Ni)}();return s.copy=function(){return function ll(s,p){return p.domain(s.domain()).range(s.range()).interpolate(s.interpolate()).clamp(s.clamp()).unknown(s.unknown())}(s,il())},fa.apply(s,arguments),Rl(s)}function w(s,p,O){this.k=s,this.x=p,this.y=O}!function Gl(s){Ha=function Ml(s){var p=void 0===s.grouping||void 0===s.thousands?Ua:function ga(s,p){return function(O,I){for(var J=O.length,de=[],me=0,Ue=s[0],Ze=0;J>0&&Ue>0&&(Ze+Ue+1>I&&(Ue=Math.max(1,I-Ze)),de.push(O.substring(J-=Ue,J+Ue)),!((Ze+=Ue+1)>I));)Ue=s[me=(me+1)%s.length];return de.reverse().join(p)}}(ul.call(s.grouping,Number),s.thousands+""),O=void 0===s.currency?"":s.currency[0]+"",I=void 0===s.currency?"":s.currency[1]+"",J=void 0===s.decimal?".":s.decimal+"",de=void 0===s.numerals?Ua:function jo(s){return function(p){return p.replace(/[0-9]/g,function(O){return s[+O]})}}(ul.call(s.numerals,String)),me=void 0===s.percent?"%":s.percent+"",Ue=void 0===s.minus?"\u2212":s.minus+"",Ze=void 0===s.nan?"NaN":s.nan+"";function rt(Ft){var xt=(Ft=ra(Ft)).fill,Xt=Ft.align,Wn=Ft.sign,gi=Ft.symbol,nn=Ft.zero,en=Ft.width,In=Ft.comma,Lt=Ft.precision,rn=Ft.trim,tn=Ft.type;"n"===tn?(In=!0,tn="g"):kn[tn]||(void 0===Lt&&(Lt=12),rn=!0,tn="g"),(nn||"0"===xt&&"="===Xt)&&(nn=!0,xt="0",Xt="=");var On="$"===gi?O:"#"===gi&&/[boxX]/.test(tn)?"0"+tn.toLowerCase():"",ni="$"===gi?I:/[%p]/.test(tn)?me:"",mi=kn[tn],Ai=/[defgprs%]/.test(tn);function ai(_n){var mt,Tn,zt,Ui=On,fi=ni;if("c"===tn)fi=mi(_n)+fi,_n="";else{var bn=(_n=+_n)<0||1/_n<0;if(_n=isNaN(_n)?Ze:mi(Math.abs(_n),Lt),rn&&(_n=function ma(s){e:for(var J,p=s.length,O=1,I=-1;O<p;++O)switch(s[O]){case".":I=J=O;break;case"0":0===I&&(I=O),J=O;break;default:if(!+s[O])break e;I>0&&(I=0)}return I>0?s.slice(0,I)+s.slice(J+1):s}(_n)),bn&&0==+_n&&"+"!==Wn&&(bn=!1),Ui=(bn?"("===Wn?Wn:Ue:"-"===Wn||"("===Wn?"":Wn)+Ui,fi=("s"===tn?dl[8+_a/3]:"")+fi+(bn&&"("===Wn?")":""),Ai)for(mt=-1,Tn=_n.length;++mt<Tn;)if(48>(zt=_n.charCodeAt(mt))||zt>57){fi=(46===zt?J+_n.slice(mt+1):_n.slice(mt))+fi,_n=_n.slice(0,mt);break}}In&&!nn&&(_n=p(_n,1/0));var Un=Ui.length+_n.length+fi.length,Fn=Un<en?new Array(en-Un+1).join(xt):"";switch(In&&nn&&(_n=p(Fn+_n,Fn.length?en-fi.length:1/0),Fn=""),Xt){case"<":_n=Ui+_n+fi+Fn;break;case"=":_n=Ui+Fn+_n+fi;break;case"^":_n=Fn.slice(0,Un=Fn.length>>1)+Ui+_n+fi+Fn.slice(Un);break;default:_n=Fn+Ui+_n+fi}return de(_n)}return Lt=void 0===Lt?6:/[gprs]/.test(tn)?Math.max(1,Math.min(21,Lt)):Math.max(0,Math.min(20,Lt)),ai.toString=function(){return Ft+""},ai}return{format:rt,formatPrefix:function gt(Ft,xt){var Xt=rt(((Ft=ra(Ft)).type="f",Ft)),Wn=3*Math.max(-8,Math.min(8,Math.floor(sa(xt)/3))),gi=Math.pow(10,-Wn),nn=dl[8+Wn/3];return function(en){return Xt(gi*en)+nn}}}}(s),hl=Ha.format,fl=Ha.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]}),w.prototype={constructor:w,scale:function(s){return 1===s?this:new w(this.k*s,this.x,this.y)},translate:function(s,p){return 0===s&0===p?this:new w(this.k,this.x+this.k*s,this.y+this.k*p)},apply:function(s){return[s[0]*this.k+this.x,s[1]*this.k+this.y]},applyX:function(s){return s*this.k+this.x},applyY:function(s){return s*this.k+this.y},invert:function(s){return[(s[0]-this.x)/this.k,(s[1]-this.y)/this.k]},invertX:function(s){return(s-this.x)/this.k},invertY:function(s){return(s-this.y)/this.k},rescaleX:function(s){return s.copy().domain(s.range().map(this.invertX,this).map(s.invert,s))},rescaleY:function(s){return s.copy().domain(s.range().map(this.invertY,this).map(s.invert,s))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new w(1,0,0);var fn=l(9212);const mn=["chart"];let Zn=(()=>{class s{constructor(){this.data=this.generateSampleData(),this.margin={top:20,bottom:20,left:20,right:20}}ngOnInit(){this.createChart(),this.updateChart()}ngOnChanges(){this.chart&&this.updateChart()}generateSampleData(){const O=[];for(let I=0;I<8+Math.floor(10*Math.random());I++)O.push([`Index ${I}`,Math.floor(100*Math.random())]);return O}createChart(){const O=this.chartContainer.nativeElement;this.width=O.offsetWidth-this.margin.left-this.margin.right,this.height=O.offsetHeight-this.margin.top-this.margin.bottom;const I=function Il(s){return"string"==typeof s?new Ce([[document.querySelector(s)]],[document.documentElement]):new Ce([[s]],we)}(O).append("svg").attr("width",O.offsetWidth).attr("height",O.offsetHeight);this.chart=I.append("g").attr("class","bars").attr("transform",`translate(${this.margin.left}, ${this.margin.top})`);const J=this.data.map(me=>me[0]),de=[0,e(this.data,me=>me[1])];this.xScale=yn().padding(.1).domain(J).rangeRound([0,this.width]),this.yScale=il().domain(de).range([this.height,0]),this.colors=il().domain([0,this.data.length]).range(["green","yellow"]),this.xAxis=I.append("g").attr("class","axis axis-x").attr("transform",`translate(${this.margin.left}, ${this.margin.top+this.height})`).call(ue(this.xScale)),this.yAxis=I.append("g").attr("class","axis axis-y").attr("transform",`translate(${this.margin.left}, ${this.margin.top})`).call(Fe(this.yScale))}updateChart(){this.xScale.domain(this.data.map(I=>I[0])),this.yScale.domain([0,e(this.data,I=>I[1])]),this.colors.domain([0,this.data.length]),this.xAxis.transition().call(ue(this.xScale)),this.yAxis.transition().call(Fe(this.yScale));const O=this.chart.selectAll(".bar").data(this.data);O.exit().remove(),this.chart.selectAll(".bar").transition().attr("x",I=>this.xScale(I[0])).attr("y",I=>this.yScale(I[1])).attr("width",()=>this.xScale.bandwidth()).attr("height",I=>this.height-this.yScale(I[1])).style("fill",(I,J)=>this.colors(J)),O.enter().append("rect").attr("class","bar").attr("x",I=>this.xScale(I[0])).attr("y",()=>this.yScale(0)).attr("width",this.xScale.bandwidth()).attr("height",0).style("fill",(I,J)=>this.colors(J)).transition().delay((I,J)=>10*J).attr("y",I=>this.yScale(I[1])).attr("height",I=>this.height-this.yScale(I[1]))}static#e=this.\u0275fac=function(I){return new(I||s)};static#t=this.\u0275cmp=fn.Xpm({type:s,selectors:[["app-barchart"]],viewQuery:function(I,J){if(1&I&&fn.Gf(mn,7),2&I){let de;fn.iGM(de=fn.CRH())&&(J.chartContainer=de.first)}},inputs:{data:"data"},features:[fn.TTD],decls:2,vars:0,consts:[[1,"d3-chart"],["chart",""]],template:function(I,J){1&I&&fn._UZ(0,"div",0,1)},styles:[".d3-chart{width:100%;height:400px}.d3-chart .axis path,.d3-chart .axis line{stroke:#999}.d3-chart .axis text{fill:#999}\n"],encapsulation:2})}return s})()},9069:(Je,le,l)=>{"use strict";l.d(le,{$:()=>u});var e=l(9212),S=l(6814);let u=(()=>{class N{constructor(){this.checked=!1,this.selectValue=new e.vpe}onClick(){this.checked=!this.checked,this.selectValue.emit(this.checked)}static#e=this.\u0275fac=function(y){return new(y||N)};static#t=this.\u0275cmp=e.Xpm({type:N,selectors:[["app-check-mark"]],hostBindings:function(y,E){1&y&&e.NdJ("click",function(F){return E.onClick(F.target)})},inputs:{checked:"checked"},outputs:{selectValue:"selectValue"},decls:1,vars:1,consts:[[3,"ngClass"]],template:function(y,E){1&y&&e._UZ(0,"span",0),2&y&&e.Q6J("ngClass",E.checked?"fa-checkmarkcomplete selected":"fa-checkmark")},dependencies:[S.mk],styles:["[_nghost-%COMP%]{padding:4px!important;cursor:pointer;margin:2px}span[_ngcontent-%COMP%]{color:var(--secondary);font-size:large;outline:1px solid var(--border);border-radius:20%;padding:4px}.selected[_ngcontent-%COMP%]{color:var(--b-active-link-color);outline:2px solid var(--border);font-weight:700}"]})}return N})()},5754:(Je,le,l)=>{"use strict";l.d(le,{h:()=>u});var e=l(9212),S=l(7524);let u=(()=>{class N{constructor(h,y){y.template=h}static#e=this.\u0275fac=function(y){return new(y||N)(e.Y36(e.Rgc),e.Y36(S.w))};static#t=this.\u0275dir=e.lG2({type:N,selectors:[["","appConfirm",""]]})}return N})()},6833:(Je,le,l)=>{"use strict";l.d(le,{z:()=>N});var e=l(9212),S=l(7178),u=l(7524);let N=(()=>{class x{constructor(y,E){this.dialogService=y,this.state=E}confirm(y){return this.state.options=y,this.state.dialog=this.dialogService.open(this.state.template,{backdrop:y.backdrop,centered:!0}),this.state.dialog.result}openInfoDialog(y){return this.state.options=y,this.state.dialog=this.dialogService.open(this.state.template,{backdrop:y.backdrop,scrollable:y.scrollable,centered:y.centered}),this.state.dialog.result}static#e=this.\u0275fac=function(E){return new(E||x)(e.LFG(S.FF),e.LFG(u.w))};static#t=this.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac})}return x})()},7524:(Je,le,l)=>{"use strict";l.d(le,{w:()=>S});var e=l(9212);let S=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac})}return u})()},8369:(Je,le,l)=>{"use strict";l.d(le,{B:()=>u});var e=l(9212),S=l(7524);let u=(()=>{class N{constructor(h){this.state=h,this.options=h.options}close(){this.state.dialog.close("confirmed")}static#e=this.\u0275fac=function(y){return new(y||N)(e.Y36(S.w))};static#t=this.\u0275cmp=e.Xpm({type:N,selectors:[["app-dialog-info-component"]],decls:9,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(y,E){1&y&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return E.close()}),e.qZA()(),e.TgZ(4,"div",3),e._uU(5),e.qZA(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return E.close()}),e._uU(8,"Close"),e.qZA()()),2&y&&(e.xp6(2),e.Oqu(E.options.title),e.xp6(3),e.hij(" ",E.options.message,"\n"))},encapsulation:2})}return N})()},94:(Je,le,l)=>{"use strict";l.d(le,{B:()=>S});var e=l(9212);let S=(()=>{class u{saveSelection(x){const h=window.getSelection().getRangeAt(0),y=h.cloneRange();y.selectNodeContents(x),y.setEnd(h.startContainer,h.startOffset);const E=y.toString().length;return{start:E,end:E+h.toString().length}}restoreSelection(x,h){let y=0,E=document.createRange();E.setStart(x,0),E.collapse(!0);let F,C=[x],V=!1,$=!1;for(;!$&&(F=C.pop());)if(3==F.nodeType){const q=y+F.length;!V&&h.start>=y&&h.start<=q&&(E.setStart(F,h.start-y),V=!0),V&&h.end>=y&&h.end<=q&&(E.setEnd(F,h.end-y),$=!0),y=q}else{let q=F.childNodes.length;for(;q--;)C.push(F.childNodes[q])}const j=window.getSelection();j.removeAllRanges(),j.addRange(E)}doRestore(x,h){x&&this.restoreSelection(h,JSON.parse(x))}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac})}return u})()},7412:(Je,le,l)=>{"use strict";l.d(le,{i:()=>$});var e=l(9212),S=l(95),u=l(2438),N=l(2181),x=l(3620),h=l(3997),y=l(9397),E=l(6593),C=l(94);const F=["textarea"],V={provide:S.JU,useExisting:(0,e.Gpc)(()=>$),multi:!0};let $=(()=>{class j{constructor(ee,ue){this.htmlSafe=ee,this.txtSelection=ue,this.textAreaTextChanged=new e.vpe(!1),this.textAreaUpdatedOpendNote=new e.vpe(!1),this.textAreaSelectionChange=new e.vpe(!1)}ngOnInit(){this.subscription=(0,u.R)(this.textarea.nativeElement,"input").pipe((0,N.h)(Boolean),(0,x.b)(450),(0,h.x)(),(0,y.b)(()=>{this.textAreaTextChanged.emit({...this.note,text:this.textarea.nativeElement.innerHTML})})).subscribe()}ngOnDestroy(){this.subscription.unsubscribe()}onFocusOut(ee){this.textAreaSelectionChange.emit({...this.note,text:ee.innerHTML,selection:JSON.stringify(this.txtSelection.saveSelection(ee))}),this.textAreaUpdatedOpendNote.emit({...this.note,text:ee.innerHTML,selection:JSON.stringify(this.txtSelection.saveSelection(ee))})}ngOnChanges(ee){ee.note.currentValue.id===this.note.id&&null!==this.note.selection&&ee.note.currentValue.id!==ee.note.previousValue?.id&&setTimeout(()=>{this.txtSelection.doRestore(this.note.selection,this.textarea.nativeElement)},100)}static#e=this.\u0275fac=function(ue){return new(ue||j)(e.Y36(E.H7),e.Y36(C.B))};static#t=this.\u0275cmp=e.Xpm({type:j,selectors:[["app-textarea-expanded"]],viewQuery:function(ue,Fe){if(1&ue&&e.Gf(F,7),2&ue){let be;e.iGM(be=e.CRH())&&(Fe.textarea=be.first)}},hostBindings:function(ue,Fe){1&ue&&e.NdJ("focusout",function(De){return Fe.onFocusOut(De.target)})},inputs:{note:"note"},outputs:{textAreaTextChanged:"textAreaTextChanged",textAreaUpdatedOpendNote:"textAreaUpdatedOpendNote",textAreaSelectionChange:"textAreaSelectionChange"},features:[e._Bn([V]),e.TTD],decls:5,vars:4,consts:[[1,"text-area-wrapper"],[1,"textArea"],["contenteditable","true","tabindex","1",1,"p-3","textInput",3,"innerHTML","autofocus","spellcheck"],["textarea",""]],template:function(ue,Fe){1&ue&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2,3),e._uU(4),e.qZA()()()),2&ue&&(e.xp6(2),e.Q6J("innerHTML",Fe.note.text,e.oJD)("autofocus",!0)("spellcheck",Fe.note.spellCheck),e.xp6(2),e.hij(" ",Fe.note.text," "))},styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto}.text-area-wrapper[_ngcontent-%COMP%]{position:relative;overflow-y:auto;overflow-x:hidden;display:flex;flex:1 1 auto;flex-direction:column;border-bottom:2px solid var(--border)}.textArea[_ngcontent-%COMP%]{flex:1 1 auto;position:relative;display:flex;flex-direction:column}.textArea[_ngcontent-%COMP%]::spelling-error{background-color:#ff000024;text-decoration-line:underline;text-decoration-style:solid;text-decoration-color:#add8e6}.textInput[_ngcontent-%COMP%]{position:absolute;font-size:.85rem}div.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}[contenteditable][_ngcontent-%COMP%]{outline:0px solid transparent;width:100%;height:100%}*[_ngcontent-%COMP%]::-webkit-scrollbar{width:.85rem}*[_ngcontent-%COMP%]::-webkit-scrollbar-button{position:absolute;display:none}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb-color);border-radius:.5rem}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover-color)}.custom-scroll[_ngcontent-%COMP%]{--scrollbar-size: 8px;--scrollbar-thumb-color: var(--bs-primary);--scrollbar-hover-size: 12px;--scrollbar-track-color: rgba(0, 0, 0, .05);--scrollbar-border-radius: 0px}"],changeDetection:0})}return j})()},6267:(Je,le,l)=>{"use strict";l.d(le,{c:()=>Pt});var e=l(6814),S=l(4953),C=(l(8194),l(2743),l(8973),l(596),l(7412),l(9069),l(9212)),F=l(7524);l(8369),l(5754);var q=l(6833),ue=(l(682),l(7178)),be=(l(221),l(6746));l(95),l(3569);const Dt=[q.z,F.w],Gt=[];let Pt=(()=>{class dt{static forRoot(){return{ngModule:dt,providers:[...Gt,...Dt]}}static#e=this.\u0275fac=function(un){return new(un||dt)};static#t=this.\u0275mod=C.oAB({type:dt});static#n=this.\u0275inj=C.cJS({imports:[e.ez,be.m,S.kb,ue.IJ]})}return dt})()},589:(Je,le,l)=>{"use strict";l.d(le,{j:()=>e});class e{constructor(u={}){Object.assign(this,u)}}},5306:(Je,le,l)=>{"use strict";l.d(le,{f:()=>u});var e=l(2096),S=l(9212);let u=(()=>{class N{static#e=this.isDarkMode=!1;get DarkMode(){return"true"===localStorage.getItem("darkmode")||N.isDarkMode}set DarkMode(h){localStorage.setItem("darkmode",h.toString()),this.style.href=this.getStyleName(this.DarkMode)}constructor(){this.style=document.createElement("link"),this.style.rel="stylesheet",this.style.type="text/css"}getStyleName(h){return h?"dark.css":"light.css"}toggleDarkMode(){return this.style.href=this.getStyleName(!this.DarkMode),localStorage.setItem("darkmode",(!this.DarkMode).toString()),this.DarkMode}initTheme(){return this.style.href=this.getStyleName(this.DarkMode),document.head.appendChild(this.style),(0,e.of)(!0)}static#t=this.\u0275fac=function(y){return new(y||N)};static#n=this.\u0275prov=S.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})()},2481:(Je,le,l)=>{"use strict";l.d(le,{D2:()=>h,EB:()=>y,F2:()=>x,It:()=>N,J2:()=>$,TY:()=>u,W8:()=>S,kS:()=>j,qm:()=>V});var e=l(4221);const S=(0,e.PH)("[AUTH] TOKEN_EXPIRE",(0,e.Ky)()),u=(0,e.PH)("[AUTH] ROUTE_TO_LOGIN",(0,e.Ky)()),N=(0,e.PH)("[AUTH] ROUTE_TO_HOME"),x=(0,e.PH)("[AUTH] LOGIN_EVENT",(0,e.Ky)()),h=(0,e.PH)("[AUTH] LOGIN_EVENT_FAIL",(0,e.Ky)()),y=(0,e.PH)("[AUTH] LOGIN_EVENT_SUCCESS"),V=((0,e.PH)("[AUTH] AUTH_INIT"),(0,e.PH)("[AUTH] AUTH_INIT_SUCCESS",(0,e.Ky)()),(0,e.PH)("[AUTH] LOAD_PROFILE"),(0,e.PH)("[AUTH] LOAD_PROFILE_SUCCESS",(0,e.Ky)())),$=(0,e.PH)("[AUTH] LOAD_PROFILE_FAIL",(0,e.Ky)()),j=(0,e.PH)("[AUTH] LOGOUT",(0,e.Ky)());(0,e.PH)("[AUTH] LOGOUT_SUCCESS"),(0,e.PH)("[AUTH] LOGOUT_FAIL")},6994:(Je,le,l)=>{"use strict";l.d(le,{Ar:()=>N,BR:()=>E,Bt:()=>x,Hw:()=>Fe,I7:()=>C,J_:()=>Me,Lz:()=>De,M0:()=>ee,OV:()=>Ae,Pr:()=>be,SZ:()=>u,UF:()=>y,VD:()=>ue,ZF:()=>$,aw:()=>j,c:()=>F,eJ:()=>q,ke:()=>h,sZ:()=>V,x1:()=>se,yM:()=>S});var e=l(4221);const S=(0,e.PH)("[EVENT] CREATE_EVENT",(0,e.Ky)()),u=(0,e.PH)("[EVENT] CREATE_EVENT_FAIL",(0,e.Ky)()),N=(0,e.PH)("[EVENT] CREATE_EVENT_SUCCESS",(0,e.Ky)()),x=(0,e.PH)("[EVENT] DELETE_EVENT",(0,e.Ky)()),h=(0,e.PH)("[EVENT] DELETE_EVENT_FAIL",(0,e.Ky)()),y=(0,e.PH)("[EVENT] DELETE_EVENT_SUCCESS",(0,e.Ky)()),E=(0,e.PH)("[EVENT] DELETE_EVENTS",(0,e.Ky)()),C=(0,e.PH)("[EVENT] DELETE_EVENTS_FAIL",(0,e.Ky)()),F=(0,e.PH)("[EVENT] DELETE_EVENTS_SUCCESS",(0,e.Ky)()),V=(0,e.PH)("[EVENT] FETCH_EVENTS"),$=(0,e.PH)("[EVENT] FETCH_EVENTS_FAILURE",(0,e.Ky)()),j=(0,e.PH)("[EVENT] FETCH_EVENTS_SUCCESS",(0,e.Ky)()),q=(0,e.PH)("[EVENT] UPDATE_EVENT",(0,e.Ky)()),ee=(0,e.PH)("[EVENT] UPDATE_EVENT_FAIL",(0,e.Ky)()),ue=(0,e.PH)("[EVENT] UPDATE_EVENT_SUCCESS",(0,e.Ky)()),Fe=(0,e.PH)("[EVENT] TOGGLE_EVENT",(0,e.Ky)()),be=(0,e.PH)("[EVENT] TOGGLE_EVENT_FAIL",(0,e.Ky)()),De=(0,e.PH)("[EVENT] TOGGLE_EVENT_SUCCESS",(0,e.Ky)()),se=(0,e.PH)("[EVENT] FETCH_EVENTS_START"),Ae=(0,e.PH)("[EVENT] FETCH_EVENTS_COMPLETE"),Me=(0,e.PH)("[EVENT] EVENTS_CLEAR")},3613:(Je,le,l)=>{"use strict";l.d(le,{AG:()=>Kt,Bn:()=>Vt,FF:()=>tt,G_:()=>ue,HI:()=>Xe,Hl:()=>Me,MJ:()=>ht,O5:()=>U,Qk:()=>se,Tb:()=>Gt,Tf:()=>j,Tq:()=>Yt,Us:()=>Tt,X6:()=>hn,Y8:()=>q,YY:()=>Be,Yg:()=>y,Zn:()=>ln,Zw:()=>Dt,ac:()=>ee,bd:()=>Qe,bh:()=>An,ce:()=>h,f_:()=>E,gl:()=>Fe,hR:()=>C,iG:()=>dn,j8:()=>Ct,jA:()=>$t,jO:()=>V,jT:()=>be,kT:()=>x,kU:()=>qe,lk:()=>st,or:()=>F,pB:()=>Ae,qS:()=>xe,qp:()=>Pn,qw:()=>fe,rs:()=>K,sG:()=>Pt,sI:()=>wt,v3:()=>De,w:()=>Et,xe:()=>Te,yV:()=>$});var e=l(4221);(0,e.PH)("[NOTE] CREATE_NEW_NOTE",(0,e.Ky)()),(0,e.PH)("[NOTE] CREATE_NEW_NOTE_FAIL",(0,e.Ky)()),(0,e.PH)("[NOTE] CREATE_NEW_NOTE_SUCCESS",(0,e.Ky)());const x=(0,e.PH)("[NOTE] CREATE_NOTE",(0,e.Ky)()),h=(0,e.PH)("[NOTE] CREATE_NOTE_FAIL",(0,e.Ky)()),y=(0,e.PH)("[NOTE] CREATE_NOTE_SUCCESS",(0,e.Ky)()),E=(0,e.PH)("[NOTE] DELETE_NOTE",(0,e.Ky)()),C=(0,e.PH)("[NOTE] DELETE_NOTE_FAIL",(0,e.Ky)()),F=(0,e.PH)("[NOTE] DELETE_NOTE_SUCCESS",(0,e.Ky)()),V=(0,e.PH)("[NOTE] FETCH_NOTES"),$=(0,e.PH)("[NOTE] FETCH_NOTES_FAILURE",(0,e.Ky)()),j=(0,e.PH)("[NOTE] FETCH_NOTES_SUCCESS",(0,e.Ky)()),q=(0,e.PH)("[NOTE] UPDATE_NOTE_TEXT",(0,e.Ky)()),ee=(0,e.PH)("[NOTE] UPDATE_NOTE_TEXT_SUCCESS",(0,e.Ky)()),ue=(0,e.PH)("[NOTE] UPDATE_NOTE_TEXT_FAIL",(0,e.Ky)()),Fe=(0,e.PH)("[NOTE] UPDATE_NOTE_HEADER",(0,e.Ky)()),be=(0,e.PH)("[NOTE] UPDATE_NOTE_HEADER_SUCCESS",(0,e.Ky)()),De=(0,e.PH)("[NOTE] UPDATE_NOTE_HEADER_FAIL",(0,e.Ky)()),se=(0,e.PH)("[NOTE] UPDATE_NOTE",(0,e.Ky)()),Ae=(0,e.PH)("[NOTE] UPDATE_NOTE_FAIL",(0,e.Ky)()),Me=(0,e.PH)("[NOTE] UPDATE_NOTE_SUCCESS",(0,e.Ky)()),st=(0,e.PH)("[NOTE] UPDATE_NOTE_POSITION",(0,e.Ky)()),fe=(0,e.PH)("[NOTE] UPDATE_NOTE_POSITION_SUCCESS",(0,e.Ky)()),Dt=(0,e.PH)("[NOTE] UPDATE_NOTE_POSITION_FAIL",(0,e.Ky)()),Gt=(0,e.PH)("[NOTE] UPDATE_NOTE_SIZE",(0,e.Ky)()),Pt=(0,e.PH)("[NOTE] UPDATE_NOTE_SIZE_SUCCESS",(0,e.Ky)()),hn=((0,e.PH)("[NOTE] UPDATE_NOTE_SIZE_FAIL",(0,e.Ky)()),(0,e.PH)("[NOTE] GET_NOTE",(0,e.Ky)()),(0,e.PH)("[NOTE] GET_NOTE_FAIL",(0,e.Ky)()),(0,e.PH)("[NOTE] GET_NOTE_SUCCESS",(0,e.Ky)()),(0,e.PH)("[NOTE] GET_NOTE_UPDATED_TIMESTAMP",(0,e.Ky)()),(0,e.PH)("[NOTE] GET_NOTE_UPDATED_TIMESTAMP_SUCCESS",(0,e.Ky)())),$t=((0,e.PH)("[NOTE] GET_NOTE_UPDATED_TIMESTAMP_FAIL",(0,e.Ky)()),(0,e.PH)("[NOTE] UPDATE_PIN_ORDER",(0,e.Ky)())),Xe=(0,e.PH)("[NOTE] UPDATE_PIN_ORDER_SUCCESS",(0,e.Ky)()),ht=(0,e.PH)("[NOTE] UPDATE_PIN_ORDER_FAIL",(0,e.Ky)()),Tt=(0,e.PH)("[NOTE] RESTORE_NOTE",(0,e.Ky)()),wt=(0,e.PH)("[NOTE] RESTORE_NOTE_SUCCESS",(0,e.Ky)()),Kt=(0,e.PH)("[NOTE] RESTORE_NOTE_FAIL",(0,e.Ky)()),Vt=(0,e.PH)("[NOTE] ARCHIVE_NOTE",(0,e.Ky)()),dn=(0,e.PH)("[NOTE] ARCHIVE_NOTE_SUCCESS",(0,e.Ky)()),An=(0,e.PH)("[NOTE] ARCHIVE_NOTE_FAIL",(0,e.Ky)()),Te=(0,e.PH)("[NOTE] SELECT",(0,e.Ky)()),U=(0,e.PH)("[NOTE] UPDATE_OPEND_NOTE",(0,e.Ky)()),K=(0,e.PH)("[NOTE] UPDATE_NOTE_COLOUR",(0,e.Ky)()),xe=(0,e.PH)("[NOTE] UPDATE_NOTE_COLOUR_SUCCESS",(0,e.Ky)()),Be=(0,e.PH)("[NOTE] UPDATE_NOTE_COLOUR_FAIL",(0,e.Ky)()),tt=(0,e.PH)("[NOTE] FETCH_NOTES_COMPLETE"),qe=(0,e.PH)("[NOTE] FETCH_NOTES_START"),Et=(0,e.PH)("[NOTE] UPDATE_NOTE_SELECTION",(0,e.Ky)()),Qe=(0,e.PH)("[NOTE] UPDATE_NOTE_SELECTION_SUCCESS",(0,e.Ky)()),Ct=(0,e.PH)("[NOTE] UPDATE_NOTE_SELECTION_FAIL",(0,e.Ky)()),Yt=(0,e.PH)("[NOTE] TOGGLE_SPELL_CHECK",(0,e.Ky)()),ln=(0,e.PH)("[NOTE] TOGGLE_SPELL_CHECK_SUCCESS",(0,e.Ky)()),Pn=(0,e.PH)("[NOTE] TOGGLE_SPELL_CHECK_FAIL",(0,e.Ky)())},783:(Je,le,l)=>{"use strict";l.d(le,{Ib:()=>y,In:()=>S,M7:()=>E,MP:()=>C,TU:()=>u,d8:()=>h,nf:()=>F});var e=l(4221);const S=(0,e.PH)("[PREFERENCE] TOGGLE_DARK_MODE"),u=(0,e.PH)("[PREFERENCE] TOGGLE_DARK_MODE_SUCCESS"),h=((0,e.PH)("[PREFERENCE] GET_DARK_MODE"),(0,e.PH)("[PREFERENCE] GET_DARK_MODE_SUCCESS",(0,e.Ky)()),(0,e.PH)("[PREFERENCE] LOG_IN_SUCCESS")),y=(0,e.PH)("[PREFERENCE] LOG_IN"),E=(0,e.PH)("[PREFERENCE] GET_IS_LOGGED_IN"),C=(0,e.PH)("[PREFERENCE] GET_IS_LOGGED_IN_SUCCESS",(0,e.Ky)()),F=(0,e.PH)("[PREFERENCE] SET_IS_LOGGED_IN",(0,e.Ky)());(0,e.PH)("[PREFERENCE] SET_IS_LOGGED_IN_SUCCESS",(0,e.Ky)())},2268:(Je,le,l)=>{"use strict";l.d(le,{Go:()=>y,I9:()=>N,Vc:()=>E,vw:()=>h});var e=l(4221),S=l(6994);const N=(0,e.Lq)({events:[],isLoading:!1},(0,e.on)(S.J_,F=>({...F,events:[]})),(0,e.on)(S.Ar,(F,V)=>({...F,events:[V.payload,...F.events]})),(0,e.on)(S.aw,(F,V)=>({...F,events:V.payload||[]})),(0,e.on)(S.Lz,S.VD,(F,V)=>({...F,events:F.events.map($=>$.id===V.payload.id?V.payload:$)})),(0,e.on)(S.UF,(F,V)=>({...F,events:F.events.filter($=>$.id!==V.payload.id)})),(0,e.on)(S.x1,F=>({...F,isLoading:!0})),(0,e.on)(S.OV,F=>({...F,isLoading:!1})),(0,e.on)(S.c,(F,V)=>({...F,events:F.events.filter($=>V.payload.every(j=>j.id!==$.id))}))),x=(0,e.ZF)("events"),h=(0,e.P1)(x,F=>F.events),y=(0,e.P1)(x,F=>F.events.length),E=(0,e.P1)(x,F=>F.isLoading)},4648:(Je,le,l)=>{"use strict";l.d(le,{VZ:()=>$,Vc:()=>Fe,DH:()=>be,sj:()=>De,Kk:()=>V,P3:()=>q,vh:()=>j,cn:()=>ue,i4:()=>ee,$i:()=>y});var e=l(4221),S=l(3613),u=l(589);const N=(0,e.ZF)("router"),x=(0,e.P1)(N,se=>se.state),y=(0,e.Lq)({notes:[],selectedNote:null,opendNote:null,isLoading:!1,animate:{note:!1,date:!1}},(0,e.on)(S.xe,(se,Ae)=>({...se,selectedNote:Ae.payload,opendNote:Ae.payload})),(0,e.on)(S.O5,(se,Ae)=>({...se,opendNote:Ae.payload})),(0,e.on)(S.Yg,(se,Ae)=>({...se,notes:C([Ae.payload,...se.notes]),selectedNote:Ae.payload,opendNote:Ae.payload,animate:{note:!0,date:!0}})),(0,e.on)(S.kU,se=>({...se,isLoading:!0})),(0,e.on)(S.FF,se=>({...se,isLoading:!1})),(0,e.on)(S.Tf,(se,Ae)=>({...se,notes:Ae.payload,selectedNote:Ae.payload.filter(Me=>!Me.archived)[0]??null,opendNote:Ae.payload.filter(Me=>!Me.archived)[0]??null,animate:{note:!0,date:!0}})),(0,e.on)(S.Hl,S.qw,S.sG,S.jT,(se,Ae)=>({...se,notes:se.notes.map(Me=>Me.id===Ae.payload.id||void 0===Me.id?Ae.payload:Me),opendNote:Ae.payload,selectedNote:Ae.payload,animate:{note:!0,date:!0}})),(0,e.on)(S.Zn,(se,Ae)=>({...se,notes:se.notes.map(Me=>Me.id===Ae.payload.id||void 0===Me.id?Ae.payload:Me),opendNote:Ae.payload,selectedNote:Ae.payload,animate:{note:!1,date:!1}})),(0,e.on)(S.bd,(se,Ae)=>({...se,notes:se.notes.map(Me=>Me.id===Ae.payload.id||void 0===Me.id?Ae.payload:Me),animate:{note:!1,date:!1}})),(0,e.on)(S.sI,(se,Ae)=>{const st=E(se.notes.map(fe=>fe.id===Ae.payload.id?Ae.payload:fe));return{...se,notes:C(st),animate:{...se.animate,note:!1,date:!1}}}),(0,e.on)(S.qS,(se,Ae)=>{const Me=se.notes.map(st=>st.id===Ae.payload.id?Ae.payload:st);return{...se,notes:Me,animate:{...se.animate,note:!1,date:!1}}}),(0,e.on)(S.ac,(se,Ae)=>{const Me=se.notes.map(fe=>fe.id===Ae.payload.id?Ae.payload:fe),st=[Me.find(fe=>fe.id===Ae.payload.id),...Me.filter(fe=>fe.id!==Ae.payload.id)];return{...se,notes:C(st),animate:{...se.animate,note:!1,date:!1}}}),(0,e.on)(S.jA,(se,Ae)=>Ae.payload.id===se.opendNote?.id?{...se,opendNote:{...se.opendNote,pinOrder:Ae.payload.pinOrder}}:se),(0,e.on)(S.HI,(se,Ae)=>{const Me=se.notes.map(fe=>fe.id===Ae.payload.id?Ae.payload:fe),st=[Me.find(fe=>fe.id===Ae.payload.id),...Me.filter(fe=>fe.id!==Ae.payload.id)];return{...se,notes:C(E(st)),animate:{note:!0,date:!1}}}),(0,e.on)(S.X6,(se,Ae)=>({...se,notes:se.notes.map(Me=>Me.id===Ae.payload.id?{...Me,dateModified:Ae.payload.dateModified}:Me)})),(0,e.on)(S.iG,S.or,(se,Ae)=>{const Me=se.notes.map(st=>st.id===Ae.payload.id?Ae.payload:st);return{...se,notes:Me,selectedNote:null,opendNote:null,animate:{note:!0,date:!0}}}));function E(se){return se.sort((Ae,Me)=>Ae.dateModified>Me.dateModified?-1:1)}function C(se){return[...se.filter(Ae=>null!==Ae.pinOrder),...se.filter(Ae=>null===Ae.pinOrder)].sort((Ae,Me)=>Ae.pinOrder>Me.pinOrder?-1:1)}const F=(0,e.ZF)("notes"),V=(0,e.P1)(F,se=>se.notes.filter(Ae=>!Ae.archived)),$=(0,e.P1)(F,se=>se.notes.filter(Ae=>Ae.archived).sort((Ae,Me)=>Ae.dateArchived>Me.dateArchived?-1:1)),j=(0,e.P1)(F,se=>se.notes.filter(Ae=>!Ae.archived).length),q=(0,e.P1)(F,se=>se.animate),ee=(0,e.P1)(F,se=>se.selectedNote?se.notes.find(Ae=>Ae.id===se.selectedNote.id):new u.j),ue=(0,e.P1)(F,se=>se.opendNote),Fe=(0,e.P1)(F,se=>se.isLoading),be=se=>(0,e.P1)(F,Ae=>Ae.notes?Ae.notes.find(Me=>Me.id===se):{}),De=(0,e.P1)(F,x,(se,Ae)=>se.notes?se.notes.find(Me=>Me.id===Number(Ae.params.id)):{})},9141:(Je,le,l)=>{"use strict";l.d(le,{Cn:()=>x,Yc:()=>y,jl:()=>E});var e=l(4221),S=l(783),u=l(5306);const N={isDarkMode:"true"===localStorage.getItem("darkmode")||u.f.isDarkMode,isLoggedIn:!1},x=(0,e.Lq)(N,(0,e.on)(S.TU,C=>({...C,isDarkMode:!C.isDarkMode})),(0,e.on)(S.d8,C=>({...C,isLoggedIn:!0})),(0,e.on)(S.MP,(C,F)=>({...C,isLoggedIn:F.isLoggedIn}))),h=(0,e.ZF)("preference"),y=(0,e.P1)(h,C=>C.isDarkMode),E=(0,e.P1)(h,C=>C.isLoggedIn)},7414:function(Je){Je.exports=function(le){var l={};function e(S){if(l[S])return l[S].exports;var u=l[S]={i:S,l:!1,exports:{}};return le[S].call(u.exports,u,u.exports,e),u.l=!0,u.exports}return e.m=le,e.c=l,e.d=function(S,u,N){e.o(S,u)||Object.defineProperty(S,u,{enumerable:!0,get:N})},e.r=function(S){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})},e.t=function(S,u){if(1&u&&(S=e(S)),8&u||4&u&&"object"==typeof S&&S&&S.__esModule)return S;var N=Object.create(null);if(e.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:S}),2&u&&"string"!=typeof S)for(var x in S)e.d(N,x,function(h){return S[h]}.bind(null,x));return N},e.n=function(S){var u=S&&S.__esModule?function(){return S.default}:function(){return S};return e.d(u,"a",u),u},e.o=function(S,u){return Object.prototype.hasOwnProperty.call(S,u)},e.p="",e(e.s=22)}([function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S=function(){function h(y,E){for(var C=0;C<E.length;C++){var F=E[C];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(y,F.key,F)}}return function(y,E,C){return E&&h(y.prototype,E),C&&h(y,C),y}}(),u={debug:function(){},info:function(){},warn:function(){},error:function(){}},N=void 0,x=void 0;(l.Log=function(){function h(){!function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}(this,h)}return h.reset=function(){x=3,N=u},h.debug=function(){if(x>=4){for(var E=arguments.length,C=Array(E),F=0;F<E;F++)C[F]=arguments[F];N.debug.apply(N,Array.from(C))}},h.info=function(){if(x>=3){for(var E=arguments.length,C=Array(E),F=0;F<E;F++)C[F]=arguments[F];N.info.apply(N,Array.from(C))}},h.warn=function(){if(x>=2){for(var E=arguments.length,C=Array(E),F=0;F<E;F++)C[F]=arguments[F];N.warn.apply(N,Array.from(C))}},h.error=function(){if(x>=1){for(var E=arguments.length,C=Array(E),F=0;F<E;F++)C[F]=arguments[F];N.error.apply(N,Array.from(C))}},S(h,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return x},set:function(E){if(!(0<=E&&E<=4))throw new Error("Invalid log level");x=E}},{key:"logger",get:function(){return N},set:function(E){if(!E.debug&&E.info&&(E.debug=E.info),!(E.debug&&E.info&&E.warn&&E.error))throw new Error("Invalid logger");N=E}}]),h}()).reset()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S=function(){function h(y,E){for(var C=0;C<E.length;C++){var F=E[C];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(y,F.key,F)}}return function(y,E,C){return E&&h(y.prototype,E),C&&h(y,C),y}}(),u={setInterval:function(h){function y(E,C){return h.apply(this,arguments)}return y.toString=function(){return h.toString()},y}(function(h,y){return setInterval(h,y)}),clearInterval:function(h){function y(E){return h.apply(this,arguments)}return y.toString=function(){return h.toString()},y}(function(h){return clearInterval(h)})},N=!1,x=null;l.Global=function(){function h(){!function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}(this,h)}return h._testing=function(){N=!0},h.setXMLHttpRequest=function(E){x=E},S(h,null,[{key:"location",get:function(){if(!N)return location}},{key:"localStorage",get:function(){if(!N&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!N&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!N&&typeof window<"u")return x||XMLHttpRequest}},{key:"timer",get:function(){if(!N)return u}}]),h}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MetadataService=void 0;var S=function(){function y(E,C){for(var F=0;F<C.length;F++){var V=C[F];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}}return function(E,C,F){return C&&y(E.prototype,C),F&&y(E,F),E}}(),u=e(0),N=e(7);var h=".well-known/openid-configuration";l.MetadataService=function(){function y(E){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.JsonService;if(function x(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,y),!E)throw u.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=E,this._jsonService=new C(["application/jwk-set+json"])}return y.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},y.prototype.getMetadata=function(){var C=this;return this._settings.metadata?(u.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(u.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(F){return u.Log.debug("MetadataService.getMetadata: json received"),C._settings.metadata=Object.assign({},C._settings.metadataSeed||{},F),C._settings.metadata})):(u.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},y.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},y.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},y.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},y.prototype.getTokenEndpoint=function(){return this._getMetadataProperty("token_endpoint",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])},y.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},y.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},y.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},y.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},y.prototype._getMetadataProperty=function(C){var F=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u.Log.debug("MetadataService.getMetadataProperty for: "+C),this.getMetadata().then(function(V){if(u.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===V[C]){if(!0===F)return void u.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+C);throw u.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+C),new Error("Metadata does not contain property "+C)}return V[C]})},y.prototype.getSigningKeys=function(){var C=this;return this._settings.signingKeys?(u.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(F){return u.Log.debug("MetadataService.getSigningKeys: jwks_uri received",F),C._jsonService.getJson(F).then(function(V){if(u.Log.debug("MetadataService.getSigningKeys: key set received",V),!V.keys)throw u.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return C._settings.signingKeys=V.keys,C._settings.signingKeys})})},S(y,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(h)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=h))),this._metadataUrl}}]),y}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.UrlUtility=void 0;var S=e(0),u=e(1);l.UrlUtility=function(){function N(){!function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,N)}return N.addQueryParam=function(h,y,E){return h.indexOf("?")<0&&(h+="?"),"?"!==h[h.length-1]&&(h+="&"),h+=encodeURIComponent(y),(h+="=")+encodeURIComponent(E)},N.parseUrlFragment=function(h){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";"string"!=typeof h&&(h=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.Global).location.href);var C=h.lastIndexOf(y);C>=0&&(h=h.substr(C+1)),"?"===y&&(C=h.indexOf("#"))>=0&&(h=h.substr(0,C));for(var F,V={},$=/([^&=]+)=([^&]*)/g,j=0;F=$.exec(h);)if(V[decodeURIComponent(F[1])]=decodeURIComponent(F[2].replace(/\+/g," ")),j++>50)return S.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",h),{error:"Response exceeded expected number of parameters"};for(var q in V)return V;return{}},N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.JoseUtil=void 0;var x,S=e(26),u=(x=e(33))&&x.__esModule?x:{default:x};l.JoseUtil=(0,u.default)({jws:S.jws,KeyUtil:S.KeyUtil,X509:S.X509,crypto:S.crypto,hextob64u:S.hextob64u,b64tohex:S.b64tohex,AllowedSigningAlgs:S.AllowedSigningAlgs})},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.OidcClientSettings=void 0;var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},u=function(){function q(ee,ue){for(var Fe=0;Fe<ue.length;Fe++){var be=ue[Fe];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(ee,be.key,be)}}return function(ee,ue,Fe){return ue&&q(ee.prototype,ue),Fe&&q(ee,Fe),ee}}(),N=e(0),x=e(23),h=e(6),y=e(24),E=e(2);var F=".well-known/openid-configuration";l.OidcClientSettings=function(){function q(){var ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ue=ee.authority,Fe=ee.metadataUrl,be=ee.metadata,De=ee.signingKeys,se=ee.metadataSeed,Ae=ee.client_id,Me=ee.client_secret,st=ee.response_type,fe=void 0===st?"id_token":st,Dt=ee.scope,Gt=void 0===Dt?"openid":Dt,Pt=ee.redirect_uri,dt=ee.post_logout_redirect_uri,sn=ee.client_authentication,an=void 0===sn?"client_secret_post":sn,un=ee.prompt,Sn=ee.display,hn=ee.max_age,cn=ee.ui_locales,$t=ee.acr_values,Xe=ee.resource,ht=ee.response_mode,Tt=ee.filterProtocolClaims,wt=void 0===Tt||Tt,Kt=ee.loadUserInfo,Vt=void 0===Kt||Kt,dn=ee.staleStateAge,An=void 0===dn?900:dn,Te=ee.clockSkew,U=void 0===Te?300:Te,K=ee.clockService,xe=void 0===K?new x.ClockService:K,Be=ee.userInfoJwtIssuer,tt=void 0===Be?"OP":Be,qe=ee.mergeClaims,Et=void 0!==qe&&qe,Qe=ee.stateStore,Ct=void 0===Qe?new h.WebStorageStateStore:Qe,Yt=ee.ResponseValidatorCtor,ln=void 0===Yt?y.ResponseValidator:Yt,Pn=ee.MetadataServiceCtor,Hn=void 0===Pn?E.MetadataService:Pn,zn=ee.extraQueryParams,on=void 0===zn?{}:zn,jn=ee.extraTokenParams,xn=void 0===jn?{}:jn;(function C(q,ee){if(!(q instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,q),this._authority=ue,this._metadataUrl=Fe,this._metadata=be,this._metadataSeed=se,this._signingKeys=De,this._client_id=Ae,this._client_secret=Me,this._response_type=fe,this._scope=Gt,this._redirect_uri=Pt,this._post_logout_redirect_uri=dt,this._client_authentication=an,this._prompt=un,this._display=Sn,this._max_age=hn,this._ui_locales=cn,this._acr_values=$t,this._resource=Xe,this._response_mode=ht,this._filterProtocolClaims=!!wt,this._loadUserInfo=!!Vt,this._staleStateAge=An,this._clockSkew=U,this._clockService=xe,this._userInfoJwtIssuer=tt,this._mergeClaims=!!Et,this._stateStore=Ct,this._validator=new ln(this),this._metadataService=new Hn(this),this._extraQueryParams="object"===(void 0===on?"undefined":S(on))?on:{},this._extraTokenParams="object"===(void 0===xn?"undefined":S(xn))?xn:{}}return q.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},u(q,[{key:"client_id",get:function(){return this._client_id},set:function(ue){if(this._client_id)throw N.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=ue}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(ue){if(this._authority)throw N.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=ue}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(F)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=F)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(ue){this._metadata=ue}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(ue){this._metadataSeed=ue}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(ue){this._signingKeys=ue}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(ue){this._extraQueryParams="object"===(void 0===ue?"undefined":S(ue))?ue:{}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(ue){this._extraTokenParams="object"===(void 0===ue?"undefined":S(ue))?ue:{}}}]),q}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.WebStorageStateStore=void 0;var S=e(0),u=e(1);l.WebStorageStateStore=function(){function x(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=h.prefix,E=void 0===y?"oidc.":y,C=h.store,F=void 0===C?u.Global.localStorage:C;(function N(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")})(this,x),this._store=F,this._prefix=E}return x.prototype.set=function(y,E){return S.Log.debug("WebStorageStateStore.set",y),this._store.setItem(y=this._prefix+y,E),Promise.resolve()},x.prototype.get=function(y){S.Log.debug("WebStorageStateStore.get",y);var E=this._store.getItem(y=this._prefix+y);return Promise.resolve(E)},x.prototype.remove=function(y){S.Log.debug("WebStorageStateStore.remove",y);var E=this._store.getItem(y=this._prefix+y);return this._store.removeItem(y),Promise.resolve(E)},x.prototype.getAllKeys=function(){S.Log.debug("WebStorageStateStore.getAllKeys");for(var y=[],E=0;E<this._store.length;E++){var C=this._store.key(E);0===C.indexOf(this._prefix)&&y.push(C.substr(this._prefix.length))}return Promise.resolve(y)},x}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.JsonService=void 0;var S=e(0),u=e(1);l.JsonService=function(){function x(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.Global.XMLHttpRequest,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function N(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")})(this,x),this._contentTypes=h&&Array.isArray(h)?h.slice():[],this._contentTypes.push("application/json"),E&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=y,this._jwtHandler=E}return x.prototype.getJson=function(y,E){var C=this;if(!y)throw S.Log.error("JsonService.getJson: No url passed"),new Error("url");return S.Log.debug("JsonService.getJson, url: ",y),new Promise(function(F,V){var $=new C._XMLHttpRequest;$.open("GET",y);var j=C._contentTypes,q=C._jwtHandler;$.onload=function(){if(S.Log.debug("JsonService.getJson: HTTP response received, status",$.status),200===$.status){var ee=$.getResponseHeader("Content-Type");if(ee){var ue=j.find(function(Fe){if(ee.startsWith(Fe))return!0});if("application/jwt"==ue)return void q($).then(F,V);if(ue)try{return void F(JSON.parse($.responseText))}catch(Fe){return S.Log.error("JsonService.getJson: Error parsing JSON response",Fe.message),void V(Fe)}}V(Error("Invalid response Content-Type: "+ee+", from URL: "+y))}else V(Error($.statusText+" ("+$.status+")"))},$.onerror=function(){S.Log.error("JsonService.getJson: network error"),V(Error("Network Error"))},E&&(S.Log.debug("JsonService.getJson: token passed, setting Authorization header"),$.setRequestHeader("Authorization","Bearer "+E)),$.send()})},x.prototype.postForm=function(y,E,C){var F=this;if(!y)throw S.Log.error("JsonService.postForm: No url passed"),new Error("url");return S.Log.debug("JsonService.postForm, url: ",y),new Promise(function(V,$){var j=new F._XMLHttpRequest;j.open("POST",y);var q=F._contentTypes;j.onload=function(){if(S.Log.debug("JsonService.postForm: HTTP response received, status",j.status),200!==j.status){if(400===j.status&&(De=j.getResponseHeader("Content-Type"))&&q.find(function(se){if(De.startsWith(se))return!0}))try{var be=JSON.parse(j.responseText);if(be&&be.error)return S.Log.error("JsonService.postForm: Error from server: ",be.error),void $(new Error(be.error))}catch(se){return S.Log.error("JsonService.postForm: Error parsing JSON response",se.message),void $(se)}$(Error(j.statusText+" ("+j.status+")"))}else{var De;if((De=j.getResponseHeader("Content-Type"))&&q.find(function(se){if(De.startsWith(se))return!0}))try{return void V(JSON.parse(j.responseText))}catch(se){return S.Log.error("JsonService.postForm: Error parsing JSON response",se.message),void $(se)}$(Error("Invalid response Content-Type: "+De+", from URL: "+y))}},j.onerror=function(){S.Log.error("JsonService.postForm: network error"),$(Error("Network Error"))};var ee="";for(var ue in E){var Fe=E[ue];Fe&&(ee.length>0&&(ee+="&"),ee+=encodeURIComponent(ue),ee+="=",ee+=encodeURIComponent(Fe))}j.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==C&&j.setRequestHeader("Authorization","Basic "+btoa(C)),j.send(ee)})},x}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SigninRequest=void 0;var S=e(0),u=e(3),N=e(13);l.SigninRequest=function(){function x(h){var y=h.url,E=h.client_id,C=h.redirect_uri,F=h.response_type,V=h.scope,$=h.authority,j=h.data,q=h.prompt,ee=h.display,ue=h.max_age,Fe=h.ui_locales,be=h.id_token_hint,De=h.login_hint,se=h.acr_values,Ae=h.resource,Me=h.response_mode,st=h.request,fe=h.request_uri,Dt=h.extraQueryParams,Gt=h.request_type,Pt=h.client_secret,dt=h.extraTokenParams,sn=h.skipUserInfo;if(function(Xe,ht){if(!(Xe instanceof ht))throw new TypeError("Cannot call a class as a function")}(this,x),!y)throw S.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!E)throw S.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!C)throw S.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!F)throw S.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!V)throw S.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!$)throw S.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var an=x.isOidc(F),un=x.isCode(F);Me||(Me=x.isCode(F)?"query":null),this.state=new N.SigninState({nonce:an,data:j,client_id:E,authority:$,redirect_uri:C,code_verifier:un,request_type:Gt,response_mode:Me,client_secret:Pt,scope:V,extraTokenParams:dt,skipUserInfo:sn}),y=u.UrlUtility.addQueryParam(y,"client_id",E),y=u.UrlUtility.addQueryParam(y,"redirect_uri",C),y=u.UrlUtility.addQueryParam(y,"response_type",F),y=u.UrlUtility.addQueryParam(y,"scope",V),y=u.UrlUtility.addQueryParam(y,"state",this.state.id),an&&(y=u.UrlUtility.addQueryParam(y,"nonce",this.state.nonce)),un&&(y=u.UrlUtility.addQueryParam(y,"code_challenge",this.state.code_challenge),y=u.UrlUtility.addQueryParam(y,"code_challenge_method","S256"));var Sn={prompt:q,display:ee,max_age:ue,ui_locales:Fe,id_token_hint:be,login_hint:De,acr_values:se,resource:Ae,request:st,request_uri:fe,response_mode:Me};for(var hn in Sn)Sn[hn]&&(y=u.UrlUtility.addQueryParam(y,hn,Sn[hn]));for(var cn in Dt)y=u.UrlUtility.addQueryParam(y,cn,Dt[cn]);this.url=y}return x.isOidc=function(y){return!!y.split(/\s+/g).filter(function(E){return"id_token"===E})[0]},x.isOAuth=function(y){return!!y.split(/\s+/g).filter(function(E){return"token"===E})[0]},x.isCode=function(y){return!!y.split(/\s+/g).filter(function(E){return"code"===E})[0]},x}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.State=void 0;var y,S=function(){function h(y,E){for(var C=0;C<E.length;C++){var F=E[C];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(y,F.key,F)}}return function(y,E,C){return E&&h(y.prototype,E),C&&h(y,C),y}}(),u=e(0),N=(y=e(14))&&y.__esModule?y:{default:y};l.State=function(){function h(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=y.id,C=y.data,F=y.created,V=y.request_type;(function x(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this._id=E||(0,N.default)(),this._data=C,this._created="number"==typeof F&&F>0?F:parseInt(Date.now()/1e3),this._request_type=V}return h.prototype.toStorageString=function(){return u.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},h.fromStorageString=function(E){return u.Log.debug("State.fromStorageString"),new h(JSON.parse(E))},h.clearStaleState=function(E,C){var F=Date.now()/1e3-C;return E.getAllKeys().then(function(V){u.Log.debug("State.clearStaleState: got keys",V);for(var $=[],j=function(Fe){var be=V[Fe];ee=E.get(be).then(function(De){var se=!1;if(De)try{var Ae=h.fromStorageString(De);u.Log.debug("State.clearStaleState: got item from key: ",be,Ae.created),Ae.created<=F&&(se=!0)}catch(Me){u.Log.error("State.clearStaleState: Error parsing state for key",be,Me.message),se=!0}else u.Log.debug("State.clearStaleState: no item in storage for key: ",be),se=!0;if(se)return u.Log.debug("State.clearStaleState: removed item for key: ",be),E.remove(be)}),$.push(ee)},q=0;q<V.length;q++){var ee;j(q)}return u.Log.debug("State.clearStaleState: waiting on promise count:",$.length),Promise.all($)})},S(h,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),h}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.OidcClient=void 0;var S=function(){function j(q,ee){for(var ue=0;ue<ee.length;ue++){var Fe=ee[ue];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(q,Fe.key,Fe)}}return function(q,ee,ue){return ee&&j(q.prototype,ee),ue&&j(q,ue),q}}(),u=e(0),N=e(5),x=e(12),h=e(8),y=e(34),E=e(35),C=e(36),F=e(13),V=e(9);l.OidcClient=function(){function j(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function $(j,q){if(!(j instanceof q))throw new TypeError("Cannot call a class as a function")})(this,j),this._settings=q instanceof N.OidcClientSettings?q:new N.OidcClientSettings(q)}return j.prototype.createSigninRequest=function(){var ee=this,ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Fe=ue.response_type,be=ue.scope,De=ue.redirect_uri,se=ue.data,Ae=ue.state,Me=ue.prompt,st=ue.display,fe=ue.max_age,Dt=ue.ui_locales,Gt=ue.id_token_hint,Pt=ue.login_hint,dt=ue.acr_values,sn=ue.resource,an=ue.request,un=ue.request_uri,Sn=ue.response_mode,hn=ue.extraQueryParams,cn=ue.extraTokenParams,$t=ue.request_type,Xe=ue.skipUserInfo,ht=arguments[1];u.Log.debug("OidcClient.createSigninRequest");var Tt=this._settings.client_id;be=be||this._settings.scope,De=De||this._settings.redirect_uri,Me=Me||this._settings.prompt,st=st||this._settings.display,fe=fe||this._settings.max_age,Dt=Dt||this._settings.ui_locales,dt=dt||this._settings.acr_values,sn=sn||this._settings.resource,Sn=Sn||this._settings.response_mode,hn=hn||this._settings.extraQueryParams,cn=cn||this._settings.extraTokenParams;var wt=this._settings.authority;return h.SigninRequest.isCode(Fe=Fe||this._settings.response_type)&&"code"!==Fe?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Kt){u.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Kt);var Vt=new h.SigninRequest({url:Kt,client_id:Tt,redirect_uri:De,response_type:Fe,scope:be,data:se||Ae,authority:wt,prompt:Me,display:st,max_age:fe,ui_locales:Dt,id_token_hint:Gt,login_hint:Pt,acr_values:dt,resource:sn,request:an,request_uri:un,extraQueryParams:hn,extraTokenParams:cn,request_type:$t,response_mode:Sn,client_secret:ee._settings.client_secret,skipUserInfo:Xe}),dn=Vt.state;return(ht=ht||ee._stateStore).set(dn.id,dn.toStorageString()).then(function(){return Vt})})},j.prototype.readSigninResponseState=function(ee,ue){var Fe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u.Log.debug("OidcClient.readSigninResponseState");var be="query"===this._settings.response_mode||!this._settings.response_mode&&h.SigninRequest.isCode(this._settings.response_type),se=new y.SigninResponse(ee,be?"?":"#");return se.state?(ue=ue||this._stateStore,(Fe?ue.remove.bind(ue):ue.get.bind(ue))(se.state).then(function(Me){if(!Me)throw u.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:F.SigninState.fromStorageString(Me),response:se}})):(u.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},j.prototype.processSigninResponse=function(ee,ue){var Fe=this;return u.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(ee,ue,!0).then(function(be){var De=be.state,se=be.response;return u.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),Fe._validator.validateSigninResponse(De,se)})},j.prototype.createSignoutRequest=function(){var ee=this,ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Fe=ue.id_token_hint,be=ue.data,De=ue.state,se=ue.post_logout_redirect_uri,Ae=ue.extraQueryParams,Me=ue.request_type,st=arguments[1];return u.Log.debug("OidcClient.createSignoutRequest"),se=se||this._settings.post_logout_redirect_uri,Ae=Ae||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(fe){if(!fe)throw u.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");u.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",fe);var Dt=new E.SignoutRequest({url:fe,id_token_hint:Fe,post_logout_redirect_uri:se,data:be||De,extraQueryParams:Ae,request_type:Me}),Gt=Dt.state;return Gt&&(u.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(st=st||ee._stateStore).set(Gt.id,Gt.toStorageString())),Dt})},j.prototype.readSignoutResponseState=function(ee,ue){var Fe=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u.Log.debug("OidcClient.readSignoutResponseState");var be=new C.SignoutResponse(ee);if(!be.state)return u.Log.debug("OidcClient.readSignoutResponseState: No state in response"),be.error?(u.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",be.error),Promise.reject(new x.ErrorResponse(be))):Promise.resolve({state:void 0,response:be});var De=be.state;return ue=ue||this._stateStore,(Fe?ue.remove.bind(ue):ue.get.bind(ue))(De).then(function(Ae){if(!Ae)throw u.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:V.State.fromStorageString(Ae),response:be}})},j.prototype.processSignoutResponse=function(ee,ue){var Fe=this;return u.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(ee,ue,!0).then(function(be){var De=be.state,se=be.response;return De?(u.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),Fe._validator.validateSignoutResponse(De,se)):(u.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),se)})},j.prototype.clearStaleState=function(ee){return u.Log.debug("OidcClient.clearStaleState"),V.State.clearStaleState(ee=ee||this._stateStore,this.settings.staleStateAge)},S(j,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),j}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.TokenClient=void 0;var S=e(7),u=e(2),N=e(0);l.TokenClient=function(){function h(y){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.JsonService,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.MetadataService;if(function x(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,h),!y)throw N.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=y,this._jsonService=new E,this._metadataService=new C(this._settings)}return h.prototype.exchangeCode=function(){var E=this,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(C=Object.assign({},C)).grant_type=C.grant_type||"authorization_code",C.client_id=C.client_id||this._settings.client_id,C.client_secret=C.client_secret||this._settings.client_secret,C.redirect_uri=C.redirect_uri||this._settings.redirect_uri;var F=void 0,V=C._client_authentication||this._settings._client_authentication;return delete C._client_authentication,C.code?C.redirect_uri?C.code_verifier?C.client_id?C.client_secret||"client_secret_basic"!=V?("client_secret_basic"==V&&(F=C.client_id+":"+C.client_secret,delete C.client_id,delete C.client_secret),this._metadataService.getTokenEndpoint(!1).then(function($){return N.Log.debug("TokenClient.exchangeCode: Received token endpoint"),E._jsonService.postForm($,C,F).then(function(j){return N.Log.debug("TokenClient.exchangeCode: response received"),j})})):(N.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(N.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(N.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(N.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(N.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},h.prototype.exchangeRefreshToken=function(){var E=this,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(C=Object.assign({},C)).grant_type=C.grant_type||"refresh_token",C.client_id=C.client_id||this._settings.client_id,C.client_secret=C.client_secret||this._settings.client_secret;var F=void 0,V=C._client_authentication||this._settings._client_authentication;return delete C._client_authentication,C.refresh_token?C.client_id?("client_secret_basic"==V&&(F=C.client_id+":"+C.client_secret,delete C.client_id,delete C.client_secret),this._metadataService.getTokenEndpoint(!1).then(function($){return N.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),E._jsonService.postForm($,C,F).then(function(j){return N.Log.debug("TokenClient.exchangeRefreshToken: response received"),j})})):(N.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(N.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},h}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ErrorResponse=void 0;var S=e(0);l.ErrorResponse=function(x){function h(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=y.error,C=y.error_description,F=y.error_uri,V=y.state,$=y.session_state;if(function u(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")}(this,h),!E)throw S.Log.error("No error passed to ErrorResponse"),new Error("error");var j=function N(x,h){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?x:h}(this,x.call(this,C||E));return j.name="ErrorResponse",j.error=E,j.error_description=C,j.error_uri=F,j.state=V,j.session_state=$,j}return function(E,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(E,C):E.__proto__=C)}(h,x),h}(Error)},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SigninState=void 0;var F,S=function(){function C(F,V){for(var $=0;$<V.length;$++){var j=V[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(F,j.key,j)}}return function(F,V,$){return V&&C(F.prototype,V),$&&C(F,$),F}}(),u=e(0),N=e(9),x=e(4),h=(F=e(14))&&F.__esModule?F:{default:F};l.SigninState=function(C){function F(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},$=V.nonce,j=V.authority,q=V.client_id,ee=V.redirect_uri,ue=V.code_verifier,Fe=V.response_mode,be=V.client_secret,De=V.scope,se=V.extraTokenParams,Ae=V.skipUserInfo;!function y(C,F){if(!(C instanceof F))throw new TypeError("Cannot call a class as a function")}(this,F);var Me=function E(C,F){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?C:F}(this,C.call(this,arguments[0]));if(!0===$?Me._nonce=(0,h.default)():$&&(Me._nonce=$),!0===ue?Me._code_verifier=(0,h.default)()+(0,h.default)()+(0,h.default)():ue&&(Me._code_verifier=ue),Me.code_verifier){var st=x.JoseUtil.hashString(Me.code_verifier,"SHA256");Me._code_challenge=x.JoseUtil.hexToBase64Url(st)}return Me._redirect_uri=ee,Me._authority=j,Me._client_id=q,Me._response_mode=Fe,Me._client_secret=be,Me._scope=De,Me._extraTokenParams=se,Me._skipUserInfo=Ae,Me}return function($,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function, not "+typeof j);$.prototype=Object.create(j&&j.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf($,j):$.__proto__=j)}(F,C),F.prototype.toStorageString=function(){return u.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},F.fromStorageString=function($){return u.Log.debug("SigninState.fromStorageString"),new F(JSON.parse($))},S(F,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),F}(N.State)},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(){return("undefined"!=S&&null!==S&&void 0!==S.getRandomValues?u:N)().replace(/-/g,"")};var S=typeof window<"u"?window.crypto||window.msCrypto:null;function u(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(x){return(x^S.getRandomValues(new Uint8Array(1))[0]&15>>x/4).toString(16)})}function N(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(x){return(x^16*Math.random()>>x/4).toString(16)})}le.exports=l.default},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.User=void 0;var S=function(){function N(x,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,h,y){return h&&N(x.prototype,h),y&&N(x,y),x}}(),u=e(0);l.User=function(){function N(x){var h=x.id_token,y=x.session_state,E=x.access_token,C=x.refresh_token,F=x.token_type,V=x.scope,$=x.profile,j=x.expires_at,q=x.state;(function(ue,Fe){if(!(ue instanceof Fe))throw new TypeError("Cannot call a class as a function")})(this,N),this.id_token=h,this.session_state=y,this.access_token=E,this.refresh_token=C,this.token_type=F,this.scope=V,this.profile=$,this.expires_at=j,this.state=q}return N.prototype.toStorageString=function(){return u.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},N.fromStorageString=function(h){return u.Log.debug("User.fromStorageString"),new N(JSON.parse(h))},S(N,[{key:"expires_in",get:function(){if(this.expires_at){var h=parseInt(Date.now()/1e3);return this.expires_at-h}},set:function(h){var y=parseInt(h);if("number"==typeof y&&y>0){var E=parseInt(Date.now()/1e3);this.expires_at=E+y}}},{key:"expired",get:function(){var h=this.expires_in;if(void 0!==h)return h<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.AccessTokenEvents=void 0;var S=e(0),u=e(46);l.AccessTokenEvents=function(){function x(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=h.accessTokenExpiringNotificationTime,E=void 0===y?60:y,C=h.accessTokenExpiringTimer,F=void 0===C?new u.Timer("Access token expiring"):C,V=h.accessTokenExpiredTimer,$=void 0===V?new u.Timer("Access token expired"):V;(function N(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")})(this,x),this._accessTokenExpiringNotificationTime=E,this._accessTokenExpiring=F,this._accessTokenExpired=$}return x.prototype.load=function(y){if(y.access_token&&void 0!==y.expires_in){var E=y.expires_in;if(S.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",E),E>0){var C=E-this._accessTokenExpiringNotificationTime;C<=0&&(C=1),S.Log.debug("AccessTokenEvents.load: registering expiring timer in:",C),this._accessTokenExpiring.init(C)}else S.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var F=E+1;S.Log.debug("AccessTokenEvents.load: registering expired timer in:",F),this._accessTokenExpired.init(F)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},x.prototype.unload=function(){S.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},x.prototype.addAccessTokenExpiring=function(y){this._accessTokenExpiring.addHandler(y)},x.prototype.removeAccessTokenExpiring=function(y){this._accessTokenExpiring.removeHandler(y)},x.prototype.addAccessTokenExpired=function(y){this._accessTokenExpired.addHandler(y)},x.prototype.removeAccessTokenExpired=function(y){this._accessTokenExpired.removeHandler(y)},x}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Event=void 0;var S=e(0);l.Event=function(){function u(N){(function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,u),this._name=N,this._callbacks=[]}return u.prototype.addHandler=function(x){this._callbacks.push(x)},u.prototype.removeHandler=function(x){var h=this._callbacks.findIndex(function(y){return y===x});h>=0&&this._callbacks.splice(h,1)},u.prototype.raise=function(){S.Log.debug("Event: Raising event: "+this._name);for(var x=0;x<this._callbacks.length;x++){var h;(h=this._callbacks)[x].apply(h,arguments)}},u}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionMonitor=void 0;var S=function(){function y(E,C){for(var F=0;F<C.length;F++){var V=C[F];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}}return function(E,C,F){return C&&y(E.prototype,C),F&&y(E,F),E}}(),u=e(0),N=e(19),x=e(1);l.SessionMonitor=function(){function y(E){var C=this,F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.CheckSessionIFrame,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.Global.timer;if(function h(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,y),!E)throw u.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=E,this._CheckSessionIFrameCtor=F,this._timer=V,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function($){$?C._start($):C._settings.monitorAnonymousSession&&C._userManager.querySessionStatus().then(function(j){var q={session_state:j.session_state};j.sub&&j.sid&&(q.profile={sub:j.sub,sid:j.sid}),C._start(q)}).catch(function(j){u.Log.error("SessionMonitor ctor: error from querySessionStatus:",j.message)})}).catch(function($){u.Log.error("SessionMonitor ctor: error from getUser:",$.message)}))}return y.prototype._start=function(C){var F=this,V=C.session_state;V&&(C.profile?(this._sub=C.profile.sub,this._sid=C.profile.sid,u.Log.debug("SessionMonitor._start: session_state:",V,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,u.Log.debug("SessionMonitor._start: session_state:",V,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(V):this._metadataService.getCheckSessionIframe().then(function($){if($){u.Log.debug("SessionMonitor._start: Initializing check session iframe");var j=F._client_id,q=F._checkSessionInterval,ee=F._stopCheckSessionOnError;F._checkSessionIFrame=new F._CheckSessionIFrameCtor(F._callback.bind(F),j,$,q,ee),F._checkSessionIFrame.load().then(function(){F._checkSessionIFrame.start(V)})}else u.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function($){u.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",$.message)}))},y.prototype._stop=function(){var C=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(u.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var F=this._timer.setInterval(function(){C._timer.clearInterval(F),C._userManager.querySessionStatus().then(function(V){var $={session_state:V.session_state};V.sub&&V.sid&&($.profile={sub:V.sub,sid:V.sid}),C._start($)}).catch(function(V){u.Log.error("SessionMonitor: error from querySessionStatus:",V.message)})},1e3)},y.prototype._callback=function(){var C=this;this._userManager.querySessionStatus().then(function(F){var V=!0;F?F.sub===C._sub?(V=!1,C._checkSessionIFrame.start(F.session_state),F.sid===C._sid?u.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",F.session_state):(u.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",F.session_state),C._userManager.events._raiseUserSessionChanged())):u.Log.debug("SessionMonitor._callback: Different subject signed into OP:",F.sub):u.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),V&&(C._sub?(u.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),C._userManager.events._raiseUserSignedOut()):(u.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),C._userManager.events._raiseUserSignedIn()))}).catch(function(F){C._sub&&(u.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",F.message),C._userManager.events._raiseUserSignedOut())})},S(y,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),y}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckSessionIFrame=void 0;var S=e(0);l.CheckSessionIFrame=function(){function N(x,h,y,E){var C=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];(function u(N,x){if(!(N instanceof x))throw new TypeError("Cannot call a class as a function")})(this,N),this._callback=x,this._client_id=h,this._url=y,this._interval=E||2e3,this._stopOnError=C;var F=y.indexOf("/",y.indexOf("//")+2);this._frame_origin=y.substr(0,F),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=y}return N.prototype.load=function(){var h=this;return new Promise(function(y){h._frame.onload=function(){y()},window.document.body.appendChild(h._frame),h._boundMessageEvent=h._message.bind(h),window.addEventListener("message",h._boundMessageEvent,!1)})},N.prototype._message=function(h){h.origin===this._frame_origin&&h.source===this._frame.contentWindow&&("error"===h.data?(S.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===h.data?(S.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):S.Log.debug("CheckSessionIFrame: "+h.data+" message from check session op iframe"))},N.prototype.start=function(h){var y=this;if(this._session_state!==h){S.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=h;var E=function(){y._frame.contentWindow.postMessage(y._client_id+" "+y._session_state,y._frame_origin)};E(),this._timer=window.setInterval(E,this._interval)}},N.prototype.stop=function(){this._session_state=null,this._timer&&(S.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.TokenRevocationClient=void 0;var S=e(0),u=e(2),N=e(1);l.TokenRevocationClient=function(){function E(C){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.Global.XMLHttpRequest,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.MetadataService;if(function x(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}(this,E),!C)throw S.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=C,this._XMLHttpRequestCtor=F,this._metadataService=new V(this._settings)}return E.prototype.revoke=function(F,V){var $=this,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!F)throw S.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==j&&"refresh_token"!=j)throw S.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(q){if(q)return S.Log.debug("TokenRevocationClient.revoke: Revoking "+j),$._revoke(q,$._settings.client_id,$._settings.client_secret,F,j);if(V)throw S.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},E.prototype._revoke=function(F,V,$,j,q){var ee=this;return new Promise(function(ue,Fe){var be=new ee._XMLHttpRequestCtor;be.open("POST",F),be.onload=function(){S.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",be.status),200===be.status?ue():Fe(Error(be.statusText+" ("+be.status+")"))},be.onerror=function(){S.Log.debug("TokenRevocationClient.revoke: Network Error."),Fe("Network Error")};var De="client_id="+encodeURIComponent(V);$&&(De+="&client_secret="+encodeURIComponent($)),De+="&token_type_hint="+encodeURIComponent(q),De+="&token="+encodeURIComponent(j),be.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),be.send(De)})},E}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CordovaPopupWindow=void 0;var S=function(){function N(x,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,h,y){return h&&N(x.prototype,h),y&&N(x,y),x}}(),u=e(0);l.CordovaPopupWindow=function(){function N(x){var h=this;(function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")})(this,N),this._promise=new Promise(function(y,E){h._resolve=y,h._reject=E}),this.features=x.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=x.popupWindowTarget||"_blank",this.redirect_uri=x.startUrl,u.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return N.prototype._isInAppBrowserInstalled=function(h){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(y){return h.hasOwnProperty(y)})},N.prototype.navigate=function(h){if(h&&h.url){if(!window.cordova)return this._error("cordova is undefined");var y=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(y))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(h.url,this.target,this.features),this._popup?(u.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},N.prototype._loadStartCallback=function(h){0===h.url.indexOf(this.redirect_uri)&&this._success({url:h.url})},N.prototype._exitCallback=function(h){this._error(h)},N.prototype._success=function(h){this._cleanup(),u.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(h)},N.prototype._error=function(h){this._cleanup(),u.Log.error(h),this._reject(new Error(h))},N.prototype.close=function(){this._cleanup()},N.prototype._cleanup=function(){this._popup&&(u.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},S(N,[{key:"promise",get:function(){return this._promise}}]),N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S=e(0),u=e(10),N=e(5),x=e(6),h=e(37),y=e(38),E=e(16),C=e(2),F=e(48),V=e(49),$=e(19),j=e(20),q=e(18),ee=e(1),ue=e(15),Fe=e(50);l.default={Version:Fe.Version,Log:S.Log,OidcClient:u.OidcClient,OidcClientSettings:N.OidcClientSettings,WebStorageStateStore:x.WebStorageStateStore,InMemoryWebStorage:h.InMemoryWebStorage,UserManager:y.UserManager,AccessTokenEvents:E.AccessTokenEvents,MetadataService:C.MetadataService,CordovaPopupNavigator:F.CordovaPopupNavigator,CordovaIFrameNavigator:V.CordovaIFrameNavigator,CheckSessionIFrame:$.CheckSessionIFrame,TokenRevocationClient:j.TokenRevocationClient,SessionMonitor:q.SessionMonitor,Global:ee.Global,User:ue.User},le.exports=l.default},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ClockService=function(){function S(){!function(N,x){if(!(N instanceof x))throw new TypeError("Cannot call a class as a function")}(this,S)}return S.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},S}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ResponseValidator=void 0;var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},u=e(0),N=e(2),x=e(25),h=e(11),y=e(12),E=e(4);var F=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];l.ResponseValidator=function(){function V($){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.MetadataService,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.UserInfoService,ee=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.JoseUtil,ue=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.TokenClient;if(function C(V,$){if(!(V instanceof $))throw new TypeError("Cannot call a class as a function")}(this,V),!$)throw u.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=$,this._metadataService=new j(this._settings),this._userInfoService=new q(this._settings),this._joseUtil=ee,this._tokenClient=new ue(this._settings)}return V.prototype.validateSigninResponse=function(j,q){var ee=this;return u.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(j,q).then(function(ue){return u.Log.debug("ResponseValidator.validateSigninResponse: state processed"),ee._validateTokens(j,ue).then(function(Fe){return u.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),ee._processClaims(j,Fe).then(function(be){return u.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),be})})})},V.prototype.validateSignoutResponse=function(j,q){return j.id!==q.state?(u.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(u.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),q.state=j.data,q.error?(u.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",q.error),Promise.reject(new y.ErrorResponse(q))):Promise.resolve(q))},V.prototype._processSigninParams=function(j,q){if(j.id!==q.state)return u.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!j.client_id)return u.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!j.authority)return u.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==j.authority)return u.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=j.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==j.client_id)return u.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=j.client_id;return u.Log.debug("ResponseValidator._processSigninParams: state validated"),q.state=j.data,q.error?(u.Log.warn("ResponseValidator._processSigninParams: Response was error",q.error),Promise.reject(new y.ErrorResponse(q))):j.nonce&&!q.id_token?(u.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!j.nonce&&q.id_token?(u.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):j.code_verifier&&!q.code?(u.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!j.code_verifier&&q.code?(u.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(q.scope||(q.scope=j.scope),Promise.resolve(q))},V.prototype._processClaims=function(j,q){var ee=this;if(q.isOpenIdConnect){if(u.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),q.profile=this._filterProtocolClaims(q.profile),!0!==j.skipUserInfo&&this._settings.loadUserInfo&&q.access_token)return u.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(q.access_token).then(function(ue){return u.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),ue.sub!==q.profile.sub?(u.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(q.profile=ee._mergeClaims(q.profile,ue),u.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",q.profile),q)});u.Log.debug("ResponseValidator._processClaims: not loading user info")}else u.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(q)},V.prototype._mergeClaims=function(j,q){var ee=Object.assign({},j);for(var ue in q){var Fe=q[ue];Array.isArray(Fe)||(Fe=[Fe]);for(var be=0;be<Fe.length;be++){var De=Fe[be];ee[ue]?Array.isArray(ee[ue])?ee[ue].indexOf(De)<0&&ee[ue].push(De):ee[ue]!==De&&(ee[ue]="object"===(void 0===De?"undefined":S(De))&&this._settings.mergeClaims?this._mergeClaims(ee[ue],De):[ee[ue],De]):ee[ue]=De}}return ee},V.prototype._filterProtocolClaims=function(j){u.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",j);var q=Object.assign({},j);return this._settings._filterProtocolClaims?(F.forEach(function(ee){delete q[ee]}),u.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",q)):u.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),q},V.prototype._validateTokens=function(j,q){return q.code?(u.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(j,q)):q.id_token?q.access_token?(u.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(j,q)):(u.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(j,q)):(u.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(q))},V.prototype._processCode=function(j,q){var ee=this,ue={client_id:j.client_id,client_secret:j.client_secret,code:q.code,redirect_uri:j.redirect_uri,code_verifier:j.code_verifier};return j.extraTokenParams&&"object"===S(j.extraTokenParams)&&Object.assign(ue,j.extraTokenParams),this._tokenClient.exchangeCode(ue).then(function(Fe){for(var be in Fe)q[be]=Fe[be];return q.id_token?(u.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),ee._validateIdTokenAttributes(j,q)):(u.Log.debug("ResponseValidator._processCode: token response successful, returning response"),q)})},V.prototype._validateIdTokenAttributes=function(j,q){var ee=this;return this._metadataService.getIssuer().then(function(ue){var Fe=j.client_id,be=ee._settings.clockSkew;return u.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",be),ee._settings.getEpochTime().then(function(De){return ee._joseUtil.validateJwtAttributes(q.id_token,ue,Fe,be,De).then(function(se){return j.nonce&&j.nonce!==se.nonce?(u.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):se.sub?(q.profile=se,q):(u.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},V.prototype._validateIdTokenAndAccessToken=function(j,q){var ee=this;return this._validateIdToken(j,q).then(function(ue){return ee._validateAccessToken(ue)})},V.prototype._getSigningKeyForJwt=function(j){var q=this;return this._metadataService.getSigningKeys().then(function(ee){var ue=j.header.kid;if(!ee)return u.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));u.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var Fe=void 0;if(ue)Fe=ee.filter(function(be){return be.kid===ue})[0];else{if((ee=q._filterByAlg(ee,j.header.alg)).length>1)return u.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));Fe=ee[0]}return Promise.resolve(Fe)})},V.prototype._getSigningKeyForJwtWithSingleRetry=function(j){var q=this;return this._getSigningKeyForJwt(j).then(function(ee){return ee?Promise.resolve(ee):(q._metadataService.resetSigningKeys(),q._getSigningKeyForJwt(j))})},V.prototype._validateIdToken=function(j,q){var ee=this;if(!j.nonce)return u.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var ue=this._joseUtil.parseJwt(q.id_token);return ue&&ue.header&&ue.payload?j.nonce!==ue.payload.nonce?(u.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(Fe){return u.Log.debug("ResponseValidator._validateIdToken: Received issuer"),ee._getSigningKeyForJwtWithSingleRetry(ue).then(function(be){if(!be)return u.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var De=j.client_id,se=ee._settings.clockSkew;return u.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",se),ee._joseUtil.validateJwt(q.id_token,be,Fe,De,se).then(function(){return u.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),ue.payload.sub?(q.profile=ue.payload,q):(u.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(u.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",ue),Promise.reject(new Error("Failed to parse id_token")))},V.prototype._filterByAlg=function(j,q){var ee=null;if(q.startsWith("RS"))ee="RSA";else if(q.startsWith("PS"))ee="PS";else{if(!q.startsWith("ES"))return u.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",q),[];ee="EC"}return u.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",ee),j=j.filter(function(ue){return ue.kty===ee}),u.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",ee,j.length),j},V.prototype._validateAccessToken=function(j){if(!j.profile)return u.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!j.profile.at_hash)return u.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!j.id_token)return u.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var q=this._joseUtil.parseJwt(j.id_token);if(!q||!q.header)return u.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",q),Promise.reject(new Error("Failed to parse id_token"));var ee=q.header.alg;if(!ee||5!==ee.length)return u.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",ee),Promise.reject(new Error("Unsupported alg: "+ee));var ue=ee.substr(2,3);if(!ue)return u.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",ee,ue),Promise.reject(new Error("Unsupported alg: "+ee));if(256!==(ue=parseInt(ue))&&384!==ue&&512!==ue)return u.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",ee,ue),Promise.reject(new Error("Unsupported alg: "+ee));var Fe="sha"+ue,be=this._joseUtil.hashString(j.access_token,Fe);if(!be)return u.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",Fe),Promise.reject(new Error("Failed to validate at_hash"));var De=be.substr(0,be.length/2),se=this._joseUtil.hexToBase64Url(De);return se!==j.profile.at_hash?(u.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",se,j.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(u.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(j))},V}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.UserInfoService=void 0;var S=e(7),u=e(2),N=e(0),x=e(4);l.UserInfoService=function(){function y(E){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.JsonService,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.MetadataService,V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x.JoseUtil;if(function h(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,y),!E)throw N.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=E,this._jsonService=new C(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new F(this._settings),this._joseUtil=V}return y.prototype.getClaims=function(C){var F=this;return C?this._metadataService.getUserInfoEndpoint().then(function(V){return N.Log.debug("UserInfoService.getClaims: received userinfo url",V),F._jsonService.getJson(V,C).then(function($){return N.Log.debug("UserInfoService.getClaims: claims received",$),$})}):(N.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},y.prototype._getClaimsFromJwt=function(C){var F=this;try{var V=this._joseUtil.parseJwt(C.responseText);if(!V||!V.header||!V.payload)return N.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",V),Promise.reject(new Error("Failed to parse id_token"));var $=V.header.kid,j=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":j=this._metadataService.getIssuer();break;case"ANY":j=Promise.resolve(V.payload.iss);break;default:j=Promise.resolve(this._settings.userInfoJwtIssuer)}return j.then(function(q){return N.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+q),F._metadataService.getSigningKeys().then(function(ee){if(!ee)return N.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));N.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var ue=void 0;if($)ue=ee.filter(function(De){return De.kid===$})[0];else{if((ee=F._filterByAlg(ee,V.header.alg)).length>1)return N.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));ue=ee[0]}if(!ue)return N.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var Fe=F._settings.client_id,be=F._settings.clockSkew;return N.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",be),F._joseUtil.validateJwt(C.responseText,ue,q,Fe,be,void 0,!0).then(function(){return N.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),V.payload})})})}catch(q){return N.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",q.message),void reject(q)}},y.prototype._filterByAlg=function(C,F){var V=null;if(F.startsWith("RS"))V="RSA";else if(F.startsWith("PS"))V="PS";else{if(!F.startsWith("ES"))return N.Log.debug("UserInfoService._filterByAlg: alg not supported: ",F),[];V="EC"}return N.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",V),C=C.filter(function($){return $.kty===V}),N.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",V,C.length),C},y}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.AllowedSigningAlgs=l.b64tohex=l.hextob64u=l.crypto=l.X509=l.KeyUtil=l.jws=void 0;var S=e(27);l.jws=S.jws,l.KeyUtil=S.KEYUTIL,l.X509=S.X509,l.crypto=S.crypto,l.hextob64u=S.hextob64u,l.b64tohex=S.b64tohex,l.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(le,l,e){"use strict";(function(S){Object.defineProperty(l,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},N={userAgent:!1},x={};if(void 0===h)var h={};h.lang={extend:function(r,a,f){if(!a||!r)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var T=function(){};if(T.prototype=a.prototype,r.prototype=new T,r.prototype.constructor=r,r.superclass=a.prototype,a.prototype.constructor==Object.prototype.constructor&&(a.prototype.constructor=a),f){var k;for(k in f)r.prototype[k]=f[k];var te=function(){},_e=["toString","valueOf"];try{/MSIE/.test(N.userAgent)&&(te=function(we,Ce){for(k=0;k<_e.length;k+=1){var Ee=_e[k],Pe=Ce[Ee];"function"==typeof Pe&&Pe!=Object.prototype[Ee]&&(we[Ee]=Pe)}})}catch{}te(r.prototype,f)}}};var y,E,C,F,V,$,j,q,ee,ue,Fe,r,a,f,T,be=be||(y=Math,C=(E={}).lib={},F=C.Base=function(){function i(){}return{extend:function(a){i.prototype=this;var f=new i;return a&&f.mixIn(a),f.hasOwnProperty("init")||(f.init=function(){f.$super.init.apply(this,arguments)}),f.init.prototype=f,f.$super=this,f},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var f in a)a.hasOwnProperty(f)&&(this[f]=a[f]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),V=C.WordArray=F.extend({init:function(r,a){r=this.words=r||[],this.sigBytes=a??4*r.length},toString:function(r){return(r||j).stringify(this)},concat:function(r){var a=this.words,f=r.words,T=this.sigBytes,k=r.sigBytes;if(this.clamp(),T%4)for(var te=0;te<k;te++)a[T+te>>>2]|=(f[te>>>2]>>>24-te%4*8&255)<<24-(T+te)%4*8;else for(te=0;te<k;te+=4)a[T+te>>>2]=f[te>>>2];return this.sigBytes+=k,this},clamp:function(){var r=this.words,a=this.sigBytes;r[a>>>2]&=4294967295<<32-a%4*8,r.length=y.ceil(a/4)},clone:function(){var r=F.clone.call(this);return r.words=this.words.slice(0),r},random:function(r){for(var a=[],f=0;f<r;f+=4)a.push(4294967296*y.random()|0);return new V.init(a,r)}}),$=E.enc={},j=$.Hex={stringify:function(r){for(var a=r.words,f=r.sigBytes,T=[],k=0;k<f;k++){var te=a[k>>>2]>>>24-k%4*8&255;T.push((te>>>4).toString(16)),T.push((15&te).toString(16))}return T.join("")},parse:function(r){for(var a=r.length,f=[],T=0;T<a;T+=2)f[T>>>3]|=parseInt(r.substr(T,2),16)<<24-T%8*4;return new V.init(f,a/2)}},q=$.Latin1={stringify:function(r){for(var a=r.words,f=r.sigBytes,T=[],k=0;k<f;k++)T.push(String.fromCharCode(a[k>>>2]>>>24-k%4*8&255));return T.join("")},parse:function(r){for(var a=r.length,f=[],T=0;T<a;T++)f[T>>>2]|=(255&r.charCodeAt(T))<<24-T%4*8;return new V.init(f,a)}},ee=$.Utf8={stringify:function(r){try{return decodeURIComponent(escape(q.stringify(r)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(r){return q.parse(unescape(encodeURIComponent(r)))}},ue=C.BufferedBlockAlgorithm=F.extend({reset:function(){this._data=new V.init,this._nDataBytes=0},_append:function(r){"string"==typeof r&&(r=ee.parse(r)),this._data.concat(r),this._nDataBytes+=r.sigBytes},_process:function(r){var a=this._data,f=a.words,T=a.sigBytes,k=this.blockSize,te=T/(4*k),_e=(te=r?y.ceil(te):y.max((0|te)-this._minBufferSize,0))*k,he=y.min(4*_e,T);if(_e){for(var we=0;we<_e;we+=k)this._doProcessBlock(f,we);var Ce=f.splice(0,_e);a.sigBytes-=he}return new V.init(Ce,he)},clone:function(){var r=F.clone.call(this);return r._data=this._data.clone(),r},_minBufferSize:0}),C.Hasher=ue.extend({cfg:F.extend(),init:function(r){this.cfg=this.cfg.extend(r),this.reset()},reset:function(){ue.reset.call(this),this._doReset()},update:function(r){return this._append(r),this._process(),this},finalize:function(r){return r&&this._append(r),this._doFinalize()},blockSize:16,_createHelper:function(r){return function(a,f){return new r.init(f).finalize(a)}},_createHmacHelper:function(r){return function(a,f){return new Fe.HMAC.init(r,f).finalize(a)}}}),Fe=E.algo={},E);a=(r=be).lib,f=a.Base,T=a.WordArray,(r=r.x64={}).Word=f.extend({init:function(te,_e){this.high=te,this.low=_e}}),r.WordArray=f.extend({init:function(te,_e){te=this.words=te||[],this.sigBytes=_e??8*te.length},toX32:function(){for(var te=this.words,_e=te.length,he=[],we=0;we<_e;we++){var Ce=te[we];he.push(Ce.high),he.push(Ce.low)}return T.create(he,this.sigBytes)},clone:function(){for(var te=f.clone.call(this),_e=te.words=this.words.slice(0),he=_e.length,we=0;we<he;we++)_e[we]=_e[we].clone();return te}}),function(){var r=be.lib.WordArray;be.enc.Base64={stringify:function(f){var T=f.words,k=f.sigBytes,te=this._map;f.clamp(),f=[];for(var _e=0;_e<k;_e+=3)for(var he=(T[_e>>>2]>>>24-_e%4*8&255)<<16|(T[_e+1>>>2]>>>24-(_e+1)%4*8&255)<<8|T[_e+2>>>2]>>>24-(_e+2)%4*8&255,we=0;4>we&&_e+.75*we<k;we++)f.push(te.charAt(he>>>6*(3-we)&63));if(T=te.charAt(64))for(;f.length%4;)f.push(T);return f.join("")},parse:function(f){var T=f.length,k=this._map;(te=k.charAt(64))&&-1!=(te=f.indexOf(te))&&(T=te);for(var te=[],_e=0,he=0;he<T;he++)if(he%4){var we=k.indexOf(f.charAt(he-1))<<he%4*2,Ce=k.indexOf(f.charAt(he))>>>6-he%4*2;te[_e>>>2]|=(we|Ce)<<24-_e%4*8,_e++}return r.create(te,_e)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(i){for(var r=be,a=(T=r.lib).WordArray,f=T.Hasher,T=r.algo,k=[],te=[],_e=function(ut){return 4294967296*(ut-(0|ut))|0},he=2,we=0;64>we;){var Ce;e:{for(var Ee=i.sqrt(Ce=he),Pe=2;Pe<=Ee;Pe++)if(!(Ce%Pe)){Ce=!1;break e}Ce=!0}Ce&&(8>we&&(k[we]=_e(i.pow(he,.5))),te[we]=_e(i.pow(he,1/3)),we++),he++}var Ve=[];T=T.SHA256=f.extend({_doReset:function(){this._hash=new a.init(k.slice(0))},_doProcessBlock:function(ut,ft){for(var ae=this._hash.words,Re=ae[0],ke=ae[1],je=ae[2],Q=ae[3],Ie=ae[4],ze=ae[5],Le=ae[6],Rt=ae[7],yt=0;64>yt;yt++){if(16>yt)Ve[yt]=0|ut[ft+yt];else{var Zt=Ve[yt-15],Mn=Ve[yt-2];Ve[yt]=((Zt<<25|Zt>>>7)^(Zt<<14|Zt>>>18)^Zt>>>3)+Ve[yt-7]+((Mn<<15|Mn>>>17)^(Mn<<13|Mn>>>19)^Mn>>>10)+Ve[yt-16]}Zt=Rt+((Ie<<26|Ie>>>6)^(Ie<<21|Ie>>>11)^(Ie<<7|Ie>>>25))+(Ie&ze^~Ie&Le)+te[yt]+Ve[yt],Mn=((Re<<30|Re>>>2)^(Re<<19|Re>>>13)^(Re<<10|Re>>>22))+(Re&ke^Re&je^ke&je),Rt=Le,Le=ze,ze=Ie,Ie=Q+Zt|0,Q=je,je=ke,ke=Re,Re=Zt+Mn|0}ae[0]=ae[0]+Re|0,ae[1]=ae[1]+ke|0,ae[2]=ae[2]+je|0,ae[3]=ae[3]+Q|0,ae[4]=ae[4]+Ie|0,ae[5]=ae[5]+ze|0,ae[6]=ae[6]+Le|0,ae[7]=ae[7]+Rt|0},_doFinalize:function(){var ut=this._data,ft=ut.words,ae=8*this._nDataBytes,Re=8*ut.sigBytes;return ft[Re>>>5]|=128<<24-Re%32,ft[14+(Re+64>>>9<<4)]=i.floor(ae/4294967296),ft[15+(Re+64>>>9<<4)]=ae,ut.sigBytes=4*ft.length,this._process(),this._hash},clone:function(){var ut=f.clone.call(this);return ut._hash=this._hash.clone(),ut}}),r.SHA256=f._createHelper(T),r.HmacSHA256=f._createHmacHelper(T)}(Math),function(){function i(){return f.create.apply(f,arguments)}for(var r=be,a=r.lib.Hasher,f=(k=r.x64).Word,T=k.WordArray,k=r.algo,te=[i(1116352408,3609767458),i(1899447441,602891725),i(3049323471,3964484399),i(3921009573,2173295548),i(961987163,4081628472),i(1508970993,3053834265),i(2453635748,2937671579),i(2870763221,3664609560),i(3624381080,2734883394),i(310598401,1164996542),i(607225278,1323610764),i(1426881987,3590304994),i(1925078388,4068182383),i(2162078206,991336113),i(2614888103,633803317),i(3248222580,3479774868),i(3835390401,2666613458),i(4022224774,944711139),i(264347078,2341262773),i(604807628,2007800933),i(770255983,1495990901),i(1249150122,1856431235),i(1555081692,3175218132),i(1996064986,2198950837),i(2554220882,3999719339),i(2821834349,766784016),i(2952996808,2566594879),i(3210313671,3203337956),i(3336571891,1034457026),i(3584528711,2466948901),i(113926993,3758326383),i(338241895,168717936),i(666307205,1188179964),i(773529912,1546045734),i(1294757372,1522805485),i(1396182291,2643833823),i(1695183700,2343527390),i(1986661051,1014477480),i(2177026350,1206759142),i(2456956037,344077627),i(2730485921,1290863460),i(2820302411,3158454273),i(3259730800,3505952657),i(3345764771,106217008),i(3516065817,3606008344),i(3600352804,1432725776),i(4094571909,1467031594),i(275423344,851169720),i(430227734,3100823752),i(506948616,1363258195),i(659060556,3750685593),i(883997877,3785050280),i(958139571,3318307427),i(1322822218,3812723403),i(1537002063,2003034995),i(1747873779,3602036899),i(1955562222,1575990012),i(2024104815,1125592928),i(2227730452,2716904306),i(2361852424,442776044),i(2428436474,593698344),i(2756734187,3733110249),i(3204031479,2999351573),i(3329325298,3815920427),i(3391569614,3928383900),i(3515267271,566280711),i(3940187606,3454069534),i(4118630271,4000239992),i(116418474,1914138554),i(174292421,2731055270),i(289380356,3203993006),i(460393269,320620315),i(685471733,587496836),i(852142971,1086792851),i(1017036298,365543100),i(1126000580,2618297676),i(1288033470,3409855158),i(1501505948,4234509866),i(1607167915,987167468),i(1816402316,1246189591)],_e=[],he=0;80>he;he++)_e[he]=i();k=k.SHA512=a.extend({_doReset:function(){this._hash=new T.init([new f.init(1779033703,4089235720),new f.init(3144134277,2227873595),new f.init(1013904242,4271175723),new f.init(2773480762,1595750129),new f.init(1359893119,2917565137),new f.init(2600822924,725511199),new f.init(528734635,4215389547),new f.init(1541459225,327033209)])},_doProcessBlock:function(Ce,Ee){for(var Pe=(ke=this._hash.words)[0],Ve=ke[1],ot=ke[2],ut=ke[3],ft=ke[4],ae=ke[5],Re=ke[6],ke=ke[7],je=Pe.high,Q=Pe.low,Ie=Ve.high,ze=Ve.low,Le=ot.high,Rt=ot.low,yt=ut.high,Zt=ut.low,Mn=ft.high,Ln=ft.low,Vn=ae.high,Kn=ae.low,di=Re.high,Ji=Re.low,qn=ke.high,bi=ke.low,Gi=je,qi=Q,Ar=Ie,ir=ze,Mr=Le,cr=Rt,vs=yt,Rr=Zt,ur=Mn,Ki=Ln,$r=Vn,yr=Kn,Yr=di,Ur=Ji,br=qn,Or=bi,dr=0;80>dr;dr++){var Li=_e[dr];if(16>dr)var Bi=Li.high=0|Ce[Ee+2*dr],Ti=Li.low=0|Ce[Ee+2*dr+1];else{Bi=((Ti=(Bi=_e[dr-15]).high)>>>1|(Er=Bi.low)<<31)^(Ti>>>8|Er<<24)^Ti>>>7;var Er=(Er>>>1|Ti<<31)^(Er>>>8|Ti<<24)^(Er>>>7|Ti<<25),Gr=((Ti=(Gr=_e[dr-2]).high)>>>19|(pi=Gr.low)<<13)^(Ti<<3|pi>>>29)^Ti>>>6,pi=(pi>>>19|Ti<<13)^(pi<<3|Ti>>>29)^(pi>>>6|Ti<<26),Os=(Ti=_e[dr-7]).high,wr=(Hr=_e[dr-16]).high,Hr=Hr.low;Bi=(Bi=(Bi=Bi+Os+((Ti=Er+Ti.low)>>>0<Er>>>0?1:0))+Gr+((Ti+=pi)>>>0<pi>>>0?1:0))+wr+((Ti+=Hr)>>>0<Hr>>>0?1:0),Li.high=Bi,Li.low=Ti}Os=ur&$r^~ur&Yr,Hr=Ki&yr^~Ki&Ur,Li=Gi&Ar^Gi&Mr^Ar&Mr;var ys=qi&ir^qi&cr^ir&cr,ro=(Er=(Gi>>>28|qi<<4)^(Gi<<30|qi>>>2)^(Gi<<25|qi>>>7),Gr=(qi>>>28|Gi<<4)^(qi<<30|Gi>>>2)^(qi<<25|Gi>>>7),(pi=te[dr]).high),es=pi.low;wr=br+((ur>>>14|Ki<<18)^(ur>>>18|Ki<<14)^(ur<<23|Ki>>>9))+((pi=Or+((Ki>>>14|ur<<18)^(Ki>>>18|ur<<14)^(Ki<<23|ur>>>9)))>>>0<Or>>>0?1:0),br=Yr,Or=Ur,Yr=$r,Ur=yr,$r=ur,yr=Ki,ur=vs+(wr=(wr=(wr=wr+Os+((pi+=Hr)>>>0<Hr>>>0?1:0))+ro+((pi+=es)>>>0<es>>>0?1:0))+Bi+((pi+=Ti)>>>0<Ti>>>0?1:0))+((Ki=Rr+pi|0)>>>0<Rr>>>0?1:0)|0,vs=Mr,Rr=cr,Mr=Ar,cr=ir,Ar=Gi,ir=qi,Gi=wr+(Li=Er+Li+((Ti=Gr+ys)>>>0<Gr>>>0?1:0))+((qi=pi+Ti|0)>>>0<pi>>>0?1:0)|0}Q=Pe.low=Q+qi,Pe.high=je+Gi+(Q>>>0<qi>>>0?1:0),ze=Ve.low=ze+ir,Ve.high=Ie+Ar+(ze>>>0<ir>>>0?1:0),Rt=ot.low=Rt+cr,ot.high=Le+Mr+(Rt>>>0<cr>>>0?1:0),Zt=ut.low=Zt+Rr,ut.high=yt+vs+(Zt>>>0<Rr>>>0?1:0),Ln=ft.low=Ln+Ki,ft.high=Mn+ur+(Ln>>>0<Ki>>>0?1:0),Kn=ae.low=Kn+yr,ae.high=Vn+$r+(Kn>>>0<yr>>>0?1:0),Ji=Re.low=Ji+Ur,Re.high=di+Yr+(Ji>>>0<Ur>>>0?1:0),bi=ke.low=bi+Or,ke.high=qn+br+(bi>>>0<Or>>>0?1:0)},_doFinalize:function(){var Ce=this._data,Ee=Ce.words,Pe=8*this._nDataBytes,Ve=8*Ce.sigBytes;return Ee[Ve>>>5]|=128<<24-Ve%32,Ee[30+(Ve+128>>>10<<5)]=Math.floor(Pe/4294967296),Ee[31+(Ve+128>>>10<<5)]=Pe,Ce.sigBytes=4*Ee.length,this._process(),this._hash.toX32()},clone:function(){var Ce=a.clone.call(this);return Ce._hash=this._hash.clone(),Ce},blockSize:32}),r.SHA512=a._createHelper(k),r.HmacSHA512=a._createHmacHelper(k)}(),function(){var i=be,r=(T=i.x64).Word,a=T.WordArray,f=(T=i.algo).SHA512,T=T.SHA384=f.extend({_doReset:function(){this._hash=new a.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var te=f._doFinalize.call(this);return te.sigBytes-=16,te}});i.SHA384=f._createHelper(T),i.HmacSHA384=f._createHmacHelper(T)}();var De,se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Ae(i){var r,a,f="";for(r=0;r+3<=i.length;r+=3)a=parseInt(i.substring(r,r+3),16),f+=se.charAt(a>>6)+se.charAt(63&a);for(r+1==i.length?(a=parseInt(i.substring(r,r+1),16),f+=se.charAt(a<<2)):r+2==i.length&&(a=parseInt(i.substring(r,r+2),16),f+=se.charAt(a>>2)+se.charAt((3&a)<<4));(3&f.length)>0;)f+="=";return f}function Me(i){var r,a,f,T="",k=0;for(r=0;r<i.length&&"="!=i.charAt(r);++r)(f=se.indexOf(i.charAt(r)))<0||(0==k?(T+=sn(f>>2),a=3&f,k=1):1==k?(T+=sn(a<<2|f>>4),a=15&f,k=2):2==k?(T+=sn(a),T+=sn(f>>2),a=3&f,k=3):(T+=sn(a<<2|f>>4),T+=sn(15&f),k=0));return 1==k&&(T+=sn(a<<2)),T}function st(i){var r,a=Me(i),f=new Array;for(r=0;2*r<a.length;++r)f[r]=parseInt(a.substring(2*r,2*r+2),16);return f}function fe(i,r,a){null!=i&&("number"==typeof i?this.fromNumber(i,r,a):this.fromString(i,null==r&&"string"!=typeof i?256:r))}function Dt(){return new fe(null)}"Microsoft Internet Explorer"==N.appName?(fe.prototype.am=function(r,a,f,T,k,te){for(var _e=32767&a,he=a>>15;--te>=0;){var we=32767&this[r],Ce=this[r++]>>15,Ee=he*we+Ce*_e;k=((we=_e*we+((32767&Ee)<<15)+f[T]+(1073741823&k))>>>30)+(Ee>>>15)+he*Ce+(k>>>30),f[T++]=1073741823&we}return k},De=30):"Netscape"!=N.appName?(fe.prototype.am=function(r,a,f,T,k,te){for(;--te>=0;){var _e=a*this[r++]+f[T]+k;k=Math.floor(_e/67108864),f[T++]=67108863&_e}return k},De=26):(fe.prototype.am=function(r,a,f,T,k,te){for(var _e=16383&a,he=a>>14;--te>=0;){var we=16383&this[r],Ce=this[r++]>>14,Ee=he*we+Ce*_e;k=((we=_e*we+((16383&Ee)<<14)+f[T]+k)>>28)+(Ee>>14)+he*Ce,f[T++]=268435455&we}return k},De=28),fe.prototype.DB=De,fe.prototype.DM=(1<<De)-1,fe.prototype.DV=1<<De,fe.prototype.FV=Math.pow(2,52),fe.prototype.F1=52-De,fe.prototype.F2=2*De-52;var Gt,Pt,dt=new Array;for(Gt=48,Pt=0;Pt<=9;++Pt)dt[Gt++]=Pt;for(Gt=97,Pt=10;Pt<36;++Pt)dt[Gt++]=Pt;for(Gt=65,Pt=10;Pt<36;++Pt)dt[Gt++]=Pt;function sn(i){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(i)}function an(i,r){return dt[i.charCodeAt(r)]??-1}function un(i){var r=Dt();return r.fromInt(i),r}function Sn(i){var r,a=1;return 0!=(r=i>>>16)&&(i=r,a+=16),0!=(r=i>>8)&&(i=r,a+=8),0!=(r=i>>4)&&(i=r,a+=4),0!=(r=i>>2)&&(i=r,a+=2),0!=(r=i>>1)&&(i=r,a+=1),a}function hn(i){this.m=i}function cn(i){this.m=i,this.mp=i.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<i.DB-15)-1,this.mt2=2*i.t}function $t(i,r){return i&r}function Xe(i,r){return i|r}function ht(i,r){return i^r}function Tt(i,r){return i&~r}function wt(i){if(0==i)return-1;var r=0;return!(65535&i)&&(i>>=16,r+=16),!(255&i)&&(i>>=8,r+=8),!(15&i)&&(i>>=4,r+=4),!(3&i)&&(i>>=2,r+=2),!(1&i)&&++r,r}function Kt(i){for(var r=0;0!=i;)i&=i-1,++r;return r}function Vt(){}function dn(i){return i}function An(i){this.r2=Dt(),this.q3=Dt(),fe.ONE.dlShiftTo(2*i.t,this.r2),this.mu=this.r2.divide(i),this.m=i}hn.prototype.convert=function(r){return r.s<0||r.compareTo(this.m)>=0?r.mod(this.m):r},hn.prototype.revert=function(r){return r},hn.prototype.reduce=function(r){r.divRemTo(this.m,null,r)},hn.prototype.mulTo=function(r,a,f){r.multiplyTo(a,f),this.reduce(f)},hn.prototype.sqrTo=function(r,a){r.squareTo(a),this.reduce(a)},cn.prototype.convert=function(r){var a=Dt();return r.abs().dlShiftTo(this.m.t,a),a.divRemTo(this.m,null,a),r.s<0&&a.compareTo(fe.ZERO)>0&&this.m.subTo(a,a),a},cn.prototype.revert=function(r){var a=Dt();return r.copyTo(a),this.reduce(a),a},cn.prototype.reduce=function(r){for(;r.t<=this.mt2;)r[r.t++]=0;for(var a=0;a<this.m.t;++a){var f=32767&r[a],T=f*this.mpl+((f*this.mph+(r[a]>>15)*this.mpl&this.um)<<15)&r.DM;for(r[f=a+this.m.t]+=this.m.am(0,T,r,a,0,this.m.t);r[f]>=r.DV;)r[f]-=r.DV,r[++f]++}r.clamp(),r.drShiftTo(this.m.t,r),r.compareTo(this.m)>=0&&r.subTo(this.m,r)},cn.prototype.mulTo=function(r,a,f){r.multiplyTo(a,f),this.reduce(f)},cn.prototype.sqrTo=function(r,a){r.squareTo(a),this.reduce(a)},fe.prototype.copyTo=function(r){for(var a=this.t-1;a>=0;--a)r[a]=this[a];r.t=this.t,r.s=this.s},fe.prototype.fromInt=function(r){this.t=1,this.s=r<0?-1:0,r>0?this[0]=r:r<-1?this[0]=r+this.DV:this.t=0},fe.prototype.fromString=function(r,a){var f;if(16==a)f=4;else if(8==a)f=3;else if(256==a)f=8;else if(2==a)f=1;else if(32==a)f=5;else{if(4!=a)return void this.fromRadix(r,a);f=2}this.t=0,this.s=0;for(var T=r.length,k=!1,te=0;--T>=0;){var _e=8==f?255&r[T]:an(r,T);_e<0?"-"==r.charAt(T)&&(k=!0):(k=!1,0==te?this[this.t++]=_e:te+f>this.DB?(this[this.t-1]|=(_e&(1<<this.DB-te)-1)<<te,this[this.t++]=_e>>this.DB-te):this[this.t-1]|=_e<<te,(te+=f)>=this.DB&&(te-=this.DB))}8==f&&128&r[0]&&(this.s=-1,te>0&&(this[this.t-1]|=(1<<this.DB-te)-1<<te)),this.clamp(),k&&fe.ZERO.subTo(this,this)},fe.prototype.clamp=function(){for(var r=this.s&this.DM;this.t>0&&this[this.t-1]==r;)--this.t},fe.prototype.dlShiftTo=function(r,a){var f;for(f=this.t-1;f>=0;--f)a[f+r]=this[f];for(f=r-1;f>=0;--f)a[f]=0;a.t=this.t+r,a.s=this.s},fe.prototype.drShiftTo=function(r,a){for(var f=r;f<this.t;++f)a[f-r]=this[f];a.t=Math.max(this.t-r,0),a.s=this.s},fe.prototype.lShiftTo=function(r,a){var f,T=r%this.DB,k=this.DB-T,te=(1<<k)-1,_e=Math.floor(r/this.DB),he=this.s<<T&this.DM;for(f=this.t-1;f>=0;--f)a[f+_e+1]=this[f]>>k|he,he=(this[f]&te)<<T;for(f=_e-1;f>=0;--f)a[f]=0;a[_e]=he,a.t=this.t+_e+1,a.s=this.s,a.clamp()},fe.prototype.rShiftTo=function(r,a){a.s=this.s;var f=Math.floor(r/this.DB);if(f>=this.t)a.t=0;else{var T=r%this.DB,k=this.DB-T,te=(1<<T)-1;a[0]=this[f]>>T;for(var _e=f+1;_e<this.t;++_e)a[_e-f-1]|=(this[_e]&te)<<k,a[_e-f]=this[_e]>>T;T>0&&(a[this.t-f-1]|=(this.s&te)<<k),a.t=this.t-f,a.clamp()}},fe.prototype.subTo=function(r,a){for(var f=0,T=0,k=Math.min(r.t,this.t);f<k;)T+=this[f]-r[f],a[f++]=T&this.DM,T>>=this.DB;if(r.t<this.t){for(T-=r.s;f<this.t;)T+=this[f],a[f++]=T&this.DM,T>>=this.DB;T+=this.s}else{for(T+=this.s;f<r.t;)T-=r[f],a[f++]=T&this.DM,T>>=this.DB;T-=r.s}a.s=T<0?-1:0,T<-1?a[f++]=this.DV+T:T>0&&(a[f++]=T),a.t=f,a.clamp()},fe.prototype.multiplyTo=function(r,a){var f=this.abs(),T=r.abs(),k=f.t;for(a.t=k+T.t;--k>=0;)a[k]=0;for(k=0;k<T.t;++k)a[k+f.t]=f.am(0,T[k],a,k,0,f.t);a.s=0,a.clamp(),this.s!=r.s&&fe.ZERO.subTo(a,a)},fe.prototype.squareTo=function(r){for(var a=this.abs(),f=r.t=2*a.t;--f>=0;)r[f]=0;for(f=0;f<a.t-1;++f){var T=a.am(f,a[f],r,2*f,0,1);(r[f+a.t]+=a.am(f+1,2*a[f],r,2*f+1,T,a.t-f-1))>=a.DV&&(r[f+a.t]-=a.DV,r[f+a.t+1]=1)}r.t>0&&(r[r.t-1]+=a.am(f,a[f],r,2*f,0,1)),r.s=0,r.clamp()},fe.prototype.divRemTo=function(r,a,f){var T=r.abs();if(!(T.t<=0)){var k=this.abs();if(k.t<T.t)return a?.fromInt(0),void(null!=f&&this.copyTo(f));null==f&&(f=Dt());var te=Dt(),_e=this.s,he=r.s,we=this.DB-Sn(T[T.t-1]);we>0?(T.lShiftTo(we,te),k.lShiftTo(we,f)):(T.copyTo(te),k.copyTo(f));var Ce=te.t,Ee=te[Ce-1];if(0!=Ee){var Pe=Ee*(1<<this.F1)+(Ce>1?te[Ce-2]>>this.F2:0),Ve=this.FV/Pe,ot=(1<<this.F1)/Pe,ut=1<<this.F2,ft=f.t,ae=ft-Ce,Re=a??Dt();for(te.dlShiftTo(ae,Re),f.compareTo(Re)>=0&&(f[f.t++]=1,f.subTo(Re,f)),fe.ONE.dlShiftTo(Ce,Re),Re.subTo(te,te);te.t<Ce;)te[te.t++]=0;for(;--ae>=0;){var ke=f[--ft]==Ee?this.DM:Math.floor(f[ft]*Ve+(f[ft-1]+ut)*ot);if((f[ft]+=te.am(0,ke,f,ae,0,Ce))<ke)for(te.dlShiftTo(ae,Re),f.subTo(Re,f);f[ft]<--ke;)f.subTo(Re,f)}null!=a&&(f.drShiftTo(Ce,a),_e!=he&&fe.ZERO.subTo(a,a)),f.t=Ce,f.clamp(),we>0&&f.rShiftTo(we,f),_e<0&&fe.ZERO.subTo(f,f)}}},fe.prototype.invDigit=function(){if(this.t<1)return 0;var r=this[0];if(!(1&r))return 0;var a=3&r;return(a=(a=(a=(a=a*(2-(15&r)*a)&15)*(2-(255&r)*a)&255)*(2-((65535&r)*a&65535))&65535)*(2-r*a%this.DV)%this.DV)>0?this.DV-a:-a},fe.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},fe.prototype.exp=function(r,a){if(r>4294967295||r<1)return fe.ONE;var f=Dt(),T=Dt(),k=a.convert(this),te=Sn(r)-1;for(k.copyTo(f);--te>=0;)if(a.sqrTo(f,T),(r&1<<te)>0)a.mulTo(T,k,f);else{var _e=f;f=T,T=_e}return a.revert(f)},fe.prototype.toString=function(r){if(this.s<0)return"-"+this.negate().toString(r);var a;if(16==r)a=4;else if(8==r)a=3;else if(2==r)a=1;else if(32==r)a=5;else{if(4!=r)return this.toRadix(r);a=2}var f,T=(1<<a)-1,k=!1,te="",_e=this.t,he=this.DB-_e*this.DB%a;if(_e-- >0)for(he<this.DB&&(f=this[_e]>>he)>0&&(k=!0,te=sn(f));_e>=0;)he<a?(f=(this[_e]&(1<<he)-1)<<a-he,f|=this[--_e]>>(he+=this.DB-a)):(f=this[_e]>>(he-=a)&T,he<=0&&(he+=this.DB,--_e)),f>0&&(k=!0),k&&(te+=sn(f));return k?te:"0"},fe.prototype.negate=function(){var r=Dt();return fe.ZERO.subTo(this,r),r},fe.prototype.abs=function(){return this.s<0?this.negate():this},fe.prototype.compareTo=function(r){var a=this.s-r.s;if(0!=a)return a;var f=this.t;if(0!=(a=f-r.t))return this.s<0?-a:a;for(;--f>=0;)if(0!=(a=this[f]-r[f]))return a;return 0},fe.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Sn(this[this.t-1]^this.s&this.DM)},fe.prototype.mod=function(r){var a=Dt();return this.abs().divRemTo(r,null,a),this.s<0&&a.compareTo(fe.ZERO)>0&&r.subTo(a,a),a},fe.prototype.modPowInt=function(r,a){var f;return f=r<256||a.isEven()?new hn(a):new cn(a),this.exp(r,f)},fe.ZERO=un(0),fe.ONE=un(1),Vt.prototype.convert=dn,Vt.prototype.revert=dn,Vt.prototype.mulTo=function(r,a,f){r.multiplyTo(a,f)},Vt.prototype.sqrTo=function(r,a){r.squareTo(a)},An.prototype.convert=function(r){if(r.s<0||r.t>2*this.m.t)return r.mod(this.m);if(r.compareTo(this.m)<0)return r;var a=Dt();return r.copyTo(a),this.reduce(a),a},An.prototype.revert=function(r){return r},An.prototype.reduce=function(r){for(r.drShiftTo(this.m.t-1,this.r2),r.t>this.m.t+1&&(r.t=this.m.t+1,r.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);r.compareTo(this.r2)<0;)r.dAddOffset(1,this.m.t+1);for(r.subTo(this.r2,r);r.compareTo(this.m)>=0;)r.subTo(this.m,r)},An.prototype.mulTo=function(r,a,f){r.multiplyTo(a,f),this.reduce(f)},An.prototype.sqrTo=function(r,a){r.squareTo(a),this.reduce(a)};var xe,Be,tt,Te=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],U=(1<<26)/Te[Te.length-1];function K(){this.i=0,this.j=0,this.S=new Array}function qe(){!function(r){Be[tt++]^=255&r,Be[tt++]^=r>>8&255,Be[tt++]^=r>>16&255,Be[tt++]^=r>>24&255,tt>=256&&(tt-=256)}((new Date).getTime())}if(fe.prototype.chunkSize=function(r){return Math.floor(Math.LN2*this.DB/Math.log(r))},fe.prototype.toRadix=function(r){if(null==r&&(r=10),0==this.signum()||r<2||r>36)return"0";var a=this.chunkSize(r),f=Math.pow(r,a),T=un(f),k=Dt(),te=Dt(),_e="";for(this.divRemTo(T,k,te);k.signum()>0;)_e=(f+te.intValue()).toString(r).substr(1)+_e,k.divRemTo(T,k,te);return te.intValue().toString(r)+_e},fe.prototype.fromRadix=function(r,a){this.fromInt(0),null==a&&(a=10);for(var f=this.chunkSize(a),T=Math.pow(a,f),k=!1,te=0,_e=0,he=0;he<r.length;++he){var we=an(r,he);we<0?"-"==r.charAt(he)&&0==this.signum()&&(k=!0):(_e=a*_e+we,++te>=f&&(this.dMultiply(T),this.dAddOffset(_e,0),te=0,_e=0))}te>0&&(this.dMultiply(Math.pow(a,te)),this.dAddOffset(_e,0)),k&&fe.ZERO.subTo(this,this)},fe.prototype.fromNumber=function(r,a,f){if("number"==typeof a)if(r<2)this.fromInt(1);else for(this.fromNumber(r,f),this.testBit(r-1)||this.bitwiseTo(fe.ONE.shiftLeft(r-1),Xe,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(a);)this.dAddOffset(2,0),this.bitLength()>r&&this.subTo(fe.ONE.shiftLeft(r-1),this);else{var T=new Array,k=7&r;T.length=1+(r>>3),a.nextBytes(T),k>0?T[0]&=(1<<k)-1:T[0]=0,this.fromString(T,256)}},fe.prototype.bitwiseTo=function(r,a,f){var T,k,te=Math.min(r.t,this.t);for(T=0;T<te;++T)f[T]=a(this[T],r[T]);if(r.t<this.t){for(k=r.s&this.DM,T=te;T<this.t;++T)f[T]=a(this[T],k);f.t=this.t}else{for(k=this.s&this.DM,T=te;T<r.t;++T)f[T]=a(k,r[T]);f.t=r.t}f.s=a(this.s,r.s),f.clamp()},fe.prototype.changeBit=function(r,a){var f=fe.ONE.shiftLeft(r);return this.bitwiseTo(f,a,f),f},fe.prototype.addTo=function(r,a){for(var f=0,T=0,k=Math.min(r.t,this.t);f<k;)T+=this[f]+r[f],a[f++]=T&this.DM,T>>=this.DB;if(r.t<this.t){for(T+=r.s;f<this.t;)T+=this[f],a[f++]=T&this.DM,T>>=this.DB;T+=this.s}else{for(T+=this.s;f<r.t;)T+=r[f],a[f++]=T&this.DM,T>>=this.DB;T+=r.s}a.s=T<0?-1:0,T>0?a[f++]=T:T<-1&&(a[f++]=this.DV+T),a.t=f,a.clamp()},fe.prototype.dMultiply=function(r){this[this.t]=this.am(0,r-1,this,0,0,this.t),++this.t,this.clamp()},fe.prototype.dAddOffset=function(r,a){if(0!=r){for(;this.t<=a;)this[this.t++]=0;for(this[a]+=r;this[a]>=this.DV;)this[a]-=this.DV,++a>=this.t&&(this[this.t++]=0),++this[a]}},fe.prototype.multiplyLowerTo=function(r,a,f){var T,k=Math.min(this.t+r.t,a);for(f.s=0,f.t=k;k>0;)f[--k]=0;for(T=f.t-this.t;k<T;++k)f[k+this.t]=this.am(0,r[k],f,k,0,this.t);for(T=Math.min(r.t,a);k<T;++k)this.am(0,r[k],f,k,0,a-k);f.clamp()},fe.prototype.multiplyUpperTo=function(r,a,f){--a;var T=f.t=this.t+r.t-a;for(f.s=0;--T>=0;)f[T]=0;for(T=Math.max(a-this.t,0);T<r.t;++T)f[this.t+T-a]=this.am(a-T,r[T],f,0,0,this.t+T-a);f.clamp(),f.drShiftTo(1,f)},fe.prototype.modInt=function(r){if(r<=0)return 0;var a=this.DV%r,f=this.s<0?r-1:0;if(this.t>0)if(0==a)f=this[0]%r;else for(var T=this.t-1;T>=0;--T)f=(a*f+this[T])%r;return f},fe.prototype.millerRabin=function(r){var a=this.subtract(fe.ONE),f=a.getLowestSetBit();if(f<=0)return!1;var T=a.shiftRight(f);(r=r+1>>1)>Te.length&&(r=Te.length);for(var k=Dt(),te=0;te<r;++te){k.fromInt(Te[Math.floor(Math.random()*Te.length)]);var _e=k.modPow(T,this);if(0!=_e.compareTo(fe.ONE)&&0!=_e.compareTo(a)){for(var he=1;he++<f&&0!=_e.compareTo(a);)if(0==(_e=_e.modPowInt(2,this)).compareTo(fe.ONE))return!1;if(0!=_e.compareTo(a))return!1}}return!0},fe.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
             */
function(){var r=Dt();return this.copyTo(r),r},fe.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},fe.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},fe.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},fe.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},fe.prototype.toByteArray=function(){var r=this.t,a=new Array;a[0]=this.s;var f,T=this.DB-r*this.DB%8,k=0;if(r-- >0)for(T<this.DB&&(f=this[r]>>T)!=(this.s&this.DM)>>T&&(a[k++]=f|this.s<<this.DB-T);r>=0;)T<8?(f=(this[r]&(1<<T)-1)<<8-T,f|=this[--r]>>(T+=this.DB-8)):(f=this[r]>>(T-=8)&255,T<=0&&(T+=this.DB,--r)),128&f&&(f|=-256),0==k&&(128&this.s)!=(128&f)&&++k,(k>0||f!=this.s)&&(a[k++]=f);return a},fe.prototype.equals=function(r){return 0==this.compareTo(r)},fe.prototype.min=function(r){return this.compareTo(r)<0?this:r},fe.prototype.max=function(r){return this.compareTo(r)>0?this:r},fe.prototype.and=function(r){var a=Dt();return this.bitwiseTo(r,$t,a),a},fe.prototype.or=function(r){var a=Dt();return this.bitwiseTo(r,Xe,a),a},fe.prototype.xor=function(r){var a=Dt();return this.bitwiseTo(r,ht,a),a},fe.prototype.andNot=function(r){var a=Dt();return this.bitwiseTo(r,Tt,a),a},fe.prototype.not=function(){for(var r=Dt(),a=0;a<this.t;++a)r[a]=this.DM&~this[a];return r.t=this.t,r.s=~this.s,r},fe.prototype.shiftLeft=function(r){var a=Dt();return r<0?this.rShiftTo(-r,a):this.lShiftTo(r,a),a},fe.prototype.shiftRight=function(r){var a=Dt();return r<0?this.lShiftTo(-r,a):this.rShiftTo(r,a),a},fe.prototype.getLowestSetBit=function(){for(var r=0;r<this.t;++r)if(0!=this[r])return r*this.DB+wt(this[r]);return this.s<0?this.t*this.DB:-1},fe.prototype.bitCount=function(){for(var r=0,a=this.s&this.DM,f=0;f<this.t;++f)r+=Kt(this[f]^a);return r},fe.prototype.testBit=function(r){var a=Math.floor(r/this.DB);return a>=this.t?0!=this.s:0!=(this[a]&1<<r%this.DB)},fe.prototype.setBit=function(r){return this.changeBit(r,Xe)},fe.prototype.clearBit=function(r){return this.changeBit(r,Tt)},fe.prototype.flipBit=function(r){return this.changeBit(r,ht)},fe.prototype.add=function(r){var a=Dt();return this.addTo(r,a),a},fe.prototype.subtract=function(r){var a=Dt();return this.subTo(r,a),a},fe.prototype.multiply=function(r){var a=Dt();return this.multiplyTo(r,a),a},fe.prototype.divide=function(r){var a=Dt();return this.divRemTo(r,a,null),a},fe.prototype.remainder=function(r){var a=Dt();return this.divRemTo(r,null,a),a},fe.prototype.divideAndRemainder=function(r){var a=Dt(),f=Dt();return this.divRemTo(r,a,f),new Array(a,f)},fe.prototype.modPow=function(r,a){var f,T,k=r.bitLength(),te=un(1);if(k<=0)return te;f=k<18?1:k<48?3:k<144?4:k<768?5:6,T=k<8?new hn(a):a.isEven()?new An(a):new cn(a);var _e=new Array,he=3,we=f-1,Ce=(1<<f)-1;if(_e[1]=T.convert(this),f>1){var Ee=Dt();for(T.sqrTo(_e[1],Ee);he<=Ce;)_e[he]=Dt(),T.mulTo(Ee,_e[he-2],_e[he]),he+=2}var Pe,Ve,ot=r.t-1,ut=!0,ft=Dt();for(k=Sn(r[ot])-1;ot>=0;){for(k>=we?Pe=r[ot]>>k-we&Ce:(Pe=(r[ot]&(1<<k+1)-1)<<we-k,ot>0&&(Pe|=r[ot-1]>>this.DB+k-we)),he=f;!(1&Pe);)Pe>>=1,--he;if((k-=he)<0&&(k+=this.DB,--ot),ut)_e[Pe].copyTo(te),ut=!1;else{for(;he>1;)T.sqrTo(te,ft),T.sqrTo(ft,te),he-=2;he>0?T.sqrTo(te,ft):(Ve=te,te=ft,ft=Ve),T.mulTo(ft,_e[Pe],te)}for(;ot>=0&&!(r[ot]&1<<k);)T.sqrTo(te,ft),Ve=te,te=ft,ft=Ve,--k<0&&(k=this.DB-1,--ot)}return T.revert(te)},fe.prototype.modInverse=function(r){var a=r.isEven();if(this.isEven()&&a||0==r.signum())return fe.ZERO;for(var f=r.clone(),T=this.clone(),k=un(1),te=un(0),_e=un(0),he=un(1);0!=f.signum();){for(;f.isEven();)f.rShiftTo(1,f),a?(k.isEven()&&te.isEven()||(k.addTo(this,k),te.subTo(r,te)),k.rShiftTo(1,k)):te.isEven()||te.subTo(r,te),te.rShiftTo(1,te);for(;T.isEven();)T.rShiftTo(1,T),a?(_e.isEven()&&he.isEven()||(_e.addTo(this,_e),he.subTo(r,he)),_e.rShiftTo(1,_e)):he.isEven()||he.subTo(r,he),he.rShiftTo(1,he);f.compareTo(T)>=0?(f.subTo(T,f),a&&k.subTo(_e,k),te.subTo(he,te)):(T.subTo(f,T),a&&_e.subTo(k,_e),he.subTo(te,he))}return 0!=T.compareTo(fe.ONE)?fe.ZERO:he.compareTo(r)>=0?he.subtract(r):he.signum()<0?(he.addTo(r,he),he.signum()<0?he.add(r):he):he},fe.prototype.pow=function(r){return this.exp(r,new Vt)},fe.prototype.gcd=function(r){var a=this.s<0?this.negate():this.clone(),f=r.s<0?r.negate():r.clone();if(a.compareTo(f)<0){var T=a;a=f,f=T}var k=a.getLowestSetBit(),te=f.getLowestSetBit();if(te<0)return a;for(k<te&&(te=k),te>0&&(a.rShiftTo(te,a),f.rShiftTo(te,f));a.signum()>0;)(k=a.getLowestSetBit())>0&&a.rShiftTo(k,a),(k=f.getLowestSetBit())>0&&f.rShiftTo(k,f),a.compareTo(f)>=0?(a.subTo(f,a),a.rShiftTo(1,a)):(f.subTo(a,f),f.rShiftTo(1,f));return te>0&&f.lShiftTo(te,f),f},fe.prototype.isProbablePrime=function(r){var a,f=this.abs();if(1==f.t&&f[0]<=Te[Te.length-1]){for(a=0;a<Te.length;++a)if(f[0]==Te[a])return!0;return!1}if(f.isEven())return!1;for(a=1;a<Te.length;){for(var T=Te[a],k=a+1;k<Te.length&&T<U;)T*=Te[k++];for(T=f.modInt(T);a<k;)if(T%Te[a++]==0)return!1}return f.millerRabin(r)},fe.prototype.square=function(){var r=Dt();return this.squareTo(r),r},K.prototype.init=function(r){var a,f,T;for(a=0;a<256;++a)this.S[a]=a;for(f=0,a=0;a<256;++a)T=this.S[a],this.S[a]=this.S[f=f+this.S[a]+r[a%r.length]&255],this.S[f]=T;this.i=0,this.j=0},K.prototype.next=function(){var r;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,r=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=r,this.S[r+this.S[this.i]&255]},null==Be){var Et;if(Be=new Array,tt=0,void 0!==x&&(void 0!==x.crypto||void 0!==x.msCrypto)){var Qe=x.crypto||x.msCrypto;if(Qe.getRandomValues){var Ct=new Uint8Array(32);for(Qe.getRandomValues(Ct),Et=0;Et<32;++Et)Be[tt++]=Ct[Et]}else if("Netscape"==N.appName&&N.appVersion<"5"){var Yt=x.crypto.random(32);for(Et=0;Et<Yt.length;++Et)Be[tt++]=255&Yt.charCodeAt(Et)}}for(;tt<256;)Et=Math.floor(65536*Math.random()),Be[tt++]=Et>>>8,Be[tt++]=255&Et;tt=0,qe()}function ln(){if(null==xe){for(qe(),(xe=new K).init(Be),tt=0;tt<Be.length;++tt)Be[tt]=0;tt=0}return xe.next()}function Pn(){}function Hn(i,r){return new fe(i,r)}function zn(i,r,a){for(var f="",T=0;f.length<r;)f+=a(String.fromCharCode.apply(String,i.concat([(4278190080&T)>>24,(16711680&T)>>16,(65280&T)>>8,255&T]))),T+=1;return f}function on(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function jn(i,r){this.x=r,this.q=i}function xn(i,r,a,f){this.curve=i,this.x=r,this.y=a,this.z=f??fe.ONE,this.zinv=null}function vi(i,r,a){this.q=i,this.a=this.fromBigInteger(r),this.b=this.fromBigInteger(a),this.infinity=new xn(this,null,null)}Pn.prototype.nextBytes=function(r){var a;for(a=0;a<r.length;++a)r[a]=ln()},on.prototype.doPublic=function(r){return r.modPowInt(this.e,this.n)},on.prototype.setPublic=function(r,a){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof r)this.n=r,this.e=a;else{if(!(null!=r&&null!=a&&r.length>0&&a.length>0))throw"Invalid RSA public key";this.n=Hn(r,16),this.e=parseInt(a,16)}},on.prototype.encrypt=function(r){var a=function(te,_e){if(_e<te.length+11)throw"Message too long for RSA";for(var he=new Array,we=te.length-1;we>=0&&_e>0;){var Ce=te.charCodeAt(we--);Ce<128?he[--_e]=Ce:Ce>127&&Ce<2048?(he[--_e]=63&Ce|128,he[--_e]=Ce>>6|192):(he[--_e]=63&Ce|128,he[--_e]=Ce>>6&63|128,he[--_e]=Ce>>12|224)}he[--_e]=0;for(var Ee=new Pn,Pe=new Array;_e>2;){for(Pe[0]=0;0==Pe[0];)Ee.nextBytes(Pe);he[--_e]=Pe[0]}return he[--_e]=2,he[--_e]=0,new fe(he)}(r,this.n.bitLength()+7>>3);if(null==a)return null;var f=this.doPublic(a);if(null==f)return null;var T=f.toString(16);return 1&T.length?"0"+T:T},on.prototype.encryptOAEP=function(r,a,f){var T=function(he,we,Ce,Ee){var Pe=ce.crypto.MessageDigest,Ve=ce.crypto.Util,ot=null;if(Ce||(Ce="sha1"),"string"==typeof Ce&&(ot=Pe.getCanonicalAlgName(Ce),Ee=Pe.getHashLength(ot),Ce=function(Le){return lt(Ve.hashHex(Ut(Le),ot))}),he.length+2*Ee+2>we)throw"Message too long for RSA";var ut,ft="";for(ut=0;ut<we-he.length-2*Ee-2;ut+=1)ft+="\0";var ae=Ce("")+ft+"\x01"+he,Re=new Array(Ee);(new Pn).nextBytes(Re);var ke=zn(Re,ae.length,Ce),je=[];for(ut=0;ut<ae.length;ut+=1)je[ut]=ae.charCodeAt(ut)^ke.charCodeAt(ut);var Q=zn(je,Re.length,Ce),Ie=[0];for(ut=0;ut<Re.length;ut+=1)Ie[ut+1]=Re[ut]^Q.charCodeAt(ut);return new fe(Ie.concat(je))}(r,this.n.bitLength()+7>>3,a,f);if(null==T)return null;var k=this.doPublic(T);if(null==k)return null;var te=k.toString(16);return 1&te.length?"0"+te:te},on.prototype.type="RSA",jn.prototype.equals=function(r){return r==this||this.q.equals(r.q)&&this.x.equals(r.x)},jn.prototype.toBigInteger=function(){return this.x},jn.prototype.negate=function(){return new jn(this.q,this.x.negate().mod(this.q))},jn.prototype.add=function(r){return new jn(this.q,this.x.add(r.toBigInteger()).mod(this.q))},jn.prototype.subtract=function(r){return new jn(this.q,this.x.subtract(r.toBigInteger()).mod(this.q))},jn.prototype.multiply=function(r){return new jn(this.q,this.x.multiply(r.toBigInteger()).mod(this.q))},jn.prototype.square=function(){return new jn(this.q,this.x.square().mod(this.q))},jn.prototype.divide=function(r){return new jn(this.q,this.x.multiply(r.toBigInteger().modInverse(this.q)).mod(this.q))},xn.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},xn.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},xn.prototype.equals=function(r){return r==this||(this.isInfinity()?r.isInfinity():r.isInfinity()?this.isInfinity():!!r.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(r.z)).mod(this.curve.q).equals(fe.ZERO)&&r.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(r.z)).mod(this.curve.q).equals(fe.ZERO))},xn.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(fe.ZERO)&&!this.y.toBigInteger().equals(fe.ZERO)},xn.prototype.negate=function(){return new xn(this.curve,this.x,this.y.negate(),this.z)},xn.prototype.add=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;var a=r.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(r.z)).mod(this.curve.q),f=r.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(r.z)).mod(this.curve.q);if(fe.ZERO.equals(f))return fe.ZERO.equals(a)?this.twice():this.curve.getInfinity();var T=new fe("3"),k=this.x.toBigInteger(),te=this.y.toBigInteger(),_e=(r.x.toBigInteger(),r.y.toBigInteger(),f.square()),he=_e.multiply(f),we=k.multiply(_e),Ce=a.square().multiply(this.z),Ee=Ce.subtract(we.shiftLeft(1)).multiply(r.z).subtract(he).multiply(f).mod(this.curve.q),Pe=we.multiply(T).multiply(a).subtract(te.multiply(he)).subtract(Ce.multiply(a)).multiply(r.z).add(a.multiply(he)).mod(this.curve.q),Ve=he.multiply(this.z).multiply(r.z).mod(this.curve.q);return new xn(this.curve,this.curve.fromBigInteger(Ee),this.curve.fromBigInteger(Pe),Ve)},xn.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var r=new fe("3"),a=this.x.toBigInteger(),f=this.y.toBigInteger(),T=f.multiply(this.z),k=T.multiply(f).mod(this.curve.q),te=this.curve.a.toBigInteger(),_e=a.square().multiply(r);fe.ZERO.equals(te)||(_e=_e.add(this.z.square().multiply(te)));var he=(_e=_e.mod(this.curve.q)).square().subtract(a.shiftLeft(3).multiply(k)).shiftLeft(1).multiply(T).mod(this.curve.q),we=_e.multiply(r).multiply(a).subtract(k.shiftLeft(1)).shiftLeft(2).multiply(k).subtract(_e.square().multiply(_e)).mod(this.curve.q),Ce=T.square().multiply(T).shiftLeft(3).mod(this.curve.q);return new xn(this.curve,this.curve.fromBigInteger(he),this.curve.fromBigInteger(we),Ce)},xn.prototype.multiply=function(r){if(this.isInfinity())return this;if(0==r.signum())return this.curve.getInfinity();var a,f=r,T=f.multiply(new fe("3")),k=this.negate(),te=this,_e=this.curve.q.subtract(r),he=_e.multiply(new fe("3")),we=new xn(this.curve,this.x,this.y),Ce=we.negate();for(a=T.bitLength()-2;a>0;--a){te=te.twice();var Ee=T.testBit(a);Ee!=f.testBit(a)&&(te=te.add(Ee?this:k))}for(a=he.bitLength()-2;a>0;--a){we=we.twice();var Pe=he.testBit(a);Pe!=_e.testBit(a)&&(we=we.add(Pe?we:Ce))}return te},xn.prototype.multiplyTwo=function(r,a,f){var T;T=r.bitLength()>f.bitLength()?r.bitLength()-1:f.bitLength()-1;for(var k=this.curve.getInfinity(),te=this.add(a);T>=0;)k=k.twice(),r.testBit(T)?k=f.testBit(T)?k.add(te):k.add(this):f.testBit(T)&&(k=k.add(a)),--T;return k},vi.prototype.getQ=function(){return this.q},vi.prototype.getA=function(){return this.a},vi.prototype.getB=function(){return this.b},vi.prototype.equals=function(r){return r==this||this.q.equals(r.q)&&this.a.equals(r.a)&&this.b.equals(r.b)},vi.prototype.getInfinity=function(){return this.infinity},vi.prototype.fromBigInteger=function(r){return new jn(this.q,r)},vi.prototype.decodePointHex=function(r){switch(parseInt(r.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var a=(r.length-2)/2,f=r.substr(2,a),T=r.substr(a+2,a);return new xn(this,this.fromBigInteger(new fe(f,16)),this.fromBigInteger(new fe(T,16)))}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
             */
jn.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},xn.prototype.getEncoded=function(i){var r=function(te,_e){var he=te.toByteArrayUnsigned();if(_e<he.length)he=he.slice(he.length-_e);else for(;_e>he.length;)he.unshift(0);return he},a=this.getX().toBigInteger(),f=this.getY().toBigInteger(),T=r(a,32);return i?f.isEven()?T.unshift(2):T.unshift(3):(T.unshift(4),T=T.concat(r(f,32))),T},xn.decodeFrom=function(i,r){var a=r.length-1,f=r.slice(1,1+a/2),T=r.slice(1+a/2,1+a);f.unshift(0),T.unshift(0);var k=new fe(f),te=new fe(T);return new xn(i,i.fromBigInteger(k),i.fromBigInteger(te))},xn.decodeFromHex=function(i,r){r.substr(0,2);var a=r.length-2,f=r.substr(2,a/2),T=r.substr(2+a/2,a/2),k=new fe(f,16),te=new fe(T,16);return new xn(i,i.fromBigInteger(k),i.fromBigInteger(te))},xn.prototype.add2D=function(i){if(this.isInfinity())return i;if(i.isInfinity())return this;if(this.x.equals(i.x))return this.y.equals(i.y)?this.twice():this.curve.getInfinity();var r=i.x.subtract(this.x),a=i.y.subtract(this.y).divide(r),f=a.square().subtract(this.x).subtract(i.x),T=a.multiply(this.x.subtract(f)).subtract(this.y);return new xn(this.curve,f,T)},xn.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var i=this.curve.fromBigInteger(fe.valueOf(2)),r=this.curve.fromBigInteger(fe.valueOf(3)),a=this.x.square().multiply(r).add(this.curve.a).divide(this.y.multiply(i)),f=a.square().subtract(this.x.multiply(i)),T=a.multiply(this.x.subtract(f)).subtract(this.y);return new xn(this.curve,f,T)},xn.prototype.multiply2D=function(i){if(this.isInfinity())return this;if(0==i.signum())return this.curve.getInfinity();var r,a=i,f=a.multiply(new fe("3")),T=this.negate(),k=this;for(r=f.bitLength()-2;r>0;--r){k=k.twice();var te=f.testBit(r);te!=a.testBit(r)&&(k=k.add2D(te?this:T))}return k},xn.prototype.isOnCurve=function(){var i=this.getX().toBigInteger(),r=this.getY().toBigInteger(),a=this.curve.getA().toBigInteger(),f=this.curve.getB().toBigInteger(),T=this.curve.getQ(),k=r.multiply(r).mod(T),te=i.multiply(i).multiply(i).add(a.multiply(i)).add(f).mod(T);return k.equals(te)},xn.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},xn.prototype.validate=function(){var i=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var r=this.getX().toBigInteger(),a=this.getY().toBigInteger();if(r.compareTo(fe.ONE)<0||r.compareTo(i.subtract(fe.ONE))>0)throw new Error("x coordinate out of bounds");if(a.compareTo(fe.ONE)<0||a.compareTo(i.subtract(fe.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(i).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ri=function(){var i=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),r=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),a={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function f(te,_e,he){return _e?a[_e]:String.fromCharCode(parseInt(he,16))}var T=new String(""),k=Object.hasOwnProperty;return function(te,_e){var he,we,Ce=te.match(i),Ee=Ce[0],Pe=!1;"{"===Ee?he={}:"["===Ee?he=[]:(he=[],Pe=!0);for(var Ve=[he],ot=1-Pe,ut=Ce.length;ot<ut;++ot){var ft;switch((Ee=Ce[ot]).charCodeAt(0)){default:(ft=Ve[0])[we||ft.length]=+Ee,we=void 0;break;case 34:if(-1!==(Ee=Ee.substring(1,Ee.length-1)).indexOf("\\")&&(Ee=Ee.replace(r,f)),ft=Ve[0],!we){if(!(ft instanceof Array)){we=Ee||T;break}we=ft.length}ft[we]=Ee,we=void 0;break;case 91:Ve.unshift((ft=Ve[0])[we||ft.length]=[]),we=void 0;break;case 93:case 125:Ve.shift();break;case 102:(ft=Ve[0])[we||ft.length]=!1,we=void 0;break;case 110:(ft=Ve[0])[we||ft.length]=null,we=void 0;break;case 116:(ft=Ve[0])[we||ft.length]=!0,we=void 0;break;case 123:Ve.unshift((ft=Ve[0])[we||ft.length]={}),we=void 0}}if(Pe){if(1!==Ve.length)throw new Error;he=he[0]}else if(Ve.length)throw new Error;return _e&&(he=function ae(Re,ke){var je=Re[ke];if(je&&"object"===(void 0===je?"undefined":u(je))){var Q=null;for(var Ie in je)if(k.call(je,Ie)&&je!==Re){var ze=ae(je,Ie);void 0!==ze?je[Ie]=ze:(Q||(Q=[]),Q.push(Ie))}if(Q)for(var Le=Q.length;--Le>=0;)delete je[Q[Le]]}return _e.call(Re,ke,je)}({"":he},"")),he}}();void 0!==ce&&ce||(l.KJUR=ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),ce.asn1.ASN1Util=new function(){this.integerToByteHex=function(i){var r=i.toString(16);return r.length%2==1&&(r="0"+r),r},this.bigIntToMinTwosComplementsHex=function(i){var r=i.toString(16);if("-"!=r.substr(0,1))r.length%2==1?r="0"+r:r.match(/^[0-7]/)||(r="00"+r);else{var a=r.substr(1).length;a%2==1?a+=1:r.match(/^[0-7]/)||(a+=2);for(var f="",T=0;T<a;T++)f+="f";r=new fe(f,16).xor(i).add(fe.ONE).toString(16).replace(/^-/,"")}return r},this.getPEMStringFromHex=function(i,r){return Ke(i,r)},this.newObject=function(i){var r=ce.asn1,a=r.ASN1Object,f=r.DERBoolean,T=r.DERInteger,k=r.DERBitString,te=r.DEROctetString,_e=r.DERNull,he=r.DERObjectIdentifier,we=r.DEREnumerated,Ce=r.DERUTF8String,Ee=r.DERNumericString,Pe=r.DERPrintableString,Ve=r.DERTeletexString,ot=r.DERIA5String,ut=r.DERUTCTime,ft=r.DERGeneralizedTime,ae=r.DERVisibleString,Re=r.DERBMPString,ke=r.DERSequence,je=r.DERSet,Q=r.DERTaggedObject,Ie=r.ASN1Util.newObject;if(i instanceof r.ASN1Object)return i;var ze=Object.keys(i);if(1!=ze.length)throw new Error("key of param shall be only one.");var Le=ze[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Le+":"))throw new Error("undefined key: "+Le);if("bool"==Le)return new f(i[Le]);if("int"==Le)return new T(i[Le]);if("bitstr"==Le)return new k(i[Le]);if("octstr"==Le)return new te(i[Le]);if("null"==Le)return new _e(i[Le]);if("oid"==Le)return new he(i[Le]);if("enum"==Le)return new we(i[Le]);if("utf8str"==Le)return new Ce(i[Le]);if("numstr"==Le)return new Ee(i[Le]);if("prnstr"==Le)return new Pe(i[Le]);if("telstr"==Le)return new Ve(i[Le]);if("ia5str"==Le)return new ot(i[Le]);if("utctime"==Le)return new ut(i[Le]);if("gentime"==Le)return new ft(i[Le]);if("visstr"==Le)return new ae(i[Le]);if("bmpstr"==Le)return new Re(i[Le]);if("asn1"==Le)return new a(i[Le]);if("seq"==Le){for(var Rt=i[Le],yt=[],Zt=0;Zt<Rt.length;Zt++){var Mn=Ie(Rt[Zt]);yt.push(Mn)}return new ke({array:yt})}if("set"==Le){for(Rt=i[Le],yt=[],Zt=0;Zt<Rt.length;Zt++)Mn=Ie(Rt[Zt]),yt.push(Mn);return new je({array:yt})}if("tag"==Le){var Ln=i[Le];if("[object Array]"===Object.prototype.toString.call(Ln)&&3==Ln.length){var Vn=Ie(Ln[2]);return new Q({tag:Ln[0],explicit:Ln[1],obj:Vn})}return new Q(Ln)}},this.jsonToASN1HEX=function(i){return this.newObject(i).getEncodedHex()}},ce.asn1.ASN1Util.oidHexToInt=function(i){for(var r="",a=parseInt(i.substr(0,2),16),f=(r=Math.floor(a/40)+"."+a%40,""),T=2;T<i.length;T+=2){var k=("00000000"+parseInt(i.substr(T,2),16).toString(2)).slice(-8);f+=k.substr(1,7),"0"==k.substr(0,1)&&(r=r+"."+new fe(f,2).toString(10),f="")}return r},ce.asn1.ASN1Util.oidIntToHex=function(i){var r=function(he){var we=he.toString(16);return 1==we.length&&(we="0"+we),we},a=function(he){var we="",Ce=new fe(he,10).toString(2),Ee=7-Ce.length%7;7==Ee&&(Ee=0);for(var Pe="",Ve=0;Ve<Ee;Ve++)Pe+="0";for(Ce=Pe+Ce,Ve=0;Ve<Ce.length-1;Ve+=7){var ot=Ce.substr(Ve,7);Ve!=Ce.length-7&&(ot="1"+ot),we+=r(parseInt(ot,2))}return we};if(!i.match(/^[0-9.]+$/))throw"malformed oid string: "+i;var f="",T=i.split("."),k=40*parseInt(T[0])+parseInt(T[1]);f+=r(k),T.splice(0,2);for(var te=0;te<T.length;te++)f+=a(T[te]);return f},ce.asn1.ASN1Object=function(i){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var r=this.hV.length/2,a=r.toString(16);if(a.length%2==1&&(a="0"+a),r<128)return a;var f=a.length/2;if(f>15)throw"ASN.1 length too long to represent by 8x: n = "+r.toString(16);return(128+f).toString(16)+a},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(r){this.params=r},null!=i&&null!=i.tlv&&(this.hTLV=i.tlv,this.isModified=!1)},ce.asn1.DERAbstractString=function(i){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(r){this.hTLV=null,this.isModified=!0,this.s=r,this.hV=ct(this.s).toLowerCase()},this.setStringHex=function(r){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.getFreshValueHex=function(){return this.hV},void 0!==i&&("string"==typeof i?this.setString(i):void 0!==i.str?this.setString(i.str):void 0!==i.hex&&this.setStringHex(i.hex))},h.lang.extend(ce.asn1.DERAbstractString,ce.asn1.ASN1Object),ce.asn1.DERAbstractTime=function(i){ce.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(r){var a=r.getTime()+6e4*r.getTimezoneOffset();return new Date(a)},this.formatDate=function(r,a,f){var T=this.zeroPadding,k=this.localDateToUTC(r),te=String(k.getFullYear());"utc"==a&&(te=te.substr(2,2));var _e=te+T(String(k.getMonth()+1),2)+T(String(k.getDate()),2)+T(String(k.getHours()),2)+T(String(k.getMinutes()),2)+T(String(k.getSeconds()),2);if(!0===f){var he=k.getMilliseconds();if(0!=he){var we=T(String(he),3);_e=_e+"."+(we=we.replace(/[0]+$/,""))}}return _e+"Z"},this.zeroPadding=function(r,a){return r.length>=a?r:new Array(a-r.length+1).join("0")+r},this.getString=function(){return this.s},this.setString=function(r){this.hTLV=null,this.isModified=!0,this.s=r,this.hV=Ht(r)},this.setByDateValue=function(r,a,f,T,k,te){var _e=new Date(Date.UTC(r,a-1,f,T,k,te,0));this.setByDate(_e)},this.getFreshValueHex=function(){return this.hV}},h.lang.extend(ce.asn1.DERAbstractTime,ce.asn1.ASN1Object),ce.asn1.DERAbstractStructured=function(i){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(r){this.hTLV=null,this.isModified=!0,this.asn1Array=r},this.appendASN1Object=function(r){this.hTLV=null,this.isModified=!0,this.asn1Array.push(r)},this.asn1Array=new Array,void 0!==i&&void 0!==i.array&&(this.asn1Array=i.array)},h.lang.extend(ce.asn1.DERAbstractStructured,ce.asn1.ASN1Object),ce.asn1.DERBoolean=function(i){ce.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==i?"010100":"0101ff"},h.lang.extend(ce.asn1.DERBoolean,ce.asn1.ASN1Object),ce.asn1.DERInteger=function(i){ce.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(r){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(r)},this.setByInteger=function(r){var a=new fe(String(r),10);this.setByBigInteger(a)},this.setValueHex=function(r){this.hV=r},this.getFreshValueHex=function(){return this.hV},void 0!==i&&(void 0!==i.bigint?this.setByBigInteger(i.bigint):void 0!==i.int?this.setByInteger(i.int):"number"==typeof i?this.setByInteger(i):void 0!==i.hex&&this.setValueHex(i.hex))},h.lang.extend(ce.asn1.DERInteger,ce.asn1.ASN1Object),ce.asn1.DERBitString=function(i){if(void 0!==i&&void 0!==i.obj){var r=ce.asn1.ASN1Util.newObject(i.obj);i.hex="00"+r.getEncodedHex()}ce.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(a){this.hTLV=null,this.isModified=!0,this.hV=a},this.setUnusedBitsAndHexValue=function(a,f){if(a<0||7<a)throw"unused bits shall be from 0 to 7: u = "+a;var T="0"+a;this.hTLV=null,this.isModified=!0,this.hV=T+f},this.setByBinaryString=function(a){var f=8-(a=a.replace(/0+$/,"")).length%8;8==f&&(f=0);for(var T=0;T<=f;T++)a+="0";var k="";for(T=0;T<a.length-1;T+=8){var te=a.substr(T,8),_e=parseInt(te,2).toString(16);1==_e.length&&(_e="0"+_e),k+=_e}this.hTLV=null,this.isModified=!0,this.hV="0"+f+k},this.setByBooleanArray=function(a){for(var f="",T=0;T<a.length;T++)f+=1==a[T]?"1":"0";this.setByBinaryString(f)},this.newFalseArray=function(a){for(var f=new Array(a),T=0;T<a;T++)f[T]=!1;return f},this.getFreshValueHex=function(){return this.hV},void 0!==i&&("string"==typeof i&&i.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(i):void 0!==i.hex?this.setHexValueIncludingUnusedBits(i.hex):void 0!==i.bin?this.setByBinaryString(i.bin):void 0!==i.array&&this.setByBooleanArray(i.array))},h.lang.extend(ce.asn1.DERBitString,ce.asn1.ASN1Object),ce.asn1.DEROctetString=function(i){if(void 0!==i&&void 0!==i.obj){var r=ce.asn1.ASN1Util.newObject(i.obj);i.hex=r.getEncodedHex()}ce.asn1.DEROctetString.superclass.constructor.call(this,i),this.hT="04"},h.lang.extend(ce.asn1.DEROctetString,ce.asn1.DERAbstractString),ce.asn1.DERNull=function(){ce.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},h.lang.extend(ce.asn1.DERNull,ce.asn1.ASN1Object),ce.asn1.DERObjectIdentifier=function(i){ce.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(r){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueOidString=function(r){var a=function(T){var k=function(Pe){var Ve=Pe.toString(16);return 1==Ve.length&&(Ve="0"+Ve),Ve},te=function(Pe){var Ve="",ot=parseInt(Pe,10).toString(2),ut=7-ot.length%7;7==ut&&(ut=0);for(var ft="",ae=0;ae<ut;ae++)ft+="0";for(ot=ft+ot,ae=0;ae<ot.length-1;ae+=7){var Re=ot.substr(ae,7);ae!=ot.length-7&&(Re="1"+Re),Ve+=k(parseInt(Re,2))}return Ve};try{if(!T.match(/^[0-9.]+$/))return null;var _e="",he=T.split("."),we=40*parseInt(he[0],10)+parseInt(he[1],10);_e+=k(we),he.splice(0,2);for(var Ce=0;Ce<he.length;Ce++)_e+=te(he[Ce]);return _e}catch{return null}}(r);if(null==a)throw new Error("malformed oid string: "+r);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=a},this.setValueName=function(r){var a=ce.asn1.x509.OID.name2oid(r);if(""===a)throw new Error("DERObjectIdentifier oidName undefined: "+r);this.setValueOidString(a)},this.setValueNameOrOid=function(r){r.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(r):this.setValueName(r)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(r){"string"==typeof r?this.setValueNameOrOid(r):void 0!==r.oid?this.setValueNameOrOid(r.oid):void 0!==r.name?this.setValueNameOrOid(r.name):void 0!==r.hex&&this.setValueHex(r.hex)},void 0!==i&&this.setByParam(i)},h.lang.extend(ce.asn1.DERObjectIdentifier,ce.asn1.ASN1Object),ce.asn1.DEREnumerated=function(i){ce.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(r){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(r)},this.setByInteger=function(r){var a=new fe(String(r),10);this.setByBigInteger(a)},this.setValueHex=function(r){this.hV=r},this.getFreshValueHex=function(){return this.hV},void 0!==i&&(void 0!==i.int?this.setByInteger(i.int):"number"==typeof i?this.setByInteger(i):void 0!==i.hex&&this.setValueHex(i.hex))},h.lang.extend(ce.asn1.DEREnumerated,ce.asn1.ASN1Object),ce.asn1.DERUTF8String=function(i){ce.asn1.DERUTF8String.superclass.constructor.call(this,i),this.hT="0c"},h.lang.extend(ce.asn1.DERUTF8String,ce.asn1.DERAbstractString),ce.asn1.DERNumericString=function(i){ce.asn1.DERNumericString.superclass.constructor.call(this,i),this.hT="12"},h.lang.extend(ce.asn1.DERNumericString,ce.asn1.DERAbstractString),ce.asn1.DERPrintableString=function(i){ce.asn1.DERPrintableString.superclass.constructor.call(this,i),this.hT="13"},h.lang.extend(ce.asn1.DERPrintableString,ce.asn1.DERAbstractString),ce.asn1.DERTeletexString=function(i){ce.asn1.DERTeletexString.superclass.constructor.call(this,i),this.hT="14"},h.lang.extend(ce.asn1.DERTeletexString,ce.asn1.DERAbstractString),ce.asn1.DERIA5String=function(i){ce.asn1.DERIA5String.superclass.constructor.call(this,i),this.hT="16"},h.lang.extend(ce.asn1.DERIA5String,ce.asn1.DERAbstractString),ce.asn1.DERVisibleString=function(i){ce.asn1.DERIA5String.superclass.constructor.call(this,i),this.hT="1a"},h.lang.extend(ce.asn1.DERVisibleString,ce.asn1.DERAbstractString),ce.asn1.DERBMPString=function(i){ce.asn1.DERBMPString.superclass.constructor.call(this,i),this.hT="1e"},h.lang.extend(ce.asn1.DERBMPString,ce.asn1.DERAbstractString),ce.asn1.DERUTCTime=function(i){ce.asn1.DERUTCTime.superclass.constructor.call(this,i),this.hT="17",this.setByDate=function(r){this.hTLV=null,this.isModified=!0,this.date=r,this.s=this.formatDate(this.date,"utc"),this.hV=Ht(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Ht(this.s)),this.hV},void 0!==i&&(void 0!==i.str?this.setString(i.str):"string"==typeof i&&i.match(/^[0-9]{12}Z$/)?this.setString(i):void 0!==i.hex?this.setStringHex(i.hex):void 0!==i.date&&this.setByDate(i.date))},h.lang.extend(ce.asn1.DERUTCTime,ce.asn1.DERAbstractTime),ce.asn1.DERGeneralizedTime=function(i){ce.asn1.DERGeneralizedTime.superclass.constructor.call(this,i),this.hT="18",this.withMillis=!1,this.setByDate=function(r){this.hTLV=null,this.isModified=!0,this.date=r,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ht(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ht(this.s)),this.hV},void 0!==i&&(void 0!==i.str?this.setString(i.str):"string"==typeof i&&i.match(/^[0-9]{14}Z$/)?this.setString(i):void 0!==i.hex?this.setStringHex(i.hex):void 0!==i.date&&this.setByDate(i.date),!0===i.millis&&(this.withMillis=!0))},h.lang.extend(ce.asn1.DERGeneralizedTime,ce.asn1.DERAbstractTime),ce.asn1.DERSequence=function(i){ce.asn1.DERSequence.superclass.constructor.call(this,i),this.hT="30",this.getFreshValueHex=function(){for(var r="",a=0;a<this.asn1Array.length;a++)r+=this.asn1Array[a].getEncodedHex();return this.hV=r,this.hV}},h.lang.extend(ce.asn1.DERSequence,ce.asn1.DERAbstractStructured),ce.asn1.DERSet=function(i){ce.asn1.DERSet.superclass.constructor.call(this,i),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var r=new Array,a=0;a<this.asn1Array.length;a++)r.push(this.asn1Array[a].getEncodedHex());return 1==this.sortFlag&&r.sort(),this.hV=r.join(""),this.hV},void 0!==i&&void 0!==i.sortflag&&0==i.sortflag&&(this.sortFlag=!1)},h.lang.extend(ce.asn1.DERSet,ce.asn1.DERAbstractStructured),ce.asn1.DERTaggedObject=function(i){ce.asn1.DERTaggedObject.superclass.constructor.call(this);var r=ce.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(a,f,T){this.hT=f,this.isExplicit=a,this.asn1Object=T,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=T.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,f),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(a){null!=a.tag&&(this.hT=a.tag),null!=a.explicit&&(this.isExplicit=a.explicit),null!=a.tage&&(this.hT=a.tage,this.isExplicit=!0),null!=a.tagi&&(this.hT=a.tagi,this.isExplicit=!1),null!=a.obj&&(a.obj instanceof r.ASN1Object?(this.asn1Object=a.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==u(a.obj)&&(this.asn1Object=r.ASN1Util.newObject(a.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=i&&this.setByParam(i)},h.lang.extend(ce.asn1.DERTaggedObject,ce.asn1.ASN1Object);var ce,Mi,Ii,qt=new function(){};function Tr(i){for(var r=new Array,a=0;a<i.length;a++)r[a]=i.charCodeAt(a);return r}function Xi(i){for(var r="",a=0;a<i.length;a++)r+=String.fromCharCode(i[a]);return r}function er(i){for(var r="",a=0;a<i.length;a++){var f=i[a].toString(16);1==f.length&&(f="0"+f),r+=f}return r}function Ht(i){return er(Tr(i))}function It(i){return(i=(i=i.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Y(i){return i.length%4==2?i+="==":i.length%4==3&&(i+="="),(i=i.replace(/-/g,"+")).replace(/_/g,"/")}function pe(i){return i.length%2==1&&(i="0"+i),It(Ae(i))}function et(i){return Me(Y(i))}function ct(i){return _t(Ci(i))}function at(i){return decodeURIComponent(kt(i))}function lt(i){for(var r="",a=0;a<i.length-1;a+=2)r+=String.fromCharCode(parseInt(i.substr(a,2),16));return r}function Ut(i){for(var r="",a=0;a<i.length;a++)r+=("0"+i.charCodeAt(a).toString(16)).slice(-2);return r}function pn(i){return Ae(i)}function vn(i){return pn(i).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Jt(i){return Me(i.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Ke(i,r){return"-----BEGIN "+r+"-----\r\n"+vn(i)+"\r\n-----END "+r+"-----\r\n"}function Bt(i,r){if(-1==i.indexOf("-----BEGIN "))throw"can't find PEM header: "+r;return Jt(i=void 0!==r?(i=i.replace(new RegExp("^[^]*-----BEGIN "+r+"-----"),"")).replace(new RegExp("-----END "+r+"-----[^]*$"),""):(i=i.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function ge(i){var r,a,f,T,k,te,_e,he,we,Ce,Ee;if(Ee=i.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return he=Ee[1],r=parseInt(he),2===he.length&&(50<=r&&r<100?r=1900+r:0<=r&&r<50&&(r=2e3+r)),a=parseInt(Ee[2])-1,f=parseInt(Ee[3]),T=parseInt(Ee[4]),k=parseInt(Ee[5]),te=parseInt(Ee[6]),_e=0,""!==(we=Ee[7])&&(Ce=(we.substr(1)+"00").substr(0,3),_e=parseInt(Ce)),Date.UTC(r,a,f,T,k,te,_e);throw"unsupported zulu format: "+i}function $e(i){return~~(ge(i)/1e3)}function _t(i){return i.replace(/%/g,"")}function kt(i){return i.replace(/(..)/g,"%$1")}function Qt(i){var r="malformed IPv6 address";if(!i.match(/^[0-9A-Fa-f:]+$/))throw r;var a=(i=i.toLowerCase()).split(":").length-1;if(a<2)throw r;var f=":".repeat(7-a+2),T=(i=i.replace("::",f)).split(":");if(8!=T.length)throw r;for(var k=0;k<8;k++)T[k]=("0000"+T[k]).slice(-4);return T.join("")}function Rn(i){if(!i.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var r=(i=i.toLowerCase()).match(/.{1,4}/g),a=0;a<8;a++)r[a]=r[a].replace(/^0+/,""),""==r[a]&&(r[a]="0");var f=(i=":"+r.join(":")+":").match(/:(0:){2,}/g);if(null===f)return i.slice(1,-1);var T="";for(a=0;a<f.length;a++)f[a].length>T.length&&(T=f[a]);return(i=i.replace(T,"::")).slice(1,-1)}function ui(i){var r="malformed hex value";if(!i.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw r;if(8!=i.length)return 32==i.length?Rn(i):i;try{return parseInt(i.substr(0,2),16)+"."+parseInt(i.substr(2,2),16)+"."+parseInt(i.substr(4,2),16)+"."+parseInt(i.substr(6,2),16)}catch{throw r}}function Ci(i){for(var r=encodeURIComponent(i),a="",f=0;f<r.length;f++)"%"==r[f]?(a+=r.substr(f,3),f+=2):a=a+"%"+Ht(r[f]);return a}function tr(i){return!(i.length%2!=0||!i.match(/^[0-9a-f]+$/)&&!i.match(/^[0-9A-F]+$/))}function rr(i){return i.length%2==1?"0"+i:i.substr(0,1)>"7"?"00"+i:i}qt.getLblen=function(i,r){if("8"!=i.substr(r+2,1))return 1;var a=parseInt(i.substr(r+3,1));return 0==a?-1:0<a&&a<10?a+1:-2},qt.getL=function(i,r){var a=qt.getLblen(i,r);return a<1?"":i.substr(r+2,2*a)},qt.getVblen=function(i,r){var a;return""==(a=qt.getL(i,r))?-1:("8"===a.substr(0,1)?new fe(a.substr(2),16):new fe(a,16)).intValue()},qt.getVidx=function(i,r){var a=qt.getLblen(i,r);return a<0?a:r+2*(a+1)},qt.getV=function(i,r){var a=qt.getVidx(i,r),f=qt.getVblen(i,r);return i.substr(a,2*f)},qt.getTLV=function(i,r){return i.substr(r,2)+qt.getL(i,r)+qt.getV(i,r)},qt.getTLVblen=function(i,r){return 2+2*qt.getLblen(i,r)+2*qt.getVblen(i,r)},qt.getNextSiblingIdx=function(i,r){return qt.getVidx(i,r)+2*qt.getVblen(i,r)},qt.getChildIdx=function(i,r){var a,f,T,k=qt,te=[];a=k.getVidx(i,r),f=2*k.getVblen(i,r),"03"==i.substr(r,2)&&(a+=2,f-=2),T=0;for(var _e=a;T<=f;){var he=k.getTLVblen(i,_e);if((T+=he)<=f&&te.push(_e),_e+=he,T>=f)break}return te},qt.getNthChildIdx=function(i,r,a){return qt.getChildIdx(i,r)[a]},qt.getIdxbyList=function(i,r,a,f){var T,k,te=qt;return 0==a.length?void 0!==f&&i.substr(r,2)!==f?-1:r:(T=a.shift())>=(k=te.getChildIdx(i,r)).length?-1:te.getIdxbyList(i,k[T],a,f)},qt.getIdxbyListEx=function(i,r,a,f){var T,k,te=qt;if(0==a.length)return void 0!==f&&i.substr(r,2)!==f?-1:r;T=a.shift(),k=te.getChildIdx(i,r);for(var _e=0,he=0;he<k.length;he++){var we=i.substr(k[he],2);if("number"==typeof T&&!te.isContextTag(we)&&_e==T||"string"==typeof T&&te.isContextTag(we,T))return te.getIdxbyListEx(i,k[he],a,f);te.isContextTag(we)||_e++}return-1},qt.getTLVbyList=function(i,r,a,f){var T=qt,k=T.getIdxbyList(i,r,a,f);return-1==k||k>=i.length?null:T.getTLV(i,k)},qt.getTLVbyListEx=function(i,r,a,f){var T=qt,k=T.getIdxbyListEx(i,r,a,f);return-1==k?null:T.getTLV(i,k)},qt.getVbyList=function(i,r,a,f,T){var k,te,_e=qt;return-1==(k=_e.getIdxbyList(i,r,a,f))||k>=i.length?null:(te=_e.getV(i,k),!0===T&&(te=te.substr(2)),te)},qt.getVbyListEx=function(i,r,a,f,T){var k,te,_e=qt;return-1==(k=_e.getIdxbyListEx(i,r,a,f))?null:(te=_e.getV(i,k),"03"==i.substr(k,2)&&!1!==T&&(te=te.substr(2)),te)},qt.getInt=function(i,r,a){null==a&&(a=-1);try{var f=i.substr(r,2);if("02"!=f&&"03"!=f)return a;var T=qt.getV(i,r);return"02"==f?parseInt(T,16):function(te){try{var _e=te.substr(0,2);if("00"==_e)return parseInt(te.substr(2),16);var he=parseInt(_e,16),we=te.substr(2),Ce=parseInt(we,16).toString(2);return"0"==Ce&&(Ce="00000000"),Ce=Ce.slice(0,0-he),parseInt(Ce,2)}catch{return-1}}(T)}catch{return a}},qt.getOID=function(i,r,a){null==a&&(a=null);try{return"06"!=i.substr(r,2)?a:function(T){if(!tr(T))return null;try{var k=[],te=T.substr(0,2),_e=parseInt(te,16);k[0]=new String(Math.floor(_e/40)),k[1]=new String(_e%40);for(var he=T.substr(2),we=[],Ce=0;Ce<he.length/2;Ce++)we.push(parseInt(he.substr(2*Ce,2),16));var Ee=[],Pe="";for(Ce=0;Ce<we.length;Ce++)128&we[Ce]?Pe+=Zi((127&we[Ce]).toString(2),7):(Pe+=Zi((127&we[Ce]).toString(2),7),Ee.push(new String(parseInt(Pe,2))),Pe="");var Ve=k.join(".");return Ee.length>0&&(Ve=Ve+"."+Ee.join(".")),Ve}catch{return null}}(qt.getV(i,r))}catch{return a}},qt.getOIDName=function(i,r,a){null==a&&(a=null);try{var f=qt.getOID(i,r,a);if(f==a)return a;var T=ce.asn1.x509.OID.oid2name(f);return""==T?f:T}catch{return a}},qt.getString=function(i,r,a){null==a&&(a=null);try{return lt(qt.getV(i,r))}catch{return a}},qt.hextooidstr=function(i){var r=function(Pe,Ve){return Pe.length>=Ve?Pe:new Array(Ve-Pe.length+1).join("0")+Pe},a=[],f=i.substr(0,2),T=parseInt(f,16);a[0]=new String(Math.floor(T/40)),a[1]=new String(T%40);for(var k=i.substr(2),te=[],_e=0;_e<k.length/2;_e++)te.push(parseInt(k.substr(2*_e,2),16));var he=[],we="";for(_e=0;_e<te.length;_e++)128&te[_e]?we+=r((127&te[_e]).toString(2),7):(we+=r((127&te[_e]).toString(2),7),he.push(new String(parseInt(we,2))),we="");var Ce=a.join(".");return he.length>0&&(Ce=Ce+"."+he.join(".")),Ce},qt.dump=function(i,r,a,f){var T=qt,k=T.getV,te=T.dump,_e=T.getChildIdx,he=i;i instanceof ce.asn1.ASN1Object&&(he=i.getEncodedHex());var we=function(Le,Rt){return Le.length<=2*Rt?Le:Le.substr(0,Rt)+"..(total "+Le.length/2+"bytes).."+Le.substr(Le.length-Rt,Rt)};void 0===r&&(r={ommit_long_octet:32}),void 0===a&&(a=0),void 0===f&&(f="");var Ce,Ee=r.ommit_long_octet;if("01"==(Ce=he.substr(a,2)))return"00"==(Pe=k(he,a))?f+"BOOLEAN FALSE\n":f+"BOOLEAN TRUE\n";if("02"==Ce)return f+"INTEGER "+we(Pe=k(he,a),Ee)+"\n";if("03"==Ce){var Pe=k(he,a);return T.isASN1HEX(Pe.substr(2))?(Ve=f+"BITSTRING, encapsulates\n")+te(Pe.substr(2),r,0,f+"  "):f+"BITSTRING "+we(Pe,Ee)+"\n"}if("04"==Ce)return Pe=k(he,a),T.isASN1HEX(Pe)?(Ve=f+"OCTETSTRING, encapsulates\n",Ve+=te(Pe,r,0,f+"  ")):f+"OCTETSTRING "+we(Pe,Ee)+"\n";if("05"==Ce)return f+"NULL\n";if("06"==Ce){var ot=k(he,a),ut=ce.asn1.ASN1Util.oidHexToInt(ot),ft=ce.asn1.x509.OID.oid2name(ut),ae=ut.replace(/\./g," ");return""!=ft?f+"ObjectIdentifier "+ft+" ("+ae+")\n":f+"ObjectIdentifier ("+ae+")\n"}if("0a"==Ce)return f+"ENUMERATED "+parseInt(k(he,a))+"\n";if("0c"==Ce)return f+"UTF8String '"+at(k(he,a))+"'\n";if("13"==Ce)return f+"PrintableString '"+at(k(he,a))+"'\n";if("14"==Ce)return f+"TeletexString '"+at(k(he,a))+"'\n";if("16"==Ce)return f+"IA5String '"+at(k(he,a))+"'\n";if("17"==Ce)return f+"UTCTime "+at(k(he,a))+"\n";if("18"==Ce)return f+"GeneralizedTime "+at(k(he,a))+"\n";if("1a"==Ce)return f+"VisualString '"+at(k(he,a))+"'\n";if("1e"==Ce)return f+"BMPString '"+at(k(he,a))+"'\n";if("30"==Ce){if("3000"==he.substr(a,4))return f+"SEQUENCE {}\n";Ve=f+"SEQUENCE\n";var Re=r;if((2==(Q=_e(he,a)).length||3==Q.length)&&"06"==he.substr(Q[0],2)&&"04"==he.substr(Q[Q.length-1],2)){ft=T.oidname(k(he,Q[0]));var ke=JSON.parse(JSON.stringify(r));ke.x509ExtName=ft,Re=ke}for(var je=0;je<Q.length;je++)Ve+=te(he,Re,Q[je],f+"  ");return Ve}if("31"==Ce){Ve=f+"SET\n";var Q=_e(he,a);for(je=0;je<Q.length;je++)Ve+=te(he,r,Q[je],f+"  ");return Ve}if(128&(Ce=parseInt(Ce,16))){var Ve,Ie=31&Ce;if(32&Ce){for(Ve=f+"["+Ie+"]\n",Q=_e(he,a),je=0;je<Q.length;je++)Ve+=te(he,r,Q[je],f+"  ");return Ve}return Pe=k(he,a),qt.isASN1HEX(Pe)?(Ve=f+"["+Ie+"]\n")+te(Pe,r,0,f+"  "):(("68747470"==Pe.substr(0,8)||"subjectAltName"===r.x509ExtName&&2==Ie)&&(Pe=at(Pe)),f+"["+Ie+"] "+Pe+"\n")}return f+"UNKNOWN("+Ce+") "+k(he,a)+"\n"},qt.isContextTag=function(i,r){var a,f;i=i.toLowerCase();try{a=parseInt(i,16)}catch{return-1}if(void 0===r)return 128==(192&a);try{return null!=r.match(/^\[[0-9]+\]$/)&&!((f=parseInt(r.substr(1,r.length-1),10))>31)&&128==(192&a)&&(31&a)==f}catch{return!1}},qt.isASN1HEX=function(i){var r=qt;if(i.length%2==1)return!1;var a=r.getVblen(i,0),f=i.substr(0,2),T=r.getL(i,0);return i.length-f.length-T.length==2*a},qt.checkStrictDER=function(i,r,a,f,T){var k=qt;if(void 0===a){if("string"!=typeof i)throw new Error("not hex string");if(i=i.toLowerCase(),!ce.lang.String.isHex(i))throw new Error("not hex string");a=i.length,T=(f=i.length/2)<128?1:Math.ceil(f.toString(16))+1}if(k.getL(i,r).length>2*T)throw new Error("L of TLV too long: idx="+r);var te=k.getVblen(i,r);if(te>f)throw new Error("value of L too long than hex: idx="+r);var _e=k.getTLV(i,r),he=_e.length-2-k.getL(i,r).length;if(he!==2*te)throw new Error("V string length and L's value not the same:"+he+"/"+2*te);if(0===r&&i.length!=_e.length)throw new Error("total length and TLV length unmatch:"+i.length+"!="+_e.length);var we=i.substr(r,2);if("02"===we){var Ce=k.getVidx(i,r);if("00"==i.substr(Ce,2)&&i.charCodeAt(Ce+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(we,16)){for(var Ee=k.getVblen(i,r),Pe=0,Ve=k.getChildIdx(i,r),ot=0;ot<Ve.length;ot++)Pe+=k.getTLV(i,Ve[ot]).length,k.checkStrictDER(i,Ve[ot],a,f,T);if(2*Ee!=Pe)throw new Error("sum of children's TLV length and L unmatch: "+2*Ee+"!="+Pe)}},qt.oidname=function(i){var r=ce.asn1;ce.lang.String.isHex(i)&&(i=r.ASN1Util.oidHexToInt(i));var a=r.x509.OID.oid2name(i);return""===a&&(a=i),a},void 0!==ce&&ce||(l.KJUR=ce={}),void 0!==ce.lang&&ce.lang||(ce.lang={}),ce.lang.String=function(){},"function"==typeof S?(l.utf8tob64u=Mi=function(r){return It(S.from(r,"utf8").toString("base64"))},l.b64utoutf8=Ii=function(r){return S.from(Y(r),"base64").toString("utf8")}):(l.utf8tob64u=Mi=function(r){return pe(_t(Ci(r)))},l.b64utoutf8=Ii=function(r){return decodeURIComponent(kt(et(r)))}),ce.lang.String.isInteger=function(i){return!!i.match(/^[0-9]+$/)||!!i.match(/^-[0-9]+$/)},ce.lang.String.isHex=function(i){return tr(i)},ce.lang.String.isBase64=function(i){return!(!(i=i.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||i.length%4!=0)},ce.lang.String.isBase64URL=function(i){return!i.match(/[+/=]/)&&(i=Y(i),ce.lang.String.isBase64(i))},ce.lang.String.isIntegerArray=function(i){return!!(i=i.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ce.lang.String.isPrintable=function(i){return null!==i.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ce.lang.String.isIA5=function(i){return null!==i.match(/^[\x20-\x21\x23-\x7f]*$/)},ce.lang.String.isMail=function(i){return null!==i.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Zi=function(r,a,f){return null==f&&(f="0"),r.length>=a?r:new Array(a-r.length+1).join(f)+r};void 0!==ce&&ce||(l.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:be.algo.MD5,sha1:be.algo.SHA1,sha224:be.algo.SHA224,sha256:be.algo.SHA256,sha384:be.algo.SHA384,sha512:be.algo.SHA512,ripemd160:be.algo.RIPEMD160},this.getDigestInfoHex=function(i,r){if(void 0===this.DIGESTINFOHEAD[r])throw"alg not supported in Util.DIGESTINFOHEAD: "+r;return this.DIGESTINFOHEAD[r]+i},this.getPaddedDigestInfoHex=function(i,r,a){var f=this.getDigestInfoHex(i,r),T=a/4;if(f.length+22>T)throw"key is too short for SigAlg: keylen="+a+","+r;for(var k="0001",te="00"+f,_e="",he=T-4-te.length,we=0;we<he;we+=2)_e+="ff";return k+_e+te},this.hashString=function(i,r){return new ce.crypto.MessageDigest({alg:r}).digestString(i)},this.hashHex=function(i,r){return new ce.crypto.MessageDigest({alg:r}).digestHex(i)},this.sha1=function(i){return this.hashString(i,"sha1")},this.sha256=function(i){return this.hashString(i,"sha256")},this.sha256Hex=function(i){return this.hashHex(i,"sha256")},this.sha512=function(i){return this.hashString(i,"sha512")},this.sha512Hex=function(i){return this.hashHex(i,"sha512")},this.isKey=function(i){return i instanceof on||i instanceof ce.crypto.DSA||i instanceof ce.crypto.ECDSA}},ce.crypto.Util.md5=function(i){return new ce.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(i)},ce.crypto.Util.ripemd160=function(i){return new ce.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(i)},ce.crypto.Util.SECURERANDOMGEN=new Pn,ce.crypto.Util.getRandomHexOfNbytes=function(i){var r=new Array(i);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(r),er(r)},ce.crypto.Util.getRandomBigIntegerOfNbytes=function(i){return new fe(ce.crypto.Util.getRandomHexOfNbytes(i),16)},ce.crypto.Util.getRandomHexOfNbits=function(i){var r=i%8,a=new Array((i-r)/8+1);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(a),a[0]=(255<<r&255^255)&a[0],er(a)},ce.crypto.Util.getRandomBigIntegerOfNbits=function(i){return new fe(ce.crypto.Util.getRandomHexOfNbits(i),16)},ce.crypto.Util.getRandomBigIntegerZeroToMax=function(i){for(var r=i.bitLength();;){var a=ce.crypto.Util.getRandomBigIntegerOfNbits(r);if(-1!=i.compareTo(a))return a}},ce.crypto.Util.getRandomBigIntegerMinToMax=function(i,r){var a=i.compareTo(r);if(1==a)throw"biMin is greater than biMax";if(0==a)return i;var f=r.subtract(i);return ce.crypto.Util.getRandomBigIntegerZeroToMax(f).add(i)},ce.crypto.MessageDigest=function(i){this.setAlgAndProvider=function(r,a){if(null!==(r=ce.crypto.MessageDigest.getCanonicalAlgName(r))&&void 0===a&&(a=ce.crypto.Util.DEFAULTPROVIDER[r]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==a){try{this.md=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r].create()}catch(f){throw"setAlgAndProvider hash alg set fail alg="+r+"/"+f}this.updateString=function(f){this.md.update(f)},this.updateHex=function(f){var T=be.enc.Hex.parse(f);this.md.update(T)},this.digest=function(){return this.md.finalize().toString(be.enc.Hex)},this.digestString=function(f){return this.updateString(f),this.digest()},this.digestHex=function(f){return this.updateHex(f),this.digest()}}if(-1!=":sha256:".indexOf(r)&&"sjcl"==a){try{this.md=new sjcl.hash.sha256}catch(f){throw"setAlgAndProvider hash alg set fail alg="+r+"/"+f}this.updateString=function(f){this.md.update(f)},this.updateHex=function(f){var T=sjcl.codec.hex.toBits(f);this.md.update(T)},this.digest=function(){var f=this.md.finalize();return sjcl.codec.hex.fromBits(f)},this.digestString=function(f){return this.updateString(f),this.digest()},this.digestHex=function(f){return this.updateHex(f),this.digest()}}},this.updateString=function(r){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(r){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(r){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(r){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==i&&void 0!==i.alg&&(this.algName=i.alg,void 0===i.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ce.crypto.MessageDigest.getCanonicalAlgName=function(i){return"string"==typeof i&&(i=(i=i.toLowerCase()).replace(/-/,"")),i},ce.crypto.MessageDigest.getHashLength=function(i){var r=ce.crypto.MessageDigest,a=r.getCanonicalAlgName(i);if(void 0===r.HASHLENGTH[a])throw"not supported algorithm: "+i;return r.HASHLENGTH[a]},ce.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ce.crypto.Mac=function(i){this.setAlgAndProvider=function(r,a){if(null==(r=r.toLowerCase())&&(r="hmacsha1"),"hmac"!=(r=r.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+r;void 0===a&&(a=ce.crypto.Util.DEFAULTPROVIDER[r]),this.algProv=r+"/"+a;var f=r.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(f)&&"cryptojs"==a){try{this.mac=be.algo.HMAC.create(ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[f],this.pass)}catch(k){throw"setAlgAndProvider hash alg set fail hashAlg="+f+"/"+k}this.updateString=function(k){this.mac.update(k)},this.updateHex=function(k){var te=be.enc.Hex.parse(k);this.mac.update(te)},this.doFinal=function(){return this.mac.finalize().toString(be.enc.Hex)},this.doFinalString=function(k){return this.updateString(k),this.doFinal()},this.doFinalHex=function(k){return this.updateHex(k),this.doFinal()}}},this.updateString=function(r){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(r){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(r){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(r){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(r){if("string"==typeof r){var a=r;return r.length%2!=1&&r.match(/^[0-9A-Fa-f]+$/)||(a=Ut(r)),void(this.pass=be.enc.Hex.parse(a))}if("object"!=(void 0===r?"undefined":u(r)))throw"KJUR.crypto.Mac unsupported password type: "+r;if(a=null,void 0!==r.hex){if(r.hex.length%2!=0||!r.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+r.hex;a=r.hex}if(void 0!==r.utf8&&(a=ct(r.utf8)),void 0!==r.rstr&&(a=Ut(r.rstr)),void 0!==r.b64&&(a=Me(r.b64)),void 0!==r.b64u&&(a=et(r.b64u)),null==a)throw"KJUR.crypto.Mac unsupported password type: "+r;this.pass=be.enc.Hex.parse(a)},void 0!==i&&(void 0!==i.pass&&this.setPassword(i.pass),void 0!==i.alg&&(this.algName=i.alg,void 0===i.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ce.crypto.Signature=function(i){var r=null;if(this._setAlgNames=function(){var a=this.algName.match(/^(.+)with(.+)$/);a&&(this.mdAlgName=a[1].toLowerCase(),this.pubkeyAlgName=a[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(a,f){for(var T="",k=f/4-a.length,te=0;te<k;te++)T+="0";return T+a},this.setAlgAndProvider=function(a,f){if(this._setAlgNames(),"cryptojs/jsrsa"!=f)throw new Error("provider not supported: "+f);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ce.crypto.MessageDigest({alg:this.mdAlgName})}catch(T){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+T)}this.init=function(T,k){var te=null;try{te=void 0===k?xi.getKey(T):xi.getKey(T,k)}catch(_e){throw"init failed:"+_e}if(!0===te.isPrivate)this.prvKey=te,this.state="SIGN";else{if(!0!==te.isPublic)throw"init failed.:"+te;this.pubKey=te,this.state="VERIFY"}},this.updateString=function(T){this.md.updateString(T)},this.updateHex=function(T){this.md.updateHex(T)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.prvKey=new ce.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof on&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof on&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ce.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ce.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(T){return this.updateString(T),this.sign()},this.signHex=function(T){return this.updateHex(T),this.sign()},this.verify=function(T){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.pubKey=new ce.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof on&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,T,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof on&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,T);if(void 0!==ce.crypto.ECDSA&&this.pubKey instanceof ce.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,T);if(void 0!==ce.crypto.DSA&&this.pubKey instanceof ce.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,T);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(a,f){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(a){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(a){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(a){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(a){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(a){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=i,void 0!==i&&(void 0!==i.alg&&(this.algName=i.alg,this.provName=void 0===i.prov?ce.crypto.Util.DEFAULTPROVIDER[this.algName]:i.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==i.psssaltlen&&(this.pssSaltLen=i.psssaltlen),void 0!==i.prvkeypem)){if(void 0!==i.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{r=xi.getKey(i.prvkeypem),this.init(r)}catch(a){throw"fatal error to load pem private key: "+a}}},ce.crypto.Cipher=function(i){},ce.crypto.Cipher.encrypt=function(i,r,a){if(r instanceof on&&r.isPublic){var f=ce.crypto.Cipher.getAlgByKeyAndName(r,a);if("RSA"===f)return r.encrypt(i);if("RSAOAEP"===f)return r.encryptOAEP(i,"sha1");var T=f.match(/^RSAOAEP(\d+)$/);if(null!==T)return r.encryptOAEP(i,"sha"+T[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+a}throw"Cipher.encrypt: unsupported key or algorithm"},ce.crypto.Cipher.decrypt=function(i,r,a){if(r instanceof on&&r.isPrivate){var f=ce.crypto.Cipher.getAlgByKeyAndName(r,a);if("RSA"===f)return r.decrypt(i);if("RSAOAEP"===f)return r.decryptOAEP(i,"sha1");var T=f.match(/^RSAOAEP(\d+)$/);if(null!==T)return r.decryptOAEP(i,"sha"+T[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+a}throw"Cipher.decrypt: unsupported key or algorithm"},ce.crypto.Cipher.getAlgByKeyAndName=function(i,r){if(i instanceof on){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(r))return r;if(null==r)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+r}throw"getAlgByKeyAndName: not supported algorithm name: "+r},ce.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ce&&ce||(l.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECDSA=function(i){var r=Error,a=fe,f=xn,T=ce.crypto.ECDSA,k=ce.crypto.ECParameterDB,te=T.getName,he=qt.getVbyListEx,we=qt.isASN1HEX,Ce=new Pn;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(Ee){return new a(Ee.bitLength(),Ce).mod(Ee.subtract(a.ONE)).add(a.ONE)},this.setNamedCurve=function(Ee){this.ecparams=k.getByName(Ee),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=Ee},this.setPrivateKeyHex=function(Ee){this.isPrivate=!0,this.prvKeyHex=Ee},this.setPublicKeyHex=function(Ee){this.isPublic=!0,this.pubKeyHex=Ee},this.getPublicKeyXYHex=function(){var Ee=this.pubKeyHex;if("04"!==Ee.substr(0,2))throw"this method supports uncompressed format(04) only";var Pe=this.ecparams.keylen/4;if(Ee.length!==2+2*Pe)throw"malformed public key hex length";var Ve={};return Ve.x=Ee.substr(2,Pe),Ve.y=Ee.substr(2+Pe),Ve},this.getShortNISTPCurveName=function(){var Ee=this.curveName;return"secp256r1"===Ee||"NIST P-256"===Ee||"P-256"===Ee||"prime256v1"===Ee?"P-256":"secp384r1"===Ee||"NIST P-384"===Ee||"P-384"===Ee?"P-384":null},this.generateKeyPairHex=function(){var Pe=this.getBigRandom(this.ecparams.n),Ve=this.ecparams.G.multiply(Pe),ot=Ve.getX().toBigInteger(),ut=Ve.getY().toBigInteger(),ft=this.ecparams.keylen/4,ae=("0000000000"+Pe.toString(16)).slice(-ft),Re="04"+("0000000000"+ot.toString(16)).slice(-ft)+("0000000000"+ut.toString(16)).slice(-ft);return this.setPrivateKeyHex(ae),this.setPublicKeyHex(Re),{ecprvhex:ae,ecpubhex:Re}},this.signWithMessageHash=function(Ee){return this.signHex(Ee,this.prvKeyHex)},this.signHex=function(Ee,Pe){var Ve=new a(Pe,16),ot=this.ecparams.n,ut=new a(Ee.substring(0,this.ecparams.keylen/4),16);do{var ft=this.getBigRandom(ot),ae=this.ecparams.G.multiply(ft).getX().toBigInteger().mod(ot)}while(ae.compareTo(a.ZERO)<=0);var Re=ft.modInverse(ot).multiply(ut.add(Ve.multiply(ae))).mod(ot);return T.biRSSigToASN1Sig(ae,Re)},this.sign=function(Ee,Pe){var Ve=Pe,ot=this.ecparams.n,ut=a.fromByteArrayUnsigned(Ee);do{var ft=this.getBigRandom(ot),ae=this.ecparams.G.multiply(ft).getX().toBigInteger().mod(ot)}while(ae.compareTo(fe.ZERO)<=0);var Re=ft.modInverse(ot).multiply(ut.add(Ve.multiply(ae))).mod(ot);return this.serializeSig(ae,Re)},this.verifyWithMessageHash=function(Ee,Pe){return this.verifyHex(Ee,Pe,this.pubKeyHex)},this.verifyHex=function(Ee,Pe,Ve){try{var ot,ut,ft=T.parseSigHex(Pe);ot=ft.r,ut=ft.s;var ae=f.decodeFromHex(this.ecparams.curve,Ve),Re=new a(Ee.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(Re,ot,ut,ae)}catch{return!1}},this.verify=function(Ee,Pe,Ve){var ot,ut,ft;if(Bitcoin.Util.isArray(Pe)){var ae=this.parseSig(Pe);ot=ae.r,ut=ae.s}else{if("object"!==(void 0===Pe?"undefined":u(Pe))||!Pe.r||!Pe.s)throw"Invalid value for signature";ot=Pe.r,ut=Pe.s}if(Ve instanceof xn)ft=Ve;else{if(!Bitcoin.Util.isArray(Ve))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ft=f.decodeFrom(this.ecparams.curve,Ve)}var Re=a.fromByteArrayUnsigned(Ee);return this.verifyRaw(Re,ot,ut,ft)},this.verifyRaw=function(Ee,Pe,Ve,ot){var ut=this.ecparams.n,ft=this.ecparams.G;if(Pe.compareTo(a.ONE)<0||Pe.compareTo(ut)>=0||Ve.compareTo(a.ONE)<0||Ve.compareTo(ut)>=0)return!1;var ae=Ve.modInverse(ut),Re=Ee.multiply(ae).mod(ut),ke=Pe.multiply(ae).mod(ut);return ft.multiply(Re).add(ot.multiply(ke)).getX().toBigInteger().mod(ut).equals(Pe)},this.serializeSig=function(Ee,Pe){var Ve=Ee.toByteArraySigned(),ot=Pe.toByteArraySigned(),ut=[];return ut.push(2),ut.push(Ve.length),(ut=ut.concat(Ve)).push(2),ut.push(ot.length),(ut=ut.concat(ot)).unshift(ut.length),ut.unshift(48),ut},this.parseSig=function(Ee){var Pe;if(48!=Ee[0])throw new Error("Signature not a valid DERSequence");if(2!=Ee[Pe=2])throw new Error("First element in signature must be a DERInteger");var Ve=Ee.slice(Pe+2,Pe+2+Ee[Pe+1]);if(2!=Ee[Pe+=2+Ee[Pe+1]])throw new Error("Second element in signature must be a DERInteger");var ot=Ee.slice(Pe+2,Pe+2+Ee[Pe+1]);return Pe+=2+Ee[Pe+1],{r:a.fromByteArrayUnsigned(Ve),s:a.fromByteArrayUnsigned(ot)}},this.parseSigCompact=function(Ee){if(65!==Ee.length)throw"Signature has the wrong length";var Pe=Ee[0]-27;if(Pe<0||Pe>7)throw"Invalid signature type";var Ve=this.ecparams.n;return{r:a.fromByteArrayUnsigned(Ee.slice(1,33)).mod(Ve),s:a.fromByteArrayUnsigned(Ee.slice(33,65)).mod(Ve),i:Pe}},this.readPKCS5PrvKeyHex=function(Ee){if(!1===we(Ee))throw new Error("not ASN.1 hex string");var Pe,Ve,ot;try{Pe=he(Ee,0,["[0]",0],"06"),Ve=he(Ee,0,[1],"04");try{ot=he(Ee,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=te(Pe),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot),this.setPrivateKeyHex(Ve),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(Ee){if(!1===we(Ee))throw new r("not ASN.1 hex string");var Pe,Ve,ot;try{he(Ee,0,[1,0],"06"),Pe=he(Ee,0,[1,1],"06"),Ve=he(Ee,0,[2,0,1],"04");try{ot=he(Ee,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new r("malformed PKCS#8 plain ECC private key")}if(this.curveName=te(Pe),void 0===this.curveName)throw new r("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot),this.setPrivateKeyHex(Ve),this.isPublic=!1},this.readPKCS8PubKeyHex=function(Ee){if(!1===we(Ee))throw new r("not ASN.1 hex string");var Pe,Ve;try{he(Ee,0,[0,0],"06"),Pe=he(Ee,0,[0,1],"06"),Ve=he(Ee,0,[1],"03")}catch{throw new r("malformed PKCS#8 ECC public key")}if(this.curveName=te(Pe),null===this.curveName)throw new r("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Ve)},this.readCertPubKeyHex=function(Ee,Pe){if(!1===we(Ee))throw new r("not ASN.1 hex string");var Ve,ot;try{Ve=he(Ee,0,[0,5,0,1],"06"),ot=he(Ee,0,[0,5,1],"03")}catch{throw new r("malformed X.509 certificate ECC public key")}if(this.curveName=te(Ve),null===this.curveName)throw new r("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot)},void 0!==i&&void 0!==i.curve&&(this.curveName=i.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==i&&(void 0!==i.prv&&this.setPrivateKeyHex(i.prv),void 0!==i.pub&&this.setPublicKeyHex(i.pub))},ce.crypto.ECDSA.parseSigHex=function(i){var r=ce.crypto.ECDSA.parseSigHexInHexRS(i);return{r:new fe(r.r,16),s:new fe(r.s,16)}},ce.crypto.ECDSA.parseSigHexInHexRS=function(i){var a=qt.getChildIdx,f=qt.getV;if(qt.checkStrictDER(i,0),"30"!=i.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var T=a(i,0);if(2!=T.length)throw new Error("signature shall have two elements");var k=T[0],te=T[1];if("02"!=i.substr(k,2))throw new Error("1st item not ASN.1 integer");if("02"!=i.substr(te,2))throw new Error("2nd item not ASN.1 integer");return{r:f(i,k),s:f(i,te)}},ce.crypto.ECDSA.asn1SigToConcatSig=function(i){var r=ce.crypto.ECDSA.parseSigHexInHexRS(i),a=r.r,f=r.s;if("00"==a.substr(0,2)&&a.length%32==2&&(a=a.substr(2)),"00"==f.substr(0,2)&&f.length%32==2&&(f=f.substr(2)),a.length%32==30&&(a="00"+a),f.length%32==30&&(f="00"+f),a.length%32!=0)throw"unknown ECDSA sig r length error";if(f.length%32!=0)throw"unknown ECDSA sig s length error";return a+f},ce.crypto.ECDSA.concatSigToASN1Sig=function(i){if(i.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var r=i.substr(0,i.length/2),a=i.substr(i.length/2);return ce.crypto.ECDSA.hexRSSigToASN1Sig(r,a)},ce.crypto.ECDSA.hexRSSigToASN1Sig=function(i,r){var a=new fe(i,16),f=new fe(r,16);return ce.crypto.ECDSA.biRSSigToASN1Sig(a,f)},ce.crypto.ECDSA.biRSSigToASN1Sig=function(i,r){var a=ce.asn1,f=new a.DERInteger({bigint:i}),T=new a.DERInteger({bigint:r});return new a.DERSequence({array:[f,T]}).getEncodedHex()},ce.crypto.ECDSA.getName=function(i){return"2b8104001f"===i?"secp192k1":"2a8648ce3d030107"===i?"secp256r1":"2b8104000a"===i?"secp256k1":"2b81040021"===i?"secp224r1":"2b81040022"===i?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(i)?"secp256r1":-1!=="|secp256k1|".indexOf(i)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(i)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(i)?"secp384r1":null},void 0!==ce&&ce||(l.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECParameterDB=new function(){var i={},r={};function a(f){return new fe(f,16)}this.getByName=function(f){var T=f;if(void 0!==r[T]&&(T=r[f]),void 0!==i[T])return i[T];throw"unregistered EC curve name: "+T},this.regist=function(f,T,k,te,_e,he,we,Ce,Ee,Pe,Ve,ot){i[f]={};var ut=a(k),ft=a(te),ae=a(_e),Re=a(he),ke=a(we),je=new vi(ut,ft,ae),Q=je.decodePointHex("04"+Ce+Ee);i[f].name=f,i[f].keylen=T,i[f].curve=je,i[f].G=Q,i[f].n=Re,i[f].h=ke,i[f].oid=Ve,i[f].info=ot;for(var Ie=0;Ie<Pe.length;Ie++)r[Pe[Ie]]=f}},ce.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ce.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ce.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ce.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ce.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ce.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ce.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ce.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var xi=function(){var i=function(we,Ce,Ee){return r(be.AES,we,Ce,Ee)},r=function(we,Ce,Ee,Pe){var Ve=be.enc.Hex.parse(Ce),ot=be.enc.Hex.parse(Ee),ut=be.enc.Hex.parse(Pe),ft={};ft.key=ot,ft.iv=ut,ft.ciphertext=Ve;var ae=we.decrypt(ft,ot,{iv:ut});return be.enc.Hex.stringify(ae)},a=function(we,Ce,Ee){return f(be.AES,we,Ce,Ee)},f=function(we,Ce,Ee,Pe){var Ve=be.enc.Hex.parse(Ce),ot=be.enc.Hex.parse(Ee),ut=be.enc.Hex.parse(Pe),ft=we.encrypt(Ve,ot,{iv:ut}),ae=be.enc.Hex.parse(ft.toString());return be.enc.Base64.stringify(ae)},T={"AES-256-CBC":{proc:i,eproc:a,keylen:32,ivlen:16},"AES-192-CBC":{proc:i,eproc:a,keylen:24,ivlen:16},"AES-128-CBC":{proc:i,eproc:a,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(we,Ce,Ee){return r(be.TripleDES,we,Ce,Ee)},eproc:function(we,Ce,Ee){return f(be.TripleDES,we,Ce,Ee)},keylen:24,ivlen:8},"DES-CBC":{proc:function(we,Ce,Ee){return r(be.DES,we,Ce,Ee)},eproc:function(we,Ce,Ee){return f(be.DES,we,Ce,Ee)},keylen:8,ivlen:8}},k=function(we){var Ce={},Ee=we.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));Ee&&(Ce.cipher=Ee[1],Ce.ivsalt=Ee[2]);var Pe=we.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));Pe&&(Ce.type=Pe[1]);var Ve=-1,ot=0;-1!=we.indexOf("\r\n\r\n")&&(Ve=we.indexOf("\r\n\r\n"),ot=2),-1!=we.indexOf("\n\n")&&(Ve=we.indexOf("\n\n"),ot=1);var ut=we.indexOf("-----END");if(-1!=Ve&&-1!=ut){var ft=we.substring(Ve+2*ot,ut-ot);ft=ft.replace(/\s+/g,""),Ce.data=ft}return Ce},te=function(we,Ce,Ee){for(var Pe=Ee.substring(0,16),Ve=be.enc.Hex.parse(Pe),ot=be.enc.Utf8.parse(Ce),ut=T[we].keylen+T[we].ivlen,ft="",ae=null;;){var Re=be.algo.MD5.create();if(null!=ae&&Re.update(ae),Re.update(ot),Re.update(Ve),ae=Re.finalize(),(ft+=be.enc.Hex.stringify(ae)).length>=2*ut)break}var ke={};return ke.keyhex=ft.substr(0,2*T[we].keylen),ke.ivhex=ft.substr(2*T[we].keylen,2*T[we].ivlen),ke},_e=function(we,Ce,Ee,Pe){var Ve=be.enc.Base64.parse(we),ot=be.enc.Hex.stringify(Ve);return(0,T[Ce].proc)(ot,Ee,Pe)};return{version:"1.0.0",parsePKCS5PEM:function(we){return k(we)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(we,Ce,Ee){return te(we,Ce,Ee)},decryptKeyB64:function(we,Ce,Ee,Pe){return _e(we,Ce,Ee,Pe)},getDecryptedKeyHex:function(we,Ce){var Ee=k(we),Pe=Ee.cipher,Ve=Ee.ivsalt,ot=Ee.data,ut=te(Pe,Ce,Ve).keyhex;return _e(ot,Pe,ut,Ve)},getEncryptedPKCS5PEMFromPrvKeyHex:function(we,Ce,Ee,Pe,Ve){var ae,Re,ot="";if(void 0!==Pe&&null!=Pe||(Pe="AES-256-CBC"),void 0===T[Pe])throw"KEYUTIL unsupported algorithm: "+Pe;void 0!==Ve&&null!=Ve||(Ve=(ae=T[Pe].ivlen,Re=be.lib.WordArray.random(ae),be.enc.Hex.stringify(Re)).toUpperCase());var ut=function(ae,Re,ke,je){return(0,T[Re].eproc)(ae,ke,je)}(Ce,Pe,te(Pe,Ee,Ve).keyhex,Ve);return ot="-----BEGIN "+we+" PRIVATE KEY-----\r\n",ot+="Proc-Type: 4,ENCRYPTED\r\n",ot+="DEK-Info: "+Pe+","+Ve+"\r\n",ot+="\r\n",(ot+=ut.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+we+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(we){var Ee=qt.getChildIdx,Pe=qt.getV,Ve={},ot=Ee(we,0);if(2!=ot.length)throw"malformed format: SEQUENCE(0).items != 2: "+ot.length;Ve.ciphertext=Pe(we,ot[1]);var ut=Ee(we,ot[0]);if(2!=ut.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+ut.length;if("2a864886f70d01050d"!=Pe(we,ut[0]))throw"this only supports pkcs5PBES2";var ft=Ee(we,ut[1]);if(2!=ut.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+ft.length;var ae=Ee(we,ft[1]);if(2!=ae.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+ae.length;if("2a864886f70d0307"!=Pe(we,ae[0]))throw"this only supports TripleDES";Ve.encryptionSchemeAlg="TripleDES",Ve.encryptionSchemeIV=Pe(we,ae[1]);var Re=Ee(we,ft[0]);if(2!=Re.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+Re.length;if("2a864886f70d01050c"!=Pe(we,Re[0]))throw"this only supports pkcs5PBKDF2";var ke=Ee(we,Re[1]);if(ke.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+ke.length;Ve.pbkdf2Salt=Pe(we,ke[0]);var je=Pe(we,ke[1]);try{Ve.pbkdf2Iter=parseInt(je,16)}catch{throw"malformed format pbkdf2Iter: "+je}return Ve},getPBKDF2KeyHexFromParam:function(we,Ce){var Ee=be.enc.Hex.parse(we.pbkdf2Salt),Ve=be.PBKDF2(Ce,Ee,{keySize:6,iterations:we.pbkdf2Iter});return be.enc.Hex.stringify(Ve)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(we,Ce){var Ee=Bt(we,"ENCRYPTED PRIVATE KEY"),Pe=this.parseHexOfEncryptedPKCS8(Ee),Ve=xi.getPBKDF2KeyHexFromParam(Pe,Ce),ot={};ot.ciphertext=be.enc.Hex.parse(Pe.ciphertext);var ut=be.enc.Hex.parse(Ve),ft=be.enc.Hex.parse(Pe.encryptionSchemeIV),ae=be.TripleDES.decrypt(ot,ut,{iv:ft});return be.enc.Hex.stringify(ae)},getKeyFromEncryptedPKCS8PEM:function(we,Ce){var Ee=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(we,Ce);return this.getKeyFromPlainPrivatePKCS8Hex(Ee)},parsePlainPrivatePKCS8Hex:function(we){var Ce=qt,Ee=Ce.getChildIdx,Pe=Ce.getV,Ve={algparam:null};if("30"!=we.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var ot=Ee(we,0);if(3!=ot.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=we.substr(ot[1],2))throw"malformed PKCS8 private key(code:003)";var ut=Ee(we,ot[1]);if(2!=ut.length)throw"malformed PKCS8 private key(code:004)";if("06"!=we.substr(ut[0],2))throw"malformed PKCS8 private key(code:005)";if(Ve.algoid=Pe(we,ut[0]),"06"==we.substr(ut[1],2)&&(Ve.algparam=Pe(we,ut[1])),"04"!=we.substr(ot[2],2))throw"malformed PKCS8 private key(code:006)";return Ve.keyidx=Ce.getVidx(we,ot[2]),Ve},getKeyFromPlainPrivatePKCS8PEM:function(we){var Ce=Bt(we,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Ce)},getKeyFromPlainPrivatePKCS8Hex:function(we){var Ce,Ee=this.parsePlainPrivatePKCS8Hex(we);if("2a864886f70d010101"==Ee.algoid)Ce=new on;else if("2a8648ce380401"==Ee.algoid)Ce=new ce.crypto.DSA;else{if("2a8648ce3d0201"!=Ee.algoid)throw"unsupported private key algorithm";Ce=new ce.crypto.ECDSA}return Ce.readPKCS8PrvKeyHex(we),Ce},_getKeyFromPublicPKCS8Hex:function(we){var Ce,Ee=qt.getVbyList(we,0,[0,0],"06");if("2a864886f70d010101"===Ee)Ce=new on;else if("2a8648ce380401"===Ee)Ce=new ce.crypto.DSA;else{if("2a8648ce3d0201"!==Ee)throw"unsupported PKCS#8 public key hex";Ce=new ce.crypto.ECDSA}return Ce.readPKCS8PubKeyHex(we),Ce},parsePublicRawRSAKeyHex:function(we){var Ee=qt.getChildIdx,Pe=qt.getV,Ve={};if("30"!=we.substr(0,2))throw"malformed RSA key(code:001)";var ot=Ee(we,0);if(2!=ot.length)throw"malformed RSA key(code:002)";if("02"!=we.substr(ot[0],2))throw"malformed RSA key(code:003)";if(Ve.n=Pe(we,ot[0]),"02"!=we.substr(ot[1],2))throw"malformed RSA key(code:004)";return Ve.e=Pe(we,ot[1]),Ve},parsePublicPKCS8Hex:function(we){var Ce=qt,Ee=Ce.getChildIdx,Pe=Ce.getV,Ve={algparam:null},ot=Ee(we,0);if(2!=ot.length)throw"outer DERSequence shall have 2 elements: "+ot.length;var ut=ot[0];if("30"!=we.substr(ut,2))throw"malformed PKCS8 public key(code:001)";var ft=Ee(we,ut);if(2!=ft.length)throw"malformed PKCS8 public key(code:002)";if("06"!=we.substr(ft[0],2))throw"malformed PKCS8 public key(code:003)";if(Ve.algoid=Pe(we,ft[0]),"06"==we.substr(ft[1],2)?Ve.algparam=Pe(we,ft[1]):"30"==we.substr(ft[1],2)&&(Ve.algparam={},Ve.algparam.p=Ce.getVbyList(we,ft[1],[0],"02"),Ve.algparam.q=Ce.getVbyList(we,ft[1],[1],"02"),Ve.algparam.g=Ce.getVbyList(we,ft[1],[2],"02")),"03"!=we.substr(ot[1],2))throw"malformed PKCS8 public key(code:004)";return Ve.key=Pe(we,ot[1]).substr(2),Ve}}}();xi.getKey=function(i,r,a){var Vn,f=(ft=qt).getChildIdx,T=ft.getVbyList,k=ce.crypto,te=k.ECDSA,_e=k.DSA,he=on,we=Bt,Ce=xi;if(void 0!==he&&i instanceof he||void 0!==te&&i instanceof te||void 0!==_e&&i instanceof _e)return i;if(void 0!==i.curve&&void 0!==i.xy&&void 0===i.d)return new te({pub:i.xy,curve:i.curve});if(void 0!==i.curve&&void 0!==i.d)return new te({prv:i.d,curve:i.curve});if(void 0===i.kty&&void 0!==i.n&&void 0!==i.e&&void 0===i.d)return(Zt=new he).setPublic(i.n,i.e),Zt;if(void 0===i.kty&&void 0!==i.n&&void 0!==i.e&&void 0!==i.d&&void 0!==i.p&&void 0!==i.q&&void 0!==i.dp&&void 0!==i.dq&&void 0!==i.co&&void 0===i.qi)return(Zt=new he).setPrivateEx(i.n,i.e,i.d,i.p,i.q,i.dp,i.dq,i.co),Zt;if(void 0===i.kty&&void 0!==i.n&&void 0!==i.e&&void 0!==i.d&&void 0===i.p)return(Zt=new he).setPrivate(i.n,i.e,i.d),Zt;if(void 0!==i.p&&void 0!==i.q&&void 0!==i.g&&void 0!==i.y&&void 0===i.x)return(Zt=new _e).setPublic(i.p,i.q,i.g,i.y),Zt;if(void 0!==i.p&&void 0!==i.q&&void 0!==i.g&&void 0!==i.y&&void 0!==i.x)return(Zt=new _e).setPrivate(i.p,i.q,i.g,i.y,i.x),Zt;if("RSA"===i.kty&&void 0!==i.n&&void 0!==i.e&&void 0===i.d)return(Zt=new he).setPublic(et(i.n),et(i.e)),Zt;if("RSA"===i.kty&&void 0!==i.n&&void 0!==i.e&&void 0!==i.d&&void 0!==i.p&&void 0!==i.q&&void 0!==i.dp&&void 0!==i.dq&&void 0!==i.qi)return(Zt=new he).setPrivateEx(et(i.n),et(i.e),et(i.d),et(i.p),et(i.q),et(i.dp),et(i.dq),et(i.qi)),Zt;if("RSA"===i.kty&&void 0!==i.n&&void 0!==i.e&&void 0!==i.d)return(Zt=new he).setPrivate(et(i.n),et(i.e),et(i.d)),Zt;if("EC"===i.kty&&void 0!==i.crv&&void 0!==i.x&&void 0!==i.y&&void 0===i.d){var Ee=(yt=new te({curve:i.crv})).ecparams.keylen/4,Pe="04"+("0000000000"+et(i.x)).slice(-Ee)+("0000000000"+et(i.y)).slice(-Ee);return yt.setPublicKeyHex(Pe),yt}if("EC"===i.kty&&void 0!==i.crv&&void 0!==i.x&&void 0!==i.y&&void 0!==i.d){Ee=(yt=new te({curve:i.crv})).ecparams.keylen/4,Pe="04"+("0000000000"+et(i.x)).slice(-Ee)+("0000000000"+et(i.y)).slice(-Ee);var Ve=("0000000000"+et(i.d)).slice(-Ee);return yt.setPublicKeyHex(Pe),yt.setPrivateKeyHex(Ve),yt}if("pkcs5prv"===a){var ot,ut=i,ft=qt;if(9===(ot=f(ut,0)).length)(Zt=new he).readPKCS5PrvKeyHex(ut);else if(6===ot.length)(Zt=new _e).readPKCS5PrvKeyHex(ut);else{if(!(ot.length>2&&"04"===ut.substr(ot[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(Zt=new te).readPKCS5PrvKeyHex(ut)}return Zt}if("pkcs8prv"===a)return Ce.getKeyFromPlainPrivatePKCS8Hex(i);if("pkcs8pub"===a)return Ce._getKeyFromPublicPKCS8Hex(i);if("x509pub"===a)return si.getPublicKeyFromCertHex(i);if(-1!=i.indexOf("-END CERTIFICATE-",0)||-1!=i.indexOf("-END X509 CERTIFICATE-",0)||-1!=i.indexOf("-END TRUSTED CERTIFICATE-",0))return si.getPublicKeyFromCertPEM(i);if(-1!=i.indexOf("-END PUBLIC KEY-")){var ae=Bt(i,"PUBLIC KEY");return Ce._getKeyFromPublicPKCS8Hex(ae)}if(-1!=i.indexOf("-END RSA PRIVATE KEY-")&&-1==i.indexOf("4,ENCRYPTED")){var Re=we(i,"RSA PRIVATE KEY");return Ce.getKey(Re,null,"pkcs5prv")}if(-1!=i.indexOf("-END DSA PRIVATE KEY-")&&-1==i.indexOf("4,ENCRYPTED")){var ke=T(Vn=we(i,"DSA PRIVATE KEY"),0,[1],"02"),je=T(Vn,0,[2],"02"),Q=T(Vn,0,[3],"02"),Ie=T(Vn,0,[4],"02"),ze=T(Vn,0,[5],"02");return(Zt=new _e).setPrivate(new fe(ke,16),new fe(je,16),new fe(Q,16),new fe(Ie,16),new fe(ze,16)),Zt}if(-1!=i.indexOf("-END EC PRIVATE KEY-")&&-1==i.indexOf("4,ENCRYPTED"))return Re=we(i,"EC PRIVATE KEY"),Ce.getKey(Re,null,"pkcs5prv");if(-1!=i.indexOf("-END PRIVATE KEY-"))return Ce.getKeyFromPlainPrivatePKCS8PEM(i);if(-1!=i.indexOf("-END RSA PRIVATE KEY-")&&-1!=i.indexOf("4,ENCRYPTED")){var Le=Ce.getDecryptedKeyHex(i,r),Rt=new on;return Rt.readPKCS5PrvKeyHex(Le),Rt}if(-1!=i.indexOf("-END EC PRIVATE KEY-")&&-1!=i.indexOf("4,ENCRYPTED")){var yt,Zt=T(Vn=Ce.getDecryptedKeyHex(i,r),0,[1],"04"),Mn=T(Vn,0,[2,0],"06"),Ln=T(Vn,0,[3,0],"03").substr(2);if(void 0===ce.crypto.OID.oidhex2name[Mn])throw"undefined OID(hex) in KJUR.crypto.OID: "+Mn;return(yt=new te({curve:ce.crypto.OID.oidhex2name[Mn]})).setPublicKeyHex(Ln),yt.setPrivateKeyHex(Zt),yt.isPublic=!1,yt}if(-1!=i.indexOf("-END DSA PRIVATE KEY-")&&-1!=i.indexOf("4,ENCRYPTED"))return ke=T(Vn=Ce.getDecryptedKeyHex(i,r),0,[1],"02"),je=T(Vn,0,[2],"02"),Q=T(Vn,0,[3],"02"),Ie=T(Vn,0,[4],"02"),ze=T(Vn,0,[5],"02"),(Zt=new _e).setPrivate(new fe(ke,16),new fe(je,16),new fe(Q,16),new fe(Ie,16),new fe(ze,16)),Zt;if(-1!=i.indexOf("-END ENCRYPTED PRIVATE KEY-"))return Ce.getKeyFromEncryptedPKCS8PEM(i,r);throw new Error("not supported argument")},xi.generateKeypair=function(i,r){if("RSA"==i){var a=r;(te=new on).generate(a,"10001"),te.isPrivate=!0,te.isPublic=!0;var f=new on,T=te.n.toString(16),k=te.e.toString(16);return f.setPublic(T,k),f.isPrivate=!1,f.isPublic=!0,(_e={}).prvKeyObj=te,_e.pubKeyObj=f,_e}if("EC"==i){var te,_e,he=r,we=new ce.crypto.ECDSA({curve:he}).generateKeyPairHex();return(te=new ce.crypto.ECDSA({curve:he})).setPublicKeyHex(we.ecpubhex),te.setPrivateKeyHex(we.ecprvhex),te.isPrivate=!0,te.isPublic=!1,(f=new ce.crypto.ECDSA({curve:he})).setPublicKeyHex(we.ecpubhex),f.isPrivate=!1,f.isPublic=!0,(_e={}).prvKeyObj=te,_e.pubKeyObj=f,_e}throw"unknown algorithm: "+i},xi.getPEM=function(i,r,a,f,T,k){var _e=ce.asn1,he=_e.DERObjectIdentifier,we=_e.DERInteger,Ce=_e.ASN1Util.newObject,Pe=ce.crypto,Ve=Pe.DSA,ot=Pe.ECDSA,ut=on;function ft(yt){return Ce({seq:[{int:0},{int:{bigint:yt.n}},{int:yt.e},{int:{bigint:yt.d}},{int:{bigint:yt.p}},{int:{bigint:yt.q}},{int:{bigint:yt.dmp1}},{int:{bigint:yt.dmq1}},{int:{bigint:yt.coeff}}]})}function ae(yt){return Ce({seq:[{int:1},{octstr:{hex:yt.prvKeyHex}},{tag:["a0",!0,{oid:{name:yt.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+yt.pubKeyHex}}]}]})}function Re(yt){return Ce({seq:[{int:0},{int:{bigint:yt.p}},{int:{bigint:yt.q}},{int:{bigint:yt.g}},{int:{bigint:yt.y}},{int:{bigint:yt.x}}]})}if((void 0!==ut&&i instanceof ut||void 0!==Ve&&i instanceof Ve||void 0!==ot&&i instanceof ot)&&1==i.isPublic&&(void 0===r||"PKCS8PUB"==r))return Ke(Ie=new(0,_e.x509.SubjectPublicKeyInfo)(i).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==r&&void 0!==ut&&i instanceof ut&&(void 0===a||null==a)&&1==i.isPrivate)return Ke(Ie=ft(i).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==r&&void 0!==ot&&i instanceof ot&&(void 0===a||null==a)&&1==i.isPrivate){var ke=new he({name:i.curveName}).getEncodedHex(),je=ae(i).getEncodedHex(),Q="";return(Q+=Ke(ke,"EC PARAMETERS"))+Ke(je,"EC PRIVATE KEY")}if("PKCS1PRV"==r&&void 0!==Ve&&i instanceof Ve&&(void 0===a||null==a)&&1==i.isPrivate)return Ke(Ie=Re(i).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==r&&void 0!==ut&&i instanceof ut&&void 0!==a&&null!=a&&1==i.isPrivate){var Ie=ft(i).getEncodedHex();return void 0===f&&(f="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",Ie,a,f,k)}if("PKCS5PRV"==r&&void 0!==ot&&i instanceof ot&&void 0!==a&&null!=a&&1==i.isPrivate)return Ie=ae(i).getEncodedHex(),void 0===f&&(f="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",Ie,a,f,k);if("PKCS5PRV"==r&&void 0!==Ve&&i instanceof Ve&&void 0!==a&&null!=a&&1==i.isPrivate)return Ie=Re(i).getEncodedHex(),void 0===f&&(f="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",Ie,a,f,k);var ze=function(Zt,Mn){var Ln=Le(Zt,Mn);return new Ce({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Ln.pbkdf2Salt}},{int:Ln.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Ln.encryptionSchemeIV}}]}]}]},{octstr:{hex:Ln.ciphertext}}]}).getEncodedHex()},Le=function(Zt,Mn){var Ln=be.lib.WordArray.random(8),Vn=be.lib.WordArray.random(8),Kn=be.PBKDF2(Mn,Ln,{keySize:6,iterations:100}),di=be.enc.Hex.parse(Zt),Ji=be.TripleDES.encrypt(di,Kn,{iv:Vn})+"",qn={};return qn.ciphertext=Ji,qn.pbkdf2Salt=be.enc.Hex.stringify(Ln),qn.pbkdf2Iter=100,qn.encryptionSchemeAlg="DES-EDE3-CBC",qn.encryptionSchemeIV=be.enc.Hex.stringify(Vn),qn};if("PKCS8PRV"==r&&null!=ut&&i instanceof ut&&1==i.isPrivate){var Rt=ft(i).getEncodedHex();return Ie=Ce({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Rt}}]}).getEncodedHex(),void 0===a||null==a?Ke(Ie,"PRIVATE KEY"):Ke(je=ze(Ie,a),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==r&&void 0!==ot&&i instanceof ot&&1==i.isPrivate)return Rt=new Ce({seq:[{int:1},{octstr:{hex:i.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+i.pubKeyHex}}]}]}).getEncodedHex(),Ie=Ce({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:i.curveName}}]},{octstr:{hex:Rt}}]}).getEncodedHex(),void 0===a||null==a?Ke(Ie,"PRIVATE KEY"):Ke(je=ze(Ie,a),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==r&&void 0!==Ve&&i instanceof Ve&&1==i.isPrivate)return Rt=new we({bigint:i.x}).getEncodedHex(),Ie=Ce({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:i.p}},{int:{bigint:i.q}},{int:{bigint:i.g}}]}]},{octstr:{hex:Rt}}]}).getEncodedHex(),void 0===a||null==a?Ke(Ie,"PRIVATE KEY"):Ke(je=ze(Ie,a),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},xi.getKeyFromCSRPEM=function(i){var r=Bt(i,"CERTIFICATE REQUEST");return xi.getKeyFromCSRHex(r)},xi.getKeyFromCSRHex=function(i){var r=xi.parseCSRHex(i);return xi.getKey(r.p8pubkeyhex,null,"pkcs8pub")},xi.parseCSRHex=function(i){var a=qt.getChildIdx,f=qt.getTLV,T={},k=i;if("30"!=k.substr(0,2))throw"malformed CSR(code:001)";var te=a(k,0);if(te.length<1)throw"malformed CSR(code:002)";if("30"!=k.substr(te[0],2))throw"malformed CSR(code:003)";var _e=a(k,te[0]);if(_e.length<3)throw"malformed CSR(code:004)";return T.p8pubkeyhex=f(k,_e[2]),T},xi.getKeyID=function(i){var r=xi,a=qt;"string"==typeof i&&-1!=i.indexOf("BEGIN ")&&(i=r.getKey(i));var f=Bt(r.getPEM(i)),T=a.getIdxbyList(f,0,[1]),k=a.getV(f,T).substring(2);return ce.crypto.Util.hashHex(k,"sha1")},xi.getJWKFromKey=function(i){var r={};if(i instanceof on&&i.isPrivate)return r.kty="RSA",r.n=pe(i.n.toString(16)),r.e=pe(i.e.toString(16)),r.d=pe(i.d.toString(16)),r.p=pe(i.p.toString(16)),r.q=pe(i.q.toString(16)),r.dp=pe(i.dmp1.toString(16)),r.dq=pe(i.dmq1.toString(16)),r.qi=pe(i.coeff.toString(16)),r;if(i instanceof on&&i.isPublic)return r.kty="RSA",r.n=pe(i.n.toString(16)),r.e=pe(i.e.toString(16)),r;if(i instanceof ce.crypto.ECDSA&&i.isPrivate){if("P-256"!==(f=i.getShortNISTPCurveName())&&"P-384"!==f)throw"unsupported curve name for JWT: "+f;var a=i.getPublicKeyXYHex();return r.kty="EC",r.crv=f,r.x=pe(a.x),r.y=pe(a.y),r.d=pe(i.prvKeyHex),r}if(i instanceof ce.crypto.ECDSA&&i.isPublic){var f;if("P-256"!==(f=i.getShortNISTPCurveName())&&"P-384"!==f)throw"unsupported curve name for JWT: "+f;return a=i.getPublicKeyXYHex(),r.kty="EC",r.crv=f,r.x=pe(a.x),r.y=pe(a.y),r}throw"not supported key object"},on.getPosArrayOfChildrenFromHex=function(i){return qt.getChildIdx(i,0)},on.getHexValueArrayOfChildrenFromHex=function(i){var r,a=qt.getV,f=a(i,(r=on.getPosArrayOfChildrenFromHex(i))[0]),T=a(i,r[1]),k=a(i,r[2]),te=a(i,r[3]),_e=a(i,r[4]),he=a(i,r[5]),we=a(i,r[6]),Ce=a(i,r[7]),Ee=a(i,r[8]);return(r=new Array).push(f,T,k,te,_e,he,we,Ce,Ee),r},on.prototype.readPrivateKeyFromPEMString=function(i){var r=Bt(i),a=on.getHexValueArrayOfChildrenFromHex(r);this.setPrivateEx(a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8])},on.prototype.readPKCS5PrvKeyHex=function(i){var r=on.getHexValueArrayOfChildrenFromHex(i);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},on.prototype.readPKCS8PrvKeyHex=function(i){var r,a,f,T,k,te,_e,he,Ce=qt.getVbyListEx;if(!1===qt.isASN1HEX(i))throw new Error("not ASN.1 hex string");try{r=Ce(i,0,[2,0,1],"02"),a=Ce(i,0,[2,0,2],"02"),f=Ce(i,0,[2,0,3],"02"),T=Ce(i,0,[2,0,4],"02"),k=Ce(i,0,[2,0,5],"02"),te=Ce(i,0,[2,0,6],"02"),_e=Ce(i,0,[2,0,7],"02"),he=Ce(i,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(r,a,f,T,k,te,_e,he)},on.prototype.readPKCS5PubKeyHex=function(i){var r=qt,a=r.getV;if(!1===r.isASN1HEX(i))throw new Error("keyHex is not ASN.1 hex string");var f=r.getChildIdx(i,0);if(2!==f.length||"02"!==i.substr(f[0],2)||"02"!==i.substr(f[1],2))throw new Error("wrong hex for PKCS#5 public key");var T=a(i,f[0]),k=a(i,f[1]);this.setPublic(T,k)},on.prototype.readPKCS8PubKeyHex=function(i){var r=qt;if(!1===r.isASN1HEX(i))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==r.getTLVbyListEx(i,0,[0,0]))throw new Error("not PKCS8 RSA public key");var a=r.getTLVbyListEx(i,0,[1,0]);this.readPKCS5PubKeyHex(a)},on.prototype.readCertPubKeyHex=function(i,r){var a,f;(a=new si).readCertHex(i),f=a.getPublicKeyHex(),this.readPKCS8PubKeyHex(f)};var lr=new RegExp("[^0-9a-f]","gi");function Dr(i,r){for(var a="",f=r/4-i.length,T=0;T<f;T++)a+="0";return a+i}function sr(i,r,a){for(var f="",T=0;f.length<r;)f+=lt(a(Ut(i+String.fromCharCode.apply(String,[(4278190080&T)>>24,(16711680&T)>>16,(65280&T)>>8,255&T])))),T+=1;return f}function Oi(i){for(var r in ce.crypto.Util.DIGESTINFOHEAD){var a=ce.crypto.Util.DIGESTINFOHEAD[r],f=a.length;if(i.substring(0,f)==a)return[r,i.substring(f)]}return[]}function si(i){var r,a=qt,f=a.getChildIdx,T=a.getV,k=a.getTLV,te=a.getVbyList,_e=a.getVbyListEx,he=a.getTLVbyList,we=a.getTLVbyListEx,Ce=a.getIdxbyList,Ee=a.getIdxbyListEx,Pe=a.getVidx,Ve=a.oidname,ot=a.hextooidstr,ut=si,ft=Bt;try{r=ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==he(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return _e(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var ae=we(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(ae)},this.getAlgorithmIdentifierName=function(ae){for(var Re in r)if(ae===r[Re])return Re;return Ve(_e(ae,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return he(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return ut.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return he(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return ut.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var ae=te(this.hex,0,[0,4+this.foffset,0]);return ae=ae.replace(/(..)/g,"%$1"),decodeURIComponent(ae)},this.getNotAfter=function(){var ae=te(this.hex,0,[0,4+this.foffset,1]);return ae=ae.replace(/(..)/g,"%$1"),decodeURIComponent(ae)},this.getPublicKeyHex=function(){return a.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Ce(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var ae=this.getPublicKeyIdx();return Ce(this.hex,ae,[1,0],"30")},this.getPublicKey=function(){return xi.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var ae=he(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(ae)},this.getSignatureValueHex=function(){return te(this.hex,0,[2],"03",!0)},this.verifySignature=function(ae){var Re=this.getSignatureAlgorithmField(),ke=this.getSignatureValueHex(),je=he(this.hex,0,[0],"30"),Q=new ce.crypto.Signature({alg:Re});return Q.init(ae),Q.updateHex(je),Q.verify(ke)},this.parseExt=function(ae){var Re,ke,je;if(void 0===ae){if(3!==this.version)return-1;Re=Ce(je=this.hex,0,[0,7,0],"30"),ke=f(je,Re)}else{je=Bt(ae);var Q=Ce(je,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=T(je,Q))return void(this.aExtInfo=new Array);Re=Ce(je,0,[0,3,0,1,0],"30"),ke=f(je,Re),this.hex=je}this.aExtInfo=new Array;for(var Ie=0;Ie<ke.length;Ie++){var ze={critical:!1},Le=0;3===f(je,ke[Ie]).length&&(ze.critical=!0,Le=1),ze.oid=a.hextooidstr(te(je,ke[Ie],[0],"06"));var Rt=Ce(je,ke[Ie],[1+Le]);ze.vidx=Pe(je,Rt),this.aExtInfo.push(ze)}},this.getExtInfo=function(ae){var Re=this.aExtInfo,ke=ae;if(ae.match(/^[0-9.]+$/)||(ke=ce.asn1.x509.OID.name2oid(ae)),""!==ke)for(var je=0;je<Re.length;je++)if(Re[je].oid===ke)return Re[je]},this.getExtBasicConstraints=function(ae,Re){if(void 0===ae&&void 0===Re){var ke=this.getExtInfo("basicConstraints");if(void 0===ke)return;ae=k(this.hex,ke.vidx),Re=ke.critical}var je={extname:"basicConstraints"};if(Re&&(je.critical=!0),"3000"===ae)return je;if("30030101ff"===ae)return je.cA=!0,je;if("30060101ff02"===ae.substr(0,12)){var Q=T(ae,10),Ie=parseInt(Q,16);return je.cA=!0,je.pathLen=Ie,je}throw new Error("hExtV parse error: "+ae)},this.getExtKeyUsage=function(ae,Re){if(void 0===ae&&void 0===Re){var ke=this.getExtInfo("keyUsage");if(void 0===ke)return;ae=k(this.hex,ke.vidx),Re=ke.critical}var je={extname:"keyUsage"};return Re&&(je.critical=!0),je.names=this.getExtKeyUsageString(ae).split(","),je},this.getExtKeyUsageBin=function(ae){if(void 0===ae){var Re=this.getExtInfo("keyUsage");if(void 0===Re)return"";ae=k(this.hex,Re.vidx)}if(8!=ae.length&&10!=ae.length)throw new Error("malformed key usage value: "+ae);var ke="000000000000000"+parseInt(ae.substr(6),16).toString(2);return 8==ae.length&&(ke=ke.slice(-8)),10==ae.length&&(ke=ke.slice(-16)),""==(ke=ke.replace(/0+$/,""))&&(ke="0"),ke},this.getExtKeyUsageString=function(ae){for(var Re=this.getExtKeyUsageBin(ae),ke=new Array,je=0;je<Re.length;je++)"1"==Re.substr(je,1)&&ke.push(si.KEYUSAGE_NAME[je]);return ke.join(",")},this.getExtSubjectKeyIdentifier=function(ae,Re){if(void 0===ae&&void 0===Re){var ke=this.getExtInfo("subjectKeyIdentifier");if(void 0===ke)return;ae=k(this.hex,ke.vidx),Re=ke.critical}var je={extname:"subjectKeyIdentifier"};Re&&(je.critical=!0);var Q=T(ae,0);return je.kid={hex:Q},je},this.getExtAuthorityKeyIdentifier=function(ae,Re){if(void 0===ae&&void 0===Re){var ke=this.getExtInfo("authorityKeyIdentifier");if(void 0===ke)return;ae=k(this.hex,ke.vidx),Re=ke.critical}var je={extname:"authorityKeyIdentifier"};Re&&(je.critical=!0);for(var Q=f(ae,0),Ie=0;Ie<Q.length;Ie++){var ze=ae.substr(Q[Ie],2);if("80"===ze&&(je.kid={hex:T(ae,Q[Ie])}),"a1"===ze){var Le=k(ae,Q[Ie]),Rt=this.getGeneralNames(Le);je.issuer=Rt[0].dn}"82"===ze&&(je.sn={hex:T(ae,Q[Ie])})}return je},this.getExtExtKeyUsage=function(ae,Re){if(void 0===ae&&void 0===Re){var ke=this.getExtInfo("extKeyUsage");if(void 0===ke)return;ae=k(this.hex,ke.vidx),Re=ke.critical}var je={extname:"extKeyUsage",array:[]};Re&&(je.critical=!0);for(var Q=f(ae,0),Ie=0;Ie<Q.length;Ie++)je.array.push(Ve(T(ae,Q[Ie])));return je},this.getExtExtKeyUsageName=function(){var ae=this.getExtInfo("extKeyUsage");if(void 0===ae)return ae;var Re=new Array,ke=k(this.hex,ae.vidx);if(""===ke)return Re;for(var je=f(ke,0),Q=0;Q<je.length;Q++)Re.push(Ve(T(ke,je[Q])));return Re},this.getExtSubjectAltName=function(ae,Re){if(void 0===ae&&void 0===Re){var ke=this.getExtInfo("subjectAltName");if(void 0===ke)return;ae=k(this.hex,ke.vidx),Re=ke.critical}var je={extname:"subjectAltName",array:[]};return Re&&(je.critical=!0),je.array=this.getGeneralNames(ae),je},this.getExtIssuerAltName=function(ae,Re){if(void 0===ae&&void 0===Re){var ke=this.getExtInfo("issuerAltName");if(void 0===ke)return;ae=k(this.hex,ke.vidx),Re=ke.critical}var je={extname:"issuerAltName",array:[]};return Re&&(je.critical=!0),je.array=this.getGeneralNames(ae),je},this.getGeneralNames=function(ae){for(var Re=f(ae,0),ke=[],je=0;je<Re.length;je++){var Q=this.getGeneralName(k(ae,Re[je]));void 0!==Q&&ke.push(Q)}return ke},this.getGeneralName=function(ae){var Re=ae.substr(0,2),ke=T(ae,0),je=lt(ke);return"81"==Re?{rfc822:je}:"82"==Re?{dns:je}:"86"==Re?{uri:je}:"87"==Re?{ip:ui(ke)}:"a4"==Re?{dn:this.getX500Name(ke)}:void 0},this.getExtSubjectAltName2=function(){var ae,Re,ke,je=this.getExtInfo("subjectAltName");if(void 0===je)return je;for(var Q=new Array,Ie=k(this.hex,je.vidx),ze=f(Ie,0),Le=0;Le<ze.length;Le++)ke=Ie.substr(ze[Le],2),ae=T(Ie,ze[Le]),"81"===ke&&(Re=at(ae),Q.push(["MAIL",Re])),"82"===ke&&(Re=at(ae),Q.push(["DNS",Re])),"84"===ke&&(Re=si.hex2dn(ae,0),Q.push(["DN",Re])),"86"===ke&&(Re=at(ae),Q.push(["URI",Re])),"87"===ke&&(Re=ui(ae),Q.push(["IP",Re]));return Q},this.getExtCRLDistributionPoints=function(ae,Re){if(void 0===ae&&void 0===Re){var ke=this.getExtInfo("cRLDistributionPoints");if(void 0===ke)return;ae=k(this.hex,ke.vidx),Re=ke.critical}var je={extname:"cRLDistributionPoints",array:[]};Re&&(je.critical=!0);for(var Q=f(ae,0),Ie=0;Ie<Q.length;Ie++){var ze=k(ae,Q[Ie]);je.array.push(this.getDistributionPoint(ze))}return je},this.getDistributionPoint=function(ae){for(var Re={},ke=f(ae,0),je=0;je<ke.length;je++){var Q=ae.substr(ke[je],2),Ie=k(ae,ke[je]);"a0"==Q&&(Re.dpname=this.getDistributionPointName(Ie))}return Re},this.getDistributionPointName=function(ae){for(var Re={},ke=f(ae,0),je=0;je<ke.length;je++){var Q=ae.substr(ke[je],2),Ie=k(ae,ke[je]);"a0"==Q&&(Re.full=this.getGeneralNames(Ie))}return Re},this.getExtCRLDistributionPointsURI=function(){var ae=this.getExtInfo("cRLDistributionPoints");if(void 0===ae)return ae;for(var Re=new Array,ke=f(this.hex,ae.vidx),je=0;je<ke.length;je++)try{var Q=at(te(this.hex,ke[je],[0,0,0],"86"));Re.push(Q)}catch{}return Re},this.getExtAIAInfo=function(){var ae=this.getExtInfo("authorityInfoAccess");if(void 0===ae)return ae;for(var Re={ocsp:[],caissuer:[]},ke=f(this.hex,ae.vidx),je=0;je<ke.length;je++){var Q=te(this.hex,ke[je],[0],"06"),Ie=te(this.hex,ke[je],[1],"86");"2b06010505073001"===Q&&Re.ocsp.push(at(Ie)),"2b06010505073002"===Q&&Re.caissuer.push(at(Ie))}return Re},this.getExtAuthorityInfoAccess=function(ae,Re){if(void 0===ae&&void 0===Re){var ke=this.getExtInfo("authorityInfoAccess");if(void 0===ke)return;ae=k(this.hex,ke.vidx),Re=ke.critical}var je={extname:"authorityInfoAccess",array:[]};Re&&(je.critical=!0);for(var Q=f(ae,0),Ie=0;Ie<Q.length;Ie++){var ze=_e(ae,Q[Ie],[0],"06"),Le=at(te(ae,Q[Ie],[1],"86"));if("2b06010505073001"==ze)je.array.push({ocsp:Le});else{if("2b06010505073002"!=ze)throw new Error("unknown method: "+ze);je.array.push({caissuer:Le})}}return je},this.getExtCertificatePolicies=function(ae,Re){if(void 0===ae&&void 0===Re){var ke=this.getExtInfo("certificatePolicies");if(void 0===ke)return;ae=k(this.hex,ke.vidx),Re=ke.critical}var je={extname:"certificatePolicies",array:[]};Re&&(je.critical=!0);for(var Q=f(ae,0),Ie=0;Ie<Q.length;Ie++){var ze=k(ae,Q[Ie]),Le=this.getPolicyInformation(ze);je.array.push(Le)}return je},this.getPolicyInformation=function(ae){var Re={},ke=te(ae,0,[0],"06");Re.policyoid=Ve(ke);var je=Ee(ae,0,[1],"30");if(-1!=je){Re.array=[];for(var Q=f(ae,je),Ie=0;Ie<Q.length;Ie++){var ze=k(ae,Q[Ie]),Le=this.getPolicyQualifierInfo(ze);Re.array.push(Le)}}return Re},this.getPolicyQualifierInfo=function(ae){var Re={},ke=te(ae,0,[0],"06");if("2b06010505070201"===ke){var je=_e(ae,0,[1],"16");Re.cps=lt(je)}else if("2b06010505070202"===ke){var Q=he(ae,0,[1],"30");Re.unotice=this.getUserNotice(Q)}return Re},this.getUserNotice=function(ae){for(var Re={},ke=f(ae,0),je=0;je<ke.length;je++){var Q=k(ae,ke[je]);"30"!=Q.substr(0,2)&&(Re.exptext=this.getDisplayText(Q))}return Re},this.getDisplayText=function(ae){var Re={};return Re.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[ae.substr(0,2)],Re.str=lt(T(ae,0)),Re},this.getExtCRLNumber=function(ae,Re){var ke={extname:"cRLNumber"};if(Re&&(ke.critical=!0),"02"==ae.substr(0,2))return ke.num={hex:T(ae,0)},ke;throw new Error("hExtV parse error: "+ae)},this.getExtCRLReason=function(ae,Re){var ke={extname:"cRLReason"};if(Re&&(ke.critical=!0),"0a"==ae.substr(0,2))return ke.code=parseInt(T(ae,0),16),ke;throw new Error("hExtV parse error: "+ae)},this.getExtOcspNonce=function(ae,Re){var ke={extname:"ocspNonce"};Re&&(ke.critical=!0);var je=T(ae,0);return ke.hex=je,ke},this.getExtOcspNoCheck=function(ae,Re){var ke={extname:"ocspNoCheck"};return Re&&(ke.critical=!0),ke},this.getExtAdobeTimeStamp=function(ae,Re){if(void 0===ae&&void 0===Re){var ke=this.getExtInfo("adobeTimeStamp");if(void 0===ke)return;ae=k(this.hex,ke.vidx),Re=ke.critical}var je={extname:"adobeTimeStamp"};Re&&(je.critical=!0);var Q=f(ae,0);if(Q.length>1){var Ie=k(ae,Q[1]),ze=this.getGeneralName(Ie);null!=ze.uri&&(je.uri=ze.uri)}if(Q.length>2){var Le=k(ae,Q[2]);"0101ff"==Le&&(je.reqauth=!0),"010100"==Le&&(je.reqauth=!1)}return je},this.getX500NameRule=function(ae){for(var Re=null,ke=[],je=0;je<ae.length;je++)for(var Q=ae[je],Ie=0;Ie<Q.length;Ie++)ke.push(Q[Ie]);for(je=0;je<ke.length;je++){var ze=ke[je],Le=ze.ds,yt=ze.type;if("prn"!=Le&&"utf8"!=Le&&"ia5"!=Le)return"mixed";if("ia5"==Le){if("CN"!=yt)return"mixed";if(ce.lang.String.isMail(ze.value))continue;return"mixed"}if("C"==yt){if("prn"==Le)continue;return"mixed"}if(null==Re)Re=Le;else if(Re!==Le)return"mixed"}return Re??"prn"},this.getX500Name=function(ae){var Re=this.getX500NameArray(ae);return{array:Re,str:this.dnarraytostr(Re)}},this.getX500NameArray=function(ae){for(var Re=[],ke=f(ae,0),je=0;je<ke.length;je++)Re.push(this.getRDN(k(ae,ke[je])));return Re},this.getRDN=function(ae){for(var Re=[],ke=f(ae,0),je=0;je<ke.length;je++)Re.push(this.getAttrTypeAndValue(k(ae,ke[je])));return Re},this.getAttrTypeAndValue=function(ae){var Re={type:null,value:null,ds:null},ke=f(ae,0),je=te(ae,ke[0],[],"06"),Q=te(ae,ke[1],[]),Ie=ce.asn1.ASN1Util.oidHexToInt(je);return Re.type=ce.asn1.x509.OID.oid2atype(Ie),Re.value=lt(Q),Re.ds=this.HEX2STAG[ae.substr(ke[1],2)],Re},this.readCertPEM=function(ae){this.readCertHex(ft(ae))},this.readCertHex=function(ae){this.hex=ae,this.getVersion();try{Ce(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var ae={};return ae.version=this.getVersion(),ae.serial={hex:this.getSerialNumberHex()},ae.sigalg=this.getSignatureAlgorithmField(),ae.issuer=this.getIssuer(),ae.notbefore=this.getNotBefore(),ae.notafter=this.getNotAfter(),ae.subject=this.getSubject(),ae.sbjpubkey=Ke(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(ae.ext=this.getExtParamArray()),ae.sighex=this.getSignatureValueHex(),ae},this.getExtParamArray=function(ae){null==ae&&-1!=Ee(this.hex,0,[0,"[3]"])&&(ae=we(this.hex,0,[0,"[3]",0],"30"));for(var Re=[],ke=f(ae,0),je=0;je<ke.length;je++){var Q=k(ae,ke[je]),Ie=this.getExtParam(Q);null!=Ie&&Re.push(Ie)}return Re},this.getExtParam=function(ae){var Re=f(ae,0).length;if(2!=Re&&3!=Re)throw new Error("wrong number elements in Extension: "+Re+" "+ae);var ke=ot(te(ae,0,[0],"06")),je=!1;3==Re&&"0101ff"==he(ae,0,[1])&&(je=!0);var Q=he(ae,0,[Re-1,0]),Ie=void 0;if("2.5.29.14"==ke?Ie=this.getExtSubjectKeyIdentifier(Q,je):"2.5.29.15"==ke?Ie=this.getExtKeyUsage(Q,je):"2.5.29.17"==ke?Ie=this.getExtSubjectAltName(Q,je):"2.5.29.18"==ke?Ie=this.getExtIssuerAltName(Q,je):"2.5.29.19"==ke?Ie=this.getExtBasicConstraints(Q,je):"2.5.29.31"==ke?Ie=this.getExtCRLDistributionPoints(Q,je):"2.5.29.32"==ke?Ie=this.getExtCertificatePolicies(Q,je):"2.5.29.35"==ke?Ie=this.getExtAuthorityKeyIdentifier(Q,je):"2.5.29.37"==ke?Ie=this.getExtExtKeyUsage(Q,je):"1.3.6.1.5.5.7.1.1"==ke?Ie=this.getExtAuthorityInfoAccess(Q,je):"2.5.29.20"==ke?Ie=this.getExtCRLNumber(Q,je):"2.5.29.21"==ke?Ie=this.getExtCRLReason(Q,je):"1.3.6.1.5.5.7.48.1.2"==ke?Ie=this.getExtOcspNonce(Q,je):"1.3.6.1.5.5.7.48.1.5"==ke?Ie=this.getExtOcspNoCheck(Q,je):"1.2.840.113583.1.1.9.1"==ke&&(Ie=this.getExtAdobeTimeStamp(Q,je)),null!=Ie)return Ie;var ze={extname:ke,extn:Q};return je&&(ze.critical=!0),ze},this.findExt=function(ae,Re){for(var ke=0;ke<ae.length;ke++)if(ae[ke].extname==Re)return ae[ke];return null},this.updateExtCDPFullURI=function(ae,Re){var ke=this.findExt(ae,"cRLDistributionPoints");if(null!=ke&&null!=ke.array)for(var je=ke.array,Q=0;Q<je.length;Q++)if(null!=je[Q].dpname&&null!=je[Q].dpname.full)for(var Ie=je[Q].dpname.full,ze=0;ze<Ie.length;ze++){var Le=Ie[Q];null!=Le.uri&&(Le.uri=Re)}},this.updateExtAIAOCSP=function(ae,Re){var ke=this.findExt(ae,"authorityInfoAccess");if(null!=ke&&null!=ke.array)for(var je=ke.array,Q=0;Q<je.length;Q++)null!=je[Q].ocsp&&(je[Q].ocsp=Re)},this.updateExtAIACAIssuer=function(ae,Re){var ke=this.findExt(ae,"authorityInfoAccess");if(null!=ke&&null!=ke.array)for(var je=ke.array,Q=0;Q<je.length;Q++)null!=je[Q].caissuer&&(je[Q].caissuer=Re)},this.dnarraytostr=function(ae){return"/"+ae.map(function(Re){return Re.map(function(Q){return(ze=Q).type+"="+ze.value;var ze}).join("+")}).join("/")},this.getInfo=function(){var ae,Re,ke,Kn,Q=function(Kn){for(var di="",Ji=Kn.array,qn=0;qn<Ji.length;qn++){var bi=Ji[qn];if(di+="    policy oid: "+bi.policyoid+"\n",void 0!==bi.array)for(var Gi=0;Gi<bi.array.length;Gi++){var qi=bi.array[Gi];void 0!==qi.cps&&(di+="    cps: "+qi.cps+"\n")}}return di},Ie=function(Kn){for(var di="",Ji=Kn.array,qn=0;qn<Ji.length;qn++){var bi=Ji[qn];try{void 0!==bi.dpname.full[0].uri&&(di+="    "+bi.dpname.full[0].uri+"\n")}catch{}try{void 0!==bi.dname.full[0].dn.hex&&(di+="    "+si.hex2dn(bi.dpname.full[0].dn.hex)+"\n")}catch{}}return di},ze=function(Kn){for(var di="",Ji=Kn.array,qn=0;qn<Ji.length;qn++){var bi=Ji[qn];void 0!==bi.caissuer&&(di+="    caissuer: "+bi.caissuer+"\n"),void 0!==bi.ocsp&&(di+="    ocsp: "+bi.ocsp+"\n")}return di};if(ae="Basic Fields\n",ae+="  serial number: "+this.getSerialNumberHex()+"\n",ae+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",ae+="  issuer: "+this.getIssuerString()+"\n",ae+="  notBefore: "+this.getNotBefore()+"\n",ae+="  notAfter: "+this.getNotAfter()+"\n",ae+="  subject: "+this.getSubjectString()+"\n",ae+="  subject public key info: \n",ae+="    key algorithm: "+(Re=this.getPublicKey()).type+"\n","RSA"===Re.type&&(ae+="    n="+rr(Re.n.toString(16)).substr(0,16)+"...\n",ae+="    e="+rr(Re.e.toString(16))+"\n"),null!=(ke=this.aExtInfo)){ae+="X509v3 Extensions:\n";for(var Le=0;Le<ke.length;Le++){var Rt=ke[Le],yt=ce.asn1.x509.OID.oid2name(Rt.oid);""===yt&&(yt=Rt.oid);var Zt="";if(!0===Rt.critical&&(Zt="CRITICAL"),ae+="  "+yt+" "+Zt+":\n","basicConstraints"===yt){var Mn=this.getExtBasicConstraints();void 0===Mn.cA?ae+="    {}\n":(ae+="    cA=true",void 0!==Mn.pathLen&&(ae+=", pathLen="+Mn.pathLen),ae+="\n")}else if("keyUsage"===yt)ae+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===yt)ae+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===yt){var Ln=this.getExtAuthorityKeyIdentifier();void 0!==Ln.kid&&(ae+="    kid="+Ln.kid.hex+"\n")}else"extKeyUsage"===yt?ae+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===yt?ae+="    "+(Kn=this.getExtSubjectAltName(),JSON.stringify(Kn.array).replace(/[\[\]\{\}\"]/g,"")+"\n"):"cRLDistributionPoints"===yt?ae+=Ie(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===yt?ae+=ze(this.getExtAuthorityInfoAccess()):"certificatePolicies"===yt&&(ae+=Q(this.getExtCertificatePolicies()))}}return(ae+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof i&&(-1!=i.indexOf("-----BEGIN")?this.readCertPEM(i):ce.lang.String.isHex(i)&&this.readCertHex(i))}on.prototype.sign=function(i,r){var a=function(T){return ce.crypto.Util.hashString(T,r)}(i);return this.signWithMessageHash(a,r)},on.prototype.signWithMessageHash=function(i,r){var a=Hn(ce.crypto.Util.getPaddedDigestInfoHex(i,r,this.n.bitLength()),16);return Dr(this.doPrivate(a).toString(16),this.n.bitLength())},on.prototype.signPSS=function(i,r,a){var k,f=(k=Ut(i),ce.crypto.Util.hashHex(k,r));return void 0===a&&(a=-1),this.signWithMessageHashPSS(f,r,a)},on.prototype.signWithMessageHashPSS=function(i,r,a){var f,T=lt(i),k=T.length,te=this.n.bitLength()-1,_e=Math.ceil(te/8),he=function(ae){return ce.crypto.Util.hashHex(ae,r)};if(-1===a||void 0===a)a=k;else if(-2===a)a=_e-k-2;else if(a<-2)throw new Error("invalid salt length");if(_e<k+a+2)throw new Error("data too long");var we="";a>0&&(we=new Array(a),(new Pn).nextBytes(we),we=String.fromCharCode.apply(String,we));var Ce=lt(he(Ut("\0\0\0\0\0\0\0\0"+T+we))),Ee=[];for(f=0;f<_e-a-k-2;f+=1)Ee[f]=0;var Pe=String.fromCharCode.apply(String,Ee)+"\x01"+we,Ve=sr(Ce,Pe.length,he),ot=[];for(f=0;f<Pe.length;f+=1)ot[f]=Pe.charCodeAt(f)^Ve.charCodeAt(f);for(ot[0]&=~(65280>>8*_e-te&255),f=0;f<k;f++)ot.push(Ce.charCodeAt(f));return ot.push(188),Dr(this.doPrivate(new fe(ot)).toString(16),this.n.bitLength())},on.prototype.verify=function(i,r){var a=Hn(r=(r=r.replace(lr,"")).replace(/[ \n]+/g,""),16);if(a.bitLength()>this.n.bitLength())return 0;var f=Oi(this.doPublic(a).toString(16).replace(/^1f+00/,""));return 0!=f.length&&f[1]==ce.crypto.Util.hashString(i,f[0])},on.prototype.verifyWithMessageHash=function(i,r){if(r.length!=Math.ceil(this.n.bitLength()/4))return!1;var a=Hn(r,16);if(a.bitLength()>this.n.bitLength())return 0;var f=Oi(this.doPublic(a).toString(16).replace(/^1f+00/,""));return 0!=f.length&&f[1]==i},on.prototype.verifyPSS=function(i,r,a,f){var te,T=(te=Ut(i),ce.crypto.Util.hashHex(te,a));return void 0===f&&(f=-1),this.verifyWithMessageHashPSS(T,r,a,f)},on.prototype.verifyWithMessageHashPSS=function(i,r,a,f){if(r.length!=Math.ceil(this.n.bitLength()/4))return!1;var T,k=new fe(r,16),te=function(ke){return ce.crypto.Util.hashHex(ke,a)},_e=lt(i),he=_e.length,we=this.n.bitLength()-1,Ce=Math.ceil(we/8);if(-1===f||void 0===f)f=he;else if(-2===f)f=Ce-he-2;else if(f<-2)throw new Error("invalid salt length");if(Ce<he+f+2)throw new Error("data too long");var Ee=this.doPublic(k).toByteArray();for(T=0;T<Ee.length;T+=1)Ee[T]&=255;for(;Ee.length<Ce;)Ee.unshift(0);if(188!==Ee[Ce-1])throw new Error("encoded message does not end in 0xbc");var Pe=(Ee=String.fromCharCode.apply(String,Ee)).substr(0,Ce-he-1),Ve=Ee.substr(Pe.length,he),ot=65280>>8*Ce-we&255;if(Pe.charCodeAt(0)&ot)throw new Error("bits beyond keysize not zero");var ut=sr(Ve,Pe.length,te),ft=[];for(T=0;T<Pe.length;T+=1)ft[T]=Pe.charCodeAt(T)^ut.charCodeAt(T);ft[0]&=~ot;var ae=Ce-he-f-2;for(T=0;T<ae;T+=1)if(0!==ft[T])throw new Error("leftmost octets not zero");if(1!==ft[ae])throw new Error("0x01 marker not found");return Ve===lt(te(Ut("\0\0\0\0\0\0\0\0"+_e+String.fromCharCode.apply(String,ft.slice(-f)))))},on.SALT_LEN_HLEN=-1,on.SALT_LEN_MAX=-2,on.SALT_LEN_RECOVER=-2,si.hex2dn=function(i,r){if(void 0===r&&(r=0),"30"!==i.substr(r,2))throw new Error("malformed DN");for(var a=new Array,f=qt.getChildIdx(i,r),T=0;T<f.length;T++)a.push(si.hex2rdn(i,f[T]));return"/"+(a=a.map(function(k){return k.replace("/","\\/")})).join("/")},si.hex2rdn=function(i,r){if(void 0===r&&(r=0),"31"!==i.substr(r,2))throw new Error("malformed RDN");for(var a=new Array,f=qt.getChildIdx(i,r),T=0;T<f.length;T++)a.push(si.hex2attrTypeValue(i,f[T]));return(a=a.map(function(k){return k.replace("+","\\+")})).join("+")},si.hex2attrTypeValue=function(i,r){var a=qt,f=a.getV;if(void 0===r&&(r=0),"30"!==i.substr(r,2))throw new Error("malformed attribute type and value");var T=a.getChildIdx(i,r);2!==T.length||i.substr(T[0],2);var k=f(i,T[0]),te=ce.asn1.ASN1Util.oidHexToInt(k);return ce.asn1.x509.OID.oid2atype(te)+"="+lt(f(i,T[1]))},si.getPublicKeyFromCertHex=function(i){var r=new si;return r.readCertHex(i),r.getPublicKey()},si.getPublicKeyFromCertPEM=function(i){var r=new si;return r.readCertPEM(i),r.getPublicKey()},si.getPublicKeyInfoPropOfCertPEM=function(i){var r,a,f=qt.getVbyList,T={algparam:null};return(r=new si).readCertPEM(i),a=r.getPublicKeyHex(),T.keyhex=f(a,0,[1],"03").substr(2),T.algoid=f(a,0,[0,0],"06"),"2a8648ce3d0201"===T.algoid&&(T.algparam=f(a,0,[0,1],"06")),T},si.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ce&&ce||(l.KJUR=ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWS=function(){var i=ce.jws.JWS.isSafeJSONString;this.parseJWS=function(r,a){if(void 0===this.parsedJWS||!a&&void 0===this.parsedJWS.sigvalH){var f=r.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==f)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var T=f[1],k=f[2],te=f[3],_e=T+"."+k;if(this.parsedJWS={},this.parsedJWS.headB64U=T,this.parsedJWS.payloadB64U=k,this.parsedJWS.sigvalB64U=te,this.parsedJWS.si=_e,!a){var he=et(te),we=Hn(he,16);this.parsedJWS.sigvalH=he,this.parsedJWS.sigvalBI=we}var Ce=Ii(T),Ee=Ii(k);if(this.parsedJWS.headS=Ce,this.parsedJWS.payloadS=Ee,!i(Ce,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Ce}}},ce.jws.JWS.sign=function(i,r,a,f,T){var k,te,_e,we=ce.jws.JWS,Ce=we.readSafeJSONString,Ee=we.isSafeJSONString,Pe=ce.crypto,Ve=Pe.Mac,ot=Pe.Signature,ut=JSON;if("string"!=typeof r&&"object"!=(void 0===r?"undefined":u(r)))throw"spHeader must be JSON string or object: "+r;if("object"==(void 0===r?"undefined":u(r))&&(k=ut.stringify(te=r)),"string"==typeof r){if(!Ee(k=r))throw"JWS Head is not safe JSON string: "+k;te=Ce(k)}if(_e=a,"object"==(void 0===a?"undefined":u(a))&&(_e=ut.stringify(a)),""!=i&&null!=i||void 0===te.alg||(i=te.alg),""!=i&&null!=i&&void 0===te.alg&&(te.alg=i,k=ut.stringify(te)),i!==te.alg)throw"alg and sHeader.alg doesn't match: "+i+"!="+te.alg;var ft=null;if(void 0===we.jwsalg2sigalg[i])throw"unsupported alg name: "+i;ft=we.jwsalg2sigalg[i];var ae=Mi(k)+"."+Mi(_e),Re="";if("Hmac"==ft.substr(0,4)){if(void 0===f)throw"mac key shall be specified for HS* alg";var ke=new Ve({alg:ft,prov:"cryptojs",pass:f});ke.updateString(ae),Re=ke.doFinal()}else if(-1!=ft.indexOf("withECDSA")){(Q=new ot({alg:ft})).init(f,T),Q.updateString(ae);var je=Q.sign();Re=ce.crypto.ECDSA.asn1SigToConcatSig(je)}else{var Q;"none"!=ft&&((Q=new ot({alg:ft})).init(f,T),Q.updateString(ae),Re=Q.sign())}return ae+"."+pe(Re)},ce.jws.JWS.verify=function(i,r,a){var f,k=ce.jws.JWS,te=k.readSafeJSONString,_e=ce.crypto,he=_e.ECDSA,we=_e.Mac,Ce=_e.Signature;void 0!==u(on)&&(f=on);var Ee=i.split(".");if(3!==Ee.length)return!1;var ft,Pe=Ee[0]+"."+Ee[1],Ve=et(Ee[2]),ot=te(Ii(Ee[0])),ut=null;if(void 0===ot.alg)throw"algorithm not specified in header";if(ft=(ut=ot.alg).substr(0,2),null!=a&&"[object Array]"===Object.prototype.toString.call(a)&&a.length>0&&-1==(":"+a.join(":")+":").indexOf(":"+ut+":"))throw"algorithm '"+ut+"' not accepted in the list";if("none"!=ut&&null===r)throw"key shall be specified to verify.";if("string"==typeof r&&-1!=r.indexOf("-----BEGIN ")&&(r=xi.getKey(r)),!("RS"!=ft&&"PS"!=ft||r instanceof f))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==ft&&!(r instanceof he))throw"key shall be a ECDSA obj for ES* algs";var ae=null;if(void 0===k.jwsalg2sigalg[ot.alg])throw"unsupported alg name: "+ut;if("none"==(ae=k.jwsalg2sigalg[ut]))throw"not supported";if("Hmac"==ae.substr(0,4)){if(void 0===r)throw"hexadecimal key shall be specified for HMAC";var Re=new we({alg:ae,pass:r});return Re.updateString(Pe),Ve==Re.doFinal()}if(-1!=ae.indexOf("withECDSA")){var ke,je=null;try{je=he.concatSigToASN1Sig(Ve)}catch{return!1}return(ke=new Ce({alg:ae})).init(r),ke.updateString(Pe),ke.verify(je)}return(ke=new Ce({alg:ae})).init(r),ke.updateString(Pe),ke.verify(Ve)},ce.jws.JWS.parse=function(i){var a,f,T=i.split("."),k={};if(2!=T.length&&3!=T.length)throw"malformed sJWS: wrong number of '.' splitted elements";return a=T[1],3==T.length&&(f=T[2]),k.headerObj=ce.jws.JWS.readSafeJSONString(Ii(T[0])),k.payloadObj=ce.jws.JWS.readSafeJSONString(Ii(a)),k.headerPP=JSON.stringify(k.headerObj,null,"  "),k.payloadPP=null==k.payloadObj?Ii(a):JSON.stringify(k.payloadObj,null,"  "),void 0!==f&&(k.sigHex=et(f)),k},ce.jws.JWS.verifyJWT=function(i,r,a){var f=ce.jws,T=f.JWS,k=T.readSafeJSONString,te=T.inArray,_e=T.includedArray,he=i.split("."),we=he[0],Ce=he[1],Ee=(et(he[2]),k(Ii(we))),Pe=k(Ii(Ce));if(void 0===Ee.alg)return!1;if(void 0===a.alg)throw"acceptField.alg shall be specified";if(!te(Ee.alg,a.alg)||void 0!==Pe.iss&&"object"===u(a.iss)&&!te(Pe.iss,a.iss)||void 0!==Pe.sub&&"object"===u(a.sub)&&!te(Pe.sub,a.sub))return!1;if(void 0!==Pe.aud&&"object"===u(a.aud))if("string"==typeof Pe.aud){if(!te(Pe.aud,a.aud))return!1}else if("object"==u(Pe.aud)&&!_e(Pe.aud,a.aud))return!1;var Ve=f.IntDate.getNow();return void 0!==a.verifyAt&&"number"==typeof a.verifyAt&&(Ve=a.verifyAt),void 0!==a.gracePeriod&&"number"==typeof a.gracePeriod||(a.gracePeriod=0),!(void 0!==Pe.exp&&"number"==typeof Pe.exp&&Pe.exp+a.gracePeriod<Ve||void 0!==Pe.nbf&&"number"==typeof Pe.nbf&&Ve<Pe.nbf-a.gracePeriod||void 0!==Pe.iat&&"number"==typeof Pe.iat&&Ve<Pe.iat-a.gracePeriod||void 0!==Pe.jti&&void 0!==a.jti&&Pe.jti!==a.jti||!T.verify(i,r,a.alg))},ce.jws.JWS.includedArray=function(i,r){var a=ce.jws.JWS.inArray;if(null===i||"object"!==(void 0===i?"undefined":u(i))||"number"!=typeof i.length)return!1;for(var f=0;f<i.length;f++)if(!a(i[f],r))return!1;return!0},ce.jws.JWS.inArray=function(i,r){if(null===r||"object"!==(void 0===r?"undefined":u(r))||"number"!=typeof r.length)return!1;for(var a=0;a<r.length;a++)if(r[a]==i)return!0;return!1},ce.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ce.jws.JWS.isSafeJSONString=function(i,r,a){var f=null;try{return"object"!=(void 0===(f=ri(i))?"undefined":u(f))||f.constructor===Array?0:(r&&(r[a]=f),1)}catch{return 0}},ce.jws.JWS.readSafeJSONString=function(i){var r=null;try{return"object"!=(void 0===(r=ri(i))?"undefined":u(r))||r.constructor===Array?null:r}catch{return null}},ce.jws.JWS.getEncodedSignatureValueFromJWS=function(i){var r=i.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return r[1]},ce.jws.JWS.getJWKthumbprint=function(i){if("RSA"!==i.kty&&"EC"!==i.kty&&"oct"!==i.kty)throw"unsupported algorithm for JWK Thumprint";var r="{";if("RSA"===i.kty){if("string"!=typeof i.n||"string"!=typeof i.e)throw"wrong n and e value for RSA key";r+='"e":"'+i.e+'",',r+='"kty":"'+i.kty+'",',r+='"n":"'+i.n+'"}'}else if("EC"===i.kty){if("string"!=typeof i.crv||"string"!=typeof i.x||"string"!=typeof i.y)throw"wrong crv, x and y value for EC key";r+='"crv":"'+i.crv+'",',r+='"kty":"'+i.kty+'",',r+='"x":"'+i.x+'",',r+='"y":"'+i.y+'"}'}else if("oct"===i.kty){if("string"!=typeof i.k)throw"wrong k value for oct(symmetric) key";r+='"kty":"'+i.kty+'",',r+='"k":"'+i.k+'"}'}var a=Ut(r);return pe(ce.crypto.Util.hashHex(a,"sha256"))},ce.jws.IntDate={},ce.jws.IntDate.get=function(i){var r=ce.jws.IntDate,a=r.getNow,f=r.getZulu;if("now"==i)return a();if("now + 1hour"==i)return a()+3600;if("now + 1day"==i)return a()+86400;if("now + 1month"==i)return a()+2592e3;if("now + 1year"==i)return a()+31536e3;if(i.match(/Z$/))return f(i);if(i.match(/^[0-9]+$/))return parseInt(i);throw"unsupported format: "+i},ce.jws.IntDate.getZulu=function(i){return $e(i)},ce.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ce.jws.IntDate.intDate2UTCString=function(i){return new Date(1e3*i).toUTCString()},ce.jws.IntDate.intDate2Zulu=function(i){var r=new Date(1e3*i);return("0000"+r.getUTCFullYear()).slice(-4)+("00"+(r.getUTCMonth()+1)).slice(-2)+("00"+r.getUTCDate()).slice(-2)+("00"+r.getUTCHours()).slice(-2)+("00"+r.getUTCMinutes()).slice(-2)+("00"+r.getUTCSeconds()).slice(-2)+"Z"},l.SecureRandom=Pn,l.rng_seed_time=qe,l.BigInteger=fe,l.RSAKey=on,l.EDSA=ce.crypto.EDSA,l.DSA=ce.crypto.DSA,l.Signature=ce.crypto.Signature,l.MessageDigest=ce.crypto.MessageDigest,l.Mac=ce.crypto.Mac,l.Cipher=ce.crypto.Cipher,l.KEYUTIL=xi,l.ASN1HEX=qt,l.X509=si,l.CryptoJS=be,l.b64tohex=Me,l.b64toBA=st,l.stoBA=Tr,l.BAtos=Xi,l.BAtohex=er,l.stohex=Ht,l.stob64=function(r){return Ae(Ht(r))},l.stob64u=function(r){return It(Ae(Ht(r)))},l.b64utos=function(r){return Xi(st(Y(r)))},l.b64tob64u=It,l.b64utob64=Y,l.hex2b64=Ae,l.hextob64u=pe,l.b64utohex=et,l.utf8tob64u=Mi,l.b64utoutf8=Ii,l.utf8tob64=function(r){return Ae(_t(Ci(r)))},l.b64toutf8=function(r){return decodeURIComponent(kt(Me(r)))},l.utf8tohex=ct,l.hextoutf8=at,l.hextorstr=lt,l.rstrtohex=Ut,l.hextob64=pn,l.hextob64nl=vn,l.b64nltohex=Jt,l.hextopem=Ke,l.pemtohex=Bt,l.hextoArrayBuffer=function(r){if(r.length%2!=0)throw"input is not even length";if(null==r.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var a=new ArrayBuffer(r.length/2),f=new DataView(a),T=0;T<r.length/2;T++)f.setUint8(T,parseInt(r.substr(2*T,2),16));return a},l.ArrayBuffertohex=function(r){for(var a="",f=new DataView(r),T=0;T<r.byteLength;T++)a+=("00"+f.getUint8(T).toString(16)).slice(-2);return a},l.zulutomsec=ge,l.zulutosec=$e,l.zulutodate=function(r){return new Date(ge(r))},l.datetozulu=function(r,a,f){var T,k=r.getUTCFullYear();if(a){if(k<1950||2049<k)throw"not proper year for UTCTime: "+k;T=(""+k).slice(-2)}else T=("000"+k).slice(-4);if(T+=("0"+(r.getUTCMonth()+1)).slice(-2),T+=("0"+r.getUTCDate()).slice(-2),T+=("0"+r.getUTCHours()).slice(-2),T+=("0"+r.getUTCMinutes()).slice(-2),T+=("0"+r.getUTCSeconds()).slice(-2),f){var te=r.getUTCMilliseconds();0!==te&&(T+="."+(te=(te=("00"+te).slice(-3)).replace(/0+$/g,"")))}return T+"Z"},l.uricmptohex=_t,l.hextouricmp=kt,l.ipv6tohex=Qt,l.hextoipv6=Rn,l.hextoip=ui,l.iptohex=function(r){var a="malformed IP address";if(!(r=r.toLowerCase(r)).match(/^[0-9.]+$/)){if(r.match(/^[0-9a-f:]+$/)&&-1!==r.indexOf(":"))return Qt(r);throw a}var f=r.split(".");if(4!==f.length)throw a;var T="";try{for(var k=0;k<4;k++)T+=("0"+parseInt(f[k]).toString(16)).slice(-2);return T}catch{throw a}},l.encodeURIComponentAll=Ci,l.newline_toUnix=function(r){return r.replace(/\r\n/gm,"\n")},l.newline_toDos=function(r){return(r=r.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},l.hextoposhex=rr,l.intarystrtohex=function(r){r=(r=(r=r.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return r.split(/,/).map(function(a,f,T){var k=parseInt(a);if(k<0||255<k)throw"integer not in range 0-255";return("00"+k.toString(16)).slice(-2)}).join("")}catch(a){throw"malformed integer array string: "+a}},l.strdiffidx=function(r,a){var f=r.length;r.length>a.length&&(f=a.length);for(var T=0;T<f;T++)if(r.charCodeAt(T)!=a.charCodeAt(T))return T;return r.length!=a.length?f:-1},l.KJUR=ce,l.crypto=ce.crypto,l.asn1=ce.asn1,l.jws=ce.jws,l.lang=ce.lang}).call(this,e(28).Buffer)},function(le,l,e){"use strict";(function(S){var u=e(30),N=e(31),x=e(32);function h(){return E.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(Te,U){if(h()<U)throw new RangeError("Invalid typed array length");return E.TYPED_ARRAY_SUPPORT?(Te=new Uint8Array(U)).__proto__=E.prototype:(null===Te&&(Te=new E(U)),Te.length=U),Te}function E(Te,U,K){if(!(E.TYPED_ARRAY_SUPPORT||this instanceof E))return new E(Te,U,K);if("number"==typeof Te){if("string"==typeof U)throw new Error("If encoding is specified then the first argument must be a string");return V(this,Te)}return C(this,Te,U,K)}function C(Te,U,K,xe){if("number"==typeof U)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&U instanceof ArrayBuffer?function(tt,qe,Et,Qe){if(Et<0||qe.byteLength<Et)throw new RangeError("'offset' is out of bounds");if(qe.byteLength<Et+(Qe||0))throw new RangeError("'length' is out of bounds");return qe=void 0===Et&&void 0===Qe?new Uint8Array(qe):void 0===Qe?new Uint8Array(qe,Et):new Uint8Array(qe,Et,Qe),E.TYPED_ARRAY_SUPPORT?(tt=qe).__proto__=E.prototype:tt=$(tt,qe),tt}(Te,U,K,xe):"string"==typeof U?function(tt,qe,Et){if("string"==typeof Et&&""!==Et||(Et="utf8"),!E.isEncoding(Et))throw new TypeError('"encoding" must be a valid string encoding');var Qe=0|q(qe,Et),Ct=(tt=y(tt,Qe)).write(qe,Et);return Ct!==Qe&&(tt=tt.slice(0,Ct)),tt}(Te,U,K):function(tt,qe){if(E.isBuffer(qe)){var Et=0|j(qe.length);return 0===(tt=y(tt,Et)).length||qe.copy(tt,0,0,Et),tt}if(qe){if(typeof ArrayBuffer<"u"&&qe.buffer instanceof ArrayBuffer||"length"in qe)return"number"!=typeof qe.length||(Ct=qe.length)!=Ct?y(tt,0):$(tt,qe);if("Buffer"===qe.type&&x(qe.data))return $(tt,qe.data)}var Ct;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Te,U)}function F(Te){if("number"!=typeof Te)throw new TypeError('"size" argument must be a number');if(Te<0)throw new RangeError('"size" argument must not be negative')}function V(Te,U){if(F(U),Te=y(Te,U<0?0:0|j(U)),!E.TYPED_ARRAY_SUPPORT)for(var K=0;K<U;++K)Te[K]=0;return Te}function $(Te,U){var K=U.length<0?0:0|j(U.length);Te=y(Te,K);for(var xe=0;xe<K;xe+=1)Te[xe]=255&U[xe];return Te}function j(Te){if(Te>=h())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h().toString(16)+" bytes");return 0|Te}function q(Te,U){if(E.isBuffer(Te))return Te.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Te)||Te instanceof ArrayBuffer))return Te.byteLength;"string"!=typeof Te&&(Te=""+Te);var K=Te.length;if(0===K)return 0;for(var xe=!1;;)switch(U){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":case void 0:return Vt(Te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return dn(Te).length;default:if(xe)return Vt(Te).length;U=(""+U).toLowerCase(),xe=!0}}function ee(Te,U,K){var xe=!1;if((void 0===U||U<0)&&(U=0),U>this.length||((void 0===K||K>this.length)&&(K=this.length),K<=0)||(K>>>=0)<=(U>>>=0))return"";for(Te||(Te="utf8");;)switch(Te){case"hex":return an(this,U,K);case"utf8":case"utf-8":return Gt(this,U,K);case"ascii":return dt(this,U,K);case"latin1":case"binary":return sn(this,U,K);case"base64":return Dt(this,U,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return un(this,U,K);default:if(xe)throw new TypeError("Unknown encoding: "+Te);Te=(Te+"").toLowerCase(),xe=!0}}function ue(Te,U,K){var xe=Te[U];Te[U]=Te[K],Te[K]=xe}function Fe(Te,U,K,xe,Be){if(0===Te.length)return-1;if("string"==typeof K?(xe=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,isNaN(K)&&(K=Be?0:Te.length-1),K<0&&(K=Te.length+K),K>=Te.length){if(Be)return-1;K=Te.length-1}else if(K<0){if(!Be)return-1;K=0}if("string"==typeof U&&(U=E.from(U,xe)),E.isBuffer(U))return 0===U.length?-1:be(Te,U,K,xe,Be);if("number"==typeof U)return U&=255,E.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?Be?Uint8Array.prototype.indexOf.call(Te,U,K):Uint8Array.prototype.lastIndexOf.call(Te,U,K):be(Te,[U],K,xe,Be);throw new TypeError("val must be string, number or Buffer")}function be(Te,U,K,xe,Be){var tt,qe=1,Et=Te.length,Qe=U.length;if(void 0!==xe&&("ucs2"===(xe=String(xe).toLowerCase())||"ucs-2"===xe||"utf16le"===xe||"utf-16le"===xe)){if(Te.length<2||U.length<2)return-1;qe=2,Et/=2,Qe/=2,K/=2}function Ct(Hn,zn){return 1===qe?Hn[zn]:Hn.readUInt16BE(zn*qe)}if(Be){var Yt=-1;for(tt=K;tt<Et;tt++)if(Ct(Te,tt)===Ct(U,-1===Yt?0:tt-Yt)){if(-1===Yt&&(Yt=tt),tt-Yt+1===Qe)return Yt*qe}else-1!==Yt&&(tt-=tt-Yt),Yt=-1}else for(K+Qe>Et&&(K=Et-Qe),tt=K;tt>=0;tt--){for(var ln=!0,Pn=0;Pn<Qe;Pn++)if(Ct(Te,tt+Pn)!==Ct(U,Pn)){ln=!1;break}if(ln)return tt}return-1}function De(Te,U,K,xe){K=Number(K)||0;var Be=Te.length-K;xe?(xe=Number(xe))>Be&&(xe=Be):xe=Be;var tt=U.length;if(tt%2!=0)throw new TypeError("Invalid hex string");xe>tt/2&&(xe=tt/2);for(var qe=0;qe<xe;++qe){var Et=parseInt(U.substr(2*qe,2),16);if(isNaN(Et))return qe;Te[K+qe]=Et}return qe}function se(Te,U,K,xe){return An(Vt(U,Te.length-K),Te,K,xe)}function Ae(Te,U,K,xe){return An(function(tt){for(var qe=[],Et=0;Et<tt.length;++Et)qe.push(255&tt.charCodeAt(Et));return qe}(U),Te,K,xe)}function Me(Te,U,K,xe){return Ae(Te,U,K,xe)}function st(Te,U,K,xe){return An(dn(U),Te,K,xe)}function fe(Te,U,K,xe){return An(function(tt,qe){for(var Et,Qe,Yt=[],ln=0;ln<tt.length&&!((qe-=2)<0);++ln)Qe=(Et=tt.charCodeAt(ln))>>8,Yt.push(Et%256),Yt.push(Qe);return Yt}(U,Te.length-K),Te,K,xe)}function Dt(Te,U,K){return u.fromByteArray(0===U&&K===Te.length?Te:Te.slice(U,K))}function Gt(Te,U,K){K=Math.min(Te.length,K);for(var xe=[],Be=U;Be<K;){var tt,qe,Et,Qe,Ct=Te[Be],Yt=null,ln=Ct>239?4:Ct>223?3:Ct>191?2:1;if(Be+ln<=K)switch(ln){case 1:Ct<128&&(Yt=Ct);break;case 2:128==(192&(tt=Te[Be+1]))&&(Qe=(31&Ct)<<6|63&tt)>127&&(Yt=Qe);break;case 3:qe=Te[Be+2],128==(192&(tt=Te[Be+1]))&&128==(192&qe)&&(Qe=(15&Ct)<<12|(63&tt)<<6|63&qe)>2047&&(Qe<55296||Qe>57343)&&(Yt=Qe);break;case 4:qe=Te[Be+2],Et=Te[Be+3],128==(192&(tt=Te[Be+1]))&&128==(192&qe)&&128==(192&Et)&&(Qe=(15&Ct)<<18|(63&tt)<<12|(63&qe)<<6|63&Et)>65535&&Qe<1114112&&(Yt=Qe)}null===Yt?(Yt=65533,ln=1):Yt>65535&&(xe.push((Yt-=65536)>>>10&1023|55296),Yt=56320|1023&Yt),xe.push(Yt),Be+=ln}return function(Hn){var zn=Hn.length;if(zn<=Pt)return String.fromCharCode.apply(String,Hn);for(var on="",jn=0;jn<zn;)on+=String.fromCharCode.apply(String,Hn.slice(jn,jn+=Pt));return on}(xe)}l.Buffer=E,l.SlowBuffer=function(U){return+U!=U&&(U=0),E.alloc(+U)},l.INSPECT_MAX_BYTES=50,E.TYPED_ARRAY_SUPPORT=void 0!==S.TYPED_ARRAY_SUPPORT?S.TYPED_ARRAY_SUPPORT:function(){try{var U=new Uint8Array(1);return U.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===U.foo()&&"function"==typeof U.subarray&&0===U.subarray(1,1).byteLength}catch{return!1}}(),l.kMaxLength=h(),E.poolSize=8192,E._augment=function(Te){return Te.__proto__=E.prototype,Te},E.from=function(Te,U,K){return C(null,Te,U,K)},E.TYPED_ARRAY_SUPPORT&&(E.prototype.__proto__=Uint8Array.prototype,E.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&E[Symbol.species]===E&&Object.defineProperty(E,Symbol.species,{value:null,configurable:!0})),E.alloc=function(Te,U,K){return null,qe=U,Et=K,F(tt=Te),tt<=0?y(null,tt):void 0!==qe?"string"==typeof Et?y(null,tt).fill(qe,Et):y(null,tt).fill(qe):y(null,tt);var tt,qe,Et},E.allocUnsafe=function(Te){return V(null,Te)},E.allocUnsafeSlow=function(Te){return V(null,Te)},E.isBuffer=function(U){return!(null==U||!U._isBuffer)},E.compare=function(U,K){if(!E.isBuffer(U)||!E.isBuffer(K))throw new TypeError("Arguments must be Buffers");if(U===K)return 0;for(var xe=U.length,Be=K.length,tt=0,qe=Math.min(xe,Be);tt<qe;++tt)if(U[tt]!==K[tt]){xe=U[tt],Be=K[tt];break}return xe<Be?-1:Be<xe?1:0},E.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(U,K){if(!x(U))throw new TypeError('"list" argument must be an Array of Buffers');if(0===U.length)return E.alloc(0);var xe;if(void 0===K)for(K=0,xe=0;xe<U.length;++xe)K+=U[xe].length;var Be=E.allocUnsafe(K),tt=0;for(xe=0;xe<U.length;++xe){var qe=U[xe];if(!E.isBuffer(qe))throw new TypeError('"list" argument must be an Array of Buffers');qe.copy(Be,tt),tt+=qe.length}return Be},E.byteLength=q,E.prototype._isBuffer=!0,E.prototype.swap16=function(){var U=this.length;if(U%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var K=0;K<U;K+=2)ue(this,K,K+1);return this},E.prototype.swap32=function(){var U=this.length;if(U%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var K=0;K<U;K+=4)ue(this,K,K+3),ue(this,K+1,K+2);return this},E.prototype.swap64=function(){var U=this.length;if(U%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var K=0;K<U;K+=8)ue(this,K,K+7),ue(this,K+1,K+6),ue(this,K+2,K+5),ue(this,K+3,K+4);return this},E.prototype.toString=function(){var U=0|this.length;return 0===U?"":0===arguments.length?Gt(this,0,U):ee.apply(this,arguments)},E.prototype.equals=function(U){if(!E.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U||0===E.compare(this,U)},E.prototype.inspect=function(){var U="",K=l.INSPECT_MAX_BYTES;return this.length>0&&(U=this.toString("hex",0,K).match(/.{2}/g).join(" "),this.length>K&&(U+=" ... ")),"<Buffer "+U+">"},E.prototype.compare=function(U,K,xe,Be,tt){if(!E.isBuffer(U))throw new TypeError("Argument must be a Buffer");if(void 0===K&&(K=0),void 0===xe&&(xe=U?U.length:0),void 0===Be&&(Be=0),void 0===tt&&(tt=this.length),K<0||xe>U.length||Be<0||tt>this.length)throw new RangeError("out of range index");if(Be>=tt&&K>=xe)return 0;if(Be>=tt)return-1;if(K>=xe)return 1;if(this===U)return 0;for(var qe=(tt>>>=0)-(Be>>>=0),Et=(xe>>>=0)-(K>>>=0),Qe=Math.min(qe,Et),Ct=this.slice(Be,tt),Yt=U.slice(K,xe),ln=0;ln<Qe;++ln)if(Ct[ln]!==Yt[ln]){qe=Ct[ln],Et=Yt[ln];break}return qe<Et?-1:Et<qe?1:0},E.prototype.includes=function(U,K,xe){return-1!==this.indexOf(U,K,xe)},E.prototype.indexOf=function(U,K,xe){return Fe(this,U,K,xe,!0)},E.prototype.lastIndexOf=function(U,K,xe){return Fe(this,U,K,xe,!1)},E.prototype.write=function(U,K,xe,Be){if(void 0===K)Be="utf8",xe=this.length,K=0;else if(void 0===xe&&"string"==typeof K)Be=K,xe=this.length,K=0;else{if(!isFinite(K))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");K|=0,isFinite(xe)?(xe|=0,void 0===Be&&(Be="utf8")):(Be=xe,xe=void 0)}var tt=this.length-K;if((void 0===xe||xe>tt)&&(xe=tt),U.length>0&&(xe<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");Be||(Be="utf8");for(var qe=!1;;)switch(Be){case"hex":return De(this,U,K,xe);case"utf8":case"utf-8":return se(this,U,K,xe);case"ascii":return Ae(this,U,K,xe);case"latin1":case"binary":return Me(this,U,K,xe);case"base64":return st(this,U,K,xe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,U,K,xe);default:if(qe)throw new TypeError("Unknown encoding: "+Be);Be=(""+Be).toLowerCase(),qe=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Pt=4096;function dt(Te,U,K){var xe="";K=Math.min(Te.length,K);for(var Be=U;Be<K;++Be)xe+=String.fromCharCode(127&Te[Be]);return xe}function sn(Te,U,K){var xe="";K=Math.min(Te.length,K);for(var Be=U;Be<K;++Be)xe+=String.fromCharCode(Te[Be]);return xe}function an(Te,U,K){var xe=Te.length;(!U||U<0)&&(U=0),(!K||K<0||K>xe)&&(K=xe);for(var Be="",tt=U;tt<K;++tt)Be+=Kt(Te[tt]);return Be}function un(Te,U,K){for(var xe=Te.slice(U,K),Be="",tt=0;tt<xe.length;tt+=2)Be+=String.fromCharCode(xe[tt]+256*xe[tt+1]);return Be}function Sn(Te,U,K){if(Te%1!=0||Te<0)throw new RangeError("offset is not uint");if(Te+U>K)throw new RangeError("Trying to access beyond buffer length")}function hn(Te,U,K,xe,Be,tt){if(!E.isBuffer(Te))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>Be||U<tt)throw new RangeError('"value" argument is out of bounds');if(K+xe>Te.length)throw new RangeError("Index out of range")}function cn(Te,U,K,xe){U<0&&(U=65535+U+1);for(var Be=0,tt=Math.min(Te.length-K,2);Be<tt;++Be)Te[K+Be]=(U&255<<8*(xe?Be:1-Be))>>>8*(xe?Be:1-Be)}function $t(Te,U,K,xe){U<0&&(U=4294967295+U+1);for(var Be=0,tt=Math.min(Te.length-K,4);Be<tt;++Be)Te[K+Be]=U>>>8*(xe?Be:3-Be)&255}function Xe(Te,U,K,xe,Be,tt){if(K+xe>Te.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function ht(Te,U,K,xe,Be){return Be||Xe(Te,0,K,4),N.write(Te,U,K,xe,23,4),K+4}function Tt(Te,U,K,xe,Be){return Be||Xe(Te,0,K,8),N.write(Te,U,K,xe,52,8),K+8}E.prototype.slice=function(U,K){var xe,Be=this.length;if((U=~~U)<0?(U+=Be)<0&&(U=0):U>Be&&(U=Be),(K=void 0===K?Be:~~K)<0?(K+=Be)<0&&(K=0):K>Be&&(K=Be),K<U&&(K=U),E.TYPED_ARRAY_SUPPORT)(xe=this.subarray(U,K)).__proto__=E.prototype;else{var tt=K-U;xe=new E(tt,void 0);for(var qe=0;qe<tt;++qe)xe[qe]=this[qe+U]}return xe},E.prototype.readUIntLE=function(U,K,xe){U|=0,K|=0,xe||Sn(U,K,this.length);for(var Be=this[U],tt=1,qe=0;++qe<K&&(tt*=256);)Be+=this[U+qe]*tt;return Be},E.prototype.readUIntBE=function(U,K,xe){U|=0,K|=0,xe||Sn(U,K,this.length);for(var Be=this[U+--K],tt=1;K>0&&(tt*=256);)Be+=this[U+--K]*tt;return Be},E.prototype.readUInt8=function(U,K){return K||Sn(U,1,this.length),this[U]},E.prototype.readUInt16LE=function(U,K){return K||Sn(U,2,this.length),this[U]|this[U+1]<<8},E.prototype.readUInt16BE=function(U,K){return K||Sn(U,2,this.length),this[U]<<8|this[U+1]},E.prototype.readUInt32LE=function(U,K){return K||Sn(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+16777216*this[U+3]},E.prototype.readUInt32BE=function(U,K){return K||Sn(U,4,this.length),16777216*this[U]+(this[U+1]<<16|this[U+2]<<8|this[U+3])},E.prototype.readIntLE=function(U,K,xe){U|=0,K|=0,xe||Sn(U,K,this.length);for(var Be=this[U],tt=1,qe=0;++qe<K&&(tt*=256);)Be+=this[U+qe]*tt;return Be>=(tt*=128)&&(Be-=Math.pow(2,8*K)),Be},E.prototype.readIntBE=function(U,K,xe){U|=0,K|=0,xe||Sn(U,K,this.length);for(var Be=K,tt=1,qe=this[U+--Be];Be>0&&(tt*=256);)qe+=this[U+--Be]*tt;return qe>=(tt*=128)&&(qe-=Math.pow(2,8*K)),qe},E.prototype.readInt8=function(U,K){return K||Sn(U,1,this.length),128&this[U]?-1*(255-this[U]+1):this[U]},E.prototype.readInt16LE=function(U,K){K||Sn(U,2,this.length);var xe=this[U]|this[U+1]<<8;return 32768&xe?4294901760|xe:xe},E.prototype.readInt16BE=function(U,K){K||Sn(U,2,this.length);var xe=this[U+1]|this[U]<<8;return 32768&xe?4294901760|xe:xe},E.prototype.readInt32LE=function(U,K){return K||Sn(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},E.prototype.readInt32BE=function(U,K){return K||Sn(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},E.prototype.readFloatLE=function(U,K){return K||Sn(U,4,this.length),N.read(this,U,!0,23,4)},E.prototype.readFloatBE=function(U,K){return K||Sn(U,4,this.length),N.read(this,U,!1,23,4)},E.prototype.readDoubleLE=function(U,K){return K||Sn(U,8,this.length),N.read(this,U,!0,52,8)},E.prototype.readDoubleBE=function(U,K){return K||Sn(U,8,this.length),N.read(this,U,!1,52,8)},E.prototype.writeUIntLE=function(U,K,xe,Be){U=+U,K|=0,xe|=0,Be||hn(this,U,K,xe,Math.pow(2,8*xe)-1,0);var tt=1,qe=0;for(this[K]=255&U;++qe<xe&&(tt*=256);)this[K+qe]=U/tt&255;return K+xe},E.prototype.writeUIntBE=function(U,K,xe,Be){U=+U,K|=0,xe|=0,Be||hn(this,U,K,xe,Math.pow(2,8*xe)-1,0);var tt=xe-1,qe=1;for(this[K+tt]=255&U;--tt>=0&&(qe*=256);)this[K+tt]=U/qe&255;return K+xe},E.prototype.writeUInt8=function(U,K,xe){return U=+U,K|=0,xe||hn(this,U,K,1,255,0),E.TYPED_ARRAY_SUPPORT||(U=Math.floor(U)),this[K]=255&U,K+1},E.prototype.writeUInt16LE=function(U,K,xe){return U=+U,K|=0,xe||hn(this,U,K,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[K]=255&U,this[K+1]=U>>>8):cn(this,U,K,!0),K+2},E.prototype.writeUInt16BE=function(U,K,xe){return U=+U,K|=0,xe||hn(this,U,K,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[K]=U>>>8,this[K+1]=255&U):cn(this,U,K,!1),K+2},E.prototype.writeUInt32LE=function(U,K,xe){return U=+U,K|=0,xe||hn(this,U,K,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[K+3]=U>>>24,this[K+2]=U>>>16,this[K+1]=U>>>8,this[K]=255&U):$t(this,U,K,!0),K+4},E.prototype.writeUInt32BE=function(U,K,xe){return U=+U,K|=0,xe||hn(this,U,K,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[K]=U>>>24,this[K+1]=U>>>16,this[K+2]=U>>>8,this[K+3]=255&U):$t(this,U,K,!1),K+4},E.prototype.writeIntLE=function(U,K,xe,Be){if(U=+U,K|=0,!Be){var tt=Math.pow(2,8*xe-1);hn(this,U,K,xe,tt-1,-tt)}var qe=0,Et=1,Qe=0;for(this[K]=255&U;++qe<xe&&(Et*=256);)U<0&&0===Qe&&0!==this[K+qe-1]&&(Qe=1),this[K+qe]=(U/Et>>0)-Qe&255;return K+xe},E.prototype.writeIntBE=function(U,K,xe,Be){if(U=+U,K|=0,!Be){var tt=Math.pow(2,8*xe-1);hn(this,U,K,xe,tt-1,-tt)}var qe=xe-1,Et=1,Qe=0;for(this[K+qe]=255&U;--qe>=0&&(Et*=256);)U<0&&0===Qe&&0!==this[K+qe+1]&&(Qe=1),this[K+qe]=(U/Et>>0)-Qe&255;return K+xe},E.prototype.writeInt8=function(U,K,xe){return U=+U,K|=0,xe||hn(this,U,K,1,127,-128),E.TYPED_ARRAY_SUPPORT||(U=Math.floor(U)),U<0&&(U=255+U+1),this[K]=255&U,K+1},E.prototype.writeInt16LE=function(U,K,xe){return U=+U,K|=0,xe||hn(this,U,K,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[K]=255&U,this[K+1]=U>>>8):cn(this,U,K,!0),K+2},E.prototype.writeInt16BE=function(U,K,xe){return U=+U,K|=0,xe||hn(this,U,K,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[K]=U>>>8,this[K+1]=255&U):cn(this,U,K,!1),K+2},E.prototype.writeInt32LE=function(U,K,xe){return U=+U,K|=0,xe||hn(this,U,K,4,2147483647,-2147483648),E.TYPED_ARRAY_SUPPORT?(this[K]=255&U,this[K+1]=U>>>8,this[K+2]=U>>>16,this[K+3]=U>>>24):$t(this,U,K,!0),K+4},E.prototype.writeInt32BE=function(U,K,xe){return U=+U,K|=0,xe||hn(this,U,K,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),E.TYPED_ARRAY_SUPPORT?(this[K]=U>>>24,this[K+1]=U>>>16,this[K+2]=U>>>8,this[K+3]=255&U):$t(this,U,K,!1),K+4},E.prototype.writeFloatLE=function(U,K,xe){return ht(this,U,K,!0,xe)},E.prototype.writeFloatBE=function(U,K,xe){return ht(this,U,K,!1,xe)},E.prototype.writeDoubleLE=function(U,K,xe){return Tt(this,U,K,!0,xe)},E.prototype.writeDoubleBE=function(U,K,xe){return Tt(this,U,K,!1,xe)},E.prototype.copy=function(U,K,xe,Be){if(xe||(xe=0),Be||0===Be||(Be=this.length),K>=U.length&&(K=U.length),K||(K=0),Be>0&&Be<xe&&(Be=xe),Be===xe||0===U.length||0===this.length)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(xe<0||xe>=this.length)throw new RangeError("sourceStart out of bounds");if(Be<0)throw new RangeError("sourceEnd out of bounds");Be>this.length&&(Be=this.length),U.length-K<Be-xe&&(Be=U.length-K+xe);var tt,qe=Be-xe;if(this===U&&xe<K&&K<Be)for(tt=qe-1;tt>=0;--tt)U[tt+K]=this[tt+xe];else if(qe<1e3||!E.TYPED_ARRAY_SUPPORT)for(tt=0;tt<qe;++tt)U[tt+K]=this[tt+xe];else Uint8Array.prototype.set.call(U,this.subarray(xe,xe+qe),K);return qe},E.prototype.fill=function(U,K,xe,Be){if("string"==typeof U){if("string"==typeof K?(Be=K,K=0,xe=this.length):"string"==typeof xe&&(Be=xe,xe=this.length),1===U.length){var tt=U.charCodeAt(0);tt<256&&(U=tt)}if(void 0!==Be&&"string"!=typeof Be)throw new TypeError("encoding must be a string");if("string"==typeof Be&&!E.isEncoding(Be))throw new TypeError("Unknown encoding: "+Be)}else"number"==typeof U&&(U&=255);if(K<0||this.length<K||this.length<xe)throw new RangeError("Out of range index");if(xe<=K)return this;var qe;if(K>>>=0,xe=void 0===xe?this.length:xe>>>0,U||(U=0),"number"==typeof U)for(qe=K;qe<xe;++qe)this[qe]=U;else{var Et=E.isBuffer(U)?U:Vt(new E(U,Be).toString()),Qe=Et.length;for(qe=0;qe<xe-K;++qe)this[qe+K]=Et[qe%Qe]}return this};var wt=/[^+\/0-9A-Za-z-_]/g;function Kt(Te){return Te<16?"0"+Te.toString(16):Te.toString(16)}function Vt(Te,U){var K;U=U||1/0;for(var xe=Te.length,Be=null,tt=[],qe=0;qe<xe;++qe){if((K=Te.charCodeAt(qe))>55295&&K<57344){if(!Be){if(K>56319){(U-=3)>-1&&tt.push(239,191,189);continue}if(qe+1===xe){(U-=3)>-1&&tt.push(239,191,189);continue}Be=K;continue}if(K<56320){(U-=3)>-1&&tt.push(239,191,189),Be=K;continue}K=65536+(Be-55296<<10|K-56320)}else Be&&(U-=3)>-1&&tt.push(239,191,189);if(Be=null,K<128){if((U-=1)<0)break;tt.push(K)}else if(K<2048){if((U-=2)<0)break;tt.push(K>>6|192,63&K|128)}else if(K<65536){if((U-=3)<0)break;tt.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((U-=4)<0)break;tt.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return tt}function dn(Te){return u.toByteArray(function(K){if((K=(Be=K,Be.trim?Be.trim():Be.replace(/^\s+|\s+$/g,"")).replace(wt,"")).length<2)return"";for(var Be;K.length%4!=0;)K+="=";return K}(Te))}function An(Te,U,K,xe){for(var Be=0;Be<xe&&!(Be+K>=U.length||Be>=Te.length);++Be)U[Be+K]=Te[Be];return Be}}).call(this,e(29))},function(le,l){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{"object"==typeof window&&(e=window)}le.exports=e},function(le,l,e){"use strict";l.byteLength=function(V){var $=E(V),q=$[1];return 3*($[0]+q)/4-q},l.toByteArray=function(V){var $,j,st,q=E(V),ee=q[0],ue=q[1],Fe=new N(3*(ee+(st=ue))/4-st),be=0,De=ue>0?ee-4:ee;for(j=0;j<De;j+=4)$=u[V.charCodeAt(j)]<<18|u[V.charCodeAt(j+1)]<<12|u[V.charCodeAt(j+2)]<<6|u[V.charCodeAt(j+3)],Fe[be++]=$>>16&255,Fe[be++]=$>>8&255,Fe[be++]=255&$;return 2===ue&&($=u[V.charCodeAt(j)]<<2|u[V.charCodeAt(j+1)]>>4,Fe[be++]=255&$),1===ue&&($=u[V.charCodeAt(j)]<<10|u[V.charCodeAt(j+1)]<<4|u[V.charCodeAt(j+2)]>>2,Fe[be++]=$>>8&255,Fe[be++]=255&$),Fe},l.fromByteArray=function(V){for(var $,j=V.length,q=j%3,ee=[],Fe=0,be=j-q;Fe<be;Fe+=16383)ee.push(C(V,Fe,Fe+16383>be?be:Fe+16383));return 1===q?ee.push(S[($=V[j-1])>>2]+S[$<<4&63]+"=="):2===q&&ee.push(S[($=(V[j-2]<<8)+V[j-1])>>10]+S[$>>4&63]+S[$<<2&63]+"="),ee.join("")};for(var S=[],u=[],N=typeof Uint8Array<"u"?Uint8Array:Array,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0;h<64;++h)S[h]=x[h],u[x.charCodeAt(h)]=h;function E(F){var V=F.length;if(V%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var $=F.indexOf("=");return-1===$&&($=V),[$,$===V?0:4-$%4]}function C(F,V,$){for(var q,ee=[],ue=V;ue<$;ue+=3)ee.push(S[(q=(F[ue]<<16&16711680)+(F[ue+1]<<8&65280)+(255&F[ue+2]))>>18&63]+S[q>>12&63]+S[q>>6&63]+S[63&q]);return ee.join("")}u[45]=62,u[95]=63},function(le,l){l.read=function(e,S,u,N,x){var h,y,E=8*x-N-1,C=(1<<E)-1,F=C>>1,V=-7,$=u?x-1:0,j=u?-1:1,q=e[S+$];for($+=j,h=q&(1<<-V)-1,q>>=-V,V+=E;V>0;h=256*h+e[S+$],$+=j,V-=8);for(y=h&(1<<-V)-1,h>>=-V,V+=N;V>0;y=256*y+e[S+$],$+=j,V-=8);if(0===h)h=1-F;else{if(h===C)return y?NaN:1/0*(q?-1:1);y+=Math.pow(2,N),h-=F}return(q?-1:1)*y*Math.pow(2,h-N)},l.write=function(e,S,u,N,x,h){var y,E,C,F=8*h-x-1,V=(1<<F)-1,$=V>>1,j=23===x?Math.pow(2,-24)-Math.pow(2,-77):0,q=N?0:h-1,ee=N?1:-1,ue=S<0||0===S&&1/S<0?1:0;for(S=Math.abs(S),isNaN(S)||S===1/0?(E=isNaN(S)?1:0,y=V):(y=Math.floor(Math.log(S)/Math.LN2),S*(C=Math.pow(2,-y))<1&&(y--,C*=2),(S+=y+$>=1?j/C:j*Math.pow(2,1-$))*C>=2&&(y++,C/=2),y+$>=V?(E=0,y=V):y+$>=1?(E=(S*C-1)*Math.pow(2,x),y+=$):(E=S*Math.pow(2,$-1)*Math.pow(2,x),y=0));x>=8;e[u+q]=255&E,q+=ee,E/=256,x-=8);for(y=y<<x|E,F+=x;F>0;e[u+q]=255&y,q+=ee,y/=256,F-=8);e[u+q-ee]|=128*ue}},function(le,l){var e={}.toString;le.exports=Array.isArray||function(S){return"[object Array]"==e.call(S)}},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(N){var x=N.jws,h=N.KeyUtil,y=N.X509,E=N.crypto,C=N.hextob64u,F=N.b64tohex,V=N.AllowedSigningAlgs;return function(){function $(){!function(q,ee){if(!(q instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,$)}return $.parseJwt=function(q){S.Log.debug("JoseUtil.parseJwt");try{var ee=x.JWS.parse(q);return{header:ee.headerObj,payload:ee.payloadObj}}catch(ue){S.Log.error(ue)}},$.validateJwt=function(q,ee,ue,Fe,be,De,se){S.Log.debug("JoseUtil.validateJwt");try{if("RSA"===ee.kty)if(ee.e&&ee.n)ee=h.getKey(ee);else{if(!ee.x5c||!ee.x5c.length)return S.Log.error("JoseUtil.validateJwt: RSA key missing key material",ee),Promise.reject(new Error("RSA key missing key material"));var Ae=F(ee.x5c[0]);ee=y.getPublicKeyFromCertHex(Ae)}else{if("EC"!==ee.kty)return S.Log.error("JoseUtil.validateJwt: Unsupported key type",ee&&ee.kty),Promise.reject(new Error(ee.kty));if(!(ee.crv&&ee.x&&ee.y))return S.Log.error("JoseUtil.validateJwt: EC key missing key material",ee),Promise.reject(new Error("EC key missing key material"));ee=h.getKey(ee)}return $._validateJwt(q,ee,ue,Fe,be,De,se)}catch(Me){return S.Log.error(Me&&Me.message||Me),Promise.reject("JWT validation failed")}},$.validateJwtAttributes=function(q,ee,ue,Fe,be,De){Fe||(Fe=0),be||(be=parseInt(Date.now()/1e3));var se=$.parseJwt(q).payload;if(!se.iss)return S.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(se.iss!==ee)return S.Log.error("JoseUtil._validateJwt: Invalid issuer in token",se.iss),Promise.reject(new Error("Invalid issuer in token: "+se.iss));if(!se.aud)return S.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(se.aud===ue||Array.isArray(se.aud)&&se.aud.indexOf(ue)>=0))return S.Log.error("JoseUtil._validateJwt: Invalid audience in token",se.aud),Promise.reject(new Error("Invalid audience in token: "+se.aud));if(se.azp&&se.azp!==ue)return S.Log.error("JoseUtil._validateJwt: Invalid azp in token",se.azp),Promise.reject(new Error("Invalid azp in token: "+se.azp));if(!De){var Ae=be+Fe,Me=be-Fe;if(!se.iat)return S.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(Ae<se.iat)return S.Log.error("JoseUtil._validateJwt: iat is in the future",se.iat),Promise.reject(new Error("iat is in the future: "+se.iat));if(se.nbf&&Ae<se.nbf)return S.Log.error("JoseUtil._validateJwt: nbf is in the future",se.nbf),Promise.reject(new Error("nbf is in the future: "+se.nbf));if(!se.exp)return S.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(se.exp<Me)return S.Log.error("JoseUtil._validateJwt: exp is in the past",se.exp),Promise.reject(new Error("exp is in the past:"+se.exp))}return Promise.resolve(se)},$._validateJwt=function(q,ee,ue,Fe,be,De,se){return $.validateJwtAttributes(q,ue,Fe,be,De,se).then(function(Ae){try{return x.JWS.verify(q,ee,V)?Ae:(S.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Me){return S.Log.error(Me&&Me.message||Me),Promise.reject(new Error("signature validation failed"))}})},$.hashString=function(q,ee){try{return E.Util.hashString(q,ee)}catch(ue){S.Log.error(ue)}},$.hexToBase64Url=function(q){try{return C(q)}catch(ee){S.Log.error(ee)}},$}()};var S=e(0);le.exports=l.default},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SigninResponse=void 0;var S=function(){function x(h,y){for(var E=0;E<y.length;E++){var C=y[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(h,C.key,C)}}return function(h,y,E){return y&&x(h.prototype,y),E&&x(h,E),h}}(),u=e(3);l.SigninResponse=function(){function x(h){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function N(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")}(this,x);var E=u.UrlUtility.parseUrlFragment(h,y);this.error=E.error,this.error_description=E.error_description,this.error_uri=E.error_uri,this.code=E.code,this.state=E.state,this.id_token=E.id_token,this.session_state=E.session_state,this.access_token=E.access_token,this.token_type=E.token_type,this.scope=E.scope,this.profile=void 0,this.expires_in=E.expires_in}return S(x,[{key:"expires_in",get:function(){if(this.expires_at){var y=parseInt(Date.now()/1e3);return this.expires_at-y}},set:function(y){var E=parseInt(y);if("number"==typeof E&&E>0){var C=parseInt(Date.now()/1e3);this.expires_at=C+E}}},{key:"expired",get:function(){var y=this.expires_in;if(void 0!==y)return y<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),x}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SignoutRequest=void 0;var S=e(0),u=e(3),N=e(9);l.SignoutRequest=function x(h){var y=h.url,E=h.id_token_hint,C=h.post_logout_redirect_uri,F=h.data,V=h.extraQueryParams,$=h.request_type;if(function(ee,ue){if(!(ee instanceof ue))throw new TypeError("Cannot call a class as a function")}(this,x),!y)throw S.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var j in E&&(y=u.UrlUtility.addQueryParam(y,"id_token_hint",E)),C&&(y=u.UrlUtility.addQueryParam(y,"post_logout_redirect_uri",C),F&&(this.state=new N.State({data:F,request_type:$}),y=u.UrlUtility.addQueryParam(y,"state",this.state.id))),V)y=u.UrlUtility.addQueryParam(y,j,V[j]);this.url=y}},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SignoutResponse=void 0;var S=e(3);l.SignoutResponse=function u(N){!function(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,u);var x=S.UrlUtility.parseUrlFragment(N,"?");this.error=x.error,this.error_description=x.error_description,this.error_uri=x.error_uri,this.state=x.state}},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.InMemoryWebStorage=void 0;var S=function(){function N(x,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,h,y){return h&&N(x.prototype,h),y&&N(x,y),x}}(),u=e(0);l.InMemoryWebStorage=function(){function N(){(function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,N),this._data={}}return N.prototype.getItem=function(h){return u.Log.debug("InMemoryWebStorage.getItem",h),this._data[h]},N.prototype.setItem=function(h,y){u.Log.debug("InMemoryWebStorage.setItem",h),this._data[h]=y},N.prototype.removeItem=function(h){u.Log.debug("InMemoryWebStorage.removeItem",h),delete this._data[h]},N.prototype.key=function(h){return Object.getOwnPropertyNames(this._data)[h]},S(N,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.UserManager=void 0;var S=function(){function ue(Fe,be){for(var De=0;De<be.length;De++){var se=be[De];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(Fe,se.key,se)}}return function(Fe,be,De){return be&&ue(Fe.prototype,be),De&&ue(Fe,De),Fe}}(),u=e(0),N=e(10),x=e(39),h=e(15),y=e(45),E=e(47),C=e(18),F=e(8),V=e(20),$=e(11),j=e(4);l.UserManager=function(ue){function Fe(){var be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},De=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.SilentRenewService,se=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.SessionMonitor,Ae=arguments.length>3&&void 0!==arguments[3]?arguments[3]:V.TokenRevocationClient,Me=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$.TokenClient,st=arguments.length>5&&void 0!==arguments[5]?arguments[5]:j.JoseUtil;(function q(ue,Fe){if(!(ue instanceof Fe))throw new TypeError("Cannot call a class as a function")})(this,Fe),be instanceof x.UserManagerSettings||(be=new x.UserManagerSettings(be));var fe=function ee(ue,Fe){if(!ue)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Fe||"object"!=typeof Fe&&"function"!=typeof Fe?ue:Fe}(this,ue.call(this,be));return fe._events=new y.UserManagerEvents(be),fe._silentRenewService=new De(fe),fe.settings.automaticSilentRenew&&(u.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),fe.startSilentRenew()),fe.settings.monitorSession&&(u.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),fe._sessionMonitor=new se(fe)),fe._tokenRevocationClient=new Ae(fe._settings),fe._tokenClient=new Me(fe._settings),fe._joseUtil=st,fe}return function(De,se){if("function"!=typeof se&&null!==se)throw new TypeError("Super expression must either be null or a function, not "+typeof se);De.prototype=Object.create(se&&se.prototype,{constructor:{value:De,enumerable:!1,writable:!0,configurable:!0}}),se&&(Object.setPrototypeOf?Object.setPrototypeOf(De,se):De.__proto__=se)}(Fe,ue),Fe.prototype.getUser=function(){var De=this;return this._loadUser().then(function(se){return se?(u.Log.info("UserManager.getUser: user loaded"),De._events.load(se,!1),se):(u.Log.info("UserManager.getUser: user not found in storage"),null)})},Fe.prototype.removeUser=function(){var De=this;return this.storeUser(null).then(function(){u.Log.info("UserManager.removeUser: user removed from storage"),De._events.unload()})},Fe.prototype.signinRedirect=function(){var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(De=Object.assign({},De)).request_type="si:r",this._signinStart(De,this._redirectNavigator,{useReplaceToNavigate:De.useReplaceToNavigate}).then(function(){u.Log.info("UserManager.signinRedirect: successful")})},Fe.prototype.signinRedirectCallback=function(De){return this._signinEnd(De||this._redirectNavigator.url).then(function(se){return se.profile&&se.profile.sub?u.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",se.profile.sub):u.Log.info("UserManager.signinRedirectCallback: no sub"),se})},Fe.prototype.signinPopup=function(){var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(De=Object.assign({},De)).request_type="si:p";var se=De.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return se?(De.redirect_uri=se,De.display="popup",this._signin(De,this._popupNavigator,{startUrl:se,popupWindowFeatures:De.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:De.popupWindowTarget||this.settings.popupWindowTarget}).then(function(Ae){return Ae&&(Ae.profile&&Ae.profile.sub?u.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",Ae.profile.sub):u.Log.info("UserManager.signinPopup: no sub")),Ae})):(u.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},Fe.prototype.signinPopupCallback=function(De){return this._signinCallback(De,this._popupNavigator).then(function(se){return se&&(se.profile&&se.profile.sub?u.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",se.profile.sub):u.Log.info("UserManager.signinPopupCallback: no sub")),se}).catch(function(se){u.Log.error(se.message)})},Fe.prototype.signinSilent=function(){var De=this,se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return se=Object.assign({},se),this._loadUser().then(function(Ae){return Ae&&Ae.refresh_token?(se.refresh_token=Ae.refresh_token,De._useRefreshToken(se)):(se.request_type="si:s",se.id_token_hint=se.id_token_hint||De.settings.includeIdTokenInSilentRenew&&Ae&&Ae.id_token,Ae&&De._settings.validateSubOnSilentRenew&&(u.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",Ae.profile.sub),se.current_sub=Ae.profile.sub),De._signinSilentIframe(se))})},Fe.prototype._useRefreshToken=function(){var De=this;return this._tokenClient.exchangeRefreshToken(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).then(function(Ae){return Ae?Ae.access_token?De._loadUser().then(function(Me){if(Me){var st=Promise.resolve();return Ae.id_token&&(st=De._validateIdTokenFromTokenRefreshToken(Me.profile,Ae.id_token)),st.then(function(){return u.Log.debug("UserManager._useRefreshToken: refresh token response success"),Me.id_token=Ae.id_token||Me.id_token,Me.access_token=Ae.access_token,Me.refresh_token=Ae.refresh_token||Me.refresh_token,Me.expires_in=Ae.expires_in,De.storeUser(Me).then(function(){return De._events.load(Me),Me})})}return null}):(u.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(u.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},Fe.prototype._validateIdTokenFromTokenRefreshToken=function(De,se){var Ae=this;return this._metadataService.getIssuer().then(function(Me){return Ae.settings.getEpochTime().then(function(st){return Ae._joseUtil.validateJwtAttributes(se,Me,Ae._settings.client_id,Ae._settings.clockSkew,st).then(function(fe){return fe?fe.sub!==De.sub?(u.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):fe.auth_time&&fe.auth_time!==De.auth_time?(u.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):fe.azp&&fe.azp!==De.azp?(u.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!fe.azp&&De.azp?(u.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(u.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},Fe.prototype._signinSilentIframe=function(){var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},se=De.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return se?(De.redirect_uri=se,De.prompt=De.prompt||"none",this._signin(De,this._iframeNavigator,{startUrl:se,silentRequestTimeout:De.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Ae){return Ae&&(Ae.profile&&Ae.profile.sub?u.Log.info("UserManager.signinSilent: successful, signed in sub: ",Ae.profile.sub):u.Log.info("UserManager.signinSilent: no sub")),Ae})):(u.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},Fe.prototype.signinSilentCallback=function(De){return this._signinCallback(De,this._iframeNavigator).then(function(se){return se&&(se.profile&&se.profile.sub?u.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",se.profile.sub):u.Log.info("UserManager.signinSilentCallback: no sub")),se})},Fe.prototype.signinCallback=function(De){var se=this;return this.readSigninResponseState(De).then(function(Ae){var Me=Ae.state;return"si:r"===Me.request_type?se.signinRedirectCallback(De):"si:p"===Me.request_type?se.signinPopupCallback(De):"si:s"===Me.request_type?se.signinSilentCallback(De):Promise.reject(new Error("invalid response_type in state"))})},Fe.prototype.signoutCallback=function(De,se){var Ae=this;return this.readSignoutResponseState(De).then(function(Me){var st=Me.state,fe=Me.response;return st?"so:r"===st.request_type?Ae.signoutRedirectCallback(De):"so:p"===st.request_type?Ae.signoutPopupCallback(De,se):Promise.reject(new Error("invalid response_type in state")):fe})},Fe.prototype.querySessionStatus=function(){var De=this,se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(se=Object.assign({},se)).request_type="si:s";var Ae=se.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return Ae?(se.redirect_uri=Ae,se.prompt="none",se.response_type=se.response_type||this.settings.query_status_response_type,se.scope=se.scope||"openid",se.skipUserInfo=!0,this._signinStart(se,this._iframeNavigator,{startUrl:Ae,silentRequestTimeout:se.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Me){return De.processSigninResponse(Me.url).then(function(st){if(u.Log.debug("UserManager.querySessionStatus: got signin response"),st.session_state&&st.profile.sub)return u.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",st.profile.sub),{session_state:st.session_state,sub:st.profile.sub,sid:st.profile.sid};u.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(st){if(st.session_state&&De.settings.monitorAnonymousSession&&("login_required"==st.message||"consent_required"==st.message||"interaction_required"==st.message||"account_selection_required"==st.message))return u.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:st.session_state};throw st})})):(u.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},Fe.prototype._signin=function(De,se){var Ae=this;return this._signinStart(De,se,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(st){return Ae._signinEnd(st.url,De)})},Fe.prototype._signinStart=function(De,se){var Ae=this,Me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return se.prepare(Me).then(function(st){return u.Log.debug("UserManager._signinStart: got navigator window handle"),Ae.createSigninRequest(De).then(function(fe){return u.Log.debug("UserManager._signinStart: got signin request"),Me.url=fe.url,Me.id=fe.state.id,st.navigate(Me)}).catch(function(fe){throw st.close&&(u.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),st.close()),fe})})},Fe.prototype._signinEnd=function(De){var se=this,Ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(De).then(function(Me){u.Log.debug("UserManager._signinEnd: got signin response");var st=new h.User(Me);if(Ae.current_sub){if(Ae.current_sub!==st.profile.sub)return u.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",st.profile.sub),Promise.reject(new Error("login_required"));u.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return se.storeUser(st).then(function(){return u.Log.debug("UserManager._signinEnd: user stored"),se._events.load(st),st})})},Fe.prototype._signinCallback=function(De,se){u.Log.debug("UserManager._signinCallback");var Ae="query"===this._settings.response_mode||!this._settings.response_mode&&F.SigninRequest.isCode(this._settings.response_type)?"?":"#";return se.callback(De,void 0,Ae)},Fe.prototype.signoutRedirect=function(){var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(De=Object.assign({},De)).request_type="so:r";var se=De.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return se&&(De.post_logout_redirect_uri=se),this._signoutStart(De,this._redirectNavigator,{useReplaceToNavigate:De.useReplaceToNavigate}).then(function(){u.Log.info("UserManager.signoutRedirect: successful")})},Fe.prototype.signoutRedirectCallback=function(De){return this._signoutEnd(De||this._redirectNavigator.url).then(function(se){return u.Log.info("UserManager.signoutRedirectCallback: successful"),se})},Fe.prototype.signoutPopup=function(){var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(De=Object.assign({},De)).request_type="so:p";var se=De.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return De.post_logout_redirect_uri=se,De.display="popup",De.post_logout_redirect_uri&&(De.state=De.state||{}),this._signout(De,this._popupNavigator,{startUrl:se,popupWindowFeatures:De.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:De.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){u.Log.info("UserManager.signoutPopup: successful")})},Fe.prototype.signoutPopupCallback=function(De,se){return void 0===se&&"boolean"==typeof De&&(se=De,De=null),this._popupNavigator.callback(De,se,"?").then(function(){u.Log.info("UserManager.signoutPopupCallback: successful")})},Fe.prototype._signout=function(De,se){var Ae=this;return this._signoutStart(De,se,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(st){return Ae._signoutEnd(st.url)})},Fe.prototype._signoutStart=function(){var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},se=this,Me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(Me).then(function(st){return u.Log.debug("UserManager._signoutStart: got navigator window handle"),se._loadUser().then(function(fe){return u.Log.debug("UserManager._signoutStart: loaded current user from storage"),(se._settings.revokeAccessTokenOnSignout?se._revokeInternal(fe):Promise.resolve()).then(function(){var Dt=De.id_token_hint||fe&&fe.id_token;return Dt&&(u.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),De.id_token_hint=Dt),se.removeUser().then(function(){return u.Log.debug("UserManager._signoutStart: user removed, creating signout request"),se.createSignoutRequest(De).then(function(Gt){return u.Log.debug("UserManager._signoutStart: got signout request"),Me.url=Gt.url,Gt.state&&(Me.id=Gt.state.id),st.navigate(Me)})})})}).catch(function(fe){throw st.close&&(u.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),st.close()),fe})})},Fe.prototype._signoutEnd=function(De){return this.processSignoutResponse(De).then(function(se){return u.Log.debug("UserManager._signoutEnd: got signout response"),se})},Fe.prototype.revokeAccessToken=function(){var De=this;return this._loadUser().then(function(se){return De._revokeInternal(se,!0).then(function(Ae){if(Ae)return u.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),se.access_token=null,se.refresh_token=null,se.expires_at=null,se.token_type=null,De.storeUser(se).then(function(){u.Log.debug("UserManager.revokeAccessToken: user stored"),De._events.load(se)})})}).then(function(){u.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},Fe.prototype._revokeInternal=function(De,se){var Ae=this;if(De){var st=De.refresh_token;return this._revokeAccessTokenInternal(De.access_token,se).then(function(fe){return Ae._revokeRefreshTokenInternal(st,se).then(function(Dt){return fe||Dt||u.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),fe||Dt})})}return Promise.resolve(!1)},Fe.prototype._revokeAccessTokenInternal=function(De,se){return!De||De.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(De,se).then(function(){return!0})},Fe.prototype._revokeRefreshTokenInternal=function(De,se){return De?this._tokenRevocationClient.revoke(De,se,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},Fe.prototype.startSilentRenew=function(){this._silentRenewService.start()},Fe.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},Fe.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(De){return De?(u.Log.debug("UserManager._loadUser: user storageString loaded"),h.User.fromStorageString(De)):(u.Log.debug("UserManager._loadUser: no user storageString"),null)})},Fe.prototype.storeUser=function(De){if(De){u.Log.debug("UserManager.storeUser: storing user");var se=De.toStorageString();return this._userStore.set(this._userStoreKey,se)}return u.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},S(Fe,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),Fe}(N.OidcClient)},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.UserManagerSettings=void 0;var S=function(){function $(j,q){for(var ee=0;ee<q.length;ee++){var ue=q[ee];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(j,ue.key,ue)}}return function(j,q,ee){return q&&$(j.prototype,q),ee&&$(j,ee),j}}(),u=(e(0),e(5)),N=e(40),x=e(41),h=e(43),y=e(6),E=e(1),C=e(8);l.UserManagerSettings=function($){function j(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ee=q.popup_redirect_uri,ue=q.popup_post_logout_redirect_uri,Fe=q.popupWindowFeatures,be=q.popupWindowTarget,De=q.silent_redirect_uri,se=q.silentRequestTimeout,Ae=q.automaticSilentRenew,Me=void 0!==Ae&&Ae,st=q.validateSubOnSilentRenew,fe=void 0!==st&&st,Dt=q.includeIdTokenInSilentRenew,Gt=void 0===Dt||Dt,Pt=q.monitorSession,dt=void 0===Pt||Pt,sn=q.monitorAnonymousSession,an=void 0!==sn&&sn,un=q.checkSessionInterval,Sn=void 0===un?2e3:un,hn=q.stopCheckSessionOnError,cn=void 0===hn||hn,$t=q.query_status_response_type,Xe=q.revokeAccessTokenOnSignout,ht=void 0!==Xe&&Xe,Tt=q.accessTokenExpiringNotificationTime,wt=void 0===Tt?60:Tt,Kt=q.redirectNavigator,Vt=void 0===Kt?new N.RedirectNavigator:Kt,dn=q.popupNavigator,An=void 0===dn?new x.PopupNavigator:dn,Te=q.iframeNavigator,U=void 0===Te?new h.IFrameNavigator:Te,K=q.userStore,xe=void 0===K?new y.WebStorageStateStore({store:E.Global.sessionStorage}):K;!function F($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")}(this,j);var Be=function V($,j){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!j||"object"!=typeof j&&"function"!=typeof j?$:j}(this,$.call(this,arguments[0]));return Be._popup_redirect_uri=ee,Be._popup_post_logout_redirect_uri=ue,Be._popupWindowFeatures=Fe,Be._popupWindowTarget=be,Be._silent_redirect_uri=De,Be._silentRequestTimeout=se,Be._automaticSilentRenew=Me,Be._validateSubOnSilentRenew=fe,Be._includeIdTokenInSilentRenew=Gt,Be._accessTokenExpiringNotificationTime=wt,Be._monitorSession=dt,Be._monitorAnonymousSession=an,Be._checkSessionInterval=Sn,Be._stopCheckSessionOnError=cn,Be._query_status_response_type=$t||(arguments[0]&&arguments[0].response_type?C.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),Be._revokeAccessTokenOnSignout=ht,Be._redirectNavigator=Vt,Be._popupNavigator=An,Be._iframeNavigator=U,Be._userStore=xe,Be}return function(ee,ue){if("function"!=typeof ue&&null!==ue)throw new TypeError("Super expression must either be null or a function, not "+typeof ue);ee.prototype=Object.create(ue&&ue.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),ue&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,ue):ee.__proto__=ue)}(j,$),S(j,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),j}(u.OidcClientSettings)},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.RedirectNavigator=void 0;var S=function(){function N(x,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,h,y){return h&&N(x.prototype,h),y&&N(x,y),x}}(),u=e(0);l.RedirectNavigator=function(){function N(){!function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,N)}return N.prototype.prepare=function(){return Promise.resolve(this)},N.prototype.navigate=function(h){return h&&h.url?(h.useReplaceToNavigate?window.location.replace(h.url):window.location=h.url,Promise.resolve()):(u.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},S(N,[{key:"url",get:function(){return window.location.href}}]),N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.PopupNavigator=void 0;var S=e(0),u=e(42);l.PopupNavigator=function(){function N(){!function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,N)}return N.prototype.prepare=function(h){var y=new u.PopupWindow(h);return Promise.resolve(y)},N.prototype.callback=function(h,y,E){S.Log.debug("PopupNavigator.callback");try{return u.PopupWindow.notifyOpener(h,y,E),Promise.resolve()}catch(C){return Promise.reject(C)}},N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.PopupWindow=void 0;var S=function(){function x(h,y){for(var E=0;E<y.length;E++){var C=y[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(h,C.key,C)}}return function(h,y,E){return y&&x(h.prototype,y),E&&x(h,E),h}}(),u=e(0),N=e(3);l.PopupWindow=function(){function x(h){var y=this;(function(V,$){if(!(V instanceof $))throw new TypeError("Cannot call a class as a function")})(this,x),this._promise=new Promise(function(F,V){y._resolve=F,y._reject=V}),this._popup=window.open("",h.popupWindowTarget||"_blank",h.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;"),this._popup&&(u.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return x.prototype.navigate=function(y){return this._popup?y&&y.url?(u.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=y.id,this._id&&(window["popupCallback_"+y.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=y.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},x.prototype._success=function(y){u.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(y)},x.prototype._error=function(y){u.Log.error("PopupWindow.error: ",y),this._cleanup(),this._reject(new Error(y))},x.prototype.close=function(){this._cleanup(!1)},x.prototype._cleanup=function(y){u.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!y&&this._popup.close(),this._popup=null},x.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},x.prototype._callback=function(y,E){this._cleanup(E),y?(u.Log.debug("PopupWindow.callback success"),this._success({url:y})):(u.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},x.notifyOpener=function(y,E,C){if(window.opener){if(y=y||window.location.href){var F=N.UrlUtility.parseUrlFragment(y,C);if(F.state){var $=window.opener["popupCallback_"+F.state];$?(u.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),$(y,E)):u.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else u.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else u.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},S(x,[{key:"promise",get:function(){return this._promise}}]),x}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.IFrameNavigator=void 0;var S=e(0),u=e(44);l.IFrameNavigator=function(){function N(){!function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,N)}return N.prototype.prepare=function(h){var y=new u.IFrameWindow(h);return Promise.resolve(y)},N.prototype.callback=function(h){S.Log.debug("IFrameNavigator.callback");try{return u.IFrameWindow.notifyParent(h),Promise.resolve()}catch(y){return Promise.reject(y)}},N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.IFrameWindow=void 0;var S=function(){function N(x,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,h,y){return h&&N(x.prototype,h),y&&N(x,y),x}}(),u=e(0);l.IFrameWindow=function(){function N(x){var h=this;(function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")})(this,N),this._promise=new Promise(function(y,E){h._resolve=y,h._reject=E}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return N.prototype.navigate=function(h){if(h&&h.url){var y=h.silentRequestTimeout||1e4;u.Log.debug("IFrameWindow.navigate: Using timeout of:",y),this._timer=window.setTimeout(this._timeout.bind(this),y),this._frame.src=h.url}else this._error("No url provided");return this.promise},N.prototype._success=function(h){this._cleanup(),u.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(h)},N.prototype._error=function(h){this._cleanup(),u.Log.error(h),this._reject(new Error(h))},N.prototype.close=function(){this._cleanup()},N.prototype._cleanup=function(){this._frame&&(u.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},N.prototype._timeout=function(){u.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},N.prototype._message=function(h){if(u.Log.debug("IFrameWindow.message"),this._timer&&h.origin===this._origin&&h.source===this._frame.contentWindow&&"string"==typeof h.data&&(h.data.startsWith("http://")||h.data.startsWith("https://"))){var y=h.data;y?this._success({url:y}):this._error("Invalid response from frame")}},N.notifyParent=function(h){u.Log.debug("IFrameWindow.notifyParent"),(h=h||window.location.href)&&(u.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(h,location.protocol+"//"+location.host))},S(N,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.UserManagerEvents=void 0;var S=e(0),u=e(16),N=e(17);l.UserManagerEvents=function(x){function h(y){!function(F,V){if(!(F instanceof V))throw new TypeError("Cannot call a class as a function")}(this,h);var E=function(F,V){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?F:V}(this,x.call(this,y));return E._userLoaded=new N.Event("User loaded"),E._userUnloaded=new N.Event("User unloaded"),E._silentRenewError=new N.Event("Silent renew error"),E._userSignedIn=new N.Event("User signed in"),E._userSignedOut=new N.Event("User signed out"),E._userSessionChanged=new N.Event("User session changed"),E}return function(E,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(E,C):E.__proto__=C)}(h,x),h.prototype.load=function(E){var C=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];S.Log.debug("UserManagerEvents.load"),x.prototype.load.call(this,E),C&&this._userLoaded.raise(E)},h.prototype.unload=function(){S.Log.debug("UserManagerEvents.unload"),x.prototype.unload.call(this),this._userUnloaded.raise()},h.prototype.addUserLoaded=function(E){this._userLoaded.addHandler(E)},h.prototype.removeUserLoaded=function(E){this._userLoaded.removeHandler(E)},h.prototype.addUserUnloaded=function(E){this._userUnloaded.addHandler(E)},h.prototype.removeUserUnloaded=function(E){this._userUnloaded.removeHandler(E)},h.prototype.addSilentRenewError=function(E){this._silentRenewError.addHandler(E)},h.prototype.removeSilentRenewError=function(E){this._silentRenewError.removeHandler(E)},h.prototype._raiseSilentRenewError=function(E){S.Log.debug("UserManagerEvents._raiseSilentRenewError",E.message),this._silentRenewError.raise(E)},h.prototype.addUserSignedIn=function(E){this._userSignedIn.addHandler(E)},h.prototype.removeUserSignedIn=function(E){this._userSignedIn.removeHandler(E)},h.prototype._raiseUserSignedIn=function(){S.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},h.prototype.addUserSignedOut=function(E){this._userSignedOut.addHandler(E)},h.prototype.removeUserSignedOut=function(E){this._userSignedOut.removeHandler(E)},h.prototype._raiseUserSignedOut=function(){S.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},h.prototype.addUserSessionChanged=function(E){this._userSessionChanged.addHandler(E)},h.prototype.removeUserSessionChanged=function(E){this._userSessionChanged.removeHandler(E)},h.prototype._raiseUserSessionChanged=function(){S.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},h}(u.AccessTokenEvents)},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Timer=void 0;var S=function(){function E(C,F){for(var V=0;V<F.length;V++){var $=F[V];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(C,$.key,$)}}return function(C,F,V){return F&&E(C.prototype,F),V&&E(C,V),C}}(),u=e(0),N=e(1),x=e(17);l.Timer=function(E){function C(F){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.Global.timer,$=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function h(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}(this,C);var j=function y(E,C){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?E:C}(this,E.call(this,F));return j._timer=V,j._nowFunc=$||function(){return Date.now()/1e3},j}return function(V,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function, not "+typeof $);V.prototype=Object.create($&&$.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(V,$):V.__proto__=$)}(C,E),C.prototype.init=function(V){V<=0&&(V=1),V=parseInt(V);var $=this.now+V;if(this.expiration===$&&this._timerHandle)u.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),u.Log.debug("Timer.init timer "+this._name+" for duration:",V),this._expiration=$;var j=5;V<j&&(j=V),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*j)}},C.prototype.cancel=function(){this._timerHandle&&(u.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},C.prototype._callback=function(){u.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),E.prototype.raise.call(this))},S(C,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),C}(x.Event)},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SilentRenewService=void 0;var S=e(0);l.SilentRenewService=function(){function u(N){(function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,u),this._userManager=N}return u.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(x){}).catch(function(x){S.Log.error("SilentRenewService.start: Error from getUser:",x.message)}))},u.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},u.prototype._tokenExpiring=function(){var x=this;this._userManager.signinSilent().then(function(h){S.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(h){S.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",h.message),x._userManager.events._raiseSilentRenewError(h)})},u}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CordovaPopupNavigator=void 0;var S=e(21);l.CordovaPopupNavigator=function(){function u(){!function(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")}(this,u)}return u.prototype.prepare=function(x){var h=new S.CordovaPopupWindow(x);return Promise.resolve(h)},u}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CordovaIFrameNavigator=void 0;var S=e(21);l.CordovaIFrameNavigator=function(){function u(){!function(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")}(this,u)}return u.prototype.prepare=function(x){x.popupWindowFeatures="hidden=yes";var h=new S.CordovaPopupWindow(x);return Promise.resolve(h)},u}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Version="1.11.5"}])},7328:(Je,le,l)=>{"use strict";l.d(le,{t:()=>u});var e=l(8645),S=l(4552);class u extends e.x{constructor(x=1/0,h=1/0,y=S.l){super(),this._bufferSize=x,this._windowTime=h,this._timestampProvider=y,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=h===1/0,this._bufferSize=Math.max(1,x),this._windowTime=Math.max(1,h)}next(x){const{isStopped:h,_buffer:y,_infiniteTimeWindow:E,_timestampProvider:C,_windowTime:F}=this;h||(y.push(x),!E&&y.push(C.now()+F)),this._trimBuffer(),super.next(x)}_subscribe(x){this._throwIfClosed(),this._trimBuffer();const h=this._innerSubscribe(x),{_infiniteTimeWindow:y,_buffer:E}=this,C=E.slice();for(let F=0;F<C.length&&!x.closed;F+=y?1:2)x.next(C[F]);return this._checkFinalizedStatuses(x),h}_trimBuffer(){const{_bufferSize:x,_timestampProvider:h,_buffer:y,_infiniteTimeWindow:E}=this,C=(E?1:2)*x;if(x<1/0&&C<y.length&&y.splice(0,y.length-C),!E){const F=h.now();let V=0;for(let $=1;$<y.length&&y[$]<=F;$+=2)V=$;V&&y.splice(0,V+1)}}}},2572:(Je,le,l)=>{"use strict";l.d(le,{a:()=>F});var e=l(5592),S=l(7453),u=l(9666),N=l(2737),x=l(7400),h=l(9940),y=l(2714),E=l(8251),C=l(7103);function F(...j){const q=(0,h.yG)(j),ee=(0,h.jO)(j),{args:ue,keys:Fe}=(0,S.D)(j);if(0===ue.length)return(0,u.D)([],q);const be=new e.y(function V(j,q,ee=N.y){return ue=>{$(q,()=>{const{length:Fe}=j,be=new Array(Fe);let De=Fe,se=Fe;for(let Ae=0;Ae<Fe;Ae++)$(q,()=>{const Me=(0,u.D)(j[Ae],q);let st=!1;Me.subscribe((0,E.x)(ue,fe=>{be[Ae]=fe,st||(st=!0,se--),se||ue.next(ee(be.slice()))},()=>{--De||ue.complete()}))},ue)},ue)}}(ue,q,Fe?De=>(0,y.n)(Fe,De):N.y));return ee?be.pipe((0,x.Z)(ee)):be}function $(j,q,ee){j?(0,C.f)(ee,j,q):q()}},5211:(Je,le,l)=>{"use strict";l.d(le,{z:()=>x});var e=l(7537),u=l(9940),N=l(9666);function x(...h){return function S(){return(0,e.J)(1)}()((0,N.D)(h,(0,u.yG)(h)))}},6232:(Je,le,l)=>{"use strict";l.d(le,{E:()=>S,c:()=>u});var e=l(5592);const S=new e.y(x=>x.complete());function u(x){return x?function N(x){return new e.y(h=>x.schedule(()=>h.complete()))}(x):S}},9666:(Je,le,l)=>{"use strict";l.d(le,{D:()=>st});var e=l(4829),S=l(3093),u=l(9360);function N(fe,Dt=0){return(0,u.e)((Gt,Pt)=>{Pt.add(fe.schedule(()=>Gt.subscribe(Pt),Dt))})}var y=l(5592),C=l(4971),F=l(4674),V=l(7103);function j(fe,Dt){if(!fe)throw new Error("Iterable cannot be null");return new y.y(Gt=>{(0,V.f)(Gt,Dt,()=>{const Pt=fe[Symbol.asyncIterator]();(0,V.f)(Gt,Dt,()=>{Pt.next().then(dt=>{dt.done?Gt.complete():Gt.next(dt.value)})},0,!0)})})}var q=l(8382),ee=l(4026),ue=l(4266),Fe=l(3664),be=l(5726),De=l(9853),se=l(541);function st(fe,Dt){return Dt?function Me(fe,Dt){if(null!=fe){if((0,q.c)(fe))return function x(fe,Dt){return(0,e.Xf)(fe).pipe(N(Dt),(0,S.Q)(Dt))}(fe,Dt);if((0,ue.z)(fe))return function E(fe,Dt){return new y.y(Gt=>{let Pt=0;return Dt.schedule(function(){Pt===fe.length?Gt.complete():(Gt.next(fe[Pt++]),Gt.closed||this.schedule())})})}(fe,Dt);if((0,ee.t)(fe))return function h(fe,Dt){return(0,e.Xf)(fe).pipe(N(Dt),(0,S.Q)(Dt))}(fe,Dt);if((0,be.D)(fe))return j(fe,Dt);if((0,Fe.T)(fe))return function $(fe,Dt){return new y.y(Gt=>{let Pt;return(0,V.f)(Gt,Dt,()=>{Pt=fe[C.h](),(0,V.f)(Gt,Dt,()=>{let dt,sn;try{({value:dt,done:sn}=Pt.next())}catch(an){return void Gt.error(an)}sn?Gt.complete():Gt.next(dt)},0,!0)}),()=>(0,F.m)(Pt?.return)&&Pt.return()})}(fe,Dt);if((0,se.L)(fe))return function Ae(fe,Dt){return j((0,se.Q)(fe),Dt)}(fe,Dt)}throw(0,De.z)(fe)}(fe,Dt):(0,e.Xf)(fe)}},2438:(Je,le,l)=>{"use strict";l.d(le,{R:()=>F});var e=l(4829),S=l(5592),u=l(9769),N=l(4266),x=l(4674),h=l(7400);const y=["addListener","removeListener"],E=["addEventListener","removeEventListener"],C=["on","off"];function F(ee,ue,Fe,be){if((0,x.m)(Fe)&&(be=Fe,Fe=void 0),be)return F(ee,ue,Fe).pipe((0,h.Z)(be));const[De,se]=function q(ee){return(0,x.m)(ee.addEventListener)&&(0,x.m)(ee.removeEventListener)}(ee)?E.map(Ae=>Me=>ee[Ae](ue,Me,Fe)):function $(ee){return(0,x.m)(ee.addListener)&&(0,x.m)(ee.removeListener)}(ee)?y.map(V(ee,ue)):function j(ee){return(0,x.m)(ee.on)&&(0,x.m)(ee.off)}(ee)?C.map(V(ee,ue)):[];if(!De&&(0,N.z)(ee))return(0,u.z)(Ae=>F(Ae,ue,Fe))((0,e.Xf)(ee));if(!De)throw new TypeError("Invalid event target");return new S.y(Ae=>{const Me=(...st)=>Ae.next(1<st.length?st:st[0]);return De(Me),()=>se(Me)})}function V(ee,ue){return Fe=>be=>ee[Fe](ue,be)}},4829:(Je,le,l)=>{"use strict";l.d(le,{Xf:()=>j});var e=l(7582),S=l(4266),u=l(4026),N=l(5592),x=l(8382),h=l(5726),y=l(9853),E=l(3664),C=l(541),F=l(4674),V=l(3894),$=l(4850);function j(Ae){if(Ae instanceof N.y)return Ae;if(null!=Ae){if((0,x.c)(Ae))return function q(Ae){return new N.y(Me=>{const st=Ae[$.L]();if((0,F.m)(st.subscribe))return st.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,S.z)(Ae))return function ee(Ae){return new N.y(Me=>{for(let st=0;st<Ae.length&&!Me.closed;st++)Me.next(Ae[st]);Me.complete()})}(Ae);if((0,u.t)(Ae))return function ue(Ae){return new N.y(Me=>{Ae.then(st=>{Me.closed||(Me.next(st),Me.complete())},st=>Me.error(st)).then(null,V.h)})}(Ae);if((0,h.D)(Ae))return be(Ae);if((0,E.T)(Ae))return function Fe(Ae){return new N.y(Me=>{for(const st of Ae)if(Me.next(st),Me.closed)return;Me.complete()})}(Ae);if((0,C.L)(Ae))return function De(Ae){return be((0,C.Q)(Ae))}(Ae)}throw(0,y.z)(Ae)}function be(Ae){return new N.y(Me=>{(function se(Ae,Me){var st,fe,Dt,Gt;return(0,e.mG)(this,void 0,void 0,function*(){try{for(st=(0,e.KL)(Ae);!(fe=yield st.next()).done;)if(Me.next(fe.value),Me.closed)return}catch(Pt){Dt={error:Pt}}finally{try{fe&&!fe.done&&(Gt=st.return)&&(yield Gt.call(st))}finally{if(Dt)throw Dt.error}}Me.complete()})})(Ae,Me).catch(st=>Me.error(st))})}},3019:(Je,le,l)=>{"use strict";l.d(le,{T:()=>h});var e=l(7537),S=l(4829),u=l(6232),N=l(9940),x=l(9666);function h(...y){const E=(0,N.yG)(y),C=(0,N._6)(y,1/0),F=y;return F.length?1===F.length?(0,S.Xf)(F[0]):(0,e.J)(C)((0,x.D)(F,E)):u.E}},2096:(Je,le,l)=>{"use strict";l.d(le,{of:()=>u});var e=l(9940),S=l(9666);function u(...N){const x=(0,e.yG)(N);return(0,S.D)(N,x)}},3684:(Je,le,l)=>{"use strict";l.d(le,{S:()=>x});var e=l(5592),S=l(4829),u=l(7728),N=l(8251);function x(...y){return 1===(y=(0,u.k)(y)).length?(0,S.Xf)(y[0]):new e.y(function h(y){return E=>{let C=[];for(let F=0;C&&!E.closed&&F<y.length;F++)C.push((0,S.Xf)(y[F]).subscribe((0,N.x)(E,V=>{if(C){for(let $=0;$<C.length;$++)$!==F&&C[$].unsubscribe();C=null}E.next(V)})))}}(y))}},8504:(Je,le,l)=>{"use strict";l.d(le,{_:()=>u});var e=l(5592),S=l(4674);function u(N,x){const h=(0,S.m)(N)?N:()=>N,y=E=>E.error(h());return new e.y(x?E=>x.schedule(y,0,E):y)}},9080:(Je,le,l)=>{"use strict";l.d(le,{H:()=>x});var e=l(5592),S=l(6321),u=l(671),N=l(93);function x(h=0,y,E=S.P){let C=-1;return null!=y&&((0,u.K)(y)?E=y:C=y),new e.y(F=>{let V=(0,N.q)(h)?+h-E.now():h;V<0&&(V=0);let $=0;return E.schedule(function(){F.closed||(F.next($++),0<=C?this.schedule(void 0,C):F.complete())},V)})}},9278:(Je,le,l)=>{"use strict";l.d(le,{$:()=>y});var e=l(5592),S=l(4829),u=l(7728),N=l(6232),x=l(8251),h=l(9940);function y(...E){const C=(0,h.jO)(E),F=(0,u.k)(E);return F.length?new e.y(V=>{let $=F.map(()=>[]),j=F.map(()=>!1);V.add(()=>{$=j=null});for(let q=0;!V.closed&&q<F.length;q++)(0,S.Xf)(F[q]).subscribe((0,x.x)(V,ee=>{if($[q].push(ee),$.every(ue=>ue.length)){const ue=$.map(Fe=>Fe.shift());V.next(C?C(...ue):ue),$.some((Fe,be)=>!Fe.length&&j[be])&&V.complete()}},()=>{j[q]=!0,!$[q].length&&V.complete()}));return()=>{$=j=null}}):N.E}},9028:(Je,le,l)=>{"use strict";l.d(le,{e:()=>y});var e=l(6321),S=l(9360),u=l(4829),N=l(8251),h=l(9080);function y(E,C=e.z){return function x(E){return(0,S.e)((C,F)=>{let V=!1,$=null,j=null,q=!1;const ee=()=>{if(j?.unsubscribe(),j=null,V){V=!1;const Fe=$;$=null,F.next(Fe)}q&&F.complete()},ue=()=>{j=null,q&&F.complete()};C.subscribe((0,N.x)(F,Fe=>{V=!0,$=Fe,j||(0,u.Xf)(E(Fe)).subscribe(j=(0,N.x)(F,ee,ue))},()=>{q=!0,(!V||!j||j.closed)&&F.complete()}))})}(()=>(0,h.H)(E,C))}},6306:(Je,le,l)=>{"use strict";l.d(le,{K:()=>N});var e=l(4829),S=l(8251),u=l(9360);function N(x){return(0,u.e)((h,y)=>{let F,E=null,C=!1;E=h.subscribe((0,S.x)(y,void 0,void 0,V=>{F=(0,e.Xf)(x(V,N(x)(h))),E?(E.unsubscribe(),E=null,F.subscribe(y)):C=!0})),C&&(E.unsubscribe(),E=null,F.subscribe(y))})}},6328:(Je,le,l)=>{"use strict";l.d(le,{b:()=>u});var e=l(9769),S=l(4674);function u(N,x){return(0,S.m)(x)?(0,e.z)(N,x,1):(0,e.z)(N,1)}},3620:(Je,le,l)=>{"use strict";l.d(le,{b:()=>N});var e=l(6321),S=l(9360),u=l(8251);function N(x,h=e.z){return(0,S.e)((y,E)=>{let C=null,F=null,V=null;const $=()=>{if(C){C.unsubscribe(),C=null;const q=F;F=null,E.next(q)}};function j(){const q=V+x,ee=h.now();if(ee<q)return C=this.schedule(void 0,q-ee),void E.add(C);$()}y.subscribe((0,u.x)(E,q=>{F=q,V=h.now(),C||(C=h.schedule(j,x),E.add(C))},()=>{$(),E.complete()},void 0,()=>{F=C=null}))})}},3572:(Je,le,l)=>{"use strict";l.d(le,{d:()=>u});var e=l(9360),S=l(8251);function u(N){return(0,e.e)((x,h)=>{let y=!1;x.subscribe((0,S.x)(h,E=>{y=!0,h.next(E)},()=>{y||h.next(N),h.complete()}))})}},932:(Je,le,l)=>{"use strict";l.d(le,{g:()=>F});var e=l(6321),S=l(5211),u=l(8180),N=l(7538),x=l(975),h=l(9769),y=l(4829);function E(V,$){return $?j=>(0,S.z)($.pipe((0,u.q)(1),(0,N.l)()),j.pipe(E(V))):(0,h.z)((j,q)=>(0,y.Xf)(V(j,q)).pipe((0,u.q)(1),(0,x.h)(j)))}var C=l(9080);function F(V,$=e.z){const j=(0,C.H)(V,$);return E(()=>j)}},3997:(Je,le,l)=>{"use strict";l.d(le,{x:()=>N});var e=l(2737),S=l(9360),u=l(8251);function N(h,y=e.y){return h=h??x,(0,S.e)((E,C)=>{let F,V=!0;E.subscribe((0,u.x)(C,$=>{const j=y($);(V||!h(F,j))&&(V=!1,F=j,C.next($))}))})}function x(h,y){return h===y}},2181:(Je,le,l)=>{"use strict";l.d(le,{h:()=>u});var e=l(9360),S=l(8251);function u(N,x){return(0,e.e)((h,y)=>{let E=0;h.subscribe((0,S.x)(y,C=>N.call(x,C,E++)&&y.next(C)))})}},4716:(Je,le,l)=>{"use strict";l.d(le,{x:()=>S});var e=l(9360);function S(u){return(0,e.e)((N,x)=>{try{N.subscribe(x)}finally{x.add(u)}})}},1374:(Je,le,l)=>{"use strict";l.d(le,{P:()=>y});var e=l(6973),S=l(2181),u=l(8180),N=l(3572),x=l(3026),h=l(2737);function y(E,C){const F=arguments.length>=2;return V=>V.pipe(E?(0,S.h)(($,j)=>E($,j,V)):h.y,(0,u.q)(1),F?(0,N.d)(C):(0,x.T)(()=>new e.K))}},7538:(Je,le,l)=>{"use strict";l.d(le,{l:()=>N});var e=l(9360),S=l(8251),u=l(2420);function N(){return(0,e.e)((x,h)=>{x.subscribe((0,S.x)(h,u.Z))})}},975:(Je,le,l)=>{"use strict";l.d(le,{h:()=>S});var e=l(7398);function S(u){return(0,e.U)(()=>u)}},7537:(Je,le,l)=>{"use strict";l.d(le,{J:()=>u});var e=l(9769),S=l(2737);function u(N=1/0){return(0,e.z)(S.y,N)}},564:(Je,le,l)=>{"use strict";l.d(le,{p:()=>N});var e=l(4829),S=l(7103),u=l(8251);function N(x,h,y,E,C,F,V,$){const j=[];let q=0,ee=0,ue=!1;const Fe=()=>{ue&&!j.length&&!q&&h.complete()},be=se=>q<E?De(se):j.push(se),De=se=>{F&&h.next(se),q++;let Ae=!1;(0,e.Xf)(y(se,ee++)).subscribe((0,u.x)(h,Me=>{C?.(Me),F?be(Me):h.next(Me)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(q--;j.length&&q<E;){const Me=j.shift();V?(0,S.f)(h,V,()=>De(Me)):De(Me)}Fe()}catch(Me){h.error(Me)}}))};return x.subscribe((0,u.x)(h,be,()=>{ue=!0,Fe()})),()=>{$?.()}}},9769:(Je,le,l)=>{"use strict";l.d(le,{z:()=>h});var e=l(7398),S=l(4829),u=l(9360),N=l(564),x=l(4674);function h(y,E,C=1/0){return(0,x.m)(E)?h((F,V)=>(0,e.U)(($,j)=>E(F,$,V,j))((0,S.Xf)(y(F,V))),C):("number"==typeof E&&(C=E),(0,u.e)((F,V)=>(0,N.p)(F,V,y,C)))}},3093:(Je,le,l)=>{"use strict";l.d(le,{Q:()=>N});var e=l(7103),S=l(9360),u=l(8251);function N(x,h=0){return(0,S.e)((y,E)=>{y.subscribe((0,u.x)(E,C=>(0,e.f)(E,x,()=>E.next(C),h),()=>(0,e.f)(E,x,()=>E.complete(),h),C=>(0,e.f)(E,x,()=>E.error(C),h)))})}},6699:(Je,le,l)=>{"use strict";l.d(le,{R:()=>N});var e=l(9360),S=l(8251);function N(x,h){return(0,e.e)(function u(x,h,y,E,C){return(F,V)=>{let $=y,j=h,q=0;F.subscribe((0,S.x)(V,ee=>{const ue=q++;j=$?x(j,ee,ue):($=!0,ee),E&&V.next(j)},C&&(()=>{$&&V.next(j),V.complete()})))}}(x,h,arguments.length>=2,!0))}},3020:(Je,le,l)=>{"use strict";l.d(le,{B:()=>x});var e=l(4829),S=l(8645),u=l(305),N=l(9360);function x(y={}){const{connector:E=(()=>new S.x),resetOnError:C=!0,resetOnComplete:F=!0,resetOnRefCountZero:V=!0}=y;return $=>{let j,q,ee,ue=0,Fe=!1,be=!1;const De=()=>{q?.unsubscribe(),q=void 0},se=()=>{De(),j=ee=void 0,Fe=be=!1},Ae=()=>{const Me=j;se(),Me?.unsubscribe()};return(0,N.e)((Me,st)=>{ue++,!be&&!Fe&&De();const fe=ee=ee??E();st.add(()=>{ue--,0===ue&&!be&&!Fe&&(q=h(Ae,V))}),fe.subscribe(st),!j&&ue>0&&(j=new u.Hp({next:Dt=>fe.next(Dt),error:Dt=>{be=!0,De(),q=h(se,C,Dt),fe.error(Dt)},complete:()=>{Fe=!0,De(),q=h(se,F),fe.complete()}}),(0,e.Xf)(Me).subscribe(j))})($)}}function h(y,E,...C){if(!0===E)return void y();if(!1===E)return;const F=new u.Hp({next:()=>{F.unsubscribe(),y()}});return(0,e.Xf)(E(...C)).subscribe(F)}},836:(Je,le,l)=>{"use strict";l.d(le,{T:()=>S});var e=l(2181);function S(u){return(0,e.h)((N,x)=>u<=x)}},7921:(Je,le,l)=>{"use strict";l.d(le,{O:()=>N});var e=l(5211),S=l(9940),u=l(9360);function N(...x){const h=(0,S.yG)(x);return(0,u.e)((y,E)=>{(h?(0,e.z)(x,y,h):(0,e.z)(x,y)).subscribe(E)})}},4664:(Je,le,l)=>{"use strict";l.d(le,{w:()=>N});var e=l(4829),S=l(9360),u=l(8251);function N(x,h){return(0,S.e)((y,E)=>{let C=null,F=0,V=!1;const $=()=>V&&!C&&E.complete();y.subscribe((0,u.x)(E,j=>{C?.unsubscribe();let q=0;const ee=F++;(0,e.Xf)(x(j,ee)).subscribe(C=(0,u.x)(E,ue=>E.next(h?h(j,ue,ee,q++):ue),()=>{C=null,$()}))},()=>{V=!0,$()}))})}},8180:(Je,le,l)=>{"use strict";l.d(le,{q:()=>N});var e=l(6232),S=l(9360),u=l(8251);function N(x){return x<=0?()=>e.E:(0,S.e)((h,y)=>{let E=0;h.subscribe((0,u.x)(y,C=>{++E<=x&&(y.next(C),x<=E&&y.complete())}))})}},9773:(Je,le,l)=>{"use strict";l.d(le,{R:()=>x});var e=l(9360),S=l(8251),u=l(4829),N=l(2420);function x(h){return(0,e.e)((y,E)=>{(0,u.Xf)(h).subscribe((0,S.x)(E,()=>E.complete(),N.Z)),!E.closed&&y.subscribe(E)})}},9397:(Je,le,l)=>{"use strict";l.d(le,{b:()=>x});var e=l(4674),S=l(9360),u=l(8251),N=l(2737);function x(h,y,E){const C=(0,e.m)(h)||y||E?{next:h,error:y,complete:E}:h;return C?(0,S.e)((F,V)=>{var $;null===($=C.subscribe)||void 0===$||$.call(C);let j=!0;F.subscribe((0,u.x)(V,q=>{var ee;null===(ee=C.next)||void 0===ee||ee.call(C,q),V.next(q)},()=>{var q;j=!1,null===(q=C.complete)||void 0===q||q.call(C),V.complete()},q=>{var ee;j=!1,null===(ee=C.error)||void 0===ee||ee.call(C,q),V.error(q)},()=>{var q,ee;j&&(null===(q=C.unsubscribe)||void 0===q||q.call(C)),null===(ee=C.finalize)||void 0===ee||ee.call(C)}))}):N.y}},3026:(Je,le,l)=>{"use strict";l.d(le,{T:()=>N});var e=l(6973),S=l(9360),u=l(8251);function N(h=x){return(0,S.e)((y,E)=>{let C=!1;y.subscribe((0,u.x)(E,F=>{C=!0,E.next(F)},()=>C?E.complete():E.error(h())))})}function x(){return new e.K}},5178:(Je,le,l)=>{"use strict";l.d(le,{V:()=>C});var e=l(6321),S=l(93),u=l(9360),N=l(4829),x=l(2306),h=l(8251),y=l(7103);const E=(0,x.d)(V=>function(j=null){V(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=j});function C(V,$){const{first:j,each:q,with:ee=F,scheduler:ue=$??e.z,meta:Fe=null}=(0,S.q)(V)?{first:V}:"number"==typeof V?{each:V}:V;if(null==j&&null==q)throw new TypeError("No timeout provided.");return(0,u.e)((be,De)=>{let se,Ae,Me=null,st=0;const fe=Dt=>{Ae=(0,y.f)(De,ue,()=>{try{se.unsubscribe(),(0,N.Xf)(ee({meta:Fe,lastValue:Me,seen:st})).subscribe(De)}catch(Gt){De.error(Gt)}},Dt)};se=be.subscribe((0,h.x)(De,Dt=>{Ae?.unsubscribe(),st++,De.next(Me=Dt),q>0&&fe(q)},void 0,void 0,()=>{Ae?.closed||Ae?.unsubscribe(),Me=null})),!st&&fe(null!=j?"number"==typeof j?j:+j-ue.now():q)})}function F(V){throw new E(V)}},2460:(Je,le,l)=>{"use strict";l.d(le,{M:()=>y});var e=l(9360),S=l(8251),u=l(4829),N=l(2737),x=l(2420),h=l(9940);function y(...E){const C=(0,h.jO)(E);return(0,e.e)((F,V)=>{const $=E.length,j=new Array($);let q=E.map(()=>!1),ee=!1;for(let ue=0;ue<$;ue++)(0,u.Xf)(E[ue]).subscribe((0,S.x)(V,Fe=>{j[ue]=Fe,!ee&&!q[ue]&&(q[ue]=!0,(ee=q.every(N.y))&&(q=null))},x.Z));F.subscribe((0,S.x)(V,ue=>{if(ee){const Fe=[ue,...j];V.next(C?C(...Fe):Fe)}}))})}},1954:(Je,le,l)=>{"use strict";l.d(le,{o:()=>x});var e=l(7394);class S extends e.w0{constructor(y,E){super()}schedule(y,E=0){return this}}const u={setInterval(h,y,...E){const{delegate:C}=u;return C?.setInterval?C.setInterval(h,y,...E):setInterval(h,y,...E)},clearInterval(h){const{delegate:y}=u;return(y?.clearInterval||clearInterval)(h)},delegate:void 0};var N=l(9039);class x extends S{constructor(y,E){super(y,E),this.scheduler=y,this.work=E,this.pending=!1}schedule(y,E=0){var C;if(this.closed)return this;this.state=y;const F=this.id,V=this.scheduler;return null!=F&&(this.id=this.recycleAsyncId(V,F,E)),this.pending=!0,this.delay=E,this.id=null!==(C=this.id)&&void 0!==C?C:this.requestAsyncId(V,this.id,E),this}requestAsyncId(y,E,C=0){return u.setInterval(y.flush.bind(y,this),C)}recycleAsyncId(y,E,C=0){if(null!=C&&this.delay===C&&!1===this.pending)return E;null!=E&&u.clearInterval(E)}execute(y,E){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const C=this._execute(y,E);if(C)return C;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(y,E){let F,C=!1;try{this.work(y)}catch(V){C=!0,F=V||new Error("Scheduled action threw falsy error")}if(C)return this.unsubscribe(),F}unsubscribe(){if(!this.closed){const{id:y,scheduler:E}=this,{actions:C}=E;this.work=this.state=this.scheduler=null,this.pending=!1,(0,N.P)(C,this),null!=y&&(this.id=this.recycleAsyncId(E,y,null)),this.delay=null,super.unsubscribe()}}}},2631:(Je,le,l)=>{"use strict";l.d(le,{v:()=>u});var e=l(4552);class S{constructor(x,h=S.now){this.schedulerActionCtor=x,this.now=h}schedule(x,h=0,y){return new this.schedulerActionCtor(this,x).schedule(y,h)}}S.now=e.l.now;class u extends S{constructor(x,h=S.now){super(x,h),this.actions=[],this._active=!1}flush(x){const{actions:h}=this;if(this._active)return void h.push(x);let y;this._active=!0;do{if(y=x.execute(x.state,x.delay))break}while(x=h.shift());if(this._active=!1,y){for(;x=h.shift();)x.unsubscribe();throw y}}}},927:(Je,le,l)=>{"use strict";l.d(le,{Z:()=>y});var e=l(1954),S=l(7394);const u={schedule(C){let F=requestAnimationFrame,V=cancelAnimationFrame;const{delegate:$}=u;$&&(F=$.requestAnimationFrame,V=$.cancelAnimationFrame);const j=F(q=>{V=void 0,C(q)});return new S.w0(()=>V?.(j))},requestAnimationFrame(...C){const{delegate:F}=u;return(F?.requestAnimationFrame||requestAnimationFrame)(...C)},cancelAnimationFrame(...C){const{delegate:F}=u;return(F?.cancelAnimationFrame||cancelAnimationFrame)(...C)},delegate:void 0};var x=l(2631);const y=new class h extends x.v{flush(F){this._active=!0;const V=this._scheduled;this._scheduled=void 0;const{actions:$}=this;let j;F=F||$.shift();do{if(j=F.execute(F.state,F.delay))break}while((F=$[0])&&F.id===V&&$.shift());if(this._active=!1,j){for(;(F=$[0])&&F.id===V&&$.shift();)F.unsubscribe();throw j}}}(class N extends e.o{constructor(F,V){super(F,V),this.scheduler=F,this.work=V}requestAsyncId(F,V,$=0){return null!==$&&$>0?super.requestAsyncId(F,V,$):(F.actions.push(this),F._scheduled||(F._scheduled=u.requestAnimationFrame(()=>F.flush(void 0))))}recycleAsyncId(F,V,$=0){var j;if(null!=$?$>0:this.delay>0)return super.recycleAsyncId(F,V,$);const{actions:q}=F;null!=V&&(null===(j=q[q.length-1])||void 0===j?void 0:j.id)!==V&&(u.cancelAnimationFrame(V),F._scheduled=void 0)}})},6321:(Je,le,l)=>{"use strict";l.d(le,{P:()=>N,z:()=>u});var e=l(1954);const u=new(l(2631).v)(e.o),N=u},4552:(Je,le,l)=>{"use strict";l.d(le,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},2381:(Je,le,l)=>{"use strict";l.d(le,{N:()=>x});var e=l(1954),u=l(2631);const x=new class N extends u.v{}(class S extends e.o{constructor(E,C){super(E,C),this.scheduler=E,this.work=C}schedule(E,C=0){return C>0?super.schedule(E,C):(this.delay=C,this.state=E,this.scheduler.flush(this),this)}execute(E,C){return C>0||this.closed?super.execute(E,C):this._execute(E,C)}requestAsyncId(E,C,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(E,C,F):(E.flush(this),0)}})},4971:(Je,le,l)=>{"use strict";l.d(le,{h:()=>S});const S=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},6973:(Je,le,l)=>{"use strict";l.d(le,{K:()=>S});const S=(0,l(2306).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Je,le,l)=>{"use strict";l.d(le,{_6:()=>h,jO:()=>N,yG:()=>x});var e=l(4674),S=l(671);function u(y){return y[y.length-1]}function N(y){return(0,e.m)(u(y))?y.pop():void 0}function x(y){return(0,S.K)(u(y))?y.pop():void 0}function h(y,E){return"number"==typeof u(y)?y.pop():E}},7453:(Je,le,l)=>{"use strict";l.d(le,{D:()=>x});const{isArray:e}=Array,{getPrototypeOf:S,prototype:u,keys:N}=Object;function x(y){if(1===y.length){const E=y[0];if(e(E))return{args:E,keys:null};if(function h(y){return y&&"object"==typeof y&&S(y)===u}(E)){const C=N(E);return{args:C.map(F=>E[F]),keys:C}}}return{args:y,keys:null}}},7728:(Je,le,l)=>{"use strict";l.d(le,{k:()=>S});const{isArray:e}=Array;function S(u){return 1===u.length&&e(u[0])?u[0]:u}},2714:(Je,le,l)=>{"use strict";function e(S,u){return S.reduce((N,x,h)=>(N[x]=u[h],N),{})}l.d(le,{n:()=>e})},7103:(Je,le,l)=>{"use strict";function e(S,u,N,x=0,h=!1){const y=u.schedule(function(){N(),h?S.add(this.schedule(null,x)):this.unsubscribe()},x);if(S.add(y),!h)return y}l.d(le,{f:()=>e})},4266:(Je,le,l)=>{"use strict";l.d(le,{z:()=>e});const e=S=>S&&"number"==typeof S.length&&"function"!=typeof S},5726:(Je,le,l)=>{"use strict";l.d(le,{D:()=>S});var e=l(4674);function S(u){return Symbol.asyncIterator&&(0,e.m)(u?.[Symbol.asyncIterator])}},93:(Je,le,l)=>{"use strict";function e(S){return S instanceof Date&&!isNaN(S)}l.d(le,{q:()=>e})},8382:(Je,le,l)=>{"use strict";l.d(le,{c:()=>u});var e=l(4850),S=l(4674);function u(N){return(0,S.m)(N[e.L])}},3664:(Je,le,l)=>{"use strict";l.d(le,{T:()=>u});var e=l(4971),S=l(4674);function u(N){return(0,S.m)(N?.[e.h])}},4026:(Je,le,l)=>{"use strict";l.d(le,{t:()=>S});var e=l(4674);function S(u){return(0,e.m)(u?.then)}},541:(Je,le,l)=>{"use strict";l.d(le,{L:()=>N,Q:()=>u});var e=l(7582),S=l(4674);function u(x){return(0,e.FC)(this,arguments,function*(){const y=x.getReader();try{for(;;){const{value:E,done:C}=yield(0,e.qq)(y.read());if(C)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(E)}}finally{y.releaseLock()}})}function N(x){return(0,S.m)(x?.getReader)}},671:(Je,le,l)=>{"use strict";l.d(le,{K:()=>S});var e=l(4674);function S(u){return u&&(0,e.m)(u.schedule)}},7400:(Je,le,l)=>{"use strict";l.d(le,{Z:()=>N});var e=l(7398);const{isArray:S}=Array;function N(x){return(0,e.U)(h=>function u(x,h){return S(h)?x(...h):x(h)}(x,h))}},9853:(Je,le,l)=>{"use strict";function e(S){return new TypeError(`You provided ${null!==S&&"object"==typeof S?"an invalid object":`'${S}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}l.d(le,{z:()=>e})},6825:(Je,le,l)=>{"use strict";l.d(le,{X$:()=>u,ZE:()=>Dt,ZN:()=>fe,eR:()=>F,jt:()=>N,k1:()=>Gt,l3:()=>S,mo:()=>e,oB:()=>y,vP:()=>h});var e=function(Pt){return Pt[Pt.State=0]="State",Pt[Pt.Transition=1]="Transition",Pt[Pt.Sequence=2]="Sequence",Pt[Pt.Group=3]="Group",Pt[Pt.Animate=4]="Animate",Pt[Pt.Keyframes=5]="Keyframes",Pt[Pt.Style=6]="Style",Pt[Pt.Trigger=7]="Trigger",Pt[Pt.Reference=8]="Reference",Pt[Pt.AnimateChild=9]="AnimateChild",Pt[Pt.AnimateRef=10]="AnimateRef",Pt[Pt.Query=11]="Query",Pt[Pt.Stagger=12]="Stagger",Pt}(e||{});const S="*";function u(Pt,dt){return{type:e.Trigger,name:Pt,definitions:dt,options:{}}}function N(Pt,dt=null){return{type:e.Animate,styles:dt,timings:Pt}}function h(Pt,dt=null){return{type:e.Sequence,steps:Pt,options:dt}}function y(Pt){return{type:e.Style,styles:Pt,offset:null}}function F(Pt,dt,sn=null){return{type:e.Transition,expr:Pt,animation:dt,options:sn}}class fe{constructor(dt=0,sn=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=dt+sn}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(dt=>dt()),this._onDoneFns=[])}onStart(dt){this._originalOnStartFns.push(dt),this._onStartFns.push(dt)}onDone(dt){this._originalOnDoneFns.push(dt),this._onDoneFns.push(dt)}onDestroy(dt){this._onDestroyFns.push(dt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(dt=>dt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(dt=>dt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(dt){this._position=this.totalTime?dt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(dt){const sn="start"==dt?this._onStartFns:this._onDoneFns;sn.forEach(an=>an()),sn.length=0}}class Dt{constructor(dt){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=dt;let sn=0,an=0,un=0;const Sn=this.players.length;0==Sn?queueMicrotask(()=>this._onFinish()):this.players.forEach(hn=>{hn.onDone(()=>{++sn==Sn&&this._onFinish()}),hn.onDestroy(()=>{++an==Sn&&this._onDestroy()}),hn.onStart(()=>{++un==Sn&&this._onStart()})}),this.totalTime=this.players.reduce((hn,cn)=>Math.max(hn,cn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(dt=>dt()),this._onDoneFns=[])}init(){this.players.forEach(dt=>dt.init())}onStart(dt){this._onStartFns.push(dt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(dt=>dt()),this._onStartFns=[])}onDone(dt){this._onDoneFns.push(dt)}onDestroy(dt){this._onDestroyFns.push(dt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(dt=>dt.play())}pause(){this.players.forEach(dt=>dt.pause())}restart(){this.players.forEach(dt=>dt.restart())}finish(){this._onFinish(),this.players.forEach(dt=>dt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(dt=>dt.destroy()),this._onDestroyFns.forEach(dt=>dt()),this._onDestroyFns=[])}reset(){this.players.forEach(dt=>dt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(dt){const sn=dt*this.totalTime;this.players.forEach(an=>{const un=an.totalTime?Math.min(1,sn/an.totalTime):1;an.setPosition(un)})}getPosition(){const dt=this.players.reduce((sn,an)=>null===sn||an.totalTime>sn.totalTime?an:sn,null);return null!=dt?dt.getPosition():0}beforeDestroy(){this.players.forEach(dt=>{dt.beforeDestroy&&dt.beforeDestroy()})}triggerCallback(dt){const sn="start"==dt?this._onStartFns:this._onDoneFns;sn.forEach(an=>an()),sn.length=0}}const Gt="!"},9388:(Je,le,l)=>{"use strict";l.d(le,{Is:()=>y,vT:()=>C});var e=l(9212),S=l(6814);const u=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function N(){return(0,e.f3M)(S.K0)}}),x=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let y=(()=>{class F{constructor($){this.value="ltr",this.change=new e.vpe,$&&(this.value=function h(F){const V=F?.toLowerCase()||"";return"auto"===V&&typeof navigator<"u"&&navigator?.language?x.test(navigator.language)?"rtl":"ltr":"rtl"===V?"rtl":"ltr"}(($.body?$.body.dir:null)||($.documentElement?$.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(j){return new(j||F)(e.LFG(u,8))};static#t=this.\u0275prov=e.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),C=(()=>{class F{static#e=this.\u0275fac=function(j){return new(j||F)};static#t=this.\u0275mod=e.oAB({type:F});static#n=this.\u0275inj=e.cJS({})}return F})()},2495:(Je,le,l)=>{"use strict";l.d(le,{Eq:()=>x,HM:()=>h,Ig:()=>S,fI:()=>y,su:()=>u});var e=l(9212);function S(C){return null!=C&&"false"!=`${C}`}function u(C,F=0){return function N(C){return!isNaN(parseFloat(C))&&!isNaN(Number(C))}(C)?Number(C):F}function x(C){return Array.isArray(C)?C:[C]}function h(C){return null==C?"":"string"==typeof C?C:`${C}px`}function y(C){return C instanceof e.SBq?C.nativeElement:C}},2831:(Je,le,l)=>{"use strict";l.d(le,{Mq:()=>q,Oy:()=>Ae,_i:()=>ee,i$:()=>V,kV:()=>be,sA:()=>se,t4:()=>N});var e=l(9212),S=l(6814);let u;try{u=typeof Intl<"u"&&Intl.v8BreakIterator}catch{u=!1}let C,$,j,ue,N=(()=>{class Me{constructor(fe){this._platformId=fe,this.isBrowser=this._platformId?(0,S.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!u)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Dt){return new(Dt||Me)(e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})();function V(Me){return function F(){if(null==C&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>C=!0}))}finally{C=C||!1}return C}()?Me:!!Me.capture}function q(){if(null==j){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return j=!1,j;if("scrollBehavior"in document.documentElement.style)j=!0;else{const Me=Element.prototype.scrollTo;j=!!Me&&!/\{\s*\[native code\]\s*\}/.test(Me.toString())}}return j}function ee(){if("object"!=typeof document||!document)return 0;if(null==$){const Me=document.createElement("div"),st=Me.style;Me.dir="rtl",st.width="1px",st.overflow="auto",st.visibility="hidden",st.pointerEvents="none",st.position="absolute";const fe=document.createElement("div"),Dt=fe.style;Dt.width="2px",Dt.height="1px",Me.appendChild(fe),document.body.appendChild(Me),$=0,0===Me.scrollLeft&&(Me.scrollLeft=1,$=0===Me.scrollLeft?1:2),Me.remove()}return $}function be(Me){if(function Fe(){if(null==ue){const Me=typeof document<"u"?document.head:null;ue=!(!Me||!Me.createShadowRoot&&!Me.attachShadow)}return ue}()){const st=Me.getRootNode?Me.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&st instanceof ShadowRoot)return st}return null}function se(Me){return Me.composedPath?Me.composedPath()[0]:Me.target}function Ae(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},7368:(Je,le,l)=>{"use strict";l.d(le,{ZD:()=>Be,mF:()=>$t,Cl:()=>tt,rL:()=>Tt});var e=l(2495),S=l(9212),u=l(8645),N=l(2096),x=l(5592),h=l(2438),E=(l(927),l(1954));let F,C=1;const V={};function $(qe){return qe in V&&(delete V[qe],!0)}const j={setImmediate(qe){const Et=C++;return V[Et]=!0,F||(F=Promise.resolve()),F.then(()=>$(Et)&&qe()),Et},clearImmediate(qe){$(qe)}},{setImmediate:ee,clearImmediate:ue}=j,Fe={setImmediate(...qe){const{delegate:Et}=Fe;return(Et?.setImmediate||ee)(...qe)},clearImmediate(qe){const{delegate:Et}=Fe;return(Et?.clearImmediate||ue)(qe)},delegate:void 0};var De=l(2631);new class se extends De.v{flush(Et){this._active=!0;const Qe=this._scheduled;this._scheduled=void 0;const{actions:Ct}=this;let Yt;Et=Et||Ct.shift();do{if(Yt=Et.execute(Et.state,Et.delay))break}while((Et=Ct[0])&&Et.id===Qe&&Ct.shift());if(this._active=!1,Yt){for(;(Et=Ct[0])&&Et.id===Qe&&Ct.shift();)Et.unsubscribe();throw Yt}}}(class be extends E.o{constructor(Et,Qe){super(Et,Qe),this.scheduler=Et,this.work=Qe}requestAsyncId(Et,Qe,Ct=0){return null!==Ct&&Ct>0?super.requestAsyncId(Et,Qe,Ct):(Et.actions.push(this),Et._scheduled||(Et._scheduled=Fe.setImmediate(Et.flush.bind(Et,void 0))))}recycleAsyncId(Et,Qe,Ct=0){var Yt;if(null!=Ct?Ct>0:this.delay>0)return super.recycleAsyncId(Et,Qe,Ct);const{actions:ln}=Et;null!=Qe&&(null===(Yt=ln[ln.length-1])||void 0===Yt?void 0:Yt.id)!==Qe&&(Fe.clearImmediate(Qe),Et._scheduled===Qe&&(Et._scheduled=void 0))}});var st=l(9028),fe=l(2181),Dt=l(2831),Gt=l(6814),Pt=l(9388);let $t=(()=>{class qe{constructor(Qe,Ct,Yt){this._ngZone=Qe,this._platform=Ct,this._scrolled=new u.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Yt}register(Qe){this.scrollContainers.has(Qe)||this.scrollContainers.set(Qe,Qe.elementScrolled().subscribe(()=>this._scrolled.next(Qe)))}deregister(Qe){const Ct=this.scrollContainers.get(Qe);Ct&&(Ct.unsubscribe(),this.scrollContainers.delete(Qe))}scrolled(Qe=20){return this._platform.isBrowser?new x.y(Ct=>{this._globalSubscription||this._addGlobalListener();const Yt=Qe>0?this._scrolled.pipe((0,st.e)(Qe)).subscribe(Ct):this._scrolled.subscribe(Ct);return this._scrolledCount++,()=>{Yt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,N.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Qe,Ct)=>this.deregister(Ct)),this._scrolled.complete()}ancestorScrolled(Qe,Ct){const Yt=this.getAncestorScrollContainers(Qe);return this.scrolled(Ct).pipe((0,fe.h)(ln=>!ln||Yt.indexOf(ln)>-1))}getAncestorScrollContainers(Qe){const Ct=[];return this.scrollContainers.forEach((Yt,ln)=>{this._scrollableContainsElement(ln,Qe)&&Ct.push(ln)}),Ct}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Qe,Ct){let Yt=(0,e.fI)(Ct),ln=Qe.getElementRef().nativeElement;do{if(Yt==ln)return!0}while(Yt=Yt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Qe=this._getWindow();return(0,h.R)(Qe.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Ct){return new(Ct||qe)(S.LFG(S.R0b),S.LFG(Dt.t4),S.LFG(Gt.K0,8))};static#t=this.\u0275prov=S.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})(),Tt=(()=>{class qe{constructor(Qe,Ct,Yt){this._platform=Qe,this._change=new u.x,this._changeListener=ln=>{this._change.next(ln)},this._document=Yt,Ct.runOutsideAngular(()=>{if(Qe.isBrowser){const ln=this._getWindow();ln.addEventListener("resize",this._changeListener),ln.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Qe=this._getWindow();Qe.removeEventListener("resize",this._changeListener),Qe.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Qe={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Qe}getViewportRect(){const Qe=this.getViewportScrollPosition(),{width:Ct,height:Yt}=this.getViewportSize();return{top:Qe.top,left:Qe.left,bottom:Qe.top+Yt,right:Qe.left+Ct,height:Yt,width:Ct}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Qe=this._document,Ct=this._getWindow(),Yt=Qe.documentElement,ln=Yt.getBoundingClientRect();return{top:-ln.top||Qe.body.scrollTop||Ct.scrollY||Yt.scrollTop||0,left:-ln.left||Qe.body.scrollLeft||Ct.scrollX||Yt.scrollLeft||0}}change(Qe=20){return Qe>0?this._change.pipe((0,st.e)(Qe)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Qe=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Qe.innerWidth,height:Qe.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Ct){return new(Ct||qe)(S.LFG(Dt.t4),S.LFG(S.R0b),S.LFG(Gt.K0,8))};static#t=this.\u0275prov=S.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})(),Be=(()=>{class qe{static#e=this.\u0275fac=function(Ct){return new(Ct||qe)};static#t=this.\u0275mod=S.oAB({type:qe});static#n=this.\u0275inj=S.cJS({})}return qe})(),tt=(()=>{class qe{static#e=this.\u0275fac=function(Ct){return new(Ct||qe)};static#t=this.\u0275mod=S.oAB({type:qe});static#n=this.\u0275inj=S.cJS({imports:[Pt.vT,Be,Pt.vT,Be]})}return qe})()},9862:(Je,le,l)=>{"use strict";l.d(le,{Ed:()=>tr,JF:()=>Ci,LE:()=>Me,TP:()=>tt,WM:()=>q,eN:()=>Tt}),l(5861);var S=l(9212),u=l(2096),N=l(5592),x=l(9666),h=l(6328),y=l(2181),E=l(7398),C=l(4716),F=l(4664),V=l(6814);class ${}class j{}class q{constructor(Ye){this.normalizedNames=new Map,this.lazyUpdate=null,Ye?"string"==typeof Ye?this.lazyInit=()=>{this.headers=new Map,Ye.split("\n").forEach(Ge=>{const St=Ge.indexOf(":");if(St>0){const i=Ge.slice(0,St),r=i.toLowerCase(),a=Ge.slice(St+1).trim();this.maybeSetNormalizedName(i,r),this.headers.has(r)?this.headers.get(r).push(a):this.headers.set(r,[a])}})}:typeof Headers<"u"&&Ye instanceof Headers?(this.headers=new Map,Ye.forEach((Ge,St)=>{this.setHeaderEntries(St,Ge)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ye).forEach(([Ge,St])=>{this.setHeaderEntries(Ge,St)})}:this.headers=new Map}has(Ye){return this.init(),this.headers.has(Ye.toLowerCase())}get(Ye){this.init();const Ge=this.headers.get(Ye.toLowerCase());return Ge&&Ge.length>0?Ge[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ye){return this.init(),this.headers.get(Ye.toLowerCase())||null}append(Ye,Ge){return this.clone({name:Ye,value:Ge,op:"a"})}set(Ye,Ge){return this.clone({name:Ye,value:Ge,op:"s"})}delete(Ye,Ge){return this.clone({name:Ye,value:Ge,op:"d"})}maybeSetNormalizedName(Ye,Ge){this.normalizedNames.has(Ge)||this.normalizedNames.set(Ge,Ye)}init(){this.lazyInit&&(this.lazyInit instanceof q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ye=>this.applyUpdate(Ye)),this.lazyUpdate=null))}copyFrom(Ye){Ye.init(),Array.from(Ye.headers.keys()).forEach(Ge=>{this.headers.set(Ge,Ye.headers.get(Ge)),this.normalizedNames.set(Ge,Ye.normalizedNames.get(Ge))})}clone(Ye){const Ge=new q;return Ge.lazyInit=this.lazyInit&&this.lazyInit instanceof q?this.lazyInit:this,Ge.lazyUpdate=(this.lazyUpdate||[]).concat([Ye]),Ge}applyUpdate(Ye){const Ge=Ye.name.toLowerCase();switch(Ye.op){case"a":case"s":let St=Ye.value;if("string"==typeof St&&(St=[St]),0===St.length)return;this.maybeSetNormalizedName(Ye.name,Ge);const i=("a"===Ye.op?this.headers.get(Ge):void 0)||[];i.push(...St),this.headers.set(Ge,i);break;case"d":const r=Ye.value;if(r){let a=this.headers.get(Ge);if(!a)return;a=a.filter(f=>-1===r.indexOf(f)),0===a.length?(this.headers.delete(Ge),this.normalizedNames.delete(Ge)):this.headers.set(Ge,a)}else this.headers.delete(Ge),this.normalizedNames.delete(Ge)}}setHeaderEntries(Ye,Ge){const St=(Array.isArray(Ge)?Ge:[Ge]).map(r=>r.toString()),i=Ye.toLowerCase();this.headers.set(i,St),this.maybeSetNormalizedName(Ye,i)}forEach(Ye){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ge=>Ye(this.normalizedNames.get(Ge),this.headers.get(Ge)))}}class ue{encodeKey(Ye){return se(Ye)}encodeValue(Ye){return se(Ye)}decodeKey(Ye){return decodeURIComponent(Ye)}decodeValue(Ye){return decodeURIComponent(Ye)}}const be=/%(\d[a-f0-9])/gi,De={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function se(ve){return encodeURIComponent(ve).replace(be,(Ye,Ge)=>De[Ge]??Ye)}function Ae(ve){return`${ve}`}class Me{constructor(Ye={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ye.encoder||new ue,Ye.fromString){if(Ye.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Fe(ve,Ye){const Ge=new Map;return ve.length>0&&ve.replace(/^\?/,"").split("&").forEach(i=>{const r=i.indexOf("="),[a,f]=-1==r?[Ye.decodeKey(i),""]:[Ye.decodeKey(i.slice(0,r)),Ye.decodeValue(i.slice(r+1))],T=Ge.get(a)||[];T.push(f),Ge.set(a,T)}),Ge}(Ye.fromString,this.encoder)}else Ye.fromObject?(this.map=new Map,Object.keys(Ye.fromObject).forEach(Ge=>{const St=Ye.fromObject[Ge],i=Array.isArray(St)?St.map(Ae):[Ae(St)];this.map.set(Ge,i)})):this.map=null}has(Ye){return this.init(),this.map.has(Ye)}get(Ye){this.init();const Ge=this.map.get(Ye);return Ge?Ge[0]:null}getAll(Ye){return this.init(),this.map.get(Ye)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ye,Ge){return this.clone({param:Ye,value:Ge,op:"a"})}appendAll(Ye){const Ge=[];return Object.keys(Ye).forEach(St=>{const i=Ye[St];Array.isArray(i)?i.forEach(r=>{Ge.push({param:St,value:r,op:"a"})}):Ge.push({param:St,value:i,op:"a"})}),this.clone(Ge)}set(Ye,Ge){return this.clone({param:Ye,value:Ge,op:"s"})}delete(Ye,Ge){return this.clone({param:Ye,value:Ge,op:"d"})}toString(){return this.init(),this.keys().map(Ye=>{const Ge=this.encoder.encodeKey(Ye);return this.map.get(Ye).map(St=>Ge+"="+this.encoder.encodeValue(St)).join("&")}).filter(Ye=>""!==Ye).join("&")}clone(Ye){const Ge=new Me({encoder:this.encoder});return Ge.cloneFrom=this.cloneFrom||this,Ge.updates=(this.updates||[]).concat(Ye),Ge}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ye=>this.map.set(Ye,this.cloneFrom.map.get(Ye))),this.updates.forEach(Ye=>{switch(Ye.op){case"a":case"s":const Ge=("a"===Ye.op?this.map.get(Ye.param):void 0)||[];Ge.push(Ae(Ye.value)),this.map.set(Ye.param,Ge);break;case"d":if(void 0===Ye.value){this.map.delete(Ye.param);break}{let St=this.map.get(Ye.param)||[];const i=St.indexOf(Ae(Ye.value));-1!==i&&St.splice(i,1),St.length>0?this.map.set(Ye.param,St):this.map.delete(Ye.param)}}}),this.cloneFrom=this.updates=null)}}class fe{constructor(){this.map=new Map}set(Ye,Ge){return this.map.set(Ye,Ge),this}get(Ye){return this.map.has(Ye)||this.map.set(Ye,Ye.defaultValue()),this.map.get(Ye)}delete(Ye){return this.map.delete(Ye),this}has(Ye){return this.map.has(Ye)}keys(){return this.map.keys()}}function Gt(ve){return typeof ArrayBuffer<"u"&&ve instanceof ArrayBuffer}function Pt(ve){return typeof Blob<"u"&&ve instanceof Blob}function dt(ve){return typeof FormData<"u"&&ve instanceof FormData}class an{constructor(Ye,Ge,St,i){let r;if(this.url=Ge,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ye.toUpperCase(),function Dt(ve){switch(ve){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==St?St:null,r=i):r=St,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers||(this.headers=new q),this.context||(this.context=new fe),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=Ge;else{const f=Ge.indexOf("?");this.urlWithParams=Ge+(-1===f?"?":f<Ge.length-1?"&":"")+a}}else this.params=new Me,this.urlWithParams=Ge}serializeBody(){return null===this.body?null:Gt(this.body)||Pt(this.body)||dt(this.body)||function sn(ve){return typeof URLSearchParams<"u"&&ve instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Me?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dt(this.body)?null:Pt(this.body)?this.body.type||null:Gt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Me?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ye={}){const Ge=Ye.method||this.method,St=Ye.url||this.url,i=Ye.responseType||this.responseType,r=void 0!==Ye.body?Ye.body:this.body,a=void 0!==Ye.withCredentials?Ye.withCredentials:this.withCredentials,f=void 0!==Ye.reportProgress?Ye.reportProgress:this.reportProgress;let T=Ye.headers||this.headers,k=Ye.params||this.params;const te=Ye.context??this.context;return void 0!==Ye.setHeaders&&(T=Object.keys(Ye.setHeaders).reduce((_e,he)=>_e.set(he,Ye.setHeaders[he]),T)),Ye.setParams&&(k=Object.keys(Ye.setParams).reduce((_e,he)=>_e.set(he,Ye.setParams[he]),k)),new an(Ge,St,r,{params:k,headers:T,context:te,reportProgress:f,responseType:i,withCredentials:a})}}var un=function(ve){return ve[ve.Sent=0]="Sent",ve[ve.UploadProgress=1]="UploadProgress",ve[ve.ResponseHeader=2]="ResponseHeader",ve[ve.DownloadProgress=3]="DownloadProgress",ve[ve.Response=4]="Response",ve[ve.User=5]="User",ve}(un||{});class Sn{constructor(Ye,Ge=Xe.Ok,St="OK"){this.headers=Ye.headers||new q,this.status=void 0!==Ye.status?Ye.status:Ge,this.statusText=Ye.statusText||St,this.url=Ye.url||null,this.ok=this.status>=200&&this.status<300}}class hn extends Sn{constructor(Ye={}){super(Ye),this.type=un.ResponseHeader}clone(Ye={}){return new hn({headers:Ye.headers||this.headers,status:void 0!==Ye.status?Ye.status:this.status,statusText:Ye.statusText||this.statusText,url:Ye.url||this.url||void 0})}}class cn extends Sn{constructor(Ye={}){super(Ye),this.type=un.Response,this.body=void 0!==Ye.body?Ye.body:null}clone(Ye={}){return new cn({body:void 0!==Ye.body?Ye.body:this.body,headers:Ye.headers||this.headers,status:void 0!==Ye.status?Ye.status:this.status,statusText:Ye.statusText||this.statusText,url:Ye.url||this.url||void 0})}}class $t extends Sn{constructor(Ye){super(Ye,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ye.url||"(unknown url)"}`:`Http failure response for ${Ye.url||"(unknown url)"}: ${Ye.status} ${Ye.statusText}`,this.error=Ye.error||null}}var Xe=function(ve){return ve[ve.Continue=100]="Continue",ve[ve.SwitchingProtocols=101]="SwitchingProtocols",ve[ve.Processing=102]="Processing",ve[ve.EarlyHints=103]="EarlyHints",ve[ve.Ok=200]="Ok",ve[ve.Created=201]="Created",ve[ve.Accepted=202]="Accepted",ve[ve.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",ve[ve.NoContent=204]="NoContent",ve[ve.ResetContent=205]="ResetContent",ve[ve.PartialContent=206]="PartialContent",ve[ve.MultiStatus=207]="MultiStatus",ve[ve.AlreadyReported=208]="AlreadyReported",ve[ve.ImUsed=226]="ImUsed",ve[ve.MultipleChoices=300]="MultipleChoices",ve[ve.MovedPermanently=301]="MovedPermanently",ve[ve.Found=302]="Found",ve[ve.SeeOther=303]="SeeOther",ve[ve.NotModified=304]="NotModified",ve[ve.UseProxy=305]="UseProxy",ve[ve.Unused=306]="Unused",ve[ve.TemporaryRedirect=307]="TemporaryRedirect",ve[ve.PermanentRedirect=308]="PermanentRedirect",ve[ve.BadRequest=400]="BadRequest",ve[ve.Unauthorized=401]="Unauthorized",ve[ve.PaymentRequired=402]="PaymentRequired",ve[ve.Forbidden=403]="Forbidden",ve[ve.NotFound=404]="NotFound",ve[ve.MethodNotAllowed=405]="MethodNotAllowed",ve[ve.NotAcceptable=406]="NotAcceptable",ve[ve.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",ve[ve.RequestTimeout=408]="RequestTimeout",ve[ve.Conflict=409]="Conflict",ve[ve.Gone=410]="Gone",ve[ve.LengthRequired=411]="LengthRequired",ve[ve.PreconditionFailed=412]="PreconditionFailed",ve[ve.PayloadTooLarge=413]="PayloadTooLarge",ve[ve.UriTooLong=414]="UriTooLong",ve[ve.UnsupportedMediaType=415]="UnsupportedMediaType",ve[ve.RangeNotSatisfiable=416]="RangeNotSatisfiable",ve[ve.ExpectationFailed=417]="ExpectationFailed",ve[ve.ImATeapot=418]="ImATeapot",ve[ve.MisdirectedRequest=421]="MisdirectedRequest",ve[ve.UnprocessableEntity=422]="UnprocessableEntity",ve[ve.Locked=423]="Locked",ve[ve.FailedDependency=424]="FailedDependency",ve[ve.TooEarly=425]="TooEarly",ve[ve.UpgradeRequired=426]="UpgradeRequired",ve[ve.PreconditionRequired=428]="PreconditionRequired",ve[ve.TooManyRequests=429]="TooManyRequests",ve[ve.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",ve[ve.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",ve[ve.InternalServerError=500]="InternalServerError",ve[ve.NotImplemented=501]="NotImplemented",ve[ve.BadGateway=502]="BadGateway",ve[ve.ServiceUnavailable=503]="ServiceUnavailable",ve[ve.GatewayTimeout=504]="GatewayTimeout",ve[ve.HttpVersionNotSupported=505]="HttpVersionNotSupported",ve[ve.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",ve[ve.InsufficientStorage=507]="InsufficientStorage",ve[ve.LoopDetected=508]="LoopDetected",ve[ve.NotExtended=510]="NotExtended",ve[ve.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",ve}(Xe||{});function ht(ve,Ye){return{body:Ye,headers:ve.headers,context:ve.context,observe:ve.observe,params:ve.params,reportProgress:ve.reportProgress,responseType:ve.responseType,withCredentials:ve.withCredentials,transferCache:ve.transferCache}}let Tt=(()=>{class ve{constructor(Ge){this.handler=Ge}request(Ge,St,i={}){let r;if(Ge instanceof an)r=Ge;else{let T,k;T=i.headers instanceof q?i.headers:new q(i.headers),i.params&&(k=i.params instanceof Me?i.params:new Me({fromObject:i.params})),r=new an(Ge,St,void 0!==i.body?i.body:null,{headers:T,context:i.context,params:k,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=(0,u.of)(r).pipe((0,h.b)(T=>this.handler.handle(T)));if(Ge instanceof an||"events"===i.observe)return a;const f=a.pipe((0,y.h)(T=>T instanceof cn));switch(i.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return f.pipe((0,E.U)(T=>{if(null!==T.body&&!(T.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return T.body}));case"blob":return f.pipe((0,E.U)(T=>{if(null!==T.body&&!(T.body instanceof Blob))throw new Error("Response is not a Blob.");return T.body}));case"text":return f.pipe((0,E.U)(T=>{if(null!==T.body&&"string"!=typeof T.body)throw new Error("Response is not a string.");return T.body}));default:return f.pipe((0,E.U)(T=>T.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(Ge,St={}){return this.request("DELETE",Ge,St)}get(Ge,St={}){return this.request("GET",Ge,St)}head(Ge,St={}){return this.request("HEAD",Ge,St)}jsonp(Ge,St){return this.request("JSONP",Ge,{params:(new Me).append(St,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ge,St={}){return this.request("OPTIONS",Ge,St)}patch(Ge,St,i={}){return this.request("PATCH",Ge,ht(i,St))}post(Ge,St,i={}){return this.request("POST",Ge,ht(i,St))}put(Ge,St,i={}){return this.request("PUT",Ge,ht(i,St))}static#e=this.\u0275fac=function(St){return new(St||ve)(S.LFG($))};static#t=this.\u0275prov=S.Yz7({token:ve,factory:ve.\u0275fac})}return ve})();function K(ve,Ye){return Ye(ve)}function xe(ve,Ye){return(Ge,St)=>Ye.intercept(Ge,{handle:i=>ve(i,St)})}const tt=new S.OlP(""),qe=new S.OlP(""),Et=new S.OlP(""),Qe=new S.OlP("");function Ct(){let ve=null;return(Ye,Ge)=>{null===ve&&(ve=((0,S.f3M)(tt,{optional:!0})??[]).reduceRight(xe,K));const St=(0,S.f3M)(S.I6F),i=St.add();return ve(Ye,Ge).pipe((0,C.x)(()=>St.remove(i)))}}let zn,Pn=(()=>{class ve extends ${constructor(Ge,St){super(),this.backend=Ge,this.injector=St,this.chain=null,this.pendingTasks=(0,S.f3M)(S.I6F);const i=(0,S.f3M)(Qe,{optional:!0});this.backend=i??Ge}handle(Ge){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(qe),...this.injector.get(Et,[])]));this.chain=i.reduceRight((r,a)=>function Be(ve,Ye,Ge){return(St,i)=>(0,S.r_H)(Ge,()=>Ye(St,r=>ve(r,i)))}(r,a,this.injector),K)}const St=this.pendingTasks.add();return this.chain(Ge,i=>this.backend.handle(i)).pipe((0,C.x)(()=>this.pendingTasks.remove(St)))}static#e=this.\u0275fac=function(St){return new(St||ve)(S.LFG(j),S.LFG(S.lqb))};static#t=this.\u0275prov=S.Yz7({token:ve,factory:ve.\u0275fac})}return ve})(),Hn=0;class ri{}function ce(){return"object"==typeof window?window:{}}let Mi=(()=>{class ve{constructor(Ge,St){this.callbackMap=Ge,this.document=St,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+Hn++}handle(Ge){if("JSONP"!==Ge.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==Ge.responseType)throw new Error("JSONP requests must use Json response type.");if(Ge.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new N.y(St=>{const i=this.nextCallback(),r=Ge.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${i}$1`),a=this.document.createElement("script");a.src=r;let f=null,T=!1;this.callbackMap[i]=he=>{delete this.callbackMap[i],f=he,T=!0};const k=()=>{a.parentNode&&a.parentNode.removeChild(a),delete this.callbackMap[i]};return a.addEventListener("load",he=>{this.resolvedPromise.then(()=>{k(),T?(St.next(new cn({body:f,status:Xe.Ok,statusText:"OK",url:r})),St.complete()):St.error(new $t({url:r,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})}),a.addEventListener("error",he=>{k(),St.error(new $t({error:he,status:0,statusText:"JSONP Error",url:r}))}),this.document.body.appendChild(a),St.next({type:un.Sent}),()=>{T||this.removeListeners(a),k()}})}removeListeners(Ge){zn||(zn=this.document.implementation.createHTMLDocument()),zn.adoptNode(Ge)}static#e=this.\u0275fac=function(St){return new(St||ve)(S.LFG(ri),S.LFG(V.K0))};static#t=this.\u0275prov=S.Yz7({token:ve,factory:ve.\u0275fac})}return ve})();function Ii(ve,Ye){return"JSONP"===ve.method?(0,S.f3M)(Mi).handle(ve):Ye(ve)}const Tr=/^\)\]\}',?\n/;let er=(()=>{class ve{constructor(Ge){this.xhrFactory=Ge}handle(Ge){if("JSONP"===Ge.method)throw new S.vHH(-2800,!1);const St=this.xhrFactory;return(St.\u0275loadImpl?(0,x.D)(St.\u0275loadImpl()):(0,u.of)(null)).pipe((0,F.w)(()=>new N.y(r=>{const a=St.build();if(a.open(Ge.method,Ge.urlWithParams),Ge.withCredentials&&(a.withCredentials=!0),Ge.headers.forEach((Ee,Pe)=>a.setRequestHeader(Ee,Pe.join(","))),Ge.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!Ge.headers.has("Content-Type")){const Ee=Ge.detectContentTypeHeader();null!==Ee&&a.setRequestHeader("Content-Type",Ee)}if(Ge.responseType){const Ee=Ge.responseType.toLowerCase();a.responseType="json"!==Ee?Ee:"text"}const f=Ge.serializeBody();let T=null;const k=()=>{if(null!==T)return T;const Ee=a.statusText||"OK",Pe=new q(a.getAllResponseHeaders()),Ve=function Xi(ve){return"responseURL"in ve&&ve.responseURL?ve.responseURL:/^X-Request-URL:/m.test(ve.getAllResponseHeaders())?ve.getResponseHeader("X-Request-URL"):null}(a)||Ge.url;return T=new hn({headers:Pe,status:a.status,statusText:Ee,url:Ve}),T},te=()=>{let{headers:Ee,status:Pe,statusText:Ve,url:ot}=k(),ut=null;Pe!==Xe.NoContent&&(ut=typeof a.response>"u"?a.responseText:a.response),0===Pe&&(Pe=ut?Xe.Ok:0);let ft=Pe>=200&&Pe<300;if("json"===Ge.responseType&&"string"==typeof ut){const ae=ut;ut=ut.replace(Tr,"");try{ut=""!==ut?JSON.parse(ut):null}catch(Re){ut=ae,ft&&(ft=!1,ut={error:Re,text:ut})}}ft?(r.next(new cn({body:ut,headers:Ee,status:Pe,statusText:Ve,url:ot||void 0})),r.complete()):r.error(new $t({error:ut,headers:Ee,status:Pe,statusText:Ve,url:ot||void 0}))},_e=Ee=>{const{url:Pe}=k(),Ve=new $t({error:Ee,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Pe||void 0});r.error(Ve)};let he=!1;const we=Ee=>{he||(r.next(k()),he=!0);let Pe={type:un.DownloadProgress,loaded:Ee.loaded};Ee.lengthComputable&&(Pe.total=Ee.total),"text"===Ge.responseType&&a.responseText&&(Pe.partialText=a.responseText),r.next(Pe)},Ce=Ee=>{let Pe={type:un.UploadProgress,loaded:Ee.loaded};Ee.lengthComputable&&(Pe.total=Ee.total),r.next(Pe)};return a.addEventListener("load",te),a.addEventListener("error",_e),a.addEventListener("timeout",_e),a.addEventListener("abort",_e),Ge.reportProgress&&(a.addEventListener("progress",we),null!==f&&a.upload&&a.upload.addEventListener("progress",Ce)),a.send(f),r.next({type:un.Sent}),()=>{a.removeEventListener("error",_e),a.removeEventListener("abort",_e),a.removeEventListener("load",te),a.removeEventListener("timeout",_e),Ge.reportProgress&&(a.removeEventListener("progress",we),null!==f&&a.upload&&a.upload.removeEventListener("progress",Ce)),a.readyState!==a.DONE&&a.abort()}})))}static#e=this.\u0275fac=function(St){return new(St||ve)(S.LFG(V.JF))};static#t=this.\u0275prov=S.Yz7({token:ve,factory:ve.\u0275fac})}return ve})();const Ht=new S.OlP("XSRF_ENABLED"),Y=new S.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),et=new S.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ct{}let at=(()=>{class ve{constructor(Ge,St,i){this.doc=Ge,this.platform=St,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ge=this.doc.cookie||"";return Ge!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,V.Mx)(Ge,this.cookieName),this.lastCookieString=Ge),this.lastToken}static#e=this.\u0275fac=function(St){return new(St||ve)(S.LFG(V.K0),S.LFG(S.Lbi),S.LFG(Y))};static#t=this.\u0275prov=S.Yz7({token:ve,factory:ve.\u0275fac})}return ve})();function lt(ve,Ye){const Ge=ve.url.toLowerCase();if(!(0,S.f3M)(Ht)||"GET"===ve.method||"HEAD"===ve.method||Ge.startsWith("http://")||Ge.startsWith("https://"))return Ye(ve);const St=(0,S.f3M)(ct).getToken(),i=(0,S.f3M)(et);return null!=St&&!ve.headers.has(i)&&(ve=ve.clone({headers:ve.headers.set(i,St)})),Ye(ve)}var pn=function(ve){return ve[ve.Interceptors=0]="Interceptors",ve[ve.LegacyInterceptors=1]="LegacyInterceptors",ve[ve.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ve[ve.NoXsrfProtection=3]="NoXsrfProtection",ve[ve.JsonpSupport=4]="JsonpSupport",ve[ve.RequestsMadeViaParent=5]="RequestsMadeViaParent",ve[ve.Fetch=6]="Fetch",ve}(pn||{});function vn(ve,Ye){return{\u0275kind:ve,\u0275providers:Ye}}function Jt(...ve){const Ye=[Tt,er,Pn,{provide:$,useExisting:Pn},{provide:j,useExisting:er},{provide:qe,useValue:lt,multi:!0},{provide:Ht,useValue:!0},{provide:ct,useClass:at}];for(const Ge of ve)Ye.push(...Ge.\u0275providers);return(0,S.MR2)(Ye)}const Bt=new S.OlP("LEGACY_INTERCEPTOR_FN");function ge(){return vn(pn.LegacyInterceptors,[{provide:Bt,useFactory:Ct},{provide:qe,useExisting:Bt,multi:!0}])}function kt(){return vn(pn.JsonpSupport,[Mi,{provide:ri,useFactory:ce},{provide:qe,useValue:Ii,multi:!0}])}let Ci=(()=>{class ve{static#e=this.\u0275fac=function(St){return new(St||ve)};static#t=this.\u0275mod=S.oAB({type:ve});static#n=this.\u0275inj=S.cJS({providers:[Jt(ge())]})}return ve})(),tr=(()=>{class ve{static#e=this.\u0275fac=function(St){return new(St||ve)};static#t=this.\u0275mod=S.oAB({type:ve});static#n=this.\u0275inj=S.cJS({providers:[kt().\u0275providers]})}return ve})()},1993:(Je,le,l)=>{"use strict";l.d(le,{O4:()=>h,sL:()=>N});var e=l(9212),S=l(5592),u=l(9773);function N(y){y||((0,e.gHi)(N),y=(0,e.f3M)(e.ktI));const E=new S.y(C=>y.onDestroy(C.next.bind(C)));return C=>C.pipe((0,u.R)(E))}function h(y,E){const C=!E?.manualCleanup;C&&!E?.injector&&(0,e.gHi)(h);const F=C?E?.injector?.get(e.ktI)??(0,e.f3M)(e.ktI):null;let V;V=(0,e.tdS)(E?.requireSync?{kind:0}:{kind:1,value:E?.initialValue});const $=y.subscribe({next:j=>V.set({kind:1,value:j}),error:j=>{if(E?.rejectErrors)throw j;V.set({kind:2,error:j})}});return F?.onDestroy($.unsubscribe.bind($)),(0,e.Flj)(()=>{const j=V();switch(j.kind){case 1:return j.value;case 2:throw j.error;case 0:throw new e.vHH(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},95:(Je,le,l)=>{"use strict";l.d(le,{Fj:()=>Ae,u:()=>br,sg:()=>Rr,u5:()=>uo,Cf:()=>fe,JU:()=>ee,JJ:()=>jn,JL:()=>xn,F:()=>Ve,On:()=>Mn,UX:()=>js,QS:()=>fr,p4:()=>ae,nJ:()=>tr,kI:()=>Pt,_Y:()=>Ln});var e=l(9212),S=l(6814),u=l(9666),N=l(5592),x=l(7453),h=l(4829),y=l(9940),E=l(8251),C=l(7400),F=l(2714),$=l(7398);let j=(()=>{class H{constructor(P,oe){this._renderer=P,this._elementRef=oe,this.onChange=We=>{},this.onTouched=()=>{}}setProperty(P,oe){this._renderer.setProperty(this._elementRef.nativeElement,P,oe)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static#e=this.\u0275fac=function(oe){return new(oe||H)(e.Y36(e.Qsj),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:H})}return H})(),q=(()=>{class H extends j{static#e=this.\u0275fac=(()=>{let P;return function(We){return(P||(P=e.n5z(H)))(We||H)}})();static#t=this.\u0275dir=e.lG2({type:H,features:[e.qOj]})}return H})();const ee=new e.OlP("NgValueAccessor"),be={provide:ee,useExisting:(0,e.Gpc)(()=>Ae),multi:!0},se=new e.OlP("CompositionEventMode");let Ae=(()=>{class H extends j{constructor(P,oe,We){super(P,oe),this._compositionMode=We,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function De(){const H=(0,S.q)()?(0,S.q)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static#e=this.\u0275fac=function(oe){return new(oe||H)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(se,8))};static#t=this.\u0275dir=e.lG2({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,We){1&oe&&e.NdJ("input",function(Bn){return We._handleInput(Bn.target.value)})("blur",function(){return We.onTouched()})("compositionstart",function(){return We._compositionStart()})("compositionend",function(Bn){return We._compositionEnd(Bn.target.value)})},features:[e._Bn([be]),e.qOj]})}return H})();function Me(H){return null==H||("string"==typeof H||Array.isArray(H))&&0===H.length}function st(H){return null!=H&&"number"==typeof H.length}const fe=new e.OlP("NgValidators"),Dt=new e.OlP("NgAsyncValidators"),Gt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pt{static min(W){return function dt(H){return W=>{if(Me(W.value)||Me(H))return null;const P=parseFloat(W.value);return!isNaN(P)&&P<H?{min:{min:H,actual:W.value}}:null}}(W)}static max(W){return function sn(H){return W=>{if(Me(W.value)||Me(H))return null;const P=parseFloat(W.value);return!isNaN(P)&&P>H?{max:{max:H,actual:W.value}}:null}}(W)}static required(W){return function an(H){return Me(H.value)?{required:!0}:null}(W)}static requiredTrue(W){return function un(H){return!0===H.value?null:{required:!0}}(W)}static email(W){return function Sn(H){return Me(H.value)||Gt.test(H.value)?null:{email:!0}}(W)}static minLength(W){return function hn(H){return W=>Me(W.value)||!st(W.value)?null:W.value.length<H?{minlength:{requiredLength:H,actualLength:W.value.length}}:null}(W)}static maxLength(W){return function cn(H){return W=>st(W.value)&&W.value.length>H?{maxlength:{requiredLength:H,actualLength:W.value.length}}:null}(W)}static pattern(W){return function $t(H){if(!H)return Xe;let W,P;return"string"==typeof H?(P="","^"!==H.charAt(0)&&(P+="^"),P+=H,"$"!==H.charAt(H.length-1)&&(P+="$"),W=new RegExp(P)):(P=H.toString(),W=H),oe=>{if(Me(oe.value))return null;const We=oe.value;return W.test(We)?null:{pattern:{requiredPattern:P,actualValue:We}}}}(W)}static nullValidator(W){return null}static compose(W){return An(W)}static composeAsync(W){return U(W)}}function Xe(H){return null}function ht(H){return null!=H}function Tt(H){return(0,e.QGY)(H)?(0,u.D)(H):H}function wt(H){let W={};return H.forEach(P=>{W=null!=P?{...W,...P}:W}),0===Object.keys(W).length?null:W}function Kt(H,W){return W.map(P=>P(H))}function dn(H){return H.map(W=>function Vt(H){return!H.validate}(W)?W:P=>W.validate(P))}function An(H){if(!H)return null;const W=H.filter(ht);return 0==W.length?null:function(P){return wt(Kt(P,W))}}function Te(H){return null!=H?An(dn(H)):null}function U(H){if(!H)return null;const W=H.filter(ht);return 0==W.length?null:function(P){return function V(...H){const W=(0,y.jO)(H),{args:P,keys:oe}=(0,x.D)(H),We=new N.y(wn=>{const{length:Bn}=P;if(!Bn)return void wn.complete();const Wi=new Array(Bn);let pr=Bn,Fr=Bn;for(let Ps=0;Ps<Bn;Ps++){let ho=!1;(0,h.Xf)(P[Ps]).subscribe((0,E.x)(wn,gr=>{ho||(ho=!0,Fr--),Wi[Ps]=gr},()=>pr--,void 0,()=>{(!pr||!ho)&&(Fr||wn.next(oe?(0,F.n)(oe,Wi):Wi),wn.complete())}))}});return W?We.pipe((0,C.Z)(W)):We}(Kt(P,W).map(Tt)).pipe((0,$.U)(wt))}}function K(H){return null!=H?U(dn(H)):null}function xe(H,W){return null===H?[W]:Array.isArray(H)?[...H,W]:[H,W]}function Be(H){return H._rawValidators}function tt(H){return H._rawAsyncValidators}function qe(H){return H?Array.isArray(H)?H:[H]:[]}function Et(H,W){return Array.isArray(H)?H.includes(W):H===W}function Qe(H,W){const P=qe(W);return qe(H).forEach(We=>{Et(P,We)||P.push(We)}),P}function Ct(H,W){return qe(W).filter(P=>!Et(H,P))}class Yt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(W){this._rawValidators=W||[],this._composedValidatorFn=Te(this._rawValidators)}_setAsyncValidators(W){this._rawAsyncValidators=W||[],this._composedAsyncValidatorFn=K(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(W){this._onDestroyCallbacks.push(W)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(W=>W()),this._onDestroyCallbacks=[]}reset(W=void 0){this.control&&this.control.reset(W)}hasError(W,P){return!!this.control&&this.control.hasError(W,P)}getError(W,P){return this.control?this.control.getError(W,P):null}}class ln extends Yt{get formDirective(){return null}get path(){return null}}class Pn extends Yt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hn{constructor(W){this._cd=W}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jn=(()=>{class H extends Hn{constructor(P){super(P)}static#e=this.\u0275fac=function(oe){return new(oe||H)(e.Y36(Pn,2))};static#t=this.\u0275dir=e.lG2({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,We){2&oe&&e.ekj("ng-untouched",We.isUntouched)("ng-touched",We.isTouched)("ng-pristine",We.isPristine)("ng-dirty",We.isDirty)("ng-valid",We.isValid)("ng-invalid",We.isInvalid)("ng-pending",We.isPending)},features:[e.qOj]})}return H})(),xn=(()=>{class H extends Hn{constructor(P){super(P)}static#e=this.\u0275fac=function(oe){return new(oe||H)(e.Y36(ln,10))};static#t=this.\u0275dir=e.lG2({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,We){2&oe&&e.ekj("ng-untouched",We.isUntouched)("ng-touched",We.isTouched)("ng-pristine",We.isPristine)("ng-dirty",We.isDirty)("ng-valid",We.isValid)("ng-invalid",We.isInvalid)("ng-pending",We.isPending)("ng-submitted",We.isSubmitted)},features:[e.qOj]})}return H})();const Ut="VALID",pn="INVALID",vn="PENDING",Jt="DISABLED";function Ke(H){return(_t(H)?H.validators:H)||null}function ge(H,W){return(_t(W)?W.asyncValidators:H)||null}function _t(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}function kt(H,W,P){const oe=H.controls;if(!(W?Object.keys(oe):oe).length)throw new e.vHH(1e3,"");if(!oe[P])throw new e.vHH(1001,"")}function Qt(H,W,P){H._forEachChild((oe,We)=>{if(void 0===P[We])throw new e.vHH(1002,"")})}class Rn{constructor(W,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(W),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(W){this._rawValidators=this._composedValidatorFn=W}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(W){this._rawAsyncValidators=this._composedAsyncValidatorFn=W}get parent(){return this._parent}get valid(){return this.status===Ut}get invalid(){return this.status===pn}get pending(){return this.status==vn}get disabled(){return this.status===Jt}get enabled(){return this.status!==Jt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(W){this._assignValidators(W)}setAsyncValidators(W){this._assignAsyncValidators(W)}addValidators(W){this.setValidators(Qe(W,this._rawValidators))}addAsyncValidators(W){this.setAsyncValidators(Qe(W,this._rawAsyncValidators))}removeValidators(W){this.setValidators(Ct(W,this._rawValidators))}removeAsyncValidators(W){this.setAsyncValidators(Ct(W,this._rawAsyncValidators))}hasValidator(W){return Et(this._rawValidators,W)}hasAsyncValidator(W){return Et(this._rawAsyncValidators,W)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(W={}){this.touched=!0,this._parent&&!W.onlySelf&&this._parent.markAsTouched(W)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(W=>W.markAllAsTouched())}markAsUntouched(W={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!W.onlySelf&&this._parent._updateTouched(W)}markAsDirty(W={}){this.pristine=!1,this._parent&&!W.onlySelf&&this._parent.markAsDirty(W)}markAsPristine(W={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!W.onlySelf&&this._parent._updatePristine(W)}markAsPending(W={}){this.status=vn,!1!==W.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!W.onlySelf&&this._parent.markAsPending(W)}disable(W={}){const P=this._parentMarkedDirty(W.onlySelf);this.status=Jt,this.errors=null,this._forEachChild(oe=>{oe.disable({...W,onlySelf:!0})}),this._updateValue(),!1!==W.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...W,skipPristineCheck:P}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(W={}){const P=this._parentMarkedDirty(W.onlySelf);this.status=Ut,this._forEachChild(oe=>{oe.enable({...W,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:W.emitEvent}),this._updateAncestors({...W,skipPristineCheck:P}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(W){this._parent&&!W.onlySelf&&(this._parent.updateValueAndValidity(W),W.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(W){this._parent=W}getRawValue(){return this.value}updateValueAndValidity(W={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ut||this.status===vn)&&this._runAsyncValidator(W.emitEvent)),!1!==W.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!W.onlySelf&&this._parent.updateValueAndValidity(W)}_updateTreeValidity(W={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(W)),this.updateValueAndValidity({onlySelf:!0,emitEvent:W.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jt:Ut}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(W){if(this.asyncValidator){this.status=vn,this._hasOwnPendingAsyncValidator=!0;const P=Tt(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:W})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(W,P={}){this.errors=W,this._updateControlsErrors(!1!==P.emitEvent)}get(W){let P=W;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((oe,We)=>oe&&oe._find(We),this)}getError(W,P){const oe=P?this.get(P):this;return oe&&oe.errors?oe.errors[W]:null}hasError(W,P){return!!this.getError(W,P)}get root(){let W=this;for(;W._parent;)W=W._parent;return W}_updateControlsErrors(W){this.status=this._calculateStatus(),W&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(W)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?Jt:this.errors?pn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vn)?vn:this._anyControlsHaveStatus(pn)?pn:Ut}_anyControlsHaveStatus(W){return this._anyControls(P=>P.status===W)}_anyControlsDirty(){return this._anyControls(W=>W.dirty)}_anyControlsTouched(){return this._anyControls(W=>W.touched)}_updatePristine(W={}){this.pristine=!this._anyControlsDirty(),this._parent&&!W.onlySelf&&this._parent._updatePristine(W)}_updateTouched(W={}){this.touched=this._anyControlsTouched(),this._parent&&!W.onlySelf&&this._parent._updateTouched(W)}_registerOnCollectionChange(W){this._onCollectionChange=W}_setUpdateStrategy(W){_t(W)&&null!=W.updateOn&&(this._updateOn=W.updateOn)}_parentMarkedDirty(W){return!W&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(W){return null}_assignValidators(W){this._rawValidators=Array.isArray(W)?W.slice():W,this._composedValidatorFn=function Bt(H){return Array.isArray(H)?Te(H):H||null}(this._rawValidators)}_assignAsyncValidators(W){this._rawAsyncValidators=Array.isArray(W)?W.slice():W,this._composedAsyncValidatorFn=function $e(H){return Array.isArray(H)?K(H):H||null}(this._rawAsyncValidators)}}class ui extends Rn{constructor(W,P,oe){super(Ke(P),ge(oe,P)),this.controls=W,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(W,P){return this.controls[W]?this.controls[W]:(this.controls[W]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(W,P,oe={}){this.registerControl(W,P),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(W,P={}){this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),delete this.controls[W],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(W,P,oe={}){this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),delete this.controls[W],P&&this.registerControl(W,P),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(W){return this.controls.hasOwnProperty(W)&&this.controls[W].enabled}setValue(W,P={}){Qt(this,0,W),Object.keys(W).forEach(oe=>{kt(this,!0,oe),this.controls[oe].setValue(W[oe],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(W,P={}){null!=W&&(Object.keys(W).forEach(oe=>{const We=this.controls[oe];We&&We.patchValue(W[oe],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(W={},P={}){this._forEachChild((oe,We)=>{oe.reset(W?W[We]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(W,P,oe)=>(W[oe]=P.getRawValue(),W))}_syncPendingControls(){let W=this._reduceChildren(!1,(P,oe)=>!!oe._syncPendingControls()||P);return W&&this.updateValueAndValidity({onlySelf:!0}),W}_forEachChild(W){Object.keys(this.controls).forEach(P=>{const oe=this.controls[P];oe&&W(oe,P)})}_setUpControls(){this._forEachChild(W=>{W.setParent(this),W._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(W){for(const[P,oe]of Object.entries(this.controls))if(this.contains(P)&&W(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,oe,We)=>((oe.enabled||this.disabled)&&(P[We]=oe.value),P))}_reduceChildren(W,P){let oe=W;return this._forEachChild((We,wn)=>{oe=P(oe,We,wn)}),oe}_allControlsDisabled(){for(const W of Object.keys(this.controls))if(this.controls[W].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(W){return this.controls.hasOwnProperty(W)?this.controls[W]:null}}const tr=ui;class Zi extends ui{}const lr=new e.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Dr}),Dr="always";function sr(H,W){return[...W.path,H]}function Oi(H,W,P=Dr){zr(H,W),W.valueAccessor.writeValue(H.value),(H.disabled||"always"===P)&&W.valueAccessor.setDisabledState?.(H.disabled),function Wr(H,W){W.valueAccessor.registerOnChange(P=>{H._pendingValue=P,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&ve(H,W)})}(H,W),function Ye(H,W){const P=(oe,We)=>{W.valueAccessor.writeValue(oe),We&&W.viewToModelUpdate(oe)};H.registerOnChange(P),W._registerOnDestroy(()=>{H._unregisterOnChange(P)})}(H,W),function Xr(H,W){W.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&ve(H,W),"submit"!==H.updateOn&&H.markAsTouched()})}(H,W),function Qr(H,W){if(W.valueAccessor.setDisabledState){const P=oe=>{W.valueAccessor.setDisabledState(oe)};H.registerOnDisabledChange(P),W._registerOnDestroy(()=>{H._unregisterOnDisabledChange(P)})}}(H,W)}function si(H,W,P=!0){const oe=()=>{};W.valueAccessor&&(W.valueAccessor.registerOnChange(oe),W.valueAccessor.registerOnTouched(oe)),zi(H,W),H&&(W._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function nr(H,W){H.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(W)})}function zr(H,W){const P=Be(H);null!==W.validator?H.setValidators(xe(P,W.validator)):"function"==typeof P&&H.setValidators([P]);const oe=tt(H);null!==W.asyncValidator?H.setAsyncValidators(xe(oe,W.asyncValidator)):"function"==typeof oe&&H.setAsyncValidators([oe]);const We=()=>H.updateValueAndValidity();nr(W._rawValidators,We),nr(W._rawAsyncValidators,We)}function zi(H,W){let P=!1;if(null!==H){if(null!==W.validator){const We=Be(H);if(Array.isArray(We)&&We.length>0){const wn=We.filter(Bn=>Bn!==W.validator);wn.length!==We.length&&(P=!0,H.setValidators(wn))}}if(null!==W.asyncValidator){const We=tt(H);if(Array.isArray(We)&&We.length>0){const wn=We.filter(Bn=>Bn!==W.asyncValidator);wn.length!==We.length&&(P=!0,H.setAsyncValidators(wn))}}}const oe=()=>{};return nr(W._rawValidators,oe),nr(W._rawAsyncValidators,oe),P}function ve(H,W){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),W.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function Ge(H,W){zr(H,W)}function k(H,W){if(!H.hasOwnProperty("model"))return!1;const P=H.model;return!!P.isFirstChange()||!Object.is(W,P.currentValue)}function _e(H,W){H._syncPendingControls(),W.forEach(P=>{const oe=P.control;"submit"===oe.updateOn&&oe._pendingChange&&(P.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}function he(H,W){if(!W)return null;let P,oe,We;return Array.isArray(W),W.forEach(wn=>{wn.constructor===Ae?P=wn:function te(H){return Object.getPrototypeOf(H.constructor)===q}(wn)?oe=wn:We=wn}),We||oe||P||null}const Ee={provide:ln,useExisting:(0,e.Gpc)(()=>Ve)},Pe=Promise.resolve();let Ve=(()=>{class H extends ln{constructor(P,oe,We){super(),this.callSetDisabledState=We,this.submitted=!1,this._directives=new Set,this.ngSubmit=new e.vpe,this.form=new ui({},Te(P),K(oe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(P){Pe.then(()=>{const oe=this._findContainer(P.path);P.control=oe.registerControl(P.name,P.control),Oi(P.control,P,this.callSetDisabledState),P.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(P)})}getControl(P){return this.form.get(P.path)}removeControl(P){Pe.then(()=>{const oe=this._findContainer(P.path);oe&&oe.removeControl(P.name),this._directives.delete(P)})}addFormGroup(P){Pe.then(()=>{const oe=this._findContainer(P.path),We=new ui({});Ge(We,P),oe.registerControl(P.name,We),We.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(P){Pe.then(()=>{const oe=this._findContainer(P.path);oe&&oe.removeControl(P.name)})}getFormGroup(P){return this.form.get(P.path)}updateModel(P,oe){Pe.then(()=>{this.form.get(P.path).setValue(oe)})}setValue(P){this.control.setValue(P)}onSubmit(P){return this.submitted=!0,_e(this.form,this._directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(P){return P.pop(),P.length?this.form.get(P):this.form}static#e=this.\u0275fac=function(oe){return new(oe||H)(e.Y36(fe,10),e.Y36(Dt,10),e.Y36(lr,8))};static#t=this.\u0275dir=e.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(oe,We){1&oe&&e.NdJ("submit",function(Bn){return We.onSubmit(Bn)})("reset",function(){return We.onReset()})},inputs:{options:[e.lbL.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Ee]),e.qOj]})}return H})();function ot(H,W){const P=H.indexOf(W);P>-1&&H.splice(P,1)}function ut(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}const ft=class extends Rn{constructor(W=null,P,oe){super(Ke(P),ge(oe,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(W),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_t(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=ut(W)?W.value:W)}setValue(W,P={}){this.value=this._pendingValue=W,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(W,P={}){this.setValue(W,P)}reset(W=this.defaultValue,P={}){this._applyFormState(W),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(W){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(W){this._onChange.push(W)}_unregisterOnChange(W){ot(this._onChange,W)}registerOnDisabledChange(W){this._onDisabledChange.push(W)}_unregisterOnDisabledChange(W){ot(this._onDisabledChange,W)}_forEachChild(W){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(W){ut(W)?(this.value=this._pendingValue=W.value,W.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=W}},ae=ft,yt={provide:Pn,useExisting:(0,e.Gpc)(()=>Mn)},Zt=Promise.resolve();let Mn=(()=>{class H extends Pn{constructor(P,oe,We,wn,Bn,Wi){super(),this._changeDetectorRef=Bn,this.callSetDisabledState=Wi,this.control=new ft,this._registered=!1,this.name="",this.update=new e.vpe,this._parent=P,this._setValidators(oe),this._setAsyncValidators(We),this.valueAccessor=he(0,wn)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const oe=P.name.previousValue;this.formDirective.removeControl({name:oe,path:this._getPath(oe)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),k(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Oi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){Zt.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const oe=P.isDisabled.currentValue,We=0!==oe&&(0,e.VuI)(oe);Zt.then(()=>{We&&!this.control.disabled?this.control.disable():!We&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?sr(P,this._parent):[P]}static#e=this.\u0275fac=function(oe){return new(oe||H)(e.Y36(ln,9),e.Y36(fe,10),e.Y36(Dt,10),e.Y36(ee,10),e.Y36(e.sBO,8),e.Y36(lr,8))};static#t=this.\u0275dir=e.lG2({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[e.lbL.None,"disabled","isDisabled"],model:[e.lbL.None,"ngModel","model"],options:[e.lbL.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([yt]),e.qOj,e.TTD]})}return H})(),Ln=(()=>{class H{static#e=this.\u0275fac=function(oe){return new(oe||H)};static#t=this.\u0275dir=e.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return H})(),qn=(()=>{class H{static#e=this.\u0275fac=function(oe){return new(oe||H)};static#t=this.\u0275mod=e.oAB({type:H});static#n=this.\u0275inj=e.cJS({})}return H})();const ir=new e.OlP("NgModelWithFormControlWarning"),vs={provide:ln,useExisting:(0,e.Gpc)(()=>Rr)};let Rr=(()=>{class H extends ln{constructor(P,oe,We){super(),this.callSetDisabledState=We,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(P),this._setAsyncValidators(oe)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const oe=this.form.get(P.path);return Oi(oe,P,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),oe}getControl(P){return this.form.get(P.path)}removeControl(P){si(P.control||null,P,!1),function we(H,W){const P=H.indexOf(W);P>-1&&H.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,oe){this.form.get(P.path).setValue(oe)}onSubmit(P){return this.submitted=!0,_e(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const oe=P.control,We=this.form.get(P.path);oe!==We&&(si(oe||null,P),(H=>H instanceof ft)(We)&&(Oi(We,P,this.callSetDisabledState),P.control=We))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const oe=this.form.get(P.path);Ge(oe,P),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const oe=this.form.get(P.path);oe&&function St(H,W){return zi(H,W)}(oe,P)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zr(this.form,this),this._oldForm&&zi(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||H)(e.Y36(fe,10),e.Y36(Dt,10),e.Y36(lr,8))};static#t=this.\u0275dir=e.lG2({type:H,selectors:[["","formGroup",""]],hostBindings:function(oe,We){1&oe&&e.NdJ("submit",function(Bn){return We.onSubmit(Bn)})("reset",function(){return We.onReset()})},inputs:{form:[e.lbL.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([vs]),e.qOj,e.TTD]})}return H})();const Ur={provide:Pn,useExisting:(0,e.Gpc)(()=>br)};let br=(()=>{class H extends Pn{set isDisabled(P){}static#e=this._ngModelWarningSentOnce=!1;constructor(P,oe,We,wn,Bn){super(),this._ngModelWarningConfig=Bn,this._added=!1,this.name=null,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(oe),this._setAsyncValidators(We),this.valueAccessor=he(0,wn)}ngOnChanges(P){this._added||this._setUpControl(),k(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return sr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||H)(e.Y36(ln,13),e.Y36(fe,10),e.Y36(Dt,10),e.Y36(ee,10),e.Y36(ir,8))};static#n=this.\u0275dir=e.lG2({type:H,selectors:[["","formControlName",""]],inputs:{name:[e.lbL.None,"formControlName","name"],isDisabled:[e.lbL.None,"disabled","isDisabled"],model:[e.lbL.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([Ur]),e.qOj,e.TTD]})}return H})(),oo=(()=>{class H{static#e=this.\u0275fac=function(oe){return new(oe||H)};static#t=this.\u0275mod=e.oAB({type:H});static#n=this.\u0275inj=e.cJS({imports:[qn]})}return H})();class ao extends Rn{constructor(W,P,oe){super(Ke(P),ge(oe,P)),this.controls=W,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(W){return this.controls[this._adjustIndex(W)]}push(W,P={}){this.controls.push(W),this._registerControl(W),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(W,P,oe={}){this.controls.splice(W,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(W,P={}){let oe=this._adjustIndex(W);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(W,P,oe={}){let We=this._adjustIndex(W);We<0&&(We=0),this.controls[We]&&this.controls[We]._registerOnCollectionChange(()=>{}),this.controls.splice(We,1),P&&(this.controls.splice(We,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(W,P={}){Qt(this,0,W),W.forEach((oe,We)=>{kt(this,!1,We),this.at(We).setValue(oe,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(W,P={}){null!=W&&(W.forEach((oe,We)=>{this.at(We)&&this.at(We).patchValue(oe,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(W=[],P={}){this._forEachChild((oe,We)=>{oe.reset(W[We],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(W=>W.getRawValue())}clear(W={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:W.emitEvent}))}_adjustIndex(W){return W<0?W+this.length:W}_syncPendingControls(){let W=this.controls.reduce((P,oe)=>!!oe._syncPendingControls()||P,!1);return W&&this.updateValueAndValidity({onlySelf:!0}),W}_forEachChild(W){this.controls.forEach((P,oe)=>{W(P,oe)})}_updateValue(){this.value=this.controls.filter(W=>W.enabled||this.disabled).map(W=>W.value)}_anyControls(W){return this.controls.some(P=>P.enabled&&W(P))}_setUpControls(){this._forEachChild(W=>this._registerControl(W))}_allControlsDisabled(){for(const W of this.controls)if(W.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(W){W.setParent(this),W._registerOnCollectionChange(this._onCollectionChange)}_find(W){return this.at(W)??null}}function hs(H){return!!H&&(void 0!==H.asyncValidators||void 0!==H.validators||void 0!==H.updateOn)}let lo=(()=>{class H{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new H;return P.useNonNullable=!0,P}group(P,oe=null){const We=this._reduceControls(P);let wn={};return hs(oe)?wn=oe:null!==oe&&(wn.validators=oe.validator,wn.asyncValidators=oe.asyncValidator),new ui(We,wn)}record(P,oe=null){const We=this._reduceControls(P);return new Zi(We,oe)}control(P,oe,We){let wn={};return this.useNonNullable?(hs(oe)?wn=oe:(wn.validators=oe,wn.asyncValidators=We),new ft(P,{...wn,nonNullable:!0})):new ft(P,oe,We)}array(P,oe,We){const wn=P.map(Bn=>this._createControl(Bn));return new ao(wn,oe,We)}_reduceControls(P){const oe={};return Object.keys(P).forEach(We=>{oe[We]=this._createControl(P[We])}),oe}_createControl(P){return P instanceof ft||P instanceof Rn?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}static#e=this.\u0275fac=function(oe){return new(oe||H)};static#t=this.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),fr=(()=>{class H extends lo{group(P,oe=null){return super.group(P,oe)}control(P,oe,We){return super.control(P,oe,We)}array(P,oe,We){return super.array(P,oe,We)}static#e=this.\u0275fac=(()=>{let P;return function(We){return(P||(P=e.n5z(H)))(We||H)}})();static#t=this.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),uo=(()=>{class H{static withConfig(P){return{ngModule:H,providers:[{provide:lr,useValue:P.callSetDisabledState??Dr}]}}static#e=this.\u0275fac=function(oe){return new(oe||H)};static#t=this.\u0275mod=e.oAB({type:H});static#n=this.\u0275inj=e.cJS({imports:[oo]})}return H})(),js=(()=>{class H{static withConfig(P){return{ngModule:H,providers:[{provide:ir,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:lr,useValue:P.callSetDisabledState??Dr}]}}static#e=this.\u0275fac=function(oe){return new(oe||H)};static#t=this.\u0275mod=e.oAB({type:H});static#n=this.\u0275inj=e.cJS({imports:[oo]})}return H})()},2236:(Je,le,l)=>{"use strict";l.d(le,{gz:()=>ir,gk:()=>Ee,m2:()=>he,Q3:()=>Ve,OD:()=>_e,wN:()=>it,F0:()=>Sr,sj:()=>te,rH:()=>Js,Od:()=>Hi,Bz:()=>wa,lC:()=>Yr,R9:()=>ot});var e=l(9212),S=l(5592),u=l(4674),x=l(9666),h=l(2096),y=l(5619),E=l(2572),C=l(6973),F=l(5211),V=l(4829);function $(g){return new S.y(D=>{(0,V.Xf)(g()).subscribe(D)})}var j=l(8407),q=l(8504),ee=l(6232),ue=l(7394),Fe=l(9360),be=l(8251);function De(){return(0,Fe.e)((g,D)=>{let _=null;g._refCount++;const M=(0,be.x)(D,void 0,void 0,void 0,()=>{if(!g||g._refCount<=0||0<--g._refCount)return void(_=null);const z=g._connection,ne=_;_=null,z&&(!ne||z===ne)&&z.unsubscribe(),D.unsubscribe()});g.subscribe(M),M.closed||(_=g.connect())})}class se extends S.y{constructor(D,_){super(),this.source=D,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,Fe.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new ue.w0;const _=this.getSubject();D.add(this.source.subscribe((0,be.x)(_,void 0,()=>{this._teardown(),_.complete()},M=>{this._teardown(),_.error(M)},()=>this._teardown()))),D.closed&&(this._connection=null,D=ue.w0.EMPTY)}return D}refCount(){return De()(this)}}var Ae=l(8645),Me=l(6814),st=l(7398),fe=l(4664),Dt=l(8180),Gt=l(7921),Pt=l(2181),dt=l(9769),sn=l(1374),an=l(6328),un=l(9397),Sn=l(6306),hn=l(6699),cn=l(3572);function $t(g){return g<=0?()=>ee.E:(0,Fe.e)((D,_)=>{let M=[];D.subscribe((0,be.x)(_,z=>{M.push(z),g<M.length&&M.shift()},()=>{for(const z of M)_.next(z);_.complete()},void 0,()=>{M=null}))})}var Xe=l(3026),ht=l(2737),wt=l(975),Kt=l(4716),Vt=l(9773),dn=l(7537),An=l(6593);const Te="primary",U=Symbol("RouteTitle");class K{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_[0]:_}return null}getAll(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function xe(g){return new K(g)}function Be(g,D,_){const M=_.path.split("/");if(M.length>g.length||"full"===_.pathMatch&&(D.hasChildren()||M.length<g.length))return null;const z={};for(let ne=0;ne<M.length;ne++){const He=M[ne],At=g[ne];if(He.startsWith(":"))z[He.substring(1)]=At;else if(He!==At.path)return null}return{consumed:g.slice(0,M.length),posParams:z}}function qe(g,D){const _=g?Et(g):void 0,M=D?Et(D):void 0;if(!_||!M||_.length!=M.length)return!1;let z;for(let ne=0;ne<_.length;ne++)if(z=_[ne],!Qe(g[z],D[z]))return!1;return!0}function Et(g){return[...Object.keys(g),...Object.getOwnPropertySymbols(g)]}function Qe(g,D){if(Array.isArray(g)&&Array.isArray(D)){if(g.length!==D.length)return!1;const _=[...g].sort(),M=[...D].sort();return _.every((z,ne)=>M[ne]===z)}return g===D}function Ct(g){return function N(g){return!!g&&(g instanceof S.y||(0,u.m)(g.lift)&&(0,u.m)(g.subscribe))}(g)?g:(0,e.QGY)(g)?(0,x.D)(Promise.resolve(g)):(0,h.of)(g)}const Yt={exact:function zn(g,D,_){if(!qt(g.segments,D.segments)||!vi(g.segments,D.segments,_)||g.numberOfChildren!==D.numberOfChildren)return!1;for(const M in D.children)if(!g.children[M]||!zn(g.children[M],D.children[M],_))return!1;return!0},subset:jn},ln={exact:function Hn(g,D){return qe(g,D)},subset:function on(g,D){return Object.keys(D).length<=Object.keys(g).length&&Object.keys(D).every(_=>Qe(g[_],D[_]))},ignored:()=>!0};function Pn(g,D,_){return Yt[_.paths](g.root,D.root,_.matrixParams)&&ln[_.queryParams](g.queryParams,D.queryParams)&&!("exact"===_.fragment&&g.fragment!==D.fragment)}function jn(g,D,_){return xn(g,D,D.segments,_)}function xn(g,D,_,M){if(g.segments.length>_.length){const z=g.segments.slice(0,_.length);return!(!qt(z,_)||D.hasChildren()||!vi(z,_,M))}if(g.segments.length===_.length){if(!qt(g.segments,_)||!vi(g.segments,_,M))return!1;for(const z in D.children)if(!g.children[z]||!jn(g.children[z],D.children[z],M))return!1;return!0}{const z=_.slice(0,g.segments.length),ne=_.slice(g.segments.length);return!!(qt(g.segments,z)&&vi(g.segments,z,M)&&g.children[Te])&&xn(g.children[Te],D,ne,M)}}function vi(g,D,_){return D.every((M,z)=>ln[_](g[z].parameters,M.parameters))}class ri{constructor(D=new ce([],{}),_={},M=null){this.root=D,this.queryParams=_,this.fragment=M}get queryParamMap(){return this._queryParamMap??=xe(this.queryParams),this._queryParamMap}toString(){return Ht.serialize(this)}}class ce{constructor(D,_){this.segments=D,this.children=_,this.parent=null,Object.values(_).forEach(M=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return It(this)}}class Mi{constructor(D,_){this.path=D,this.parameters=_}get parameterMap(){return this._parameterMap??=xe(this.parameters),this._parameterMap}toString(){return pn(this)}}function qt(g,D){return g.length===D.length&&g.every((_,M)=>_.path===D[M].path)}let Xi=(()=>{class g{static#e=this.\u0275fac=function(M){return new(M||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:()=>new er,providedIn:"root"})}return g})();class er{parse(D){const _=new ui(D);return new ri(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(D){const _=`/${Y(D.root,!0)}`,M=function Jt(g){const D=Object.entries(g).map(([_,M])=>Array.isArray(M)?M.map(z=>`${et(_)}=${et(z)}`).join("&"):`${et(_)}=${et(M)}`).filter(_=>_);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${_}${M}${"string"==typeof D.fragment?`#${function ct(g){return encodeURI(g)}(D.fragment)}`:""}`}}const Ht=new er;function It(g){return g.segments.map(D=>pn(D)).join("/")}function Y(g,D){if(!g.hasChildren())return It(g);if(D){const _=g.children[Te]?Y(g.children[Te],!1):"",M=[];return Object.entries(g.children).forEach(([z,ne])=>{z!==Te&&M.push(`${z}:${Y(ne,!1)}`)}),M.length>0?`${_}(${M.join("//")})`:_}{const _=function Tr(g,D){let _=[];return Object.entries(g.children).forEach(([M,z])=>{M===Te&&(_=_.concat(D(z,M)))}),Object.entries(g.children).forEach(([M,z])=>{M!==Te&&(_=_.concat(D(z,M)))}),_}(g,(M,z)=>z===Te?[Y(g.children[Te],!1)]:[`${z}:${Y(M,!1)}`]);return 1===Object.keys(g.children).length&&null!=g.children[Te]?`${It(g)}/${_[0]}`:`${It(g)}/(${_.join("//")})`}}function pe(g){return encodeURIComponent(g).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function et(g){return pe(g).replace(/%3B/gi,";")}function at(g){return pe(g).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lt(g){return decodeURIComponent(g)}function Ut(g){return lt(g.replace(/\+/g,"%20"))}function pn(g){return`${at(g.path)}${function vn(g){return Object.entries(g).map(([D,_])=>`;${at(D)}=${at(_)}`).join("")}(g.parameters)}`}const Ke=/^[^\/()?;#]+/;function Bt(g){const D=g.match(Ke);return D?D[0]:""}const ge=/^[^\/()?;=#]+/,_t=/^[^=?&#]+/,Qt=/^[^&#]+/;class ui{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(D.length>0||Object.keys(_).length>0)&&(M[Te]=new ce(D,_)),M}parseSegment(){const D=Bt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(D),new Mi(lt(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const _=function $e(g){const D=g.match(ge);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let M="";if(this.consumeOptional("=")){const z=Bt(this.remaining);z&&(M=z,this.capture(M))}D[lt(_)]=lt(M)}parseQueryParam(D){const _=function kt(g){const D=g.match(_t);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let M="";if(this.consumeOptional("=")){const He=function Rn(g){const D=g.match(Qt);return D?D[0]:""}(this.remaining);He&&(M=He,this.capture(M))}const z=Ut(_),ne=Ut(M);if(D.hasOwnProperty(z)){let He=D[z];Array.isArray(He)||(He=[He],D[z]=He),He.push(ne)}else D[z]=ne}parseParens(D){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=Bt(this.remaining),z=this.remaining[M.length];if("/"!==z&&")"!==z&&";"!==z)throw new e.vHH(4010,!1);let ne;M.indexOf(":")>-1?(ne=M.slice(0,M.indexOf(":")),this.capture(ne),this.capture(":")):D&&(ne=Te);const He=this.parseChildren();_[ne]=1===Object.keys(He).length?He[Te]:new ce([],He),this.consumeOptional("//")}return _}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new e.vHH(4011,!1)}}function Ci(g){return g.segments.length>0?new ce([],{[Te]:g}):g}function tr(g){const D={};for(const[M,z]of Object.entries(g.children)){const ne=tr(z);if(M===Te&&0===ne.segments.length&&ne.hasChildren())for(const[He,At]of Object.entries(ne.children))D[He]=At;else(ne.segments.length>0||ne.hasChildren())&&(D[M]=ne)}return function rr(g){if(1===g.numberOfChildren&&g.children[Te]){const D=g.children[Te];return new ce(g.segments.concat(D.segments),D.children)}return g}(new ce(g.segments,D))}function Zi(g){return g instanceof ri}function lr(g){let D;const z=Ci(function _(ne){const He={};for(const vt of ne.children){const yn=_(vt);He[vt.outlet]=yn}const At=new ce(ne.url,He);return ne===g&&(D=At),At}(g.root));return D??z}function Dr(g,D,_,M){let z=g;for(;z.parent;)z=z.parent;if(0===D.length)return si(z,z,z,_,M);const ne=function zr(g){if("string"==typeof g[0]&&1===g.length&&"/"===g[0])return new Qr(!0,0,g);let D=0,_=!1;const M=g.reduce((z,ne,He)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const At={};return Object.entries(ne.outlets).forEach(([vt,yn])=>{At[vt]="string"==typeof yn?yn.split("/"):yn}),[...z,{outlets:At}]}if(ne.segmentPath)return[...z,ne.segmentPath]}return"string"!=typeof ne?[...z,ne]:0===He?(ne.split("/").forEach((At,vt)=>{0==vt&&"."===At||(0==vt&&""===At?_=!0:".."===At?D++:""!=At&&z.push(At))}),z):[...z,ne]},[]);return new Qr(_,D,M)}(D);if(ne.toRoot())return si(z,z,new ce([],{}),_,M);const He=function Wr(g,D,_){if(g.isAbsolute)return new zi(D,!0,0);if(!_)return new zi(D,!1,NaN);if(null===_.parent)return new zi(_,!0,0);const M=sr(g.commands[0])?0:1;return function Xr(g,D,_){let M=g,z=D,ne=_;for(;ne>z;){if(ne-=z,M=M.parent,!M)throw new e.vHH(4005,!1);z=M.segments.length}return new zi(M,!1,z-ne)}(_,_.segments.length-1+M,g.numberOfDoubleDots)}(ne,z,g),At=He.processChildren?Ge(He.segmentGroup,He.index,ne.commands):Ye(He.segmentGroup,He.index,ne.commands);return si(z,He.segmentGroup,At,_,M)}function sr(g){return"object"==typeof g&&null!=g&&!g.outlets&&!g.segmentPath}function Oi(g){return"object"==typeof g&&null!=g&&g.outlets}function si(g,D,_,M,z){let He,ne={};M&&Object.entries(M).forEach(([vt,yn])=>{ne[vt]=Array.isArray(yn)?yn.map(Jn=>`${Jn}`):`${yn}`}),He=g===D?_:nr(g,D,_);const At=Ci(tr(He));return new ri(At,ne,z)}function nr(g,D,_){const M={};return Object.entries(g.children).forEach(([z,ne])=>{M[z]=ne===D?_:nr(ne,D,_)}),new ce(g.segments,M)}class Qr{constructor(D,_,M){if(this.isAbsolute=D,this.numberOfDoubleDots=_,this.commands=M,D&&M.length>0&&sr(M[0]))throw new e.vHH(4003,!1);const z=M.find(Oi);if(z&&z!==M.at(-1))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zi{constructor(D,_,M){this.segmentGroup=D,this.processChildren=_,this.index=M}}function Ye(g,D,_){if(g??=new ce([],{}),0===g.segments.length&&g.hasChildren())return Ge(g,D,_);const M=function St(g,D,_){let M=0,z=D;const ne={match:!1,pathIndex:0,commandIndex:0};for(;z<g.segments.length;){if(M>=_.length)return ne;const He=g.segments[z],At=_[M];if(Oi(At))break;const vt=`${At}`,yn=M<_.length-1?_[M+1]:null;if(z>0&&void 0===vt)break;if(vt&&yn&&"object"==typeof yn&&void 0===yn.outlets){if(!f(vt,yn,He))return ne;M+=2}else{if(!f(vt,{},He))return ne;M++}z++}return{match:!0,pathIndex:z,commandIndex:M}}(g,D,_),z=_.slice(M.commandIndex);if(M.match&&M.pathIndex<g.segments.length){const ne=new ce(g.segments.slice(0,M.pathIndex),{});return ne.children[Te]=new ce(g.segments.slice(M.pathIndex),g.children),Ge(ne,0,z)}return M.match&&0===z.length?new ce(g.segments,{}):M.match&&!g.hasChildren()?i(g,D,_):M.match?Ge(g,0,z):i(g,D,_)}function Ge(g,D,_){if(0===_.length)return new ce(g.segments,{});{const M=function ve(g){return Oi(g[0])?g[0].outlets:{[Te]:g}}(_),z={};if(Object.keys(M).some(ne=>ne!==Te)&&g.children[Te]&&1===g.numberOfChildren&&0===g.children[Te].segments.length){const ne=Ge(g.children[Te],D,_);return new ce(g.segments,ne.children)}return Object.entries(M).forEach(([ne,He])=>{"string"==typeof He&&(He=[He]),null!==He&&(z[ne]=Ye(g.children[ne],D,He))}),Object.entries(g.children).forEach(([ne,He])=>{void 0===M[ne]&&(z[ne]=He)}),new ce(g.segments,z)}}function i(g,D,_){const M=g.segments.slice(0,D);let z=0;for(;z<_.length;){const ne=_[z];if(Oi(ne)){const vt=r(ne.outlets);return new ce(M,vt)}if(0===z&&sr(_[0])){M.push(new Mi(g.segments[D].path,a(_[0]))),z++;continue}const He=Oi(ne)?ne.outlets[Te]:`${ne}`,At=z<_.length-1?_[z+1]:null;He&&At&&sr(At)?(M.push(new Mi(He,a(At))),z+=2):(M.push(new Mi(He,{})),z++)}return new ce(M,{})}function r(g){const D={};return Object.entries(g).forEach(([_,M])=>{"string"==typeof M&&(M=[M]),null!==M&&(D[_]=i(new ce([],{}),0,M))}),D}function a(g){const D={};return Object.entries(g).forEach(([_,M])=>D[_]=`${M}`),D}function f(g,D,_){return g==_.path&&qe(D,_.parameters)}const T="imperative";var k=function(g){return g[g.NavigationStart=0]="NavigationStart",g[g.NavigationEnd=1]="NavigationEnd",g[g.NavigationCancel=2]="NavigationCancel",g[g.NavigationError=3]="NavigationError",g[g.RoutesRecognized=4]="RoutesRecognized",g[g.ResolveStart=5]="ResolveStart",g[g.ResolveEnd=6]="ResolveEnd",g[g.GuardsCheckStart=7]="GuardsCheckStart",g[g.GuardsCheckEnd=8]="GuardsCheckEnd",g[g.RouteConfigLoadStart=9]="RouteConfigLoadStart",g[g.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",g[g.ChildActivationStart=11]="ChildActivationStart",g[g.ChildActivationEnd=12]="ChildActivationEnd",g[g.ActivationStart=13]="ActivationStart",g[g.ActivationEnd=14]="ActivationEnd",g[g.Scroll=15]="Scroll",g[g.NavigationSkipped=16]="NavigationSkipped",g}(k||{});class te{constructor(D,_){this.id=D,this.url=_}}class _e extends te{constructor(D,_,M="imperative",z=null){super(D,_),this.type=k.NavigationStart,this.navigationTrigger=M,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class he extends te{constructor(D,_,M){super(D,_),this.urlAfterRedirects=M,this.type=k.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var we=function(g){return g[g.Redirect=0]="Redirect",g[g.SupersededByNewNavigation=1]="SupersededByNewNavigation",g[g.NoDataFromResolver=2]="NoDataFromResolver",g[g.GuardRejected=3]="GuardRejected",g}(we||{}),Ce=function(g){return g[g.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",g[g.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",g}(Ce||{});class Ee extends te{constructor(D,_,M,z){super(D,_),this.reason=M,this.code=z,this.type=k.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pe extends te{constructor(D,_,M,z){super(D,_),this.reason=M,this.code=z,this.type=k.NavigationSkipped}}class Ve extends te{constructor(D,_,M,z){super(D,_),this.error=M,this.target=z,this.type=k.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ot extends te{constructor(D,_,M,z){super(D,_),this.urlAfterRedirects=M,this.state=z,this.type=k.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ut extends te{constructor(D,_,M,z){super(D,_),this.urlAfterRedirects=M,this.state=z,this.type=k.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ft extends te{constructor(D,_,M,z,ne){super(D,_),this.urlAfterRedirects=M,this.state=z,this.shouldActivate=ne,this.type=k.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ae extends te{constructor(D,_,M,z){super(D,_),this.urlAfterRedirects=M,this.state=z,this.type=k.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends te{constructor(D,_,M,z){super(D,_),this.urlAfterRedirects=M,this.state=z,this.type=k.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke{constructor(D){this.route=D,this.type=k.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class je{constructor(D){this.route=D,this.type=k.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Q{constructor(D){this.snapshot=D,this.type=k.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ie{constructor(D){this.snapshot=D,this.type=k.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(D){this.snapshot=D,this.type=k.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Le{constructor(D){this.snapshot=D,this.type=k.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(D,_,M){this.routerEvent=D,this.position=_,this.anchor=M,this.type=k.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yt{}class Zt{constructor(D){this.url=D}}class Ln{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Vn,this.attachRef=null}}let Vn=(()=>{class g{constructor(){this.contexts=new Map}onChildOutletCreated(_,M){const z=this.getOrCreateContext(_);z.outlet=M,this.contexts.set(_,z)}onChildOutletDestroyed(_){const M=this.getContext(_);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let M=this.getContext(_);return M||(M=new Ln,this.contexts.set(_,M)),M}getContext(_){return this.contexts.get(_)||null}static#e=this.\u0275fac=function(M){return new(M||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();class Kn{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const _=this.pathFromRoot(D);return _.length>1?_[_.length-2]:null}children(D){const _=di(D,this._root);return _?_.children.map(M=>M.value):[]}firstChild(D){const _=di(D,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(D){const _=Ji(D,this._root);return _.length<2?[]:_[_.length-2].children.map(z=>z.value).filter(z=>z!==D)}pathFromRoot(D){return Ji(D,this._root).map(_=>_.value)}}function di(g,D){if(g===D.value)return D;for(const _ of D.children){const M=di(g,_);if(M)return M}return null}function Ji(g,D){if(g===D.value)return[D];for(const _ of D.children){const M=Ji(g,_);if(M.length)return M.unshift(D),M}return[]}class qn{constructor(D,_){this.value=D,this.children=_}toString(){return`TreeNode(${this.value})`}}function bi(g){const D={};return g&&g.children.forEach(_=>D[_.value.outlet]=_),D}class Gi extends Kn{constructor(D,_){super(D),this.snapshot=_,Rr(this,D)}toString(){return this.snapshot.toString()}}function qi(g){const D=function Ar(g){const ne=new cr([],{},{},"",{},Te,g,null,{});return new vs("",new qn(ne,[]))}(g),_=new y.X([new Mi("",{})]),M=new y.X({}),z=new y.X({}),ne=new y.X({}),He=new y.X(""),At=new ir(_,M,ne,He,z,Te,g,D.root);return At.snapshot=D.root,new Gi(new qn(At,[]),D)}class ir{constructor(D,_,M,z,ne,He,At,vt){this.urlSubject=D,this.paramsSubject=_,this.queryParamsSubject=M,this.fragmentSubject=z,this.dataSubject=ne,this.outlet=He,this.component=At,this._futureSnapshot=vt,this.title=this.dataSubject?.pipe((0,st.U)(yn=>yn[U]))??(0,h.of)(void 0),this.url=D,this.params=_,this.queryParams=M,this.fragment=z,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,st.U)(D=>xe(D))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,st.U)(D=>xe(D))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mr(g,D,_="emptyOnly"){let M;const{routeConfig:z}=g;return M=null===D||"always"!==_&&""!==z?.path&&(D.component||D.routeConfig?.loadComponent)?{params:{...g.params},data:{...g.data},resolve:{...g.data,...g._resolvedData??{}}}:{params:{...D.params,...g.params},data:{...D.data,...g.data},resolve:{...g.data,...D.data,...z?.data,...g._resolvedData}},z&&yr(z)&&(M.resolve[U]=z.title),M}class cr{get title(){return this.data?.[U]}constructor(D,_,M,z,ne,He,At,vt,yn){this.url=D,this.params=_,this.queryParams=M,this.fragment=z,this.data=ne,this.outlet=He,this.component=At,this.routeConfig=vt,this._resolve=yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xe(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xe(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vs extends Kn{constructor(D,_){super(_),this.url=D,Rr(this,_)}toString(){return ur(this._root)}}function Rr(g,D){D.value._routerState=g,D.children.forEach(_=>Rr(g,_))}function ur(g){const D=g.children.length>0?` { ${g.children.map(ur).join(", ")} } `:"";return`${g.value}${D}`}function Ki(g){if(g.snapshot){const D=g.snapshot,_=g._futureSnapshot;g.snapshot=_,qe(D.queryParams,_.queryParams)||g.queryParamsSubject.next(_.queryParams),D.fragment!==_.fragment&&g.fragmentSubject.next(_.fragment),qe(D.params,_.params)||g.paramsSubject.next(_.params),function tt(g,D){if(g.length!==D.length)return!1;for(let _=0;_<g.length;++_)if(!qe(g[_],D[_]))return!1;return!0}(D.url,_.url)||g.urlSubject.next(_.url),qe(D.data,_.data)||g.dataSubject.next(_.data)}else g.snapshot=g._futureSnapshot,g.dataSubject.next(g._futureSnapshot.data)}function $r(g,D){const _=qe(g.params,D.params)&&function Ii(g,D){return qt(g,D)&&g.every((_,M)=>qe(_.parameters,D[M].parameters))}(g.url,D.url);return _&&!(!g.parent!=!D.parent)&&(!g.parent||$r(g.parent,D.parent))}function yr(g){return"string"==typeof g.title||null===g.title}let Yr=(()=>{class g{constructor(){this.activated=null,this._activatedRoute=null,this.name=Te,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.parentContexts=(0,e.f3M)(Vn),this.location=(0,e.f3M)(e.s_b),this.changeDetector=(0,e.f3M)(e.sBO),this.environmentInjector=(0,e.f3M)(e.lqb),this.inputBinder=(0,e.f3M)(br,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:M,previousValue:z}=_.name;if(M)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,M){this.activated=_,this._activatedRoute=M,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,M){if(this.isActivated)throw new e.vHH(4013,!1);this._activatedRoute=_;const z=this.location,He=_.snapshot.component,At=this.parentContexts.getOrCreateContext(this.name).children,vt=new Ur(_,At,z.injector);this.activated=z.createComponent(He,{index:z.length,injector:vt,environmentInjector:M??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(M){return new(M||g)};static#t=this.\u0275dir=e.lG2({type:g,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.TTD]})}return g})();class Ur{constructor(D,_,M){this.route=D,this.childContexts=_,this.parent=M}get(D,_){return D===ir?this.route:D===Vn?this.childContexts:this.parent.get(D,_)}}const br=new e.OlP("");let Or=(()=>{class g{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:M}=_,z=(0,E.a)([M.queryParams,M.params,M.data]).pipe((0,fe.w)(([ne,He,At],vt)=>(At={...ne,...He,...At},0===vt?(0,h.of)(At):Promise.resolve(At)))).subscribe(ne=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==M||null===M.component)return void this.unsubscribeFromRouteData(_);const He=(0,e.qFp)(M.component);if(He)for(const{templateName:At}of He.inputs)_.activatedComponentRef.setInput(At,ne[At]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,z)}static#e=this.\u0275fac=function(M){return new(M||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac})}return g})();function Li(g,D,_){if(_&&g.shouldReuseRoute(D.value,_.value.snapshot)){const M=_.value;M._futureSnapshot=D.value;const z=function Bi(g,D,_){return D.children.map(M=>{for(const z of _.children)if(g.shouldReuseRoute(M.value,z.value.snapshot))return Li(g,M,z);return Li(g,M)})}(g,D,_);return new qn(M,z)}{if(g.shouldAttach(D.value)){const ne=g.retrieve(D.value);if(null!==ne){const He=ne.route;return He.value._futureSnapshot=D.value,He.children=D.children.map(At=>Li(g,At)),He}}const M=function Ti(g){return new ir(new y.X(g.url),new y.X(g.params),new y.X(g.queryParams),new y.X(g.fragment),new y.X(g.data),g.outlet,g.component,g)}(D.value),z=D.children.map(ne=>Li(g,ne));return new qn(M,z)}}const Er="ngNavigationCancelingError";function Gr(g,D){const{redirectTo:_,navigationBehaviorOptions:M}=Zi(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,z=pi(!1,we.Redirect,D);return z.url=_,z.navigationBehaviorOptions=M,z}function pi(g,D,_){const M=new Error("NavigationCancelingError: "+(g||""));return M[Er]=!0,M.cancellationCode=D,_&&(M.url=_),M}function wr(g){return g&&g[Er]}let Hr=(()=>{class g{static#e=this.\u0275fac=function(M){return new(M||g)};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(M,z){1&M&&e._UZ(0,"router-outlet")},dependencies:[Yr],encapsulation:2})}return g})();function bs(g){const D=g.children&&g.children.map(bs),_=D?{...g,children:D}:{...g};return!_.component&&!_.loadComponent&&(D||_.loadChildren)&&_.outlet&&_.outlet!==Te&&(_.component=Hr),_}function Ir(g){return g.outlet||Te}function Jr(g){if(!g)return null;if(g.routeConfig?._injector)return g.routeConfig._injector;for(let D=g.parent;D;D=D.parent){const _=D.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class hr{constructor(D,_,M,z,ne){this.routeReuseStrategy=D,this.futureState=_,this.currState=M,this.forwardEvent=z,this.inputBindingEnabled=ne}activate(D){const _=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,M,D),Ki(this.futureState.root),this.activateChildRoutes(_,M,D)}deactivateChildRoutes(D,_,M){const z=bi(_);D.children.forEach(ne=>{const He=ne.value.outlet;this.deactivateRoutes(ne,z[He],M),delete z[He]}),Object.values(z).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,M)})}deactivateRoutes(D,_,M){const z=D.value,ne=_?_.value:null;if(z===ne)if(z.component){const He=M.getContext(z.outlet);He&&this.deactivateChildRoutes(D,_,He.children)}else this.deactivateChildRoutes(D,_,M);else ne&&this.deactivateRouteAndItsChildren(_,M)}deactivateRouteAndItsChildren(D,_){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,_):this.deactivateRouteAndOutlet(D,_)}detachAndStoreRouteSubtree(D,_){const M=_.getContext(D.value.outlet),z=M&&D.value.component?M.children:_,ne=bi(D);for(const He of Object.values(ne))this.deactivateRouteAndItsChildren(He,z);if(M&&M.outlet){const He=M.outlet.detach(),At=M.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:He,route:D,contexts:At})}}deactivateRouteAndOutlet(D,_){const M=_.getContext(D.value.outlet),z=M&&D.value.component?M.children:_,ne=bi(D);for(const He of Object.values(ne))this.deactivateRouteAndItsChildren(He,z);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.route=null)}activateChildRoutes(D,_,M){const z=bi(_);D.children.forEach(ne=>{this.activateRoutes(ne,z[ne.value.outlet],M),this.forwardEvent(new Le(ne.value.snapshot))}),D.children.length&&this.forwardEvent(new Ie(D.value.snapshot))}activateRoutes(D,_,M){const z=D.value,ne=_?_.value:null;if(Ki(z),z===ne)if(z.component){const He=M.getOrCreateContext(z.outlet);this.activateChildRoutes(D,_,He.children)}else this.activateChildRoutes(D,_,M);else if(z.component){const He=M.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const At=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),He.children.onOutletReAttached(At.contexts),He.attachRef=At.componentRef,He.route=At.route.value,He.outlet&&He.outlet.attach(At.componentRef,At.route.value),Ki(At.route.value),this.activateChildRoutes(D,null,He.children)}else{const At=Jr(z.snapshot);He.attachRef=null,He.route=z,He.injector=At,He.outlet&&He.outlet.activateWith(z,He.injector),this.activateChildRoutes(D,null,He.children)}}else this.activateChildRoutes(D,null,M)}}class ts{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class or{constructor(D,_){this.component=D,this.route=_}}function Pi(g,D,_){const M=g._root;return Es(M,D?D._root:null,_,[M.value])}function us(g,D){const _=Symbol(),M=D.get(g,_);return M===_?"function"!=typeof g||(0,e.Z0I)(g)?D.get(g):g:M}function Es(g,D,_,M,z={canDeactivateChecks:[],canActivateChecks:[]}){const ne=bi(D);return g.children.forEach(He=>{(function oo(g,D,_,M,z={canDeactivateChecks:[],canActivateChecks:[]}){const ne=g.value,He=D?D.value:null,At=_?_.getContext(g.value.outlet):null;if(He&&ne.routeConfig===He.routeConfig){const vt=function ao(g,D,_){if("function"==typeof _)return _(g,D);switch(_){case"pathParamsChange":return!qt(g.url,D.url);case"pathParamsOrQueryParamsChange":return!qt(g.url,D.url)||!qe(g.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$r(g,D)||!qe(g.queryParams,D.queryParams);default:return!$r(g,D)}}(He,ne,ne.routeConfig.runGuardsAndResolvers);vt?z.canActivateChecks.push(new ts(M)):(ne.data=He.data,ne._resolvedData=He._resolvedData),Es(g,D,ne.component?At?At.children:null:_,M,z),vt&&At&&At.outlet&&At.outlet.isActivated&&z.canDeactivateChecks.push(new or(At.outlet.component,He))}else He&&ns(D,At,z),z.canActivateChecks.push(new ts(M)),Es(g,null,ne.component?At?At.children:null:_,M,z)})(He,ne[He.value.outlet],_,M.concat([He.value]),z),delete ne[He.value.outlet]}),Object.entries(ne).forEach(([He,At])=>ns(At,_.getContext(He),z)),z}function ns(g,D,_){const M=bi(g),z=g.value;Object.entries(M).forEach(([ne,He])=>{ns(He,z.component?D?D.children.getContext(ne):null:D,_)}),_.canDeactivateChecks.push(new or(z.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,z))}function ds(g){return"function"==typeof g}function W(g){return g instanceof C.K||"EmptyError"===g?.name}const P=Symbol("INITIAL_VALUE");function oe(){return(0,fe.w)(g=>(0,E.a)(g.map(D=>D.pipe((0,Dt.q)(1),(0,Gt.O)(P)))).pipe((0,st.U)(D=>{for(const _ of D)if(!0!==_){if(_===P)return P;if(!1===_||_ instanceof ri)return _}return!0}),(0,Pt.h)(D=>D!==P),(0,Dt.q)(1)))}function Xs(g){return(0,j.z)((0,un.b)(D=>{if(Zi(D))throw Gr(0,D)}),(0,st.U)(D=>!0===D))}class Vs{constructor(D){this.segmentGroup=D||null}}class eo extends Error{constructor(D){super(),this.urlTree=D}}function xs(g){return(0,q._)(new Vs(g))}class ya{constructor(D,_){this.urlSerializer=D,this.urlTree=_}lineralizeSegments(D,_){let M=[],z=_.root;for(;;){if(M=M.concat(z.segments),0===z.numberOfChildren)return(0,h.of)(M);if(z.numberOfChildren>1||!z.children[Te])return(0,q._)(new e.vHH(4e3,!1));z=z.children[Te]}}applyRedirectCommands(D,_,M){const z=this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),D,M);if(_.startsWith("/"))throw new eo(z);return z}applyRedirectCreateUrlTree(D,_,M,z){const ne=this.createSegmentGroup(D,_.root,M,z);return new ri(ne,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(D,_){const M={};return Object.entries(D).forEach(([z,ne])=>{if("string"==typeof ne&&ne.startsWith(":")){const At=ne.substring(1);M[z]=_[At]}else M[z]=ne}),M}createSegmentGroup(D,_,M,z){const ne=this.createSegments(D,_.segments,M,z);let He={};return Object.entries(_.children).forEach(([At,vt])=>{He[At]=this.createSegmentGroup(D,vt,M,z)}),new ce(ne,He)}createSegments(D,_,M,z){return _.map(ne=>ne.path.startsWith(":")?this.findPosParam(D,ne,z):this.findOrReturn(ne,M))}findPosParam(D,_,M){const z=M[_.path.substring(1)];if(!z)throw new e.vHH(4001,!1);return z}findOrReturn(D,_){let M=0;for(const z of _){if(z.path===D.path)return _.splice(M),z;M++}return D}}const to={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mo(g,D,_,M,z){const ne=fs(g,D,_);return ne.matched?(M=function ys(g,D){return g.providers&&!g._injector&&(g._injector=(0,e.MMx)(g.providers,D,`Route: ${g.path}`)),g._injector??D}(D,M),function fo(g,D,_,M){const z=D.canMatch;if(!z||0===z.length)return(0,h.of)(!0);const ne=z.map(He=>{const At=us(He,g);return Ct(function uo(g){return g&&ds(g.canMatch)}(At)?At.canMatch(D,_):(0,e.r_H)(g,()=>At(D,_)))});return(0,h.of)(ne).pipe(oe(),Xs())}(M,D,_).pipe((0,st.U)(He=>!0===He?ne:{...to}))):(0,h.of)(ne)}function fs(g,D,_){if("**"===D.path)return function Rs(g){return{matched:!0,parameters:g.at(-1)?.parameters??{},consumedSegments:g,remainingSegments:[],positionalParamSegments:{}}}(_);if(""===D.path)return"full"===D.pathMatch&&(g.hasChildren()||_.length>0)?{...to}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const z=(D.matcher||Be)(_,g,D);if(!z)return{...to};const ne={};Object.entries(z.posParams??{}).forEach(([At,vt])=>{ne[At]=vt.path});const He=z.consumed.length>0?{...ne,...z.consumed[z.consumed.length-1].parameters}:ne;return{matched:!0,consumedSegments:z.consumed,remainingSegments:_.slice(z.consumed.length),parameters:He,positionalParamSegments:z.posParams??{}}}function is(g,D,_,M){return _.length>0&&function kr(g,D,_){return _.some(M=>zs(g,D,M)&&Ir(M)!==Te)}(g,_,M)?{segmentGroup:new ce(D,$a(M,new ce(_,g.children))),slicedSegments:[]}:0===_.length&&function rs(g,D,_){return _.some(M=>zs(g,D,M))}(g,_,M)?{segmentGroup:new ce(g.segments,Ia(g,_,M,g.children)),slicedSegments:_}:{segmentGroup:new ce(g.segments,g.children),slicedSegments:_}}function Ia(g,D,_,M){const z={};for(const ne of _)if(zs(g,D,ne)&&!M[Ir(ne)]){const He=new ce([],{});z[Ir(ne)]=He}return{...M,...z}}function $a(g,D){const _={};_[Te]=D;for(const M of g)if(""===M.path&&Ir(M)!==Te){const z=new ce([],{});_[Ir(M)]=z}return _}function zs(g,D,_){return(!(g.hasChildren()||D.length>0)||"full"!==_.pathMatch)&&""===_.path}class Pr{}class Wo{constructor(D,_,M,z,ne,He,At){this.injector=D,this.configLoader=_,this.rootComponentType=M,this.config=z,this.urlTree=ne,this.paramsInheritanceStrategy=He,this.urlSerializer=At,this.applyRedirects=new ya(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(D){return new e.vHH(4002,`'${D.segmentGroup}'`)}recognize(){const D=is(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(D).pipe((0,st.U)(_=>{const M=new cr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Te,this.rootComponentType,null,{}),z=new qn(M,_),ne=new vs("",z),He=function xi(g,D,_=null,M=null){return Dr(lr(g),D,_,M)}(M,[],this.urlTree.queryParams,this.urlTree.fragment);return He.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(He),this.inheritParamsAndData(ne._root,null),{state:ne,tree:He}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D,Te).pipe((0,Sn.K)(M=>{if(M instanceof eo)return this.urlTree=M.urlTree,this.match(M.urlTree.root);throw M instanceof Vs?this.noMatchError(M):M}))}inheritParamsAndData(D,_){const M=D.value,z=Mr(M,_,this.paramsInheritanceStrategy);M.params=Object.freeze(z.params),M.data=Object.freeze(z.data),D.children.forEach(ne=>this.inheritParamsAndData(ne,M))}processSegmentGroup(D,_,M,z){return 0===M.segments.length&&M.hasChildren()?this.processChildren(D,_,M):this.processSegment(D,_,M,M.segments,z,!0).pipe((0,st.U)(ne=>ne instanceof qn?[ne]:[]))}processChildren(D,_,M){const z=[];for(const ne of Object.keys(M.children))"primary"===ne?z.unshift(ne):z.push(ne);return(0,x.D)(z).pipe((0,an.b)(ne=>{const He=M.children[ne],At=function To(g,D){const _=g.filter(M=>Ir(M)===D);return _.push(...g.filter(M=>Ir(M)!==D)),_}(_,ne);return this.processSegmentGroup(D,At,He,ne)}),(0,hn.R)((ne,He)=>(ne.push(...He),ne)),(0,cn.d)(null),function Tt(g,D){const _=arguments.length>=2;return M=>M.pipe(g?(0,Pt.h)((z,ne)=>g(z,ne,M)):ht.y,$t(1),_?(0,cn.d)(D):(0,Xe.T)(()=>new C.K))}(),(0,dt.z)(ne=>{if(null===ne)return xs(M);const He=Is(ne);return function Gs(g){g.sort((D,_)=>D.value.outlet===Te?-1:_.value.outlet===Te?1:D.value.outlet.localeCompare(_.value.outlet))}(He),(0,h.of)(He)}))}processSegment(D,_,M,z,ne,He){return(0,x.D)(_).pipe((0,an.b)(At=>this.processSegmentAgainstRoute(At._injector??D,_,At,M,z,ne,He).pipe((0,Sn.K)(vt=>{if(vt instanceof Vs)return(0,h.of)(null);throw vt}))),(0,sn.P)(At=>!!At),(0,Sn.K)(At=>{if(W(At))return function Fi(g,D,_){return 0===D.length&&!g.children[_]}(M,z,ne)?(0,h.of)(new Pr):xs(M);throw At}))}processSegmentAgainstRoute(D,_,M,z,ne,He,At){return function ps(g,D,_,M){return!!(Ir(g)===M||M!==Te&&zs(D,_,g))&&fs(D,g,_).matched}(M,z,ne,He)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(D,z,M,ne,He):this.allowRedirects&&At?this.expandSegmentAgainstRouteUsingRedirect(D,z,_,M,ne,He):xs(z):xs(z)}expandSegmentAgainstRouteUsingRedirect(D,_,M,z,ne,He){const{matched:At,consumedSegments:vt,positionalParamSegments:yn,remainingSegments:Jn}=fs(_,z,ne);if(!At)return xs(_);z.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const oi=this.applyRedirects.applyRedirectCommands(vt,z.redirectTo,yn);return this.applyRedirects.lineralizeSegments(z,oi).pipe((0,dt.z)(ji=>this.processSegment(D,M,_,ji.concat(Jn),He,!1)))}matchSegmentAgainstRoute(D,_,M,z,ne){const He=Mo(_,M,z,D);return"**"===M.path&&(_.children={}),He.pipe((0,fe.w)(At=>At.matched?this.getChildConfig(D=M._injector??D,M,z).pipe((0,fe.w)(({routes:vt})=>{const yn=M._loadedInjector??D,{consumedSegments:Jn,remainingSegments:oi,parameters:ji}=At,no=new cr(Jn,ji,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Yo(g){return g.data||{}}(M),Ir(M),M.component??M._loadedComponent??null,M,function la(g){return g.resolve||{}}(M)),{segmentGroup:qs,slicedSegments:Qs}=is(_,Jn,oi,vt);if(0===Qs.length&&qs.hasChildren())return this.processChildren(yn,vt,qs).pipe((0,st.U)(Cs=>null===Cs?null:new qn(no,Cs)));if(0===vt.length&&0===Qs.length)return(0,h.of)(new qn(no,[]));const Ho=Ir(M)===ne;return this.processSegment(yn,vt,qs,Qs,Ho?Te:ne,!0).pipe((0,st.U)(Cs=>new qn(no,Cs instanceof qn?[Cs]:[])))})):xs(_)))}getChildConfig(D,_,M){return _.children?(0,h.of)({routes:_.children,injector:D}):_.loadChildren?void 0!==_._loadedRoutes?(0,h.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function gr(g,D,_,M){const z=D.canLoad;if(void 0===z||0===z.length)return(0,h.of)(!0);const ne=z.map(He=>{const At=us(He,g);return Ct(function lo(g){return g&&ds(g.canLoad)}(At)?At.canLoad(D,_):(0,e.r_H)(g,()=>At(D,_)))});return(0,h.of)(ne).pipe(oe(),Xs())}(D,_,M).pipe((0,dt.z)(z=>z?this.configLoader.loadChildren(D,_).pipe((0,un.b)(ne=>{_._loadedRoutes=ne.routes,_._loadedInjector=ne.injector})):function Ao(g){return(0,q._)(pi(!1,we.GuardRejected))}())):(0,h.of)({routes:[],injector:D})}}function aa(g){const D=g.value.routeConfig;return D&&""===D.path}function Is(g){const D=[],_=new Set;for(const M of g){if(!aa(M)){D.push(M);continue}const z=D.find(ne=>M.value.routeConfig===ne.value.routeConfig);void 0!==z?(z.children.push(...M.children),_.add(z)):D.push(M)}for(const M of _){const z=Is(M.children);D.push(new qn(M.value,z))}return D.filter(M=>!_.has(M))}function Fs(g){const D=g.children.map(_=>Fs(_)).flat();return[g,...D]}function po(g){return(0,fe.w)(D=>{const _=g(D);return _?(0,x.D)(_).pipe((0,st.U)(()=>D)):(0,h.of)(D)})}let Zo=(()=>{class g{buildTitle(_){let M,z=_.root;for(;void 0!==z;)M=this.getResolvedTitleForRoute(z)??M,z=z.children.find(ne=>ne.outlet===Te);return M}getResolvedTitleForRoute(_){return _.data[U]}static#e=this.\u0275fac=function(M){return new(M||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:()=>(0,e.f3M)(go),providedIn:"root"})}return g})(),go=(()=>{class g extends Zo{constructor(_){super(),this.title=_}updateTitle(_){const M=this.buildTitle(_);void 0!==M&&this.title.setTitle(M)}static#e=this.\u0275fac=function(M){return new(M||g)(e.LFG(An.Dx))};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();const Ks=new e.OlP("",{providedIn:"root",factory:()=>({})}),ws=new e.OlP("ROUTES");let Ws=(()=>{class g{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,e.f3M)(e.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,h.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const M=Ct(_.loadComponent()).pipe((0,st.U)(gs),(0,un.b)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=ne}),(0,Kt.x)(()=>{this.componentLoaders.delete(_)})),z=new se(M,()=>new Ae.x).pipe(De());return this.componentLoaders.set(_,z),z}loadChildren(_,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,h.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const ne=function mo(g,D,_,M){return Ct(g.loadChildren()).pipe((0,st.U)(gs),(0,dt.z)(z=>z instanceof e.YKP||Array.isArray(z)?(0,h.of)(z):(0,x.D)(D.compileModuleAsync(z))),(0,st.U)(z=>{M&&M(g);let ne,He,At=!1;return Array.isArray(z)?(He=z,!0):(ne=z.create(_).injector,He=ne.get(ws,[],{optional:!0,self:!0}).flat()),{routes:He.map(bs),injector:ne}}))}(M,this.compiler,_,this.onLoadEndListener).pipe((0,Kt.x)(()=>{this.childrenLoaders.delete(M)})),He=new se(ne,()=>new Ae.x).pipe(De());return this.childrenLoaders.set(M,He),He}static#e=this.\u0275fac=function(M){return new(M||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();function gs(g){return function xo(g){return g&&"object"==typeof g&&"default"in g}(g)?g.default:g}let Qi=(()=>{class g{static#e=this.\u0275fac=function(M){return new(M||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:()=>(0,e.f3M)(Ro),providedIn:"root"})}return g})(),Ro=(()=>{class g{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,M){return _}static#e=this.\u0275fac=function(M){return new(M||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();const qo=new e.OlP(""),Ne=new e.OlP("");function B(g,D,_){const M=g.get(Ne),z=g.get(Me.K0);return g.get(e.R0b).runOutsideAngular(()=>{if(!z.startViewTransition||M.skipNextTransition)return M.skipNextTransition=!1,Promise.resolve();let ne;const He=new Promise(yn=>{ne=yn}),At=z.startViewTransition(()=>(ne(),function R(g){return new Promise(D=>{(0,e.T8G)(D,{injector:g})})}(g))),{onViewTransitionCreated:vt}=M;return vt&&(0,e.r_H)(g,()=>vt({transition:At,from:D,to:_})),He})}let X=(()=>{class g{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ae.x,this.transitionAbortSubject=new Ae.x,this.configLoader=(0,e.f3M)(Ws),this.environmentInjector=(0,e.f3M)(e.lqb),this.urlSerializer=(0,e.f3M)(Xi),this.rootContexts=(0,e.f3M)(Vn),this.location=(0,e.f3M)(Me.Ye),this.inputBindingEnabled=null!==(0,e.f3M)(br,{optional:!0}),this.titleStrategy=(0,e.f3M)(Zo),this.options=(0,e.f3M)(Ks,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,e.f3M)(Qi),this.createViewTransition=(0,e.f3M)(qo,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,h.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new je(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new ke(z))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const M=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:M})}setupNavigations(_,M,z){return this.transitions=new y.X({id:0,currentUrlTree:M,currentRawUrl:M,extractedUrl:this.urlHandlingStrategy.extract(M),urlAfterRedirects:this.urlHandlingStrategy.extract(M),rawUrl:M,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:T,restoredState:null,currentSnapshot:z.snapshot,targetSnapshot:null,currentRouterState:z,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Pt.h)(ne=>0!==ne.id),(0,st.U)(ne=>({...ne,extractedUrl:this.urlHandlingStrategy.extract(ne.rawUrl)})),(0,fe.w)(ne=>{this.currentTransition=ne;let He=!1,At=!1;return(0,h.of)(ne).pipe((0,un.b)(vt=>{this.currentNavigation={id:vt.id,initialUrl:vt.rawUrl,extractedUrl:vt.extractedUrl,trigger:vt.source,extras:vt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,fe.w)(vt=>{const yn=!_.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!yn&&"reload"!==(vt.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const oi="";return this.events.next(new Pe(vt.id,this.urlSerializer.serialize(vt.rawUrl),oi,Ce.IgnoredSameUrlNavigation)),vt.resolve(null),ee.E}if(this.urlHandlingStrategy.shouldProcessUrl(vt.rawUrl))return(0,h.of)(vt).pipe((0,fe.w)(oi=>{const ji=this.transitions?.getValue();return this.events.next(new _e(oi.id,this.urlSerializer.serialize(oi.extractedUrl),oi.source,oi.restoredState)),ji!==this.transitions?.getValue()?ee.E:Promise.resolve(oi)}),function Po(g,D,_,M,z,ne){return(0,dt.z)(He=>function ss(g,D,_,M,z,ne,He="emptyOnly"){return new Wo(g,D,_,M,z,He,ne).recognize()}(g,D,_,M,He.extractedUrl,z,ne).pipe((0,st.U)(({state:At,tree:vt})=>({...He,targetSnapshot:At,urlAfterRedirects:vt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,un.b)(oi=>{ne.targetSnapshot=oi.targetSnapshot,ne.urlAfterRedirects=oi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:oi.urlAfterRedirects};const ji=new ot(oi.id,this.urlSerializer.serialize(oi.extractedUrl),this.urlSerializer.serialize(oi.urlAfterRedirects),oi.targetSnapshot);this.events.next(ji)}));if(yn&&this.urlHandlingStrategy.shouldProcessUrl(vt.currentRawUrl)){const{id:oi,extractedUrl:ji,source:no,restoredState:qs,extras:Qs}=vt,Ho=new _e(oi,this.urlSerializer.serialize(ji),no,qs);this.events.next(Ho);const Cs=qi(this.rootComponentType).snapshot;return this.currentTransition=ne={...vt,targetSnapshot:Cs,urlAfterRedirects:ji,extras:{...Qs,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ji,(0,h.of)(ne)}{const oi="";return this.events.next(new Pe(vt.id,this.urlSerializer.serialize(vt.extractedUrl),oi,Ce.IgnoredByUrlHandlingStrategy)),vt.resolve(null),ee.E}}),(0,un.b)(vt=>{const yn=new ut(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects),vt.targetSnapshot);this.events.next(yn)}),(0,st.U)(vt=>(this.currentTransition=ne={...vt,guards:Pi(vt.targetSnapshot,vt.currentSnapshot,this.rootContexts)},ne)),function We(g,D){return(0,dt.z)(_=>{const{targetSnapshot:M,currentSnapshot:z,guards:{canActivateChecks:ne,canDeactivateChecks:He}}=_;return 0===He.length&&0===ne.length?(0,h.of)({..._,guardsResult:!0}):function wn(g,D,_,M){return(0,x.D)(g).pipe((0,dt.z)(z=>function ho(g,D,_,M,z){const ne=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,h.of)(!0);const He=ne.map(At=>{const vt=Jr(D)??z,yn=us(At,vt);return Ct(function jr(g){return g&&ds(g.canDeactivate)}(yn)?yn.canDeactivate(g,D,_,M):(0,e.r_H)(vt,()=>yn(g,D,_,M))).pipe((0,sn.P)())});return(0,h.of)(He).pipe(oe())}(z.component,z.route,_,D,M)),(0,sn.P)(z=>!0!==z,!0))}(He,M,z,g).pipe((0,dt.z)(At=>At&&function hs(g){return"boolean"==typeof g}(At)?function Bn(g,D,_,M){return(0,x.D)(D).pipe((0,an.b)(z=>(0,F.z)(function pr(g,D){return null!==g&&D&&D(new Q(g)),(0,h.of)(!0)}(z.route.parent,M),function Wi(g,D){return null!==g&&D&&D(new ze(g)),(0,h.of)(!0)}(z.route,M),function Ps(g,D,_){const M=D[D.length-1],ne=D.slice(0,D.length-1).reverse().map(He=>function Hs(g){const D=g.routeConfig?g.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:g,guards:D}:null}(He)).filter(He=>null!==He).map(He=>$(()=>{const At=He.guards.map(vt=>{const yn=Jr(He.node)??_,Jn=us(vt,yn);return Ct(function fr(g){return g&&ds(g.canActivateChild)}(Jn)?Jn.canActivateChild(M,g):(0,e.r_H)(yn,()=>Jn(M,g))).pipe((0,sn.P)())});return(0,h.of)(At).pipe(oe())}));return(0,h.of)(ne).pipe(oe())}(g,z.path,_),function Fr(g,D,_){const M=D.routeConfig?D.routeConfig.canActivate:null;if(!M||0===M.length)return(0,h.of)(!0);const z=M.map(ne=>$(()=>{const He=Jr(D)??_,At=us(ne,He);return Ct(function co(g){return g&&ds(g.canActivate)}(At)?At.canActivate(D,g):(0,e.r_H)(He,()=>At(D,g))).pipe((0,sn.P)())}));return(0,h.of)(z).pipe(oe())}(g,z.route,_))),(0,sn.P)(z=>!0!==z,!0))}(M,ne,g,D):(0,h.of)(At)),(0,st.U)(At=>({..._,guardsResult:At})))})}(this.environmentInjector,vt=>this.events.next(vt)),(0,un.b)(vt=>{if(ne.guardsResult=vt.guardsResult,Zi(vt.guardsResult))throw Gr(0,vt.guardsResult);const yn=new ft(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects),vt.targetSnapshot,!!vt.guardsResult);this.events.next(yn)}),(0,Pt.h)(vt=>!!vt.guardsResult||(this.cancelNavigationTransition(vt,"",we.GuardRejected),!1)),po(vt=>{if(vt.guards.canActivateChecks.length)return(0,h.of)(vt).pipe((0,un.b)(yn=>{const Jn=new ae(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(Jn)}),(0,fe.w)(yn=>{let Jn=!1;return(0,h.of)(yn).pipe(function ca(g,D){return(0,dt.z)(_=>{const{targetSnapshot:M,guards:{canActivateChecks:z}}=_;if(!z.length)return(0,h.of)(_);const ne=new Set(z.map(vt=>vt.route)),He=new Set;for(const vt of ne)if(!He.has(vt))for(const yn of Fs(vt))He.add(yn);let At=0;return(0,x.D)(He).pipe((0,an.b)(vt=>ne.has(vt)?function Lr(g,D,_,M){const z=g.routeConfig,ne=g._resolve;return void 0!==z?.title&&!yr(z)&&(ne[U]=z.title),function Jo(g,D,_,M){const z=Et(g);if(0===z.length)return(0,h.of)({});const ne={};return(0,x.D)(z).pipe((0,dt.z)(He=>function Ns(g,D,_,M){const z=Jr(D)??M,ne=us(g,z);return Ct(ne.resolve?ne.resolve(D,_):(0,e.r_H)(z,()=>ne(D,_)))}(g[He],D,_,M).pipe((0,sn.P)(),(0,un.b)(At=>{ne[He]=At}))),$t(1),(0,wt.h)(ne),(0,Sn.K)(He=>W(He)?ee.E:(0,q._)(He)))}(ne,g,D,M).pipe((0,st.U)(He=>(g._resolvedData=He,g.data=Mr(g,g.parent,_).resolve,null)))}(vt,M,g,D):(vt.data=Mr(vt,vt.parent,g).resolve,(0,h.of)(void 0))),(0,un.b)(()=>At++),$t(1),(0,dt.z)(vt=>At===He.size?(0,h.of)(_):ee.E))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,un.b)({next:()=>Jn=!0,complete:()=>{Jn||this.cancelNavigationTransition(yn,"",we.NoDataFromResolver)}}))}),(0,un.b)(yn=>{const Jn=new Re(yn.id,this.urlSerializer.serialize(yn.extractedUrl),this.urlSerializer.serialize(yn.urlAfterRedirects),yn.targetSnapshot);this.events.next(Jn)}))}),po(vt=>{const yn=Jn=>{const oi=[];Jn.routeConfig?.loadComponent&&!Jn.routeConfig._loadedComponent&&oi.push(this.configLoader.loadComponent(Jn.routeConfig).pipe((0,un.b)(ji=>{Jn.component=ji}),(0,st.U)(()=>{})));for(const ji of Jn.children)oi.push(...yn(ji));return oi};return(0,E.a)(yn(vt.targetSnapshot.root)).pipe((0,cn.d)(null),(0,Dt.q)(1))}),po(()=>this.afterPreactivation()),(0,fe.w)(()=>{const{currentSnapshot:vt,targetSnapshot:yn}=ne,Jn=this.createViewTransition?.(this.environmentInjector,vt.root,yn.root);return Jn?(0,x.D)(Jn).pipe((0,st.U)(()=>ne)):(0,h.of)(ne)}),(0,st.U)(vt=>{const yn=function dr(g,D,_){const M=Li(g,D._root,_?_._root:void 0);return new Gi(M,D)}(_.routeReuseStrategy,vt.targetSnapshot,vt.currentRouterState);return this.currentTransition=ne={...vt,targetRouterState:yn},this.currentNavigation.targetRouterState=yn,ne}),(0,un.b)(()=>{this.events.next(new yt)}),((g,D,_,M)=>(0,st.U)(z=>(new hr(D,z.targetRouterState,z.currentRouterState,_,M).activate(g),z)))(this.rootContexts,_.routeReuseStrategy,vt=>this.events.next(vt),this.inputBindingEnabled),(0,Dt.q)(1),(0,un.b)({next:vt=>{He=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new he(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects))),this.titleStrategy?.updateTitle(vt.targetRouterState.snapshot),vt.resolve(!0)},complete:()=>{He=!0}}),(0,Vt.R)(this.transitionAbortSubject.pipe((0,un.b)(vt=>{throw vt}))),(0,Kt.x)(()=>{!He&&!At&&this.cancelNavigationTransition(ne,"",we.SupersededByNewNavigation),this.currentNavigation?.id===ne.id&&(this.currentNavigation=null)}),(0,Sn.K)(vt=>{if(At=!0,wr(vt))this.events.next(new Ee(ne.id,this.urlSerializer.serialize(ne.extractedUrl),vt.message,vt.cancellationCode)),function Os(g){return wr(g)&&Zi(g.url)}(vt)?this.events.next(new Zt(vt.url)):ne.resolve(!1);else{this.events.next(new Ve(ne.id,this.urlSerializer.serialize(ne.extractedUrl),vt,ne.targetSnapshot??void 0));try{ne.resolve(_.errorHandler(vt))}catch(yn){this.options.resolveNavigationPromiseOnError?ne.resolve(!1):ne.reject(yn)}}return ee.E}))}))}cancelNavigationTransition(_,M,z){const ne=new Ee(_.id,this.urlSerializer.serialize(_.extractedUrl),M,z);this.events.next(ne),_.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(M){return new(M||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();function ye(g){return g!==T}let it=(()=>{class g{static#e=this.\u0275fac=function(M){return new(M||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:()=>(0,e.f3M)(Wt),providedIn:"root"})}return g})();class Mt{shouldDetach(D){return!1}store(D,_){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,_){return D.routeConfig===_.routeConfig}}let Wt=(()=>{class g extends Mt{static#e=this.\u0275fac=(()=>{let _;return function(z){return(_||(_=e.n5z(g)))(z||g)}})();static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})(),Cn=(()=>{class g{static#e=this.\u0275fac=function(M){return new(M||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:()=>(0,e.f3M)(Nn),providedIn:"root"})}return g})(),Nn=(()=>{class g extends Cn{constructor(){super(...arguments),this.location=(0,e.f3M)(Me.Ye),this.urlSerializer=(0,e.f3M)(Xi),this.options=(0,e.f3M)(Ks,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,e.f3M)(Qi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ri,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qi(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(_){return this.location.subscribe(M=>{"popstate"===M.type&&_(M.url,M.state)})}handleRouterEvent(_,M){if(_ instanceof _e)this.stateMemento=this.createStateMemento();else if(_ instanceof Pe)this.rawUrlTree=M.initialUrl;else if(_ instanceof ot){if("eager"===this.urlUpdateStrategy&&!M.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(M.finalUrl,M.initialUrl);this.setBrowserUrl(z,M)}}else _ instanceof yt?(this.currentUrlTree=M.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(M.finalUrl,M.initialUrl),this.routerState=M.targetRouterState,"deferred"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,M))):_ instanceof Ee&&(_.code===we.GuardRejected||_.code===we.NoDataFromResolver)?this.restoreHistory(M):_ instanceof Ve?this.restoreHistory(M,!0):_ instanceof he&&(this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId)}setBrowserUrl(_,M){const z=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(z)||M.extras.replaceUrl){const He={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId)};this.location.replaceState(z,"",He)}else{const ne={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId+1)};this.location.go(z,"",ne)}}restoreHistory(_,M=!1){if("computed"===this.canceledNavigationResolution){const ne=this.currentPageId-this.browserPageId;0!==ne?this.location.historyGo(ne):this.currentUrlTree===_.finalUrl&&0===ne&&(this.resetState(_),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,M){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:M}:{navigationId:_}}static#e=this.\u0275fac=(()=>{let _;return function(z){return(_||(_=e.n5z(g)))(z||g)}})();static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();var hi=function(g){return g[g.COMPLETE=0]="COMPLETE",g[g.FAILED=1]="FAILED",g[g.REDIRECTING=2]="REDIRECTING",g}(hi||{});function $i(g,D){g.events.pipe((0,Pt.h)(_=>_ instanceof he||_ instanceof Ee||_ instanceof Ve||_ instanceof Pe),(0,st.U)(_=>_ instanceof he||_ instanceof Pe?hi.COMPLETE:_ instanceof Ee&&(_.code===we.Redirect||_.code===we.SupersededByNewNavigation)?hi.REDIRECTING:hi.FAILED),(0,Pt.h)(_=>_!==hi.REDIRECTING),(0,Dt.q)(1)).subscribe(()=>{D()})}function xr(g){throw g}const $s={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ys={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Sr=(()=>{class g{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,e.f3M)(e.c2e),this.stateManager=(0,e.f3M)(Cn),this.options=(0,e.f3M)(Ks,{optional:!0})||{},this.pendingTasks=(0,e.f3M)(e.I6F),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,e.f3M)(X),this.urlSerializer=(0,e.f3M)(Xi),this.location=(0,e.f3M)(Me.Ye),this.urlHandlingStrategy=(0,e.f3M)(Qi),this._events=new Ae.x,this.errorHandler=this.options.errorHandler||xr,this.navigated=!1,this.routeReuseStrategy=(0,e.f3M)(it),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,e.f3M)(ws,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,e.f3M)(br,{optional:!0}),this.eventsSubscription=new ue.w0,this.isNgZoneEnabled=(0,e.f3M)(e.R0b)instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:_=>{this.console.warn(_)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(M=>{try{const z=this.navigationTransitions.currentTransition,ne=this.navigationTransitions.currentNavigation;if(null!==z&&null!==ne)if(this.stateManager.handleRouterEvent(M,ne),M instanceof Ee&&M.code!==we.Redirect&&M.code!==we.SupersededByNewNavigation)this.navigated=!0;else if(M instanceof he)this.navigated=!0;else if(M instanceof Zt){const He=this.urlHandlingStrategy.merge(M.url,z.currentRawUrl),At={info:z.extras.info,skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ye(z.source)};this.scheduleNavigation(He,T,null,At,{resolve:z.resolve,reject:z.reject,promise:z.promise})}(function Qo(g){return!(g instanceof yt||g instanceof Zt)})(M)&&this._events.next(M)}catch(z){this.navigationTransitions.transitionAbortSubject.next(z)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),T,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((_,M)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(_,"popstate",M)},0)})}navigateToSyncWithBrowser(_,M,z){const ne={replaceUrl:!0},He=z?.navigationId?z:null;if(z){const vt={...z};delete vt.navigationId,delete vt.\u0275routerPageId,0!==Object.keys(vt).length&&(ne.state=vt)}const At=this.parseUrl(_);this.scheduleNavigation(At,M,He,ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(bs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,M={}){const{relativeTo:z,queryParams:ne,fragment:He,queryParamsHandling:At,preserveFragment:vt}=M,yn=vt?this.currentUrlTree.fragment:He;let oi,Jn=null;switch(At){case"merge":Jn={...this.currentUrlTree.queryParams,...ne};break;case"preserve":Jn=this.currentUrlTree.queryParams;break;default:Jn=ne||null}null!==Jn&&(Jn=this.removeEmptyProps(Jn));try{oi=lr(z?z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),oi=this.currentUrlTree.root}return Dr(oi,_,Jn,yn??null)}navigateByUrl(_,M={skipLocationChange:!1}){const z=Zi(_)?_:this.parseUrl(_),ne=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(ne,T,null,M)}navigate(_,M={skipLocationChange:!1}){return function Kr(g){for(let D=0;D<g.length;D++)if(null==g[D])throw new e.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,M),M)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){try{return this.urlSerializer.parse(_)}catch{return this.urlSerializer.parse("/")}}isActive(_,M){let z;if(z=!0===M?{...$s}:!1===M?{...Ys}:M,Zi(_))return Pn(this.currentUrlTree,_,z);const ne=this.parseUrl(_);return Pn(this.currentUrlTree,ne,z)}removeEmptyProps(_){return Object.entries(_).reduce((M,[z,ne])=>(null!=ne&&(M[z]=ne),M),{})}scheduleNavigation(_,M,z,ne,He){if(this.disposed)return Promise.resolve(!1);let At,vt,yn;He?(At=He.resolve,vt=He.reject,yn=He.promise):yn=new Promise((oi,ji)=>{At=oi,vt=ji});const Jn=this.pendingTasks.add();return $i(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Jn))}),this.navigationTransitions.handleNavigationRequest({source:M,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:_,extras:ne,resolve:At,reject:vt,promise:yn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yn.catch(oi=>Promise.reject(oi))}static#e=this.\u0275fac=function(M){return new(M||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})(),Js=(()=>{class g{constructor(_,M,z,ne,He,At){this.router=_,this.route=M,this.tabIndexAttribute=z,this.renderer=ne,this.el=He,this.locationStrategy=At,this.href=null,this.commands=null,this.onChanges=new Ae.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const vt=He.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===vt||"area"===vt,this.isAnchorElement?this.subscription=_.events.subscribe(yn=>{yn instanceof he&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,M,z,ne,He){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||M||z||ne||He||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,e.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,M){const z=this.renderer,ne=this.el.nativeElement;null!==M?z.setAttribute(ne,_,M):z.removeAttribute(ne,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(M){return new(M||g)(e.Y36(Sr),e.Y36(ir),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(Me.S$))};static#t=this.\u0275dir=e.lG2({type:g,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(M,z){1&M&&e.NdJ("click",function(He){return z.onClick(He.button,He.ctrlKey,He.shiftKey,He.altKey,He.metaKey)}),2&M&&e.uIk("target",z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[e.lbL.HasDecoratorInputTransform,"preserveFragment","preserveFragment",e.VuI],skipLocationChange:[e.lbL.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",e.VuI],replaceUrl:[e.lbL.HasDecoratorInputTransform,"replaceUrl","replaceUrl",e.VuI],routerLink:"routerLink"},standalone:!0,features:[e.Xq5,e.TTD]})}return g})(),Hi=(()=>{class g{get isActive(){return this._isActive}constructor(_,M,z,ne,He){this.router=_,this.element=M,this.renderer=z,this.cdr=ne,this.link=He,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new e.vpe,this.routerEventsSubscription=_.events.subscribe(At=>{At instanceof he&&this.update()})}ngAfterContentInit(){(0,h.of)(this.links.changes,(0,h.of)(null)).pipe((0,dn.J)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const _=[...this.links.toArray(),this.link].filter(M=>!!M).map(M=>M.onChanges);this.linkInputChangesSubscription=(0,x.D)(_).pipe((0,dn.J)()).subscribe(M=>{this._isActive!==this.isLinkActive(this.router)(M)&&this.update()})}set routerLinkActive(_){const M=Array.isArray(_)?_:_.split(" ");this.classes=M.filter(z=>!!z)}ngOnChanges(_){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const _=this.hasActiveLinks();this._isActive!==_&&(this._isActive=_,this.cdr.markForCheck(),this.classes.forEach(M=>{_?this.renderer.addClass(this.element.nativeElement,M):this.renderer.removeClass(this.element.nativeElement,M)}),_&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(_))})}isLinkActive(_){const M=function Io(g){return!!g.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return z=>!!z.urlTree&&_.isActive(z.urlTree,M)}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.links.some(_)}static#e=this.\u0275fac=function(M){return new(M||g)(e.Y36(Sr),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(Js,8))};static#t=this.\u0275dir=e.lG2({type:g,selectors:[["","routerLinkActive",""]],contentQueries:function(M,z,ne){if(1&M&&e.Suo(ne,Js,5),2&M){let He;e.iGM(He=e.CRH())&&(z.links=He)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[e.TTD]})}return g})();class Fo{}let ks=(()=>{class g{constructor(_,M,z,ne,He){this.router=_,this.injector=z,this.preloadingStrategy=ne,this.loader=He}setUpPreloading(){this.subscription=this.router.events.pipe((0,Pt.h)(_=>_ instanceof he),(0,an.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,M){const z=[];for(const ne of M){ne.providers&&!ne._injector&&(ne._injector=(0,e.MMx)(ne.providers,_,`Route: ${ne.path}`));const He=ne._injector??_,At=ne._loadedInjector??He;(ne.loadChildren&&!ne._loadedRoutes&&void 0===ne.canLoad||ne.loadComponent&&!ne._loadedComponent)&&z.push(this.preloadConfig(He,ne)),(ne.children||ne._loadedRoutes)&&z.push(this.processRoutes(At,ne.children??ne._loadedRoutes))}return(0,x.D)(z).pipe((0,dn.J)())}preloadConfig(_,M){return this.preloadingStrategy.preload(M,()=>{let z;z=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(_,M):(0,h.of)(null);const ne=z.pipe((0,dt.z)(He=>null===He?(0,h.of)(void 0):(M._loadedRoutes=He.routes,M._loadedInjector=He.injector,this.processRoutes(He.injector??_,He.routes))));if(M.loadComponent&&!M._loadedComponent){const He=this.loader.loadComponent(M);return(0,x.D)([ne,He]).pipe((0,dn.J)())}return ne})}static#e=this.\u0275fac=function(M){return new(M||g)(e.LFG(Sr),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(Fo),e.LFG(Ws))};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();const ti=new e.OlP("");let _o=(()=>{class g{constructor(_,M,z,ne,He={}){this.urlSerializer=_,this.transitions=M,this.viewportScroller=z,this.zone=ne,this.options=He,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},He.scrollPositionRestoration||="disabled",He.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof _e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof he?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof Pe&&_.code===Ce.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof Rt&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rt(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(M){e.$Z()};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac})}return g})();function ci(g,D){return{\u0275kind:g,\u0275providers:D}}function da(){const g=(0,e.f3M)(e.zs3);return D=>{const _=g.get(e.z2F);if(D!==_.components[0])return;const M=g.get(Sr),z=g.get(Xo);1===g.get(ms)&&M.initialNavigation(),g.get(mr,null,e.XFs.Optional)?.setUpPreloading(),g.get(ti,null,e.XFs.Optional)?.init(),M.resetRootComponentType(_.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const Xo=new e.OlP("",{factory:()=>new Ae.x}),ms=new e.OlP("",{providedIn:"root",factory:()=>1}),mr=new e.OlP("");function ko(g){return ci(0,[{provide:mr,useExisting:ks},{provide:Fo,useExisting:g}])}function Xn(g){return ci(9,[{provide:qo,useValue:B},{provide:Ne,useValue:{skipNextTransition:!!g?.skipInitialTransition,...g}}])}const ta=new e.OlP("ROUTER_FORROOT_GUARD"),Ea=[Me.Ye,{provide:Xi,useClass:er},Sr,Vn,{provide:ir,useFactory:function ba(g){return g.routerState.root},deps:[Sr]},Ws,[]];let wa=(()=>{class g{constructor(_){}static forRoot(_,M){return{ngModule:g,providers:[Ea,[],{provide:ws,multi:!0,useValue:_},{provide:ta,useFactory:na,deps:[[Sr,new e.FiY,new e.tp0]]},{provide:Ks,useValue:M||{}},M?.useHash?{provide:Me.S$,useClass:Me.Do}:{provide:Me.S$,useClass:Me.b0},{provide:ti,useFactory:()=>{const g=(0,e.f3M)(Me.EM),D=(0,e.f3M)(e.R0b),_=(0,e.f3M)(Ks),M=(0,e.f3M)(X),z=(0,e.f3M)(Xi);return _.scrollOffset&&g.setOffset(_.scrollOffset),new _o(z,M,g,D,_)}},M?.preloadingStrategy?ko(M.preloadingStrategy).\u0275providers:[],M?.initialNavigation?ia(M):[],M?.bindToComponentInputs?ci(8,[Or,{provide:br,useExisting:Or}]).\u0275providers:[],M?.enableViewTransitions?Xn().\u0275providers:[],[{provide:Ss,useFactory:da},{provide:e.tb,multi:!0,useExisting:Ss}]]}}static forChild(_){return{ngModule:g,providers:[{provide:ws,multi:!0,useValue:_}]}}static#e=this.\u0275fac=function(M){return new(M||g)(e.LFG(ta,8))};static#t=this.\u0275mod=e.oAB({type:g});static#n=this.\u0275inj=e.cJS({})}return g})();function na(g){return"guarded"}function ia(g){return["disabled"===g.initialNavigation?ci(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const D=(0,e.f3M)(Sr);return()=>{D.setUpLocationChangeListener()}}},{provide:ms,useValue:2}]).\u0275providers:[],"enabledBlocking"===g.initialNavigation?ci(2,[{provide:ms,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:D=>{const _=D.get(Me.V_,Promise.resolve());return()=>_.then(()=>new Promise(M=>{const z=D.get(Sr),ne=D.get(Xo);$i(z,()=>{M(!0)}),D.get(X).afterPreactivation=()=>(M(!0),ne.closed?(0,h.of)(void 0):ne),z.initialNavigation()}))}}]).\u0275providers:[]]}const Ss=new e.OlP("")},7178:(Je,le,l)=>{"use strict";l.d(le,{Kz:()=>On,_D:()=>go,jt:()=>Wn,TH:()=>rt,Vi:()=>Ft,iD:()=>Xt,FF:()=>fi,IJ:()=>Lc,N9:()=>xa,o8:()=>bc,OC:()=>wc,Iv:()=>Pc,_L:()=>Fc});var e=l(9212),u=(l(1993),l(5592)),N=l(6232),x=l(2096),h=l(8645),y=l(2438),E=l(9080),C=l(3684),V=(l(3019),l(9278)),$=l(5211),q=l(9773),ee=l(2181),ue=l(8180),Fe=l(9397),be=l(7398),De=l(2460),se=l(932),Ae=l(9769),Me=l(4664),Gt=(l(7921),l(3997),l(836),l(6814)),Pt=l(95),dt={left:"right",right:"left",bottom:"top",top:"bottom"};function sn(n){return n.replace(/left|right|bottom|top/g,function(b){return dt[b]})}function an(n){return n.split("-")[0]}var un={start:"end",end:"start"};function Sn(n){return n.replace(/start|end/g,function(b){return un[b]})}var hn="top",cn="bottom",$t="right",Xe="left",ht="auto",Tt=[hn,cn,$t,Xe],wt="start",Kt="end",dn="viewport",An="popper",U=Tt.reduce(function(n,b){return n.concat([b+"-"+wt,b+"-"+Kt])},[]),K=[].concat(Tt,[ht]).reduce(function(n,b){return n.concat([b,b+"-"+wt,b+"-"+Kt])},[]),Pn=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Hn(n){if(null==n)return window;if("[object Window]"!==n.toString()){var b=n.ownerDocument;return b&&b.defaultView||window}return n}function zn(n){return n instanceof Hn(n).Element||n instanceof Element}function on(n){return n instanceof Hn(n).HTMLElement||n instanceof HTMLElement}function jn(n){return!(typeof ShadowRoot>"u")&&(n instanceof Hn(n).ShadowRoot||n instanceof ShadowRoot)}function xn(n){return((zn(n)?n.ownerDocument:n.document)||window.document).documentElement}var vi=Math.max,ri=Math.min,ce=Math.round;function Mi(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(b){return b.brand+"/"+b.version}).join(" "):navigator.userAgent}function Ii(){return!/^((?!chrome|android).)*safari/i.test(Mi())}function qt(n,b,t){void 0===b&&(b=!1),void 0===t&&(t=!1);var o=n.getBoundingClientRect(),m=1,G=1;b&&on(n)&&(m=n.offsetWidth>0&&ce(o.width)/n.offsetWidth||1,G=n.offsetHeight>0&&ce(o.height)/n.offsetHeight||1);var nt=(zn(n)?Hn(n):window).visualViewport,pt=!Ii()&&t,Nt=(o.left+(pt&&nt?nt.offsetLeft:0))/m,jt=(o.top+(pt&&nt?nt.offsetTop:0))/G,En=o.width/m,gn=o.height/G;return{width:En,height:gn,top:jt,right:Nt+En,bottom:jt+gn,left:Nt,x:Nt,y:jt}}function Tr(n){var b=Hn(n);return{scrollLeft:b.pageXOffset,scrollTop:b.pageYOffset}}function Xi(n){return qt(xn(n)).left+Tr(n).scrollLeft}function Ht(n){return Hn(n).getComputedStyle(n)}function Y(n){return n?(n.nodeName||"").toLowerCase():null}function pe(n){return"html"===Y(n)?n:n.assignedSlot||n.parentNode||(jn(n)?n.host:null)||xn(n)}function et(n){var b=Ht(n);return/auto|scroll|overlay|hidden/.test(b.overflow+b.overflowY+b.overflowX)}function ct(n){return["html","body","#document"].indexOf(Y(n))>=0?n.ownerDocument.body:on(n)&&et(n)?n:ct(pe(n))}function at(n,b){var t;void 0===b&&(b=[]);var o=ct(n),m=o===(null==(t=n.ownerDocument)?void 0:t.body),G=Hn(o),re=m?[G].concat(G.visualViewport||[],et(o)?o:[]):o,nt=b.concat(re);return m?nt:nt.concat(at(pe(re)))}function lt(n){return["table","td","th"].indexOf(Y(n))>=0}function Ut(n){return on(n)&&"fixed"!==Ht(n).position?n.offsetParent:null}function vn(n){for(var b=Hn(n),t=Ut(n);t&&lt(t)&&"static"===Ht(t).position;)t=Ut(t);return t&&("html"===Y(t)||"body"===Y(t)&&"static"===Ht(t).position)?b:t||function pn(n){var b=/firefox/i.test(Mi());if(/Trident/i.test(Mi())&&on(n)&&"fixed"===Ht(n).position)return null;var m=pe(n);for(jn(m)&&(m=m.host);on(m)&&["html","body"].indexOf(Y(m))<0;){var G=Ht(m);if("none"!==G.transform||"none"!==G.perspective||"paint"===G.contain||-1!==["transform","perspective"].indexOf(G.willChange)||b&&"filter"===G.willChange||b&&G.filter&&"none"!==G.filter)return m;m=m.parentNode}return null}(n)||b}function Jt(n,b){var t=b.getRootNode&&b.getRootNode();if(n.contains(b))return!0;if(t&&jn(t)){var o=b;do{if(o&&n.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Ke(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function ge(n,b,t){return b===dn?Ke(function er(n,b){var t=Hn(n),o=xn(n),m=t.visualViewport,G=o.clientWidth,re=o.clientHeight,nt=0,pt=0;if(m){G=m.width,re=m.height;var Nt=Ii();(Nt||!Nt&&"fixed"===b)&&(nt=m.offsetLeft,pt=m.offsetTop)}return{width:G,height:re,x:nt+Xi(n),y:pt}}(n,t)):zn(b)?function Bt(n,b){var t=qt(n,!1,"fixed"===b);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(b,t):Ke(function It(n){var b,t=xn(n),o=Tr(n),m=null==(b=n.ownerDocument)?void 0:b.body,G=vi(t.scrollWidth,t.clientWidth,m?m.scrollWidth:0,m?m.clientWidth:0),re=vi(t.scrollHeight,t.clientHeight,m?m.scrollHeight:0,m?m.clientHeight:0),nt=-o.scrollLeft+Xi(n),pt=-o.scrollTop;return"rtl"===Ht(m||t).direction&&(nt+=vi(t.clientWidth,m?m.clientWidth:0)-G),{width:G,height:re,x:nt,y:pt}}(xn(n)))}function kt(n){return n.split("-")[1]}function Qt(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Rn(n){var pt,b=n.reference,t=n.element,o=n.placement,m=o?an(o):null,G=o?kt(o):null,re=b.x+b.width/2-t.width/2,nt=b.y+b.height/2-t.height/2;switch(m){case hn:pt={x:re,y:b.y-t.height};break;case cn:pt={x:re,y:b.y+b.height};break;case $t:pt={x:b.x+b.width,y:nt};break;case Xe:pt={x:b.x-t.width,y:nt};break;default:pt={x:b.x,y:b.y}}var Nt=m?Qt(m):null;if(null!=Nt){var jt="y"===Nt?"height":"width";switch(G){case wt:pt[Nt]=pt[Nt]-(b[jt]/2-t[jt]/2);break;case Kt:pt[Nt]=pt[Nt]+(b[jt]/2-t[jt]/2)}}return pt}function Ci(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function tr(n,b){return b.reduce(function(t,o){return t[o]=n,t},{})}function rr(n,b){void 0===b&&(b={});var o=b.placement,m=void 0===o?n.placement:o,G=b.strategy,re=void 0===G?n.strategy:G,nt=b.boundary,pt=void 0===nt?"clippingParents":nt,Nt=b.rootBoundary,jt=void 0===Nt?dn:Nt,En=b.elementContext,gn=void 0===En?An:En,Dn=b.altBoundary,_i=void 0!==Dn&&Dn,Yn=b.padding,yi=void 0===Yn?0:Yn,Ri=Ci("number"!=typeof yi?yi:tr(yi,Tt)),_r=n.rects.popper,Ei=n.elements[_i?gn===An?"reference":An:gn],ki=function _t(n,b,t,o){var m="clippingParents"===b?function $e(n){var b=at(pe(n)),o=["absolute","fixed"].indexOf(Ht(n).position)>=0&&on(n)?vn(n):n;return zn(o)?b.filter(function(m){return zn(m)&&Jt(m,o)&&"body"!==Y(m)}):[]}(n):[].concat(b),G=[].concat(m,[t]),nt=G.reduce(function(pt,Nt){var jt=ge(n,Nt,o);return pt.top=vi(jt.top,pt.top),pt.right=ri(jt.right,pt.right),pt.bottom=ri(jt.bottom,pt.bottom),pt.left=vi(jt.left,pt.left),pt},ge(n,G[0],o));return nt.width=nt.right-nt.left,nt.height=nt.bottom-nt.top,nt.x=nt.left,nt.y=nt.top,nt}(zn(Ei)?Ei:Ei.contextElement||xn(n.elements.popper),pt,jt,re),Vi=qt(n.elements.reference),vr=Rn({reference:Vi,element:_r,strategy:"absolute",placement:m}),ar=Ke(Object.assign({},_r,vr)),cs=gn===An?ar:Vi,qr={top:ki.top-cs.top+Ri.top,bottom:cs.bottom-ki.bottom+Ri.bottom,left:ki.left-cs.left+Ri.left,right:cs.right-ki.right+Ri.right},Ms=n.modifiersData.offset;if(gn===An&&Ms){var Vo=Ms[m];Object.keys(qr).forEach(function(Ls){var Va=[$t,cn].indexOf(Ls)>=0?1:-1,za=[hn,cn].indexOf(Ls)>=0?"y":"x";qr[Ls]+=Vo[za]*Va})}return qr}const Dr={name:"flip",enabled:!0,phase:"main",fn:function lr(n){var b=n.state,t=n.options,o=n.name;if(!b.modifiersData[o]._skip){for(var m=t.mainAxis,G=void 0===m||m,re=t.altAxis,nt=void 0===re||re,pt=t.fallbackPlacements,Nt=t.padding,jt=t.boundary,En=t.rootBoundary,gn=t.altBoundary,Dn=t.flipVariations,_i=void 0===Dn||Dn,Yn=t.allowedAutoPlacements,yi=b.options.placement,Ri=an(yi),_r=pt||(Ri!==yi&&_i?function xi(n){if(an(n)===ht)return[];var b=sn(n);return[Sn(n),b,Sn(b)]}(yi):[sn(yi)]),Ei=[yi].concat(_r).reduce(function(rl,Ra){return rl.concat(an(Ra)===ht?function Zi(n,b){void 0===b&&(b={});var m=b.boundary,G=b.rootBoundary,re=b.padding,nt=b.flipVariations,pt=b.allowedAutoPlacements,Nt=void 0===pt?K:pt,jt=kt(b.placement),En=jt?nt?U:U.filter(function(_i){return kt(_i)===jt}):Tt,gn=En.filter(function(_i){return Nt.indexOf(_i)>=0});0===gn.length&&(gn=En);var Dn=gn.reduce(function(_i,Yn){return _i[Yn]=rr(n,{placement:Yn,boundary:m,rootBoundary:G,padding:re})[an(Yn)],_i},{});return Object.keys(Dn).sort(function(_i,Yn){return Dn[_i]-Dn[Yn]})}(b,{placement:Ra,boundary:jt,rootBoundary:En,padding:Nt,flipVariations:_i,allowedAutoPlacements:Yn}):Ra)},[]),ki=b.rects.reference,Vi=b.rects.popper,vr=new Map,ar=!0,cs=Ei[0],qr=0;qr<Ei.length;qr++){var Ms=Ei[qr],Vo=an(Ms),Ls=kt(Ms)===wt,Va=[hn,cn].indexOf(Vo)>=0,za=Va?"width":"height",io=rr(b,{placement:Ms,boundary:jt,rootBoundary:En,altBoundary:gn,padding:Nt}),zo=Va?Ls?$t:Xe:Ls?cn:hn;ki[za]>Vi[za]&&(zo=sn(zo));var Ll=sn(zo),Ga=[];if(G&&Ga.push(io[Vo]<=0),nt&&Ga.push(io[zo]<=0,io[Ll]<=0),Ga.every(function(rl){return rl})){cs=Ms,ar=!1;break}vr.set(Ms,Ga)}if(ar)for(var Kl=function(Ra){var _l=Ei.find(function(Hl){var Ka=vr.get(Hl);if(Ka)return Ka.slice(0,Ra).every(function(Wl){return Wl})});if(_l)return cs=_l,"break"},ml=_i?3:1;ml>0&&"break"!==Kl(ml);ml--);b.placement!==cs&&(b.modifiersData[o]._skip=!0,b.placement=cs,b.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Oi(n,b,t){return vi(n,ri(b,t))}function nr(n){var b=qt(n),t=n.offsetWidth,o=n.offsetHeight;return Math.abs(b.width-t)<=1&&(t=b.width),Math.abs(b.height-o)<=1&&(o=b.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:o}}const zr={name:"preventOverflow",enabled:!0,phase:"main",fn:function Qr(n){var b=n.state,t=n.options,o=n.name,m=t.mainAxis,G=void 0===m||m,re=t.altAxis,nt=void 0!==re&&re,gn=t.tether,Dn=void 0===gn||gn,_i=t.tetherOffset,Yn=void 0===_i?0:_i,yi=rr(b,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),Ri=an(b.placement),Si=kt(b.placement),_r=!Si,Ei=Qt(Ri),ki=function sr(n){return"x"===n?"y":"x"}(Ei),Vi=b.modifiersData.popperOffsets,vr=b.rects.reference,ar=b.rects.popper,cs="function"==typeof Yn?Yn(Object.assign({},b.rects,{placement:b.placement})):Yn,qr="number"==typeof cs?{mainAxis:cs,altAxis:cs}:Object.assign({mainAxis:0,altAxis:0},cs),Ms=b.modifiersData.offset?b.modifiersData.offset[b.placement]:null,Vo={x:0,y:0};if(Vi){if(G){var Ls,Va="y"===Ei?hn:Xe,za="y"===Ei?cn:$t,io="y"===Ei?"height":"width",zo=Vi[Ei],Ll=zo+yi[Va],Ga=zo-yi[za],Bl=Dn?-ar[io]/2:0,Kl=Si===wt?vr[io]:ar[io],ml=Si===wt?-ar[io]:-vr[io],Ul=b.elements.arrow,rl=Dn&&Ul?nr(Ul):{width:0,height:0},Ra=b.modifiersData["arrow#persistent"]?b.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},_l=Ra[Va],Hl=Ra[za],Ka=Oi(0,vr[io],rl[io]),Wl=_r?vr[io]/2-Bl-Ka-_l-qr.mainAxis:Kl-Ka-_l-qr.mainAxis,Bc=_r?-vr[io]/2+Bl+Ka+Hl+qr.mainAxis:ml+Ka+Hl+qr.mainAxis,$l=b.elements.arrow&&vn(b.elements.arrow),Uc=$l?"y"===Ei?$l.clientTop||0:$l.clientLeft||0:0,oc=null!=(Ls=Ms?.[Ei])?Ls:0,jc=zo+Bc-oc,ac=Oi(Dn?ri(Ll,zo+Wl-oc-Uc):Ll,zo,Dn?vi(Ga,jc):Ga);Vi[Ei]=ac,Vo[Ei]=ac-zo}if(nt){var lc,Wa=Vi[ki],jl="y"===ki?"height":"width",cc=Wa+yi["x"===Ei?hn:Xe],uc=Wa-yi["x"===Ei?cn:$t],Yl=-1!==[hn,Xe].indexOf(Ri),dc=null!=(lc=Ms?.[ki])?lc:0,hc=Yl?cc:Wa-vr[jl]-ar[jl]-dc+qr.altAxis,fc=Yl?Wa+vr[jl]+ar[jl]-dc-qr.altAxis:uc,pc=Dn&&Yl?function si(n,b,t){var o=Oi(n,b,t);return o>t?t:o}(hc,Wa,fc):Oi(Dn?hc:cc,Wa,Dn?fc:uc);Vi[ki]=pc,Vo[ki]=pc-Wa}b.modifiersData[o]=Vo}},requiresIfExists:["offset"]},ve={name:"arrow",enabled:!0,phase:"main",fn:function Wr(n){var b,t=n.state,o=n.name,m=n.options,G=t.elements.arrow,re=t.modifiersData.popperOffsets,nt=an(t.placement),pt=Qt(nt),jt=[Xe,$t].indexOf(nt)>=0?"height":"width";if(G&&re){var En=function(b,t){return Ci("number"!=typeof(b="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b)?b:tr(b,Tt))}(m.padding,t),gn=nr(G),Dn="y"===pt?hn:Xe,_i="y"===pt?cn:$t,Yn=t.rects.reference[jt]+t.rects.reference[pt]-re[pt]-t.rects.popper[jt],yi=re[pt]-t.rects.reference[pt],Ri=vn(G),Si=Ri?"y"===pt?Ri.clientHeight||0:Ri.clientWidth||0:0,Vi=Si/2-gn[jt]/2+(Yn/2-yi/2),vr=Oi(En[Dn],Vi,Si-gn[jt]-En[_i]);t.modifiersData[o]=((b={})[pt]=vr,b.centerOffset=vr-Vi,b)}},effect:function Xr(n){var b=n.state,o=n.options.element,m=void 0===o?"[data-popper-arrow]":o;null!=m&&("string"==typeof m&&!(m=b.elements.popper.querySelector(m))||Jt(b.elements.popper,m)&&(b.elements.arrow=m))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function i(n,b,t){void 0===t&&(t=!1);var o=on(b),m=on(b)&&function St(n){var b=n.getBoundingClientRect(),t=ce(b.width)/n.offsetWidth||1,o=ce(b.height)/n.offsetHeight||1;return 1!==t||1!==o}(b),G=xn(b),re=qt(n,m,t),nt={scrollLeft:0,scrollTop:0},pt={x:0,y:0};return(o||!o&&!t)&&(("body"!==Y(b)||et(G))&&(nt=function Ge(n){return n!==Hn(n)&&on(n)?function Ye(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):Tr(n)}(b)),on(b)?((pt=qt(b,!0)).x+=b.clientLeft,pt.y+=b.clientTop):G&&(pt.x=Xi(G))),{x:re.left+nt.scrollLeft-pt.x,y:re.top+nt.scrollTop-pt.y,width:re.width,height:re.height}}function r(n){var b=new Map,t=new Set,o=[];function m(G){t.add(G.name),[].concat(G.requires||[],G.requiresIfExists||[]).forEach(function(nt){if(!t.has(nt)){var pt=b.get(nt);pt&&m(pt)}}),o.push(G)}return n.forEach(function(G){b.set(G.name,G)}),n.forEach(function(G){t.has(G.name)||m(G)}),o}function f(n){var b;return function(){return b||(b=new Promise(function(t){Promise.resolve().then(function(){b=void 0,t(n())})})),b}}var k={placement:"bottom",modifiers:[],strategy:"absolute"};function te(){for(var n=arguments.length,b=new Array(n),t=0;t<n;t++)b[t]=arguments[t];return!b.some(function(o){return!(o&&"function"==typeof o.getBoundingClientRect)})}function _e(n){void 0===n&&(n={});var t=n.defaultModifiers,o=void 0===t?[]:t,m=n.defaultOptions,G=void 0===m?k:m;return function(nt,pt,Nt){void 0===Nt&&(Nt=G);var jt={placement:"bottom",orderedModifiers:[],options:Object.assign({},k,G),modifiersData:{},elements:{reference:nt,popper:pt},attributes:{},styles:{}},En=[],gn=!1,Dn={state:jt,setOptions:function(Ri){var Si="function"==typeof Ri?Ri(jt.options):Ri;Yn(),jt.options=Object.assign({},G,jt.options,Si),jt.scrollParents={reference:zn(nt)?at(nt):nt.contextElement?at(nt.contextElement):[],popper:at(pt)};var _r=function a(n){var b=r(n);return Pn.reduce(function(t,o){return t.concat(b.filter(function(m){return m.phase===o}))},[])}(function T(n){var b=n.reduce(function(t,o){var m=t[o.name];return t[o.name]=m?Object.assign({},m,o,{options:Object.assign({},m.options,o.options),data:Object.assign({},m.data,o.data)}):o,t},{});return Object.keys(b).map(function(t){return b[t]})}([].concat(o,jt.options.modifiers)));return jt.orderedModifiers=_r.filter(function(Ei){return Ei.enabled}),function _i(){jt.orderedModifiers.forEach(function(yi){var Si=yi.options,Ei=yi.effect;if("function"==typeof Ei){var ki=Ei({state:jt,name:yi.name,instance:Dn,options:void 0===Si?{}:Si});En.push(ki||function(){})}})}(),Dn.update()},forceUpdate:function(){if(!gn){var Ri=jt.elements,Si=Ri.reference,_r=Ri.popper;if(te(Si,_r)){jt.rects={reference:i(Si,vn(_r),"fixed"===jt.options.strategy),popper:nr(_r)},jt.reset=!1,jt.placement=jt.options.placement,jt.orderedModifiers.forEach(function(qr){return jt.modifiersData[qr.name]=Object.assign({},qr.data)});for(var Ei=0;Ei<jt.orderedModifiers.length;Ei++)if(!0!==jt.reset){var ki=jt.orderedModifiers[Ei],Vi=ki.fn,vr=ki.options;"function"==typeof Vi&&(jt=Vi({state:jt,options:void 0===vr?{}:vr,name:ki.name,instance:Dn})||jt)}else jt.reset=!1,Ei=-1}}},update:f(function(){return new Promise(function(yi){Dn.forceUpdate(),yi(jt)})}),destroy:function(){Yn(),gn=!0}};if(!te(nt,pt))return Dn;function Yn(){En.forEach(function(yi){return yi()}),En=[]}return Dn.setOptions(Nt).then(function(yi){!gn&&Nt.onFirstUpdate&&Nt.onFirstUpdate(yi)}),Dn}}var we={passive:!0},ot={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ft(n){var b,t=n.popper,o=n.popperRect,m=n.placement,G=n.variation,re=n.offsets,nt=n.position,pt=n.gpuAcceleration,Nt=n.adaptive,jt=n.roundOffsets,En=n.isFixed,gn=re.x,Dn=void 0===gn?0:gn,_i=re.y,Yn=void 0===_i?0:_i,yi="function"==typeof jt?jt({x:Dn,y:Yn}):{x:Dn,y:Yn};Dn=yi.x,Yn=yi.y;var Ri=re.hasOwnProperty("x"),Si=re.hasOwnProperty("y"),_r=Xe,Ei=hn,ki=window;if(Nt){var Vi=vn(t),vr="clientHeight",ar="clientWidth";Vi===Hn(t)&&"static"!==Ht(Vi=xn(t)).position&&"absolute"===nt&&(vr="scrollHeight",ar="scrollWidth"),(m===hn||(m===Xe||m===$t)&&G===Kt)&&(Ei=cn,Yn-=(En&&Vi===ki&&ki.visualViewport?ki.visualViewport.height:Vi[vr])-o.height,Yn*=pt?1:-1),m!==Xe&&(m!==hn&&m!==cn||G!==Kt)||(_r=$t,Dn-=(En&&Vi===ki&&ki.visualViewport?ki.visualViewport.width:Vi[ar])-o.width,Dn*=pt?1:-1)}var Ls,Ms=Object.assign({position:nt},Nt&&ot),Vo=!0===jt?function ut(n,b){var o=n.y,m=b.devicePixelRatio||1;return{x:ce(n.x*m)/m||0,y:ce(o*m)/m||0}}({x:Dn,y:Yn},Hn(t)):{x:Dn,y:Yn};return Dn=Vo.x,Yn=Vo.y,Object.assign({},Ms,pt?((Ls={})[Ei]=Si?"0":"",Ls[_r]=Ri?"0":"",Ls.transform=(ki.devicePixelRatio||1)<=1?"translate("+Dn+"px, "+Yn+"px)":"translate3d("+Dn+"px, "+Yn+"px, 0)",Ls):((b={})[Ei]=Si?Yn+"px":"",b[_r]=Ri?Dn+"px":"",b.transform="",b))}var ze=_e({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Ce(n){var b=n.state,t=n.instance,o=n.options,m=o.scroll,G=void 0===m||m,re=o.resize,nt=void 0===re||re,pt=Hn(b.elements.popper),Nt=[].concat(b.scrollParents.reference,b.scrollParents.popper);return G&&Nt.forEach(function(jt){jt.addEventListener("scroll",t.update,we)}),nt&&pt.addEventListener("resize",t.update,we),function(){G&&Nt.forEach(function(jt){jt.removeEventListener("scroll",t.update,we)}),nt&&pt.removeEventListener("resize",t.update,we)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Pe(n){var b=n.state;b.modifiersData[n.name]=Rn({reference:b.rects.reference,element:b.rects.popper,strategy:"absolute",placement:b.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function ae(n){var b=n.state,t=n.options,o=t.gpuAcceleration,m=void 0===o||o,G=t.adaptive,re=void 0===G||G,nt=t.roundOffsets,pt=void 0===nt||nt,Nt={placement:an(b.placement),variation:kt(b.placement),popper:b.elements.popper,popperRect:b.rects.popper,gpuAcceleration:m,isFixed:"fixed"===b.options.strategy};null!=b.modifiersData.popperOffsets&&(b.styles.popper=Object.assign({},b.styles.popper,ft(Object.assign({},Nt,{offsets:b.modifiersData.popperOffsets,position:b.options.strategy,adaptive:re,roundOffsets:pt})))),null!=b.modifiersData.arrow&&(b.styles.arrow=Object.assign({},b.styles.arrow,ft(Object.assign({},Nt,{offsets:b.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:pt})))),b.attributes.popper=Object.assign({},b.attributes.popper,{"data-popper-placement":b.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function ke(n){var b=n.state;Object.keys(b.elements).forEach(function(t){var o=b.styles[t]||{},m=b.attributes[t]||{},G=b.elements[t];!on(G)||!Y(G)||(Object.assign(G.style,o),Object.keys(m).forEach(function(re){var nt=m[re];!1===nt?G.removeAttribute(re):G.setAttribute(re,!0===nt?"":nt)}))})},effect:function je(n){var b=n.state,t={popper:{position:b.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(b.elements.popper.style,t.popper),b.styles=t,b.elements.arrow&&Object.assign(b.elements.arrow.style,t.arrow),function(){Object.keys(b.elements).forEach(function(o){var m=b.elements[o],G=b.attributes[o]||{},nt=Object.keys(b.styles.hasOwnProperty(o)?b.styles[o]:t[o]).reduce(function(pt,Nt){return pt[Nt]="",pt},{});!on(m)||!Y(m)||(Object.assign(m.style,nt),Object.keys(G).forEach(function(pt){m.removeAttribute(pt)}))})}},requires:["computeStyles"]}]});const yt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Rt(n){var b=n.state,o=n.name,m=n.options.offset,G=void 0===m?[0,0]:m,re=K.reduce(function(jt,En){return jt[En]=function Le(n,b,t){var o=an(n),m=[Xe,hn].indexOf(o)>=0?-1:1,G="function"==typeof t?t(Object.assign({},b,{placement:n})):t,re=G[0],nt=G[1];return re=re||0,nt=(nt||0)*m,[Xe,$t].indexOf(o)>=0?{x:nt,y:re}:{x:re,y:nt}}(En,b.rects,G),jt},{}),nt=re[b.placement],Nt=nt.y;null!=b.modifiersData.popperOffsets&&(b.modifiersData.popperOffsets.x+=nt.x,b.modifiersData.popperOffsets.y+=Nt),b.modifiersData[o]=re}},Mn=["*"],ys=["dialog"];function Go(n,b){1&n&&(e.TgZ(0,"span",9),e.SDv(1,10),e.qZA())}function Co(n,b){1&n&&(e.TgZ(0,"span",9),e.SDv(1,11),e.qZA())}function Ko(n,b){1&n&&(e.TgZ(0,"span",9),e.SDv(1,12),e.qZA())}function so(n,b){1&n&&(e.TgZ(0,"span",9),e.SDv(1,13),e.qZA())}function bs(n,b){1&n&&e._uU(0,"...")}function Ir(n,b){1&n&&e._uU(0),2&n&&e.Oqu(b.$implicit)}function To(n,b){}const Jr=n=>({disabled:!0,currentPage:n});function Bs(n,b){if(1&n&&(e.TgZ(0,"a",16),e.YNc(1,To,0,0,"ng-template",8),e.qZA()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(),m=e.MAs(9);e.xp6(),e.Q6J("ngTemplateOutlet",(null==o.tplEllipsis?null:o.tplEllipsis.templateRef)||m)("ngTemplateOutletContext",e.VKq(2,Jr,t))}}function Us(n,b){}const hr=(n,b,t)=>({disabled:n,$implicit:b,currentPage:t});function ts(n,b){if(1&n){const t=e.EpF();e.TgZ(0,"a",17),e.NdJ("click",function(m){e.CHM(t);const G=e.oxw().$implicit;return e.oxw(2).selectPage(G),e.KtG(m.preventDefault())}),e.YNc(1,Us,0,0,"ng-template",8),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(),m=o.disabled,G=o.$implicit,re=e.oxw(),nt=e.MAs(11);e.uIk("tabindex",m?"-1":null)("aria-disabled",m?"true":null),e.xp6(),e.Q6J("ngTemplateOutlet",(null==re.tplNumber?null:re.tplNumber.templateRef)||nt)("ngTemplateOutletContext",e.kEZ(4,hr,m,t,G))}}function or(n,b){if(1&n&&(e.TgZ(0,"li",14),e.YNc(1,Bs,2,4,"a",15)(2,ts,2,8),e.qZA()),2&n){const t=b.$implicit,o=e.oxw(),m=o.$implicit,G=o.disabled,re=e.oxw();e.ekj("active",t===m)("disabled",re.isEllipsis(t)||G),e.uIk("aria-current",t===m?"page":null),e.xp6(),e.um2(1,re.isEllipsis(t)?1:2)}}function Pi(n,b){1&n&&e.SjG(0,or,3,6,"li",18,e.x6l),2&n&&e.wJu(b.pages)}function Hs(n,b){}const us=(n,b)=>({disabled:n,currentPage:b});function Es(n,b){if(1&n){const t=e.EpF();e.TgZ(0,"li",14)(1,"a",19),e.NdJ("click",function(m){return e.CHM(t),e.oxw().selectPage(1),e.KtG(m.preventDefault())}),e.YNc(2,Hs,0,0,"ng-template",8),e.qZA()()}if(2&n){const t=e.oxw(),o=e.MAs(1);e.ekj("disabled",t.previousDisabled()),e.xp6(),e.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),e.xp6(),e.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||o)("ngTemplateOutletContext",e.WLB(6,us,t.previousDisabled(),t.page))}}function oo(n,b){}const ao=n=>({disabled:n});function ns(n,b){if(1&n){const t=e.EpF();e.TgZ(0,"li",14)(1,"a",20),e.NdJ("click",function(m){e.CHM(t);const G=e.oxw();return G.selectPage(G.page-1),e.KtG(m.preventDefault())}),e.YNc(2,oo,0,0,"ng-template",8),e.qZA()()}if(2&n){const t=e.oxw(),o=e.MAs(3);e.ekj("disabled",t.previousDisabled()),e.xp6(),e.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),e.xp6(),e.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||o)("ngTemplateOutletContext",e.VKq(6,ao,t.previousDisabled()))}}function ds(n,b){}function hs(n,b){}function lo(n,b){if(1&n){const t=e.EpF();e.TgZ(0,"li",14)(1,"a",21),e.NdJ("click",function(m){e.CHM(t);const G=e.oxw();return G.selectPage(G.page+1),e.KtG(m.preventDefault())}),e.YNc(2,hs,0,0,"ng-template",8),e.qZA()()}if(2&n){const t=e.oxw(),o=e.MAs(5);e.ekj("disabled",t.nextDisabled()),e.xp6(),e.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),e.xp6(),e.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||o)("ngTemplateOutletContext",e.WLB(6,us,t.nextDisabled(),t.page))}}function co(n,b){}function fr(n,b){if(1&n){const t=e.EpF();e.TgZ(0,"li",14)(1,"a",22),e.NdJ("click",function(m){e.CHM(t);const G=e.oxw();return G.selectPage(G.pageCount),e.KtG(m.preventDefault())}),e.YNc(2,co,0,0,"ng-template",8),e.qZA()()}if(2&n){const t=e.oxw(),o=e.MAs(7);e.ekj("disabled",t.nextDisabled()),e.xp6(),e.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),e.xp6(),e.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||o)("ngTemplateOutletContext",e.WLB(6,us,t.nextDisabled(),t.page))}}const jr=(n,b,t)=>({$implicit:n,pages:b,disabled:t});function uo(n,b){if(1&n&&e._uU(0),2&n){const t=e.oxw(2);e.Oqu(t.title)}}function js(n,b){}function H(n,b){if(1&n&&(e.TgZ(0,"h3",3),e.YNc(1,uo,1,1,"ng-template",null,4,e.W1O)(3,js,0,0,"ng-template",5),e.qZA()),2&n){const t=e.MAs(2),o=e.oxw();e.xp6(3),e.Q6J("ngTemplateOutlet",o.isTitleTemplate()?o.title:t)("ngTemplateOutletContext",o.context)}}function P(n,b){1&n&&e._uU(0),2&n&&e.Oqu(100===b.fill?"\u2605":"\u2606")}function oe(n,b){}function We(n,b){if(1&n){const t=e.EpF();e.TgZ(0,"span",1),e._uU(1),e.qZA(),e.TgZ(2,"span",2),e.NdJ("mouseenter",function(){const G=e.CHM(t).$index,re=e.oxw();return e.KtG(re.enter(G+1))})("click",function(){const G=e.CHM(t).$index,re=e.oxw();return e.KtG(re.handleClick(G+1))}),e.YNc(3,oe,0,0,"ng-template",3),e.qZA()}if(2&n){const t=b.$index,o=e.oxw(),m=e.MAs(1);e.xp6(),e.hij("(",t<o.nextRate?"*":" ",")"),e.xp6(),e.Udp("cursor",o.isInteractive()?"pointer":"default"),e.xp6(),e.Q6J("ngTemplateOutlet",o.starTemplate||o.starTemplateFromContent||m)("ngTemplateOutletContext",o.contexts[t])}}function Vs(n,b){if(1&n&&(e.TgZ(0,"strong",3),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(),e.Oqu(t.header)}}function eo(n,b){}function xs(n,b){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,eo,0,0,"ng-template",5),e.TgZ(2,"button",6),e.NdJ("click",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.hide())}),e.qZA()()}if(2&n){const t=e.oxw(),o=e.MAs(1);e.xp6(),e.Q6J("ngTemplateOutlet",t.contentHeaderTpl||o)}}const Rs={animation:!0,transitionTimerDelayMs:5};let is=(()=>{class n{constructor(){this.animation=Rs.animation}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zs(n,b,t=0){return Math.max(Math.min(n,b),t)}function ps(n){return"string"==typeof n}function Fi(n){return!isNaN(function kr(n){return parseInt(`${n}`,10)}(n))}function ss(n){return null!=n}function Is(n){return(n||document.body).getBoundingClientRect()}function la(n=document){const b=n?.activeElement;return b?b.shadowRoot?la(b.shadowRoot):b:null}const Po=()=>{},{transitionTimerDelayMs:ca}=Rs,Fs=new Map,Lr=(n,b,t,o)=>{let m=o.context||{};const G=Fs.get(b);if(G)switch(o.runningTransition){case"continue":return N.E;case"stop":n.run(()=>G.transition$.complete()),m=Object.assign(G.context,m),Fs.delete(b)}const re=t(b,o.animation,m)||Po;if(!o.animation||"none"===window.getComputedStyle(b).transitionProperty)return n.run(()=>re()),(0,x.of)(void 0).pipe(function $o(n){return b=>new u.y(t=>b.subscribe({next:re=>n.run(()=>t.next(re)),error:re=>n.run(()=>t.error(re)),complete:()=>n.run(()=>t.complete())}))}(n));const nt=new h.x,pt=new h.x,Nt=nt.pipe(function j(...n){return b=>(0,$.z)(b,(0,x.of)(...n))}(!0));Fs.set(b,{transition$:nt,complete:()=>{pt.next(),pt.complete()},context:m});const jt=function $a(n){const{transitionDelay:b,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(b)+parseFloat(t))}(b);return n.runOutsideAngular(()=>{const En=(0,y.R)(b,"transitionend").pipe((0,q.R)(Nt),(0,ee.h)(({target:Dn})=>Dn===b)),gn=(0,E.H)(jt+ca).pipe((0,q.R)(Nt));(0,C.S)(gn,En,pt).pipe((0,q.R)(Nt)).subscribe(()=>{Fs.delete(b),n.run(()=>{re(),nt.next(),nt.complete()})})}),nt.asObservable()},po=(n,b,t)=>{let{direction:o,maxSize:m,dimension:G}=t;const{classList:re}=n;function nt(){re.add("collapse"),"show"===o?re.add("show"):re.remove("show")}if(b)return m||(m=function Ns(n,b){if(typeof navigator>"u")return"0px";const{classList:t}=n,o=t.contains("show");o||t.add("show"),n.style[b]="";const m=n.getBoundingClientRect()[b]+"px";return o||t.remove("show"),m}(n,G),t.maxSize=m,n.style[G]="show"!==o?m:"0px",re.remove("collapse"),re.remove("collapsing"),re.remove("show"),Is(n),re.add("collapsing")),n.style[G]="show"===o?m:"0px",()=>{nt(),re.remove("collapsing"),n.style[G]=""};nt()};let Zo=(()=>{class n{constructor(){this._ngbConfig=(0,e.f3M)(is),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),go=(()=>{class n{constructor(){this._config=(0,e.f3M)(Zo),this._element=(0,e.f3M)(e.SBq),this._zone=(0,e.f3M)(e.R0b),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new e.vpe,this.horizontal=this._config.horizontal,this.shown=new e.vpe,this.hidden=new e.vpe}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,o){return Lr(this._zone,this._element.nativeElement,po,{animation:o,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,o){this._runTransition(t,o).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(o,m){2&o&&e.ekj("collapse-horizontal",m.horizontal)},inputs:{animation:"animation",collapsed:[e.lbL.None,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}return n})(),Ne=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),ye=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),Qo=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),Js=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})();var Xn=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Xn||{});const na=(n,b)=>!!b&&b.some(t=>t.contains(n)),ia=(n,b)=>!b||null!=function aa(n,b){return!b||typeof n.closest>"u"?null:n.closest(b)}(n,b),Ss=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Lo(n,b,t,o,m,G,re,nt){t&&n.runOutsideAngular((n=>Ss?()=>setTimeout(()=>n(),100):n)(()=>{const Nt=(0,y.R)(b,"keydown").pipe((0,q.R)(m),(0,ee.h)(gn=>gn.which===Xn.Escape),(0,Fe.b)(gn=>gn.preventDefault())),jt=(0,y.R)(b,"mousedown").pipe((0,be.U)(gn=>{const Dn=gn.target;return 2!==gn.button&&!na(Dn,re)&&("inside"===t?na(Dn,G)&&ia(Dn,nt):"outside"===t?!na(Dn,G):ia(Dn,nt)||!na(Dn,G))}),(0,q.R)(m)),En=(0,y.R)(b,"mouseup").pipe((0,De.M)(jt),(0,ee.h)(([gn,Dn])=>Dn),(0,se.g)(0),(0,q.R)(m));(0,C.S)([Nt.pipe((0,be.U)(gn=>0)),En.pipe((0,be.U)(gn=>1))]).subscribe(gn=>n.run(()=>o(gn)))}))}const Bo=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Za(n){const b=Array.from(n.querySelectorAll(Bo)).filter(t=>-1!==t.tabIndex);return[b[0],b[b.length-1]]}let Ba=(()=>{class n{constructor(){this._element=(0,e.f3M)(Gt.K0).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const fa=/\s+/,g=/  +/gi,D={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},M=/^left/,z=/^right/,ne=/^start/,He=/^end/;function vt({placement:n,baseClass:b},t){let o=Array.isArray(n)?n:n.split(fa),G=o.findIndex(Nt=>"auto"===Nt);G>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(Nt){null==o.find(jt=>-1!==jt.search("^"+Nt))&&o.splice(G++,1,Nt)});const re=o.map(Nt=>function _(n,b){const[t,o]=D[n];return b&&o||t}(Nt,t.isRTL()));return{placement:re.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!b,phase:"write",fn({state:Nt}){const jt=new RegExp(b+"(-[a-z]+)*","gi"),En=Nt.elements.popper,gn=Nt.placement;let Dn=En.className;Dn=Dn.replace(jt,""),Dn+=` ${function At(n,b){let[t,o]=b.split("-");const m=t.replace(M,"start").replace(z,"end");let G=[m];if(o){let re=o;("left"===t||"right"===t)&&(re=re.replace(ne,"top").replace(He,"bottom")),G.push(`${m}-${re}`)}return n&&(G=G.map(re=>`${n}-${re}`)),G.join(" ")}(b,gn)}`,Dn=Dn.trim().replace(g," "),En.className=Dn}},Dr,zr,ve,{enabled:!0,name:"flip",options:{fallbackPlacements:re}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function yn(n){return n}function Jn(){const n=(0,e.f3M)(Ba);let b=null;return{createPopper(t){if(!b){let m=(t.updatePopperOptions||yn)(vt(t,n));b=ze(t.hostElement,t.targetElement,m)}},update(){b&&b.update()},setOptions(t){if(b){let m=(t.updatePopperOptions||yn)(vt(t,n));b.setOptions(m)}},destroy(){b&&(b.destroy(),b=null)}}}function Qs(n){return b=>(b.modifiers.push(yt,{name:"offset",options:{offset:()=>n}}),b)}new Date(1882,10,12),new Date(2174,10,25);let Ue=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),Ze=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t,this.container=null}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rt=(()=>{class n{constructor(){this._disabled=!1,this.nativeElement=(0,e.f3M)(e.SBq).nativeElement,this.tabindex=0}set disabled(t){this._disabled=""===t||!0===t}get disabled(){return this._disabled}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(o,m){2&o&&(e.Ikx("tabIndex",m.disabled?-1:m.tabindex),e.ekj("disabled",m.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}return n})(),Ft=(()=>{class n{constructor(){this.dropdown=(0,e.f3M)(Wn),this.nativeElement=(0,e.f3M)(e.SBq).nativeElement}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(o,m,G){if(1&o&&e.Suo(G,rt,4),2&o){let re;e.iGM(re=e.CRH())&&(m.menuItems=re)}},hostVars:4,hostBindings:function(o,m){1&o&&e.NdJ("keydown.ArrowUp",function(re){return m.dropdown.onKeyDown(re)})("keydown.ArrowDown",function(re){return m.dropdown.onKeyDown(re)})("keydown.Home",function(re){return m.dropdown.onKeyDown(re)})("keydown.End",function(re){return m.dropdown.onKeyDown(re)})("keydown.Enter",function(re){return m.dropdown.onKeyDown(re)})("keydown.Space",function(re){return m.dropdown.onKeyDown(re)})("keydown.Tab",function(re){return m.dropdown.onKeyDown(re)})("keydown.Shift.Tab",function(re){return m.dropdown.onKeyDown(re)}),2&o&&e.ekj("dropdown-menu",!0)("show",m.dropdown.isOpen())},standalone:!0})}return n})(),xt=(()=>{class n{constructor(){this.dropdown=(0,e.f3M)(Wn),this.nativeElement=(0,e.f3M)(e.SBq).nativeElement}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(o,m){2&o&&(e.uIk("aria-expanded",m.dropdown.isOpen()),e.ekj("show",m.dropdown.isOpen()))},standalone:!0})}return n})(),Xt=(()=>{class n extends xt{static#e=this.\u0275fac=(()=>{let t;return function(m){return(t||(t=e.n5z(n)))(m||n)}})();static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(o,m){1&o&&e.NdJ("click",function(){return m.dropdown.toggle()})("keydown.ArrowUp",function(re){return m.dropdown.onKeyDown(re)})("keydown.ArrowDown",function(re){return m.dropdown.onKeyDown(re)})("keydown.Home",function(re){return m.dropdown.onKeyDown(re)})("keydown.End",function(re){return m.dropdown.onKeyDown(re)})("keydown.Tab",function(re){return m.dropdown.onKeyDown(re)})("keydown.Shift.Tab",function(re){return m.dropdown.onKeyDown(re)}),2&o&&(e.uIk("aria-expanded",m.dropdown.isOpen()),e.ekj("show",m.dropdown.isOpen()))},standalone:!0,features:[e._Bn([{provide:xt,useExisting:(0,e.Gpc)(()=>n)}]),e.qOj]})}return n})(),Wn=(()=>{class n{constructor(){this._changeDetector=(0,e.f3M)(e.sBO),this._config=(0,e.f3M)(Ze),this._document=(0,e.f3M)(Gt.K0),this._ngZone=(0,e.f3M)(e.R0b),this._nativeElement=(0,e.f3M)(e.SBq).nativeElement,this._destroyCloseHandlers$=new h.x,this._bodyContainer=null,this._positioning=Jn(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new e.vpe}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe((0,ue.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),t.dropdownClass){const{currentValue:o,previousValue:m}=t.dropdownClass;this._applyCustomDropdownClass(o,m)}t.autoClose&&this._open&&(this.autoClose=t.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:t=>this.popperOptions(Qs([0,2])(t))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),Lo(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(t){const o=t.which,m=this._getMenuElements();let G=-1,re=null;const nt=this._isEventFromToggle(t);if(!nt&&m.length&&m.forEach((pt,Nt)=>{pt.contains(t.target)&&(re=pt),pt===la(this._document)&&(G=Nt)}),o!==Xn.Space&&o!==Xn.Enter){if(o!==Xn.Tab){if(nt||re){if(this.open(),m.length){switch(o){case Xn.ArrowDown:G=Math.min(G+1,m.length-1);break;case Xn.ArrowUp:if(this._isDropup()&&-1===G){G=m.length-1;break}G=Math.max(G-1,0);break;case Xn.Home:G=0;break;case Xn.End:G=m.length-1}m[G].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const pt=this._menu.nativeElement.querySelectorAll(Bo);t.shiftKey&&t.target===pt[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===pt[pt.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,y.R)(t.target,"focusout").pipe((0,ue.q)(1)).subscribe(({relatedTarget:pt})=>{this._nativeElement.contains(pt)||this.close()})}}else re&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,y.R)(re,"click").pipe((0,ue.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:t})=>!t).map(({nativeElement:t})=>t):[]}_positionMenu(){const t=this._menu;this.isOpen()&&t&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const o=this._menu.nativeElement,m=this._bodyContainer=this._bodyContainer||this._document.createElement("div");m.style.position="absolute",o.style.position="static",m.style.zIndex="1055",m.appendChild(o),this._document.body.appendChild(m)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,o){const m="body"===this.container?this._bodyContainer:this._nativeElement;m&&(o&&m.classList.remove(o),t&&m.classList.add(t))}_applyPlacementClasses(t){if(this._menu){t||(t=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const o=-1!==t.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(o),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(o))}}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(o,m,G){if(1&o&&(e.Suo(G,Ft,5),e.Suo(G,xt,5)),2&o){let re;e.iGM(re=e.CRH())&&(m._menu=re.first),e.iGM(re=e.CRH())&&(m._anchor=re.first)}},hostVars:2,hostBindings:function(o,m){2&o&&e.ekj("show",m.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[e.lbL.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[e.TTD]})}return n})(),nn=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),en=(()=>{class n{constructor(){this._ngbConfig=(0,e.f3M)(is),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class In{constructor(b,t,o){this.nodes=b,this.viewRef=t,this.componentRef=o}}class Lt{constructor(b){this._componentType=b,this._windowRef=null,this._contentRef=null,this._document=(0,e.f3M)(Gt.K0),this._applicationRef=(0,e.f3M)(e.z2F),this._injector=(0,e.f3M)(e.zs3),this._viewContainerRef=(0,e.f3M)(e.s_b),this._ngZone=(0,e.f3M)(e.R0b)}open(b,t,o=!1){this._windowRef||(this._contentRef=this._getContentRef(b,t),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:m}=this._windowRef.location,G=this._ngZone.onStable.pipe((0,ue.q)(1),(0,Ae.z)(()=>Lr(this._ngZone,m,({classList:re})=>re.add("show"),{animation:o,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:G}}close(b=!1){return this._windowRef?Lr(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:b,runningTransition:"stop"}).pipe((0,Fe.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,x.of)(void 0)}_getContentRef(b,t){if(b){if(b instanceof e.Rgc){const o=b.createEmbeddedView(t);return this._applicationRef.attachView(o),new In([o.rootNodes],o)}return new In([[this._document.createTextNode(`${b}`)]])}return new In([])}}let rn=(()=>{class n{constructor(){this._document=(0,e.f3M)(Gt.K0)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,m=o.style,{overflow:G,paddingRight:re}=m;if(t>0){const nt=parseFloat(window.getComputedStyle(o).paddingRight);m.paddingRight=`${nt+t}px`}return m.overflow="hidden",()=>{t>0&&(m.paddingRight=re),m.overflow=G}}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tn=(()=>{class n{constructor(){this._nativeElement=(0,e.f3M)(e.SBq).nativeElement,this._zone=(0,e.f3M)(e.R0b)}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ue.q)(1)).subscribe(()=>{Lr(this._zone,this._nativeElement,(t,o)=>{o&&Is(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Lr(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(o,m){2&o&&(e.Tol("modal-backdrop"+(m.backdropClass?" "+m.backdropClass:"")),e.ekj("show",!m.animation)("fade",m.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(o,m){},encapsulation:2})}return n})();class On{update(b){}close(b){}dismiss(b){}}const ni=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],mi=["animation","backdropClass"];class Ai{_applyWindowOptions(b,t){ni.forEach(o=>{ss(t[o])&&(b[o]=t[o])})}_applyBackdropOptions(b,t){mi.forEach(o=>{ss(t[o])&&(b[o]=t[o])})}update(b){this._applyWindowOptions(this._windowCmptRef.instance,b),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,b)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,q.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,q.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(b,t,o,m){this._windowCmptRef=b,this._contentRef=t,this._backdropCmptRef=o,this._beforeDismiss=m,this._closed=new h.x,this._dismissed=new h.x,this._hidden=new h.x,b.instance.dismissEvent.subscribe(G=>{this.dismiss(G)}),this.result=new Promise((G,re)=>{this._resolve=G,this._reject=re}),this.result.then(null,()=>{})}close(b){this._windowCmptRef&&(this._closed.next(b),this._resolve(b),this._removeModalElements())}_dismiss(b){this._dismissed.next(b),this._reject(b),this._removeModalElements()}dismiss(b){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Oo(n){return n&&n.then}(t)?!1!==t&&this._dismiss(b):t.then(o=>{!1!==o&&this._dismiss(b)},()=>{})}else this._dismiss(b)}_removeModalElements(){const b=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,x.of)(void 0);b.subscribe(()=>{const{nativeElement:o}=this._windowCmptRef.location;o.parentNode.removeChild(o),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:o}=this._backdropCmptRef.location;o.parentNode.removeChild(o),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,V.$)(b,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ai=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(ai||{});let _n=(()=>{class n{constructor(){this._document=(0,e.f3M)(Gt.K0),this._elRef=(0,e.f3M)(e.SBq),this._zone=(0,e.f3M)(e.R0b),this._closed$=new h.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new h.x,this.hidden=new h.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":ps(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ue.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,o={animation:this.animation,runningTransition:"stop"},m=Lr(this._zone,t,()=>t.classList.remove("show"),o),G=Lr(this._zone,this._dialogEl.nativeElement,()=>{},o),re=(0,V.$)(m,G);return re.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),re}_show(){const t={animation:this.animation,runningTransition:"continue"},o=Lr(this._zone,this._elRef.nativeElement,(G,re)=>{re&&Is(G),G.classList.add("show")},t),m=Lr(this._zone,this._dialogEl.nativeElement,()=>{},t);(0,V.$)(o,m).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{(0,y.R)(t,"keydown").pipe((0,q.R)(this._closed$),(0,ee.h)(m=>m.which===Xn.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(ai.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let o=!1;(0,y.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,q.R)(this._closed$),(0,Fe.b)(()=>o=!1),(0,Me.w)(()=>(0,y.R)(t,"mouseup").pipe((0,q.R)(this._closed$),(0,ue.q)(1))),(0,ee.h)(({target:m})=>t===m)).subscribe(()=>{o=!0}),(0,y.R)(t,"click").pipe((0,q.R)(this._closed$)).subscribe(({target:m})=>{t===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!o&&this._zone.run(()=>this.dismiss(ai.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const o=t.querySelector("[ngbAutofocus]"),m=Za(t)[0];(o||m||t).focus()}}_restoreFocus(){const t=this._document.body,o=this._elWithFocus;let m;m=o&&o.focus&&t.contains(o)?o:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Lr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(o,m){if(1&o&&e.Gf(ys,7),2&o){let G;e.iGM(G=e.CRH())&&(m._dialogEl=G.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(o,m){2&o&&(e.uIk("aria-modal",!0)("aria-labelledby",m.ariaLabelledBy)("aria-describedby",m.ariaDescribedBy),e.Tol("modal d-block"+(m.windowClass?" "+m.windowClass:"")),e.ekj("fade",m.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.jDz],ngContentSelectors:Mn,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(o,m){1&o&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&o&&e.Tol("modal-dialog"+(m.size?" modal-"+m.size:"")+(m.centered?" modal-dialog-centered":"")+m.fullscreenClass+(m.scrollable?" modal-dialog-scrollable":"")+(m.modalDialogClass?" "+m.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),Ui=(()=>{class n{constructor(){this._applicationRef=(0,e.f3M)(e.z2F),this._injector=(0,e.f3M)(e.zs3),this._environmentInjector=(0,e.f3M)(e.lqb),this._document=(0,e.f3M)(Gt.K0),this._scrollBar=(0,e.f3M)(rn),this._activeWindowCmptHasChanged=new h.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.vpe;const t=(0,e.f3M)(e.R0b);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const o=this._windowCmpts[this._windowCmpts.length-1];((n,b,t,o=!1)=>{n.runOutsideAngular(()=>{const m=(0,y.R)(b,"focusin").pipe((0,q.R)(t),(0,be.U)(G=>G.target));(0,y.R)(b,"keydown").pipe((0,q.R)(t),(0,ee.h)(G=>G.which===Xn.Tab),(0,De.M)(m)).subscribe(([G,re])=>{const[nt,pt]=Za(b);(re===nt||re===b)&&G.shiftKey&&(pt.focus(),G.preventDefault()),re===pt&&!G.shiftKey&&(nt.focus(),G.preventDefault())}),o&&(0,y.R)(b,"click").pipe((0,q.R)(t),(0,De.M)(m),(0,be.U)(G=>G[1])).subscribe(G=>G.focus())})})(t,o.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(o.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,o,m){const G=m.container instanceof HTMLElement?m.container:ss(m.container)?this._document.querySelector(m.container):this._document.body;if(!G)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const re=new On,nt=(t=m.injector||t).get(e.lqb,null)||this._environmentInjector,pt=this._getContentRef(t,nt,o,re,m);let Nt=!1!==m.backdrop?this._attachBackdrop(G):void 0,jt=this._attachWindowComponent(G,pt.nodes),En=new Ai(jt,pt,Nt,m.beforeDismiss);return this._registerModalRef(En),this._registerWindowCmpt(jt),En.hidden.pipe((0,ue.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),re.close=gn=>{En.close(gn)},re.dismiss=gn=>{En.dismiss(gn)},re.update=gn=>{En.update(gn)},En.update(m),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),Nt&&Nt.instance&&Nt.changeDetectorRef.detectChanges(),jt.changeDetectorRef.detectChanges(),En}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(o=>o.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let o=(0,e.LMc)(tn,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(o.hostView),t.appendChild(o.location.nativeElement),o}_attachWindowComponent(t,o){let m=(0,e.LMc)(_n,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:o});return this._applicationRef.attachView(m.hostView),t.appendChild(m.location.nativeElement),m}_getContentRef(t,o,m,G,re){return m?m instanceof e.Rgc?this._createFromTemplateRef(m,G):ps(m)?this._createFromString(m):this._createFromComponent(t,o,m,G,re):new In([])}_createFromTemplateRef(t,o){const G=t.createEmbeddedView({$implicit:o,close(re){o.close(re)},dismiss(re){o.dismiss(re)}});return this._applicationRef.attachView(G),new In([G.rootNodes],G)}_createFromString(t){const o=this._document.createTextNode(`${t}`);return new In([[o]])}_createFromComponent(t,o,m,G,re){const nt=e.zs3.create({providers:[{provide:On,useValue:G}],parent:t}),pt=(0,e.LMc)(m,{environmentInjector:o,elementInjector:nt}),Nt=pt.location.nativeElement;return re.scrollable&&Nt.classList.add("component-host-scrollable"),this._applicationRef.attachView(pt.hostView),new In([[Nt]],pt.hostView,pt)}_setAriaHidden(t){const o=t.parentElement;o&&t!==this._document.body&&(Array.from(o.children).forEach(m=>{m!==t&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,o)=>{t?o.setAttribute("aria-hidden",t):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const o=()=>{const m=this._modalRefs.indexOf(t);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(o,o)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const o=this._windowCmpts.indexOf(t);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fi=(()=>{class n{constructor(){this._injector=(0,e.f3M)(e.zs3),this._modalStack=(0,e.f3M)(Ui),this._config=(0,e.f3M)(en)}open(t,o={}){const m={...this._config,animation:this._config.animation,...o};return this._modalStack.open(this._injector,t,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mt=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({providers:[fi]})}return n})(),Pa=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),Fl=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pl=(()=>{class n{constructor(){this.templateRef=(0,e.f3M)(e.Rgc)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0})}return n})(),oa=(()=>{class n{constructor(){this.templateRef=(0,e.f3M)(e.Rgc)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0})}return n})(),gl=(()=>{class n{constructor(){this.templateRef=(0,e.f3M)(e.Rgc)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0})}return n})(),Nl=(()=>{class n{constructor(){this.templateRef=(0,e.f3M)(e.Rgc)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0})}return n})(),kl=(()=>{class n{constructor(){this.templateRef=(0,e.f3M)(e.Rgc)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0})}return n})(),li=(()=>{class n{constructor(){this.templateRef=(0,e.f3M)(e.Rgc)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0})}return n})(),Br=(()=>{class n{constructor(){this.templateRef=(0,e.f3M)(e.Rgc)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0})}return n})(),xa=(()=>{class n{constructor(){this._config=(0,e.f3M)(Fl),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new e.vpe(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,o){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),o<this.pageCount&&(o<this.pageCount-2?this.pages.push(-1):o===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,o=this.pageCount,m=Math.floor(this.maxSize/2);return this.page<=m?o=this.maxSize:this.pageCount-this.page<m?t=this.pageCount-this.maxSize:(t=this.page-m-1,o=this.page+(this.maxSize%2==0?m-1:m)),[t,o]}_applyPagination(){let o=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[o,o+this.maxSize]}_setPageInRange(t){const o=this.page;this.page=zs(t,this.pageCount,1),this.page!==o&&Fi(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Fi(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let o=1;o<=this.pageCount;o++)this.pages.push(o);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let o=0,m=this.pageCount;[o,m]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(o,m),this._applyEllipses(o,m)}}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(o,m,G){if(1&o&&(e.Suo(G,pl,5),e.Suo(G,oa,5),e.Suo(G,gl,5),e.Suo(G,Nl,5),e.Suo(G,kl,5),e.Suo(G,li,5),e.Suo(G,Br,5)),2&o){let re;e.iGM(re=e.CRH())&&(m.tplEllipsis=re.first),e.iGM(re=e.CRH())&&(m.tplFirst=re.first),e.iGM(re=e.CRH())&&(m.tplLast=re.first),e.iGM(re=e.CRH())&&(m.tplNext=re.first),e.iGM(re=e.CRH())&&(m.tplNumber=re.first),e.iGM(re=e.CRH())&&(m.tplPrevious=re.first),e.iGM(re=e.CRH())&&(m.tplPages=re.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[e.TTD,e.jDz],decls:20,vars:12,consts:()=>{let t,o,m,G,re,nt,pt,Nt;return t=$localize`:@@ngb.pagination.first:««`,o=$localize`:@@ngb.pagination.previous:«`,m=$localize`:@@ngb.pagination.next:»`,G=$localize`:@@ngb.pagination.last:»»`,re=$localize`:@@ngb.pagination.first-aria:First`,nt=$localize`:@@ngb.pagination.previous-aria:Previous`,pt=$localize`:@@ngb.pagination.next-aria:Next`,Nt=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],t,o,m,G,[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["class","page-item",3,"active","disabled"],["aria-label",re,"href","",1,"page-link",3,"click"],["aria-label",nt,"href","",1,"page-link",3,"click"],["aria-label",pt,"href","",1,"page-link",3,"click"],["aria-label",Nt,"href","",1,"page-link",3,"click"]]},template:function(o,m){if(1&o&&(e.YNc(0,Go,2,0,"ng-template",null,0,e.W1O)(2,Co,2,0,"ng-template",null,1,e.W1O)(4,Ko,2,0,"ng-template",null,2,e.W1O)(6,so,2,0,"ng-template",null,3,e.W1O)(8,bs,1,0,"ng-template",null,4,e.W1O)(10,Ir,1,1,"ng-template",null,5,e.W1O)(12,Pi,2,0,"ng-template",null,6,e.W1O),e.TgZ(14,"ul"),e.YNc(15,Es,3,9,"li",7)(16,ns,3,8,"li",7)(17,ds,0,0,"ng-template",8)(18,lo,3,9,"li",7)(19,fr,3,9,"li",7),e.qZA()),2&o){const G=e.MAs(13);e.xp6(14),e.Tol("pagination"+(m.size?" pagination-"+m.size:"")),e.xp6(),e.um2(15,m.boundaryLinks?15:-1),e.xp6(),e.um2(16,m.directionLinks?16:-1),e.xp6(),e.Q6J("ngTemplateOutlet",(null==m.tplPages?null:m.tplPages.templateRef)||G)("ngTemplateOutletContext",e.kEZ(8,jr,m.page,m.pages,m.disabled)),e.xp6(),e.um2(18,m.directionLinks?18:-1),e.xp6(),e.um2(19,m.boundaryLinks?19:-1)}},dependencies:[Gt.tP],encapsulation:2,changeDetection:0})}return n})(),Jl=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})();const gc={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};function Zl(n,b,t,o,m,G=0,re=0){const nt=function mc(n){const b=(n||"").trim();if(0===b.length)return[];const t=b.split(/\s+/).map(m=>m.split(":")).map(m=>gc[m[0]]||m),o=t.filter(m=>m.includes("manual"));if(o.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===o.length&&t.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return o.length?[]:t}(b);if(0===nt.length)return()=>{};const pt=new Set,Nt=[];let jt;function En(Dn,_i){n.addEventListener(Dn,_i),Nt.push(()=>n.removeEventListener(Dn,_i))}function gn(Dn,_i){clearTimeout(jt),_i>0?jt=setTimeout(Dn,_i):Dn()}for(const[Dn,_i]of nt)_i?(En(Dn,()=>{pt.add(Dn),gn(()=>pt.size>0&&o(),G)}),En(_i,()=>{pt.delete(Dn),gn(()=>0===pt.size&&m(),re)})):En(Dn,()=>t()?gn(m,re):gn(o,G));return()=>Nt.forEach(Dn=>Dn())}let _c=(()=>{class n{constructor(){this._ngbConfig=(0,e.f3M)(is),this.autoClose=!0,this.placement="auto",this.popperOptions=t=>t,this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vc=0,yc=(()=>{class n{isTitleTemplate(){return this.title instanceof e.Rgc}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(o,m){2&o&&(e.Ikx("id",m.id),e.Tol("popover"+(m.popoverClass?" "+m.popoverClass:"")),e.ekj("fade",m.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context"},standalone:!0,features:[e.jDz],ngContentSelectors:Mn,decls:4,vars:1,consts:[["data-popper-arrow","",1,"popover-arrow"],["class","popover-header"],[1,"popover-body"],[1,"popover-header"],["simpleTitle",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,m){1&o&&(e.F$t(),e._UZ(0,"div",0),e.YNc(1,H,4,2,"h3",1),e.TgZ(2,"div",2),e.Hsn(3),e.qZA()),2&o&&(e.xp6(),e.um2(1,m.title?1:-1))},dependencies:[Gt.tP],encapsulation:2,changeDetection:0})}return n})(),bc=(()=>{class n{constructor(){this._config=(0,e.f3M)(_c),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disablePopover=this._config.disablePopover,this.popoverClass=this._config.popoverClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new e.vpe,this.hidden=new e.vpe,this._nativeElement=(0,e.f3M)(e.SBq).nativeElement,this._ngZone=(0,e.f3M)(e.R0b),this._document=(0,e.f3M)(Gt.K0),this._changeDetector=(0,e.f3M)(e.sBO),this._ngbPopoverWindowId="ngb-popover-"+vc++,this._popupService=new Lt(yc),this._windowRef=null,this._positioning=Jn()}open(t){if(!this._windowRef&&!this._isDisabled()){const{windowRef:o,transition$:m}=this._popupService.open(this.ngbPopover,t??this.popoverContext,this.animation);this._windowRef=o,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("title",this.popoverTitle),this._windowRef.setInput("context",t??this.popoverContext),this._windowRef.setInput("popoverClass",this.popoverClass),this._windowRef.setInput("id",this._ngbPopoverWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-popover",updatePopperOptions:G=>this.popperOptions(Qs([0,8])(G))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),Lo(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),m.subscribe(()=>this.shown.emit())}}close(t=this.animation){this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=Zl(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:t,popoverTitle:o,disablePopover:m,popoverClass:G}){G&&this.isOpen()&&this._windowRef.setInput("popoverClass",G.currentValue),(t||o||m)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_isDisabled(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}_getPositionTargetElement(){return(ps(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",popoverContext:"popoverContext",openDelay:"openDelay",closeDelay:"closeDelay"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],standalone:!0,features:[e.TTD]})}return n})(),ql=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),Ql=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),Ec=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wc=(()=>{class n{constructor(){this.contexts=[],this._config=(0,e.f3M)(Ec),this._changeDetectorRef=(0,e.f3M)(e.sBO),this.disabled=!1,this.max=this._config.max,this.readonly=this._config.readonly,this.resettable=this._config.resettable,this.tabindex=this._config.tabindex,this.hover=new e.vpe,this.leave=new e.vpe,this.rateChange=new e.vpe(!0),this.onChange=t=>{},this.onTouched=()=>{}}ariaValueText(t,o){return`${t} out of ${o}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case Xn.ArrowDown:case Xn.ArrowLeft:this.update(this.rate-1);break;case Xn.ArrowUp:case Xn.ArrowRight:this.update(this.rate+1);break;case Xn.Home:this.update(0);break;case Xn.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,o=!0){const m=zs(t,this.max,0);this.isInteractive()&&this.rate!==m&&(this.rate=m,this.rateChange.emit(this.rate)),o&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((o,m)=>o.fill=Math.round(100*zs(t-m,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,o)=>({fill:0,index:o}))}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(o,m,G){if(1&o&&e.Suo(G,e.Rgc,5),2&o){let re;e.iGM(re=e.CRH())&&(m.starTemplateFromContent=re.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:6,hostBindings:function(o,m){1&o&&e.NdJ("blur",function(){return m.handleBlur()})("keydown",function(re){return m.handleKeyDown(re)})("mouseleave",function(){return m.reset()}),2&o&&(e.Ikx("tabindex",m.disabled?-1:m.tabindex),e.uIk("aria-valuemax",m.max)("aria-valuenow",m.nextRate)("aria-valuetext",m.ariaValueText(m.nextRate,m.max))("aria-readonly",!(!m.readonly||m.disabled)||null)("aria-disabled",!!m.disabled||null))},inputs:{disabled:"disabled",max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[e._Bn([{provide:Pt.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}]),e.TTD,e.jDz],decls:4,vars:0,consts:[["t",""],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,m){1&o&&(e.YNc(0,P,1,1,"ng-template",null,0,e.W1O),e.SjG(2,We,4,5,null,null,e.x6l)),2&o&&(e.xp6(2),e.wJu(m.contexts))},dependencies:[Gt.tP],encapsulation:2,changeDetection:0})}return n})(),Xl=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),ec=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),tc=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),Dc=(()=>{class n{constructor(){this._ngbConfig=(0,e.f3M)(is),this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ac=(n,b)=>{const{classList:t}=n;if(b)return t.add("fade"),Is(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},Mc=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let Oc=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0})}return n})(),Pc=(()=>{class n{constructor(t){this.ariaLive=t,this._config=(0,e.f3M)(Dc),this._zone=(0,e.f3M)(e.R0b),this._element=(0,e.f3M)(e.SBq),this.animation=this._config.animation,this.delay=this._config.delay,this.autohide=this._config.autohide,this.contentHeaderTpl=null,this.shown=new e.vpe,this.hidden=new e.vpe,this.ariaLive??=this._config.ariaLive}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,ue.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Lr(this._zone,this._element.nativeElement,Mc,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Lr(this._zone,this._element.nativeElement,Ac,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static#e=this.\u0275fac=function(o){return new(o||n)(e.$8M("aria-live"))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(o,m,G){if(1&o&&e.Suo(G,Oc,7,e.Rgc),2&o){let re;e.iGM(re=e.CRH())&&(m.contentHeaderTpl=re.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(o,m){2&o&&(e.uIk("aria-live",m.ariaLive),e.ekj("fade",m.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[e.TTD,e.jDz],ngContentSelectors:Mn,decls:5,vars:1,consts:()=>{let t;return t=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],["class","toast-header"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",t,1,"btn-close",3,"click"]]},template:function(o,m){1&o&&(e.F$t(),e.YNc(0,Vs,2,1,"ng-template",null,0,e.W1O)(2,xs,3,1,"div",1),e.TgZ(3,"div",2),e.Hsn(4),e.qZA()),2&o&&(e.xp6(2),e.um2(2,m.contentHeaderTpl||m.header?2:-1))},dependencies:[Gt.tP],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2})}return n})(),nc=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),xc=(()=>{class n{constructor(){this._ngbConfig=(0,e.f3M)(is),this.autoClose=!0,this.placement="auto",this.popperOptions=t=>t,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rc=0,Ic=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(o,m){2&o&&(e.Ikx("id",m.id),e.Tol("tooltip"+(m.tooltipClass?" "+m.tooltipClass:"")),e.ekj("fade",m.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[e.jDz],ngContentSelectors:Mn,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(o,m){1&o&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}return n})(),Fc=(()=>{class n{constructor(){this._config=(0,e.f3M)(xc),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disableTooltip=this._config.disableTooltip,this.tooltipClass=this._config.tooltipClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new e.vpe,this.hidden=new e.vpe,this._nativeElement=(0,e.f3M)(e.SBq).nativeElement,this._ngZone=(0,e.f3M)(e.R0b),this._document=(0,e.f3M)(Gt.K0),this._changeDetector=(0,e.f3M)(e.sBO),this._ngbTooltipWindowId="ngb-tooltip-"+Rc++,this._popupService=new Lt(Ic),this._windowRef=null,this._positioning=Jn()}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:o,transition$:m}=this._popupService.open(this._ngbTooltip,t??this.tooltipContext,this.animation);this._windowRef=o,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:G=>this.popperOptions(Qs([0,6])(G))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),Lo(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._nativeElement]),m.subscribe(()=>this.shown.emit())}}close(t=this.animation){null!=this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=Zl(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&this._windowRef.setInput("tooltipClass",t.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(ps(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[e.TTD]})}return n})(),ic=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})();new e.OlP("live announcer delay",{providedIn:"root",factory:()=>100});let rc=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),sc=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})();const kc=[Ne,ye,Qo,Js,Ue,nn,mt,Pa,sc,Jl,ql,Ql,Xl,ec,tc,nc,ic,rc];let Lc=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[kc,Ne,ye,Qo,Js,Ue,nn,mt,Pa,sc,Jl,ql,Ql,Xl,ec,tc,nc,ic,rc]})}return n})()},7632:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9212),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4221),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6232),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5592),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2096),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3019),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2381),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(7328),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3020),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2181),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7398),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6328),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5178),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3620),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6306),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8180),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9773),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4664),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(836),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3093),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2460),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6699),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1993);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(le,l){if(this.action=le,this.timestamp=l,this.type=PERFORM_ACTION,typeof le.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(le){this.timestamp=le,this.type=RESET}}class Rollback{constructor(le){this.timestamp=le,this.type=ROLLBACK}}class Commit{constructor(le){this.timestamp=le,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(le){this.id=le,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(le,l,e=!0){this.start=le,this.end=l,this.active=e,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(le){this.index=le,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(le){this.actionId=le,this.type=JUMP_TO_ACTION}}class ImportState{constructor(le){this.nextLiftedState=le,this.type=IMPORT_STATE}}class LockChanges{constructor(le){this.status=le,this.type=LOCK_CHANGES}}class PauseRecording{constructor(le){this.status=le,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Je){const le={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},l="function"==typeof Je?Je():Je,S=l.features||!!l.logOnly&&{pause:!0,export:!0,test:!0}||le.features;!0===S.import&&(S.import="custom");const u=Object.assign({},le,{features:S},l);if(u.maxAge&&u.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${u.maxAge}`);return u}function difference(Je,le){return Je.filter(l=>le.indexOf(l)<0)}function unliftState(Je){const{computedStates:le,currentStateIndex:l}=Je;if(l>=le.length){const{state:S}=le[le.length-1];return S}const{state:e}=le[l];return e}function unliftAction(Je){return Je.actionsById[Je.nextActionId-1]}function liftAction(Je){return new PerformAction(Je,+Date.now())}function sanitizeActions(Je,le){return Object.keys(le).reduce((l,e)=>{const S=Number(e);return l[S]=sanitizeAction(Je,le[S],S),l},{})}function sanitizeAction(Je,le,l){return{...le,action:Je(le.action,l)}}function sanitizeStates(Je,le){return le.map((l,e)=>({state:sanitizeState(Je,l.state,e),error:l.error}))}function sanitizeState(Je,le,l){return Je(le,l)}function shouldFilterActions(Je){return Je.predicate||Je.actionsSafelist||Je.actionsBlocklist}function filterLiftedState(Je,le,l,e){const S=[],u={},N=[];return Je.stagedActionIds.forEach((x,h)=>{const y=Je.actionsById[x];y&&(h&&isActionFiltered(Je.computedStates[h],y,le,l,e)||(u[x]=y,S.push(x),N.push(Je.computedStates[h])))}),{...Je,stagedActionIds:S,actionsById:u,computedStates:N}}function isActionFiltered(Je,le,l,e,S){const u=l&&!l(Je,le.action),N=e&&!le.action.type.match(e.map(h=>escapeRegExp(h)).join("|")),x=S&&le.action.type.match(S.map(h=>escapeRegExp(h)).join("|"));return u||N||x}function escapeRegExp(Je){return Je.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function injectZoneConfig(Je){return{ngZone:Je?(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.f3M)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.R0b):null,connectInZone:Je}}let DevtoolsDispatcher=(()=>{class Je extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{static#e=this.\u0275fac=(()=>{let l;return function(S){return(l||(l=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Je)))(S||Je)}})();static#t=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Je,factory:Je.\u0275fac})}return Je})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Je,le,l){this.config=le,this.dispatcher=l,this.zoneConfig=injectZoneConfig(this.config.connectInZone),this.devtoolsExtension=Je,this.createActionStreams()}notify(Je,le){if(this.devtoolsExtension)if(Je.type===PERFORM_ACTION){if(le.isLocked||le.isPaused)return;const l=unliftState(le);if(shouldFilterActions(this.config)&&isActionFiltered(l,Je,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const e=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,l,le.currentStateIndex):l,S=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Je,le.nextActionId):Je;this.sendToReduxDevtools(()=>this.extensionConnection.send(S,e))}else{const l={...le,stagedActionIds:le.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,le.actionsById):le.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,le.computedStates):le.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,l,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Je=>{const le=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=le,le.init(),le.subscribe(l=>Je.next(l)),le.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Je=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),le=Je.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(x=>x.type===ExtensionActionTypes.START)),l=Je.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(x=>x.type===ExtensionActionTypes.STOP)),e=Je.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(x=>x.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(x=>this.unwrapAction(x.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(x=>x.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(h=>h.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>x),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(x)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(x))),u=Je.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(x=>x.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(x=>this.unwrapAction(x.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(l)),N=e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(l));this.start$=le.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(l)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>u)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>N))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Je){const le={name:Je.name,features:Je.features,serialize:Je.serialize,autoPause:Je.autoPause??!1,trace:Je.trace??!1,traceLimit:Je.traceLimit??75};return!1!==Je.maxAge&&(le.maxAge=Je.maxAge),le}sendToReduxDevtools(Je){try{Je()}catch(le){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",le)}}static#_=this.\u0275fac=function Je(le){return new(le||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac})}return DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Je,le,l,e,S){if(e)return{state:l,error:"Interrupted by an error up the chain"};let N,u=l;try{u=Je(l,le)}catch(x){N=x.toString(),S.handleError(x)}return{state:u,error:N}}function recomputeStates(Je,le,l,e,S,u,N,x,h){if(le>=Je.length&&Je.length===u.length)return Je;const y=Je.slice(0,le),E=u.length-(h?1:0);for(let C=le;C<E;C++){const F=u[C],V=S[F].action,$=y[C-1],j=$?$.state:e,q=$?$.error:void 0,ue=N.indexOf(F)>-1?$:computeNextEntry(l,V,j,q,x);y.push(ue)}return h&&y.push(Je[Je.length-1]),y}function liftInitialState(Je,le){return{monitorState:le(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Je,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Je,le,l,e,S={}){return u=>(N,x)=>{let{monitorState:h,actionsById:y,nextActionId:E,stagedActionIds:C,skippedActionIds:F,committedState:V,currentStateIndex:$,computedStates:j,isLocked:q,isPaused:ee}=N||le;function ue(De){let se=De,Ae=C.slice(1,se+1);for(let Me=0;Me<Ae.length;Me++){if(j[Me+1].error){se=Me,Ae=C.slice(1,se+1);break}delete y[Ae[Me]]}F=F.filter(Me=>-1===Ae.indexOf(Me)),C=[0,...C.slice(se+1)],V=j[se].state,j=j.slice(se),$=$>se?$-se:0}function Fe(){y={0:liftAction(INIT_ACTION)},E=1,C=[0],F=[],V=j[$].state,$=0,j=[]}N||(y=Object.create(y));let be=0;switch(x.type){case LOCK_CHANGES:q=x.status,be=1/0;break;case PAUSE_RECORDING:ee=x.status,ee?(C=[...C,E],y[E]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),E++,be=C.length-1,j=j.concat(j[j.length-1]),$===C.length-2&&$++,be=1/0):Fe();break;case RESET:y={0:liftAction(INIT_ACTION)},E=1,C=[0],F=[],V=Je,$=0,j=[];break;case COMMIT:Fe();break;case ROLLBACK:y={0:liftAction(INIT_ACTION)},E=1,C=[0],F=[],$=0,j=[];break;case TOGGLE_ACTION:{const{id:De}=x;F=-1===F.indexOf(De)?[De,...F]:F.filter(Ae=>Ae!==De),be=C.indexOf(De);break}case SET_ACTIONS_ACTIVE:{const{start:De,end:se,active:Ae}=x,Me=[];for(let st=De;st<se;st++)Me.push(st);F=Ae?difference(F,Me):[...F,...Me],be=C.indexOf(De);break}case JUMP_TO_STATE:$=x.index,be=1/0;break;case JUMP_TO_ACTION:{const De=C.indexOf(x.actionId);-1!==De&&($=De),be=1/0;break}case SWEEP:C=difference(C,F),F=[],$=Math.min($,C.length-1);break;case PERFORM_ACTION:{if(q)return N||le;if(ee||N&&isActionFiltered(N.computedStates[$],x,S.predicate,S.actionsSafelist,S.actionsBlocklist)){const se=j[j.length-1];j=[...j.slice(0,-1),computeNextEntry(u,x.action,se.state,se.error,l)],be=1/0;break}S.maxAge&&C.length===S.maxAge&&ue(1),$===C.length-1&&$++;const De=E++;y[De]=x,C=[...C,De],be=C.length-1;break}case IMPORT_STATE:({monitorState:h,actionsById:y,nextActionId:E,stagedActionIds:C,skippedActionIds:F,committedState:V,currentStateIndex:$,computedStates:j,isLocked:q,isPaused:ee}=x.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:be=0,S.maxAge&&C.length>S.maxAge&&(j=recomputeStates(j,be,u,V,y,C,F,l,ee),ue(C.length-S.maxAge),be=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(j.filter(se=>se.error).length>0)be=0,S.maxAge&&C.length>S.maxAge&&(j=recomputeStates(j,be,u,V,y,C,F,l,ee),ue(C.length-S.maxAge),be=1/0);else{if(!ee&&!q){$===C.length-1&&$++;const se=E++;y[se]=new PerformAction(x,+Date.now()),C=[...C,se],be=C.length-1,j=recomputeStates(j,be,u,V,y,C,F,l,ee)}j=j.map(se=>({...se,state:u(se.state,RECOMPUTE_ACTION)})),$=C.length-1,S.maxAge&&C.length>S.maxAge&&ue(C.length-S.maxAge),be=1/0}break;default:be=1/0}return j=recomputeStates(j,be,u,V,y,C,F,l,ee),h=e(h,x),{monitorState:h,actionsById:y,nextActionId:E,stagedActionIds:C,skippedActionIds:F,committedState:V,currentStateIndex:$,computedStates:j,isLocked:q,isPaused:ee}}}let StoreDevtools=(()=>{class Je{constructor(l,e,S,u,N,x,h,y){const E=liftInitialState(h,y.monitor),C=liftReducerWith(h,E,x,y.monitor,y),F=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(e.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),u.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),l,u.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),V=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(C)),$=injectZoneConfig(y.connectInZone),j=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1);this.liftedStateSubscription=F.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(V),emitInZone($),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:ue},[Fe,be])=>{let De=be(ue,Fe);return Fe.type!==PERFORM_ACTION&&shouldFilterActions(y)&&(De=filterLiftedState(De,y.predicate,y.actionsSafelist,y.actionsBlocklist)),u.notify(Fe,De),{state:De,action:Fe}},{state:E,action:null})).subscribe(({state:ue,action:Fe})=>{j.next(ue),Fe.type===PERFORM_ACTION&&N.next(Fe.action)}),this.extensionStartSubscription=u.start$.pipe(emitInZone($)).subscribe(()=>{this.refresh()});const q=j.asObservable(),ee=q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));Object.defineProperty(ee,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__.O4)(ee,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=l,this.liftedState=q,this.state=ee}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(l){this.dispatcher.next(l)}next(l){this.dispatcher.next(l)}error(l){}complete(){}performAction(l){this.dispatch(new PerformAction(l,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(l){this.dispatch(new ToggleAction(l))}jumpToAction(l){this.dispatch(new JumpToAction(l))}jumpToState(l){this.dispatch(new JumpToState(l))}importState(l){this.dispatch(new ImportState(l))}lockChanges(l){this.dispatch(new LockChanges(l))}pauseRecording(l){this.dispatch(new PauseRecording(l))}static#e=this.\u0275fac=function(e){return new(e||Je)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))};static#t=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Je,factory:Je.\u0275fac})}return Je})();function emitInZone({ngZone:Je,connectInZone:le}){return l=>le?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(e=>l.subscribe({next:S=>Je.run(()=>e.next(S)),error:S=>Je.run(()=>e.error(S)),complete:()=>Je.run(()=>e.complete())})):l}const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Je,le){return!!Je||le.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Je="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[Je]<"u"?window[Je]:null}function provideStoreDevtools(Je={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:Je},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(Je){return Je.state}let StoreDevtoolsModule=(()=>{class Je{static instrument(l={}){return{ngModule:Je,providers:[provideStoreDevtools(l)]}}static#e=this.\u0275fac=function(e){return new(e||Je)};static#t=this.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Je});static#n=this.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({})}return Je})()},4221:(Je,le,l)=>{"use strict";l.d(le,{hg:()=>xe,UO:()=>Gt,qg:()=>Dt,Y6:()=>an,mK:()=>Hn,n$:()=>Pn,Y$:()=>xn,FR:()=>ri,yh:()=>qt,CK:()=>ae,Aw:()=>Re,cr:()=>ft,wb:()=>zn,PH:()=>ee,ZF:()=>tr,Lq:()=>je,P1:()=>Rn,rM:()=>ge,on:()=>ke,Ky:()=>ue,Ys:()=>Xi});var e=l(9212),S=l(5619),u=l(5592),N=l(8645),x=l(2381),h=l(3093),y=l(2460),E=l(6699),C=l(7398),V=l(3997),$=l(1993);const j={};function ee(Q,Ie){if(j[Q]=(j[Q]||0)+1,"function"==typeof Ie)return be(Q,(...Le)=>({...Ie(...Le),type:Q}));switch(Ie?Ie._as:"empty"){case"empty":return be(Q,()=>({type:Q}));case"props":return be(Q,Le=>({...Le,type:Q}));default:throw new Error("Unexpected config.")}}function ue(){return{_as:"props",_p:void 0}}function be(Q,Ie){return Object.defineProperty(Ie,"type",{value:Q,writable:!1})}const Dt="@ngrx/store/init";let Gt=(()=>{class Q extends S.X{constructor(){super({type:Dt})}next(ze){if("function"==typeof ze)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof ze>"u")throw new TypeError("Actions must be objects");if(typeof ze.type>"u")throw new TypeError("Actions must have a type property");super.next(ze)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(Le){return new(Le||Q)};static#t=this.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const Pt=[Gt],dt=new e.OlP("@ngrx/store Internal Root Guard"),sn=new e.OlP("@ngrx/store Internal Initial State"),an=new e.OlP("@ngrx/store Initial State"),un=new e.OlP("@ngrx/store Reducer Factory"),Sn=new e.OlP("@ngrx/store Internal Reducer Factory Provider"),hn=new e.OlP("@ngrx/store Initial Reducers"),cn=new e.OlP("@ngrx/store Internal Initial Reducers"),$t=new e.OlP("@ngrx/store Store Features"),Xe=new e.OlP("@ngrx/store Internal Store Reducers"),ht=new e.OlP("@ngrx/store Internal Feature Reducers"),Tt=new e.OlP("@ngrx/store Internal Feature Configs"),wt=new e.OlP("@ngrx/store Internal Store Features"),Kt=new e.OlP("@ngrx/store Internal Feature Reducers Token"),Vt=new e.OlP("@ngrx/store Feature Reducers"),dn=new e.OlP("@ngrx/store User Provided Meta Reducers"),An=new e.OlP("@ngrx/store Meta Reducers"),Te=new e.OlP("@ngrx/store Internal Resolved Meta Reducers"),U=new e.OlP("@ngrx/store User Runtime Checks Config"),K=new e.OlP("@ngrx/store Internal User Runtime Checks Config"),xe=new e.OlP("@ngrx/store Internal Runtime Checks"),Be=new e.OlP("@ngrx/store Check if Action types are unique");function Et(Q,Ie={}){const ze=Object.keys(Q),Le={};for(let yt=0;yt<ze.length;yt++){const Zt=ze[yt];"function"==typeof Q[Zt]&&(Le[Zt]=Q[Zt])}const Rt=Object.keys(Le);return function(Zt,Mn){Zt=void 0===Zt?Ie:Zt;let Ln=!1;const Vn={};for(let Kn=0;Kn<Rt.length;Kn++){const di=Rt[Kn],qn=Zt[di],bi=(0,Le[di])(qn,Mn);Vn[di]=bi,Ln=Ln||bi!==qn}return Ln?Vn:Zt}}function Ct(...Q){return function(Ie){if(0===Q.length)return Ie;const ze=Q[Q.length-1];return Q.slice(0,-1).reduceRight((Rt,yt)=>yt(Rt),ze(Ie))}}function Yt(Q,Ie){return Array.isArray(Ie)&&Ie.length>0&&(Q=Ct.apply(null,[...Ie,Q])),(ze,Le)=>{const Rt=Q(ze);return(yt,Zt)=>Rt(yt=void 0===yt?Le:yt,Zt)}}new e.OlP("@ngrx/store Root Store Provider"),new e.OlP("@ngrx/store Feature State Provider");class Pn extends u.y{}class Hn extends Gt{}const zn="@ngrx/store/update-reducers";let on=(()=>{class Q extends S.X{get currentReducers(){return this.reducers}constructor(ze,Le,Rt,yt){super(yt(Rt,Le)),this.dispatcher=ze,this.initialState=Le,this.reducers=Rt,this.reducerFactory=yt}addFeature(ze){this.addFeatures([ze])}addFeatures(ze){const Le=ze.reduce((Rt,{reducers:yt,reducerFactory:Zt,metaReducers:Mn,initialState:Ln,key:Vn})=>{const Kn="function"==typeof yt?function ln(Q){const Ie=Array.isArray(Q)&&Q.length>0?Ct(...Q):ze=>ze;return(ze,Le)=>(ze=Ie(ze),(Rt,yt)=>ze(Rt=void 0===Rt?Le:Rt,yt))}(Mn)(yt,Ln):Yt(Zt,Mn)(yt,Ln);return Rt[Vn]=Kn,Rt},{});this.addReducers(Le)}removeFeature(ze){this.removeFeatures([ze])}removeFeatures(ze){this.removeReducers(ze.map(Le=>Le.key))}addReducer(ze,Le){this.addReducers({[ze]:Le})}addReducers(ze){this.reducers={...this.reducers,...ze},this.updateReducers(Object.keys(ze))}removeReducer(ze){this.removeReducers([ze])}removeReducers(ze){ze.forEach(Le=>{this.reducers=function Qe(Q,Ie){return Object.keys(Q).filter(ze=>ze!==Ie).reduce((ze,Le)=>Object.assign(ze,{[Le]:Q[Le]}),{})}(this.reducers,Le)}),this.updateReducers(ze)}updateReducers(ze){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:zn,features:ze})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(Le){return new(Le||Q)(e.LFG(Hn),e.LFG(an),e.LFG(hn),e.LFG(un))};static#t=this.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const jn=[on,{provide:Pn,useExisting:on},{provide:Hn,useExisting:Gt}];let xn=(()=>{class Q extends N.x{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=(()=>{let ze;return function(Rt){return(ze||(ze=e.n5z(Q)))(Rt||Q)}})();static#t=this.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const vi=[xn];class ri extends u.y{}let ce=(()=>{class Q extends S.X{static#e=this.INIT=Dt;constructor(ze,Le,Rt,yt){super(yt);const Vn=ze.pipe((0,h.Q)(x.N)).pipe((0,y.M)(Le)).pipe((0,E.R)(Mi,{state:yt}));this.stateSubscription=Vn.subscribe(({state:Kn,action:di})=>{this.next(Kn),Rt.next(di)}),this.state=(0,$.O4)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(Le){return new(Le||Q)(e.LFG(Gt),e.LFG(Pn),e.LFG(xn),e.LFG(an))};static#n=this.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();function Mi(Q={state:void 0},[Ie,ze]){const{state:Le}=Q;return{state:ze(Le,Ie),action:Ie}}const Ii=[ce,{provide:ri,useExisting:ce}];let qt=(()=>{class Q extends u.y{constructor(ze,Le,Rt){super(),this.actionsObserver=Le,this.reducerManager=Rt,this.source=ze,this.state=ze.state}select(ze,...Le){return Xi.call(null,ze,...Le)(this)}selectSignal(ze,Le){return(0,e.Flj)(()=>ze(this.state()),Le)}lift(ze){const Le=new Q(this,this.actionsObserver,this.reducerManager);return Le.operator=ze,Le}dispatch(ze){this.actionsObserver.next(ze)}next(ze){this.actionsObserver.next(ze)}error(ze){this.actionsObserver.error(ze)}complete(){this.actionsObserver.complete()}addReducer(ze,Le){this.reducerManager.addReducer(ze,Le)}removeReducer(ze){this.reducerManager.removeReducer(ze)}static#e=this.\u0275fac=function(Le){return new(Le||Q)(e.LFG(ri),e.LFG(Gt),e.LFG(on))};static#t=this.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const Tr=[qt];function Xi(Q,Ie,...ze){return function(Rt){let yt;if("string"==typeof Q){const Zt=[Ie,...ze].filter(Boolean);yt=Rt.pipe(function F(...Q){const Ie=Q.length;if(0===Ie)throw new Error("list of properties cannot be empty.");return(0,C.U)(ze=>{let Le=ze;for(let Rt=0;Rt<Ie;Rt++){const yt=Le?.[Q[Rt]];if(!(typeof yt<"u"))return;Le=yt}return Le})}(Q,...Zt))}else{if("function"!=typeof Q)throw new TypeError(`Unexpected type '${typeof Q}' in select operator, expected 'string' or 'function'`);yt=Rt.pipe((0,C.U)(Zt=>Q(Zt,Ie)))}return yt.pipe((0,V.x)())}}const er="https://ngrx.io/guide/store/configuration/runtime-checks";function Ht(Q){return void 0===Q}function It(Q){return null===Q}function Y(Q){return Array.isArray(Q)}function at(Q){return"object"==typeof Q&&null!==Q}function pn(Q){return"function"==typeof Q}let Ke=!1;function ge(){return Ke}function $e(Q,Ie){return Q===Ie}function Qt(Q,Ie=$e,ze=$e){let yt,Le=null,Rt=null;return{memoized:function Vn(){if(void 0!==yt)return yt.result;if(!Le)return Rt=Q.apply(null,arguments),Le=arguments,Rt;if(!function _t(Q,Ie,ze){for(let Le=0;Le<Q.length;Le++)if(!ze(Q[Le],Ie[Le]))return!0;return!1}(arguments,Le,Ie))return Rt;const Kn=Q.apply(null,arguments);return Le=arguments,ze(Rt,Kn)?Rt:(Rt=Kn,Kn)},reset:function Zt(){Le=null,Rt=null},setResult:function Mn(Kn=void 0){yt={result:Kn}},clearResult:function Ln(){yt=void 0}}}function Rn(...Q){return function Ci(Q,Ie={stateFn:ui}){return function(...ze){let Le=ze;if(Array.isArray(Le[0])){const[Kn,...di]=Le;Le=[...Kn,...di]}else 1===Le.length&&function rr(Q){return!!Q&&"object"==typeof Q&&Object.values(Q).every(Ie=>"function"==typeof Ie)}(Le[0])&&(Le=function Zi(Q){const Ie=Object.values(Q),ze=Object.keys(Q);return[...Ie,(...Rt)=>ze.reduce((yt,Zt,Mn)=>({...yt,[Zt]:Rt[Mn]}),{})]}(Le[0]));const Rt=Le.slice(0,Le.length-1),yt=Le[Le.length-1],Zt=Rt.filter(Kn=>Kn.release&&"function"==typeof Kn.release),Mn=Q(function(...Kn){return yt.apply(null,Kn)}),Ln=Qt(function(Kn,di){return Ie.stateFn.apply(null,[Kn,Rt,di,Mn])});return Object.assign(Ln.memoized,{release:function Vn(){Ln.reset(),Mn.reset(),Zt.forEach(Kn=>Kn.release())},projector:Mn.memoized,setResult:Ln.setResult,clearResult:Ln.clearResult})}}(Qt)(...Q)}function ui(Q,Ie,ze,Le){if(void 0===ze){const yt=Ie.map(Zt=>Zt(Q));return Le.memoized.apply(null,yt)}const Rt=Ie.map(yt=>yt(Q,ze));return Le.memoized.apply(null,[...Rt,ze])}function tr(Q){return Rn(Ie=>{const ze=Ie[Q];return!ge()&&(0,e.X6Q)()&&!(Q in Ie)&&console.warn(`@ngrx/store: The feature name "${Q}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Q}', ...) or StoreModule.forFeature('${Q}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),ze},Ie=>Ie)}function sr(Q){return Q instanceof e.OlP?(0,e.f3M)(Q):Q}function Oi(Q,Ie){return Ie.map((ze,Le)=>{if(Q[Le]instanceof e.OlP){const Rt=(0,e.f3M)(Q[Le]);return{key:ze.key,reducerFactory:Rt.reducerFactory?Rt.reducerFactory:Et,metaReducers:Rt.metaReducers?Rt.metaReducers:[],initialState:Rt.initialState}}return ze})}function si(Q){return Q.map(Ie=>Ie instanceof e.OlP?(0,e.f3M)(Ie):Ie)}function nr(Q){return"function"==typeof Q?Q():Q}function Qr(Q,Ie){return Q.concat(Ie)}function zr(){if((0,e.f3M)(qt,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Wr(Q){Object.freeze(Q);const Ie=pn(Q);return Object.getOwnPropertyNames(Q).forEach(ze=>{if(!ze.startsWith("\u0275")&&function Jt(Q,Ie){return Object.prototype.hasOwnProperty.call(Q,Ie)}(Q,ze)&&(!Ie||"caller"!==ze&&"callee"!==ze&&"arguments"!==ze)){const Le=Q[ze];(at(Le)||pn(Le))&&!Object.isFrozen(Le)&&Wr(Le)}}),Q}function ve(Q,Ie=[]){return(Ht(Q)||It(Q))&&0===Ie.length?{path:["root"],value:Q}:Object.keys(Q).reduce((Le,Rt)=>{if(Le)return Le;const yt=Q[Rt];return function vn(Q){return pn(Q)&&Q.hasOwnProperty("\u0275cmp")}(yt)?Le:!(Ht(yt)||It(yt)||function ct(Q){return"number"==typeof Q}(yt)||function et(Q){return"boolean"==typeof Q}(yt)||function pe(Q){return"string"==typeof Q}(yt)||Y(yt))&&(function Ut(Q){if(!function lt(Q){return at(Q)&&!Y(Q)}(Q))return!1;const Ie=Object.getPrototypeOf(Q);return Ie===Object.prototype||null===Ie}(yt)?ve(yt,[...Ie,Rt]):{path:[...Ie,Rt],value:yt})},!1)}function Ye(Q,Ie){if(!1===Q)return;const ze=Q.path.join("."),Le=new Error(`Detected unserializable ${Ie} at "${ze}". ${er}#strict${Ie}serializability`);throw Le.value=Q.value,Le.unserializablePath=ze,Le}function St(Q){return(0,e.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Q}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function i({strictActionSerializability:Q,strictStateSerializability:Ie}){return ze=>Q||Ie?function Xr(Q,Ie){return function(ze,Le){Ie.action(Le)&&Ye(ve(Le),"action");const Rt=Q(ze,Le);return Ie.state()&&Ye(ve(Rt),"state"),Rt}}(ze,{action:Le=>Q&&!a(Le),state:()=>Ie}):ze}function r({strictActionImmutability:Q,strictStateImmutability:Ie}){return ze=>Q||Ie?function zi(Q,Ie){return function(ze,Le){const Rt=Ie.action(Le)?Wr(Le):Le,yt=Q(ze,Rt);return Ie.state()?Wr(yt):yt}}(ze,{action:Le=>Q&&!a(Le),state:()=>Ie}):ze}function a(Q){return Q.type.startsWith("@ngrx")}function f({strictActionWithinNgZone:Q}){return Ie=>Q?function Ge(Q,Ie){return function(ze,Le){if(Ie.action(Le)&&!e.R0b.isInAngularZone())throw new Error(`Action '${Le.type}' running outside NgZone. ${er}#strictactionwithinngzone`);return Q(ze,Le)}}(Ie,{action:ze=>Q&&!a(ze)}):Ie}function T(Q){return[{provide:K,useValue:Q},{provide:U,useFactory:te,deps:[K]},{provide:xe,deps:[U],useFactory:St},{provide:An,multi:!0,deps:[xe],useFactory:r},{provide:An,multi:!0,deps:[xe],useFactory:i},{provide:An,multi:!0,deps:[xe],useFactory:f}]}function k(){return[{provide:Be,multi:!0,deps:[xe],useFactory:_e}]}function te(Q){return Q}function _e(Q){if(!Q.strictActionTypeUniqueness)return;const Ie=Object.entries(j).filter(([,ze])=>ze>1).map(([ze])=>ze);if(Ie.length)throw new Error(`Action types are registered more than once, ${Ie.map(ze=>`"${ze}"`).join(", ")}. ${er}#strictactiontypeuniqueness`)}function we(Q={},Ie={}){return[{provide:dt,useFactory:zr},{provide:sn,useValue:Ie.initialState},{provide:an,useFactory:nr,deps:[sn]},{provide:cn,useValue:Q},{provide:Xe,useExisting:Q instanceof e.OlP?Q:cn},{provide:hn,deps:[cn,[new e.tBr(Xe)]],useFactory:sr},{provide:dn,useValue:Ie.metaReducers?Ie.metaReducers:[]},{provide:Te,deps:[An,dn],useFactory:Qr},{provide:Sn,useValue:Ie.reducerFactory?Ie.reducerFactory:Et},{provide:un,deps:[Sn,Te],useFactory:Yt},Pt,jn,vi,Ii,Tr,T(Ie.runtimeChecks),k()]}function ut(Q,Ie,ze={}){return[{provide:Tt,multi:!0,useValue:Q instanceof Object?{}:ze},{provide:$t,multi:!0,useValue:{key:Q instanceof Object?Q.name:Q,reducerFactory:ze instanceof e.OlP||!ze.reducerFactory?Et:ze.reducerFactory,metaReducers:ze instanceof e.OlP||!ze.metaReducers?[]:ze.metaReducers,initialState:ze instanceof e.OlP||!ze.initialState?void 0:ze.initialState}},{provide:wt,deps:[Tt,$t],useFactory:Oi},{provide:ht,multi:!0,useValue:Q instanceof Object?Q.reducer:Ie},{provide:Kt,multi:!0,useExisting:Ie instanceof e.OlP?Ie:ht},{provide:Vt,multi:!0,deps:[ht,[new e.tBr(Kt)]],useFactory:si},k()]}let ft=(()=>{class Q{constructor(ze,Le,Rt,yt,Zt,Mn){}static#e=this.\u0275fac=function(Le){return new(Le||Q)(e.LFG(Gt),e.LFG(Pn),e.LFG(xn),e.LFG(qt),e.LFG(dt,8),e.LFG(Be,8))};static#t=this.\u0275mod=e.oAB({type:Q});static#n=this.\u0275inj=e.cJS({})}return Q})(),ae=(()=>{class Q{constructor(ze,Le,Rt,yt,Zt){this.features=ze,this.featureReducers=Le,this.reducerManager=Rt;const Mn=ze.map((Ln,Vn)=>{const di=Le.shift()[Vn];return{...Ln,reducers:di,initialState:nr(Ln.initialState)}});Rt.addFeatures(Mn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(Le){return new(Le||Q)(e.LFG(wt),e.LFG(Vt),e.LFG(on),e.LFG(ft),e.LFG(Be,8))};static#t=this.\u0275mod=e.oAB({type:Q});static#n=this.\u0275inj=e.cJS({})}return Q})(),Re=(()=>{class Q{static forRoot(ze,Le){return{ngModule:ft,providers:[...we(ze,Le)]}}static forFeature(ze,Le,Rt={}){return{ngModule:ae,providers:[...ut(ze,Le,Rt)]}}static#e=this.\u0275fac=function(Le){return new(Le||Q)};static#t=this.\u0275mod=e.oAB({type:Q});static#n=this.\u0275inj=e.cJS({})}return Q})();function ke(...Q){return{reducer:Q.pop(),types:Q.map(Le=>Le.type)}}function je(Q,...Ie){const ze=new Map;for(const Le of Ie)for(const Rt of Le.types){const yt=ze.get(Rt);ze.set(Rt,yt?(Mn,Ln)=>Le.reducer(yt(Mn,Ln),Ln):Le.reducer)}return function(Le=Q,Rt){const yt=ze.get(Rt.type);return yt?yt(Le,Rt):Le}}},4751:(Je,le,l)=>{"use strict";l.d(le,{Ct:()=>jn,Hy:()=>an,mb:()=>sn,zr:()=>qt});var e=l(5861),S=l(9212),u=l(6814),N=l(9862),x=l(8645),h=l(2096),y=l(9666),E=l(3684),C=l(8504),F=l(2572),V=l(3019),$=l(2181),j=l(9397),q=l(3620),ee=l(932),ue=l(4664),Fe=l(7398),be=l(1374),De=l(6306),se=l(5178),Ae=l(8180),Me=l(9769);class st{validateSignature(It){return Promise.resolve(null)}validateAtHash(It){return Promise.resolve(!0)}}class fe{}class Gt{}let Pt=(()=>{class Ht extends Gt{now(){return Date.now()}new(){return new Date}static#e=this.\u0275fac=(()=>{let Y;return function(et){return(Y||(Y=S.n5z(Ht)))(et||Ht)}})();static#t=this.\u0275prov=S.Yz7({token:Ht,factory:Ht.\u0275fac})}return Ht})();class sn{}class an{}let un=(()=>{class Ht{constructor(){this.data=new Map}getItem(Y){return this.data.get(Y)}removeItem(Y){this.data.delete(Y)}setItem(Y,pe){this.data.set(Y,pe)}static#e=this.\u0275fac=function(pe){return new(pe||Ht)};static#t=this.\u0275prov=S.Yz7({token:Ht,factory:Ht.\u0275fac})}return Ht})();class hn{constructor(It){this.type=It}}class cn extends hn{constructor(It,Y=null){super(It),this.info=Y}}class $t extends hn{constructor(It,Y=null){super(It),this.info=Y}}class Xe extends hn{constructor(It,Y,pe=null){super(It),this.reason=Y,this.params=pe}}function ht(Ht){const It=Ht.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(It).split("").map(function(Y){return"%"+("00"+Y.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function Tt(Ht){return btoa(Ht).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class wt{constructor(It){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=Y=>{location.href=Y},It&&Object.assign(this,It)}}class Kt{encodeKey(It){return encodeURIComponent(It)}encodeValue(It){return encodeURIComponent(It)}decodeKey(It){return decodeURIComponent(It)}decodeValue(It){return decodeURIComponent(It)}}class Vt{}let An=(()=>{class Ht{getHashFragmentParams(Y){let pe=Y||window.location.hash;if(pe=decodeURIComponent(pe),0!==pe.indexOf("#"))return{};const et=pe.indexOf("?");return pe=pe.substr(et>-1?et+1:1),this.parseQueryString(pe)}parseQueryString(Y){const pe={};let et,ct,at,lt,Ut,pn;if(null===Y)return pe;const vn=Y.split("&");for(let Jt=0;Jt<vn.length;Jt++)et=vn[Jt],ct=et.indexOf("="),-1===ct?(at=et,lt=null):(at=et.substr(0,ct),lt=et.substr(ct+1)),Ut=decodeURIComponent(at),pn=decodeURIComponent(lt),"/"===Ut.substr(0,1)&&(Ut=Ut.substr(1)),pe[Ut]=pn;return pe}static#e=this.\u0275fac=function(pe){return new(pe||Ht)};static#t=this.\u0275prov=S.Yz7({token:Ht,factory:Ht.\u0275fac})}return Ht})();const K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function xe(Ht,It,Y,pe,et){let ct,at,lt,Ut,pn,vn,Jt,Ke,Bt,ge,$e,_t,kt;for(;et>=64;){for(ct=It[0],at=It[1],lt=It[2],Ut=It[3],pn=It[4],vn=It[5],Jt=It[6],Ke=It[7],ge=0;ge<16;ge++)$e=pe+4*ge,Ht[ge]=(255&Y[$e])<<24|(255&Y[$e+1])<<16|(255&Y[$e+2])<<8|255&Y[$e+3];for(ge=16;ge<64;ge++)Bt=Ht[ge-2],_t=(Bt>>>17|Bt<<15)^(Bt>>>19|Bt<<13)^Bt>>>10,Bt=Ht[ge-15],kt=(Bt>>>7|Bt<<25)^(Bt>>>18|Bt<<14)^Bt>>>3,Ht[ge]=(_t+Ht[ge-7]|0)+(kt+Ht[ge-16]|0);for(ge=0;ge<64;ge++)_t=(((pn>>>6|pn<<26)^(pn>>>11|pn<<21)^(pn>>>25|pn<<7))+(pn&vn^~pn&Jt)|0)+(Ke+(K[ge]+Ht[ge]|0)|0)|0,kt=((ct>>>2|ct<<30)^(ct>>>13|ct<<19)^(ct>>>22|ct<<10))+(ct&at^ct&lt^at&lt)|0,Ke=Jt,Jt=vn,vn=pn,pn=Ut+_t|0,Ut=lt,lt=at,at=ct,ct=_t+kt|0;It[0]+=ct,It[1]+=at,It[2]+=lt,It[3]+=Ut,It[4]+=pn,It[5]+=vn,It[6]+=Jt,It[7]+=Ke,pe+=64,et-=64}return pe}class Be{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let It=0;It<this.buffer.length;It++)this.buffer[It]=0;for(let It=0;It<this.temp.length;It++)this.temp[It]=0;this.reset()}update(It,Y=It.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let pe=0;if(this.bytesHashed+=Y,this.bufferLength>0){for(;this.bufferLength<64&&Y>0;)this.buffer[this.bufferLength++]=It[pe++],Y--;64===this.bufferLength&&(xe(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(Y>=64&&(pe=xe(this.temp,this.state,It,pe,Y),Y%=64);Y>0;)this.buffer[this.bufferLength++]=It[pe++],Y--;return this}finish(It){if(!this.finished){const Y=this.bytesHashed,pe=this.bufferLength,et=Y/536870912|0,ct=Y<<3,at=Y%64<56?64:128;this.buffer[pe]=128;for(let lt=pe+1;lt<at-8;lt++)this.buffer[lt]=0;this.buffer[at-8]=et>>>24&255,this.buffer[at-7]=et>>>16&255,this.buffer[at-6]=et>>>8&255,this.buffer[at-5]=et>>>0&255,this.buffer[at-4]=ct>>>24&255,this.buffer[at-3]=ct>>>16&255,this.buffer[at-2]=ct>>>8&255,this.buffer[at-1]=ct>>>0&255,xe(this.temp,this.state,this.buffer,0,at),this.finished=!0}for(let Y=0;Y<8;Y++)It[4*Y+0]=this.state[Y]>>>24&255,It[4*Y+1]=this.state[Y]>>>16&255,It[4*Y+2]=this.state[Y]>>>8&255,It[4*Y+3]=this.state[Y]>>>0&255;return this}digest(){const It=new Uint8Array(this.digestLength);return this.finish(It),It}_saveState(It){for(let Y=0;Y<this.state.length;Y++)It[Y]=this.state[Y]}_restoreState(It,Y){for(let pe=0;pe<this.state.length;pe++)this.state[pe]=It[pe];this.bytesHashed=Y,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);class Pn{}let on=(()=>{class Ht{calcHash(Y,pe){return(0,e.Z)(function*(){return function zn(Ht){const It=[];for(let Y=0;Y<Ht.length;Y++)It.push(String.fromCharCode(Ht[Y]));return It.join("")}(function qe(Ht){const It=(new Be).update(Ht),Y=It.digest();return It.clean(),Y}(function Hn(Ht){if("string"!=typeof Ht)throw new TypeError("expected string");const It=Ht,Y=new Uint8Array(It.length);for(let pe=0;pe<It.length;pe++)Y[pe]=It.charCodeAt(pe);return Y}(Y)))})()}toHashString2(Y){let pe="";for(const et of Y)pe+=String.fromCharCode(et);return pe}toHashString(Y){const pe=new Uint8Array(Y);let et="";for(const ct of pe)et+=String.fromCharCode(ct);return et}static#e=this.\u0275fac=function(pe){return new(pe||Ht)};static#t=this.\u0275prov=S.Yz7({token:Ht,factory:Ht.\u0275fac})}return Ht})(),jn=(()=>{class Ht extends wt{constructor(Y,pe,et,ct,at,lt,Ut,pn,vn,Jt){super(),this.ngZone=Y,this.http=pe,this.config=at,this.urlHelper=lt,this.logger=Ut,this.crypto=pn,this.dateTimeService=Jt,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new x.x,this.discoveryDocumentLoadedSubject=new x.x,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=vn,at||(at={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),ct&&(this.tokenValidationHandler=ct),at&&this.configure(at);try{et?this.setStorage(et):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(Ke){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",Ke)}if(this.checkLocalStorageAccessable()){const Ke=window?.navigator?.userAgent;(Ke?.includes("MSIE ")||Ke?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;const Y="test";try{return!(typeof window.localStorage>"u"||(localStorage.setItem(Y,Y),localStorage.removeItem(Y),0))}catch{return!1}}configure(Y){Object.assign(this,new wt,Y),this.config=Object.assign({},new wt,Y),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe((0,$.h)(Y=>"token_received"===Y.type)).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(Y={},pe,et=!0){let ct=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,j.b)(at=>{"token_received"===at.type?ct=!0:"logout"===at.type&&(ct=!1)}),(0,$.h)(at=>"token_expires"===at.type&&(null==pe||"any"===pe||at.info===pe)),(0,q.b)(1e3)).subscribe(()=>{ct&&this.refreshInternal(Y,et).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(Y,pe){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(Y,pe):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(Y=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(Y))}loadDiscoveryDocumentAndLogin(Y=null){return this.loadDiscoveryDocumentAndTryLogin(Y=Y||{}).then(()=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof Y.state?Y.state:""),!1))}debug(...Y){this.showDebugInformation&&this.logger.debug(...Y)}validateUrlFromDiscoveryDocument(Y){const pe=[],et=this.validateUrlForHttps(Y),ct=this.validateUrlAgainstIssuer(Y);return et||pe.push("https for all urls required. Also for urls received by discovery."),ct||pe.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),pe}validateUrlForHttps(Y){if(!Y)return!0;const pe=Y.toLowerCase();return!(!1!==this.requireHttps&&(!pe.match(/^http:\/\/localhost($|[:/])/)&&!pe.match(/^http:\/\/localhost($|[:/])/)||"remoteOnly"!==this.requireHttps))||pe.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(Y,pe){if(!Y)throw new Error(`'${pe}' should not be null`);if(!this.validateUrlForHttps(Y))throw new Error(`'${pe}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(Y){return!this.strictDiscoveryDocumentValidation||!Y||Y.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){typeof window>"u"?this.debug("timer not supported on this plattform"):((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe((0,$.h)(Y=>"token_received"===Y.type)).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()}))}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const Y=this.getAccessTokenExpiration(),pe=this.getAccessTokenStoredAt(),et=this.calcTimeout(pe,Y);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=(0,h.of)(new $t("token_expires","access_token")).pipe((0,ee.g)(et)).subscribe(ct=>{this.ngZone.run(()=>{this.eventsSubject.next(ct)})})})}setupIdTokenTimer(){const Y=this.getIdTokenExpiration(),pe=this.getIdTokenStoredAt(),et=this.calcTimeout(pe,Y);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=(0,h.of)(new $t("token_expires","id_token")).pipe((0,ee.g)(et)).subscribe(ct=>{this.ngZone.run(()=>{this.eventsSubject.next(ct)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(Y,pe){const et=this.dateTimeService.now(),at=Math.max(0,(pe-Y)*this.timeoutFactor-(et-Y)),lt=2147483647;return at>lt?lt:at}setStorage(Y){this._storage=Y,this.configChanged()}loadDiscoveryDocument(Y=null){return new Promise((pe,et)=>{Y||((Y=this.issuer||"").endsWith("/")||(Y+="/"),Y+=".well-known/openid-configuration"),this.validateUrlForHttps(Y)?this.http.get(Y).subscribe(ct=>{if(!this.validateDiscoveryDocument(ct))return this.eventsSubject.next(new Xe("discovery_document_validation_error",null)),void et("discovery_document_validation_error");this.loginUrl=ct.authorization_endpoint,this.logoutUrl=ct.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=ct.grant_types_supported,this.issuer=ct.issuer,this.tokenEndpoint=ct.token_endpoint,this.userinfoEndpoint=ct.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=ct.jwks_uri,this.sessionCheckIFrameUrl=ct.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(ct),this.revocationEndpoint=ct.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(at=>{const Ut=new cn("discovery_document_loaded",{discoveryDocument:ct,jwks:at});this.eventsSubject.next(Ut),pe(Ut)}).catch(at=>{this.eventsSubject.next(new Xe("discovery_document_load_error",at)),et(at)})},ct=>{this.logger.error("error loading discovery document",ct),this.eventsSubject.next(new Xe("discovery_document_load_error",ct)),et(ct)}):et("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((Y,pe)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(et=>{this.jwks=et,Y(et)},et=>{this.logger.error("error loading jwks",et),this.eventsSubject.next(new Xe("jwks_load_error",et)),pe(et)}):Y(null)})}validateDiscoveryDocument(Y){let pe;return this.skipIssuerCheck||Y.issuer===this.issuer?(pe=this.validateUrlFromDiscoveryDocument(Y.authorization_endpoint),pe.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",pe),!1):(pe=this.validateUrlFromDiscoveryDocument(Y.end_session_endpoint),pe.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",pe),!1):(pe=this.validateUrlFromDiscoveryDocument(Y.token_endpoint),pe.length>0&&this.logger.error("error validating token_endpoint in discovery document",pe),pe=this.validateUrlFromDiscoveryDocument(Y.revocation_endpoint),pe.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",pe),pe=this.validateUrlFromDiscoveryDocument(Y.userinfo_endpoint),pe.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",pe),!1):(pe=this.validateUrlFromDiscoveryDocument(Y.jwks_uri),pe.length>0?(this.logger.error("error validating jwks_uri in discovery document",pe),!1):(this.sessionChecksEnabled&&!Y.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+Y.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(Y,pe,et=new N.WM){return this.fetchTokenUsingPasswordFlow(Y,pe,et).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((Y,pe)=>{const et=(new N.WM).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:et,observe:"response",responseType:"text"}).subscribe(ct=>{if(this.debug("userinfo received",JSON.stringify(ct)),ct.headers.get("content-type").startsWith("application/json")){let at=JSON.parse(ct.body);const lt=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!lt.sub||at.sub!==lt.sub))return void pe("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");at=Object.assign({},lt,at),this._storage.setItem("id_token_claims_obj",JSON.stringify(at)),this.eventsSubject.next(new cn("user_profile_loaded")),Y({info:at})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new cn("user_profile_loaded")),Y(JSON.parse(ct.body))},ct=>{this.logger.error("error loading user info",ct),this.eventsSubject.next(new Xe("user_profile_load_error",ct)),pe(ct)})})}fetchTokenUsingPasswordFlow(Y,pe,et=new N.WM){return this.fetchTokenUsingGrant("password",{username:Y,password:pe},et)}fetchTokenUsingGrant(Y,pe,et=new N.WM){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let ct=new N.LE({encoder:new Kt}).set("grant_type",Y).set("scope",this.scope);if(this.useHttpBasicAuth){const at=btoa(`${this.clientId}:${this.dummyClientSecret}`);et=et.set("Authorization","Basic "+at)}if(this.useHttpBasicAuth||(ct=ct.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(ct=ct.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const at of Object.getOwnPropertyNames(this.customQueryParams))ct=ct.set(at,this.customQueryParams[at]);for(const at of Object.keys(pe))ct=ct.set(at,pe[at]);return et=et.set("Content-Type","application/x-www-form-urlencoded"),new Promise((at,lt)=>{this.http.post(this.tokenEndpoint,ct,{headers:et}).subscribe(Ut=>{this.debug("tokenResponse",Ut),this.storeAccessTokenResponse(Ut.access_token,Ut.refresh_token,Ut.expires_in||this.fallbackAccessTokenExpirationTimeInSec,Ut.scope,this.extractRecognizedCustomParameters(Ut)),this.oidc&&Ut.id_token&&this.processIdToken(Ut.id_token,Ut.access_token).then(pn=>{this.storeIdToken(pn),at(Ut)}),this.eventsSubject.next(new cn("token_received")),at(Ut)},Ut=>{this.logger.error("Error performing ${grantType} flow",Ut),this.eventsSubject.next(new Xe("token_error",Ut)),lt(Ut)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((Y,pe)=>{let et=new N.LE({encoder:new Kt}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),ct=(new N.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const at=btoa(`${this.clientId}:${this.dummyClientSecret}`);ct=ct.set("Authorization","Basic "+at)}if(this.useHttpBasicAuth||(et=et.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(et=et.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const at of Object.getOwnPropertyNames(this.customQueryParams))et=et.set(at,this.customQueryParams[at]);this.http.post(this.tokenEndpoint,et,{headers:ct}).pipe((0,ue.w)(at=>this.oidc&&at.id_token?(0,y.D)(this.processIdToken(at.id_token,at.access_token,!0)).pipe((0,j.b)(lt=>this.storeIdToken(lt)),(0,Fe.U)(()=>at)):(0,h.of)(at))).subscribe(at=>{this.debug("refresh tokenResponse",at),this.storeAccessTokenResponse(at.access_token,at.refresh_token,at.expires_in||this.fallbackAccessTokenExpirationTimeInSec,at.scope,this.extractRecognizedCustomParameters(at)),this.eventsSubject.next(new cn("token_received")),this.eventsSubject.next(new cn("token_refreshed")),Y(at)},at=>{this.logger.error("Error refreshing token",at),this.eventsSubject.next(new Xe("token_refresh_error",at)),pe(at)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=Y=>{const pe=this.processMessageEventMessage(Y);this.checkOrigin&&Y.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:pe,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(et=>this.debug("tryLogin during silent refresh failed",et))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(Y={},pe=!0){const et=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(Y.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");const ct=this.document.getElementById(this.silentRefreshIFrameName);ct&&this.document.body.removeChild(ct),this.silentRefreshSubject=et.sub;const at=this.document.createElement("iframe");at.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,pe,Y).then(Jt=>{at.setAttribute("src",Jt),this.silentRefreshShowIFrame||(at.style.display="none"),this.document.body.appendChild(at)});const Ut=this.events.pipe((0,$.h)(Jt=>Jt instanceof Xe),(0,be.P)()),pn=this.events.pipe((0,$.h)(Jt=>"token_received"===Jt.type),(0,be.P)()),vn=(0,h.of)(new Xe("silent_refresh_timeout",null)).pipe((0,ee.g)(this.silentRefreshTimeout));return(0,E.S)([Ut,pn,vn]).pipe((0,Fe.U)(Jt=>{if(Jt instanceof Xe)throw"silent_refresh_timeout"===Jt.type||(Jt=new Xe("silent_refresh_error",Jt)),this.eventsSubject.next(Jt),Jt;return"token_received"===Jt.type&&(Jt=new cn("silently_refreshed"),this.eventsSubject.next(Jt)),Jt})).toPromise()}initImplicitFlowInPopup(Y){return this.initLoginFlowInPopup(Y)}initLoginFlowInPopup(Y){return Y=Y||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(pe=>new Promise((et,ct)=>{let Ut,lt=null;Y.windowRef?Y.windowRef&&!Y.windowRef.closed&&(lt=Y.windowRef,lt.location.href=pe):lt=window.open(pe,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(Y));const pn=ge=>{this.tryLogin({customHashFragment:ge,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{Jt(),et(!0)},$e=>{Jt(),ct($e)})};lt?Ut=window.setInterval(()=>{(!lt||lt.closed)&&(Jt(),ct(new Xe("popup_closed",{})))},500):ct(new Xe("popup_blocked",{}));const Jt=()=>{window.clearInterval(Ut),window.removeEventListener("storage",Bt),window.removeEventListener("message",Ke),null!==lt&&lt.close(),lt=null},Ke=ge=>{const $e=this.processMessageEventMessage(ge);$e&&null!==$e?(window.removeEventListener("storage",Bt),pn($e)):console.log("false event firing")},Bt=ge=>{"auth_hash"===ge.key&&(window.removeEventListener("message",Ke),pn(ge.newValue))};window.addEventListener("message",Ke),window.addEventListener("storage",Bt)}))}calculatePopupFeatures(Y){const pe=Y.height||470,et=Y.width||500,ct=window.screenLeft+(window.outerWidth-et)/2;return`location=no,toolbar=no,width=${et},height=${pe},top=${window.screenTop+(window.outerHeight-pe)/2},left=${ct}`}processMessageEventMessage(Y){let pe="#";if(this.silentRefreshMessagePrefix&&(pe+=this.silentRefreshMessagePrefix),!Y||!Y.data||"string"!=typeof Y.data)return;const et=Y.data;return et.startsWith(pe)?"#"+et.substr(pe.length):void 0}canPerformSessionCheck(){return!(!this.sessionChecksEnabled||(this.sessionCheckIFrameUrl?this.getSessionState()?typeof this.document>"u":(console.warn("sessionChecksEnabled is activated but there is no session_state"),1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),1)))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=Y=>{const pe=Y.origin.toLowerCase(),et=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),et.startsWith(pe)){switch(Y.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",Y)}else this.debug("sessionCheckEventListener","wrong origin",pe,"expected",et,"event",Y)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new $t("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new $t("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new $t("session_terminated")),this.logOut(!0)):this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new $t("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe((0,$.h)(Y=>"silently_refreshed"===Y.type||"silent_refresh_timeout"===Y.type||"silent_refresh_error"===Y.type),(0,be.P)()).subscribe(Y=>{"silently_refreshed"!==Y.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new $t("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new $t("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const Y=this.document.getElementById(this.sessionCheckIFrameName);Y&&this.document.body.removeChild(Y);const pe=this.document.createElement("iframe");pe.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),pe.setAttribute("src",this.sessionCheckIFrameUrl),pe.style.display="none",this.document.body.appendChild(pe),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const Y=this.document.getElementById(this.sessionCheckIFrameName);Y||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const pe=this.getSessionState();pe||this.stopSessionCheckTimer(),Y.contentWindow.postMessage(this.clientId+" "+pe,this.issuer)}createLoginUrl(Y="",pe="",et="",ct=!1,at={}){var lt=this;return(0,e.Z)(function*(){const Ut=lt;let pn;pn=et||lt.redirectUri;const vn=yield lt.createAndSaveNonce();if(Y=Y?vn+lt.config.nonceStateSeparator+encodeURIComponent(Y):vn,!lt.requestAccessToken&&!lt.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");lt.responseType=lt.config.responseType?lt.config.responseType:lt.oidc&&lt.requestAccessToken?"id_token token":lt.oidc&&!lt.requestAccessToken?"id_token":"token";const Jt=Ut.loginUrl.indexOf("?")>-1?"&":"?";let Ke=Ut.scope;lt.oidc&&!Ke.match(/(^|\s)openid($|\s)/)&&(Ke="openid "+Ke);let Bt=Ut.loginUrl+Jt+"response_type="+encodeURIComponent(Ut.responseType)+"&client_id="+encodeURIComponent(Ut.clientId)+"&state="+encodeURIComponent(Y)+"&redirect_uri="+encodeURIComponent(pn)+"&scope="+encodeURIComponent(Ke);if(lt.responseType.includes("code")&&!lt.disablePKCE){const[ge,$e]=yield lt.createChallangeVerifierPairForPKCE();lt.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",$e):lt._storage.setItem("PKCE_verifier",$e),Bt+="&code_challenge="+ge,Bt+="&code_challenge_method=S256"}pe&&(Bt+="&login_hint="+encodeURIComponent(pe)),Ut.resource&&(Bt+="&resource="+encodeURIComponent(Ut.resource)),Ut.oidc&&(Bt+="&nonce="+encodeURIComponent(vn)),ct&&(Bt+="&prompt=none");for(const ge of Object.keys(at))Bt+="&"+encodeURIComponent(ge)+"="+encodeURIComponent(at[ge]);if(lt.customQueryParams)for(const ge of Object.getOwnPropertyNames(lt.customQueryParams))Bt+="&"+ge+"="+encodeURIComponent(lt.customQueryParams[ge]);return Bt})()}initImplicitFlowInternal(Y="",pe=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let et={},ct=null;"string"==typeof pe?ct=pe:"object"==typeof pe&&(et=pe),this.createLoginUrl(Y,ct,null,!1,et).then(this.config.openUri).catch(at=>{console.error("Error in initImplicitFlow",at),this.inImplicitFlow=!1})}initImplicitFlow(Y="",pe=""){""!==this.loginUrl?this.initImplicitFlowInternal(Y,pe):this.events.pipe((0,$.h)(et=>"discovery_document_loaded"===et.type)).subscribe(()=>this.initImplicitFlowInternal(Y,pe))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(Y){const pe=this;if(Y.onTokenReceived){const et={idClaims:pe.getIdentityClaims(),idToken:pe.getIdToken(),accessToken:pe.getAccessToken(),state:pe.state};Y.onTokenReceived(et)}}storeAccessTokenResponse(Y,pe,et,ct,at){if(this._storage.setItem("access_token",Y),ct&&!Array.isArray(ct)?this._storage.setItem("granted_scopes",JSON.stringify(ct.split(" "))):ct&&Array.isArray(ct)&&this._storage.setItem("granted_scopes",JSON.stringify(ct)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),et){const lt=1e3*et,pn=this.dateTimeService.new().getTime()+lt;this._storage.setItem("expires_at",""+pn)}pe&&this._storage.setItem("refresh_token",pe),at&&at.forEach((lt,Ut)=>{this._storage.setItem(Ut,lt)})}tryLogin(Y=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(Y).then(()=>!0):this.tryLoginImplicitFlow(Y)}parseQueryString(Y){return Y&&0!==Y.length?("?"===Y.charAt(0)&&(Y=Y.substr(1)),this.urlHelper.parseQueryString(Y)):{}}tryLoginCodeFlow(Y=null){var pe=this;return(0,e.Z)(function*(){const et=(Y=Y||{}).customHashFragment?Y.customHashFragment.substring(1):window.location.search,ct=pe.getCodePartsFromUrl(et),at=ct.code,lt=ct.state,Ut=ct.session_state;if(!Y.preventClearHashAfterLogin){const Jt=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,Jt)}const[pn,vn]=pe.parseState(lt);if(pe.state=vn,ct.error){pe.debug("error trying to login"),pe.handleLoginError(Y,ct);const Jt=new Xe("code_error",{},ct);return pe.eventsSubject.next(Jt),Promise.reject(Jt)}if(!Y.disableNonceCheck){if(!pn)return pe.saveRequestedRoute(),Promise.resolve();if(!Y.disableOAuth2StateCheck&&!pe.validateNonce(pn)){const Ke=new Xe("invalid_nonce_in_state",null);return pe.eventsSubject.next(Ke),Promise.reject(Ke)}}return pe.storeSessionState(Ut),at&&(yield pe.getTokenFromCode(at,Y),pe.restoreRequestedRoute()),Promise.resolve()})()}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const Y=this._storage.getItem("requested_route");Y&&history.replaceState(null,"",window.location.origin+Y)}getCodePartsFromUrl(Y){return Y&&0!==Y.length?("?"===Y.charAt(0)&&(Y=Y.substr(1)),this.urlHelper.parseQueryString(Y)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(Y,pe){let et=new N.LE({encoder:new Kt}).set("grant_type","authorization_code").set("code",Y).set("redirect_uri",pe.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let ct;ct=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),ct?et=et.set("code_verifier",ct):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(et,pe)}fetchAndProcessToken(Y,pe){pe=pe||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let et=(new N.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const ct=btoa(`${this.clientId}:${this.dummyClientSecret}`);et=et.set("Authorization","Basic "+ct)}return this.useHttpBasicAuth||(Y=Y.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(Y=Y.set("client_secret",this.dummyClientSecret)),new Promise((ct,at)=>{if(this.customQueryParams)for(const lt of Object.getOwnPropertyNames(this.customQueryParams))Y=Y.set(lt,this.customQueryParams[lt]);this.http.post(this.tokenEndpoint,Y,{headers:et}).subscribe(lt=>{this.debug("refresh tokenResponse",lt),this.storeAccessTokenResponse(lt.access_token,lt.refresh_token,lt.expires_in||this.fallbackAccessTokenExpirationTimeInSec,lt.scope,this.extractRecognizedCustomParameters(lt)),this.oidc&&lt.id_token?this.processIdToken(lt.id_token,lt.access_token,pe.disableNonceCheck).then(Ut=>{this.storeIdToken(Ut),this.eventsSubject.next(new cn("token_received")),this.eventsSubject.next(new cn("token_refreshed")),ct(lt)}).catch(Ut=>{this.eventsSubject.next(new Xe("token_validation_error",Ut)),console.error("Error validating tokens"),console.error(Ut),at(Ut)}):(this.eventsSubject.next(new cn("token_received")),this.eventsSubject.next(new cn("token_refreshed")),ct(lt))},lt=>{console.error("Error getting token",lt),this.eventsSubject.next(new Xe("token_refresh_error",lt)),at(lt)})})}tryLoginImplicitFlow(Y=null){let pe;pe=(Y=Y||{}).customHashFragment?this.urlHelper.getHashFragmentParams(Y.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",pe);const et=pe.state,[ct,at]=this.parseState(et);if(this.state=at,pe.error){this.debug("error trying to login"),this.handleLoginError(Y,pe);const Jt=new Xe("token_error",{},pe);return this.eventsSubject.next(Jt),Promise.reject(Jt)}const lt=pe.access_token,Ut=pe.id_token,pn=pe.session_state,vn=pe.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!lt||this.requestAccessToken&&!Y.disableOAuth2StateCheck&&!et||this.oidc&&!Ut)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!pn&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!Y.disableNonceCheck&&!this.validateNonce(ct)){const Ke=new Xe("invalid_nonce_in_state",null);return this.eventsSubject.next(Ke),Promise.reject(Ke)}return this.requestAccessToken&&this.storeAccessTokenResponse(lt,null,pe.expires_in||this.fallbackAccessTokenExpirationTimeInSec,vn),this.oidc?this.processIdToken(Ut,lt,Y.disableNonceCheck).then(Jt=>Y.validationHandler?Y.validationHandler({accessToken:lt,idClaims:Jt.idTokenClaims,idToken:Jt.idToken,state:et}).then(()=>Jt):Jt).then(Jt=>(this.storeIdToken(Jt),this.storeSessionState(pn),this.clearHashAfterLogin&&!Y.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new cn("token_received")),this.callOnTokenReceivedIfExists(Y),this.inImplicitFlow=!1,!0)).catch(Jt=>(this.eventsSubject.next(new Xe("token_validation_error",Jt)),this.logger.error("Error validating tokens"),this.logger.error(Jt),Promise.reject(Jt))):(this.eventsSubject.next(new cn("token_received")),this.clearHashAfterLogin&&!Y.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(Y),Promise.resolve(!0))}parseState(Y){let pe=Y,et="";if(Y){const ct=Y.indexOf(this.config.nonceStateSeparator);ct>-1&&(pe=Y.substr(0,ct),et=Y.substr(ct+this.config.nonceStateSeparator.length))}return[pe,et]}validateNonce(Y){let pe;return pe=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),pe===Y||(console.error("Validating access_token failed, wrong state/nonce.",pe,Y),!1)}storeIdToken(Y){this._storage.setItem("id_token",Y.idToken),this._storage.setItem("id_token_claims_obj",Y.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+Y.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(Y){this._storage.setItem("session_state",Y)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(Y,pe){Y.onLoginError&&Y.onLoginError(pe),this.clearHashAfterLogin&&!Y.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(Y=6e5){return this.clockSkewInSec||0===this.clockSkewInSec?1e3*this.clockSkewInSec:Y}processIdToken(Y,pe,et=!1){const ct=Y.split("."),lt=ht(this.padBase64(ct[0])),Ut=JSON.parse(lt),vn=ht(this.padBase64(ct[1])),Jt=JSON.parse(vn);let Ke;if(Ke=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(Jt.aud)){if(Jt.aud.every(Qt=>Qt!==this.clientId)){const Qt="Wrong audience: "+Jt.aud.join(",");return this.logger.warn(Qt),Promise.reject(Qt)}}else if(Jt.aud!==this.clientId){const Qt="Wrong audience: "+Jt.aud;return this.logger.warn(Qt),Promise.reject(Qt)}if(!Jt.sub){const Qt="No sub claim in id_token";return this.logger.warn(Qt),Promise.reject(Qt)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==Jt.sub){const Qt=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${Jt.sub}`;return this.logger.warn(Qt),Promise.reject(Qt)}if(!Jt.iat){const Qt="No iat claim in id_token";return this.logger.warn(Qt),Promise.reject(Qt)}if(!this.skipIssuerCheck&&Jt.iss!==this.issuer){const Qt="Wrong issuer: "+Jt.iss;return this.logger.warn(Qt),Promise.reject(Qt)}if(!et&&Jt.nonce!==Ke){const Qt="Wrong nonce: "+Jt.nonce;return this.logger.warn(Qt),Promise.reject(Qt)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!Jt.at_hash){const Qt="An at_hash is needed!";return this.logger.warn(Qt),Promise.reject(Qt)}const Bt=this.dateTimeService.now(),ge=1e3*Jt.iat,$e=1e3*Jt.exp,_t=this.getClockSkewInMsec();if(ge-_t>=Bt||$e+_t-this.decreaseExpirationBySec<=Bt){const Qt="Token has expired";return console.error(Qt),console.error({now:Bt,issuedAtMSec:ge,expiresAtMSec:$e}),Promise.reject(Qt)}const kt={accessToken:pe,idToken:Y,jwks:this.jwks,idTokenClaims:Jt,idTokenHeader:Ut,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(kt).then(()=>({idToken:Y,idTokenClaims:Jt,idTokenClaimsJson:vn,idTokenHeader:Ut,idTokenHeaderJson:lt,idTokenExpiresAt:$e})):this.checkAtHash(kt).then(Qt=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!Qt){const Rn="Wrong at_hash";return this.logger.warn(Rn),Promise.reject(Rn)}return this.checkSignature(kt).then(()=>{const ui={idToken:Y,idTokenClaims:Jt,idTokenClaimsJson:vn,idTokenHeader:Ut,idTokenHeaderJson:lt,idTokenExpiresAt:$e};return this.disableAtHashCheck?ui:this.checkAtHash(kt).then(Ci=>{if(this.requestAccessToken&&!Ci){const tr="Wrong at_hash";return this.logger.warn(tr),Promise.reject(tr)}return ui})})})}getIdentityClaims(){const Y=this._storage.getItem("id_token_claims_obj");return Y?JSON.parse(Y):null}getGrantedScopes(){const Y=this._storage.getItem("granted_scopes");return Y?JSON.parse(Y):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(Y){for(;Y.length%4!=0;)Y+="=";return Y}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const Y=this._storage.getItem("expires_at"),pe=this.dateTimeService.new();return!(Y&&parseInt(Y,10)-this.decreaseExpirationBySec<pe.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const Y=this._storage.getItem("id_token_expires_at"),pe=this.dateTimeService.new();return!(Y&&parseInt(Y,10)-this.decreaseExpirationBySec<pe.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(Y){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(Y)>=0&&null!==this._storage.getItem(Y)?JSON.parse(this._storage.getItem(Y)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(Y={},pe=""){let et=!1;"boolean"==typeof Y&&(et=Y,Y={});const ct=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(lt=>this._storage.removeItem(lt)),this.silentRefreshSubject=null,this.eventsSubject.next(new $t("logout")),!this.logoutUrl||et)return;let at;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)at=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(ct)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let lt=new N.LE({encoder:new Kt});ct&&(lt=lt.set("id_token_hint",ct));const Ut=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";Ut&&(lt=lt.set("post_logout_redirect_uri",Ut),pe&&(lt=lt.set("state",pe)));for(const pn in Y)lt=lt.set(pn,Y[pn]);at=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+lt.toString()}this.config.openUri(at)}createAndSaveNonce(){const Y=this;return this.createNonce().then(function(pe){return Y.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",pe):Y._storage.setItem("nonce",pe),pe})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const Y=this.document.getElementById(this.silentRefreshIFrameName);Y&&Y.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const pe=this.document.getElementById(this.sessionCheckIFrameName);pe&&pe.remove()}createNonce(){return new Promise(Y=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let et=45,ct="";const at=typeof self>"u"?null:self.crypto||self.msCrypto;if(at){let lt=new Uint8Array(et);at.getRandomValues(lt),lt.map||(lt.map=Array.prototype.map),lt=lt.map(Ut=>pe.charCodeAt(Ut%66)),ct=String.fromCharCode.apply(null,lt)}else for(;0<et--;)ct+=pe[66*Math.random()|0];Y(Tt(ct))})}checkAtHash(Y){var pe=this;return(0,e.Z)(function*(){return pe.tokenValidationHandler?pe.tokenValidationHandler.validateAtHash(Y):(pe.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})()}checkSignature(Y){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(Y):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(Y="",pe={}){return"code"===this.responseType?this.initCodeFlow(Y,pe):this.initImplicitFlow(Y,pe)}initCodeFlow(Y="",pe={}){""!==this.loginUrl?this.initCodeFlowInternal(Y,pe):this.events.pipe((0,$.h)(et=>"discovery_document_loaded"===et.type)).subscribe(()=>this.initCodeFlowInternal(Y,pe))}initCodeFlowInternal(Y="",pe={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let et={},ct=null;"string"==typeof pe?ct=pe:"object"==typeof pe&&(et=pe),this.createLoginUrl(Y,ct,null,!1,et).then(this.config.openUri).catch(at=>{console.error("Error in initAuthorizationCodeFlow"),console.error(at)})}createChallangeVerifierPairForPKCE(){var Y=this;return(0,e.Z)(function*(){if(!Y.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const pe=yield Y.createNonce();return[Tt(yield Y.crypto.calcHash(pe,"sha-256")),pe]})()}extractRecognizedCustomParameters(Y){const pe=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(et=>{Y[et]&&pe.set(et,JSON.stringify(Y[et]))}),pe}revokeTokenAndLogout(Y={},pe=!1){const et=this.revocationEndpoint,ct=this.getAccessToken(),at=this.getRefreshToken();if(!ct)return Promise.resolve();let lt=new N.LE({encoder:new Kt}),Ut=(new N.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const pn=btoa(`${this.clientId}:${this.dummyClientSecret}`);Ut=Ut.set("Authorization","Basic "+pn)}if(this.useHttpBasicAuth||(lt=lt.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(lt=lt.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const pn of Object.getOwnPropertyNames(this.customQueryParams))lt=lt.set(pn,this.customQueryParams[pn]);return new Promise((pn,vn)=>{let Jt,Ke;if(ct){const Bt=lt.set("token",ct).set("token_type_hint","access_token");Jt=this.http.post(et,Bt,{headers:Ut})}else Jt=(0,h.of)(null);if(at){const Bt=lt.set("token",at).set("token_type_hint","refresh_token");Ke=this.http.post(et,Bt,{headers:Ut})}else Ke=(0,h.of)(null);pe&&(Jt=Jt.pipe((0,De.K)(Bt=>0===Bt.status?(0,h.of)(null):(0,C._)(Bt))),Ke=Ke.pipe((0,De.K)(Bt=>0===Bt.status?(0,h.of)(null):(0,C._)(Bt)))),(0,F.a)([Jt,Ke]).subscribe(Bt=>{this.logOut(Y),pn(Bt),this.logger.info("Token successfully revoked")},Bt=>{this.logger.error("Error revoking token",Bt),this.eventsSubject.next(new Xe("token_revoke_error",Bt)),vn(Bt)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}static#e=this.\u0275fac=function(pe){return new(pe||Ht)(S.LFG(S.R0b),S.LFG(N.eN),S.LFG(an,8),S.LFG(Vt,8),S.LFG(wt,8),S.LFG(An),S.LFG(sn),S.LFG(Pn,8),S.LFG(u.K0),S.LFG(Gt))};static#t=this.\u0275prov=S.Yz7({token:Ht,factory:Ht.\u0275fac})}return Ht})();class xn{}class vi{handleError(It){return(0,C._)(It)}}let ri=(()=>{class Ht{constructor(Y,pe,et){this.oAuthService=Y,this.errorHandler=pe,this.moduleConfig=et}checkUrl(Y){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(Y):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(pe=>Y.toLowerCase().startsWith(pe.toLowerCase()))}intercept(Y,pe){const et=Y.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(et)?this.moduleConfig.resourceServer.sendAccessToken?(0,V.T)((0,h.of)(this.oAuthService.getAccessToken()).pipe((0,$.h)(at=>!!at)),this.oAuthService.events.pipe((0,$.h)(at=>"token_received"===at.type),(0,se.V)(this.oAuthService.waitForTokenInMsec||0),(0,De.K)(()=>(0,h.of)(null)),(0,Fe.U)(()=>this.oAuthService.getAccessToken()))).pipe((0,Ae.q)(1),(0,Me.z)(at=>{if(at){const Ut=Y.headers.set("Authorization","Bearer "+at);Y=Y.clone({headers:Ut})}return pe.handle(Y).pipe((0,De.K)(lt=>this.errorHandler.handleError(lt)))})):pe.handle(Y).pipe((0,De.K)(at=>this.errorHandler.handleError(at))):pe.handle(Y)}static#e=this.\u0275fac=function(pe){return new(pe||Ht)(S.LFG(jn),S.LFG(xn),S.LFG(fe,8))};static#t=this.\u0275prov=S.Yz7({token:Ht,factory:Ht.\u0275fac})}return Ht})();function ce(){return console}function Mi(){return typeof sessionStorage<"u"?sessionStorage:new un}function Ii(Ht=null,It=st){return(0,S.MR2)([jn,An,{provide:sn,useFactory:ce},{provide:an,useFactory:Mi},{provide:Vt,useClass:It},{provide:Pn,useClass:on},{provide:xn,useClass:vi},{provide:fe,useValue:Ht},{provide:N.TP,useClass:ri,multi:!0},{provide:Gt,useClass:Pt}])}let qt=(()=>{class Ht{static forRoot(Y=null,pe=st){return{ngModule:Ht,providers:[Ii(Y,pe)]}}static#e=this.\u0275fac=function(pe){return new(pe||Ht)};static#t=this.\u0275mod=S.oAB({type:Ht});static#n=this.\u0275inj=S.cJS({imports:[u.ez]})}return Ht})();new S.OlP("AUTH_CONFIG")},4953:(Je,le,l)=>{"use strict";l.d(le,{KC:()=>vn,kb:()=>Jt});var e=l(9212),S=l(6814),u=l(2495),N=l(9397),x=l(5592),h=l(2438),y=l(7398),E=l(3019),C=l(9773),F=l(4664),V=l(6232),$=l(2096),j=l(8645),q=l(3997),ee=l(927),ue=l(9769),Fe=l(5619),be=l(3620),De=l(7394),se=l(9360),Ae=l(8251),st=l(2181),fe=l(9028),Dt=l(9388),Gt=l(2831),Pt=l(8180),dt=l(564),un=l(4716);const Tt="function"==typeof Float32Array;function wt(Ke,Bt){return 1-3*Bt+3*Ke}function Kt(Ke,Bt){return 3*Bt-6*Ke}function Vt(Ke){return 3*Ke}function dn(Ke,Bt,ge){return((wt(Bt,ge)*Ke+Kt(Bt,ge))*Ke+Vt(Bt))*Ke}function An(Ke,Bt,ge){return 3*wt(Bt,ge)*Ke*Ke+2*Kt(Bt,ge)*Ke+Vt(Bt)}function K(Ke){return Ke}function xe(Ke,Bt,ge,$e){if(!(0<=Ke&&Ke<=1&&0<=ge&&ge<=1))throw new Error("bezier x values must be in [0, 1] range");if(Ke===Bt&&ge===$e)return K;let _t=Tt?new Float32Array(11):new Array(11);for(let Qt=0;Qt<11;++Qt)_t[Qt]=dn(.1*Qt,Ke,ge);return function(Rn){return 0===Rn?0:1===Rn?1:dn(function kt(Qt){let Rn=0,ui=1;for(;10!==ui&&_t[ui]<=Qt;++ui)Rn+=.1;--ui;let rr=Rn+(Qt-_t[ui])/(_t[ui+1]-_t[ui])*.1,Zi=An(rr,Ke,ge);return Zi>=.001?function U(Ke,Bt,ge,$e){for(let _t=0;_t<4;++_t){let kt=An(Bt,ge,$e);if(0===kt)return Bt;Bt-=(dn(Bt,ge,$e)-Ke)/kt}return Bt}(Qt,rr,Ke,ge):0===Zi?rr:function Te(Ke,Bt,ge,$e,_t){let kt,Qt,Rn=0;do{Qt=Bt+(ge-Bt)/2,kt=dn(Qt,$e,_t)-Ke,kt>0?ge=Qt:Bt=Qt}while(Math.abs(kt)>1e-7&&++Rn<10);return Qt}(Qt,Rn,Rn+.1,Ke,ge)}(Rn),Bt,$e)}}const Be=new e.OlP("SMOOTH_SCROLL_OPTIONS");let tt=(()=>{class Ke{get _w(){return this._document.defaultView}get _now(){return this._w.performance&&this._w.performance.now?this._w.performance.now.bind(this._w.performance):Date.now}constructor(ge,$e,_t){this._document=ge,this._platform=$e,this._onGoingScrolls=new Map,this._defaultOptions={duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1},..._t}}_scrollElement(ge,$e,_t){ge.scrollLeft=$e,ge.scrollTop=_t}_getElement(ge,$e){return"string"==typeof ge?($e||this._document).querySelector(ge):(0,u.fI)(ge)}_initSmoothScroll(ge){return this._onGoingScrolls.has(ge)&&this._onGoingScrolls.get(ge).next(),this._onGoingScrolls.set(ge,new j.x).get(ge)}_isFinished(ge,$e,_t){return ge.currentX!==ge.x||ge.currentY!==ge.y||($e.next(),_t(),!1)}_interrupted(ge,$e){return(0,E.T)((0,h.R)(ge,"wheel",{passive:!0,capture:!0}),(0,h.R)(ge,"touchmove",{passive:!0,capture:!0}),$e).pipe((0,Pt.q)(1))}_destroy(ge,$e){$e.complete(),this._onGoingScrolls.delete(ge)}_step(ge){return new x.y($e=>{let _t=(this._now()-ge.startTime)/ge.duration;_t=_t>1?1:_t;const kt=ge.easing(_t);ge.currentX=ge.startX+(ge.x-ge.startX)*kt,ge.currentY=ge.startY+(ge.y-ge.startY)*kt,this._scrollElement(ge.scrollable,ge.currentX,ge.currentY),ee.Z.schedule(()=>$e.next(ge))})}_applyScrollToOptions(ge,$e){if(!$e.duration)return this._scrollElement(ge,$e.left,$e.top),Promise.resolve();const _t=this._initSmoothScroll(ge),kt={scrollable:ge,startTime:this._now(),startX:ge.scrollLeft,startY:ge.scrollTop,x:null==$e.left?ge.scrollLeft:~~$e.left,y:null==$e.top?ge.scrollTop:~~$e.top,duration:$e.duration,easing:xe($e.easing.x1,$e.easing.y1,$e.easing.x2,$e.easing.y2)};return new Promise(Qt=>{(0,$.of)(null).pipe(function sn(Ke,Bt=1/0,ge){return Bt=(Bt||0)<1?1/0:Bt,(0,se.e)(($e,_t)=>(0,dt.p)($e,_t,Ke,Bt,void 0,!0,ge))}(()=>this._step(kt).pipe(function an(Ke,Bt=!1){return(0,se.e)((ge,$e)=>{let _t=0;ge.subscribe((0,Ae.x)($e,kt=>{const Qt=Ke(kt,_t++);(Qt||Bt)&&$e.next(kt),!Qt&&$e.complete()}))})}(Rn=>this._isFinished(Rn,_t,Qt)))),(0,C.R)(this._interrupted(ge,_t)),(0,un.x)(()=>this._destroy(ge,_t))).subscribe()})}scrollTo(ge,$e){if((0,S.NF)(this._platform)){const _t=this._getElement(ge),kt="rtl"===getComputedStyle(_t).direction,Qt=(0,Gt._i)(),Rn={...this._defaultOptions,...$e,left:null==$e.left?kt?$e.end:$e.start:$e.left,right:null==$e.right?kt?$e.start:$e.end:$e.right};return null!=Rn.bottom&&(Rn.top=_t.scrollHeight-_t.clientHeight-Rn.bottom),kt&&0!==Qt?(null!=Rn.left&&(Rn.right=_t.scrollWidth-_t.clientWidth-Rn.left),2===Qt?Rn.left=Rn.right:1===Qt&&(Rn.left=Rn.right?-Rn.right:Rn.right)):null!=Rn.right&&(Rn.left=_t.scrollWidth-_t.clientWidth-Rn.right),this._applyScrollToOptions(_t,Rn)}return Promise.resolve()}scrollToElement(ge,$e,_t={}){const kt=this._getElement(ge),Qt=this._getElement($e,kt),Rn={..._t,left:Qt.offsetLeft+(_t.left||0),top:Qt.offsetTop+(_t.top||0)};return Qt?this.scrollTo(kt,Rn):Promise.resolve()}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.LFG(S.K0),e.LFG(e.Lbi),e.LFG(Be,8))};static#t=this.\u0275prov=e.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})();const Et=["scrollbarY"],Qe=["scrollbarX"];function Ct(Ke,Bt){if(1&Ke&&e._UZ(0,"scrollbar-x",null,4),2&Ke){const ge=e.oxw(2);e.uIk("scrollable",ge.state.isHorizontallyScrollable)("fit",ge.state.verticalUsed)}}function Yt(Ke,Bt){if(1&Ke&&e._UZ(0,"scrollbar-y",null,5),2&Ke){const ge=e.oxw(2);e.uIk("scrollable",ge.state.isVerticallyScrollable)("fit",ge.state.horizontalUsed)}}function ln(Ke,Bt){if(1&Ke&&(e.ynx(0),e.YNc(1,Ct,2,2,"scrollbar-x",3)(2,Yt,2,2,"scrollbar-y",3),e.BQk()),2&Ke){const ge=e.oxw();e.xp6(),e.Q6J("ngIf",ge.state.horizontalUsed),e.xp6(),e.Q6J("ngIf",ge.state.verticalUsed)}}const Pn=["*"];let Hn=(()=>{class Ke{constructor(ge){this.el=ge}set ngAttr(ge){for(const[$e,_t]of Object.entries(ge))this.el.nativeElement.setAttribute($e,_t)}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","ngAttr",""]],inputs:{ngAttr:"ngAttr"},standalone:!0})}return Ke})();function zn(Ke){return(0,N.b)(()=>{Ke.onselectstart=()=>!1})}function on(Ke){return(0,N.b)(()=>{Ke.onselectstart=null})}function jn(){return(0,N.b)(Ke=>Ke.stopPropagation())}function xn(Ke,Bt){return Ke.clientX>=Bt.left&&Ke.clientX<=Bt.left+Bt.width&&Ke.clientY>=Bt.top&&Ke.clientY<=Bt.top+Bt.height}let vi=(()=>{class Ke{get clientHeight(){return this.nativeElement.clientHeight}get clientWidth(){return this.nativeElement.clientWidth}get scrollHeight(){return this.nativeElement.scrollHeight}get scrollWidth(){return this.nativeElement.scrollWidth}get scrollTop(){return this.nativeElement.scrollTop}get scrollLeft(){return this.nativeElement.scrollLeft}get scrollMaxX(){return this.scrollWidth-this.clientWidth}get scrollMaxY(){return this.scrollHeight-this.clientHeight}get contentHeight(){return this.contentWrapperElement?.clientHeight||0}get contentWidth(){return this.contentWrapperElement?.clientWidth||0}constructor(ge){this.viewPort=ge,this.nativeElement=ge.nativeElement}activatePointerEvents(ge,$e){this.hovered=new x.y(_t=>{const kt=(0,h.R)(this.nativeElement,"mousemove",{passive:!0}),Qt=ge?kt:kt.pipe(jn()),Rn=(0,h.R)(this.nativeElement,"mouseleave",{passive:!0}).pipe((0,y.U)(()=>!1));(0,E.T)(Qt,Rn).pipe((0,N.b)(ui=>_t.next(ui)),(0,C.R)($e)).subscribe()}),this.clicked=new x.y(_t=>{const kt=(0,h.R)(this.nativeElement,"mousedown",{passive:!0}).pipe((0,N.b)(Rn=>_t.next(Rn))),Qt=(0,h.R)(this.nativeElement,"mouseup",{passive:!0}).pipe((0,N.b)(()=>_t.next(!1)));kt.pipe((0,F.w)(()=>Qt),(0,C.R)($e)).subscribe()})}setAsWrapper(){this.nativeElement.className="ng-native-scrollbar-hider ng-scroll-layer",this.nativeElement.firstElementChild&&(this.nativeElement.firstElementChild.className="ng-scroll-layer")}setAsViewport(ge){this.nativeElement.className+=` ng-native-scrollbar-hider ng-scroll-viewport ${ge}`,this.nativeElement.firstElementChild&&(this.contentWrapperElement=this.nativeElement.firstElementChild,this.contentWrapperElement.classList.add("ng-scroll-content"))}scrollYTo(ge){this.nativeElement.scrollTop=ge}scrollXTo(ge){this.nativeElement.scrollLeft=ge}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","scrollViewport",""]],standalone:!0})}return Ke})(),ri=(()=>{class Ke{static#e=this.\u0275fac=function($e){return new($e||Ke)};static#t=this.\u0275dir=e.lG2({type:Ke})}return Ke})(),ce=(()=>{class Ke{get clicked(){const ge=(0,h.R)(this.trackElement,"mousedown",{passive:!0}).pipe(jn(),zn(this.document)),$e=(0,h.R)(this.document,"mouseup",{passive:!0}).pipe(jn(),on(this.document),(0,F.w)(()=>V.E));return(0,E.T)(ge,$e)}get clientRect(){return this.trackElement.getBoundingClientRect()}constructor(ge,$e,_t){this.cmp=ge,this.trackElement=$e,this.document=_t}onTrackClicked(ge,$e,_t){return(0,$.of)(ge).pipe((0,y.U)(kt=>kt[this.pageProperty]),(0,y.U)(kt=>(kt-this.offset-$e/2)/this.size*_t),(0,N.b)(kt=>{this.cmp.scrollTo({...this.mapToScrollToOption(kt),duration:(0,u.su)(this.cmp.trackClickScrollDuration)})}))}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.Y36(ri),e.Y36(HTMLElement),e.Y36(Document))};static#t=this.\u0275dir=e.lG2({type:Ke})}return Ke})(),Mi=(()=>{class Ke extends ce{get pageProperty(){return"pageX"}get offset(){return this.clientRect.left}get size(){return this.trackElement.clientWidth}constructor(ge,$e,_t){super(ge,$e.nativeElement,_t),this.cmp=ge,this.document=_t}mapToScrollToOption(ge){return{left:ge}}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.Y36(ri),e.Y36(e.SBq),e.Y36(S.K0))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","scrollbarTrackX",""]],standalone:!0,features:[e.qOj]})}return Ke})(),Ii=(()=>{class Ke extends ce{get pageProperty(){return"pageY"}get offset(){return this.clientRect.top}get size(){return this.trackElement.clientHeight}constructor(ge,$e,_t){super(ge,$e.nativeElement,_t),this.cmp=ge,this.document=_t}mapToScrollToOption(ge){return{top:ge}}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.Y36(ri),e.Y36(e.SBq),e.Y36(S.K0))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","scrollbarTrackY",""]],standalone:!0,features:[e.qOj]})}return Ke})(),qt=(()=>{class Ke{get trackMax(){return this.track.size-this.size}get clientRect(){return this.thumbElement.getBoundingClientRect()}get clicked(){return(0,h.R)(this.thumbElement,"mousedown",{passive:!0}).pipe(jn())}constructor(ge,$e,_t,kt){this.cmp=ge,this.track=$e,this.thumbElement=_t,this.document=kt,this._dragging=new j.x,this.dragging=this._dragging.pipe((0,q.x)())}update(){const ge=function Tr(Ke,Bt,ge){return Math.max(~~(Ke/Bt*Ke),ge)}(this.track.size,this.viewportScrollSize,this.cmp.minThumbSize),$e=function Xi(Ke,Bt,ge){return Ke*ge/Bt}(this.viewportScrollOffset,this.viewportScrollMax,this.trackMax);ee.Z.schedule(()=>this.updateStyles(this.handleDirection($e,this.trackMax),ge))}dragged(ge){let $e,_t;const kt=(0,$.of)(ge).pipe(zn(this.document),(0,N.b)(()=>{$e=this.trackMax,_t=this.viewportScrollMax,this.setDragging(!0)})),Qt=(0,h.R)(this.document,"mousemove",{capture:!0,passive:!0}).pipe(jn()),Rn=(0,h.R)(this.document,"mouseup",{capture:!0}).pipe(jn(),on(this.document),(0,N.b)(()=>this.setDragging(!1)));return kt.pipe((0,y.U)(ui=>ui[this.pageProperty]),(0,y.U)(ui=>ui-this.dragStartOffset),(0,ue.z)(ui=>Qt.pipe((0,y.U)(Ci=>Ci[this.clientProperty]),(0,y.U)(Ci=>Ci-this.track.offset),(0,y.U)(Ci=>_t*(Ci-ui)/$e),(0,y.U)(Ci=>this.handleDrag(Ci,_t)),(0,N.b)(Ci=>this.scrollTo(Ci)),(0,C.R)(Rn))))}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.Y36(ri),e.Y36(ce),e.Y36(HTMLElement),e.Y36(Document))};static#t=this.\u0275dir=e.lG2({type:Ke,outputs:{dragging:"dragging"}})}return Ke})(),er=(()=>{class Ke extends qt{get clientProperty(){return"clientX"}get pageProperty(){return"pageX"}get viewportScrollSize(){return this.cmp.viewport.scrollWidth}get viewportScrollOffset(){return this.cmp.viewport.scrollLeft}get viewportScrollMax(){return this.cmp.viewport.scrollMaxX}get dragStartOffset(){return this.clientRect.left+this.document.defaultView.pageXOffset||0}get size(){return this.thumbElement.clientWidth}constructor(ge,$e,_t,kt,Qt){super(ge,$e,_t.nativeElement,kt),this.cmp=ge,this.track=$e,this.element=_t,this.document=kt,this.dir=Qt}updateStyles(ge,$e){this.thumbElement.style.width=`${$e}px`,this.thumbElement.style.transform=`translate3d(${ge}px, 0, 0)`}handleDrag(ge,$e){if("rtl"===this.dir.value){if(1===this.cmp.manager.rtlScrollAxisType)return ge-$e;if(2===this.cmp.manager.rtlScrollAxisType)return $e-ge}return ge}handleDirection(ge,$e){if("rtl"===this.dir.value){if(2===this.cmp.manager.rtlScrollAxisType)return-ge;if(0===this.cmp.manager.rtlScrollAxisType)return ge-$e}return ge}setDragging(ge){this.cmp.setDragging({horizontalDragging:ge})}scrollTo(ge){this.cmp.viewport.scrollXTo(ge)}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.Y36(ri),e.Y36(Mi),e.Y36(e.SBq),e.Y36(S.K0),e.Y36(Dt.Is))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","scrollbarThumbX",""]],standalone:!0,features:[e.qOj]})}return Ke})(),Ht=(()=>{class Ke extends qt{get pageProperty(){return"pageY"}get viewportScrollSize(){return this.cmp.viewport.scrollHeight}get viewportScrollOffset(){return this.cmp.viewport.scrollTop}get viewportScrollMax(){return this.cmp.viewport.scrollMaxY}get clientProperty(){return"clientY"}get dragStartOffset(){return this.clientRect.top+this.document.defaultView.pageYOffset||0}get size(){return this.thumbElement.clientHeight}constructor(ge,$e,_t,kt){super(ge,$e,_t.nativeElement,kt),this.cmp=ge,this.track=$e,this.element=_t,this.document=kt}updateStyles(ge,$e){this.thumbElement.style.height=`${$e}px`,this.thumbElement.style.transform=`translate3d(0px, ${ge}px, 0)`}handleDrag(ge){return ge}handleDirection(ge){return ge}setDragging(ge){this.cmp.setDragging({verticalDragging:ge})}scrollTo(ge){this.cmp.viewport.scrollYTo(ge)}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.Y36(ri),e.Y36(Ii),e.Y36(e.SBq),e.Y36(S.K0))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","scrollbarThumbY",""]],standalone:!0,features:[e.qOj]})}return Ke})(),It=(()=>{class Ke{constructor(ge,$e,_t,kt,Qt){this.el=ge,this.cmp=$e,this.platform=_t,this.document=kt,this.zone=Qt,this.destroyed=new j.x}activatePointerEvents(){let ge,$e,_t;return"viewport"===this.cmp.pointerEventsMethod?(this.viewportTrackClicked=new j.x,this.viewportThumbClicked=new j.x,this.cmp.viewport.activatePointerEvents(this.cmp.viewportPropagateMouseMove,this.destroyed),ge=this.viewportThumbClicked,$e=this.viewportTrackClicked,_t=this.cmp.viewport.hovered.pipe((0,y.U)(kt=>!!kt&&xn(kt,this.el.getBoundingClientRect())),(0,q.x)(),(0,N.b)(kt=>this.document.onselectstart=kt?()=>!1:null)),this.cmp.viewport.clicked.pipe((0,N.b)(kt=>{kt?xn(kt,this.thumb.clientRect)?this.viewportThumbClicked.next(kt):xn(kt,this.track.clientRect)&&(this.cmp.setClicked(!0),this.viewportTrackClicked.next(kt)):this.cmp.setClicked(!1)}),(0,C.R)(this.destroyed)).subscribe()):(ge=this.thumb.clicked,$e=this.track.clicked,_t=this.hovered),(0,E.T)(_t.pipe((0,N.b)(kt=>this.setHovered(kt))),ge.pipe((0,F.w)(kt=>this.thumb.dragged(kt))),$e.pipe((0,F.w)(kt=>this.track.onTrackClicked(kt,this.thumb.size,this.viewportScrollSize))))}get hovered(){const ge=(0,h.R)(this.el,"mouseenter",{passive:!0}).pipe(jn(),(0,y.U)(()=>!0)),$e=(0,h.R)(this.el,"mouseleave",{passive:!0}).pipe(jn(),(0,y.U)(()=>!1));return(0,E.T)(ge,$e)}ngOnInit(){this.zone.runOutsideAngular(()=>{!(this.platform.IOS||this.platform.ANDROID)&&!this.cmp.pointerEventsDisabled&&this.activatePointerEvents().pipe((0,C.R)(this.destroyed)).subscribe(),(0,E.T)(this.cmp.scrolled,this.cmp.updated).pipe((0,N.b)(()=>this.thumb?.update()),(0,C.R)(this.destroyed)).subscribe()})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete(),this.viewportThumbClicked&&this.viewportTrackClicked&&(this.viewportTrackClicked.complete(),this.viewportThumbClicked.complete())}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.Y36(HTMLElement),e.Y36(ri),e.Y36(Gt.t4),e.Y36(Document),e.Y36(e.R0b))};static#t=this.\u0275dir=e.lG2({type:Ke})}return Ke})(),Y=(()=>{class Ke extends It{get viewportScrollSize(){return this.cmp.viewport.scrollHeight}constructor(ge,$e,_t,kt,Qt){super(ge.nativeElement,$e,_t,kt,Qt),this.cmp=$e,this.platform=_t,this.document=kt,this.zone=Qt}setHovered(ge){this.cmp.setHovered({verticalHovered:ge})}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.Y36(e.SBq),e.Y36(ri),e.Y36(Gt.t4),e.Y36(S.K0),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:Ke,selectors:[["scrollbar-y"]],viewQuery:function($e,_t){if(1&$e&&(e.Gf(Ii,7),e.Gf(Ht,7)),2&$e){let kt;e.iGM(kt=e.CRH())&&(_t.track=kt.first),e.iGM(kt=e.CRH())&&(_t.thumb=kt.first)}},hostVars:2,hostBindings:function($e,_t){2&$e&&e.ekj("scrollbar-control",!0)},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:6,consts:[["scrollbarTrackY",""],["scrollbarThumbY",""]],template:function($e,_t){1&$e&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&$e&&(e.Gre("ng-scrollbar-track ",_t.cmp.trackClass,""),e.xp6(),e.Gre("ng-scrollbar-thumb ",_t.cmp.thumbClass,""))},dependencies:[Ii,Ht],styles:[".ng-scrollbar-wrapper>scrollbar-y.scrollbar-control{width:var(--vertical-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track{width:var(--vertical-scrollbar-size);height:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{height:0;width:100%}  .ng-scrollbar-wrapper[verticalHovered=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[verticalDragging=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-y.scrollbar-control{top:0;bottom:0}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr]>scrollbar-y.scrollbar-control{right:0;left:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertY]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertAll]>scrollbar-y.scrollbar-control{left:0;right:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl]>scrollbar-y.scrollbar-control{left:0;right:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertY]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertAll]>scrollbar-y.scrollbar-control{left:unset;right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all]>scrollbar-y.scrollbar-control[fit=true]{bottom:var(--scrollbar-total-size);top:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertX]>scrollbar-y.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertAll]>scrollbar-y.scrollbar-control[fit=true]{top:var(--scrollbar-total-size);bottom:0}"],changeDetection:0})}return Ke})(),pe=(()=>{class Ke extends It{get viewportScrollSize(){return this.cmp.viewport.scrollWidth}constructor(ge,$e,_t,kt,Qt){super(ge.nativeElement,$e,_t,kt,Qt),this.cmp=$e,this.platform=_t,this.document=kt,this.zone=Qt}setHovered(ge){this.cmp.setHovered({horizontalHovered:ge})}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.Y36(e.SBq),e.Y36(ri),e.Y36(Gt.t4),e.Y36(S.K0),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:Ke,selectors:[["scrollbar-x"]],viewQuery:function($e,_t){if(1&$e&&(e.Gf(Mi,7),e.Gf(er,7)),2&$e){let kt;e.iGM(kt=e.CRH())&&(_t.track=kt.first),e.iGM(kt=e.CRH())&&(_t.thumb=kt.first)}},hostVars:2,hostBindings:function($e,_t){2&$e&&e.ekj("scrollbar-control",!0)},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:6,consts:[["scrollbarTrackX",""],["scrollbarThumbX",""]],template:function($e,_t){1&$e&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&$e&&(e.Gre("ng-scrollbar-track ",_t.cmp.trackClass,""),e.xp6(),e.Gre("ng-scrollbar-thumb ",_t.cmp.thumbClass,""))},dependencies:[Mi,er],styles:[".ng-scrollbar-wrapper>scrollbar-x.scrollbar-control{height:var(--horizontal-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track{height:var(--horizontal-scrollbar-size);width:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{width:0;height:100%}  .ng-scrollbar-wrapper[horizontalHovered=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[horizontalDragging=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[position=invertX]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-x.scrollbar-control{left:0;right:0;bottom:0;top:unset}  .ng-scrollbar-wrapper[deactivated=false][position=invertX]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertY]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertY]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}"],changeDetection:0})}return Ke})();const et=new e.OlP("NG_SCROLLBAR_OPTIONS"),ct={viewClass:"",trackClass:"",thumbClass:"",track:"vertical",appearance:"compact",visibility:"native",position:"native",pointerEventsMethod:"viewport",trackClickScrollDuration:300,minThumbSize:20,windowResizeDebounce:0,sensorDebounce:0,scrollAuditTime:0,viewportPropagateMouseMove:!0,autoHeightDisabled:!0,autoWidthDisabled:!0,sensorDisabled:!1,pointerEventsDisabled:!1};let at=(()=>{class Ke{constructor(ge){this.globalOptions=ge?{...ct,...ge}:ct,this.rtlScrollAxisType=(0,Gt._i)()}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.LFG(et,8))};static#t=this.\u0275prov=e.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})(),lt=(()=>{class Ke{constructor(ge,$e,_t){this.document=ge,this.manager=$e,this.platform=_t,this._scrollbarSize=new Fe.X(this.getNativeScrollbarSize()),this.scrollbarSize=this._scrollbarSize.asObservable(),_t.isBrowser&&(0,h.R)(this.document.defaultView,"resize",{passive:!0}).pipe((0,be.b)(this.manager.globalOptions.windowResizeDebounce),(0,y.U)(()=>this.getNativeScrollbarSize()),(0,q.x)(),(0,N.b)(kt=>this._scrollbarSize.next(kt))).subscribe()}getNativeScrollbarSize(){if(!this.platform.isBrowser)return 0;if(this.platform.IOS)return 6;const ge=this.document.createElement("div");ge.className="ng-scrollbar-measure",ge.style.left="0px",ge.style.overflow="scroll",ge.style.position="fixed",ge.style.top="-9999px",this.document.body.appendChild(ge);const $e=ge.getBoundingClientRect().right;return this.document.body.removeChild(ge),$e}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.LFG(S.K0),e.LFG(at),e.LFG(Gt.t4))};static#t=this.\u0275prov=e.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})(),Ut=(()=>{class Ke{constructor(ge,$e,_t){this.renderer=$e,this.hideNativeScrollbar=_t,this._subscriber=De.w0.EMPTY,this._subscriber=_t.scrollbarSize.subscribe(kt=>{this.renderer.setStyle(ge.nativeElement,"--native-scrollbar-size",`-${kt}px`,e.JOm.DashCase)})}ngOnDestroy(){this._subscriber.unsubscribe()}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(lt))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","hideNativeScrollbar",""]],standalone:!0})}return Ke})(),pn=(()=>{class Ke{get debounce(){return this._debounce}set debounce(ge){this._debounce=(0,u.su)(ge),this._subscribe()}get disabled(){return this._disabled}set disabled(ge){this._disabled=(0,u.Ig)(ge),this._disabled?this._unsubscribe():this._subscribe()}constructor(ge,$e,_t){if(this.zone=ge,this.platform=$e,this.scrollbar=_t,this._disabled=!1,this._currentSubscription=null,this.event=new e.vpe,!_t)throw new Error("[NgScrollbar Resize Sensor Directive]: Host element must be an NgScrollbar component.")}ngAfterContentInit(){!this._currentSubscription&&!this._disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){if(this._unsubscribe(),this.platform.isBrowser){const ge=new x.y($e=>{this._resizeObserver=new ResizeObserver(_t=>$e.next(_t)),this._resizeObserver.observe(this.scrollbar.viewport.nativeElement),this.scrollbar.viewport.contentWrapperElement&&this._resizeObserver.observe(this.scrollbar.viewport.contentWrapperElement)});this.zone.runOutsideAngular(()=>{this._currentSubscription=(this._debounce?ge.pipe((0,be.b)(this._debounce)):ge).subscribe(this.event)})}}_unsubscribe(){this._resizeObserver?.disconnect(),this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.Y36(e.R0b),e.Y36(Gt.t4),e.Y36(ri))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","resizeSensor",""]],inputs:{debounce:[e.lbL.None,"sensorDebounce","debounce"],disabled:[e.lbL.None,"sensorDisabled","disabled"]},outputs:{event:"resizeSensor"},standalone:!0})}return Ke})(),vn=(()=>{class Ke{get disabled(){return this._disabled}set disabled(ge){this._disabled=(0,u.Ig)(ge)}get sensorDisabled(){return this._sensorDisabled}set sensorDisabled(ge){this._sensorDisabled=(0,u.Ig)(ge)}get pointerEventsDisabled(){return this._pointerEventsDisabled}set pointerEventsDisabled(ge){this._pointerEventsDisabled=(0,u.Ig)(ge)}get viewportPropagateMouseMove(){return this._viewportPropagateMouseMove}set viewportPropagateMouseMove(ge){this._viewportPropagateMouseMove=(0,u.Ig)(ge)}get autoHeightDisabled(){return this._autoHeightDisabled}set autoHeightDisabled(ge){this._autoHeightDisabled=(0,u.Ig)(ge)}get autoWidthDisabled(){return this._autoWidthDisabled}set autoWidthDisabled(ge){this._autoWidthDisabled=(0,u.Ig)(ge)}get nativeElement(){return this.el.nativeElement}constructor(ge,$e,_t,kt,Qt,Rn){this.el=ge,this.zone=$e,this.changeDetectorRef=_t,this.dir=kt,this.smoothScroll=Qt,this.manager=Rn,this._disabled=!1,this._sensorDisabled=this.manager.globalOptions.sensorDisabled,this._pointerEventsDisabled=this.manager.globalOptions.pointerEventsDisabled,this._autoHeightDisabled=this.manager.globalOptions.autoHeightDisabled,this._autoWidthDisabled=this.manager.globalOptions.autoWidthDisabled,this._viewportPropagateMouseMove=this.manager.globalOptions.viewportPropagateMouseMove,this.viewClass=this.manager.globalOptions.viewClass,this.trackClass=this.manager.globalOptions.trackClass,this.thumbClass=this.manager.globalOptions.thumbClass,this.minThumbSize=this.manager.globalOptions.minThumbSize,this.trackClickScrollDuration=this.manager.globalOptions.trackClickScrollDuration,this.pointerEventsMethod=this.manager.globalOptions.pointerEventsMethod,this.track=this.manager.globalOptions.track,this.visibility=this.manager.globalOptions.visibility,this.appearance=this.manager.globalOptions.appearance,this.position=this.manager.globalOptions.position,this.sensorDebounce=this.manager.globalOptions.sensorDebounce,this.scrollAuditTime=this.manager.globalOptions.scrollAuditTime,this.updated=new e.vpe,this.state={},this.destroyed=new j.x}updateState(){let ge=!1,$e=!1,_t=!1,kt=!1;("all"===this.track||"vertical"===this.track)&&(_t=this.viewport.scrollHeight>this.viewport.clientHeight,ge="always"===this.visibility||_t),("all"===this.track||"horizontal"===this.track)&&(kt=this.viewport.scrollWidth>this.viewport.clientWidth,$e="always"===this.visibility||kt),this.setState({position:this.position,track:this.track,appearance:this.appearance,visibility:this.visibility,deactivated:this.disabled,dir:this.dir.value,pointerEventsMethod:this.pointerEventsMethod,verticalUsed:ge,horizontalUsed:$e,isVerticallyScrollable:_t,isHorizontallyScrollable:kt})}setState(ge){this.state={...this.state,...ge},this.changeDetectorRef.detectChanges()}getScrolledByDirection(ge){let $e;return this.scrolled.pipe((0,N.b)(_t=>$e=_t),(0,y.U)(_t=>_t.target[ge]),function Me(){return(0,se.e)((Ke,Bt)=>{let ge,$e=!1;Ke.subscribe((0,Ae.x)(Bt,_t=>{const kt=ge;ge=_t,$e&&Bt.next([kt,_t]),$e=!0}))})}(),(0,st.h)(([_t,kt])=>_t!==kt),(0,y.U)(()=>$e))}setHovered(ge){this.zone.run(()=>this.setState({...ge}))}setDragging(ge){this.zone.run(()=>this.setState({...ge}))}setClicked(ge){this.zone.run(()=>this.setState({scrollbarClicked:ge}))}ngOnInit(){this.zone.runOutsideAngular(()=>{this.customViewPort?(this.viewport=this.customViewPort,this.defaultViewPort.setAsWrapper()):this.viewport=this.defaultViewPort,this.viewport.setAsViewport(this.viewClass);let ge=(0,h.R)(this.viewport.nativeElement,"scroll",{passive:!0});ge=this.scrollAuditTime?ge.pipe((0,fe.e)(this.scrollAuditTime)):ge,this.scrolled=ge.pipe((0,C.R)(this.destroyed)),this.verticalScrolled=this.getScrolledByDirection("scrollTop"),this.horizontalScrolled=this.getScrolledByDirection("scrollLeft")})}ngOnChanges(ge){this.viewport&&this.update()}ngAfterViewInit(){this.update(),this.dir.change.pipe((0,N.b)(()=>this.update()),(0,C.R)(this.destroyed)).subscribe()}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}update(){this.autoHeightDisabled||this.updateHeight(),this.autoWidthDisabled||this.updateWidth(),this.updateState(),this.updated.next()}scrollTo(ge){return this.smoothScroll.scrollTo(this.viewport.nativeElement,ge)}scrollToElement(ge,$e){return this.smoothScroll.scrollToElement(this.viewport.nativeElement,ge,$e)}updateHeight(){this.nativeElement.style.height="standard"===this.appearance&&this.scrollbarX?`${this.viewport.contentHeight+this.scrollbarX.nativeElement.clientHeight}px`:`${this.viewport.contentHeight}px`}updateWidth(){this.nativeElement.style.width="standard"===this.appearance&&this.scrollbarY?`${this.viewport.contentWidth+this.scrollbarY.nativeElement.clientWidth}px`:`${this.viewport.contentWidth}px`}static#e=this.\u0275fac=function($e){return new($e||Ke)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(Dt.Is),e.Y36(tt),e.Y36(at))};static#t=this.\u0275cmp=e.Xpm({type:Ke,selectors:[["ng-scrollbar"]],contentQueries:function($e,_t,kt){if(1&$e&&e.Suo(kt,vi,7),2&$e){let Qt;e.iGM(Qt=e.CRH())&&(_t.customViewPort=Qt.first)}},viewQuery:function($e,_t){if(1&$e&&(e.Gf(Et,5,e.SBq),e.Gf(Qe,5,e.SBq),e.Gf(vi,7)),2&$e){let kt;e.iGM(kt=e.CRH())&&(_t.scrollbarY=kt.first),e.iGM(kt=e.CRH())&&(_t.scrollbarX=kt.first),e.iGM(kt=e.CRH())&&(_t.defaultViewPort=kt.first)}},hostVars:2,hostBindings:function($e,_t){2&$e&&e.ekj("ng-scrollbar",!0)},inputs:{disabled:"disabled",sensorDisabled:"sensorDisabled",pointerEventsDisabled:"pointerEventsDisabled",viewportPropagateMouseMove:"viewportPropagateMouseMove",autoHeightDisabled:"autoHeightDisabled",autoWidthDisabled:"autoWidthDisabled",viewClass:"viewClass",trackClass:"trackClass",thumbClass:"thumbClass",minThumbSize:"minThumbSize",trackClickScrollDuration:"trackClickScrollDuration",pointerEventsMethod:"pointerEventsMethod",track:"track",visibility:"visibility",appearance:"appearance",position:"position",sensorDebounce:"sensorDebounce",scrollAuditTime:"scrollAuditTime"},outputs:{updated:"updated"},exportAs:["ngScrollbar"],standalone:!0,features:[e._Bn([{provide:ri,useExisting:Ke}]),e.TTD,e.jDz],ngContentSelectors:Pn,decls:6,vars:4,consts:[[1,"ng-scrollbar-wrapper",3,"ngAttr"],[1,"ng-scroll-viewport-wrapper",3,"sensorDebounce","sensorDisabled","resizeSensor"],["scrollViewport","","hideNativeScrollbar",""],[4,"ngIf"],["scrollbarX",""],["scrollbarY",""]],template:function($e,_t){1&$e&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.NdJ("resizeSensor",function(){return _t.update()}),e.TgZ(2,"div",2)(3,"div"),e.Hsn(4),e.qZA()()(),e.YNc(5,ln,3,2,"ng-container",3),e.qZA()),2&$e&&(e.Q6J("ngAttr",_t.state),e.xp6(),e.Q6J("sensorDebounce",_t.sensorDebounce)("sensorDisabled",_t.sensorDisabled),e.xp6(4),e.Q6J("ngIf",!_t.disabled))},dependencies:[S.O5,Hn,pn,vi,Ut,pe,Y],styles:[".ng-scrollbar-measure{scrollbar-width:none;-ms-overflow-style:none}  .ng-scrollbar-measure::-webkit-scrollbar{display:none}[_nghost-%COMP%]{--scrollbar-border-radius: 7px;--scrollbar-padding: 4px;--scrollbar-track-color: transparent;--scrollbar-thumb-color: rgba(0, 0, 0, .2);--scrollbar-thumb-hover-color: var(--scrollbar-thumb-color);--scrollbar-size: 5px;--scrollbar-hover-size: var(--scrollbar-size);--scrollbar-overscroll-behavior: initial;--scrollbar-transition-duration: .4s;--scrollbar-transition-delay: .8s;--scrollbar-thumb-transition: height ease-out .15s, width ease-out .15s;--scrollbar-track-transition: height ease-out .15s, width ease-out .15s;display:block;position:relative;height:100%;max-height:100%;max-width:100%;box-sizing:content-box!important}[_nghost-%COMP%] > .ng-scrollbar-wrapper[_ngcontent-%COMP%]{--scrollbar-total-size: calc(var(--scrollbar-size) + var(--scrollbar-padding) * 2);--vertical-scrollbar-size: var(--scrollbar-size);--horizontal-scrollbar-size: var(--scrollbar-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalHovered=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalDragging=true][_ngcontent-%COMP%]{--vertical-scrollbar-size: var(--scrollbar-hover-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalHovered=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalDragging=true][_ngcontent-%COMP%]{--horizontal-scrollbar-size: var(--scrollbar-hover-size);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:0;bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:var(--scrollbar-total-size);bottom:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{scrollbar-width:none;-ms-overflow-style:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport::-webkit-scrollbar{display:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{bottom:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{left:0;right:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{right:0;left:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%] > .scrollbar-control[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transition-duration:var(--scrollbar-transition-duration);transition-delay:var(--scrollbar-transition-delay)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:hover > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:active > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:focus > .scrollbar-control[_ngcontent-%COMP%]{opacity:1;transition-duration:var(--scrollbar-transition-duration);transition-delay:0ms}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow:auto}.ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{overflow:hidden}.ng-scroll-viewport[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch;contain:strict;will-change:scroll-position;overscroll-behavior:var(--scrollbar-overscroll-behavior)}  .ng-scroll-content{display:inline-block;min-width:100%}.ng-scrollbar-wrapper[_ngcontent-%COMP%], .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], .ng-scroll-layer[_ngcontent-%COMP%],   .ng-scroll-viewport{position:absolute;inset:0}",".ng-scrollbar-wrapper[pointerEventsMethod=viewport]>.scrollbar-control{pointer-events:none}  .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport{-webkit-user-select:none;-moz-user-select:none;user-select:none}  .ng-scrollbar-wrapper>.scrollbar-control{position:absolute;display:flex;justify-content:center;align-items:center;transition:var(--scrollbar-track-transition)}  .ng-scrollbar-wrapper>.scrollbar-control[scrollable=false] .ng-scrollbar-thumb{display:none}  .ng-scrollbar-track{height:100%;width:100%;z-index:1;border-radius:var(--scrollbar-border-radius);background-color:var(--scrollbar-track-color);overflow:hidden;transition:var(--scrollbar-track-transition);cursor:default}  .ng-scrollbar-thumb{box-sizing:border-box;position:relative;border-radius:inherit;background-color:var(--scrollbar-thumb-color);transform:translateZ(0);transition:var(--scrollbar-thumb-transition)}"],changeDetection:0})}return Ke})(),Jt=(()=>{class Ke{static#e=this.\u0275fac=function($e){return new($e||Ke)};static#t=this.\u0275mod=e.oAB({type:Ke});static#n=this.\u0275inj=e.cJS({})}return Ke})()},7582:(Je,le,l)=>{"use strict";function $(Xe,ht,Tt,wt){return new(Tt||(Tt=Promise))(function(Vt,dn){function An(K){try{U(wt.next(K))}catch(xe){dn(xe)}}function Te(K){try{U(wt.throw(K))}catch(xe){dn(xe)}}function U(K){K.done?Vt(K.value):function Kt(Vt){return Vt instanceof Tt?Vt:new Tt(function(dn){dn(Vt)})}(K.value).then(An,Te)}U((wt=wt.apply(Xe,ht||[])).next())})}function Ae(Xe){return this instanceof Ae?(this.v=Xe,this):new Ae(Xe)}function Me(Xe,ht,Tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Kt,wt=Tt.apply(Xe,ht||[]),Vt=[];return Kt={},dn("next"),dn("throw"),dn("return"),Kt[Symbol.asyncIterator]=function(){return this},Kt;function dn(Be){wt[Be]&&(Kt[Be]=function(tt){return new Promise(function(qe,Et){Vt.push([Be,tt,qe,Et])>1||An(Be,tt)})})}function An(Be,tt){try{!function Te(Be){Be.value instanceof Ae?Promise.resolve(Be.value.v).then(U,K):xe(Vt[0][2],Be)}(wt[Be](tt))}catch(qe){xe(Vt[0][3],qe)}}function U(Be){An("next",Be)}function K(Be){An("throw",Be)}function xe(Be,tt){Be(tt),Vt.shift(),Vt.length&&An(Vt[0][0],Vt[0][1])}}function fe(Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Tt,ht=Xe[Symbol.asyncIterator];return ht?ht.call(Xe):(Xe=function ue(Xe){var ht="function"==typeof Symbol&&Symbol.iterator,Tt=ht&&Xe[ht],wt=0;if(Tt)return Tt.call(Xe);if(Xe&&"number"==typeof Xe.length)return{next:function(){return Xe&&wt>=Xe.length&&(Xe=void 0),{value:Xe&&Xe[wt++],done:!Xe}}};throw new TypeError(ht?"Object is not iterable.":"Symbol.iterator is not defined.")}(Xe),Tt={},wt("next"),wt("throw"),wt("return"),Tt[Symbol.asyncIterator]=function(){return this},Tt);function wt(Vt){Tt[Vt]=Xe[Vt]&&function(dn){return new Promise(function(An,Te){!function Kt(Vt,dn,An,Te){Promise.resolve(Te).then(function(U){Vt({value:U,done:An})},dn)}(An,Te,(dn=Xe[Vt](dn)).done,dn.value)})}}}l.d(le,{FC:()=>Me,KL:()=>fe,mG:()=>$,qq:()=>Ae}),"function"==typeof SuppressedError&&SuppressedError}}]);