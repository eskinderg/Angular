(self.webpackChunkAngular=self.webpackChunkAngular||[]).push([[570],{7135:(Ze,le,l)=>{"use strict";l.r(le),l.d(le,{AppModule:()=>Uo});var e=l(9862),S=l(4221),u=l(9212),N=l(2236),x=l(2460);const h="@ngrx/router-store/request",E=((0,S.PH)(h,(0,S.Ky)()),"@ngrx/router-store/navigation"),F=((0,S.PH)(E,(0,S.Ky)()),"@ngrx/router-store/cancel"),$=((0,S.PH)(F,(0,S.Ky)()),"@ngrx/router-store/error"),q=((0,S.PH)($,(0,S.Ky)()),"@ngrx/router-store/navigated");(0,S.PH)(q,(0,S.Ky)());class Ne{serialize(d){return{root:this.serializeRoute(d.root),url:d.url}}serializeRoute(d){const c=d.children.map(v=>this.serializeRoute(v));return{params:d.params,data:d.data,url:d.url,outlet:d.outlet,title:d.title,routeConfig:d.routeConfig?{path:d.routeConfig.path,pathMatch:d.routeConfig.pathMatch,redirectTo:d.routeConfig.redirectTo,outlet:d.routeConfig.outlet,title:"string"==typeof d.routeConfig.title?d.routeConfig.title:void 0}:null,queryParams:d.queryParams,fragment:d.fragment,firstChild:c[0],children:c}}}var be=function(w){return w[w.PreActivation=1]="PreActivation",w[w.PostActivation=2]="PostActivation",w}(be||{});const De="router",re=new u.OlP("@ngrx/router-store Internal Configuration"),Ae=new u.OlP("@ngrx/router-store Configuration");function Me(w){return{stateKey:De,serializer:Ne,navigationActionTiming:be.PreActivation,...w}}class st{serialize(d){return{root:this.serializeRoute(d.root),url:d.url}}serializeRoute(d){const c=d.children.map(v=>this.serializeRoute(v));return{params:d.params,paramMap:d.paramMap,data:d.data,url:d.url,outlet:d.outlet,title:d.title,routeConfig:d.routeConfig?{component:d.routeConfig.component,path:d.routeConfig.path,pathMatch:d.routeConfig.pathMatch,redirectTo:d.routeConfig.redirectTo,outlet:d.routeConfig.outlet,title:d.routeConfig.title}:null,queryParams:d.queryParams,queryParamMap:d.queryParamMap,fragment:d.fragment,component:d.routeConfig?d.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:c[0],pathFromRoot:void 0,children:c}}}class fe{}var Tt=function(w){return w[w.NONE=1]="NONE",w[w.ROUTER=2]="ROUTER",w[w.STORE=3]="STORE",w}(Tt||{});let Vt=(()=>{class w{constructor(c,v,L,ne,Se,Pe){this.store=c,this.router=v,this.serializer=L,this.errorHandler=ne,this.config=Se,this.activeRuntimeChecks=Pe,this.lastEvent=null,this.routerState=null,this.trigger=Tt.NONE,this.stateKey=this.config.stateKey,!(0,S.rM)()&&(0,u.X6Q)()&&(Pe?.strictActionSerializability||Pe?.strictStateSerializability)&&this.serializer instanceof st&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,S.Ys)(this.stateKey),(0,x.M)(this.store)).subscribe(([c,v])=>{this.navigateIfNeeded(c,v)})}navigateIfNeeded(c,v){if(!c||!c.state||this.trigger===Tt.ROUTER||this.lastEvent instanceof N.OD)return;const L=c.state.url;(function xt(w,d){return dt(w)===dt(d)})(this.router.url,L)||(this.storeState=v,this.trigger=Tt.STORE,this.router.navigateByUrl(L).catch(ne=>{this.errorHandler.handleError(ne)}))}setUpRouterEventsListener(){const c=this.config.navigationActionTiming===be.PostActivation;let v;this.router.events.pipe((0,x.M)(this.store)).subscribe(([L,ne])=>{this.lastEvent=L,L instanceof N.OD?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==Tt.STORE&&(this.storeState=ne,this.dispatchRouterRequest(L))):L instanceof N.R9?(v=L,!c&&this.trigger!==Tt.STORE&&this.dispatchRouterNavigation(L)):L instanceof N.gk?(this.dispatchRouterCancel(L),this.reset()):L instanceof N.Q3?(this.dispatchRouterError(L),this.reset()):L instanceof N.m2&&(this.trigger!==Tt.STORE&&(c&&this.dispatchRouterNavigation(v),this.dispatchRouterNavigated(L)),this.reset())})}dispatchRouterRequest(c){this.dispatchRouterAction(h,{event:c})}dispatchRouterNavigation(c){const v=this.serializer.serialize(c.state);this.dispatchRouterAction(E,{routerState:v,event:new N.R9(c.id,c.url,c.urlAfterRedirects,v)})}dispatchRouterCancel(c){this.dispatchRouterAction(F,{storeState:this.storeState,event:c})}dispatchRouterError(c){this.dispatchRouterAction($,{storeState:this.storeState,event:new N.Q3(c.id,c.url,`${c}`)})}dispatchRouterNavigated(c){const v=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(q,{event:c,routerState:v})}dispatchRouterAction(c,v){this.trigger=Tt.ROUTER;try{this.store.dispatch({type:c,payload:{routerState:this.routerState,...v,event:0===this.config.routerState?v.event:{id:v.event.id,url:v.event.url,urlAfterRedirects:v.event.urlAfterRedirects}}})}finally{this.trigger=Tt.NONE}}reset(){this.trigger=Tt.NONE,this.storeState=null,this.routerState=null}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(S.yh),u.LFG(N.F0),u.LFG(fe),u.LFG(u.qLn),u.LFG(Ae),u.LFG(S.hg))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})();function dt(w){return w?.length>0&&"/"===w[w.length-1]?w.substring(0,w.length-1):w}function rn(w={}){return(0,u.MR2)([{provide:re,useValue:w},{provide:Ae,useFactory:Me,deps:[re]},{provide:fe,useClass:w.serializer?w.serializer:0===w.routerState?st:Ne},{provide:u.Xts,multi:!0,useFactory:()=>()=>(0,u.f3M)(Vt)},Vt])}let on=(()=>{class w{static forRoot(c={}){return{ngModule:w,providers:[rn(c)]}}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({})}return w})();var hn=l(6593),ln=l(7178),Kt=l(6825);function ht(w){return new u.vHH(3e3,!1)}function pe(w){switch(w.length){case 0:return new Kt.ZN;case 1:return w[0];default:return new Kt.ZE(w)}}function et(w,d,c=new Map,v=new Map){const L=[],ne=[];let Se=-1,Pe=null;if(d.forEach(mt=>{const Dt=mt.get("offset"),_n=Dt==Se,vn=_n&&Pe||new Map;mt.forEach((s,p)=>{let M=p,R=s;if("offset"!==p)switch(M=w.normalizePropertyName(M,L),R){case Kt.k1:R=c.get(p);break;case Kt.l3:R=v.get(p);break;default:R=w.normalizeStyleValue(p,M,R,L)}vn.set(M,R)}),_n||ne.push(vn),Pe=vn,Se=Dt}),L.length)throw function Pn(w){return new u.vHH(3502,!1)}();return ne}function ct(w,d,c,v){switch(d){case"start":w.onStart(()=>v(c&&at(c,"start",w)));break;case"done":w.onDone(()=>v(c&&at(c,"done",w)));break;case"destroy":w.onDestroy(()=>v(c&&at(c,"destroy",w)))}}function at(w,d,c){const ne=lt(w.element,w.triggerName,w.fromState,w.toState,d||w.phaseName,c.totalTime??w.totalTime,!!c.disabled),Se=w._data;return null!=Se&&(ne._data=Se),ne}function lt(w,d,c,v,L="",ne=0,Se){return{element:w,triggerName:d,fromState:c,toState:v,phaseName:L,totalTime:ne,disabled:!!Se}}function Bt(w,d,c){let v=w.get(d);return v||w.set(d,v=c),v}function fn(w){const d=w.indexOf(":");return[w.substring(1,d),w.slice(d+1)]}const yn=typeof document>"u"?null:document.documentElement;function Yt(w){const d=w.parentNode||w.host||null;return d===yn?null:d}let Lt=null,me=!1;function Xt(w,d){for(;d;){if(d===w)return!0;d=Yt(d)}return!1}function Rn(w,d,c){if(c)return Array.from(w.querySelectorAll(d));const v=w.querySelector(d);return v?[v]:[]}let Si=(()=>{class w{validateStyleProperty(c){return function Ye(w){Lt||(Lt=function kt(){return typeof document<"u"?document.body:null}()||{},me=!!Lt.style&&"WebkitAppearance"in Lt.style);let d=!0;return Lt.style&&!function Ke(w){return"ebkit"==w.substring(1,6)}(w)&&(d=w in Lt.style,!d&&me&&(d="Webkit"+w.charAt(0).toUpperCase()+w.slice(1)in Lt.style)),d}(c)}matchesElement(c,v){return!1}containsElement(c,v){return Xt(c,v)}getParentElement(c){return Yt(c)}query(c,v,L){return Rn(c,v,L)}computeStyle(c,v,L){return L||""}animate(c,v,L,ne,Se,Pe=[],mt){return new Kt.ZN(L,ne)}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),er=(()=>{class w{static#e=this.NOOP=new Si}return w})();class ir{}const Pi=1e3,rr="ng-enter",Ai="ng-leave",oi="ng-trigger",tr=".ng-trigger",Qr="ng-animating",zr=".ng-animating";function Vi(w){if("number"==typeof w)return w;const d=w.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:Wr(parseFloat(d[1]),d[2])}function Wr(w,d){return"s"===d?w*Pi:w}function Xr(w,d,c){return w.hasOwnProperty("duration")?w:function ve(w,d,c){let L,ne=0,Se="";if("string"==typeof w){const Pe=w.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Pe)return d.push(ht()),{duration:0,delay:0,easing:""};L=Wr(parseFloat(Pe[1]),Pe[2]);const mt=Pe[3];null!=mt&&(ne=Wr(parseFloat(mt),Pe[4]));const Dt=Pe[5];Dt&&(Se=Dt)}else L=w;if(!c){let Pe=!1,mt=d.length;L<0&&(d.push(function Ct(){return new u.vHH(3100,!1)}()),Pe=!0),ne<0&&(d.push(function Et(){return new u.vHH(3101,!1)}()),Pe=!0),Pe&&d.splice(mt,0,ht())}return{duration:L,delay:ne,easing:Se}}(w,d,c)}function wt(w,d,c){d.forEach((v,L)=>{const ne=_e(L);c&&!c.has(L)&&c.set(L,w.style[ne]),w.style[ne]=v})}function i(w,d){d.forEach((c,v)=>{const L=_e(v);w.style[L]=""})}function r(w){return Array.isArray(w)?1==w.length?w[0]:(0,Kt.vP)(w):w}const f=new RegExp("{{\\s*(.+?)\\s*}}","g");function T(w){let d=[];if("string"==typeof w){let c;for(;c=f.exec(w);)d.push(c[1]);f.lastIndex=0}return d}function k(w,d,c){const v=`${w}`,L=v.replace(f,(ne,Se)=>{let Pe=d[Se];return null==Pe&&(c.push(function jt(w){return new u.vHH(3003,!1)}()),Pe=""),Pe.toString()});return L==v?w:L}const te=/-+([a-z0-9])/g;function _e(w){return w.replace(te,(...d)=>d[1].toUpperCase())}function Ee(w,d,c){switch(d.type){case Kt.mo.Trigger:return w.visitTrigger(d,c);case Kt.mo.State:return w.visitState(d,c);case Kt.mo.Transition:return w.visitTransition(d,c);case Kt.mo.Sequence:return w.visitSequence(d,c);case Kt.mo.Group:return w.visitGroup(d,c);case Kt.mo.Animate:return w.visitAnimate(d,c);case Kt.mo.Keyframes:return w.visitKeyframes(d,c);case Kt.mo.Style:return w.visitStyle(d,c);case Kt.mo.Reference:return w.visitReference(d,c);case Kt.mo.AnimateChild:return w.visitAnimateChild(d,c);case Kt.mo.AnimateRef:return w.visitAnimateRef(d,c);case Kt.mo.Query:return w.visitQuery(d,c);case Kt.mo.Stagger:return w.visitStagger(d,c);default:throw function un(w){return new u.vHH(3004,!1)}()}}function xe(w,d){return window.getComputedStyle(w)[d]}const Ve=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ot extends ir{normalizePropertyName(d,c){return _e(d)}normalizeStyleValue(d,c,v,L){let ne="";const Se=v.toString().trim();if(Ve.has(c)&&0!==v&&"0"!==v)if("number"==typeof v)ne="px";else{const Pe=v.match(/^[+-]?[\d\.]+([a-z]*)$/);Pe&&0==Pe[1].length&&L.push(function An(w,d){return new u.vHH(3005,!1)}())}return Se+ne}}const Q="*";const Rt=new Set(["true","1"]),_t=new Set(["false","0"]);function Jt(w,d){const c=Rt.has(w)||_t.has(w),v=Rt.has(d)||_t.has(d);return(L,ne)=>{let Se=w==Q||w==L,Pe=d==Q||d==ne;return!Se&&c&&"boolean"==typeof L&&(Se=L?Rt.has(w):_t.has(w)),!Pe&&v&&"boolean"==typeof ne&&(Pe=ne?Rt.has(d):_t.has(d)),Se&&Pe}}const Ln=new RegExp("s*:selfs*,?","g");function Vn(w,d,c,v){return new ui(w).build(d,c,v)}class ui{constructor(d){this._driver=d}build(d,c,v){const L=new vi(c);return this._resetContextStyleTimingState(L),Ee(this,r(d),L)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles=new Map,d.collectedStyles.set("",new Map),d.currentTime=0}visitTrigger(d,c){let v=c.queryCount=0,L=c.depCount=0;const ne=[],Se=[];return"@"==d.name.charAt(0)&&c.errors.push(function Te(){return new u.vHH(3006,!1)}()),d.definitions.forEach(Pe=>{if(this._resetContextStyleTimingState(c),Pe.type==Kt.mo.State){const mt=Pe,Dt=mt.name;Dt.toString().split(/\s*,\s*/).forEach(_n=>{mt.name=_n,ne.push(this.visitState(mt,c))}),mt.name=Dt}else if(Pe.type==Kt.mo.Transition){const mt=this.visitTransition(Pe,c);v+=mt.queryCount,L+=mt.depCount,Se.push(mt)}else c.errors.push(function U(){return new u.vHH(3007,!1)}())}),{type:Kt.mo.Trigger,name:d.name,states:ne,transitions:Se,queryCount:v,depCount:L,options:null}}visitState(d,c){const v=this.visitStyle(d.styles,c),L=d.options&&d.options.params||null;if(v.containsDynamicStyles){const ne=new Set,Se=L||{};v.styles.forEach(Pe=>{Pe instanceof Map&&Pe.forEach(mt=>{T(mt).forEach(Dt=>{Se.hasOwnProperty(Dt)||ne.add(Dt)})})}),ne.size&&c.errors.push(function K(w,d){return new u.vHH(3008,!1)}(0,ne.values()))}return{type:Kt.mo.State,name:d.name,style:v,options:L?{params:L}:null}}visitTransition(d,c){c.queryCount=0,c.depCount=0;const v=Ee(this,r(d.animation),c),L=function Fe(w,d){const c=[];return"string"==typeof w?w.split(/\s*,\s*/).forEach(v=>function ze(w,d,c){if(":"==w[0]){const mt=function Be(w,d){switch(w){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,v)=>parseFloat(v)>parseFloat(c);case":decrement":return(c,v)=>parseFloat(v)<parseFloat(c);default:return d.push(function Hn(w){return new u.vHH(3016,!1)}()),"* => *"}}(w,c);if("function"==typeof mt)return void d.push(mt);w=mt}const v=w.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==v||v.length<4)return c.push(function On(w){return new u.vHH(3015,!1)}()),d;const L=v[1],ne=v[2],Se=v[3];d.push(Jt(L,Se)),"<"==ne[0]&&(L!=Q||Se!=Q)&&d.push(Jt(Se,L))}(v,c,d)):c.push(w),c}(d.expr,c.errors);return{type:Kt.mo.Transition,matchers:L,animation:v,queryCount:c.queryCount,depCount:c.depCount,options:Dr(d.options)}}visitSequence(d,c){return{type:Kt.mo.Sequence,steps:d.steps.map(v=>Ee(this,v,c)),options:Dr(d.options)}}visitGroup(d,c){const v=c.currentTime;let L=0;const ne=d.steps.map(Se=>{c.currentTime=v;const Pe=Ee(this,Se,c);return L=Math.max(L,c.currentTime),Pe});return c.currentTime=L,{type:Kt.mo.Group,steps:ne,options:Dr(d.options)}}visitAnimate(d,c){const v=function Zi(w,d){if(w.hasOwnProperty("duration"))return w;if("number"==typeof w)return nr(Xr(w,d).duration,0,"");const c=w;if(c.split(/\s+/).some(ne=>"{"==ne.charAt(0)&&"{"==ne.charAt(1))){const ne=nr(0,0,"");return ne.dynamic=!0,ne.strValue=c,ne}const L=Xr(c,d);return nr(L.duration,L.delay,L.easing)}(d.timings,c.errors);c.currentAnimateTimings=v;let L,ne=d.styles?d.styles:(0,Kt.oB)({});if(ne.type==Kt.mo.Keyframes)L=this.visitKeyframes(ne,c);else{let Se=d.styles,Pe=!1;if(!Se){Pe=!0;const Dt={};v.easing&&(Dt.easing=v.easing),Se=(0,Kt.oB)(Dt)}c.currentTime+=v.duration+v.delay;const mt=this.visitStyle(Se,c);mt.isEmptyStep=Pe,L=mt}return c.currentAnimateTimings=null,{type:Kt.mo.Animate,timings:v,style:L,options:null}}visitStyle(d,c){const v=this._makeStyleAst(d,c);return this._validateStyleAst(v,c),v}_makeStyleAst(d,c){const v=[],L=Array.isArray(d.styles)?d.styles:[d.styles];for(let Pe of L)"string"==typeof Pe?Pe===Kt.l3?v.push(Pe):c.errors.push(new u.vHH(3002,!1)):v.push(new Map(Object.entries(Pe)));let ne=!1,Se=null;return v.forEach(Pe=>{if(Pe instanceof Map&&(Pe.has("easing")&&(Se=Pe.get("easing"),Pe.delete("easing")),!ne))for(let mt of Pe.values())if(mt.toString().indexOf("{{")>=0){ne=!0;break}}),{type:Kt.mo.Style,styles:v,easing:Se,offset:d.offset,containsDynamicStyles:ne,options:null}}_validateStyleAst(d,c){const v=c.currentAnimateTimings;let L=c.currentTime,ne=c.currentTime;v&&ne>0&&(ne-=v.duration+v.delay),d.styles.forEach(Se=>{"string"!=typeof Se&&Se.forEach((Pe,mt)=>{const Dt=c.collectedStyles.get(c.currentQuerySelector),_n=Dt.get(mt);let vn=!0;_n&&(ne!=L&&ne>=_n.startTime&&L<=_n.endTime&&(c.errors.push(function tt(w,d,c,v,L){return new u.vHH(3010,!1)}()),vn=!1),ne=_n.startTime),vn&&Dt.set(mt,{startTime:ne,endTime:L}),c.options&&function a(w,d,c){const v=d.params||{},L=T(w);L.length&&L.forEach(ne=>{v.hasOwnProperty(ne)||c.push(function zt(w){return new u.vHH(3001,!1)}())})}(Pe,c.options,c.errors)})})}visitKeyframes(d,c){const v={type:Kt.mo.Keyframes,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function qe(){return new u.vHH(3011,!1)}()),v;let ne=0;const Se=[];let Pe=!1,mt=!1,Dt=0;const _n=d.steps.map(de=>{const ge=this._makeStyleAst(de,c);let He=null!=ge.offset?ge.offset:function zi(w){if("string"==typeof w)return null;let d=null;if(Array.isArray(w))w.forEach(c=>{if(c instanceof Map&&c.has("offset")){const v=c;d=parseFloat(v.get("offset")),v.delete("offset")}});else if(w instanceof Map&&w.has("offset")){const c=w;d=parseFloat(c.get("offset")),c.delete("offset")}return d}(ge.styles),We=0;return null!=He&&(ne++,We=ge.offset=He),mt=mt||We<0||We>1,Pe=Pe||We<Dt,Dt=We,Se.push(We),ge});mt&&c.errors.push(function yt(){return new u.vHH(3012,!1)}()),Pe&&c.errors.push(function Qe(){return new u.vHH(3200,!1)}());const vn=d.steps.length;let s=0;ne>0&&ne<vn?c.errors.push(function St(){return new u.vHH(3202,!1)}()):0==ne&&(s=1/(vn-1));const p=vn-1,M=c.currentTime,R=c.currentAnimateTimings,Y=R.duration;return _n.forEach((de,ge)=>{const He=s>0?ge==p?1:s*ge:Se[ge],We=He*Y;c.currentTime=M+R.delay+We,R.duration=We,this._validateStyleAst(de,c),de.offset=He,v.styles.push(de)}),v}visitReference(d,c){return{type:Kt.mo.Reference,animation:Ee(this,r(d.animation),c),options:Dr(d.options)}}visitAnimateChild(d,c){return c.depCount++,{type:Kt.mo.AnimateChild,options:Dr(d.options)}}visitAnimateRef(d,c){return{type:Kt.mo.AnimateRef,animation:this.visitReference(d.animation,c),options:Dr(d.options)}}visitQuery(d,c){const v=c.currentQuerySelector,L=d.options||{};c.queryCount++,c.currentQuery=d;const[ne,Se]=function $i(w){const d=!!w.split(/\s*,\s*/).find(c=>":self"==c);return d&&(w=w.replace(Ln,"")),w=w.replace(/@\*/g,tr).replace(/@\w+/g,c=>tr+"-"+c.slice(1)).replace(/:animating/g,zr),[w,d]}(d.selector);c.currentQuerySelector=v.length?v+" "+ne:ne,Bt(c.collectedStyles,c.currentQuerySelector,new Map);const Pe=Ee(this,r(d.animation),c);return c.currentQuery=null,c.currentQuerySelector=v,{type:Kt.mo.Query,selector:ne,limit:L.limit||0,optional:!!L.optional,includeSelf:Se,animation:Pe,originalSelector:d.selector,options:Dr(d.options)}}visitStagger(d,c){c.currentQuery||c.errors.push(function $t(){return new u.vHH(3013,!1)}());const v="full"===d.timings?{duration:0,delay:0,easing:"full"}:Xr(d.timings,c.errors,!0);return{type:Kt.mo.Stagger,animation:Ee(this,r(d.animation),c),timings:v,options:null}}}class vi{constructor(d){this.errors=d,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Dr(w){return w?(w={...w}).params&&(w.params=function Xn(w){return w?{...w}:null}(w.params)):w={},w}function nr(w,d,c){return{duration:w,delay:d,easing:c}}function Ar(w,d,c,v,L,ne,Se=null,Pe=!1){return{type:1,element:w,keyframes:d,preStyleProps:c,postStyleProps:v,duration:L,delay:ne,totalTime:L+ne,easing:Se,subTimeline:Pe}}class lr{constructor(){this._map=new Map}get(d){return this._map.get(d)||[]}append(d,c){let v=this._map.get(d);v||this._map.set(d,v=[]),v.push(...c)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const cr=new RegExp(":enter","g"),$r=new RegExp(":leave","g");function vr(w,d,c,v,L,ne=new Map,Se=new Map,Pe,mt,Dt=[]){return(new Yr).buildKeyframes(w,d,c,v,L,ne,Se,Pe,mt,Dt)}class Yr{buildKeyframes(d,c,v,L,ne,Se,Pe,mt,Dt,_n=[]){Dt=Dt||new lr;const vn=new yr(d,c,Dt,L,ne,_n,[]);vn.options=mt;const s=mt.delay?Vi(mt.delay):0;vn.currentTimeline.delayNextStep(s),vn.currentTimeline.setStyles([Se],null,vn.errors,mt),Ee(this,v,vn);const p=vn.timelines.filter(M=>M.containsAnimation());if(p.length&&Pe.size){let M;for(let R=p.length-1;R>=0;R--){const Y=p[R];if(Y.element===c){M=Y;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([Pe],null,vn.errors,mt)}return p.length?p.map(M=>M.buildKeyframes()):[Ar(c,[],[],[],0,s,"",!1)]}visitTrigger(d,c){}visitState(d,c){}visitTransition(d,c){}visitAnimateChild(d,c){const v=c.subInstructions.get(c.element);if(v){const L=c.createSubContext(d.options),ne=c.currentTimeline.currentTime,Se=this._visitSubInstructions(v,L,L.options);ne!=Se&&c.transformIntoNewTimeline(Se)}c.previousNode=d}visitAnimateRef(d,c){const v=c.createSubContext(d.options);v.transformIntoNewTimeline(),this._applyAnimationRefDelays([d.options,d.animation.options],c,v),this.visitReference(d.animation,v),c.transformIntoNewTimeline(v.currentTimeline.currentTime),c.previousNode=d}_applyAnimationRefDelays(d,c,v){for(const L of d){const ne=L?.delay;if(ne){const Se="number"==typeof ne?ne:Vi(k(ne,L?.params??{},c.errors));v.delayNextStep(Se)}}}_visitSubInstructions(d,c,v){let ne=c.currentTimeline.currentTime;const Se=null!=v.duration?Vi(v.duration):null,Pe=null!=v.delay?Vi(v.delay):null;return 0!==Se&&d.forEach(mt=>{const Dt=c.appendInstructionToTimeline(mt,Se,Pe);ne=Math.max(ne,Dt.duration+Dt.delay)}),ne}visitReference(d,c){c.updateOptions(d.options,!0),Ee(this,d.animation,c),c.previousNode=d}visitSequence(d,c){const v=c.subContextCount;let L=c;const ne=d.options;if(ne&&(ne.params||ne.delay)&&(L=c.createSubContext(ne),L.transformIntoNewTimeline(),null!=ne.delay)){L.previousNode.type==Kt.mo.Style&&(L.currentTimeline.snapshotCurrentStyles(),L.previousNode=Br);const Se=Vi(ne.delay);L.delayNextStep(Se)}d.steps.length&&(d.steps.forEach(Se=>Ee(this,Se,L)),L.currentTimeline.applyStylesToKeyframe(),L.subContextCount>v&&L.transformIntoNewTimeline()),c.previousNode=d}visitGroup(d,c){const v=[];let L=c.currentTimeline.currentTime;const ne=d.options&&d.options.delay?Vi(d.options.delay):0;d.steps.forEach(Se=>{const Pe=c.createSubContext(d.options);ne&&Pe.delayNextStep(ne),Ee(this,Se,Pe),L=Math.max(L,Pe.currentTimeline.currentTime),v.push(Pe.currentTimeline)}),v.forEach(Se=>c.currentTimeline.mergeTimelineCollectedStyles(Se)),c.transformIntoNewTimeline(L),c.previousNode=d}_visitTiming(d,c){if(d.dynamic){const v=d.strValue;return Xr(c.params?k(v,c.params,c.errors):v,c.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,c){const v=c.currentAnimateTimings=this._visitTiming(d.timings,c),L=c.currentTimeline;v.delay&&(c.incrementTime(v.delay),L.snapshotCurrentStyles());const ne=d.style;ne.type==Kt.mo.Keyframes?this.visitKeyframes(ne,c):(c.incrementTime(v.duration),this.visitStyle(ne,c),L.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=d}visitStyle(d,c){const v=c.currentTimeline,L=c.currentAnimateTimings;!L&&v.hasCurrentStyleProperties()&&v.forwardFrame();const ne=L&&L.easing||d.easing;d.isEmptyStep?v.applyEmptyStep(ne):v.setStyles(d.styles,ne,c.errors,c.options),c.previousNode=d}visitKeyframes(d,c){const v=c.currentAnimateTimings,L=c.currentTimeline.duration,ne=v.duration,Pe=c.createSubContext().currentTimeline;Pe.easing=v.easing,d.styles.forEach(mt=>{Pe.forwardTime((mt.offset||0)*ne),Pe.setStyles(mt.styles,mt.easing,c.errors,c.options),Pe.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(Pe),c.transformIntoNewTimeline(L+ne),c.previousNode=d}visitQuery(d,c){const v=c.currentTimeline.currentTime,L=d.options||{},ne=L.delay?Vi(L.delay):0;ne&&(c.previousNode.type===Kt.mo.Style||0==v&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Br);let Se=v;const Pe=c.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!L.optional,c.errors);c.currentQueryTotal=Pe.length;let mt=null;Pe.forEach((Dt,_n)=>{c.currentQueryIndex=_n;const vn=c.createSubContext(d.options,Dt);ne&&vn.delayNextStep(ne),Dt===c.element&&(mt=vn.currentTimeline),Ee(this,d.animation,vn),vn.currentTimeline.applyStylesToKeyframe(),Se=Math.max(Se,vn.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(Se),mt&&(c.currentTimeline.mergeTimelineCollectedStyles(mt),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=d}visitStagger(d,c){const v=c.parentContext,L=c.currentTimeline,ne=d.timings,Se=Math.abs(ne.duration),Pe=Se*(c.currentQueryTotal-1);let mt=Se*c.currentQueryIndex;switch(ne.duration<0?"reverse":ne.easing){case"reverse":mt=Pe-mt;break;case"full":mt=v.currentStaggerTime}const _n=c.currentTimeline;mt&&_n.delayNextStep(mt);const vn=_n.currentTime;Ee(this,d.animation,c),c.previousNode=d,v.currentStaggerTime=L.currentTime-vn+(L.startTime-v.currentTimeline.startTime)}}const Br={};class yr{constructor(d,c,v,L,ne,Se,Pe,mt){this._driver=d,this.element=c,this.subInstructions=v,this._enterClassName=L,this._leaveClassName=ne,this.errors=Se,this.timelines=Pe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Br,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=mt||new Mr(this._driver,c,0),Pe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,c){if(!d)return;const v=d;let L=this.options;null!=v.duration&&(L.duration=Vi(v.duration)),null!=v.delay&&(L.delay=Vi(v.delay));const ne=v.params;if(ne){let Se=L.params;Se||(Se=this.options.params={}),Object.keys(ne).forEach(Pe=>{(!c||!Se.hasOwnProperty(Pe))&&(Se[Pe]=k(ne[Pe],Se,this.errors))})}}_copyOptions(){const d={};if(this.options){const c=this.options.params;if(c){const v=d.params={};Object.keys(c).forEach(L=>{v[L]=c[L]})}}return d}createSubContext(d=null,c,v){const L=c||this.element,ne=new yr(this._driver,L,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(L,v||0));return ne.previousNode=this.previousNode,ne.currentAnimateTimings=this.currentAnimateTimings,ne.options=this._copyOptions(),ne.updateOptions(d),ne.currentQueryIndex=this.currentQueryIndex,ne.currentQueryTotal=this.currentQueryTotal,ne.parentContext=this,this.subContextCount++,ne}transformIntoNewTimeline(d){return this.previousNode=Br,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,c,v){const L={duration:c??d.duration,delay:this.currentTimeline.currentTime+(v??0)+d.delay,easing:""},ne=new ur(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,L,d.stretchStartingKeyframe);return this.timelines.push(ne),L}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,c,v,L,ne,Se){let Pe=[];if(L&&Pe.push(this.element),d.length>0){d=(d=d.replace(cr,"."+this._enterClassName)).replace($r,"."+this._leaveClassName);let Dt=this._driver.query(this.element,d,1!=v);0!==v&&(Dt=v<0?Dt.slice(Dt.length+v,Dt.length):Dt.slice(0,v)),Pe.push(...Dt)}return!ne&&0==Pe.length&&Se.push(function an(w){return new u.vHH(3014,!1)}()),Pe}}class Mr{constructor(d,c,v,L){this._driver=d,this.element=c,this.startTime=v,this._elementTimelineStylesLookup=L,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+d),c&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,c){return this.applyStylesToKeyframe(),new Mr(this._driver,d,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,c){this._localTimelineStyles.set(d,c),this._globalTimelineStyles.set(d,c),this._styleSummary.set(d,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&this._previousKeyframe.set("easing",d);for(let[c,v]of this._globalTimelineStyles)this._backFill.set(c,v||Kt.l3),this._currentKeyframe.set(c,Kt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,c,v,L){c&&this._previousKeyframe.set("easing",c);const ne=L&&L.params||{},Se=function Bi(w,d){const c=new Map;let v;return w.forEach(L=>{if("*"===L){v??=d.keys();for(let ne of v)c.set(ne,Kt.l3)}else for(let[ne,Se]of L)c.set(ne,Se)}),c}(d,this._globalTimelineStyles);for(let[Pe,mt]of Se){const Dt=k(mt,ne,v);this._pendingStyles.set(Pe,Dt),this._localTimelineStyles.has(Pe)||this._backFill.set(Pe,this._globalTimelineStyles.get(Pe)??Kt.l3),this._updateStyle(Pe,Dt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((d,c)=>{this._currentKeyframe.set(c,d)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((d,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,d)}))}snapshotCurrentStyles(){for(let[d,c]of this._localTimelineStyles)this._pendingStyles.set(d,c),this._updateStyle(d,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let c in this._currentKeyframe)d.push(c);return d}mergeTimelineCollectedStyles(d){d._styleSummary.forEach((c,v)=>{const L=this._styleSummary.get(v);(!L||c.time>L.time)&&this._updateStyle(v,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,c=new Set,v=1===this._keyframes.size&&0===this.duration;let L=[];this._keyframes.forEach((Pe,mt)=>{const Dt=new Map([...this._backFill,...Pe]);Dt.forEach((_n,vn)=>{_n===Kt.k1?d.add(vn):_n===Kt.l3&&c.add(vn)}),v||Dt.set("offset",mt/this.duration),L.push(Dt)});const ne=[...d.values()],Se=[...c.values()];if(v){const Pe=L[0],mt=new Map(Pe);Pe.set("offset",0),mt.set("offset",1),L=[Pe,mt]}return Ar(this.element,L,ne,Se,this.duration,this.startTime,this.easing,!1)}}class ur extends Mr{constructor(d,c,v,L,ne,Se,Pe=!1){super(d,c,Se.delay),this.keyframes=v,this.preStyleProps=L,this.postStyleProps=ne,this._stretchStartingKeyframe=Pe,this.timings={duration:Se.duration,delay:Se.delay,easing:Se.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:c,duration:v,easing:L}=this.timings;if(this._stretchStartingKeyframe&&c){const ne=[],Se=v+c,Pe=c/Se,mt=new Map(d[0]);mt.set("offset",0),ne.push(mt);const Dt=new Map(d[0]);Dt.set("offset",Li(Pe)),ne.push(Dt);const _n=d.length-1;for(let vn=1;vn<=_n;vn++){let s=new Map(d[vn]);const p=s.get("offset");s.set("offset",Li((c+p*v)/Se)),ne.push(s)}v=Se,c=0,L="",d=ne}return Ar(this.element,d,this.preStyleProps,this.postStyleProps,v,c,L,!0)}}function Li(w,d=3){const c=Math.pow(10,d-1);return Math.round(w*c)/c}function Ci(w,d,c,v,L,ne,Se,Pe,mt,Dt,_n,vn,s){return{type:0,element:w,triggerName:d,isRemovalTransition:L,fromState:c,fromStyles:ne,toState:v,toStyles:Se,timelines:Pe,queriedElements:mt,preStyleProps:Dt,postStyleProps:_n,totalTime:vn,errors:s}}const br={};class Gr{constructor(d,c,v){this._triggerName=d,this.ast=c,this._stateStyles=v}match(d,c,v,L){return function Ds(w,d,c,v,L){return w.some(ne=>ne(d,c,v,L))}(this.ast.matchers,d,c,v,L)}buildStyles(d,c,v){let L=this._stateStyles.get("*");return void 0!==d&&(L=this._stateStyles.get(d?.toString())||L),L?L.buildStyles(c,v):new Map}build(d,c,v,L,ne,Se,Pe,mt,Dt,_n){const vn=[],s=this.ast.options&&this.ast.options.params||br,M=this.buildStyles(v,Pe&&Pe.params||br,vn),R=mt&&mt.params||br,Y=this.buildStyles(L,R,vn),de=new Set,ge=new Map,He=new Map,We="void"===L,rt={params:Er(R,s),delay:this.ast.options?.delay},vt=_n?[]:vr(d,c,this.ast.animation,ne,Se,M,Y,rt,Dt,vn);let Ft=0;return vt.forEach(Pt=>{Ft=Math.max(Pt.duration+Pt.delay,Ft)}),vn.length?Ci(c,this._triggerName,v,L,We,M,Y,[],[],ge,He,Ft,vn):(vt.forEach(Pt=>{const en=Pt.element,Wn=Bt(ge,en,new Set);Pt.preStyleProps.forEach(tn=>Wn.add(tn));const Ti=Bt(He,en,new Set);Pt.postStyleProps.forEach(tn=>Ti.add(tn)),en!==c&&de.add(en)}),Ci(c,this._triggerName,v,L,We,M,Y,vt,[...de.values()],ge,He,Ft))}}function Er(w,d){const c={...d};return Object.entries(w).forEach(([v,L])=>{null!=L&&(c[v]=L)}),c}class Ur{constructor(d,c,v){this.styles=d,this.defaultParams=c,this.normalizer=v}buildStyles(d,c){const v=new Map,L=Er(d,this.defaultParams);return this.styles.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((Se,Pe)=>{Se&&(Se=k(Se,L,c));const mt=this.normalizer.normalizePropertyName(Pe,c);Se=this.normalizer.normalizeStyleValue(Pe,mt,Se,c),v.set(Pe,Se)})}),v}}class ao{constructor(d,c,v){this.name=d,this.ast=c,this._normalizer=v,this.transitionFactories=[],this.states=new Map,c.states.forEach(L=>{this.states.set(L.name,new Ur(L.style,L.options&&L.options.params||{},v))}),wo(this.states,"true","1"),wo(this.states,"false","0"),c.transitions.forEach(L=>{this.transitionFactories.push(new Gr(d,L,this.states))}),this.fallbackTransition=function es(w,d,c){return new Gr(w,{type:Kt.mo.Transition,animation:{type:Kt.mo.Sequence,steps:[],options:null},matchers:[(Se,Pe)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,c,v,L){return this.transitionFactories.find(Se=>Se.match(d,c,v,L))||null}matchStyles(d,c,v){return this.fallbackTransition.buildStyles(d,c,v)}}function wo(w,d,c){w.has(d)?w.has(c)||w.set(c,w.get(d)):w.has(c)&&w.set(d,w.get(c))}const So=new lr;class Vo{constructor(d,c,v){this.bodyNode=d,this._driver=c,this._normalizer=v,this._animations=new Map,this._playersById=new Map,this.players=[]}register(d,c){const v=[],ne=Vn(this._driver,c,v,[]);if(v.length)throw function mi(w){return new u.vHH(3503,!1)}();this._animations.set(d,ne)}_buildPlayer(d,c,v){const L=d.element,ne=et(this._normalizer,d.keyframes,c,v);return this._driver.animate(L,ne,d.duration,d.delay,d.easing,[],!0)}create(d,c,v={}){const L=[],ne=this._animations.get(d);let Se;const Pe=new Map;if(ne?(Se=vr(this._driver,c,ne,rr,Ai,new Map,new Map,v,So,L),Se.forEach(_n=>{const vn=Bt(Pe,_n.element,new Map);_n.postStyleProps.forEach(s=>vn.set(s,null))})):(L.push(function ri(){return new u.vHH(3300,!1)}()),Se=[]),L.length)throw function ce(w){return new u.vHH(3504,!1)}();Pe.forEach((_n,vn)=>{_n.forEach((s,p)=>{_n.set(p,this._driver.computeStyle(vn,p,Kt.l3))})});const Dt=pe(Se.map(_n=>{const vn=Pe.get(_n.element);return this._buildPlayer(_n,new Map,vn)}));return this._playersById.set(d,Dt),Dt.onDestroy(()=>this.destroy(d)),this.players.push(Dt),Dt}destroy(d){const c=this._getPlayer(d);c.destroy(),this._playersById.delete(d);const v=this.players.indexOf(c);v>=0&&this.players.splice(v,1)}_getPlayer(d){const c=this._playersById.get(d);if(!c)throw function Di(w){return new u.vHH(3301,!1)}();return c}listen(d,c,v,L){const ne=lt(c,"","","");return ct(this._getPlayer(d),v,ne,L),()=>{}}command(d,c,v,L){if("register"==v)return void this.register(d,L[0]);if("create"==v)return void this.create(d,c,L[0]||{});const ne=this._getPlayer(d);switch(v){case"play":ne.play();break;case"pause":ne.pause();break;case"reset":ne.reset();break;case"restart":ne.restart();break;case"finish":ne.finish();break;case"init":ne.init();break;case"setPosition":ne.setPosition(parseFloat(L[0]));break;case"destroy":this.destroy(d)}}}const Co="ng-animate-queued",lo="ng-animate-disabled",Jr=[],Ls={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Bs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dr="__ng_removed";class ts{get params(){return this.options.params}constructor(d,c=""){this.namespaceId=c;const v=d&&d.hasOwnProperty("value");if(this.value=function uo(w){return w??null}(v?d.value:d),v){const{value:ne,...Se}=d;this.options=Se}else this.options={};this.options.params||(this.options.params={})}absorbOptions(d){const c=d.params;if(c){const v=this.options.params;Object.keys(c).forEach(L=>{null==v[L]&&(v[L]=c[L])})}}}const sr="void",Mi=new ts(sr);class Us{constructor(d,c,v){this.id=d,this.hostElement=c,this._engine=v,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+d,hr(c,this._hostClassName)}listen(d,c,v,L){if(!this._triggers.has(c))throw function Ii(w,d){return new u.vHH(3302,!1)}();if(null==v||0==v.length)throw function Qt(w){return new u.vHH(3303,!1)}();if(!function ds(w){return"start"==w||"done"==w}(v))throw function Cr(w,d){return new u.vHH(3400,!1)}();const ne=Bt(this._elementListeners,d,[]),Se={name:c,phase:v,callback:L};ne.push(Se);const Pe=Bt(this._engine.statesByElement,d,new Map);return Pe.has(c)||(hr(d,oi),hr(d,oi+"-"+c),Pe.set(c,Mi)),()=>{this._engine.afterFlush(()=>{const mt=ne.indexOf(Se);mt>=0&&ne.splice(mt,1),this._triggers.has(c)||Pe.delete(c)})}}register(d,c){return!this._triggers.has(d)&&(this._triggers.set(d,c),!0)}_getTrigger(d){const c=this._triggers.get(d);if(!c)throw function Qi(w){return new u.vHH(3401,!1)}();return c}trigger(d,c,v,L=!0){const ne=this._getTrigger(c),Se=new ys(this.id,c,d);let Pe=this._engine.statesByElement.get(d);Pe||(hr(d,oi),hr(d,oi+"-"+c),this._engine.statesByElement.set(d,Pe=new Map));let mt=Pe.get(c);const Dt=new ts(v,this.id);if(!(v&&v.hasOwnProperty("value"))&&mt&&Dt.absorbOptions(mt.options),Pe.set(c,Dt),mt||(mt=Mi),Dt.value!==sr&&mt.value===Dt.value){if(!function W(w,d){const c=Object.keys(w),v=Object.keys(d);if(c.length!=v.length)return!1;for(let L=0;L<c.length;L++){const ne=c[L];if(!d.hasOwnProperty(ne)||w[ne]!==d[ne])return!1}return!0}(mt.params,Dt.params)){const R=[],Y=ne.matchStyles(mt.value,mt.params,R),de=ne.matchStyles(Dt.value,Dt.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{i(d,Y),wt(d,de)})}return}const s=Bt(this._engine.playersByElement,d,[]);s.forEach(R=>{R.namespaceId==this.id&&R.triggerName==c&&R.queued&&R.destroy()});let p=ne.matchTransition(mt.value,Dt.value,d,Dt.params),M=!1;if(!p){if(!L)return;p=ne.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:c,transition:p,fromState:mt,toState:Dt,player:Se,isFallbackTransition:M}),M||(hr(d,Co),Se.onStart(()=>{Hr(d,Co)})),Se.onDone(()=>{let R=this.players.indexOf(Se);R>=0&&this.players.splice(R,1);const Y=this._engine.playersByElement.get(d);if(Y){let de=Y.indexOf(Se);de>=0&&Y.splice(de,1)}}),this.players.push(Se),s.push(Se),Se}deregister(d){this._triggers.delete(d),this._engine.statesByElement.forEach(c=>c.delete(d)),this._elementListeners.forEach((c,v)=>{this._elementListeners.set(v,c.filter(L=>L.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const c=this._engine.playersByElement.get(d);c&&(c.forEach(v=>v.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,c){const v=this._engine.driver.query(d,tr,!0);v.forEach(L=>{if(L[dr])return;const ne=this._engine.fetchNamespacesByElement(L);ne.size?ne.forEach(Se=>Se.triggerLeaveAnimation(L,c,!1,!0)):this.clearElementCache(L)}),this._engine.afterFlushAnimationsDone(()=>v.forEach(L=>this.clearElementCache(L)))}triggerLeaveAnimation(d,c,v,L){const ne=this._engine.statesByElement.get(d),Se=new Map;if(ne){const Pe=[];if(ne.forEach((mt,Dt)=>{if(Se.set(Dt,mt.value),this._triggers.has(Dt)){const _n=this.trigger(d,Dt,sr,L);_n&&Pe.push(_n)}}),Pe.length)return this._engine.markElementAsRemoved(this.id,d,!0,c,Se),v&&pe(Pe).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const c=this._elementListeners.get(d),v=this._engine.statesByElement.get(d);if(c&&v){const L=new Set;c.forEach(ne=>{const Se=ne.name;if(L.has(Se))return;L.add(Se);const mt=this._triggers.get(Se).fallbackTransition,Dt=v.get(Se)||Mi,_n=new ts(sr),vn=new ys(this.id,Se,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:Se,transition:mt,fromState:Dt,toState:_n,player:vn,isFallbackTransition:!0})})}}removeNode(d,c){const v=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,c),this.triggerLeaveAnimation(d,c,!0))return;let L=!1;if(v.totalAnimations){const ne=v.players.length?v.playersByQueriedElement.get(d):[];if(ne&&ne.length)L=!0;else{let Se=d;for(;Se=Se.parentNode;)if(v.statesByElement.get(Se)){L=!0;break}}}if(this.prepareLeaveAnimationListeners(d),L)v.markElementAsRemoved(this.id,d,!1,c);else{const ne=d[dr];(!ne||ne===Ls)&&(v.afterFlush(()=>this.clearElementCache(d)),v.destroyInnerAnimations(d),v._onRemovalComplete(d,c))}}insertNode(d,c){hr(d,this._hostClassName)}drainQueuedTransitions(d){const c=[];return this._queue.forEach(v=>{const L=v.player;if(L.destroyed)return;const ne=v.element,Se=this._elementListeners.get(ne);Se&&Se.forEach(Pe=>{if(Pe.name==v.triggerName){const mt=lt(ne,v.triggerName,v.fromState.value,v.toState.value);mt._data=d,ct(v.player,Pe.phase,mt,Pe.callback)}}),L.markedForDestroy?this._engine.afterFlush(()=>{L.destroy()}):c.push(v)}),this._queue=[],c.sort((v,L)=>{const ne=v.transition.ast.depCount,Se=L.transition.ast.depCount;return 0==ne||0==Se?ne-Se:this._engine.driver.containsElement(v.element,L.element)?1:-1})}destroy(d){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}}class us{_onRemovalComplete(d,c){this.onRemovalComplete(d,c)}constructor(d,c,v){this.bodyNode=d,this.driver=c,this._normalizer=v,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(L,ne)=>{}}get queuedPlayers(){const d=[];return this._namespaceList.forEach(c=>{c.players.forEach(v=>{v.queued&&d.push(v)})}),d}createNamespace(d,c){const v=new Us(d,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(v,c):(this.newHostElements.set(c,v),this.collectEnterElement(c)),this._namespaceLookup[d]=v}_balanceNamespaceList(d,c){const v=this._namespaceList,L=this.namespacesByHostElement;if(v.length-1>=0){let Se=!1,Pe=this.driver.getParentElement(c);for(;Pe;){const mt=L.get(Pe);if(mt){const Dt=v.indexOf(mt);v.splice(Dt+1,0,d),Se=!0;break}Pe=this.driver.getParentElement(Pe)}Se||v.unshift(d)}else v.push(d);return L.set(c,d),d}register(d,c){let v=this._namespaceLookup[d];return v||(v=this.createNamespace(d,c)),v}registerTrigger(d,c,v){let L=this._namespaceLookup[d];L&&L.register(c,v)&&this.totalAnimations++}destroy(d,c){d&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const v=this._fetchNamespace(d);this.namespacesByHostElement.delete(v.hostElement);const L=this._namespaceList.indexOf(v);L>=0&&this._namespaceList.splice(L,1),v.destroy(c),delete this._namespaceLookup[d]}))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const c=new Set,v=this.statesByElement.get(d);if(v)for(let L of v.values())if(L.namespaceId){const ne=this._fetchNamespace(L.namespaceId);ne&&c.add(ne)}return c}trigger(d,c,v,L){if(ns(c)){const ne=this._fetchNamespace(d);if(ne)return ne.trigger(c,v,L),!0}return!1}insertNode(d,c,v,L){if(!ns(c))return;const ne=c[dr];if(ne&&ne.setForRemoval){ne.setForRemoval=!1,ne.setForMove=!0;const Se=this.collectedLeaveElements.indexOf(c);Se>=0&&this.collectedLeaveElements.splice(Se,1)}if(d){const Se=this._fetchNamespace(d);Se&&Se.insertNode(c,v)}L&&this.collectEnterElement(c)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,c){c?this.disabledNodes.has(d)||(this.disabledNodes.add(d),hr(d,lo)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),Hr(d,lo))}removeNode(d,c,v){if(ns(c)){const L=d?this._fetchNamespace(d):null;L?L.removeNode(c,v):this.markElementAsRemoved(d,c,!1,v);const ne=this.namespacesByHostElement.get(c);ne&&ne.id!==d&&ne.removeNode(c,v)}else this._onRemovalComplete(c,v)}markElementAsRemoved(d,c,v,L,ne){this.collectedLeaveElements.push(c),c[dr]={namespaceId:d,setForRemoval:L,hasAnimation:v,removedBeforeQueried:!1,previousTriggersValues:ne}}listen(d,c,v,L,ne){return ns(c)?this._fetchNamespace(d).listen(c,v,L,ne):()=>{}}_buildInstruction(d,c,v,L,ne){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,v,L,d.fromState.options,d.toState.options,c,ne)}destroyInnerAnimations(d){let c=this.driver.query(d,tr,!0);c.forEach(v=>this.destroyActiveAnimationsForElement(v)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(d,zr,!0),c.forEach(v=>this.finishActiveQueriedAnimationOnElement(v)))}destroyActiveAnimationsForElement(d){const c=this.playersByElement.get(d);c&&c.forEach(v=>{v.queued?v.markedForDestroy=!0:v.destroy()})}finishActiveQueriedAnimationOnElement(d){const c=this.playersByQueriedElement.get(d);c&&c.forEach(v=>v.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return pe(this.players).onDone(()=>d());d()})}processLeaveNode(d){const c=d[dr];if(c&&c.setForRemoval){if(d[dr]=Ls,c.namespaceId){this.destroyInnerAnimations(d);const v=this._fetchNamespace(c.namespaceId);v&&v.clearElementCache(d)}this._onRemovalComplete(d,c.setForRemoval)}d.classList?.contains(lo)&&this.markElementAsDisabled(d,!1),this.driver.query(d,".ng-animate-disabled",!0).forEach(v=>{this.markElementAsDisabled(v,!1)})}flush(d=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((v,L)=>this._balanceNamespaceList(v,L)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let v=0;v<this.collectedEnterElements.length;v++)hr(this.collectedEnterElements[v],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const v=[];try{c=this._flushAnimations(v,d)}finally{for(let L=0;L<v.length;L++)v[L]()}}else for(let v=0;v<this.collectedLeaveElements.length;v++)this.processLeaveNode(this.collectedLeaveElements[v]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(v=>v()),this._flushFns=[],this._whenQuietFns.length){const v=this._whenQuietFns;this._whenQuietFns=[],c.length?pe(c).onDone(()=>{v.forEach(L=>L())}):v.forEach(L=>L())}}reportError(d){throw function Xi(w){return new u.vHH(3402,!1)}()}_flushAnimations(d,c){const v=new lr,L=[],ne=new Map,Se=[],Pe=new Map,mt=new Map,Dt=new Map,_n=new Set;this.disabledNodes.forEach(Zt=>{_n.add(Zt);const qt=this.driver.query(Zt,".ng-animate-queued",!0);for(let pn=0;pn<qt.length;pn++)_n.add(qt[pn])});const vn=this.bodyNode,s=Array.from(this.statesByElement.keys()),p=fo(s,this.collectedEnterElements),M=new Map;let R=0;p.forEach((Zt,qt)=>{const pn=rr+R++;M.set(qt,pn),Zt.forEach(Un=>hr(Un,pn))});const Y=[],de=new Set,ge=new Set;for(let Zt=0;Zt<this.collectedLeaveElements.length;Zt++){const qt=this.collectedLeaveElements[Zt],pn=qt[dr];pn&&pn.setForRemoval&&(Y.push(qt),de.add(qt),pn.hasAnimation?this.driver.query(qt,".ng-star-inserted",!0).forEach(Un=>de.add(Un)):ge.add(qt))}const He=new Map,We=fo(s,Array.from(de));We.forEach((Zt,qt)=>{const pn=Ai+R++;He.set(qt,pn),Zt.forEach(Un=>hr(Un,pn))}),d.push(()=>{p.forEach((Zt,qt)=>{const pn=M.get(qt);Zt.forEach(Un=>Hr(Un,pn))}),We.forEach((Zt,qt)=>{const pn=He.get(qt);Zt.forEach(Un=>Hr(Un,pn))}),Y.forEach(Zt=>{this.processLeaveNode(Zt)})});const rt=[],vt=[];for(let Zt=this._namespaceList.length-1;Zt>=0;Zt--)this._namespaceList[Zt].drainQueuedTransitions(c).forEach(pn=>{const Un=pn.player,ei=pn.element;if(rt.push(Un),this.collectedEnterElements.length){const gn=ei[dr];if(gn&&gn.setForMove){if(gn.previousTriggersValues&&gn.previousTriggersValues.has(pn.triggerName)){const Wt=gn.previousTriggersValues.get(pn.triggerName),dn=this.statesByElement.get(pn.element);if(dn&&dn.has(pn.triggerName)){const kn=dn.get(pn.triggerName);kn.value=Wt,dn.set(pn.triggerName,kn)}}return void Un.destroy()}}const Ni=!vn||!this.driver.containsElement(vn,ei),ti=He.get(ei),Fn=M.get(ei),Yn=this._buildInstruction(pn,v,Fn,ti,Ni);if(Yn.errors&&Yn.errors.length)return void vt.push(Yn);if(Ni)return Un.onStart(()=>i(ei,Yn.fromStyles)),Un.onDestroy(()=>wt(ei,Yn.toStyles)),void L.push(Un);if(pn.isFallbackTransition)return Un.onStart(()=>i(ei,Yn.fromStyles)),Un.onDestroy(()=>wt(ei,Yn.toStyles)),void L.push(Un);const li=[];Yn.timelines.forEach(gn=>{gn.stretchStartingKeyframe=!0,this.disabledNodes.has(gn.element)||li.push(gn)}),Yn.timelines=li,v.append(ei,Yn.timelines),Se.push({instruction:Yn,player:Un,element:ei}),Yn.queriedElements.forEach(gn=>Bt(Pe,gn,[]).push(Un)),Yn.preStyleProps.forEach((gn,Wt)=>{if(gn.size){let dn=mt.get(Wt);dn||mt.set(Wt,dn=new Set),gn.forEach((kn,xn)=>dn.add(xn))}}),Yn.postStyleProps.forEach((gn,Wt)=>{let dn=Dt.get(Wt);dn||Dt.set(Wt,dn=new Set),gn.forEach((kn,xn)=>dn.add(xn))})});if(vt.length){const Zt=[];vt.forEach(qt=>{Zt.push(function It(w,d){return new u.vHH(3505,!1)}())}),rt.forEach(qt=>qt.destroy()),this.reportError(Zt)}const Ft=new Map,Pt=new Map;Se.forEach(Zt=>{const qt=Zt.element;v.has(qt)&&(Pt.set(qt,qt),this._beforeAnimationBuild(Zt.player.namespaceId,Zt.instruction,Ft))}),L.forEach(Zt=>{const qt=Zt.element;this._getPreviousPlayers(qt,!1,Zt.namespaceId,Zt.triggerName,null).forEach(Un=>{Bt(Ft,qt,[]).push(Un),Un.destroy()})});const en=Y.filter(Zt=>P(Zt,mt,Dt)),Wn=new Map;ho(Wn,this.driver,ge,Dt,Kt.l3).forEach(Zt=>{P(Zt,mt,Dt)&&en.push(Zt)});const tn=new Map;p.forEach((Zt,qt)=>{ho(tn,this.driver,new Set(Zt),mt,Kt.k1)}),en.forEach(Zt=>{const qt=Wn.get(Zt),pn=tn.get(Zt);Wn.set(Zt,new Map([...qt?.entries()??[],...pn?.entries()??[]]))});const nn=[],In=[],Dn={};Se.forEach(Zt=>{const{element:qt,player:pn,instruction:Un}=Zt;if(v.has(qt)){if(_n.has(qt))return pn.onDestroy(()=>wt(qt,Un.toStyles)),pn.disabled=!0,pn.overrideTotalTime(Un.totalTime),void L.push(pn);let ei=Dn;if(Pt.size>1){let ti=qt;const Fn=[];for(;ti=ti.parentNode;){const Yn=Pt.get(ti);if(Yn){ei=Yn;break}Fn.push(ti)}Fn.forEach(Yn=>Pt.set(Yn,ei))}const Ni=this._buildAnimation(pn.namespaceId,Un,Ft,ne,tn,Wn);if(pn.setRealPlayer(Ni),ei===Dn)nn.push(pn);else{const ti=this.playersByElement.get(ei);ti&&ti.length&&(pn.parentPlayer=pe(ti)),L.push(pn)}}else i(qt,Un.fromStyles),pn.onDestroy(()=>wt(qt,Un.toStyles)),In.push(pn),_n.has(qt)&&L.push(pn)}),In.forEach(Zt=>{const qt=ne.get(Zt.element);if(qt&&qt.length){const pn=pe(qt);Zt.setRealPlayer(pn)}}),L.forEach(Zt=>{Zt.parentPlayer?Zt.syncPlayerEvents(Zt.parentPlayer):Zt.destroy()});for(let Zt=0;Zt<Y.length;Zt++){const qt=Y[Zt],pn=qt[dr];if(Hr(qt,Ai),pn&&pn.hasAnimation)continue;let Un=[];if(Pe.size){let Ni=Pe.get(qt);Ni&&Ni.length&&Un.push(...Ni);let ti=this.driver.query(qt,zr,!0);for(let Fn=0;Fn<ti.length;Fn++){let Yn=Pe.get(ti[Fn]);Yn&&Yn.length&&Un.push(...Yn)}}const ei=Un.filter(Ni=>!Ni.destroyed);ei.length?po(this,qt,ei):this.processLeaveNode(qt)}return Y.length=0,nn.forEach(Zt=>{this.players.push(Zt),Zt.onDone(()=>{Zt.destroy();const qt=this.players.indexOf(Zt);this.players.splice(qt,1)}),Zt.play()}),nn}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,c,v,L,ne){let Se=[];if(c){const Pe=this.playersByQueriedElement.get(d);Pe&&(Se=Pe)}else{const Pe=this.playersByElement.get(d);if(Pe){const mt=!ne||ne==sr;Pe.forEach(Dt=>{Dt.queued||!mt&&Dt.triggerName!=L||Se.push(Dt)})}}return(v||L)&&(Se=Se.filter(Pe=>!(v&&v!=Pe.namespaceId||L&&L!=Pe.triggerName))),Se}_beforeAnimationBuild(d,c,v){const ne=c.element,Se=c.isRemovalTransition?void 0:d,Pe=c.isRemovalTransition?void 0:c.triggerName;for(const mt of c.timelines){const Dt=mt.element,_n=Dt!==ne,vn=Bt(v,Dt,[]);this._getPreviousPlayers(Dt,_n,Se,Pe,c.toState).forEach(p=>{const M=p.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),p.destroy(),vn.push(p)})}i(ne,c.fromStyles)}_buildAnimation(d,c,v,L,ne,Se){const Pe=c.triggerName,mt=c.element,Dt=[],_n=new Set,vn=new Set,s=c.timelines.map(M=>{const R=M.element;_n.add(R);const Y=R[dr];if(Y&&Y.removedBeforeQueried)return new Kt.ZN(M.duration,M.delay);const de=R!==mt,ge=function Hs(w){const d=[];return H(w,d),d}((v.get(R)||Jr).map(Ft=>Ft.getRealPlayer())).filter(Ft=>!!Ft.element&&Ft.element===R),He=ne.get(R),We=Se.get(R),rt=et(this._normalizer,M.keyframes,He,We),vt=this._buildPlayer(M,rt,ge);if(M.subTimeline&&L&&vn.add(R),de){const Ft=new ys(d,Pe,R);Ft.setRealPlayer(vt),Dt.push(Ft)}return vt});Dt.forEach(M=>{Bt(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>function co(w,d,c){let v=w.get(d);if(v){if(v.length){const L=v.indexOf(c);v.splice(L,1)}0==v.length&&w.delete(d)}return v}(this.playersByQueriedElement,M.element,M))}),_n.forEach(M=>hr(M,Qr));const p=pe(s);return p.onDestroy(()=>{_n.forEach(M=>Hr(M,Qr)),wt(mt,c.toStyles)}),vn.forEach(M=>{Bt(L,M,[]).push(p)}),p}_buildPlayer(d,c,v){return c.length>0?this.driver.animate(d.element,c,d.duration,d.delay,d.easing,v):new Kt.ZN(d.duration,d.delay)}}class ys{constructor(d,c,v){this.namespaceId=d,this.triggerName=c,this.element=v,this._player=new Kt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(d){this._containsRealPlayer||(this._player=d,this._queuedCallbacks.forEach((c,v)=>{c.forEach(L=>ct(d,v,void 0,L))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const c=this._player;c.triggerCallback&&d.onStart(()=>c.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,c){Bt(this._queuedCallbacks,d,[]).push(c)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const c=this._player;c.triggerCallback&&c.triggerCallback(d)}}function ns(w){return w&&1===w.nodeType}function hs(w,d){const c=w.style.display;return w.style.display=d??"none",c}function ho(w,d,c,v,L){const ne=[];c.forEach(mt=>ne.push(hs(mt)));const Se=[];v.forEach((mt,Dt)=>{const _n=new Map;mt.forEach(vn=>{const s=d.computeStyle(Dt,vn,L);_n.set(vn,s),(!s||0==s.length)&&(Dt[dr]=Bs,Se.push(Dt))}),w.set(Dt,_n)});let Pe=0;return c.forEach(mt=>hs(mt,ne[Pe++])),Se}function fo(w,d){const c=new Map;if(w.forEach(Pe=>c.set(Pe,[])),0==d.length)return c;const L=new Set(d),ne=new Map;function Se(Pe){if(!Pe)return 1;let mt=ne.get(Pe);if(mt)return mt;const Dt=Pe.parentNode;return mt=c.has(Dt)?Dt:L.has(Dt)?1:Se(Dt),ne.set(Pe,mt),mt}return d.forEach(Pe=>{const mt=Se(Pe);1!==mt&&c.get(mt).push(Pe)}),c}function hr(w,d){w.classList?.add(d)}function Hr(w,d){w.classList?.remove(d)}function po(w,d,c){pe(c).onDone(()=>w.processLeaveNode(d))}function H(w,d){for(let c=0;c<w.length;c++){const v=w[c];v instanceof Kt.ZE?H(v.players,d):d.push(v)}}function P(w,d,c){const v=c.get(w);if(!v)return!1;let L=d.get(w);return L?v.forEach(ne=>L.add(ne)):d.set(w,v),c.delete(w),!0}class se{constructor(d,c,v){this._driver=c,this._normalizer=v,this._triggerCache={},this.onRemovalComplete=(L,ne)=>{},this._transitionEngine=new us(d.body,c,v),this._timelineEngine=new Vo(d.body,c,v),this._transitionEngine.onRemovalComplete=(L,ne)=>this.onRemovalComplete(L,ne)}registerTrigger(d,c,v,L,ne){const Se=d+"-"+L;let Pe=this._triggerCache[Se];if(!Pe){const mt=[],_n=Vn(this._driver,ne,mt,[]);if(mt.length)throw function jn(w,d){return new u.vHH(3404,!1)}();Pe=function _s(w,d,c){return new ao(w,d,c)}(L,_n,this._normalizer),this._triggerCache[Se]=Pe}this._transitionEngine.registerTrigger(c,L,Pe)}register(d,c){this._transitionEngine.register(d,c)}destroy(d,c){this._transitionEngine.destroy(d,c)}onInsert(d,c,v,L){this._transitionEngine.insertNode(d,c,v,L)}onRemove(d,c,v){this._transitionEngine.removeNode(d,c,v)}disableAnimations(d,c){this._transitionEngine.markElementAsDisabled(d,c)}process(d,c,v,L){if("@"==v.charAt(0)){const[ne,Se]=fn(v);this._timelineEngine.command(ne,c,Se,L)}else this._transitionEngine.trigger(d,c,v,L)}listen(d,c,v,L,ne){if("@"==v.charAt(0)){const[Se,Pe]=fn(v);return this._timelineEngine.listen(Se,c,Pe,ne)}return this._transitionEngine.listen(d,c,v,L,ne)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(d){this._transitionEngine.afterFlushAnimationsDone(d)}}let wn=(()=>{class w{static#e=this.initialStylesByElement=new WeakMap;constructor(c,v,L){this._element=c,this._startStyles=v,this._endStyles=L,this._state=0;let ne=w.initialStylesByElement.get(c);ne||w.initialStylesByElement.set(c,ne=new Map),this._initialStyles=ne}start(){this._state<1&&(this._startStyles&&wt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wt(this._element,this._initialStyles),this._endStyles&&(wt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(w.initialStylesByElement.delete(this._element),this._startStyles&&(i(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(i(this._element,this._endStyles),this._endStyles=null),wt(this._element,this._initialStyles),this._state=3)}}return w})();function Bn(w){let d=null;return w.forEach((c,v)=>{(function Ki(w){return"display"===w||"position"===w})(v)&&(d=d||new Map,d.set(v,c))}),d}class fr{constructor(d,c,v,L){this.element=d,this.keyframes=c,this.options=v,this._specialStyles=L,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=v.duration,this._delay=v.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:new Map;const c=()=>this._onFinish();this.domPlayer.addEventListener("finish",c),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",c)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(d){const c=[];return d.forEach(v=>{c.push(Object.fromEntries(v))}),c}_triggerWebAnimation(d,c,v){return d.animate(this._convertKeyframesToObject(c),v)}onStart(d){this._originalOnStartFns.push(d),this._onStartFns.push(d)}onDone(d){this._originalOnDoneFns.push(d),this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d=new Map;this.hasStarted()&&this._finalKeyframe.forEach((v,L)=>{"offset"!==L&&d.set(L,this._finished?v:xe(this.element,L))}),this.currentSnapshot=d}triggerCallback(d){const c="start"===d?this._onStartFns:this._onDoneFns;c.forEach(v=>v()),c.length=0}}class Ir{validateStyleProperty(d){return!0}validateAnimatableStyleProperty(d){return!0}matchesElement(d,c){return!1}containsElement(d,c){return Xt(d,c)}getParentElement(d){return Yt(d)}query(d,c,v){return Rn(d,c,v)}computeStyle(d,c,v){return xe(d,c)}animate(d,c,v,L,ne,Se=[]){const mt={duration:v,delay:L,fill:0==L?"both":"forwards"};ne&&(mt.easing=ne);const Dt=new Map,_n=Se.filter(p=>p instanceof fr);(function we(w,d){return 0===w||0===d})(v,L)&&_n.forEach(p=>{p.currentSnapshot.forEach((M,R)=>Dt.set(R,M))});let vn=function Je(w){return w.length?w[0]instanceof Map?w:w.map(d=>new Map(Object.entries(d))):[]}(c).map(p=>new Map(p));vn=function Ce(w,d,c){if(c.size&&d.length){let v=d[0],L=[];if(c.forEach((ne,Se)=>{v.has(Se)||L.push(Se),v.set(Se,ne)}),L.length)for(let ne=1;ne<d.length;ne++){let Se=d[ne];L.forEach(Pe=>Se.set(Pe,xe(w,Pe)))}}return d}(d,vn,Dt);const s=function $e(w,d){let c=null,v=null;return Array.isArray(d)&&d.length?(c=Bn(d[0]),d.length>1&&(v=Bn(d[d.length-1]))):d instanceof Map&&(c=Bn(d)),c||v?new wn(w,c,v):null}(d,vn);return new fr(d,vn,mt,s)}}const to="@.disabled";class mo{constructor(d,c,v,L){this.namespaceId=d,this.delegate=c,this.engine=v,this._onDestroy=L,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(d){this.delegate.destroyNode?.(d)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(d,c){return this.delegate.createElement(d,c)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,c){this.delegate.appendChild(d,c),this.engine.onInsert(this.namespaceId,c,d,!1)}insertBefore(d,c,v,L=!0){this.delegate.insertBefore(d,c,v),this.engine.onInsert(this.namespaceId,c,d,L)}removeChild(d,c,v){this.engine.onRemove(this.namespaceId,c,this.delegate)}selectRootElement(d,c){return this.delegate.selectRootElement(d,c)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,c,v,L){this.delegate.setAttribute(d,c,v,L)}removeAttribute(d,c,v){this.delegate.removeAttribute(d,c,v)}addClass(d,c){this.delegate.addClass(d,c)}removeClass(d,c){this.delegate.removeClass(d,c)}setStyle(d,c,v,L){this.delegate.setStyle(d,c,v,L)}removeStyle(d,c,v){this.delegate.removeStyle(d,c,v)}setProperty(d,c,v){"@"==c.charAt(0)&&c==to?this.disableAnimations(d,!!v):this.delegate.setProperty(d,c,v)}setValue(d,c){this.delegate.setValue(d,c)}listen(d,c,v){return this.delegate.listen(d,c,v)}disableAnimations(d,c){this.engine.disableAnimations(d,c)}}class js extends mo{constructor(d,c,v,L,ne){super(c,v,L,ne),this.factory=d,this.namespaceId=c}setProperty(d,c,v){"@"==c.charAt(0)?"."==c.charAt(1)&&c==to?this.disableAnimations(d,v=void 0===v||!!v):this.engine.process(this.namespaceId,d,c.slice(1),v):this.delegate.setProperty(d,c,v)}listen(d,c,v){if("@"==c.charAt(0)){const L=function no(w){switch(w){case"body":return document.body;case"document":return document;case"window":return window;default:return w}}(d);let ne=c.slice(1),Se="";return"@"!=ne.charAt(0)&&([ne,Se]=function Ms(w){const d=w.indexOf(".");return[w.substring(0,d),w.slice(d+1)]}(ne)),this.engine.listen(this.namespaceId,L,ne,Se,Pe=>{this.factory.scheduleListenerCallback(Pe._data||-1,v,Pe)})}return this.delegate.listen(d,c,v)}}class Do{constructor(d,c,v){this.delegate=d,this.engine=c,this._zone=v,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,c.onRemovalComplete=(L,ne)=>{const Se=ne?.parentNode(L);Se&&ne.removeChild(Se,L)}}createRenderer(d,c){const L=this.delegate.createRenderer(d,c);if(!d||!c?.data?.animation){const Dt=this._rendererCache;let _n=Dt.get(L);return _n||(_n=new mo("",L,this.engine,()=>Dt.delete(L)),Dt.set(L,_n)),_n}const ne=c.id,Se=c.id+"-"+this._currentId;this._currentId++,this.engine.register(Se,d);const Pe=Dt=>{Array.isArray(Dt)?Dt.forEach(Pe):this.engine.registerTrigger(ne,Se,d,Dt.name,Dt)};return c.data.animation.forEach(Pe),new js(this,Se,L,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(d,c,v){if(d>=0&&d<this._microtaskId)return void this._zone.run(()=>c(v));const L=this._animationCallbacksBuffer;0==L.length&&queueMicrotask(()=>{this._zone.run(()=>{L.forEach(ne=>{const[Se,Pe]=ne;Se(Pe)}),this._animationCallbacksBuffer=[]})}),L.push([c,v])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var Fr=l(6814);const Mo=[{provide:ir,useFactory:function Sa(){return new ot}},{provide:se,useClass:(()=>{class w extends se{constructor(c,v,L,ne){super(c,v,L)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Fr.K0),u.LFG(er),u.LFG(ir),u.LFG(u.z2F))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})()},{provide:u.FYo,useFactory:function io(w,d,c){return new Do(w,d,c)},deps:[hn.se,se,u.R0b]}],fs=[{provide:er,useFactory:()=>new Ir},{provide:u.QbO,useValue:"BrowserAnimations"},...Mo],Os=[{provide:er,useClass:Si},{provide:u.QbO,useValue:"NoopAnimations"},...Mo];let is=(()=>{class w{static withConfig(c){return{ngModule:w,providers:c.disableAnimations?Os:fs}}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({providers:fs,imports:[hn.b2]})}return w})(),rs=(()=>{class w{constructor(){this.onError=new u.vpe}error(c){this.onError.emit(c)}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})();var Vs=l(9666),ps=l(7414),Fi=l(553);const Or=Fi.N.Auth;let ss=(()=>{class w{constructor(c,v){this.http=c,this.route=v,this.mgr=new ps.UserManager(Or),this.userLoadededEvent=new u.vpe,this.loggedIn=!1,this.mgr.getUser().then(L=>{L?(this.loggedIn=!0,this.currentUser=L,this.userLoadededEvent.emit(L)):this.loggedIn=!1}).catch(L=>{console.error(L),this.loggedIn=!1}),this.mgr.events.addUserLoaded(L=>{this.currentUser=L,localStorage.setItem("token",L.id_token),localStorage.setItem("access_token",L.access_token),this.loggedIn=void 0!==L,Fi.N.production||console.log("authService addUserLoaded",L)})}clearState(){this.mgr.clearStaleState().then(function(){console.log("clearStateState success")}).catch(function(c){console.log("clearStateState error",c.message)})}getUser(){}removeUser(){}startSigninMainWindow(){this.mgr.signinRedirect({data:"some data"}).then(function(){console.log("signinRedirect done")}).catch(function(c){return console.log(c),c})}endSigninMainWindow(){this.mgr.signinRedirectCallback().then(function(c){console.log("signed in",c)}).catch(function(c){console.log(c)})}startSignoutMainWindow(){}logout(){}endSignoutMainWindow(){this.mgr.signoutRedirectCallback().then(function(c){console.log("signed out",c)}).catch(function(c){console.log(c)})}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(e.eN),u.LFG(N.F0))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),Oo=(()=>{class w{constructor(c,v,L){this.authService=c,this.router=v,this.store=L}ngOnInit(){(0,Vs.D)(this.authService.mgr.signinRedirectCallback()).subscribe(c=>{this.authService.userLoadededEvent.emit(c),this.router.navigate(["/"])},c=>{console.log(c),this.router.navigate(["/404"])})}static#e=this.\u0275fac=function(v){return new(v||w)(u.Y36(ss),u.Y36(N.F0),u.Y36(S.yh))};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["app-authorization"]],decls:2,vars:0,consts:[[1,"text-center"]],template:function(v,L){1&v&&(u.TgZ(0,"p",0),u._uU(1,"Logging you in. Please wait ..........."),u.qZA())}})}return w})(),Go=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[N.Bz.forChild([{path:"authorize",component:Oo}]),N.Bz]})}return w})();var zs=l(6746);let aa=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[Fr.ez,Go,zs.m]})}return w})(),Ps=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[N.Bz.forRoot([{path:"Angular",loadChildren:()=>Promise.all([l.e(592),l.e(21)]).then(l.bind(l,7021)).then(c=>c.HomeModule)},{path:"profile",loadChildren:()=>Promise.all([l.e(592),l.e(371)]).then(l.bind(l,8371)).then(c=>c.ProfileModule)},{path:"about",loadChildren:()=>Promise.all([l.e(592),l.e(673)]).then(l.bind(l,7673)).then(c=>c.AboutModule)},{path:"notes",loadChildren:()=>l.e(375).then(l.bind(l,375)).then(c=>c.NotesModule)},{path:"wizard",loadChildren:()=>Promise.all([l.e(592),l.e(602)]).then(l.bind(l,8602)).then(c=>c.WizardManagerModule)},{path:"login",loadChildren:()=>Promise.all([l.e(592),l.e(610)]).then(l.bind(l,7610)).then(c=>c.LoginModule)},{path:"movies",loadChildren:()=>Promise.all([l.e(592),l.e(168)]).then(l.bind(l,5168)).then(c=>c.MoviesModule)},{path:"events",loadChildren:()=>Promise.all([l.e(592),l.e(229)]).then(l.bind(l,6229)).then(c=>c.EventsModule)}]),N.Bz]})}return w})();var Ko=l(6267);let Wo=(()=>{class w{constructor(c,v,L){this.location=c,this.service=v,this.store=L}login(){}goback(){this.location.back()}startSignoutMainWindow(){this.service.logout()}static#e=this.\u0275fac=function(v){return new(v||w)(u.Y36(Fr.Ye),u.Y36(ss),u.Y36(S.yh))};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["app-unauthorized"]],decls:11,vars:0,consts:[[1,"row","mt-5","justify-content-center"],[1,"col-md-6","mt-5"],[1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[1,"row","justify-content-center"]],template:function(v,L){1&v&&(u.TgZ(0,"div",0)(1,"div",1)(2,"button",2),u.NdJ("click",function(){return L.login()}),u._uU(3,"Login"),u.qZA()(),u.TgZ(4,"div",1)(5,"button",2),u.NdJ("click",function(){return L.startSignoutMainWindow()}),u._uU(6,"Sign Out"),u.qZA()()(),u.TgZ(7,"div",3)(8,"div",1)(9,"button",2),u.NdJ("click",function(){return L.goback()}),u._uU(10,"Back"),u.qZA()()())}})}return w})(),la=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[N.Bz.forChild([{path:"unauthorized",component:Wo}]),N.Bz]})}return w})(),Po=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[Fr.ez,la,zs.m]})}return w})(),ca=(()=>{class w{constructor(c){this.authService=c}static#e=this.\u0275fac=function(v){return new(v||w)(u.Y36(ss))};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["app-notfound"]],decls:2,vars:0,template:function(v,L){1&v&&(u.TgZ(0,"h1"),u._uU(1,"404 Not Found"),u.qZA())}})}return w})(),xs=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[N.Bz.forChild([{path:"404",component:ca}]),N.Bz]})}return w})(),kr=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[Fr.ez,xs,zs.m]})}return w})();var $o=l(8973);let Rs=(()=>{class w{constructor(){this.toasts=[]}remove(c){this.toasts=this.toasts.filter(v=>v!==c)}clear(){this.toasts.splice(0,this.toasts.length)}showSuccess(c,v){this.show(c,v,{classname:"bg-success text-light",delay:5e3})}showDanger(c,v){this.show(c,v,{classname:"bg-danger text-light",delay:1e4})}showStandard(c,v){this.show(c,v)}show(c,v,L={}){this.toasts.push({textOrTpl:c,header:v,...L})}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function _o(w,d){if(1&w){const c=u.EpF();u.TgZ(0,"ngb-toast",1),u.NdJ("hidden",function(){const ne=u.CHM(c).$implicit,Se=u.oxw();return u.KtG(Se.toastService.remove(ne))}),u._uU(1),u.qZA()}if(2&w){const c=d.$implicit;u.Tol(c.classname),u.Q6J("autohide",!0)("delay",c.delay||5e3)("header",c.header)("animation",!1),u.xp6(),u.hij(" ",c.textOrTpl,"\n")}}let Yo=(()=>{class w{constructor(c){this.toastService=c,this.class="toast-container position-fixed bottom-0 end-0 p-3",this.zIndex=1200}static#e=this.\u0275fac=function(v){return new(v||w)(u.Y36(Rs))};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["app-toast-global"]],hostVars:4,hostBindings:function(v,L){2&v&&(u.Tol(L.class),u.Udp("z-index",L.zIndex))},decls:1,vars:1,consts:[[3,"class","autohide","delay","header","animation","hidden",4,"ngFor","ngForOf"],[3,"autohide","delay","header","animation","hidden"]],template:function(v,L){1&v&&u.YNc(0,_o,2,7,"ngb-toast",0),2&v&&u.Q6J("ngForOf",L.toastService.toasts)},dependencies:[Fr.sg,ln.Iv],encapsulation:2})}return w})();var vo=l(5754),Gs=l(8194),bs=l(8369),Ks=l(2268),yo=l(4648),xo=l(9141),gs=l(4751),qi=l(783),Ro=l(9301);const Jo=()=>["/profile"];function ke(w,d){if(1&w){const c=u.EpF();u.TgZ(0,"div",1)(1,"button",2),u._uU(2),u.qZA(),u.TgZ(3,"div",3),u._UZ(4,"button",4),u.TgZ(5,"div",5)(6,"app-theme-option",6),u.NdJ("themeToggleDark",function(){u.CHM(c);const L=u.oxw();return u.KtG(L.onDarkModeToggle())}),u.ALo(7,"async"),u.qZA(),u.TgZ(8,"button",7),u._uU(9,"Profile"),u.qZA(),u.TgZ(10,"button",8),u.NdJ("click",function(){u.CHM(c);const L=u.oxw();return u.KtG(L.logOut())}),u._uU(11,"Logout"),u.qZA()()()()}if(2&w){const c=u.oxw();u.xp6(),u.Q6J("routerLink",u.DdM(7,Jo)),u.xp6(),u.Oqu(c.givenName),u.xp6(4),u.Q6J("label","Dark Mode")("darkMode",u.lcZ(7,5,c.isDarkMode)),u.xp6(2),u.Q6J("routerLink",u.DdM(8,Jo))}}function B(w,d){if(1&w){const c=u.EpF();u.TgZ(0,"button",9),u.NdJ("click",function(){u.CHM(c);const L=u.oxw();return u.KtG(L.login())}),u._uU(1,"Login / SignUp"),u.qZA()}}let I=(()=>{class w{constructor(c,v){this.oauthService=c,this.store=v,this.signout=new u.vpe,this.isDarkMode=this.store.select(xo.Yc)}login(){this.oauthService.initLoginFlow()}logOut(){this.oauthService.logOut()}get isLoggedIn(){return this.store.select(xo.jl)}get givenName(){const c=this.oauthService.getIdentityClaims();return c?c.given_name:null}onDarkModeToggle(){this.store.dispatch(qi.In())}static#e=this.\u0275fac=function(v){return new(v||w)(u.Y36(gs.Ct),u.Y36(S.yh))};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["app-userinfo"]],outputs:{signout:"signout"},decls:3,vars:3,consts:[["class","btn-group"],[1,"btn-group"],["type","button",1,"btn","btn-primary",3,"routerLink"],["ngbDropdown","","role","group","aria-label","Button group with nested dropdown",1,"btn-group"],["type","button","ngbDropdownToggle","",1,"btn","btn-primary","dropdown-toggle-split"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"label","darkMode","themeToggleDark"],[1,"dropdown-item",3,"routerLink"],["id","btnLogout",1,"dropdown-item",3,"click"],["id","btnLogin","type","button",1,"btn","btn-primary",3,"click"]],template:function(v,L){1&v&&(u.YNc(0,ke,12,9,"div",0),u.ALo(1,"async"),u.YNc(2,B,2,0)),2&v&&u.um2(0,u.lcZ(1,1,L.isLoggedIn)?0:2)},dependencies:[N.rH,ln.jt,ln.iD,ln.Vi,Ro.e,Fr.Ov],styles:[".theme-switch[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return w})();function X(w,d){1&w&&(u.TgZ(0,"div",17),u._UZ(1,"span",18),u.qZA())}function ye(w,d){if(1&w&&(u.TgZ(0,"span",20),u._uU(1),u.qZA()),2&w){const c=d.ngIf;u.xp6(),u.Oqu(c)}}function it(w,d){if(1&w&&(u.YNc(0,ye,2,1,"span",19),u.ALo(1,"async")),2&w){const c=u.oxw(2);u.Q6J("ngIf",u.lcZ(1,1,c.NotesCount))}}function Ot(w,d){1&w&&(u.TgZ(0,"div",17),u._UZ(1,"span",18),u.qZA())}function Gt(w,d){if(1&w&&(u.TgZ(0,"span",20),u._uU(1),u.qZA()),2&w){const c=d.ngIf;u.xp6(),u.Oqu(c)}}function Cn(w,d){if(1&w&&(u.YNc(0,Gt,2,1,"span",19),u.ALo(1,"async")),2&w){const c=u.oxw(2);u.Q6J("ngIf",u.lcZ(1,1,c.EventsCount))}}const Nn=()=>["active"],di=()=>({exact:!0}),Yi=()=>["/home"],Pr=()=>({exact:!1}),Ws=()=>["/about"],$s=()=>["/profile"],wr=w=>({active:w}),Kr=()=>["/notes"],Zo=()=>["/notes/archived"],Ys=()=>["/wizard"],Ui=()=>["/events"],Io=()=>["/movies"];function Fo(w,d){if(1&w&&(u.TgZ(0,"ul",8)(1,"li",9)(2,"a",10),u._uU(3,"Home"),u.qZA()(),u.TgZ(4,"li",9)(5,"a",10),u._uU(6,"About"),u.qZA()(),u.TgZ(7,"li",9)(8,"a",10),u._uU(9,"Profile"),u.qZA()(),u.TgZ(10,"li",11)(11,"a",12),u.NdJ("click",function(v){return v.preventDefault()}),u._uU(12," Notes "),u.YNc(13,X,2,0,"div",13),u.ALo(14,"async"),u.YNc(15,it,2,3),u.qZA(),u.TgZ(16,"ul",14)(17,"li",15)(18,"a",16),u._uU(19,"Notes"),u.qZA()(),u.TgZ(20,"li",15)(21,"a",16),u._uU(22,"Archived Notes"),u.qZA()()()(),u.TgZ(23,"li",9)(24,"a",10),u._uU(25,"Wizard"),u.qZA()(),u.TgZ(26,"li",9)(27,"a",10),u._uU(28," Events "),u.YNc(29,Ot,2,0,"div",13),u.ALo(30,"async"),u.YNc(31,Cn,2,3),u.qZA()(),u.TgZ(32,"li",9)(33,"a",10),u._uU(34,"Movies"),u.qZA()()()),2&w){const c=u.oxw();u.xp6(2),u.Q6J("routerLinkActive",u.DdM(29,Nn))("routerLinkActiveOptions",u.DdM(30,di))("routerLink",u.DdM(31,Yi)),u.xp6(3),u.Q6J("routerLinkActive",u.DdM(32,Nn))("routerLinkActiveOptions",u.DdM(33,Pr))("routerLink",u.DdM(34,Ws)),u.xp6(3),u.Q6J("routerLinkActive",u.DdM(35,Nn))("routerLinkActiveOptions",u.DdM(36,di))("routerLink",u.DdM(37,$s)),u.xp6(3),u.Q6J("ngClass",u.VKq(38,wr,c.isNotesURLActive))("routerLinkActive",u.DdM(40,Nn))("routerLinkActiveOptions",u.DdM(41,Pr)),u.xp6(2),u.um2(13,u.lcZ(14,25,c.NoteLoading)?13:15),u.xp6(5),u.Q6J("routerLink",u.DdM(42,Kr)),u.xp6(3),u.Q6J("routerLink",u.DdM(43,Zo)),u.xp6(3),u.Q6J("routerLinkActive",u.DdM(44,Nn))("routerLinkActiveOptions",u.DdM(45,Pr))("routerLink",u.DdM(46,Ys)),u.xp6(3),u.Q6J("routerLinkActive",u.DdM(47,Nn))("routerLinkActiveOptions",u.DdM(48,Pr))("routerLink",u.DdM(49,Ui)),u.xp6(2),u.um2(29,u.lcZ(30,27,c.EventLoading)?29:31),u.xp6(4),u.Q6J("routerLinkActive",u.DdM(50,Nn))("routerLinkActiveOptions",u.DdM(51,Pr))("routerLink",u.DdM(52,Io))}}const $a=()=>["/"];let ua=(()=>{class w{constructor(c,v,L,ne){this.oauthService=c,this.eventStore=v,this.noteStore=L,this.router=ne,this.signout=new u.vpe,this.isExpanded=!1,this.routerLinkActiveOptions={matrixParams:"ignored",queryParams:"subset",fragment:"ignored",paths:"subset"}}get isNotesURLActive(){return this.router.isActive("/notes",this.routerLinkActiveOptions)}get EventsCount(){return this.eventStore.select(Ks.Go)}get EventLoading(){return this.eventStore.select(Ks.Vc)}get NotesCount(){return this.noteStore.select(yo.vh)}get NoteLoading(){return this.noteStore.select(yo.Vc)}onSignout(){}get IsLoggedIn(){return this.eventStore.select(xo.jl)}static#e=this.\u0275fac=function(v){return new(v||w)(u.Y36(gs.Ct),u.Y36(S.yh),u.Y36(S.yh),u.Y36(N.F0))};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["app-header"]],outputs:{signout:"signout"},decls:10,vars:7,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],[1,"container-fluid"],["type","button","aria-controls","navbarContent",1,"navbar-toggler","navbar-toggler-right",3,"click"],[1,"navbar-toggler-icon"],[1,"navbar-brand",3,"routerLink"],["id","navbarSupportedContent",1,"collapse","navbar-collapse",3,"ngbCollapse"],["class","navbar-nav mr-auto",4,"ngIf"],[3,"signout"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],[1,"nav-link",3,"routerLinkActive","routerLinkActiveOptions","routerLink"],["ngbDropdown","",1,"nav-item","dropdown"],["ngbDropdownToggle","","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle",3,"ngClass","routerLinkActive","routerLinkActiveOptions","click"],["class","spinner-border text-secondary spinner-border-sm","role","status"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu"],["ngbDropdownItem",""],[1,"dropdown-item",3,"routerLink"],["role","status",1,"spinner-border","text-secondary","spinner-border-sm"],[1,"sr-only"],["class","badge bg-secondary",4,"ngIf"],[1,"badge","bg-secondary"]],template:function(v,L){1&v&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"button",2),u.NdJ("click",function(){return L.isExpanded=!L.isExpanded}),u._UZ(3,"span",3),u.qZA(),u.TgZ(4,"a",4),u._uU(5,"Angular"),u.qZA(),u.TgZ(6,"div",5),u.YNc(7,Fo,35,53,"ul",6),u.ALo(8,"async"),u.qZA(),u.TgZ(9,"app-userinfo",7),u.NdJ("signout",function(){return L.onSignout()}),u.qZA()()()),2&v&&(u.xp6(2),u.uIk("aria-expanded",!L.isExpanded),u.xp6(2),u.Q6J("routerLink",u.DdM(6,$a)),u.xp6(2),u.Q6J("ngbCollapse",!L.isExpanded),u.xp6(),u.Q6J("ngIf",u.lcZ(8,4,L.IsLoggedIn)))},dependencies:[Fr.mk,Fr.O5,N.rH,N.Od,ln._D,ln.jt,ln.iD,ln.Vi,ln.TH,I,Fr.Ov],changeDetection:0})}return w})();function Is(w,d){1&w&&u._UZ(0,"app-dialog-info-component")}let Js=(()=>{class w{constructor(){}ngOnInit(){this.currentAppVersion=Fi.N.appVersion}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275cmp=u.Xpm({type:w,selectors:[["app-main"]],viewQuery:function(v,L){if(1&v&&u.Gf($o.q,5),2&v){let ne;u.iGM(ne=u.CRH())&&(L.appLoadingComponent=ne.first)}},decls:8,vars:3,consts:[["appConfirm",""],[3,"position","moveSpeed"]],template:function(v,L){1&v&&(u._UZ(0,"app-header")(1,"app-loading")(2,"router-outlet"),u.YNc(3,Is,1,0,"ng-template",0),u._UZ(4,"app-back-top",1)(5,"app-toast-global"),u.TgZ(6,"div"),u._uU(7),u.qZA()),2&v&&(u.xp6(4),u.Q6J("position",200)("moveSpeed",50),u.xp6(3),u.hij(" ",L.currentAppVersion,"\n"))},dependencies:[Yo,vo.h,Gs.F,$o.q,bs.B,ua,N.lC],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column;height:100%;position:relative}.container[_ngcontent-%COMP%]{margin-top:5px}"]})}return w})();var hi=l(7398),Es=l(589);const bo=Fi.N.NOTES_API;let Zr=(()=>{class w{constructor(c){this.http=c}getNotes(){return this.http.get(bo)}getNote(c){return this.http.get(bo+c)}addNote(c){return this.http.post(bo,c)}deleteNote(c){return this.http.delete(bo+c.id).pipe((0,hi.U)(v=>new Es.j(v)))}addOrUpdateNote(c){return this.http.post(bo,JSON.stringify(c)).pipe((0,hi.U)(v=>new Es.j(v)))}updateNote(c){return this.http.put(bo,c).pipe((0,hi.U)(v=>new Es.j(v)))}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(e.eN))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})();var xi=l(6306),Ca=l(8504);let Ya=(()=>{class w{constructor(){}ShowDialog(){}handleError(c){return(0,Ca._)(c)}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})();const Eo=Fi.N.EVENTS_API;let qo=(()=>{class w extends Ya{constructor(c){super(),this.http=c}getAllEvents(){return this.http.get(Eo)}createEvent(c){return this.http.post(Eo,c)}getEventById(c){return this.http.get(Eo+c)}updateEvent(c){return this.http.put(Eo,c).pipe((0,hi.U)(v=>v),(0,xi.K)(this.handleError))}toggleEvent(c){return this.http.put(Eo+"toggle/",c).pipe((0,hi.U)(v=>v),(0,xi.K)(this.handleError))}deleteEventById(c){return this.http.delete(Eo+c.id).pipe((0,hi.U)(()=>c),(0,xi.K)(this.handleError))}deleteEvents(c){return this.http.delete(Eo,{body:c}).pipe((0,hi.U)(v=>v),(0,xi.K)(this.handleError))}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(e.eN))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),Qo=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({providers:[Rs],imports:[hn.b2,ln.IJ]})}return w})();var Fs=l(2181);let No=(()=>{class w{constructor(c){this.injector=c,this.injector.get(gs.Ct).events.subscribe(v=>{"discovery_document_load_error"===v.type&&this.handleError(v)})}handleError(c){throw this.injector.get(rs).error(c),c}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(u.zs3))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})();var Xo=l(6833);let da=(()=>{class w{constructor(c,v){this.confirmService=c,this.injector=v}intercept(c,v){const L=this.injector.get(rs);return v.handle(c).pipe((0,xi.K)(ne=>(L.error(ne),(0,Ca._)(()=>ne.message))))}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Xo.z),u.LFG(u.zs3))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})();var Ta=l(5306);const ni=[{provide:Fr.mr,useValue:"/Angular"},{provide:N.wN,useClass:class ko{retrieve(d){return null}shouldAttach(d){return!1}shouldDetach(d){return!1}shouldReuseRoute(d,c){return d.routeConfig===c.routeConfig&&!d.data.alwaysRefresh}store(d,c){}}},{provide:e.TP,useClass:da,multi:!0},{provide:u.qLn,useClass:No},{provide:u.ip1,useFactory:function Zs(w){return()=>w.initTheme()},deps:[Ta.f],multi:!0},{provide:u.ip1,useFactory:function gr(w,d){return()=>{w.onError.subscribe(c=>{d.showDanger(c.message,c.statusText?c.statusText:"Error")})}},deps:[rs,Rs],multi:!0},{provide:u.tb,useFactory:function qs(w){return d=>{w.events.pipe((0,Fs.h)(c=>c instanceof N.sj)).subscribe(c=>{!function jr(w,d){switch(w.constructor){case N.m2:d.appLoadingComponent.loading=!1;break;case N.Q3:case N.gk:case N.OD:d.appLoadingComponent.loading=!0}}(c,d.instance)})}},deps:[N.F0],multi:!0}];class Na{serialize(d){let c=d.root;for(;c.firstChild;)c=c.firstChild;const{url:v,root:{queryParams:L}}=d,{params:ne}=c;return{url:v,params:ne,queryParams:L}}}var Da=l(3019),Aa=l(5592),ro=l(8645),Ma=l(7538),os=l(6232),yi=l(2096),ea=l(4674);class Qs{constructor(d,c,v){this.kind=d,this.value=c,this.error=v,this.hasValue="N"===d}observe(d){return fa(this,d)}do(d,c,v){const{kind:L,value:ne,error:Se}=this;return"N"===L?d?.(ne):"E"===L?c?.(Se):v?.()}accept(d,c,v){var L;return(0,ea.m)(null===(L=d)||void 0===L?void 0:L.next)?this.observe(d):this.do(d,c,v)}toObservable(){const{kind:d,value:c,error:v}=this,L="N"===d?(0,yi.of)(c):"E"===d?(0,Ca._)(()=>v):"C"===d?os.E:0;if(!L)throw new TypeError(`Unexpected notification kind ${d}`);return L}static createNext(d){return new Qs("N",d)}static createError(d){return new Qs("E",void 0,d)}static createComplete(){return Qs.completeNotification}}function fa(w,d){var c,v,L;const{kind:ne,value:Se,error:Pe}=w;if("string"!=typeof ne)throw new TypeError('Invalid notification, missing "kind"');"N"===ne?null===(c=d.next)||void 0===c||c.call(d,Se):"E"===ne?null===(v=d.error)||void 0===v||v.call(d,Pe):null===(L=d.complete)||void 0===L||L.call(d)}Qs.completeNotification=new Qs("C");var pa=l(9360),Lo=l(8251),Pa=l(4829);function ma(w,d,c,v){return(0,pa.e)((L,ne)=>{let Se;d&&"function"!=typeof d?({duration:c,element:Se,connector:v}=d):Se=d;const Pe=new Map,mt=M=>{Pe.forEach(M),M(ne)},Dt=M=>mt(R=>R.error(M));let _n=0,vn=!1;const s=new Lo.Q(ne,M=>{try{const R=w(M);let Y=Pe.get(R);if(!Y){Pe.set(R,Y=v?v():new ro.x);const de=function p(M,R){const Y=new Aa.y(de=>{_n++;const ge=R.subscribe(de);return()=>{ge.unsubscribe(),0==--_n&&vn&&s.unsubscribe()}});return Y.key=M,Y}(R,Y);if(ne.next(de),c){const ge=(0,Lo.x)(Y,()=>{Y.complete(),ge?.unsubscribe()},void 0,void 0,()=>Pe.delete(R));s.add((0,Pa.Xf)(c(de)).subscribe(ge))}}Y.next(Se?Se(M):M)}catch(R){Dt(R)}},()=>mt(M=>M.complete()),Dt,()=>Pe.clear(),()=>(vn=!0,0===_n));L.subscribe(s)})}var g=l(9769);function D(w,d){return d?c=>c.pipe(D((v,L)=>(0,Pa.Xf)(w(v,L)).pipe((0,hi.U)((ne,Se)=>d(v,ne,L,Se))))):(0,pa.e)((c,v)=>{let L=0,ne=null,Se=!1;c.subscribe((0,Lo.x)(v,Pe=>{ne||(ne=(0,Lo.x)(v,void 0,()=>{ne=null,Se&&v.complete()}),(0,Pa.Xf)(w(Pe,L++)).subscribe(ne))},()=>{Se=!0,!ne&&v.complete()}))})}var O=l(8180);const z={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},ae="__@ngrx/effects_create__";function Oe(w,d={}){const c=d.functional?w:w(),v={...z,...d};return Object.defineProperty(c,ae,{value:v}),c}function Jn(w){return Object.getPrototypeOf(w)}function Hi(w){return"function"==typeof w}function Ns(w){return w.filter(Hi)}function eo(w,d,c){const v=Jn(w),ne=v&&"Object"!==v.constructor.name?v.constructor.name:null,Se=function bn(w){return function Mt(w){return Object.getOwnPropertyNames(w).filter(v=>!(!w[v]||!w[v].hasOwnProperty(ae))&&w[v][ae].hasOwnProperty("dispatch")).map(v=>({propertyName:v,...w[v][ae]}))}(w)}(w).map(({propertyName:Pe,dispatch:mt,useEffectsErrorHandler:Dt})=>{const _n="function"==typeof w[Pe]?w[Pe]():w[Pe],vn=Dt?c(_n,d):_n;return!1===mt?vn.pipe((0,Ma.l)()):vn.pipe(function ga(){return(0,pa.e)((w,d)=>{w.subscribe((0,Lo.x)(d,c=>{d.next(Qs.createNext(c))},()=>{d.next(Qs.createComplete()),d.complete()},c=>{d.next(Qs.createError(c)),d.complete()}))})}()).pipe((0,hi.U)(p=>({effect:w[Pe],notification:p,propertyName:Pe,sourceName:ne,sourceInstance:w})))});return(0,Da.T)(...Se)}function so(w,d,c=10){return w.pipe((0,xi.K)(v=>(d&&d.handleError(v),c<=1?w:so(w,d,c-1))))}let Bo=(()=>{class w extends Aa.y{constructor(c){super(),c&&(this.source=c)}lift(c){const v=new w;return v.source=this,v.operator=c,v}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(S.Y$))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function si(...w){return(0,Fs.h)(d=>w.some(c=>"string"==typeof c?c===d.type:c.type===d.type))}const Ja=new u.OlP("@ngrx/effects Internal Root Guard"),ka=new u.OlP("@ngrx/effects User Provided Effects"),Za=new u.OlP("@ngrx/effects Internal Root Effects"),yl=new u.OlP("@ngrx/effects Internal Root Effects Instances"),qa=new u.OlP("@ngrx/effects Internal Feature Effects"),ol=new u.OlP("@ngrx/effects Internal Feature Effects Instance Groups"),Vl=new u.OlP("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>so}),bl="@ngrx/effects/init";(0,S.PH)(bl);function Al(w){return as(w,"ngrxOnInitEffects")}function as(w,d){return w&&d in w&&"function"==typeof w[d]}let Oi=(()=>{class w extends ro.x{constructor(c,v){super(),this.errorHandler=c,this.effectsErrorHandler=v}addEffects(c){this.next(c)}toActions(){return this.pipe(ma(c=>function fi(w){return!!w.constructor&&"Object"!==w.constructor.name&&"Function"!==w.constructor.name}(c)?Jn(c):c),(0,g.z)(c=>c.pipe(ma(_a))),(0,g.z)(c=>{const v=c.pipe(D(ne=>function tl(w,d){return c=>{const v=eo(c,w,d);return function Dl(w){return as(w,"ngrxOnRunEffects")}(c)?c.ngrxOnRunEffects(v):v}}(this.errorHandler,this.effectsErrorHandler)(ne)),(0,hi.U)(ne=>(function zl(w,d){if("N"===w.notification.kind){const c=w.notification.value;!function Qa(w){return"function"!=typeof w&&w&&w.type&&"string"==typeof w.type}(c)&&d.handleError(new Error(`Effect ${function wl({propertyName:w,sourceInstance:d,sourceName:c}){const v="function"==typeof d[w];return c?`"${c}.${String(w)}${v?"()":""}"`:`"${String(w)}()"`}(w)} dispatched an invalid action: ${function Sl(w){try{return JSON.stringify(w)}catch{return w}}(c)}`))}}(ne,this.errorHandler),ne.notification)),(0,Fs.h)(ne=>"N"===ne.kind&&null!=ne.value),function _(){return(0,pa.e)((w,d)=>{w.subscribe((0,Lo.x)(d,c=>fa(c,d)))})}()),L=c.pipe((0,O.q)(1),(0,Fs.h)(Al),(0,hi.U)(ne=>ne.ngrxOnInitEffects()));return(0,Da.T)(v,L)}))}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(u.qLn),u.LFG(Vl))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function _a(w){return function Tl(w){return as(w,"ngrxOnIdentifyEffects")}(w)?w.ngrxOnIdentifyEffects():""}let va=(()=>{class w{get isStarted(){return!!this.effectsSubscription}constructor(c,v){this.effectSources=c,this.store=v,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Oi),u.LFG(S.yh))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),nl=(()=>{class w{constructor(c,v,L,ne,Se,Pe,mt){this.sources=c,v.start();for(const Dt of ne)c.addEffects(Dt);L.dispatch({type:bl})}addEffects(c){this.sources.addEffects(c)}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Oi),u.LFG(va),u.LFG(S.yh),u.LFG(yl),u.LFG(S.cr,8),u.LFG(S.CK,8),u.LFG(Ja,8))};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({})}return w})(),al=(()=>{class w{constructor(c,v,L,ne){const Se=v.flat();for(const Pe of Se)c.addEffects(Pe)}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(nl),u.LFG(ol),u.LFG(S.cr,8),u.LFG(S.CK,8))};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({})}return w})(),La=(()=>{class w{static forFeature(...c){const v=c.flat(),L=Ns(v);return{ngModule:al,providers:[L,{provide:qa,multi:!0,useValue:v},{provide:ka,multi:!0,useValue:[]},{provide:ol,multi:!0,useFactory:ll,deps:[qa,ka]}]}}static forRoot(...c){const v=c.flat(),L=Ns(v);return{ngModule:nl,providers:[L,{provide:Za,useValue:[v]},{provide:Ja,useFactory:ya},{provide:ka,multi:!0,useValue:[]},{provide:yl,useFactory:ll,deps:[Za,ka]}]}}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({})}return w})();function ll(w,d){const c=[];for(const v of w)c.push(...v);for(const v of d)c.push(...v);return c.map(v=>function Xs(w){return w instanceof u.OlP||Hi(w)}(v)?(0,u.f3M)(v):v)}function ya(){const w=(0,u.f3M)(va,{optional:!0,skipSelf:!0}),d=(0,u.f3M)(Za,{self:!0});if((1!==d.length||0!==d[0].length)&&w)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var cl=l(7632),Vr=l(2481);const ul=(0,S.Lq)({profile:{}},(0,S.on)(Vr.qm,(w,d)=>({profile:d.profile}))),ra=(0,S.ZF)("profile"),ba=((0,S.P1)(ra,w=>w.profile),{notes:yo.$i,events:Ks.I9,profile:ul,preference:xo.Cn,router:function ue(w,d){const c=d;switch(c.type){case E:case $:case F:return{state:c.payload.routerState,navigationId:c.payload.event.id};default:return w}}}),il=Fi.N.production?[]:[function Ea(w){return function(d,c){return w(d,c)}}];var Qn=l(4664),bi=l(6994),Gn=l(3613);let dl=(()=>{class w{constructor(c,v,L,ne){this.oauthService=c,this.router=v,this.actions$=L,this.store=ne,this.login=Oe(()=>this.actions$.pipe(si(Vr.F2),(0,Qn.w)(Se=>this.oauthService.fetchTokenUsingPasswordFlowAndLoadUserProfile(Se.username,Se.password).then(()=>this.store.dispatch(Vr.EB())).catch(Pe=>this.store.dispatch(Vr.D2({payload:Pe}))))),{dispatch:!1}),this.loginEventSuccess=Oe(()=>this.actions$.pipe(si(Vr.EB),(0,Qn.w)(()=>this.oauthService.loadUserProfile().then(Se=>{this.store.dispatch(Vr.qm({profile:Se})),this.store.dispatch(bi.sZ()),this.store.dispatch(Gn.jO()),this.store.dispatch(Vr.It())}).catch(Se=>this.store.dispatch(Vr.J2({payload:Se}))))),{dispatch:!1}),this.tokenExpire=Oe(()=>this.actions$.pipe(si(Vr.W8),(0,Qn.w)(Se=>(this.store.dispatch(Vr.kS({message:Se.message})),os.E))),{dispatch:!1}),this.logout=Oe(()=>this.actions$.pipe(si(Vr.kS),(0,Qn.w)(Se=>(this.oauthService.logOut(),this.store.dispatch(bi.J_()),this.store.dispatch(Vr.TY({message:Se.message})),os.E))),{dispatch:!1}),this.routeToHome=Oe(()=>this.actions$.pipe(si(Vr.It),(0,Qn.w)(()=>this.router.navigate(["/"]))),{dispatch:!1}),this.routeToLogin=Oe(()=>this.actions$.pipe(si(Vr.TY),(0,Qn.w)(Se=>this.router.navigate(["/login",{endsession:Se.message,skipLocationChange:!0}]))),{dispatch:!1})}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(gs.Ct),u.LFG(N.F0),u.LFG(Bo),u.LFG(S.yh))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),hl=(()=>{class w{constructor(c,v,L,ne){this.actions$=c,this.notesDataService=v,this.router=L,this.toastService=ne,this.save=Oe(()=>this.actions$.pipe(si(Gn.kT),(0,Qn.w)(Se=>this.notesDataService.addNote(Se.payload).pipe((0,hi.U)(Pe=>Gn.Yg({payload:Pe})),(0,xi.K)(Pe=>(0,yi.of)(Gn.ce({payload:Pe}))))))),this.updateNoteText=Oe(()=>this.actions$.pipe(si(Gn.Y8),(0,Qn.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,hi.U)(Pe=>Gn.ac({payload:Pe})),(0,xi.K)(Pe=>(0,yi.of)(Gn.G_({payload:Pe}))))))),this.updateNotePosition=Oe(()=>this.actions$.pipe(si(Gn.lk),(0,Qn.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,hi.U)(Pe=>Gn.qw({payload:Pe})),(0,xi.K)(Pe=>(0,yi.of)(Gn.Zw({payload:Pe}))))))),this.updateNoteSelection=Oe(()=>this.actions$.pipe(si(Gn.w),(0,Qn.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,hi.U)(Pe=>Gn.bd({payload:Pe})),(0,xi.K)(Pe=>(0,yi.of)(Gn.j8({payload:Pe}))))))),this.update=Oe(()=>this.actions$.pipe(si(Gn.Qk),(0,Qn.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,hi.U)(Pe=>Gn.Hl({payload:Pe})),(0,xi.K)(Pe=>(0,yi.of)(Gn.ce({payload:Pe}))))))),this.updatePinOrder=Oe(()=>this.actions$.pipe(si(Gn.jA),(0,Qn.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,hi.U)(Pe=>Gn.HI({payload:Pe})),(0,xi.K)(Pe=>(0,yi.of)(Gn.MJ({payload:Pe}))))))),this.fetchNotes=Oe(()=>this.actions$.pipe(si(Gn.jO),(0,Qn.w)(()=>(0,yi.of)(Gn.kU())))),this.fetchNotesStart=Oe(()=>this.actions$.pipe(si(Gn.kU),(0,Qn.w)(()=>this.notesDataService.getNotes().pipe((0,hi.U)(Se=>Gn.Tf({payload:Se})),(0,xi.K)(Se=>(0,yi.of)({type:Gn.yV.type,payload:Se})))))),this.fetchNotesSuccess=Oe(()=>this.actions$.pipe(si(Gn.Tf),(0,Qn.w)(()=>(0,yi.of)(Gn.FF())))),this.delete=Oe(()=>this.actions$.pipe(si(Gn.f_),(0,Qn.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,hi.U)(Pe=>Gn.or({payload:Pe})),(0,xi.K)(Pe=>(0,yi.of)(Gn.hR({payload:Pe}))))))),this.deleteSuccess=Oe(()=>this.actions$.pipe(si(Gn.or),(0,Qn.w)(()=>(this.toastService.showSuccess("Note Deleted","Info"),this.router.navigate(["/notes"]),os.E))),{dispatch:!1}),this.archiveNote=Oe(()=>this.actions$.pipe(si(Gn.Bn),(0,Qn.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,hi.U)(Pe=>Gn.iG({payload:Pe})),(0,xi.K)(Pe=>(0,yi.of)(Gn.bh({payload:Pe}))))))),this.toggleSpellCheck=Oe(()=>this.actions$.pipe(si(Gn.Tq),(0,Qn.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,hi.U)(Pe=>Gn.Zn({payload:Pe})),(0,xi.K)(Pe=>(0,yi.of)(Gn.qp({payload:Pe}))))))),this.archiveNoteSuccess=Oe(()=>this.actions$.pipe(si(Gn.iG),(0,Qn.w)(()=>(this.toastService.showSuccess("Note successfully archived","Info"),os.E))),{dispatch:!1}),this.restoreNote=Oe(()=>this.actions$.pipe(si(Gn.Us),(0,Qn.w)(Se=>this.notesDataService.updateNote({...Se.payload,archived:!1}).pipe((0,hi.U)(Pe=>Gn.sI({payload:Pe})),(0,xi.K)(Pe=>(0,yi.of)(Gn.AG({payload:Pe}))))))),this.restoreNoteSuccess=Oe(()=>this.actions$.pipe(si(Gn.sI),(0,Qn.w)(()=>(this.toastService.showSuccess("Note successfully restored","Info"),os.E))),{dispatch:!1}),this.updateNoteColour=Oe(()=>this.actions$.pipe(si(Gn.rs),(0,Qn.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,hi.U)(Pe=>Gn.qS({payload:Pe})),(0,xi.K)(Pe=>(0,yi.of)(Gn.YY({payload:Pe}))))))),this.updateNoteColourSuccess=Oe(()=>this.actions$.pipe(si(Gn.qS),(0,Qn.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,hi.U)(Pe=>Gn.O5({payload:Pe})),(0,xi.K)(Pe=>(0,yi.of)(Gn.pB({payload:Pe}))))))),this.updateNoteHeader=Oe(()=>this.actions$.pipe(si(Gn.gl),(0,Qn.w)(Se=>this.notesDataService.updateNote(Se.payload).pipe((0,hi.U)(Pe=>Gn.jT({payload:Pe})),(0,xi.K)(Pe=>(0,yi.of)(Gn.v3({payload:Pe})))))))}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Bo),u.LFG(Zr),u.LFG(N.F0),u.LFG(Rs))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),Ml=(()=>{class w{constructor(c,v,L){this.actions$=c,this.eventsDataService=v,this.toastService=L,this.createEvent=Oe(()=>this.actions$.pipe(si(bi.yM),(0,Qn.w)(ne=>this.eventsDataService.createEvent(ne.payload).pipe((0,hi.U)(Se=>bi.Ar({payload:Se})),(0,xi.K)(Se=>(0,yi.of)(bi.SZ({payload:Se}))))))),this.createEventSuccess=Oe(()=>this.actions$.pipe(si(bi.Ar),(0,Qn.w)(ne=>(this.toastService.showSuccess(ne.payload.title,"Event Added"),os.E))),{dispatch:!1}),this.updateEvent=Oe(()=>this.actions$.pipe(si(bi.eJ),(0,Qn.w)(ne=>this.eventsDataService.updateEvent(ne.payload.newValue).pipe((0,hi.U)(Se=>bi.VD({payload:Se})),(0,xi.K)(Se=>(0,yi.of)(bi.M0({payload:Se}))))))),this.updateEventSuccess=Oe(()=>this.actions$.pipe(si(bi.VD),(0,Qn.w)(ne=>(this.toastService.showSuccess(ne.payload.title,"Event Updated"),os.E))),{dispatch:!1}),this.toggleEvent=Oe(()=>this.actions$.pipe(si(bi.Hw),(0,Qn.w)(ne=>this.eventsDataService.toggleEvent(ne.payload).pipe((0,hi.U)(Se=>bi.Lz({payload:Se})),(0,xi.K)(Se=>(0,yi.of)(bi.Pr({payload:Se}))))))),this.toggleEventSuccess=Oe(()=>this.actions$.pipe(si(bi.Lz),(0,Qn.w)(ne=>(this.toastService.showSuccess(ne.payload.title,"Event Updated"),os.E))),{dispatch:!1}),this.fetchEvents=Oe(()=>this.actions$.pipe(si(bi.sZ),(0,Qn.w)(()=>(0,yi.of)(bi.x1())))),this.fetchEventsStart=Oe(()=>this.actions$.pipe(si(bi.x1),(0,Qn.w)(()=>this.eventsDataService.getAllEvents().pipe((0,hi.U)(ne=>bi.aw({payload:ne})),(0,xi.K)(ne=>(0,yi.of)({type:bi.ZF.type,payload:ne})))))),this.fetchEventsSuccess=Oe(()=>this.actions$.pipe(si(bi.aw),(0,Qn.w)(()=>(0,yi.of)(bi.OV())))),this.deleteEvent=Oe(()=>this.actions$.pipe(si(bi.Bt),(0,Qn.w)(ne=>this.eventsDataService.deleteEventById(ne.payload).pipe((0,hi.U)(Se=>bi.UF({payload:Se})),(0,xi.K)(Se=>(0,yi.of)(bi.ke({payload:Se}))))))),this.deleteEvents=Oe(()=>this.actions$.pipe(si(bi.BR),(0,Qn.w)(ne=>this.eventsDataService.deleteEvents(ne.payload).pipe((0,hi.U)(Se=>bi.c({payload:Se})),(0,xi.K)(Se=>(0,yi.of)(bi.I7({payload:Se})))))))}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Bo),u.LFG(qo),u.LFG(Rs))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),Ua=(()=>{class w{constructor(c,v){this.actions$=c,this.themeService=v,this.toggleDarkMode=Oe(()=>this.actions$.pipe(si(qi.In),(0,Qn.w)(()=>(0,yi.of)(this.themeService.toggleDarkMode()).pipe((0,hi.U)(()=>qi.TU()))))),this.getIsLoggedIn=Oe(()=>this.actions$.pipe(si(qi.M7),(0,Qn.w)(()=>(0,yi.of)(qi.MP({isLoggedIn:"true"===localStorage.getItem("isLoggedIn")||!1}))))),this.setIsLoggedIn=Oe(()=>this.actions$.pipe(si(qi.nf),(0,Qn.w)(L=>(0,yi.of)(localStorage.setItem("isLoggedIn",L.isLoggedIn.toString())).pipe((0,hi.U)(()=>qi.MP({isLoggedIn:L.isLoggedIn})))))),this.getIsLoggedInSuccess=Oe(()=>this.actions$.pipe(si(qi.MP),(0,Qn.w)(L=>(0,yi.of)(qi.MP({isLoggedIn:L.isLoggedIn}))))),this.logInSuccess=Oe(()=>this.actions$.pipe(si(qi.Ib,qi.d8),(0,Qn.w)(()=>(0,yi.of)(Gn.jO(),bi.sZ()))))}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Bo),u.LFG(Ta.f))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),fl=(()=>{class w{constructor(c){this.actions$=c,this.deleteSuccess=Oe(()=>this.actions$.pipe(si(h),(0,Qn.w)(()=>os.E)),{dispatch:!1})}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Bo))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),pl=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({imports:[S.Aw.forRoot(ba,{metaReducers:il}),La.forRoot([hl,Ml,dl,Ua,fl]),cl.FT.instrument({connectInZone:!0})]})}return w})();var Ol=l(5861);window;const Pl={requireHttps:!1,issuer:"https://accounts.google.com",strictDiscoveryDocumentValidation:!1,clientId:"35558275617-qa2pthvce7ccunhrv0708lsbnp2vsonj.apps.googleusercontent.com",redirectUri:(0,u.X6Q)()?"http://localhost:4200/Angular":"https://eskinderg.github.io/Angular",scope:"openid profile email",showDebugInformation:!0,sessionChecksEnabled:!0};function xl(w,d,c,v){return w.configure(Pl),w.setupAutomaticSilentRefresh(),(0,Ol.Z)(function*(){return yield w.loadDiscoveryDocumentAndTryLogin({onLoginError:L=>{v.error(`Error Code: ${L.error}, Error Description: ${L.error_description}`)}}),w.hasValidAccessToken()?d.dispatch((0,qi.d8)()):c.showStandard("No valid access_token"),!0})}let Rl=(()=>{class w{constructor(){}intercept(c,v){return c.url.includes(Fi.N.API)&&(c=c.clone({setHeaders:{Authorization:`Bearer ${localStorage.getItem("id_token")}`}})),v.handle(c)}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),rl=(()=>{class w extends gs.mb{constructor(c){super(),this.logg=c}debug(c,...v){console.info(v)}info(c,...v){console.log(v),this.logg.showSuccess(c,"OAuth Info")}log(c,...v){console.log(v),this.logg.showSuccess(c,"OAuth Log")}warn(c,...v){console.log(v),this.logg.showSuccess(c,"OAuth Warn")}error(c,...v){console.log(v),this.logg.showSuccess(c,"OAuth Error")}static#e=this.\u0275fac=function(v){return new(v||w)(u.LFG(Rs))};static#t=this.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac})}return w})(),Il=(()=>{class w{static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w});static#n=this.\u0275inj=u.cJS({providers:[{provide:e.TP,useClass:Rl,multi:!0},{provide:u.ip1,useFactory:xl,deps:[gs.Ct,S.yh,Rs,rs],multi:!0},{provide:gs.Hy,useValue:localStorage},{provide:Fr.mr,useValue:"Angular"},{provide:gs.mb,useClass:rl}],imports:[gs.zr.forRoot()]})}return w})(),Uo=(()=>{class w{constructor(){}static#e=this.\u0275fac=function(v){return new(v||w)};static#t=this.\u0275mod=u.oAB({type:w,bootstrap:[Js]});static#n=this.\u0275inj=u.cJS({providers:[Zr,qo,rs,ni],imports:[hn.b2,e.JF,Il,Po,Qo,kr,aa,is,pl,Ko.c.forRoot(),zs.m.forRoot(),ln.IJ,Ps,on.forRoot({serializer:Na})]})}return w})()},682:(Ze,le,l)=>{"use strict";l.d(le,{s:()=>C});var e=l(9212),S=l(6814),u=l(7178);const N=F=>({"font-size":F});function x(F,V){if(1&F&&(e.TgZ(0,"span",4),e._uU(1,"\u2665"),e.qZA()),2&F){const $=e.oxw(2);e.Q6J("ngStyle",e.VKq(1,N,$.size+"rem"))}}function h(F,V){if(1&F&&(e.TgZ(0,"span",5),e._uU(1,"\u2665"),e.qZA()),2&F){const $=e.oxw(2);e.Q6J("ngStyle",e.VKq(1,N,$.size+"rem"))}}function y(F,V){if(1&F&&(e.TgZ(0,"span",5)(1,"span",6),e._uU(2,"\u2665"),e.qZA(),e._uU(3,"\u2665 "),e.qZA()),2&F){const $=e.oxw().fill,j=e.oxw();e.Q6J("ngStyle",e.VKq(3,N,j.size+"rem")),e.xp6(),e.Udp("width",$,"%")}}function E(F,V){if(1&F&&e.YNc(0,x,2,3,"span",2)(1,h,2,3,"span",3)(2,y,4,5,"span",3),2&F){const $=V.fill;e.Q6J("ngIf",100===$),e.xp6(),e.Q6J("ngIf",0===$),e.xp6(),e.Q6J("ngIf",$<100&&$>0)}}let C=(()=>{class F{constructor(){this.size=3}static#e=this.\u0275fac=function(j){return new(j||F)};static#t=this.\u0275cmp=e.Xpm({type:F,selectors:[["app-ngbd-rating-decimal"]],inputs:{rating:"rating",currentRate:"currentRate",size:"size"},decls:3,vars:4,consts:[["t",""],[3,"rate","starTemplate","readonly","max"],["class","star full",3,"ngStyle",4,"ngIf"],["class","star",3,"ngStyle",4,"ngIf"],[1,"star","full",3,"ngStyle"],[1,"star",3,"ngStyle"],[1,"half"]],template:function(j,q){if(1&j&&(e.YNc(0,E,3,3,"ng-template",null,0,e.W1O),e._UZ(2,"ngb-rating",1)),2&j){const ee=e.MAs(1);e.xp6(2),e.Q6J("rate",q.currentRate)("starTemplate",ee)("readonly",!0)("max",5)}},dependencies:[S.O5,S.PC,u.OC],styles:[".star[_ngcontent-%COMP%]{position:relative;display:inline-block;color:#d3d3d3}.full[_ngcontent-%COMP%]{color:red}.half[_ngcontent-%COMP%]{position:absolute;display:inline-block;overflow:hidden;color:red}"]})}return F})()},221:(Ze,le,l)=>{"use strict";l.d(le,{i:()=>S});var e=l(9212);let S=(()=>{class u{transform(x){return new Date(x).toLocaleDateString("en-US",{month:"long",year:"numeric"})}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275pipe=e.Yjl({name:"format",type:u,pure:!0})}return u})()},3569:(Ze,le,l)=>{"use strict";l.d(le,{h:()=>S});var e=l(9212);let S=(()=>{class u{transform(x){if(x){const h=Math.floor((+new Date-+new Date(x))/1e3);if(h<29)return"just now";const y={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};let E;for(const C in y)if(E=Math.floor(h/y[C]),E>0)return 1===E?E+" "+C+" ago":E+" "+C+"s ago"}return x}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275pipe=e.Yjl({name:"dateago",type:u,pure:!0})}return u})()},7198:(Ze,le,l)=>{"use strict";l.d(le,{P:()=>N});var e=l(9212),S=l(4751),u=l(2236);let N=(()=>{class x{constructor(y,E){this.oauthService=y,this.router=E}canActivate(){return!!this.oauthService.hasValidAccessToken()||(this.router.navigate(["/"]),!1)}static#e=this.\u0275fac=function(E){return new(E||x)(e.LFG(S.Ct),e.LFG(u.F0))};static#t=this.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac})}return x})()},6746:(Ze,le,l)=>{"use strict";l.d(le,{m:()=>Jo});var e=l(6814),S=l(95),u=l(2236),N=l(7178),x=l(7198),h=l(9212),y=l(2096),E=l(4751),C=l(9862);let F=(()=>{class ke{constructor(I,X,ye){this.oauthService=I,this.http=X,this.route=ye,this.userLoadededEvent=new h.vpe,this.loggedIn=!1}isLoggedInObs(){return(0,y.of)(this.oauthService.hasValidAccessToken())}isLoggedIn(){return this.oauthService.hasValidAccessToken()}clearState(){}getUser(){this.oauthService.loadUserProfile().then(I=>{this.currentUser=I,console.log("got user",I),this.userLoadededEvent.emit(I)}).catch(function(I){console.log(I)})}getProfile(){return this.oauthService.getIdentityClaims()}removeUser(){}startSigninMainWindow(){}endSigninMainWindow(){}startSignoutMainWindow(){}logout(){this.oauthService.logOut()}endSignoutMainWindow(){}static#e=this.\u0275fac=function(X){return new(X||ke)(h.LFG(E.Ct),h.LFG(C.eN),h.LFG(u.F0))};static#t=this.\u0275prov=h.Yz7({token:ke,factory:ke.\u0275fac})}return ke})();var V=l(7368),$=l(2831),j=l(2495),Mi=l(8645),Us=l(7394),us=l(6321),ys=l(9080),uo=l(927),ns=l(5592),ds=l(3019),hs=l(9773);function H(ke,B,I){for(let X in B)if(B.hasOwnProperty(X)){const ye=B[X];ye?ke.setProperty(X,ye,I?.has(X)?"important":""):ke.removeProperty(X)}return ke}function W(ke,B){const I=B?"":"none";H(ke.style,{"touch-action":B?"":"none","-webkit-user-drag":B?"":"none","-webkit-tap-highlight-color":B?"":"transparent","user-select":I,"-ms-user-select":I,"-webkit-user-select":I,"-moz-user-select":I})}function P(ke,B,I){H(ke.style,{position:B?"":"fixed",top:B?"":"0",opacity:B?"":"0",left:B?"":"-999em"},I)}function se(ke,B){return B&&"none"!=B?ke+" "+B:ke}function $e(ke){const B=ke.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(ke)*B}function Bn(ke,B){return ke.getPropertyValue(B).split(",").map(X=>X.trim())}function Ki(ke){const B=ke.getBoundingClientRect();return{top:B.top,right:B.right,bottom:B.bottom,left:B.left,width:B.width,height:B.height,x:B.x,y:B.y}}function fr(ke,B,I){const{top:X,bottom:ye,left:it,right:Ot}=ke;return I>=X&&I<=ye&&B>=it&&B<=Ot}function Ir(ke,B,I){ke.top+=B,ke.bottom=ke.top+ke.height,ke.left+=I,ke.right=ke.left+ke.width}function As(ke,B,I,X){const{top:ye,right:it,bottom:Ot,left:Gt,width:Cn,height:Nn}=ke,di=Cn*B,Yi=Nn*B;return X>ye-Yi&&X<Ot+Yi&&I>Gt-di&&I<it+di}l(7398),l(8180),l(7921),l(9397),l(4664),l(9388);class go{constructor(B){this._document=B,this.positions=new Map}clear(){this.positions.clear()}cache(B){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),B.forEach(I=>{this.positions.set(I,{scrollPosition:{top:I.scrollTop,left:I.scrollLeft},clientRect:Ki(I)})})}handleScroll(B){const I=(0,$.sA)(B),X=this.positions.get(I);if(!X)return null;const ye=X.scrollPosition;let it,Ot;if(I===this._document){const Nn=this.getViewportScrollPosition();it=Nn.top,Ot=Nn.left}else it=I.scrollTop,Ot=I.scrollLeft;const Gt=ye.top-it,Cn=ye.left-Ot;return this.positions.forEach((Nn,di)=>{Nn.clientRect&&I!==di&&I.contains(di)&&Ir(Nn.clientRect,Gt,Cn)}),ye.top=it,ye.left=Ot,{top:Gt,left:Cn}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function pr(ke){const B=ke.cloneNode(!0),I=B.querySelectorAll("[id]"),X=ke.nodeName.toLowerCase();B.removeAttribute("id");for(let ye=0;ye<I.length;ye++)I[ye].removeAttribute("id");return"canvas"===X?no(ke,B):("input"===X||"select"===X||"textarea"===X)&&js(ke,B),to("canvas",ke,B,no),to("input, textarea, select",ke,B,js),B}function to(ke,B,I,X){const ye=B.querySelectorAll(ke);if(ye.length){const it=I.querySelectorAll(ke);for(let Ot=0;Ot<ye.length;Ot++)X(ye[Ot],it[Ot])}}let mo=0;function js(ke,B){"file"!==B.type&&(B.value=ke.value),"radio"===B.type&&B.name&&(B.name=`mat-clone-${B.name}-${mo++}`)}function no(ke,B){const I=B.getContext("2d");if(I)try{I.drawImage(ke,0,0)}catch{}}const Ms=(0,$.i$)({passive:!0}),Do=(0,$.i$)({passive:!1}),Ao=new Set(["position"]);class Sa{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(B){const I=(0,j.Ig)(B);I!==this._disabled&&(this._disabled=I,this._toggleNativeDragInteractions(),this._handles.forEach(X=>W(X,I)))}constructor(B,I,X,ye,it,Ot){this._config=I,this._document=X,this._ngZone=ye,this._viewportRuler=it,this._dragDropRegistry=Ot,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Mi.x,this._pointerMoveSubscription=Us.w0.EMPTY,this._pointerUpSubscription=Us.w0.EMPTY,this._scrollSubscription=Us.w0.EMPTY,this._resizeSubscription=Us.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Mi.x,this.started=new Mi.x,this.released=new Mi.x,this.ended=new Mi.x,this.entered=new Mi.x,this.exited=new Mi.x,this.dropped=new Mi.x,this.moved=this._moveEvents,this._pointerDown=Gt=>{if(this.beforeStarted.next(),this._handles.length){const Cn=this._getTargetHandle(Gt);Cn&&!this._disabledHandles.has(Cn)&&!this.disabled&&this._initializeDragSequence(Cn,Gt)}else this.disabled||this._initializeDragSequence(this._rootElement,Gt)},this._pointerMove=Gt=>{const Cn=this._getPointerPositionOnPage(Gt);if(!this._hasStartedDragging){if(Math.abs(Cn.x-this._pickupPositionOnPage.x)+Math.abs(Cn.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Ws=Date.now()>=this._dragStartTime+this._getDragStartDelay(Gt),$s=this._dropContainer;if(!Ws)return void this._endDragSequence(Gt);(!$s||!$s.isDragging()&&!$s.isReceiving())&&(Gt.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Gt)))}return}Gt.preventDefault();const Nn=this._getConstrainedPointerPosition(Cn);if(this._hasMoved=!0,this._lastKnownPointerPosition=Cn,this._updatePointerDirectionDelta(Nn),this._dropContainer)this._updateActiveDropContainer(Nn,Cn);else{const di=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,Yi=this._activeTransform;Yi.x=Nn.x-di.x+this._passiveTransform.x,Yi.y=Nn.y-di.y+this._passiveTransform.y,this._applyRootElementTransform(Yi.x,Yi.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:Nn,event:Gt,distance:this._getDragDistance(Nn),delta:this._pointerDirectionDelta})})},this._pointerUp=Gt=>{this._endDragSequence(Gt)},this._nativeDragStart=Gt=>{if(this._handles.length){const Cn=this._getTargetHandle(Gt);Cn&&!this._disabledHandles.has(Cn)&&!this.disabled&&Gt.preventDefault()}else this.disabled||Gt.preventDefault()},this.withRootElement(B).withParent(I.parentDragRef||null),this._parentPositions=new go(X),Ot.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(B){this._handles=B.map(X=>(0,j.fI)(X)),this._handles.forEach(X=>W(X,this.disabled)),this._toggleNativeDragInteractions();const I=new Set;return this._disabledHandles.forEach(X=>{this._handles.indexOf(X)>-1&&I.add(X)}),this._disabledHandles=I,this}withPreviewTemplate(B){return this._previewTemplate=B,this}withPlaceholderTemplate(B){return this._placeholderTemplate=B,this}withRootElement(B){const I=(0,j.fI)(B);return I!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{I.addEventListener("mousedown",this._pointerDown,Do),I.addEventListener("touchstart",this._pointerDown,Ms),I.addEventListener("dragstart",this._nativeDragStart,Do)}),this._initialTransform=void 0,this._rootElement=I),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(B){return this._boundaryElement=B?(0,j.fI)(B):null,this._resizeSubscription.unsubscribe(),B&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(B){return this._parentDragRef=B,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(B){!this._disabledHandles.has(B)&&this._handles.indexOf(B)>-1&&(this._disabledHandles.add(B),W(B,!0))}enableHandle(B){this._disabledHandles.has(B)&&(this._disabledHandles.delete(B),W(B,this.disabled))}withDirection(B){return this._direction=B,this}_withDropContainer(B){this._dropContainer=B}getFreeDragPosition(){const B=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:B.x,y:B.y}}setFreeDragPosition(B){return this._activeTransform={x:0,y:0},this._passiveTransform.x=B.x,this._passiveTransform.y=B.y,this._dropContainer||this._applyRootElementTransform(B.x,B.y),this}withPreviewContainer(B){return this._previewContainer=B,this}_sortFromLastPointerPosition(){const B=this._lastKnownPointerPosition;B&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(B),B)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(B){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:B}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(B),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const I=this._getPointerPositionOnPage(B);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(I),dropPoint:I,event:B})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(B){fs(B)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const I=this._dropContainer;if(I){const X=this._rootElement,ye=X.parentNode,it=this._placeholder=this._createPlaceholderElement(),Ot=this._anchor=this._anchor||this._document.createComment(""),Gt=this._getShadowRoot();ye.insertBefore(Ot,X),this._initialTransform=X.style.transform||"",this._preview=this._createPreviewElement(),P(X,!1,Ao),this._document.body.appendChild(ye.replaceChild(it,X)),this._getPreviewInsertionPoint(ye,Gt).appendChild(this._preview),this.started.next({source:this,event:B}),I.start(),this._initialContainer=I,this._initialIndex=I.getItemIndex(this)}else this.started.next({source:this,event:B}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(I?I.getScrollableParents():[])}_initializeDragSequence(B,I){this._parentDragRef&&I.stopPropagation();const X=this.isDragging(),ye=fs(I),it=!ye&&0!==I.button,Ot=this._rootElement,Gt=(0,$.sA)(I),Cn=!ye&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),Nn=ye?function Ds(ke){const B=ke.touches&&ke.touches[0]||ke.changedTouches&&ke.changedTouches[0];return!(!B||-1!==B.identifier||null!=B.radiusX&&1!==B.radiusX||null!=B.radiusY&&1!==B.radiusY)}(I):function pi(ke){return 0===ke.buttons||0===ke.offsetX&&0===ke.offsetY}(I);if(Gt&&Gt.draggable&&"mousedown"===I.type&&I.preventDefault(),X||it||Cn||Nn)return;if(this._handles.length){const Pr=Ot.style;this._rootElementTapHighlight=Pr.webkitTapHighlightColor||"",Pr.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Pr=>this._updateOnScroll(Pr)),this._boundaryElement&&(this._boundaryRect=Ki(this._boundaryElement));const di=this._previewTemplate;this._pickupPositionInElement=di&&di.template&&!di.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,B,I);const Yi=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(I);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Yi.x,y:Yi.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,I)}_cleanupDragArtifacts(B){P(this._rootElement,!0,Ao),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const I=this._dropContainer,X=I.getItemIndex(this),ye=this._getPointerPositionOnPage(B),it=this._getDragDistance(ye),Ot=I._isOverContainer(ye.x,ye.y);this.ended.next({source:this,distance:it,dropPoint:ye,event:B}),this.dropped.next({item:this,currentIndex:X,previousIndex:this._initialIndex,container:I,previousContainer:this._initialContainer,isPointerOverContainer:Ot,distance:it,dropPoint:ye,event:B}),I.drop(this,X,this._initialIndex,this._initialContainer,Ot,it,ye,B),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:B,y:I},{x:X,y:ye}){let it=this._initialContainer._getSiblingContainerFromPosition(this,B,I);!it&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(B,I)&&(it=this._initialContainer),it&&it!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=it,this._dropContainer.enter(this,B,I,it===this._initialContainer&&it.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:it,currentIndex:it.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(X,ye),this._dropContainer._sortItem(this,B,I,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(B,I):this._applyPreviewTransform(B-this._pickupPositionInElement.x,I-this._pickupPositionInElement.y))}_createPreviewElement(){const B=this._previewTemplate,I=this.previewClass,X=B?B.template:null;let ye;if(X&&B){const it=B.matchSize?this._initialClientRect:null,Ot=B.viewContainer.createEmbeddedView(X,B.context);Ot.detectChanges(),ye=Os(Ot,this._document),this._previewRef=Ot,B.matchSize?is(ye,it):ye.style.transform=io(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else ye=pr(this._rootElement),is(ye,this._initialClientRect),this._initialTransform&&(ye.style.transform=this._initialTransform);return H(ye.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Ao),W(ye,!1),ye.classList.add("cdk-drag-preview"),ye.setAttribute("dir",this._direction),I&&(Array.isArray(I)?I.forEach(it=>ye.classList.add(it)):ye.classList.add(I)),ye}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const B=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(B.left,B.top);const I=function wn(ke){const B=getComputedStyle(ke),I=Bn(B,"transition-property"),X=I.find(Gt=>"transform"===Gt||"all"===Gt);if(!X)return 0;const ye=I.indexOf(X),it=Bn(B,"transition-duration"),Ot=Bn(B,"transition-delay");return $e(it[ye])+$e(Ot[ye])}(this._preview);return 0===I?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(X=>{const ye=Ot=>{(!Ot||(0,$.sA)(Ot)===this._preview&&"transform"===Ot.propertyName)&&(this._preview?.removeEventListener("transitionend",ye),X(),clearTimeout(it))},it=setTimeout(ye,1.5*I);this._preview.addEventListener("transitionend",ye)}))}_createPlaceholderElement(){const B=this._placeholderTemplate,I=B?B.template:null;let X;return I?(this._placeholderRef=B.viewContainer.createEmbeddedView(I,B.context),this._placeholderRef.detectChanges(),X=Os(this._placeholderRef,this._document)):X=pr(this._rootElement),X.style.pointerEvents="none",X.classList.add("cdk-drag-placeholder"),X}_getPointerPositionInElement(B,I,X){const ye=I===this._rootElement?null:I,it=ye?ye.getBoundingClientRect():B,Ot=fs(X)?X.targetTouches[0]:X,Gt=this._getViewportScrollPosition();return{x:it.left-B.left+(Ot.pageX-it.left-Gt.left),y:it.top-B.top+(Ot.pageY-it.top-Gt.top)}}_getPointerPositionOnPage(B){const I=this._getViewportScrollPosition(),X=fs(B)?B.touches[0]||B.changedTouches[0]||{pageX:0,pageY:0}:B,ye=X.pageX-I.left,it=X.pageY-I.top;if(this._ownerSVGElement){const Ot=this._ownerSVGElement.getScreenCTM();if(Ot){const Gt=this._ownerSVGElement.createSVGPoint();return Gt.x=ye,Gt.y=it,Gt.matrixTransform(Ot.inverse())}}return{x:ye,y:it}}_getConstrainedPointerPosition(B){const I=this._dropContainer?this._dropContainer.lockAxis:null;let{x:X,y:ye}=this.constrainPosition?this.constrainPosition(B,this,this._initialClientRect,this._pickupPositionInElement):B;if("x"===this.lockAxis||"x"===I?ye=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===I)&&(X=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:it,y:Ot}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,Gt=this._boundaryRect,{width:Cn,height:Nn}=this._getPreviewRect(),di=Gt.top+Ot,Yi=Gt.bottom-(Nn-Ot);X=Mo(X,Gt.left+it,Gt.right-(Cn-it)),ye=Mo(ye,di,Yi)}return{x:X,y:ye}}_updatePointerDirectionDelta(B){const{x:I,y:X}=B,ye=this._pointerDirectionDelta,it=this._pointerPositionAtLastDirectionChange,Ot=Math.abs(I-it.x),Gt=Math.abs(X-it.y);return Ot>this._config.pointerDirectionChangeThreshold&&(ye.x=I>it.x?1:-1,it.x=I),Gt>this._config.pointerDirectionChangeThreshold&&(ye.y=X>it.y?1:-1,it.y=X),ye}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const B=this._handles.length>0||!this.isDragging();B!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=B,W(this._rootElement,B))}_removeRootElementListeners(B){B.removeEventListener("mousedown",this._pointerDown,Do),B.removeEventListener("touchstart",this._pointerDown,Ms),B.removeEventListener("dragstart",this._nativeDragStart,Do)}_applyRootElementTransform(B,I){const X=io(B,I),ye=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=ye.transform&&"none"!=ye.transform?ye.transform:""),ye.transform=se(X,this._initialTransform)}_applyPreviewTransform(B,I){const X=this._previewTemplate?.template?void 0:this._initialTransform,ye=io(B,I);this._preview.style.transform=se(ye,X)}_getDragDistance(B){const I=this._pickupPositionOnPage;return I?{x:B.x-I.x,y:B.y-I.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:B,y:I}=this._passiveTransform;if(0===B&&0===I||this.isDragging()||!this._boundaryElement)return;const X=this._rootElement.getBoundingClientRect(),ye=this._boundaryElement.getBoundingClientRect();if(0===ye.width&&0===ye.height||0===X.width&&0===X.height)return;const it=ye.left-X.left,Ot=X.right-ye.right,Gt=ye.top-X.top,Cn=X.bottom-ye.bottom;ye.width>X.width?(it>0&&(B+=it),Ot>0&&(B-=Ot)):B=0,ye.height>X.height?(Gt>0&&(I+=Gt),Cn>0&&(I-=Cn)):I=0,(B!==this._passiveTransform.x||I!==this._passiveTransform.y)&&this.setFreeDragPosition({y:I,x:B})}_getDragStartDelay(B){const I=this.dragStartDelay;return"number"==typeof I?I:fs(B)?I.touch:I?I.mouse:0}_updateOnScroll(B){const I=this._parentPositions.handleScroll(B);if(I){const X=(0,$.sA)(B);this._boundaryRect&&X!==this._boundaryElement&&X.contains(this._boundaryElement)&&Ir(this._boundaryRect,I.top,I.left),this._pickupPositionOnPage.x+=I.left,this._pickupPositionOnPage.y+=I.top,this._dropContainer||(this._activeTransform.x-=I.left,this._activeTransform.y-=I.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,$.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(B,I){const X=this._previewContainer||"global";if("parent"===X)return B;if("global"===X){const ye=this._document;return I||ye.fullscreenElement||ye.webkitFullscreenElement||ye.mozFullScreenElement||ye.msFullscreenElement||ye.body}return(0,j.fI)(X)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(B){return this._handles.find(I=>B.target&&(B.target===I||I.contains(B.target)))}}function io(ke,B){return`translate3d(${Math.round(ke)}px, ${Math.round(B)}px, 0)`}function Mo(ke,B,I){return Math.max(B,Math.min(I,ke))}function fs(ke){return"t"===ke.type[0]}function Os(ke,B){const I=ke.rootNodes;if(1===I.length&&I[0].nodeType===B.ELEMENT_NODE)return I[0];const X=B.createElement("div");return I.forEach(ye=>X.appendChild(ye)),X}function is(ke,B){ke.style.width=`${B.width}px`,ke.style.height=`${B.height}px`,ke.style.transform=io(B.left,B.top)}function rs(ke,B){return Math.max(0,Math.min(B,ke))}class Vs{constructor(B,I){this._element=B,this._dragDropRegistry=I,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(B){this.withItems(B)}sort(B,I,X,ye){const it=this._itemPositions,Ot=this._getItemIndexFromPointerPosition(B,I,X,ye);if(-1===Ot&&it.length>0)return null;const Gt="horizontal"===this.orientation,Cn=it.findIndex(Kr=>Kr.drag===B),Nn=it[Ot],Yi=Nn.clientRect,Pr=Cn>Ot?1:-1,Ws=this._getItemOffsetPx(it[Cn].clientRect,Yi,Pr),$s=this._getSiblingOffsetPx(Cn,it,Pr),wr=it.slice();return function Fa(ke,B,I){const X=rs(B,ke.length-1),ye=rs(I,ke.length-1);if(X===ye)return;const it=ke[X],Ot=ye<X?-1:1;for(let Gt=X;Gt!==ye;Gt+=Ot)ke[Gt]=ke[Gt+Ot];ke[ye]=it}(it,Cn,Ot),it.forEach((Kr,Zo)=>{if(wr[Zo]===Kr)return;const Ys=Kr.drag===B,Ui=Ys?Ws:$s,Io=Ys?B.getPlaceholderElement():Kr.drag.getRootElement();Kr.offset+=Ui,Gt?(Io.style.transform=se(`translate3d(${Math.round(Kr.offset)}px, 0, 0)`,Kr.initialTransform),Ir(Kr.clientRect,0,Ui)):(Io.style.transform=se(`translate3d(0, ${Math.round(Kr.offset)}px, 0)`,Kr.initialTransform),Ir(Kr.clientRect,Ui,0))}),this._previousSwap.overlaps=fr(Yi,I,X),this._previousSwap.drag=Nn.drag,this._previousSwap.delta=Gt?ye.x:ye.y,{previousIndex:Cn,currentIndex:Ot}}enter(B,I,X,ye){const it=null==ye||ye<0?this._getItemIndexFromPointerPosition(B,I,X):ye,Ot=this._activeDraggables,Gt=Ot.indexOf(B),Cn=B.getPlaceholderElement();let Nn=Ot[it];if(Nn===B&&(Nn=Ot[it+1]),!Nn&&(null==it||-1===it||it<Ot.length-1)&&this._shouldEnterAsFirstChild(I,X)&&(Nn=Ot[0]),Gt>-1&&Ot.splice(Gt,1),Nn&&!this._dragDropRegistry.isDragging(Nn)){const di=Nn.getRootElement();di.parentElement.insertBefore(Cn,di),Ot.splice(it,0,B)}else(0,j.fI)(this._element).appendChild(Cn),Ot.push(B);Cn.style.transform="",this._cacheItemPositions()}withItems(B){this._activeDraggables=B.slice(),this._cacheItemPositions()}withSortPredicate(B){this._sortPredicate=B}reset(){this._activeDraggables.forEach(B=>{const I=B.getRootElement();if(I){const X=this._itemPositions.find(ye=>ye.drag===B)?.initialTransform;I.style.transform=X||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(B){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(X=>X.drag===B)}updateOnScroll(B,I){this._itemPositions.forEach(({clientRect:X})=>{Ir(X,B,I)}),this._itemPositions.forEach(({drag:X})=>{this._dragDropRegistry.isDragging(X)&&X._sortFromLastPointerPosition()})}_cacheItemPositions(){const B="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(I=>{const X=I.getVisibleElement();return{drag:I,offset:0,initialTransform:X.style.transform||"",clientRect:Ki(X)}}).sort((I,X)=>B?I.clientRect.left-X.clientRect.left:I.clientRect.top-X.clientRect.top)}_getItemOffsetPx(B,I,X){const ye="horizontal"===this.orientation;let it=ye?I.left-B.left:I.top-B.top;return-1===X&&(it+=ye?I.width-B.width:I.height-B.height),it}_getSiblingOffsetPx(B,I,X){const ye="horizontal"===this.orientation,it=I[B].clientRect,Ot=I[B+-1*X];let Gt=it[ye?"width":"height"]*X;if(Ot){const Cn=ye?"left":"top",Nn=ye?"right":"bottom";-1===X?Gt-=Ot.clientRect[Cn]-it[Nn]:Gt+=it[Cn]-Ot.clientRect[Nn]}return Gt}_shouldEnterAsFirstChild(B,I){if(!this._activeDraggables.length)return!1;const X=this._itemPositions,ye="horizontal"===this.orientation;if(X[0].drag!==this._activeDraggables[0]){const Ot=X[X.length-1].clientRect;return ye?B>=Ot.right:I>=Ot.bottom}{const Ot=X[0].clientRect;return ye?B<=Ot.left:I<=Ot.top}}_getItemIndexFromPointerPosition(B,I,X,ye){const it="horizontal"===this.orientation,Ot=this._itemPositions.findIndex(({drag:Gt,clientRect:Cn})=>Gt!==B&&((!ye||Gt!==this._previousSwap.drag||!this._previousSwap.overlaps||(it?ye.x:ye.y)!==this._previousSwap.delta)&&(it?I>=Math.floor(Cn.left)&&I<Math.floor(Cn.right):X>=Math.floor(Cn.top)&&X<Math.floor(Cn.bottom))));return-1!==Ot&&this._sortPredicate(Ot,B)?Ot:-1}}class Or{constructor(B,I,X,ye,it){this._dragDropRegistry=I,this._ngZone=ye,this._viewportRuler=it,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Mi.x,this.entered=new Mi.x,this.exited=new Mi.x,this.dropped=new Mi.x,this.sorted=new Mi.x,this.receivingStarted=new Mi.x,this.receivingStopped=new Mi.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Us.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Mi.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function co(ke=0,B=us.z){return ke<0&&(ke=0),(0,ys.H)(ke,ke,B)}(0,uo.Z).pipe((0,hs.R)(this._stopScrollTimers)).subscribe(()=>{const Ot=this._scrollNode,Gt=this.autoScrollStep;1===this._verticalScrollDirection?Ot.scrollBy(0,-Gt):2===this._verticalScrollDirection&&Ot.scrollBy(0,Gt),1===this._horizontalScrollDirection?Ot.scrollBy(-Gt,0):2===this._horizontalScrollDirection&&Ot.scrollBy(Gt,0)})},this.element=(0,j.fI)(B),this._document=X,this.withScrollableParents([this.element]),I.registerDropContainer(this),this._parentPositions=new go(X),this._sortStrategy=new Vs(this.element,I),this._sortStrategy.withSortPredicate((Ot,Gt)=>this.sortPredicate(Ot,Gt,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(B,I,X,ye){this._draggingStarted(),null==ye&&this.sortingDisabled&&(ye=this._draggables.indexOf(B)),this._sortStrategy.enter(B,I,X,ye),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:B,container:this,currentIndex:this.getItemIndex(B)})}exit(B){this._reset(),this.exited.next({item:B,container:this})}drop(B,I,X,ye,it,Ot,Gt,Cn={}){this._reset(),this.dropped.next({item:B,currentIndex:I,previousIndex:X,container:this,previousContainer:ye,isPointerOverContainer:it,distance:Ot,dropPoint:Gt,event:Cn})}withItems(B){const I=this._draggables;return this._draggables=B,B.forEach(X=>X._withDropContainer(this)),this.isDragging()&&(I.filter(ye=>ye.isDragging()).every(ye=>-1===B.indexOf(ye))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(B){return this._sortStrategy.direction=B,this}connectedTo(B){return this._siblings=B.slice(),this}withOrientation(B){return this._sortStrategy.orientation=B,this}withScrollableParents(B){const I=(0,j.fI)(this.element);return this._scrollableElements=-1===B.indexOf(I)?[I,...B]:B.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(B){return this._isDragging?this._sortStrategy.getItemIndex(B):this._draggables.indexOf(B)}isReceiving(){return this._activeSiblings.size>0}_sortItem(B,I,X,ye){if(this.sortingDisabled||!this._clientRect||!As(this._clientRect,.05,I,X))return;const it=this._sortStrategy.sort(B,I,X,ye);it&&this.sorted.next({previousIndex:it.previousIndex,currentIndex:it.currentIndex,container:this,item:B})}_startScrollingIfNecessary(B,I){if(this.autoScrollDisabled)return;let X,ye=0,it=0;if(this._parentPositions.positions.forEach((Ot,Gt)=>{Gt===this._document||!Ot.clientRect||X||As(Ot.clientRect,.05,B,I)&&([ye,it]=function Go(ke,B,I,X){const ye=ss(B,X),it=Oo(B,I);let Ot=0,Gt=0;if(ye){const Cn=ke.scrollTop;1===ye?Cn>0&&(Ot=1):ke.scrollHeight-Cn>ke.clientHeight&&(Ot=2)}if(it){const Cn=ke.scrollLeft;1===it?Cn>0&&(Gt=1):ke.scrollWidth-Cn>ke.clientWidth&&(Gt=2)}return[Ot,Gt]}(Gt,Ot.clientRect,B,I),(ye||it)&&(X=Gt))}),!ye&&!it){const{width:Ot,height:Gt}=this._viewportRuler.getViewportSize(),Cn={width:Ot,height:Gt,top:0,right:Ot,bottom:Gt,left:0};ye=ss(Cn,I),it=Oo(Cn,B),X=window}X&&(ye!==this._verticalScrollDirection||it!==this._horizontalScrollDirection||X!==this._scrollNode)&&(this._verticalScrollDirection=ye,this._horizontalScrollDirection=it,this._scrollNode=X,(ye||it)&&X?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const B=(0,j.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=B.msScrollSnapType||B.scrollSnapType||"",B.scrollSnapType=B.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const B=(0,j.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(B).clientRect}_reset(){this._isDragging=!1;const B=(0,j.fI)(this.element).style;B.scrollSnapType=B.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(I=>I._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(B,I){return null!=this._clientRect&&fr(this._clientRect,B,I)}_getSiblingContainerFromPosition(B,I,X){return this._siblings.find(ye=>ye._canReceive(B,I,X))}_canReceive(B,I,X){if(!this._clientRect||!fr(this._clientRect,I,X)||!this.enterPredicate(B,this))return!1;const ye=this._getShadowRoot().elementFromPoint(I,X);if(!ye)return!1;const it=(0,j.fI)(this.element);return ye===it||it.contains(ye)}_startReceiving(B,I){const X=this._activeSiblings;!X.has(B)&&I.every(ye=>this.enterPredicate(ye,this)||this._draggables.indexOf(ye)>-1)&&(X.add(B),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:B,receiver:this,items:I}))}_stopReceiving(B){this._activeSiblings.delete(B),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:B,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(B=>{if(this.isDragging()){const I=this._parentPositions.handleScroll(B);I&&this._sortStrategy.updateOnScroll(I.top,I.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const B=(0,$.kV)((0,j.fI)(this.element));this._cachedShadowRoot=B||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const B=this._sortStrategy.getActiveItemsSnapshot().filter(I=>I.isDragging());this._siblings.forEach(I=>I._startReceiving(this,B))}}function ss(ke,B){const{top:I,bottom:X,height:ye}=ke,it=.05*ye;return B>=I-it&&B<=I+it?1:B>=X-it&&B<=X+it?2:0}function Oo(ke,B){const{left:I,right:X,width:ye}=ke,it=.05*ye;return B>=I-it&&B<=I+it?1:B>=X-it&&B<=X+it?2:0}const zs=(0,$.i$)({passive:!1,capture:!0});let aa=(()=>{class ke{constructor(I,X){this._ngZone=I,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=ye=>ye.isDragging(),this.pointerMove=new Mi.x,this.pointerUp=new Mi.x,this.scroll=new Mi.x,this._preventDefaultWhileDragging=ye=>{this._activeDragInstances.length>0&&ye.preventDefault()},this._persistentTouchmoveListener=ye=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&ye.preventDefault(),this.pointerMove.next(ye))},this._document=X}registerDropContainer(I){this._dropInstances.has(I)||this._dropInstances.add(I)}registerDragItem(I){this._dragInstances.add(I),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,zs)})}removeDropContainer(I){this._dropInstances.delete(I)}removeDragItem(I){this._dragInstances.delete(I),this.stopDragging(I),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,zs)}startDragging(I,X){if(!(this._activeDragInstances.indexOf(I)>-1)&&(this._activeDragInstances.push(I),1===this._activeDragInstances.length)){const ye=X.type.startsWith("touch");this._globalListeners.set(ye?"touchend":"mouseup",{handler:it=>this.pointerUp.next(it),options:!0}).set("scroll",{handler:it=>this.scroll.next(it),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:zs}),ye||this._globalListeners.set("mousemove",{handler:it=>this.pointerMove.next(it),options:zs}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((it,Ot)=>{this._document.addEventListener(Ot,it.handler,it.options)})})}}stopDragging(I){const X=this._activeDragInstances.indexOf(I);X>-1&&(this._activeDragInstances.splice(X,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(I){return this._activeDragInstances.indexOf(I)>-1}scrolled(I){const X=[this.scroll];return I&&I!==this._document&&X.push(new ns.y(ye=>this._ngZone.runOutsideAngular(()=>{const Ot=Gt=>{this._activeDragInstances.length&&ye.next(Gt)};return I.addEventListener("scroll",Ot,!0),()=>{I.removeEventListener("scroll",Ot,!0)}}))),(0,ds.T)(...X)}ngOnDestroy(){this._dragInstances.forEach(I=>this.removeDragItem(I)),this._dropInstances.forEach(I=>this.removeDropContainer(I)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((I,X)=>{this._document.removeEventListener(X,I.handler,I.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(X){return new(X||ke)(h.LFG(h.R0b),h.LFG(e.K0))};static#t=this.\u0275prov=h.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})();const Ps={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ko=(()=>{class ke{constructor(I,X,ye,it){this._document=I,this._ngZone=X,this._viewportRuler=ye,this._dragDropRegistry=it}createDrag(I,X=Ps){return new Sa(I,X,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(I){return new Or(I,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(X){return new(X||ke)(h.LFG(e.K0),h.LFG(h.R0b),h.LFG(V.rL),h.LFG(aa))};static#t=this.\u0275prov=h.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})(),qi=(()=>{class ke{static#e=this.\u0275fac=function(X){return new(X||ke)};static#t=this.\u0275mod=h.oAB({type:ke});static#n=this.\u0275inj=h.cJS({providers:[Ko],imports:[V.ZD]})}return ke})();var Ro=l(9301);let Jo=(()=>{class ke{static forRoot(){return{ngModule:ke,providers:[F,x.P]}}static#e=this.\u0275fac=function(X){return new(X||ke)};static#t=this.\u0275mod=h.oAB({type:ke});static#n=this.\u0275inj=h.cJS({imports:[e.ez,u.Bz,S.u5,S.UX,N.IJ,Ro.e,e.ez,S.u5,S.UX,u.Bz,qi]})}return ke})()},8973:(Ze,le,l)=>{"use strict";l.d(le,{q:()=>N});var e=l(9212),S=l(6814);const u=x=>({hide:x});let N=(()=>{class x{constructor(y){this.cd=y,this._loading=!0}set loading(y){this._loading=y,this.cd.detectChanges()}get loading(){return this._loading}static#e=this.\u0275fac=function(E){return new(E||x)(e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:x,selectors:[["app-loading"]],inputs:{loading:"loading"},decls:2,vars:3,consts:[[1,"progress",3,"ngClass"],[1,"loading"]],template:function(E,C){1&E&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&E&&e.Q6J("ngClass",e.VKq(1,u,!C.loading))},dependencies:[S.mk],styles:['[_nghost-%COMP%]{position:fixed;width:100%;top:0;z-index:4}.hide[_ngcontent-%COMP%]{display:none!important}.progress[_ngcontent-%COMP%]{position:relative;height:4px;display:block;width:100%;background-color:#dc3545;border-radius:2px;background-clip:padding-box;overflow:hidden}.progress[_ngcontent-%COMP%]   .determinate[_ngcontent-%COMP%]{position:absolute;background-color:inherit;top:0;bottom:0;background-color:#198754;transition:width .3s linear}.progress[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{background-color:#198754}.progress[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:_ngcontent-%COMP%_indeterminate 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.progress[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:_ngcontent-%COMP%_indeterminate-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes _ngcontent-%COMP%_indeterminate{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes _ngcontent-%COMP%_indeterminate-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}'],changeDetection:0})}return x})()},9301:(Ze,le,l)=>{"use strict";l.d(le,{e:()=>x});var e=l(6814),S=l(9212);const u=["toggleOption"],N=h=>({"text-muted":h});let x=(()=>{class h{constructor(){this.themeToggleDark=new S.vpe}toggle(){this.toggleOption.nativeElement.blur(),this.themeToggleDark.emit()}static#e=this.\u0275fac=function(C){return new(C||h)};static#t=this.\u0275cmp=S.Xpm({type:h,selectors:[["app-theme-option"]],viewQuery:function(C,F){if(1&C&&S.Gf(u,5),2&C){let V;S.iGM(V=S.CRH())&&(F.toggleOption=V.first)}},inputs:{darkMode:"darkMode",label:"label"},outputs:{themeToggleDark:"themeToggleDark"},standalone:!0,features:[S.jDz],decls:6,vars:5,consts:[[1,"toggle-check","toggle-switch"],["for","flexSwitchCheckChecked",1,"form-check-label",3,"ngClass"],["type","checkbox","role","switch","id","flexSwitchCheckChecked",1,"toggle-input",3,"checked","click"],["toggleOption",""]],template:function(C,F){1&C&&(S.TgZ(0,"div",0)(1,"label",1),S._uU(2),S.qZA(),S._uU(3," \xa0 \xa0 "),S.TgZ(4,"input",2,3),S.NdJ("click",function(){return F.toggle()}),S.qZA()()),2&C&&(S.xp6(),S.Q6J("ngClass",S.VKq(3,N,!F.darkMode)),S.xp6(),S.Oqu(F.label),S.xp6(2),S.Q6J("checked",F.darkMode))},dependencies:[e.ez,e.mk],styles:["[_nghost-%COMP%]{padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);display:block}.toggle-switch[_ngcontent-%COMP%]   .toggle-input[_ngcontent-%COMP%]{--bs-form-switch-bg: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e\");width:2em;background-image:var(--bs-form-switch-bg);background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}.toggle-input[_ngcontent-%COMP%]{--bs-form-check-bg: var(--bs-body-bg);flex-shrink:0;width:1em;height:1em;margin-top:.25em;vertical-align:top;appearance:none;background-color:var(--bs-form-check-bg);background-image:var(--bs-form-check-bg-image);background-repeat:no-repeat;background-position:center;background-size:contain;border:var(--bs-border-width) solid var(--bs-border-color);-webkit-print-color-adjust:exact;print-color-adjust:exact}.toggle-switch[_ngcontent-%COMP%]   .toggle-input[_ngcontent-%COMP%]:checked{background-position:right center;--bs-form-switch-bg: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e\")}.toggle-input[_ngcontent-%COMP%]:checked[type=checkbox]{--bs-form-check-bg-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e\")}.toggle-switch[_ngcontent-%COMP%]   .toggle-input[_ngcontent-%COMP%]{--bs-form-switch-bg: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e\");width:2em;background-image:var(--bs-form-switch-bg);background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}.toggle-input[_ngcontent-%COMP%]:checked{background-color:#909dab1f;border-color:#909dab1f}.toggle-input[type=checkbox][_ngcontent-%COMP%]{border-radius:.25em}.toggle-switch[_ngcontent-%COMP%]{padding-left:0;display:flex;flex-direction:row;flex-wrap:nowrap}"]})}return h})()},8194:(Ze,le,l)=>{"use strict";l.d(le,{F:()=>u});var e=l(9212);const S=["baBackTop"];let u=(()=>{class N{constructor(){this.position=400,this.showSpeed=500,this.moveSpeed=1e3}ngAfterViewInit(){this._onWindowScroll()}_onClick(){return this._selector.nativeElement.scroll({top:0,left:0,behavior:"smooth"}),!1}_onWindowScroll(){}static#e=this.\u0275fac=function(y){return new(y||N)};static#t=this.\u0275cmp=e.Xpm({type:N,selectors:[["app-back-top"]],viewQuery:function(y,E){if(1&y&&e.Gf(S,7),2&y){let C;e.iGM(C=e.CRH())&&(E._selector=C.first)}},hostBindings:function(y,E){1&y&&e.NdJ("click",function(){return E._onClick()})("scroll",function(){return E._onWindowScroll()},!1,e.Jf7)},inputs:{position:"position",showSpeed:"showSpeed",moveSpeed:"moveSpeed"},decls:2,vars:0,consts:[["title","Back to Top",1,"fa","fa-circle-up","back-top","ba-back-top"],["baBackTop",""]],template:function(y,E){1&y&&e._UZ(0,"i",0,1)},styles:[".ba-back-top[_ngcontent-%COMP%]{position:fixed;cursor:pointer;z-index:9999;display:none;text-decoration:none;right:40px;bottom:40px!important;font-size:45px;text-align:center;opacity:.4;color:#fff;border-radius:50%;line-height:40px;background:var(--bs-primary)}.ba-back-top[_ngcontent-%COMP%]:hover{opacity:.8}"]})}return N})()},2743:(Ze,le,l)=>{"use strict";l.d(le,{w:()=>h});var e=l(9212),S=l(6814);function u(y,E){if(1&y&&(e.TgZ(0,"h4",6),e._uU(1),e.qZA()),2&y){const C=e.oxw();e.xp6(),e.hij(" ",C.title," ")}}function N(y,E){if(1&y&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&y){const C=e.oxw();e.xp6(),e.hij(" ",C.footer," ")}}const x=["*"];let h=(()=>{class y{static#e=this.\u0275fac=function(F){return new(F||y)};static#t=this.\u0275cmp=e.Xpm({type:y,selectors:[["app-ba-card"]],inputs:{title:"title",baCardClass:"baCardClass",cardType:"cardType",header:"header",footer:"footer",scrollBar:"scrollBar",margin:"margin",padding:"padding"},ngContentSelectors:x,decls:8,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"card-block"],["class","card-title",4,"ngIf"],[1,"card-text"],["class","card-footer",4,"ngIf"],[1,"card-title"],[1,"card-footer"]],template:function(F,V){1&F&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,u,2,1,"h4",3),e.TgZ(5,"p",4),e.Hsn(6),e.qZA()(),e.YNc(7,N,2,1,"div",5),e.qZA()),2&F&&(e.xp6(2),e.hij(" ",V.header," "),e.xp6(),e.Udp("margin",V.margin,"rem")("padding",V.padding,"rem"),e.xp6(),e.Q6J("ngIf",V.title),e.xp6(3),e.Q6J("ngIf",V.footer))},dependencies:[S.O5],styles:[".card-block[_ngcontent-%COMP%]{margin:1rem}.panel-default[_ngcontent-%COMP%]{border-color:#ddd}.panel[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#fff;border:1px solid transparent;border-radius:4px;box-shadow:0 1px 1px #0000000d}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]{color:#333;background-color:#f5f5f5;border-color:#ddd}.panel-heading[_ngcontent-%COMP%]{padding:10px 15px;border-bottom:1px solid transparent;border-top-left-radius:3px;border-top-right-radius:3px}.panel-body[_ngcontent-%COMP%]{padding:15px}"]})}return y})()},596:(Ze,le,l)=>{"use strict";function e(s,p){let M;if(void 0===p)for(const R of s)null!=R&&(M<R||void 0===M&&R>=R)&&(M=R);else{let R=-1;for(let Y of s)null!=(Y=p(Y,++R,s))&&(M<Y||void 0===M&&Y>=Y)&&(M=Y)}return M}function S(s){return s}l.d(le,{J:()=>vn});var u=1,N=2,x=3,h=4,y=1e-6;function E(s){return"translate("+s+",0)"}function C(s){return"translate(0,"+s+")"}function F(s){return p=>+s(p)}function V(s,p){return p=Math.max(0,s.bandwidth()-2*p)/2,s.round()&&(p=Math.round(p)),M=>+s(M)+p}function $(){return!this.__axis}function j(s,p){var M=[],R=null,Y=null,de=6,ge=6,He=3,We=typeof window<"u"&&window.devicePixelRatio>1?0:.5,rt=s===u||s===h?-1:1,vt=s===h||s===N?"x":"y",Ft=s===u||s===x?E:C;function Pt(en){var Wn=R??(p.ticks?p.ticks.apply(p,M):p.domain()),Ti=Y??(p.tickFormat?p.tickFormat.apply(p,M):S),tn=Math.max(de,0)+He,nn=p.range(),In=+nn[0]+We,Dn=+nn[nn.length-1]+We,Zt=(p.bandwidth?V:F)(p.copy(),We),qt=en.selection?en.selection():en,pn=qt.selectAll(".domain").data([null]),Un=qt.selectAll(".tick").data(Wn,p).order(),ei=Un.exit(),Ni=Un.enter().append("g").attr("class","tick"),ti=Un.select("line"),Fn=Un.select("text");pn=pn.merge(pn.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Un=Un.merge(Ni),ti=ti.merge(Ni.append("line").attr("stroke","currentColor").attr(vt+"2",rt*de)),Fn=Fn.merge(Ni.append("text").attr("fill","currentColor").attr(vt,rt*tn).attr("dy",s===u?"0em":s===x?"0.71em":"0.32em")),en!==qt&&(pn=pn.transition(en),Un=Un.transition(en),ti=ti.transition(en),Fn=Fn.transition(en),ei=ei.transition(en).attr("opacity",y).attr("transform",function(Yn){return isFinite(Yn=Zt(Yn))?Ft(Yn+We):this.getAttribute("transform")}),Ni.attr("opacity",y).attr("transform",function(Yn){var li=this.parentNode.__axis;return Ft((li&&isFinite(li=li(Yn))?li:Zt(Yn))+We)})),ei.remove(),pn.attr("d",s===h||s===N?ge?"M"+rt*ge+","+In+"H"+We+"V"+Dn+"H"+rt*ge:"M"+We+","+In+"V"+Dn:ge?"M"+In+","+rt*ge+"V"+We+"H"+Dn+"V"+rt*ge:"M"+In+","+We+"H"+Dn),Un.attr("opacity",1).attr("transform",function(Yn){return Ft(Zt(Yn)+We)}),ti.attr(vt+"2",rt*de),Fn.attr(vt,rt*tn).text(Ti),qt.filter($).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",s===N?"start":s===h?"end":"middle"),qt.each(function(){this.__axis=Zt})}return Pt.scale=function(en){return arguments.length?(p=en,Pt):p},Pt.ticks=function(){return M=Array.from(arguments),Pt},Pt.tickArguments=function(en){return arguments.length?(M=null==en?[]:Array.from(en),Pt):M.slice()},Pt.tickValues=function(en){return arguments.length?(R=null==en?null:Array.from(en),Pt):R&&R.slice()},Pt.tickFormat=function(en){return arguments.length?(Y=en,Pt):Y},Pt.tickSize=function(en){return arguments.length?(de=ge=+en,Pt):de},Pt.tickSizeInner=function(en){return arguments.length?(de=+en,Pt):de},Pt.tickSizeOuter=function(en){return arguments.length?(ge=+en,Pt):ge},Pt.tickPadding=function(en){return arguments.length?(He=+en,Pt):He},Pt.offset=function(en){return arguments.length?(We=+en,Pt):We},Pt}function ue(s){return j(x,s)}function Ne(s){return j(h,s)}function be(){}function De(s){return null==s?be:function(){return this.querySelector(s)}}function Me(){return[]}function st(s){return null==s?Me:function(){return this.querySelectorAll(s)}}function Vt(s){return function(){return this.matches(s)}}function xt(s){return function(p){return p.matches(s)}}var dt=Array.prototype.find;function on(){return this.firstElementChild}var Sn=Array.prototype.filter;function hn(){return Array.from(this.children)}function ht(s){return new Array(s.length)}function Et(s,p){this.ownerDocument=s.ownerDocument,this.namespaceURI=s.namespaceURI,this._next=null,this._parent=s,this.__data__=p}function jt(s,p,M,R,Y,de){for(var He,ge=0,We=p.length,rt=de.length;ge<rt;++ge)(He=p[ge])?(He.__data__=de[ge],R[ge]=He):M[ge]=new Et(s,de[ge]);for(;ge<We;++ge)(He=p[ge])&&(Y[ge]=He)}function un(s,p,M,R,Y,de,ge){var He,We,en,rt=new Map,vt=p.length,Ft=de.length,Pt=new Array(vt);for(He=0;He<vt;++He)(We=p[He])&&(Pt[He]=en=ge.call(We,We.__data__,He,p)+"",rt.has(en)?Y[He]=We:rt.set(en,We));for(He=0;He<Ft;++He)en=ge.call(s,de[He],He,de)+"",(We=rt.get(en))?(R[He]=We,We.__data__=de[He],rt.delete(en)):M[He]=new Et(s,de[He]);for(He=0;He<vt;++He)(We=p[He])&&rt.get(Pt[He])===We&&(Y[He]=We)}function An(s){return s.__data__}function U(s){return"object"==typeof s&&"length"in s?s:Array.from(s)}function yt(s,p){return s<p?-1:s>p?1:s>=p?0:NaN}Et.prototype={constructor:Et,appendChild:function(s){return this._parent.insertBefore(s,this._next)},insertBefore:function(s,p){return this._parent.insertBefore(s,p)},querySelector:function(s){return this._parent.querySelector(s)},querySelectorAll:function(s){return this._parent.querySelectorAll(s)}};var zn="http://www.w3.org/1999/xhtml";const sn={svg:"http://www.w3.org/2000/svg",xhtml:zn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jn(s){var p=s+="",M=p.indexOf(":");return M>=0&&"xmlns"!==(p=s.slice(0,M))&&(s=s.slice(M+1)),sn.hasOwnProperty(p)?{space:sn[p],local:s}:s}function Pn(s){return function(){this.removeAttribute(s)}}function mi(s){return function(){this.removeAttributeNS(s.space,s.local)}}function ri(s,p){return function(){this.setAttribute(s,p)}}function ce(s,p){return function(){this.setAttributeNS(s.space,s.local,p)}}function Di(s,p){return function(){var M=p.apply(this,arguments);null==M?this.removeAttribute(s):this.setAttribute(s,M)}}function Ii(s,p){return function(){var M=p.apply(this,arguments);null==M?this.removeAttributeNS(s.space,s.local):this.setAttributeNS(s.space,s.local,M)}}function Cr(s){return s.ownerDocument&&s.ownerDocument.defaultView||s.document&&s||s.defaultView}function Qi(s){return function(){this.style.removeProperty(s)}}function Xi(s,p,M){return function(){this.style.setProperty(s,p,M)}}function Ut(s,p,M){return function(){var R=p.apply(this,arguments);null==R?this.style.removeProperty(s):this.style.setProperty(s,R,M)}}function J(s,p){return s.style.getPropertyValue(p)||Cr(s).getComputedStyle(s,null).getPropertyValue(p)}function pe(s){return function(){delete this[s]}}function et(s,p){return function(){this[s]=p}}function ct(s,p){return function(){var M=p.apply(this,arguments);null==M?delete this[s]:this[s]=M}}function lt(s){return s.trim().split(/^|\s+/)}function Bt(s){return s.classList||new fn(s)}function fn(s){this._node=s,this._names=lt(s.getAttribute("class")||"")}function yn(s,p){for(var M=Bt(s),R=-1,Y=p.length;++R<Y;)M.add(p[R])}function Yt(s,p){for(var M=Bt(s),R=-1,Y=p.length;++R<Y;)M.remove(p[R])}function Ke(s){return function(){yn(this,s)}}function Lt(s){return function(){Yt(this,s)}}function me(s,p){return function(){(p.apply(this,arguments)?yn:Yt)(this,s)}}function gt(){this.textContent=""}function kt(s){return function(){this.textContent=s}}function Xt(s){return function(){var p=s.apply(this,arguments);this.textContent=p??""}}function ci(){this.innerHTML=""}function Si(s){return function(){this.innerHTML=s}}function er(s){return function(){var p=s.apply(this,arguments);this.innerHTML=p??""}}function Ji(){this.nextSibling&&this.parentNode.appendChild(this)}function ar(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rr(s){return function(){var p=this.ownerDocument,M=this.namespaceURI;return M===zn&&p.documentElement.namespaceURI===zn?p.createElement(s):p.createElementNS(M,s)}}function Ai(s){return function(){return this.ownerDocument.createElementNS(s.space,s.local)}}function oi(s){var p=jn(s);return(p.local?Ai:rr)(p)}function Qr(){return null}function Vi(){var s=this.parentNode;s&&s.removeChild(this)}function Xr(){var s=this.cloneNode(!1),p=this.parentNode;return p?p.insertBefore(s,this.nextSibling):s}function ve(){var s=this.cloneNode(!0),p=this.parentNode;return p?p.insertBefore(s,this.nextSibling):s}function r(s){return function(){var p=this.__on;if(p){for(var de,M=0,R=-1,Y=p.length;M<Y;++M)de=p[M],s.type&&de.type!==s.type||de.name!==s.name?p[++R]=de:this.removeEventListener(de.type,de.listener,de.options);++R?p.length=R:delete this.__on}}}function a(s,p,M){return function(){var Y,R=this.__on,de=function wt(s){return function(p){s.call(this,p,this.__data__)}}(p);if(R)for(var ge=0,He=R.length;ge<He;++ge)if((Y=R[ge]).type===s.type&&Y.name===s.name)return this.removeEventListener(Y.type,Y.listener,Y.options),this.addEventListener(Y.type,Y.listener=de,Y.options=M),void(Y.value=p);this.addEventListener(s.type,de,M),Y={type:s.type,name:s.name,value:p,listener:de,options:M},R?R.push(Y):this.__on=[Y]}}function T(s,p,M){var R=Cr(s),Y=R.CustomEvent;"function"==typeof Y?Y=new Y(p,M):(Y=R.document.createEvent("Event"),M?(Y.initEvent(p,M.bubbles,M.cancelable),Y.detail=M.detail):Y.initEvent(p,!1,!1)),s.dispatchEvent(Y)}function k(s,p){return function(){return T(this,s,p)}}function te(s,p){return function(){return T(this,s,p.apply(this,arguments))}}fn.prototype={add:function(s){this._names.indexOf(s)<0&&(this._names.push(s),this._node.setAttribute("class",this._names.join(" ")))},remove:function(s){var p=this._names.indexOf(s);p>=0&&(this._names.splice(p,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(s){return this._names.indexOf(s)>=0}};var we=[null];function Ce(s,p){this._groups=s,this._parents=p}function Ee(){return new Ce([[document.documentElement]],we)}Ce.prototype=Ee.prototype={constructor:Ce,select:function re(s){"function"!=typeof s&&(s=De(s));for(var p=this._groups,M=p.length,R=new Array(M),Y=0;Y<M;++Y)for(var We,rt,de=p[Y],ge=de.length,He=R[Y]=new Array(ge),vt=0;vt<ge;++vt)(We=de[vt])&&(rt=s.call(We,We.__data__,vt,de))&&("__data__"in We&&(rt.__data__=We.__data__),He[vt]=rt);return new Ce(R,this._parents)},selectAll:function Tt(s){s="function"==typeof s?function fe(s){return function(){return function Ae(s){return null==s?[]:Array.isArray(s)?s:Array.from(s)}(s.apply(this,arguments))}}(s):st(s);for(var p=this._groups,M=p.length,R=[],Y=[],de=0;de<M;++de)for(var We,ge=p[de],He=ge.length,rt=0;rt<He;++rt)(We=ge[rt])&&(R.push(s.call(We,We.__data__,rt,ge)),Y.push(We));return new Ce(R,Y)},selectChild:function cn(s){return this.select(null==s?on:function rn(s){return function(){return dt.call(this.children,s)}}("function"==typeof s?s:xt(s)))},selectChildren:function Kt(s){return this.selectAll(null==s?hn:function ln(s){return function(){return Sn.call(this.children,s)}}("function"==typeof s?s:xt(s)))},filter:function Xe(s){"function"!=typeof s&&(s=Vt(s));for(var p=this._groups,M=p.length,R=new Array(M),Y=0;Y<M;++Y)for(var We,de=p[Y],ge=de.length,He=R[Y]=[],rt=0;rt<ge;++rt)(We=de[rt])&&s.call(We,We.__data__,rt,de)&&He.push(We);return new Ce(R,this._parents)},data:function Te(s,p){if(!arguments.length)return Array.from(this,An);var M=p?un:jt,R=this._parents,Y=this._groups;"function"!=typeof s&&(s=function zt(s){return function(){return s}}(s));for(var de=Y.length,ge=new Array(de),He=new Array(de),We=new Array(de),rt=0;rt<de;++rt){var vt=R[rt],Ft=Y[rt],Pt=Ft.length,en=U(s.call(vt,vt&&vt.__data__,rt,R)),Wn=en.length,Ti=He[rt]=new Array(Wn),tn=ge[rt]=new Array(Wn);M(vt,Ft,Ti,tn,We[rt]=new Array(Pt),en,p);for(var Zt,qt,In=0,Dn=0;In<Wn;++In)if(Zt=Ti[In]){for(In>=Dn&&(Dn=In+1);!(qt=tn[Dn])&&++Dn<Wn;);Zt._next=qt||null}}return(ge=new Ce(ge,R))._enter=He,ge._exit=We,ge},enter:function Ct(){return new Ce(this._enter||this._groups.map(ht),this._parents)},exit:function K(){return new Ce(this._exit||this._groups.map(ht),this._parents)},join:function Re(s,p,M){var R=this.enter(),Y=this,de=this.exit();return"function"==typeof s?(R=s(R))&&(R=R.selection()):R=R.append(s+""),null!=p&&(Y=p(Y))&&(Y=Y.selection()),null==M?de.remove():M(de),R&&Y?R.merge(Y).order():Y},merge:function Ue(s){for(var p=s.selection?s.selection():s,M=this._groups,R=p._groups,Y=M.length,ge=Math.min(Y,R.length),He=new Array(Y),We=0;We<ge;++We)for(var en,rt=M[We],vt=R[We],Ft=rt.length,Pt=He[We]=new Array(Ft),Wn=0;Wn<Ft;++Wn)(en=rt[Wn]||vt[Wn])&&(Pt[Wn]=en);for(;We<Y;++We)He[We]=M[We];return new Ce(He,this._parents)},selection:function xe(){return this},order:function tt(){for(var s=this._groups,p=-1,M=s.length;++p<M;)for(var ge,R=s[p],Y=R.length-1,de=R[Y];--Y>=0;)(ge=R[Y])&&(de&&4^ge.compareDocumentPosition(de)&&de.parentNode.insertBefore(ge,de),de=ge);return this},sort:function qe(s){function p(Ft,Pt){return Ft&&Pt?s(Ft.__data__,Pt.__data__):!Ft-!Pt}s||(s=yt);for(var M=this._groups,R=M.length,Y=new Array(R),de=0;de<R;++de){for(var rt,ge=M[de],He=ge.length,We=Y[de]=new Array(He),vt=0;vt<He;++vt)(rt=ge[vt])&&(We[vt]=rt);We.sort(p)}return new Ce(Y,this._parents).order()},call:function Qe(){var s=arguments[0];return arguments[0]=this,s.apply(null,arguments),this},nodes:function St(){return Array.from(this)},node:function $t(){for(var s=this._groups,p=0,M=s.length;p<M;++p)for(var R=s[p],Y=0,de=R.length;Y<de;++Y){var ge=R[Y];if(ge)return ge}return null},size:function an(){let s=0;for(const p of this)++s;return s},empty:function On(){return!this.node()},each:function Hn(s){for(var p=this._groups,M=0,R=p.length;M<R;++M)for(var He,Y=p[M],de=0,ge=Y.length;de<ge;++de)(He=Y[de])&&s.call(He,He.__data__,de,Y);return this},attr:function Qt(s,p){var M=jn(s);if(arguments.length<2){var R=this.node();return M.local?R.getAttributeNS(M.space,M.local):R.getAttribute(M)}return this.each((null==p?M.local?mi:Pn:"function"==typeof p?M.local?Ii:Di:M.local?ce:ri)(M,p))},style:function It(s,p,M){return arguments.length>1?this.each((null==p?Qi:"function"==typeof p?Ut:Xi)(s,p,M??"")):J(this.node(),s)},property:function at(s,p){return arguments.length>1?this.each((null==p?pe:"function"==typeof p?ct:et)(s,p)):this.node()[s]},classed:function Ye(s,p){var M=lt(s+"");if(arguments.length<2){for(var R=Bt(this.node()),Y=-1,de=M.length;++Y<de;)if(!R.contains(M[Y]))return!1;return!0}return this.each(("function"==typeof p?me:p?Ke:Lt)(M,p))},text:function Rn(s){return arguments.length?this.each(null==s?gt:("function"==typeof s?Xt:kt)(s)):this.node().textContent},html:function ir(s){return arguments.length?this.each(null==s?ci:("function"==typeof s?er:Si)(s)):this.node().innerHTML},raise:function Pi(){return this.each(Ji)},lower:function Tr(){return this.each(ar)},append:function tr(s){var p="function"==typeof s?s:oi(s);return this.select(function(){return this.appendChild(p.apply(this,arguments))})},insert:function zr(s,p){var M="function"==typeof s?s:oi(s),R=null==p?Qr:"function"==typeof p?p:De(p);return this.select(function(){return this.insertBefore(M.apply(this,arguments),R.apply(this,arguments)||null)})},remove:function Wr(){return this.each(Vi)},clone:function Je(s){return this.select(s?ve:Xr)},datum:function Ge(s){return arguments.length?this.property("__data__",s):this.node().__data__},on:function f(s,p,M){var Y,ge,R=function i(s){return s.trim().split(/^|\s+/).map(function(p){var M="",R=p.indexOf(".");return R>=0&&(M=p.slice(R+1),p=p.slice(0,R)),{type:p,name:M}})}(s+""),de=R.length;if(!(arguments.length<2)){for(He=p?a:r,Y=0;Y<de;++Y)this.each(He(R[Y],p,M));return this}var He=this.node().__on;if(He)for(var vt,We=0,rt=He.length;We<rt;++We)for(Y=0,vt=He[We];Y<de;++Y)if((ge=R[Y]).type===vt.type&&ge.name===vt.name)return vt.value},dispatch:function _e(s,p){return this.each(("function"==typeof p?te:k)(s,p))},[Symbol.iterator]:function*he(){for(var s=this._groups,p=0,M=s.length;p<M;++p)for(var ge,R=s[p],Y=0,de=R.length;Y<de;++Y)(ge=R[Y])&&(yield ge)}};const Ve=Ee;var ot={value:()=>{}};function ut(){for(var R,s=0,p=arguments.length,M={};s<p;++s){if(!(R=arguments[s]+"")||R in M||/[\s.]/.test(R))throw new Error("illegal type: "+R);M[R]=[]}return new ft(M)}function ft(s){this._=s}function Ie(s,p){for(var Y,M=0,R=s.length;M<R;++M)if((Y=s[M]).name===p)return Y.value}function Le(s,p,M){for(var R=0,Y=s.length;R<Y;++R)if(s[R].name===p){s[R]=ot,s=s.slice(0,R).concat(s.slice(R+1));break}return null!=M&&s.push({name:p,value:M}),s}ft.prototype=ut.prototype={constructor:ft,on:function(s,p){var Y,M=this._,R=function oe(s,p){return s.trim().split(/^|\s+/).map(function(M){var R="",Y=M.indexOf(".");if(Y>=0&&(R=M.slice(Y+1),M=M.slice(0,Y)),M&&!p.hasOwnProperty(M))throw new Error("unknown type: "+M);return{type:M,name:R}})}(s+"",M),de=-1,ge=R.length;if(!(arguments.length<2)){if(null!=p&&"function"!=typeof p)throw new Error("invalid callback: "+p);for(;++de<ge;)if(Y=(s=R[de]).type)M[Y]=Le(M[Y],s.name,p);else if(null==p)for(Y in M)M[Y]=Le(M[Y],s.name,null);return this}for(;++de<ge;)if((Y=(s=R[de]).type)&&(Y=Ie(M[Y],s.name)))return Y},copy:function(){var s={},p=this._;for(var M in p)s[M]=p[M].slice();return new ft(s)},call:function(s,p){if((Y=arguments.length-2)>0)for(var Y,de,M=new Array(Y),R=0;R<Y;++R)M[R]=arguments[R+2];if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(R=0,Y=(de=this._[s]).length;R<Y;++R)de[R].value.apply(p,M)},apply:function(s,p,M){if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(var R=this._[s],Y=0,de=R.length;Y<de;++Y)R[Y].value.apply(p,M)}};const je=ut;var Rt,_t,Q=0,Fe=0,ze=0,Be=1e3,Jt=0,Mn=0,Ln=0,Vn="object"==typeof performance&&performance.now?performance:Date,$n="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(s){setTimeout(s,17)};function ui(){return Mn||($n($i),Mn=Vn.now()+Ln)}function $i(){Mn=0}function Xn(){this._call=this._time=this._next=null}function vi(s,p,M){var R=new Xn;return R.restart(s,p,M),R}function Zi(){Mn=(Jt=Vn.now())+Ln,Q=Fe=0;try{!function zi(){ui(),++Q;for(var p,s=Rt;s;)(p=Mn-s._time)>=0&&s._call.call(void 0,p),s=s._next;--Q}()}finally{Q=0,function nr(){for(var s,M,p=Rt,R=1/0;p;)p._call?(R>p._time&&(R=p._time),s=p,p=p._next):(M=p._next,p._next=null,p=s?s._next=M:Rt=M);_t=s,Ar(R)}(),Mn=0}}function Dr(){var s=Vn.now(),p=s-Jt;p>Be&&(Ln-=p,Jt=s)}function Ar(s){Q||(Fe&&(Fe=clearTimeout(Fe)),s-Mn>24?(s<1/0&&(Fe=setTimeout(Zi,s-Vn.now()-Ln)),ze&&(ze=clearInterval(ze))):(ze||(Jt=Vn.now(),ze=setInterval(Dr,Be)),Q=1,$n(Zi)))}function lr(s,p,M){var R=new Xn;return R.restart(Y=>{R.stop(),s(Y+p)},p=null==p?0:+p,M),R}Xn.prototype=vi.prototype={constructor:Xn,restart:function(s,p,M){if("function"!=typeof s)throw new TypeError("callback is not a function");M=(null==M?ui():+M)+(null==p?0:+p),!this._next&&_t!==this&&(_t?_t._next=this:Rt=this,_t=this),this._call=s,this._time=M,Ar()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ar())}};var ms=je("start","end","cancel","interrupt"),xr=[],cr=0,vr=3;function Mr(s,p,M,R,Y,de){var ge=s.__transition;if(ge){if(M in ge)return}else s.__transition={};!function Ci(s,p,M){var Y,R=s.__transition;function ge(rt){var vt,Ft,Pt,en;if(1!==M.state)return We();for(vt in R)if((en=R[vt]).name===M.name){if(en.state===vr)return lr(ge);4===en.state?(en.state=6,en.timer.stop(),en.on.call("interrupt",s,s.__data__,en.index,en.group),delete R[vt]):+vt<p&&(en.state=6,en.timer.stop(),en.on.call("cancel",s,s.__data__,en.index,en.group),delete R[vt])}if(lr(function(){M.state===vr&&(M.state=4,M.timer.restart(He,M.delay,M.time),He(rt))}),M.state=2,M.on.call("start",s,s.__data__,M.index,M.group),2===M.state){for(M.state=vr,Y=new Array(Pt=M.tween.length),vt=0,Ft=-1;vt<Pt;++vt)(en=M.tween[vt].value.call(s,s.__data__,M.index,M.group))&&(Y[++Ft]=en);Y.length=Ft+1}}function He(rt){for(var vt=rt<M.duration?M.ease.call(null,rt/M.duration):(M.timer.restart(We),M.state=5,1),Ft=-1,Pt=Y.length;++Ft<Pt;)Y[Ft].call(s,vt);5===M.state&&(M.on.call("end",s,s.__data__,M.index,M.group),We())}function We(){for(var rt in M.state=6,M.timer.stop(),delete R[p],R)return;delete s.__transition}R[p]=M,M.timer=vi(function de(rt){M.state=1,M.timer.restart(ge,M.delay,M.time),M.delay<=rt&&ge(rt-M.delay)},0,M.time)}(s,M,{name:p,index:R,group:Y,on:ms,tween:xr,time:de.time,delay:de.delay,duration:de.duration,ease:de.ease,timer:null,state:cr})}function ur(s,p){var M=Bi(s,p);if(M.state>cr)throw new Error("too late; already scheduled");return M}function Li(s,p){var M=Bi(s,p);if(M.state>vr)throw new Error("too late; already running");return M}function Bi(s,p){var M=s.__transition;if(!M||!(M=M[p]))throw new Error("transition not found");return M}function pi(s,p){return s=+s,p=+p,function(M){return s*(1-M)+p*M}}var _s,Ds=180/Math.PI,Er={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ur(s,p,M,R,Y,de){var ge,He,We;return(ge=Math.sqrt(s*s+p*p))&&(s/=ge,p/=ge),(We=s*M+p*R)&&(M-=s*We,R-=p*We),(He=Math.sqrt(M*M+R*R))&&(M/=He,R/=He,We/=He),s*R<p*M&&(s=-s,p=-p,We=-We,ge=-ge),{translateX:Y,translateY:de,rotate:Math.atan2(p,s)*Ds,skewX:Math.atan(We)*Ds,scaleX:ge,scaleY:He}}function wo(s,p,M,R){function Y(rt){return rt.length?rt.pop()+" ":""}return function(rt,vt){var Ft=[],Pt=[];return rt=s(rt),vt=s(vt),function de(rt,vt,Ft,Pt,en,Wn){if(rt!==Ft||vt!==Pt){var Ti=en.push("translate(",null,p,null,M);Wn.push({i:Ti-4,x:pi(rt,Ft)},{i:Ti-2,x:pi(vt,Pt)})}else(Ft||Pt)&&en.push("translate("+Ft+p+Pt+M)}(rt.translateX,rt.translateY,vt.translateX,vt.translateY,Ft,Pt),function ge(rt,vt,Ft,Pt){rt!==vt?(rt-vt>180?vt+=360:vt-rt>180&&(rt+=360),Pt.push({i:Ft.push(Y(Ft)+"rotate(",null,R)-2,x:pi(rt,vt)})):vt&&Ft.push(Y(Ft)+"rotate("+vt+R)}(rt.rotate,vt.rotate,Ft,Pt),function He(rt,vt,Ft,Pt){rt!==vt?Pt.push({i:Ft.push(Y(Ft)+"skewX(",null,R)-2,x:pi(rt,vt)}):vt&&Ft.push(Y(Ft)+"skewX("+vt+R)}(rt.skewX,vt.skewX,Ft,Pt),function We(rt,vt,Ft,Pt,en,Wn){if(rt!==Ft||vt!==Pt){var Ti=en.push(Y(en)+"scale(",null,",",null,")");Wn.push({i:Ti-4,x:pi(rt,Ft)},{i:Ti-2,x:pi(vt,Pt)})}else(1!==Ft||1!==Pt)&&en.push(Y(en)+"scale("+Ft+","+Pt+")")}(rt.scaleX,rt.scaleY,vt.scaleX,vt.scaleY,Ft,Pt),rt=vt=null,function(en){for(var tn,Wn=-1,Ti=Pt.length;++Wn<Ti;)Ft[(tn=Pt[Wn]).i]=tn.x(en);return Ft.join("")}}}var So=wo(function ao(s){const p=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(s+"");return p.isIdentity?Er:Ur(p.a,p.b,p.c,p.d,p.e,p.f)},"px, ","px)","deg)"),Vo=wo(function es(s){return null!=s&&(_s||(_s=document.createElementNS("http://www.w3.org/2000/svg","g")),_s.setAttribute("transform",s),s=_s.transform.baseVal.consolidate())?Ur((s=s.matrix).a,s.b,s.c,s.d,s.e,s.f):Er},", ",")",")");function Co(s,p){var M,R;return function(){var Y=Li(this,s),de=Y.tween;if(de!==M)for(var ge=0,He=(R=M=de).length;ge<He;++ge)if(R[ge].name===p){(R=R.slice()).splice(ge,1);break}Y.tween=R}}function zo(s,p,M){var R,Y;if("function"!=typeof M)throw new Error;return function(){var de=Li(this,s),ge=de.tween;if(ge!==R){Y=(R=ge).slice();for(var He={name:p,value:M},We=0,rt=Y.length;We<rt;++We)if(Y[We].name===p){Y[We]=He;break}We===rt&&Y.push(He)}de.tween=Y}}function vs(s,p,M){var R=s._id;return s.each(function(){var Y=Li(this,R);(Y.value||(Y.value={}))[p]=M.apply(this,arguments)}),function(Y){return Bi(Y,R).value[p]}}function Rr(s,p,M){s.prototype=p.prototype=M,M.constructor=s}function To(s,p){var M=Object.create(s.prototype);for(var R in p)M[R]=p[R];return M}function Jr(){}var Bs=1/.7,dr="\\s*([+-]?\\d+)\\s*",ts="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mi=/^#([0-9a-f]{3,8})$/,Us=new RegExp(`^rgb\\(${dr},${dr},${dr}\\)$`),us=new RegExp(`^rgb\\(${sr},${sr},${sr}\\)$`),ys=new RegExp(`^rgba\\(${dr},${dr},${dr},${ts}\\)$`),co=new RegExp(`^rgba\\(${sr},${sr},${sr},${ts}\\)$`),uo=new RegExp(`^hsl\\(${ts},${sr},${sr}\\)$`),ns=new RegExp(`^hsla\\(${ts},${sr},${sr},${ts}\\)$`),ds={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hs(){return this.rgb().formatHex()}function hr(){return this.rgb().formatRgb()}function Hr(s){var p,M;return s=(s+"").trim().toLowerCase(),(p=Mi.exec(s))?(M=p[1].length,p=parseInt(p[1],16),6===M?po(p):3===M?new P(p>>8&15|p>>4&240,p>>4&15|240&p,(15&p)<<4|15&p,1):8===M?Hs(p>>24&255,p>>16&255,p>>8&255,(255&p)/255):4===M?Hs(p>>12&15|p>>8&240,p>>8&15|p>>4&240,p>>4&15|240&p,((15&p)<<4|15&p)/255):null):(p=Us.exec(s))?new P(p[1],p[2],p[3],1):(p=us.exec(s))?new P(255*p[1]/100,255*p[2]/100,255*p[3]/100,1):(p=ys.exec(s))?Hs(p[1],p[2],p[3],p[4]):(p=co.exec(s))?Hs(255*p[1]/100,255*p[2]/100,255*p[3]/100,p[4]):(p=uo.exec(s))?Ir(p[1],p[2]/100,p[3]/100,1):(p=ns.exec(s))?Ir(p[1],p[2]/100,p[3]/100,p[4]):ds.hasOwnProperty(s)?po(ds[s]):"transparent"===s?new P(NaN,NaN,NaN,0):null}function po(s){return new P(s>>16&255,s>>8&255,255&s,1)}function Hs(s,p,M,R){return R<=0&&(s=p=M=NaN),new P(s,p,M,R)}function W(s,p,M,R){return 1===arguments.length?function H(s){return s instanceof Jr||(s=Hr(s)),s?new P((s=s.rgb()).r,s.g,s.b,s.opacity):new P}(s):new P(s,p,M,R??1)}function P(s,p,M,R){this.r=+s,this.g=+p,this.b=+M,this.opacity=+R}function se(){return`#${fr(this.r)}${fr(this.g)}${fr(this.b)}`}function wn(){const s=Bn(this.opacity);return`${1===s?"rgb(":"rgba("}${Ki(this.r)}, ${Ki(this.g)}, ${Ki(this.b)}${1===s?")":`, ${s})`}`}function Bn(s){return isNaN(s)?1:Math.max(0,Math.min(1,s))}function Ki(s){return Math.max(0,Math.min(255,Math.round(s)||0))}function fr(s){return((s=Ki(s))<16?"0":"")+s.toString(16)}function Ir(s,p,M,R){return R<=0?s=p=M=NaN:M<=0||M>=1?s=p=NaN:p<=0&&(s=NaN),new pr(s,p,M,R)}function As(s){if(s instanceof pr)return new pr(s.h,s.s,s.l,s.opacity);if(s instanceof Jr||(s=Hr(s)),!s)return new pr;if(s instanceof pr)return s;var p=(s=s.rgb()).r/255,M=s.g/255,R=s.b/255,Y=Math.min(p,M,R),de=Math.max(p,M,R),ge=NaN,He=de-Y,We=(de+Y)/2;return He?(ge=p===de?(M-R)/He+6*(M<R):M===de?(R-p)/He+2:(p-M)/He+4,He/=We<.5?de+Y:2-de-Y,ge*=60):He=We>0&&We<1?0:ge,new pr(ge,He,We,s.opacity)}function pr(s,p,M,R){this.h=+s,this.s=+p,this.l=+M,this.opacity=+R}function to(s){return(s=(s||0)%360)<0?s+360:s}function mo(s){return Math.max(0,Math.min(1,s||0))}function js(s,p,M){return 255*(s<60?p+(M-p)*s/60:s<180?M:s<240?p+(M-p)*(240-s)/60:p)}function no(s,p,M,R,Y){var de=s*s,ge=de*s;return((1-3*s+3*de-ge)*p+(4-6*de+3*ge)*M+(1+3*s+3*de-3*ge)*R+ge*Y)/6}Rr(Jr,Hr,{copy(s){return Object.assign(new this.constructor,this,s)},displayable(){return this.rgb().displayable()},hex:hs,formatHex:hs,formatHex8:function ho(){return this.rgb().formatHex8()},formatHsl:function fo(){return As(this).formatHsl()},formatRgb:hr,toString:hr}),Rr(P,W,To(Jr,{brighter(s){return s=null==s?Bs:Math.pow(Bs,s),new P(this.r*s,this.g*s,this.b*s,this.opacity)},darker(s){return s=null==s?.7:Math.pow(.7,s),new P(this.r*s,this.g*s,this.b*s,this.opacity)},rgb(){return this},clamp(){return new P(Ki(this.r),Ki(this.g),Ki(this.b),Bn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:se,formatHex:se,formatHex8:function $e(){return`#${fr(this.r)}${fr(this.g)}${fr(this.b)}${fr(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:wn,toString:wn})),Rr(pr,function go(s,p,M,R){return 1===arguments.length?As(s):new pr(s,p,M,R??1)},To(Jr,{brighter(s){return s=null==s?Bs:Math.pow(Bs,s),new pr(this.h,this.s,this.l*s,this.opacity)},darker(s){return s=null==s?.7:Math.pow(.7,s),new pr(this.h,this.s,this.l*s,this.opacity)},rgb(){var s=this.h%360+360*(this.h<0),p=isNaN(s)||isNaN(this.s)?0:this.s,M=this.l,R=M+(M<.5?M:1-M)*p,Y=2*M-R;return new P(js(s>=240?s-240:s+120,Y,R),js(s,Y,R),js(s<120?s+240:s-120,Y,R),this.opacity)},clamp(){return new pr(to(this.h),mo(this.s),mo(this.l),Bn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const s=Bn(this.opacity);return`${1===s?"hsl(":"hsla("}${to(this.h)}, ${100*mo(this.s)}%, ${100*mo(this.l)}%${1===s?")":`, ${s})`}`}}));const Fr=s=>()=>s;function fs(s,p){var M=p-s;return M?function Ao(s,p){return function(M){return s+M*p}}(s,M):Fr(isNaN(s)?p:s)}const Os=function s(p){var M=function Mo(s){return 1==(s=+s)?fs:function(p,M){return M-p?function Sa(s,p,M){return s=Math.pow(s,M),p=Math.pow(p,M)-s,M=1/M,function(R){return Math.pow(s+R*p,M)}}(p,M,s):Fr(isNaN(p)?M:p)}}(p);function R(Y,de){var ge=M((Y=W(Y)).r,(de=W(de)).r),He=M(Y.g,de.g),We=M(Y.b,de.b),rt=fs(Y.opacity,de.opacity);return function(vt){return Y.r=ge(vt),Y.g=He(vt),Y.b=We(vt),Y.opacity=rt(vt),Y+""}}return R.gamma=s,R}(1);function is(s){return function(p){var ge,He,M=p.length,R=new Array(M),Y=new Array(M),de=new Array(M);for(ge=0;ge<M;++ge)He=W(p[ge]),R[ge]=He.r||0,Y[ge]=He.g||0,de[ge]=He.b||0;return R=s(R),Y=s(Y),de=s(de),He.opacity=1,function(We){return He.r=R(We),He.g=Y(We),He.b=de(We),He+""}}}is(function Ms(s){var p=s.length-1;return function(M){var R=M<=0?M=0:M>=1?(M=1,p-1):Math.floor(M*p),Y=s[R],de=s[R+1];return no((M-R/p)*p,R>0?s[R-1]:2*Y-de,Y,de,R<p-1?s[R+2]:2*de-Y)}}),is(function Do(s){var p=s.length;return function(M){var R=Math.floor(((M%=1)<0?++M:M)*p);return no((M-R/p)*p,s[(R+p-1)%p],s[R%p],s[(R+1)%p],s[(R+2)%p])}});var Nr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rs=new RegExp(Nr.source,"g");function Fi(s,p){var R,Y,de,M=Nr.lastIndex=rs.lastIndex=0,ge=-1,He=[],We=[];for(s+="",p+="";(R=Nr.exec(s))&&(Y=rs.exec(p));)(de=Y.index)>M&&(de=p.slice(M,de),He[ge]?He[ge]+=de:He[++ge]=de),(R=R[0])===(Y=Y[0])?He[ge]?He[ge]+=Y:He[++ge]=Y:(He[++ge]=null,We.push({i:ge,x:pi(R,Y)})),M=rs.lastIndex;return M<p.length&&(de=p.slice(M),He[ge]?He[ge]+=de:He[++ge]=de),He.length<2?We[0]?function ps(s){return function(p){return s(p)+""}}(We[0].x):function Vs(s){return function(){return s}}(p):(p=We.length,function(rt){for(var Ft,vt=0;vt<p;++vt)He[(Ft=We[vt]).i]=Ft.x(rt);return He.join("")})}function Or(s,p){var M;return("number"==typeof p?pi:p instanceof Hr?Os:(M=Hr(p))?(p=M,Os):Fi)(s,p)}function ss(s){return function(){this.removeAttribute(s)}}function Oo(s){return function(){this.removeAttributeNS(s.space,s.local)}}function Go(s,p,M){var R,de,Y=M+"";return function(){var ge=this.getAttribute(s);return ge===Y?null:ge===R?de:de=p(R=ge,M)}}function zs(s,p,M){var R,de,Y=M+"";return function(){var ge=this.getAttributeNS(s.space,s.local);return ge===Y?null:ge===R?de:de=p(R=ge,M)}}function aa(s,p,M){var R,Y,de;return function(){var ge,We,He=M(this);return null==He?void this.removeAttribute(s):(ge=this.getAttribute(s))===(We=He+"")?null:ge===R&&We===Y?de:(Y=We,de=p(R=ge,He))}}function Ps(s,p,M){var R,Y,de;return function(){var ge,We,He=M(this);return null==He?void this.removeAttributeNS(s.space,s.local):(ge=this.getAttributeNS(s.space,s.local))===(We=He+"")?null:ge===R&&We===Y?de:(Y=We,de=p(R=ge,He))}}function Po(s,p){var M,R;function Y(){var de=p.apply(this,arguments);return de!==R&&(M=(R=de)&&function la(s,p){return function(M){this.setAttributeNS(s.space,s.local,p.call(this,M))}}(s,de)),M}return Y._value=p,Y}function ca(s,p){var M,R;function Y(){var de=p.apply(this,arguments);return de!==R&&(M=(R=de)&&function Wo(s,p){return function(M){this.setAttribute(s,p.call(this,M))}}(s,de)),M}return Y._value=p,Y}function kr(s,p){return function(){ur(this,s).delay=+p.apply(this,arguments)}}function $o(s,p){return p=+p,function(){ur(this,s).delay=p}}function _o(s,p){return function(){Li(this,s).duration=+p.apply(this,arguments)}}function Yo(s,p){return p=+p,function(){Li(this,s).duration=p}}var ye=Ve.prototype.constructor;function Gt(s){return function(){this.style.removeProperty(s)}}var ua=0;function Is(s,p,M,R){this._groups=s,this._parents=p,this._name=M,this._id=R}function hi(){return++ua}var Es=Ve.prototype;Is.prototype=function Js(s){return Ve().transition(s)}.prototype={constructor:Is,select:function I(s){var p=this._name,M=this._id;"function"!=typeof s&&(s=De(s));for(var R=this._groups,Y=R.length,de=new Array(Y),ge=0;ge<Y;++ge)for(var vt,Ft,He=R[ge],We=He.length,rt=de[ge]=new Array(We),Pt=0;Pt<We;++Pt)(vt=He[Pt])&&(Ft=s.call(vt,vt.__data__,Pt,He))&&("__data__"in vt&&(Ft.__data__=vt.__data__),rt[Pt]=Ft,Mr(rt[Pt],p,M,Pt,rt,Bi(vt,M)));return new Is(de,this._parents,p,M)},selectAll:function X(s){var p=this._name,M=this._id;"function"!=typeof s&&(s=st(s));for(var R=this._groups,Y=R.length,de=[],ge=[],He=0;He<Y;++He)for(var vt,We=R[He],rt=We.length,Ft=0;Ft<rt;++Ft)if(vt=We[Ft]){for(var en,Pt=s.call(vt,vt.__data__,Ft,We),Wn=Bi(vt,M),Ti=0,tn=Pt.length;Ti<tn;++Ti)(en=Pt[Ti])&&Mr(en,p,M,Ti,Pt,Wn);de.push(Pt),ge.push(vt)}return new Is(de,ge,p,M)},selectChild:Es.selectChild,selectChildren:Es.selectChildren,filter:function xo(s){"function"!=typeof s&&(s=Vt(s));for(var p=this._groups,M=p.length,R=new Array(M),Y=0;Y<M;++Y)for(var We,de=p[Y],ge=de.length,He=R[Y]=[],rt=0;rt<ge;++rt)(We=de[rt])&&s.call(We,We.__data__,rt,de)&&He.push(We);return new Is(R,this._parents,this._name,this._id)},merge:function gs(s){if(s._id!==this._id)throw new Error;for(var p=this._groups,M=s._groups,R=p.length,de=Math.min(R,M.length),ge=new Array(R),He=0;He<de;++He)for(var Pt,We=p[He],rt=M[He],vt=We.length,Ft=ge[He]=new Array(vt),en=0;en<vt;++en)(Pt=We[en]||rt[en])&&(Ft[en]=Pt);for(;He<R;++He)ge[He]=p[He];return new Is(ge,this._parents,this._name,this._id)},selection:function it(){return new ye(this._groups,this._parents)},transition:function Fo(){for(var s=this._name,p=this._id,M=hi(),R=this._groups,Y=R.length,de=0;de<Y;++de)for(var We,ge=R[de],He=ge.length,rt=0;rt<He;++rt)if(We=ge[rt]){var vt=Bi(We,p);Mr(We,s,M,rt,ge,{time:vt.time+vt.delay+vt.duration,delay:0,duration:vt.duration,ease:vt.ease})}return new Is(R,this._parents,s,M)},call:Es.call,nodes:Es.nodes,node:Es.node,size:Es.size,empty:Es.empty,each:Es.each,on:function Jo(s,p){var M=this._id;return arguments.length<2?Bi(this.node(),M).on.on(s):this.each(function Ro(s,p,M){var R,Y,de=function qi(s){return(s+"").trim().split(/^|\s+/).every(function(p){var M=p.indexOf(".");return M>=0&&(p=p.slice(0,M)),!p||"start"===p})}(p)?ur:Li;return function(){var ge=de(this,s),He=ge.on;He!==R&&(Y=(R=He).copy()).on(p,M),ge.on=Y}}(M,s,p))},attr:function Ko(s,p){var M=jn(s),R="transform"===M?Vo:Or;return this.attrTween(s,"function"==typeof p?(M.local?Ps:aa)(M,R,vs(this,"attr."+s,p)):null==p?(M.local?Oo:ss)(M):(M.local?zs:Go)(M,R,p))},attrTween:function xs(s,p){var M="attr."+s;if(arguments.length<2)return(M=this.tween(M))&&M._value;if(null==p)return this.tween(M,null);if("function"!=typeof p)throw new Error;var R=jn(s);return this.tween(M,(R.local?Po:ca)(R,p))},style:function Yi(s,p,M){var R="transform"==(s+="")?So:Or;return null==p?this.styleTween(s,function Ot(s,p){var M,R,Y;return function(){var de=J(this,s),ge=(this.style.removeProperty(s),J(this,s));return de===ge?null:de===M&&ge===R?Y:Y=p(M=de,R=ge)}}(s,R)).on("end.style."+s,Gt(s)):"function"==typeof p?this.styleTween(s,function Nn(s,p,M){var R,Y,de;return function(){var ge=J(this,s),He=M(this),We=He+"";return null==He&&(this.style.removeProperty(s),We=He=J(this,s)),ge===We?null:ge===R&&We===Y?de:(Y=We,de=p(R=ge,He))}}(s,R,vs(this,"style."+s,p))).each(function di(s,p){var M,R,Y,He,de="style."+p,ge="end."+de;return function(){var We=Li(this,s),rt=We.on,vt=null==We.value[de]?He||(He=Gt(p)):void 0;(rt!==M||Y!==vt)&&(R=(M=rt).copy()).on(ge,Y=vt),We.on=R}}(this._id,s)):this.styleTween(s,function Cn(s,p,M){var R,de,Y=M+"";return function(){var ge=J(this,s);return ge===Y?null:ge===R?de:de=p(R=ge,M)}}(s,R,p),M).on("end.style."+s,null)},styleTween:function $s(s,p,M){var R="style."+(s+="");if(arguments.length<2)return(R=this.tween(R))&&R._value;if(null==p)return this.tween(R,null);if("function"!=typeof p)throw new Error;return this.tween(R,function Ws(s,p,M){var R,Y;function de(){var ge=p.apply(this,arguments);return ge!==Y&&(R=(Y=ge)&&function Pr(s,p,M){return function(R){this.style.setProperty(s,p.call(this,R),M)}}(s,ge,M)),R}return de._value=p,de}(s,p,M??""))},text:function Zo(s){return this.tween("text","function"==typeof s?function Kr(s){return function(){var p=s(this);this.textContent=p??""}}(vs(this,"text",s)):function wr(s){return function(){this.textContent=s}}(null==s?"":s+""))},textTween:function Io(s){var p="text";if(arguments.length<1)return(p=this.tween(p))&&p._value;if(null==s)return this.tween(p,null);if("function"!=typeof s)throw new Error;return this.tween(p,function Ui(s){var p,M;function R(){var Y=s.apply(this,arguments);return Y!==M&&(p=(M=Y)&&function Ys(s){return function(p){this.textContent=s.call(this,p)}}(Y)),p}return R._value=s,R}(s))},remove:function B(){return this.on("end.remove",function ke(s){return function(){var p=this.parentNode;for(var M in this.__transition)if(+M!==s)return;p&&p.removeChild(this)}}(this._id))},tween:function lo(s,p){var M=this._id;if(s+="",arguments.length<2){for(var ge,R=Bi(this.node(),M).tween,Y=0,de=R.length;Y<de;++Y)if((ge=R[Y]).name===s)return ge.value;return null}return this.each((null==p?Co:zo)(M,s,p))},delay:function Rs(s){var p=this._id;return arguments.length?this.each(("function"==typeof s?kr:$o)(p,s)):Bi(this.node(),p).delay},duration:function vo(s){var p=this._id;return arguments.length?this.each(("function"==typeof s?_o:Yo)(p,s)):Bi(this.node(),p).duration},ease:function bs(s){var p=this._id;return arguments.length?this.each(function Gs(s,p){if("function"!=typeof p)throw new Error;return function(){Li(this,s).ease=p}}(p,s)):Bi(this.node(),p).ease},easeVarying:function yo(s){if("function"!=typeof s)throw new Error;return this.each(function Ks(s,p){return function(){var M=p.apply(this,arguments);if("function"!=typeof M)throw new Error;Li(this,s).ease=M}}(this._id,s))},end:function $a(){var s,p,M=this,R=M._id,Y=M.size();return new Promise(function(de,ge){var He={value:ge},We={value:function(){0==--Y&&de()}};M.each(function(){var rt=Li(this,R),vt=rt.on;vt!==s&&((p=(s=vt).copy())._.cancel.push(He),p._.interrupt.push(He),p._.end.push(We)),rt.on=p}),0===Y&&de()})},[Symbol.iterator]:Es[Symbol.iterator]};var Ca={time:null,delay:0,duration:250,ease:function xi(s){return((s*=2)<=1?s*s*s:(s-=2)*s*s+2)/2}};function Ya(s,p){for(var M;!(M=s.__transition)||!(M=M[p]);)if(!(s=s.parentNode))throw new Error(`transition ${p} not found`);return M}Ve.prototype.interrupt=function Gr(s){return this.each(function(){!function br(s,p){var R,Y,ge,M=s.__transition,de=!0;if(M){for(ge in p=null==p?null:p+"",M)(R=M[ge]).name===p?(Y=R.state>2&&R.state<5,R.state=6,R.timer.stop(),R.on.call(Y?"interrupt":"cancel",s,s.__data__,R.index,R.group),delete M[ge]):de=!1;de&&delete s.__transition}}(this,s)})},Ve.prototype.transition=function Eo(s){var p,M;s instanceof Is?(p=s._id,s=s._name):(p=hi(),(M=Ca).time=ui(),s=null==s?null:s+"");for(var R=this._groups,Y=R.length,de=0;de<Y;++de)for(var We,ge=R[de],He=ge.length,rt=0;rt<He;++rt)(We=ge[rt])&&Mr(We,s,p,rt,ge,M||Ya(We,p));return new Is(R,this._parents,s,p)};Math;function ro(s){return{type:s}}function ma(s,p){switch(arguments.length){case 0:break;case 1:this.range(s);break;default:this.range(p).domain(s)}return this}["w","e"].map(ro),["n","s"].map(ro),["n","w","e","s","nw","ne","sw","se"].map(ro);class D extends Map{constructor(p,M=Oe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:M}}),null!=p)for(const[R,Y]of p)this.set(R,Y)}get(p){return super.get(O(this,p))}has(p){return super.has(O(this,p))}set(p,M){return super.set(function z({_intern:s,_key:p},M){const R=p(M);return s.has(R)?s.get(R):(s.set(R,M),M)}(this,p),M)}delete(p){return super.delete(function ae({_intern:s,_key:p},M){const R=p(M);return s.has(R)&&(M=s.get(R),s.delete(R)),M}(this,p))}}function O({_intern:s,_key:p},M){const R=p(M);return s.has(R)?s.get(R):M}function Oe(s){return null!==s&&"object"==typeof s?s.valueOf():s}const Mt=Symbol("implicit");function bt(){var s=new D,p=[],M=[],R=Mt;function Y(de){let ge=s.get(de);if(void 0===ge){if(R!==Mt)return R;s.set(de,ge=p.push(de)-1)}return M[ge%M.length]}return Y.domain=function(de){if(!arguments.length)return p.slice();p=[],s=new D;for(const ge of de)s.has(ge)||s.set(ge,p.push(ge)-1);return Y},Y.range=function(de){return arguments.length?(M=Array.from(de),Y):M.slice()},Y.unknown=function(de){return arguments.length?(R=de,Y):R},Y.copy=function(){return bt(p,M).unknown(R)},ma.apply(Y,arguments),Y}function bn(){var de,ge,s=bt().unknown(void 0),p=s.domain,M=s.range,R=0,Y=1,He=!1,We=0,rt=0,vt=.5;function Ft(){var Pt=p().length,en=Y<R,Wn=en?Y:R,Ti=en?R:Y;de=(Ti-Wn)/Math.max(1,Pt-We+2*rt),He&&(de=Math.floor(de)),Wn+=(Ti-Wn-de*(Pt-We))*vt,ge=de*(1-We),He&&(Wn=Math.round(Wn),ge=Math.round(ge));var tn=function Pa(s,p,M){s=+s,p=+p,M=(Y=arguments.length)<2?(p=s,s=0,1):Y<3?1:+M;for(var R=-1,Y=0|Math.max(0,Math.ceil((p-s)/M)),de=new Array(Y);++R<Y;)de[R]=s+R*M;return de}(Pt).map(function(nn){return Wn+de*nn});return M(en?tn.reverse():tn)}return delete s.unknown,s.domain=function(Pt){return arguments.length?(p(Pt),Ft()):p()},s.range=function(Pt){return arguments.length?([R,Y]=Pt,R=+R,Y=+Y,Ft()):[R,Y]},s.rangeRound=function(Pt){return[R,Y]=Pt,R=+R,Y=+Y,He=!0,Ft()},s.bandwidth=function(){return ge},s.step=function(){return de},s.round=function(Pt){return arguments.length?(He=!!Pt,Ft()):He},s.padding=function(Pt){return arguments.length?(We=Math.min(1,rt=+Pt),Ft()):We},s.paddingInner=function(Pt){return arguments.length?(We=Math.min(1,Pt),Ft()):We},s.paddingOuter=function(Pt){return arguments.length?(rt=+Pt,Ft()):rt},s.align=function(Pt){return arguments.length?(vt=Math.max(0,Math.min(1,Pt)),Ft()):vt},s.copy=function(){return bn(p(),[R,Y]).round(He).paddingInner(We).paddingOuter(rt).align(vt)},ma.apply(Ft(),arguments)}var Hi=Math.sqrt(50),Ns=Math.sqrt(10),Xs=Math.sqrt(2);function ta(s,p,M){var R=(p-s)/Math.max(0,M),Y=Math.floor(Math.log(R)/Math.LN10),de=R/Math.pow(10,Y);return Y>=0?(de>=Hi?10:de>=Ns?5:de>=Xs?2:1)*Math.pow(10,Y):-Math.pow(10,-Y)/(de>=Hi?10:de>=Ns?5:de>=Xs?2:1)}function Bo(s,p){return null==s||null==p?NaN:s<p?-1:s>p?1:s>=p?0:NaN}function si(s,p){return null==s||null==p?NaN:p<s?-1:p>s?1:p>=s?0:NaN}function Ja(s){let p,M,R;function Y(He,We,rt=0,vt=He.length){if(rt<vt){if(0!==p(We,We))return vt;do{const Ft=rt+vt>>>1;M(He[Ft],We)<0?rt=Ft+1:vt=Ft}while(rt<vt)}return rt}return 2!==s.length?(p=Bo,M=(He,We)=>Bo(s(He),We),R=(He,We)=>s(He)-We):(p=s===Bo||s===si?s:ka,M=s,R=s),{left:Y,center:function ge(He,We,rt=0,vt=He.length){const Ft=Y(He,We,rt,vt-1);return Ft>rt&&R(He[Ft-1],We)>-R(He[Ft],We)?Ft-1:Ft},right:function de(He,We,rt=0,vt=He.length){if(rt<vt){if(0!==p(We,We))return vt;do{const Ft=rt+vt>>>1;M(He[Ft],We)<=0?rt=Ft+1:vt=Ft}while(rt<vt)}return rt}}}function ka(){return 0}const ol=Ja(Bo).right,El=(Ja(function Za(s){return null===s?NaN:+s}),ol);function Qa(s,p){var ge,M=p?p.length:0,R=s?Math.min(M,s.length):0,Y=new Array(R),de=new Array(M);for(ge=0;ge<R;++ge)Y[ge]=Xa(s[ge],p[ge]);for(;ge<M;++ge)de[ge]=p[ge];return function(He){for(ge=0;ge<R;++ge)de[ge]=Y[ge](He);return de}}function wl(s,p){var M=new Date;return s=+s,p=+p,function(R){return M.setTime(s*(1-R)+p*R),M}}function Sl(s,p){var Y,M={},R={};for(Y in(null===s||"object"!=typeof s)&&(s={}),(null===p||"object"!=typeof p)&&(p={}),p)Y in s?M[Y]=Xa(s[Y],p[Y]):R[Y]=p[Y];return function(de){for(Y in M)R[Y]=M[Y](de);return R}}function Cl(s,p){p||(p=[]);var Y,M=s?Math.min(p.length,s.length):0,R=p.slice();return function(de){for(Y=0;Y<M;++Y)R[Y]=s[Y]*(1-de)+p[Y]*de;return R}}function Xa(s,p){var R,M=typeof p;return null==p||"boolean"===M?Fr(p):("number"===M?pi:"string"===M?(R=Hr(p))?(p=R,Os):Fi:p instanceof Hr?Os:p instanceof Date?wl:function Tl(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}(p)?Cl:Array.isArray(p)?Qa:"function"!=typeof p.valueOf&&"function"!=typeof p.toString||isNaN(p)?Sl:pi)(s,p)}function Dl(s,p){return s=+s,p=+p,function(M){return Math.round(s*(1-M)+p*M)}}function Al(s){return+s}var as=[0,1];function Oi(s){return s}function _a(s,p){return(p-=s=+s)?function(M){return(M-s)/p}:function el(s){return function(){return s}}(isNaN(p)?NaN:.5)}function va(s,p,M){var R=s[0],Y=s[1],de=p[0],ge=p[1];return Y<R?(R=_a(Y,R),de=M(ge,de)):(R=_a(R,Y),de=M(de,ge)),function(He){return de(R(He))}}function nl(s,p,M){var R=Math.min(s.length,p.length)-1,Y=new Array(R),de=new Array(R),ge=-1;for(s[R]<s[0]&&(s=s.slice().reverse(),p=p.slice().reverse());++ge<R;)Y[ge]=_a(s[ge],s[ge+1]),de[ge]=M(p[ge],p[ge+1]);return function(He){var We=El(s,He,1,R)-1;return de[We](Y[We](He))}}var Ea,ya=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function na(s){if(!(p=ya.exec(s)))throw new Error("invalid format: "+s);var p;return new Ba({fill:p[1],align:p[2],sign:p[3],symbol:p[4],zero:p[5],width:p[6],comma:p[7],precision:p[8]&&p[8].slice(1),trim:p[9],type:p[10]})}function Ba(s){this.fill=void 0===s.fill?" ":s.fill+"",this.align=void 0===s.align?">":s.align+"",this.sign=void 0===s.sign?"-":s.sign+"",this.symbol=void 0===s.symbol?"":s.symbol+"",this.zero=!!s.zero,this.width=void 0===s.width?void 0:+s.width,this.comma=!!s.comma,this.precision=void 0===s.precision?void 0:+s.precision,this.trim=!!s.trim,this.type=void 0===s.type?"":s.type+""}function Vr(s,p){if((M=(s=p?s.toExponential(p-1):s.toExponential()).indexOf("e"))<0)return null;var M,R=s.slice(0,M);return[R.length>1?R[0]+R.slice(2):R,+s.slice(M+1)]}function ia(s){return(s=Vr(Math.abs(s)))?s[1]:NaN}function Qn(s,p){var M=Vr(s,p);if(!M)return s+"";var R=M[0],Y=M[1];return Y<0?"0."+new Array(-Y).join("0")+R:R.length>Y+1?R.slice(0,Y+1)+"."+R.slice(Y+1):R+new Array(Y-R.length+2).join("0")}na.prototype=Ba.prototype,Ba.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const bi={"%":(s,p)=>(100*s).toFixed(p),b:s=>Math.round(s).toString(2),c:s=>s+"",d:function cl(s){return Math.abs(s=Math.round(s))>=1e21?s.toLocaleString("en").replace(/,/g,""):s.toString(10)},e:(s,p)=>s.toExponential(p),f:(s,p)=>s.toFixed(p),g:(s,p)=>s.toPrecision(p),o:s=>Math.round(s).toString(8),p:(s,p)=>Qn(100*s,p),r:Qn,s:function il(s,p){var M=Vr(s,p);if(!M)return s+"";var R=M[0],Y=M[1],de=Y-(Ea=3*Math.max(-8,Math.min(8,Math.floor(Y/3))))+1,ge=R.length;return de===ge?R:de>ge?R+new Array(de-ge+1).join("0"):de>0?R.slice(0,de)+"."+R.slice(de):"0."+new Array(1-de).join("0")+Vr(s,Math.max(0,p+de-1))[0]},X:s=>Math.round(s).toString(16).toUpperCase(),x:s=>Math.round(s).toString(16)};function Gn(s){return s}var Ua,fl,pl,dl=Array.prototype.map,hl=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Rl(s){var p=s.domain;return s.ticks=function(M){var R=p();return function eo(s,p,M){var R,de,ge,He,Y=-1;if(M=+M,(s=+s)==(p=+p)&&M>0)return[s];if((R=p<s)&&(de=s,s=p,p=de),0===(He=ta(s,p,M))||!isFinite(He))return[];if(He>0){let We=Math.round(s/He),rt=Math.round(p/He);for(We*He<s&&++We,rt*He>p&&--rt,ge=new Array(de=rt-We+1);++Y<de;)ge[Y]=(We+Y)*He}else{He=-He;let We=Math.round(s*He),rt=Math.round(p*He);for(We/He<s&&++We,rt/He>p&&--rt,ge=new Array(de=rt-We+1);++Y<de;)ge[Y]=(We+Y)/He}return R&&ge.reverse(),ge}(R[0],R[R.length-1],M??10)},s.tickFormat=function(M,R){var Y=p();return function xl(s,p,M,R){var de,Y=function so(s,p,M){var R=Math.abs(p-s)/Math.max(0,M),Y=Math.pow(10,Math.floor(Math.log(R)/Math.LN10)),de=R/Y;return de>=Hi?Y*=10:de>=Ns?Y*=5:de>=Xs&&(Y*=2),p<s?-Y:Y}(s,p,M);switch((R=na(R??",f")).type){case"s":var ge=Math.max(Math.abs(s),Math.abs(p));return null==R.precision&&!isNaN(de=function ul(s,p){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ia(p)/3)))-ia(Math.abs(s)))}(Y,ge))&&(R.precision=de),pl(R,ge);case"":case"e":case"g":case"p":case"r":null==R.precision&&!isNaN(de=function Gl(s,p){return s=Math.abs(s),p=Math.abs(p)-s,Math.max(0,ia(p)-ia(s))+1}(Y,Math.max(Math.abs(s),Math.abs(p))))&&(R.precision=de-("e"===R.type));break;case"f":case"%":null==R.precision&&!isNaN(de=function Pl(s){return Math.max(0,-ia(Math.abs(s)))}(Y))&&(R.precision=de-2*("%"===R.type))}return fl(R)}(Y[0],Y[Y.length-1],M??10,R)},s.nice=function(M){null==M&&(M=10);var We,rt,R=p(),Y=0,de=R.length-1,ge=R[Y],He=R[de],vt=10;for(He<ge&&(rt=ge,ge=He,He=rt,rt=Y,Y=de,de=rt);vt-- >0;){if((rt=ta(ge,He,M))===We)return R[Y]=ge,R[de]=He,p(R);if(rt>0)ge=Math.floor(ge/rt)*rt,He=Math.ceil(He/rt)*rt;else{if(!(rt<0))break;ge=Math.ceil(ge*rt)/rt,He=Math.floor(He*rt)/rt}We=rt}return s},s}function rl(){var s=function ll(){return function La(){var R,Y,de,He,We,rt,s=as,p=as,M=Xa,ge=Oi;function vt(){var Pt=Math.min(s.length,p.length);return ge!==Oi&&(ge=function tl(s,p){var M;return s>p&&(M=s,s=p,p=M),function(R){return Math.max(s,Math.min(p,R))}}(s[0],s[Pt-1])),He=Pt>2?nl:va,We=rt=null,Ft}function Ft(Pt){return null==Pt||isNaN(Pt=+Pt)?de:(We||(We=He(s.map(R),p,M)))(R(ge(Pt)))}return Ft.invert=function(Pt){return ge(Y((rt||(rt=He(p,s.map(R),pi)))(Pt)))},Ft.domain=function(Pt){return arguments.length?(s=Array.from(Pt,Al),vt()):s.slice()},Ft.range=function(Pt){return arguments.length?(p=Array.from(Pt),vt()):p.slice()},Ft.rangeRound=function(Pt){return p=Array.from(Pt),M=Dl,vt()},Ft.clamp=function(Pt){return arguments.length?(ge=!!Pt||Oi,vt()):ge!==Oi},Ft.interpolate=function(Pt){return arguments.length?(M=Pt,vt()):M},Ft.unknown=function(Pt){return arguments.length?(de=Pt,Ft):de},function(Pt,en){return R=Pt,Y=en,vt()}}()(Oi,Oi)}();return s.copy=function(){return function al(s,p){return p.domain(s.domain()).range(s.range()).interpolate(s.interpolate()).clamp(s.clamp()).unknown(s.unknown())}(s,rl())},ma.apply(s,arguments),Rl(s)}function Uo(s,p,M){this.k=s,this.x=p,this.y=M}!function Ol(s){Ua=function Ml(s){var p=void 0===s.grouping||void 0===s.thousands?Gn:function ra(s,p){return function(M,R){for(var Y=M.length,de=[],ge=0,He=s[0],We=0;Y>0&&He>0&&(We+He+1>R&&(He=Math.max(1,R-We)),de.push(M.substring(Y-=He,Y+He)),!((We+=He+1)>R));)He=s[ge=(ge+1)%s.length];return de.reverse().join(p)}}(dl.call(s.grouping,Number),s.thousands+""),M=void 0===s.currency?"":s.currency[0]+"",R=void 0===s.currency?"":s.currency[1]+"",Y=void 0===s.decimal?".":s.decimal+"",de=void 0===s.numerals?Gn:function sa(s){return function(p){return p.replace(/[0-9]/g,function(M){return s[+M]})}}(dl.call(s.numerals,String)),ge=void 0===s.percent?"%":s.percent+"",He=void 0===s.minus?"\u2212":s.minus+"",We=void 0===s.nan?"NaN":s.nan+"";function rt(Ft){var Pt=(Ft=na(Ft)).fill,en=Ft.align,Wn=Ft.sign,Ti=Ft.symbol,tn=Ft.zero,nn=Ft.width,In=Ft.comma,Dn=Ft.precision,Zt=Ft.trim,qt=Ft.type;"n"===qt?(In=!0,qt="g"):bi[qt]||(void 0===Dn&&(Dn=12),Zt=!0,qt="g"),(tn||"0"===Pt&&"="===en)&&(tn=!0,Pt="0",en="=");var pn="$"===Ti?M:"#"===Ti&&/[boxX]/.test(qt)?"0"+qt.toLowerCase():"",Un="$"===Ti?R:/[%p]/.test(qt)?ge:"",ei=bi[qt],Ni=/[defgprs%]/.test(qt);function ti(Fn){var At,gn,Wt,Yn=pn,li=Un;if("c"===qt)li=ei(Fn)+li,Fn="";else{var dn=(Fn=+Fn)<0||1/Fn<0;if(Fn=isNaN(Fn)?We:ei(Math.abs(Fn),Dn),Zt&&(Fn=function ba(s){e:for(var Y,p=s.length,M=1,R=-1;M<p;++M)switch(s[M]){case".":R=Y=M;break;case"0":0===R&&(R=M),Y=M;break;default:if(!+s[M])break e;R>0&&(R=0)}return R>0?s.slice(0,R)+s.slice(Y+1):s}(Fn)),dn&&0==+Fn&&"+"!==Wn&&(dn=!1),Yn=(dn?"("===Wn?Wn:He:"-"===Wn||"("===Wn?"":Wn)+Yn,li=("s"===qt?hl[8+Ea/3]:"")+li+(dn&&"("===Wn?")":""),Ni)for(At=-1,gn=Fn.length;++At<gn;)if(48>(Wt=Fn.charCodeAt(At))||Wt>57){li=(46===Wt?Y+Fn.slice(At+1):Fn.slice(At))+li,Fn=Fn.slice(0,At);break}}In&&!tn&&(Fn=p(Fn,1/0));var kn=Yn.length+Fn.length+li.length,xn=kn<nn?new Array(nn-kn+1).join(Pt):"";switch(In&&tn&&(Fn=p(xn+Fn,xn.length?nn-li.length:1/0),xn=""),en){case"<":Fn=Yn+Fn+li+xn;break;case"=":Fn=Yn+xn+Fn+li;break;case"^":Fn=xn.slice(0,kn=xn.length>>1)+Yn+Fn+li+xn.slice(kn);break;default:Fn=xn+Yn+Fn+li}return de(Fn)}return Dn=void 0===Dn?6:/[gprs]/.test(qt)?Math.max(1,Math.min(21,Dn)):Math.max(0,Math.min(20,Dn)),ti.toString=function(){return Ft+""},ti}return{format:rt,formatPrefix:function vt(Ft,Pt){var en=rt(((Ft=na(Ft)).type="f",Ft)),Wn=3*Math.max(-8,Math.min(8,Math.floor(ia(Pt)/3))),Ti=Math.pow(10,-Wn),tn=hl[8+Wn/3];return function(nn){return en(Ti*nn)+tn}}}}(s),fl=Ua.format,pl=Ua.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]}),Uo.prototype={constructor:Uo,scale:function(s){return 1===s?this:new Uo(this.k*s,this.x,this.y)},translate:function(s,p){return 0===s&0===p?this:new Uo(this.k,this.x+this.k*s,this.y+this.k*p)},apply:function(s){return[s[0]*this.k+this.x,s[1]*this.k+this.y]},applyX:function(s){return s*this.k+this.x},applyY:function(s){return s*this.k+this.y},invert:function(s){return[(s[0]-this.x)/this.k,(s[1]-this.y)/this.k]},invertX:function(s){return(s-this.x)/this.k},invertY:function(s){return(s-this.y)/this.k},rescaleX:function(s){return s.copy().domain(s.range().map(this.invertX,this).map(s.invert,s))},rescaleY:function(s){return s.copy().domain(s.range().map(this.invertY,this).map(s.invert,s))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Uo(1,0,0);var Dt=l(9212);const _n=["chart"];let vn=(()=>{class s{constructor(){this.data=this.generateSampleData(),this.margin={top:20,bottom:20,left:20,right:20}}ngOnInit(){this.createChart(),this.updateChart()}ngOnChanges(){this.chart&&this.updateChart()}generateSampleData(){const M=[];for(let R=0;R<8+Math.floor(10*Math.random());R++)M.push([`Index ${R}`,Math.floor(100*Math.random())]);return M}createChart(){const M=this.chartContainer.nativeElement;this.width=M.offsetWidth-this.margin.left-this.margin.right,this.height=M.offsetHeight-this.margin.top-this.margin.bottom;const R=function Il(s){return"string"==typeof s?new Ce([[document.querySelector(s)]],[document.documentElement]):new Ce([[s]],we)}(M).append("svg").attr("width",M.offsetWidth).attr("height",M.offsetHeight);this.chart=R.append("g").attr("class","bars").attr("transform",`translate(${this.margin.left}, ${this.margin.top})`);const Y=this.data.map(ge=>ge[0]),de=[0,e(this.data,ge=>ge[1])];this.xScale=bn().padding(.1).domain(Y).rangeRound([0,this.width]),this.yScale=rl().domain(de).range([this.height,0]),this.colors=rl().domain([0,this.data.length]).range(["green","yellow"]),this.xAxis=R.append("g").attr("class","axis axis-x").attr("transform",`translate(${this.margin.left}, ${this.margin.top+this.height})`).call(ue(this.xScale)),this.yAxis=R.append("g").attr("class","axis axis-y").attr("transform",`translate(${this.margin.left}, ${this.margin.top})`).call(Ne(this.yScale))}updateChart(){this.xScale.domain(this.data.map(R=>R[0])),this.yScale.domain([0,e(this.data,R=>R[1])]),this.colors.domain([0,this.data.length]),this.xAxis.transition().call(ue(this.xScale)),this.yAxis.transition().call(Ne(this.yScale));const M=this.chart.selectAll(".bar").data(this.data);M.exit().remove(),this.chart.selectAll(".bar").transition().attr("x",R=>this.xScale(R[0])).attr("y",R=>this.yScale(R[1])).attr("width",()=>this.xScale.bandwidth()).attr("height",R=>this.height-this.yScale(R[1])).style("fill",(R,Y)=>this.colors(Y)),M.enter().append("rect").attr("class","bar").attr("x",R=>this.xScale(R[0])).attr("y",()=>this.yScale(0)).attr("width",this.xScale.bandwidth()).attr("height",0).style("fill",(R,Y)=>this.colors(Y)).transition().delay((R,Y)=>10*Y).attr("y",R=>this.yScale(R[1])).attr("height",R=>this.height-this.yScale(R[1]))}static#e=this.\u0275fac=function(R){return new(R||s)};static#t=this.\u0275cmp=Dt.Xpm({type:s,selectors:[["app-barchart"]],viewQuery:function(R,Y){if(1&R&&Dt.Gf(_n,7),2&R){let de;Dt.iGM(de=Dt.CRH())&&(Y.chartContainer=de.first)}},inputs:{data:"data"},features:[Dt.TTD],decls:2,vars:0,consts:[[1,"d3-chart"],["chart",""]],template:function(R,Y){1&R&&Dt._UZ(0,"div",0,1)},styles:[".d3-chart{width:100%;height:400px}.d3-chart .axis path,.d3-chart .axis line{stroke:#999}.d3-chart .axis text{fill:#999}\n"],encapsulation:2})}return s})()},9069:(Ze,le,l)=>{"use strict";l.d(le,{$:()=>u});var e=l(9212),S=l(6814);let u=(()=>{class N{constructor(){this.checked=!1,this.selectValue=new e.vpe}onClick(){this.checked=!this.checked,this.selectValue.emit(this.checked)}static#e=this.\u0275fac=function(y){return new(y||N)};static#t=this.\u0275cmp=e.Xpm({type:N,selectors:[["app-check-mark"]],hostBindings:function(y,E){1&y&&e.NdJ("click",function(F){return E.onClick(F.target)})},inputs:{checked:"checked"},outputs:{selectValue:"selectValue"},decls:1,vars:1,consts:[[3,"ngClass"]],template:function(y,E){1&y&&e._UZ(0,"span",0),2&y&&e.Q6J("ngClass",E.checked?"fa-checkmarkcomplete selected":"fa-checkmark")},dependencies:[S.mk],styles:["[_nghost-%COMP%]{padding:4px!important;cursor:pointer;margin:2px}span[_ngcontent-%COMP%]{color:var(--secondary);font-size:large;outline:1px solid var(--border);border-radius:20%;padding:4px}.selected[_ngcontent-%COMP%]{color:var(--b-active-link-color);outline:2px solid var(--border);font-weight:700}"]})}return N})()},5754:(Ze,le,l)=>{"use strict";l.d(le,{h:()=>u});var e=l(9212),S=l(7524);let u=(()=>{class N{constructor(h,y){y.template=h}static#e=this.\u0275fac=function(y){return new(y||N)(e.Y36(e.Rgc),e.Y36(S.w))};static#t=this.\u0275dir=e.lG2({type:N,selectors:[["","appConfirm",""]]})}return N})()},6833:(Ze,le,l)=>{"use strict";l.d(le,{z:()=>N});var e=l(9212),S=l(7178),u=l(7524);let N=(()=>{class x{constructor(y,E){this.dialogService=y,this.state=E}confirm(y){return this.state.options=y,this.state.dialog=this.dialogService.open(this.state.template,{backdrop:y.backdrop,centered:!0}),this.state.dialog.result}openInfoDialog(y){return this.state.options=y,this.state.dialog=this.dialogService.open(this.state.template,{backdrop:y.backdrop,scrollable:y.scrollable,centered:y.centered}),this.state.dialog.result}static#e=this.\u0275fac=function(E){return new(E||x)(e.LFG(S.FF),e.LFG(u.w))};static#t=this.\u0275prov=e.Yz7({token:x,factory:x.\u0275fac})}return x})()},7524:(Ze,le,l)=>{"use strict";l.d(le,{w:()=>S});var e=l(9212);let S=(()=>{class u{static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac})}return u})()},8369:(Ze,le,l)=>{"use strict";l.d(le,{B:()=>u});var e=l(9212),S=l(7524);let u=(()=>{class N{constructor(h){this.state=h,this.options=h.options}close(){this.state.dialog.close("confirmed")}static#e=this.\u0275fac=function(y){return new(y||N)(e.Y36(S.w))};static#t=this.\u0275cmp=e.Xpm({type:N,selectors:[["app-dialog-info-component"]],decls:9,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(y,E){1&y&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return E.close()}),e.qZA()(),e.TgZ(4,"div",3),e._uU(5),e.qZA(),e.TgZ(6,"div",4)(7,"button",5),e.NdJ("click",function(){return E.close()}),e._uU(8,"Close"),e.qZA()()),2&y&&(e.xp6(2),e.Oqu(E.options.title),e.xp6(3),e.hij(" ",E.options.message,"\n"))},encapsulation:2})}return N})()},94:(Ze,le,l)=>{"use strict";l.d(le,{B:()=>S});var e=l(9212);let S=(()=>{class u{saveSelection(x){const h=window.getSelection().getRangeAt(0),y=h.cloneRange();y.selectNodeContents(x),y.setEnd(h.startContainer,h.startOffset);const E=y.toString().length;return{start:E,end:E+h.toString().length}}restoreSelection(x,h){let y=0,E=document.createRange();E.setStart(x,0),E.collapse(!0);let F,C=[x],V=!1,$=!1;for(;!$&&(F=C.pop());)if(3==F.nodeType){const q=y+F.length;!V&&h.start>=y&&h.start<=q&&(E.setStart(F,h.start-y),V=!0),V&&h.end>=y&&h.end<=q&&(E.setEnd(F,h.end-y),$=!0),y=q}else{let q=F.childNodes.length;for(;q--;)C.push(F.childNodes[q])}const j=window.getSelection();j.removeAllRanges(),j.addRange(E)}doRestore(x,h){x&&this.restoreSelection(h,JSON.parse(x))}static#e=this.\u0275fac=function(h){return new(h||u)};static#t=this.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac})}return u})()},7412:(Ze,le,l)=>{"use strict";l.d(le,{i:()=>$});var e=l(9212),S=l(95),u=l(2438),N=l(2181),x=l(3620),h=l(3997),y=l(9397),E=l(6593),C=l(94);const F=["textarea"],V={provide:S.JU,useExisting:(0,e.Gpc)(()=>$),multi:!0};let $=(()=>{class j{constructor(ee,ue){this.htmlSafe=ee,this.txtSelection=ue,this.textAreaTextChanged=new e.vpe(!1),this.textAreaUpdatedOpendNote=new e.vpe(!1),this.textAreaSelectionChange=new e.vpe(!1)}ngOnInit(){this.subscription=(0,u.R)(this.textarea.nativeElement,"input").pipe((0,N.h)(Boolean),(0,x.b)(450),(0,h.x)(),(0,y.b)(()=>{this.textAreaTextChanged.emit({...this.note,text:this.textarea.nativeElement.innerHTML})})).subscribe()}ngOnDestroy(){this.subscription.unsubscribe()}onFocusOut(ee){this.textAreaSelectionChange.emit({...this.note,text:ee.innerHTML,selection:JSON.stringify(this.txtSelection.saveSelection(ee))}),this.textAreaUpdatedOpendNote.emit({...this.note,text:ee.innerHTML,selection:JSON.stringify(this.txtSelection.saveSelection(ee))})}ngOnChanges(ee){ee.note.currentValue.id===this.note.id&&null!==this.note.selection&&ee.note.currentValue.id!==ee.note.previousValue?.id&&setTimeout(()=>{this.txtSelection.doRestore(this.note.selection,this.textarea.nativeElement)},100)}static#e=this.\u0275fac=function(ue){return new(ue||j)(e.Y36(E.H7),e.Y36(C.B))};static#t=this.\u0275cmp=e.Xpm({type:j,selectors:[["app-textarea-expanded"]],viewQuery:function(ue,Ne){if(1&ue&&e.Gf(F,7),2&ue){let be;e.iGM(be=e.CRH())&&(Ne.textarea=be.first)}},hostBindings:function(ue,Ne){1&ue&&e.NdJ("focusout",function(De){return Ne.onFocusOut(De.target)})},inputs:{note:"note"},outputs:{textAreaTextChanged:"textAreaTextChanged",textAreaUpdatedOpendNote:"textAreaUpdatedOpendNote",textAreaSelectionChange:"textAreaSelectionChange"},features:[e._Bn([V]),e.TTD],decls:5,vars:4,consts:[[1,"text-area-wrapper"],[1,"textArea"],["contenteditable","true","tabindex","1",1,"p-3","textInput",3,"innerHTML","autofocus","spellcheck"],["textarea",""]],template:function(ue,Ne){1&ue&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2,3),e._uU(4),e.qZA()()()),2&ue&&(e.xp6(2),e.Q6J("innerHTML",Ne.note.text,e.oJD)("autofocus",!0)("spellcheck",Ne.note.spellCheck),e.xp6(2),e.hij(" ",Ne.note.text," "))},styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto}.text-area-wrapper[_ngcontent-%COMP%]{position:relative;overflow-y:auto;overflow-x:hidden;display:flex;flex:1 1 auto;flex-direction:column;border-bottom:2px solid var(--border)}.textArea[_ngcontent-%COMP%]{flex:1 1 auto;position:relative;display:flex;flex-direction:column}.textArea[_ngcontent-%COMP%]::spelling-error{background-color:#ff000024;text-decoration-line:underline;text-decoration-style:solid;text-decoration-color:#add8e6}.textInput[_ngcontent-%COMP%]{position:absolute;font-size:.85rem}div.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}[contenteditable][_ngcontent-%COMP%]{outline:0px solid transparent;width:100%;height:100%}*[_ngcontent-%COMP%]::-webkit-scrollbar{width:.85rem}*[_ngcontent-%COMP%]::-webkit-scrollbar-button{position:absolute;display:none}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb-color);border-radius:.5rem}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover-color)}.custom-scroll[_ngcontent-%COMP%]{--scrollbar-size: 8px;--scrollbar-thumb-color: var(--bs-primary);--scrollbar-hover-size: 12px;--scrollbar-track-color: rgba(0, 0, 0, .05);--scrollbar-border-radius: 0px}"],changeDetection:0})}return j})()},6267:(Ze,le,l)=>{"use strict";l.d(le,{c:()=>xt});var e=l(6814),S=l(4953),C=(l(8194),l(2743),l(8973),l(596),l(7412),l(9069),l(9212)),F=l(7524);l(8369),l(5754);var q=l(6833),ue=(l(682),l(7178)),be=(l(221),l(6746));l(95),l(3569);const Tt=[q.z,F.w],Vt=[];let xt=(()=>{class dt{static forRoot(){return{ngModule:dt,providers:[...Vt,...Tt]}}static#e=this.\u0275fac=function(cn){return new(cn||dt)};static#t=this.\u0275mod=C.oAB({type:dt});static#n=this.\u0275inj=C.cJS({imports:[e.ez,be.m,S.kb,ue.IJ]})}return dt})()},589:(Ze,le,l)=>{"use strict";l.d(le,{j:()=>e});class e{constructor(u={}){Object.assign(this,u)}}},5306:(Ze,le,l)=>{"use strict";l.d(le,{f:()=>u});var e=l(2096),S=l(9212);let u=(()=>{class N{static#e=this.isDarkMode=!1;get DarkMode(){return"true"===localStorage.getItem("darkmode")||N.isDarkMode}set DarkMode(h){localStorage.setItem("darkmode",h.toString()),this.style.href=this.getStyleName(this.DarkMode)}constructor(){this.style=document.createElement("link"),this.style.rel="stylesheet",this.style.type="text/css"}getStyleName(h){return h?"dark.css":"light.css"}toggleDarkMode(){return this.style.href=this.getStyleName(!this.DarkMode),localStorage.setItem("darkmode",(!this.DarkMode).toString()),this.DarkMode}initTheme(){return this.style.href=this.getStyleName(this.DarkMode),document.head.appendChild(this.style),(0,e.of)(!0)}static#t=this.\u0275fac=function(y){return new(y||N)};static#n=this.\u0275prov=S.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})()},2481:(Ze,le,l)=>{"use strict";l.d(le,{D2:()=>h,EB:()=>y,F2:()=>x,It:()=>N,J2:()=>$,TY:()=>u,W8:()=>S,kS:()=>j,qm:()=>V});var e=l(4221);const S=(0,e.PH)("[AUTH] TOKEN_EXPIRE",(0,e.Ky)()),u=(0,e.PH)("[AUTH] ROUTE_TO_LOGIN",(0,e.Ky)()),N=(0,e.PH)("[AUTH] ROUTE_TO_HOME"),x=(0,e.PH)("[AUTH] LOGIN_EVENT",(0,e.Ky)()),h=(0,e.PH)("[AUTH] LOGIN_EVENT_FAIL",(0,e.Ky)()),y=(0,e.PH)("[AUTH] LOGIN_EVENT_SUCCESS"),V=((0,e.PH)("[AUTH] AUTH_INIT"),(0,e.PH)("[AUTH] AUTH_INIT_SUCCESS",(0,e.Ky)()),(0,e.PH)("[AUTH] LOAD_PROFILE"),(0,e.PH)("[AUTH] LOAD_PROFILE_SUCCESS",(0,e.Ky)())),$=(0,e.PH)("[AUTH] LOAD_PROFILE_FAIL",(0,e.Ky)()),j=(0,e.PH)("[AUTH] LOGOUT",(0,e.Ky)());(0,e.PH)("[AUTH] LOGOUT_SUCCESS"),(0,e.PH)("[AUTH] LOGOUT_FAIL")},6994:(Ze,le,l)=>{"use strict";l.d(le,{Ar:()=>N,BR:()=>E,Bt:()=>x,Hw:()=>Ne,I7:()=>C,J_:()=>Me,Lz:()=>De,M0:()=>ee,OV:()=>Ae,Pr:()=>be,SZ:()=>u,UF:()=>y,VD:()=>ue,ZF:()=>$,aw:()=>j,c:()=>F,eJ:()=>q,ke:()=>h,sZ:()=>V,x1:()=>re,yM:()=>S});var e=l(4221);const S=(0,e.PH)("[EVENT] CREATE_EVENT",(0,e.Ky)()),u=(0,e.PH)("[EVENT] CREATE_EVENT_FAIL",(0,e.Ky)()),N=(0,e.PH)("[EVENT] CREATE_EVENT_SUCCESS",(0,e.Ky)()),x=(0,e.PH)("[EVENT] DELETE_EVENT",(0,e.Ky)()),h=(0,e.PH)("[EVENT] DELETE_EVENT_FAIL",(0,e.Ky)()),y=(0,e.PH)("[EVENT] DELETE_EVENT_SUCCESS",(0,e.Ky)()),E=(0,e.PH)("[EVENT] DELETE_EVENTS",(0,e.Ky)()),C=(0,e.PH)("[EVENT] DELETE_EVENTS_FAIL",(0,e.Ky)()),F=(0,e.PH)("[EVENT] DELETE_EVENTS_SUCCESS",(0,e.Ky)()),V=(0,e.PH)("[EVENT] FETCH_EVENTS"),$=(0,e.PH)("[EVENT] FETCH_EVENTS_FAILURE",(0,e.Ky)()),j=(0,e.PH)("[EVENT] FETCH_EVENTS_SUCCESS",(0,e.Ky)()),q=(0,e.PH)("[EVENT] UPDATE_EVENT",(0,e.Ky)()),ee=(0,e.PH)("[EVENT] UPDATE_EVENT_FAIL",(0,e.Ky)()),ue=(0,e.PH)("[EVENT] UPDATE_EVENT_SUCCESS",(0,e.Ky)()),Ne=(0,e.PH)("[EVENT] TOGGLE_EVENT",(0,e.Ky)()),be=(0,e.PH)("[EVENT] TOGGLE_EVENT_FAIL",(0,e.Ky)()),De=(0,e.PH)("[EVENT] TOGGLE_EVENT_SUCCESS",(0,e.Ky)()),re=(0,e.PH)("[EVENT] FETCH_EVENTS_START"),Ae=(0,e.PH)("[EVENT] FETCH_EVENTS_COMPLETE"),Me=(0,e.PH)("[EVENT] EVENTS_CLEAR")},3613:(Ze,le,l)=>{"use strict";l.d(le,{AG:()=>zt,Bn:()=>jt,FF:()=>tt,G_:()=>ue,HI:()=>Xe,Hl:()=>Me,MJ:()=>ht,O5:()=>U,Qk:()=>re,Tb:()=>Vt,Tf:()=>j,Tq:()=>$t,Us:()=>Ct,X6:()=>hn,Y8:()=>q,YY:()=>Ue,Yg:()=>y,Zn:()=>an,Zw:()=>Tt,ac:()=>ee,bd:()=>Qe,bh:()=>An,ce:()=>h,f_:()=>E,gl:()=>Ne,hR:()=>C,iG:()=>un,j8:()=>St,jA:()=>Kt,jO:()=>V,jT:()=>be,kT:()=>x,kU:()=>qe,lk:()=>st,or:()=>F,pB:()=>Ae,qS:()=>Re,qp:()=>On,qw:()=>fe,rs:()=>K,sG:()=>xt,sI:()=>Et,v3:()=>De,w:()=>yt,xe:()=>Te,yV:()=>$});var e=l(4221);(0,e.PH)("[NOTE] CREATE_NEW_NOTE",(0,e.Ky)()),(0,e.PH)("[NOTE] CREATE_NEW_NOTE_FAIL",(0,e.Ky)()),(0,e.PH)("[NOTE] CREATE_NEW_NOTE_SUCCESS",(0,e.Ky)());const x=(0,e.PH)("[NOTE] CREATE_NOTE",(0,e.Ky)()),h=(0,e.PH)("[NOTE] CREATE_NOTE_FAIL",(0,e.Ky)()),y=(0,e.PH)("[NOTE] CREATE_NOTE_SUCCESS",(0,e.Ky)()),E=(0,e.PH)("[NOTE] DELETE_NOTE",(0,e.Ky)()),C=(0,e.PH)("[NOTE] DELETE_NOTE_FAIL",(0,e.Ky)()),F=(0,e.PH)("[NOTE] DELETE_NOTE_SUCCESS",(0,e.Ky)()),V=(0,e.PH)("[NOTE] FETCH_NOTES"),$=(0,e.PH)("[NOTE] FETCH_NOTES_FAILURE",(0,e.Ky)()),j=(0,e.PH)("[NOTE] FETCH_NOTES_SUCCESS",(0,e.Ky)()),q=(0,e.PH)("[NOTE] UPDATE_NOTE_TEXT",(0,e.Ky)()),ee=(0,e.PH)("[NOTE] UPDATE_NOTE_TEXT_SUCCESS",(0,e.Ky)()),ue=(0,e.PH)("[NOTE] UPDATE_NOTE_TEXT_FAIL",(0,e.Ky)()),Ne=(0,e.PH)("[NOTE] UPDATE_NOTE_HEADER",(0,e.Ky)()),be=(0,e.PH)("[NOTE] UPDATE_NOTE_HEADER_SUCCESS",(0,e.Ky)()),De=(0,e.PH)("[NOTE] UPDATE_NOTE_HEADER_FAIL",(0,e.Ky)()),re=(0,e.PH)("[NOTE] UPDATE_NOTE",(0,e.Ky)()),Ae=(0,e.PH)("[NOTE] UPDATE_NOTE_FAIL",(0,e.Ky)()),Me=(0,e.PH)("[NOTE] UPDATE_NOTE_SUCCESS",(0,e.Ky)()),st=(0,e.PH)("[NOTE] UPDATE_NOTE_POSITION",(0,e.Ky)()),fe=(0,e.PH)("[NOTE] UPDATE_NOTE_POSITION_SUCCESS",(0,e.Ky)()),Tt=(0,e.PH)("[NOTE] UPDATE_NOTE_POSITION_FAIL",(0,e.Ky)()),Vt=(0,e.PH)("[NOTE] UPDATE_NOTE_SIZE",(0,e.Ky)()),xt=(0,e.PH)("[NOTE] UPDATE_NOTE_SIZE_SUCCESS",(0,e.Ky)()),hn=((0,e.PH)("[NOTE] UPDATE_NOTE_SIZE_FAIL",(0,e.Ky)()),(0,e.PH)("[NOTE] GET_NOTE",(0,e.Ky)()),(0,e.PH)("[NOTE] GET_NOTE_FAIL",(0,e.Ky)()),(0,e.PH)("[NOTE] GET_NOTE_SUCCESS",(0,e.Ky)()),(0,e.PH)("[NOTE] GET_NOTE_UPDATED_TIMESTAMP",(0,e.Ky)()),(0,e.PH)("[NOTE] GET_NOTE_UPDATED_TIMESTAMP_SUCCESS",(0,e.Ky)())),Kt=((0,e.PH)("[NOTE] GET_NOTE_UPDATED_TIMESTAMP_FAIL",(0,e.Ky)()),(0,e.PH)("[NOTE] UPDATE_PIN_ORDER",(0,e.Ky)())),Xe=(0,e.PH)("[NOTE] UPDATE_PIN_ORDER_SUCCESS",(0,e.Ky)()),ht=(0,e.PH)("[NOTE] UPDATE_PIN_ORDER_FAIL",(0,e.Ky)()),Ct=(0,e.PH)("[NOTE] RESTORE_NOTE",(0,e.Ky)()),Et=(0,e.PH)("[NOTE] RESTORE_NOTE_SUCCESS",(0,e.Ky)()),zt=(0,e.PH)("[NOTE] RESTORE_NOTE_FAIL",(0,e.Ky)()),jt=(0,e.PH)("[NOTE] ARCHIVE_NOTE",(0,e.Ky)()),un=(0,e.PH)("[NOTE] ARCHIVE_NOTE_SUCCESS",(0,e.Ky)()),An=(0,e.PH)("[NOTE] ARCHIVE_NOTE_FAIL",(0,e.Ky)()),Te=(0,e.PH)("[NOTE] SELECT",(0,e.Ky)()),U=(0,e.PH)("[NOTE] UPDATE_OPEND_NOTE",(0,e.Ky)()),K=(0,e.PH)("[NOTE] UPDATE_NOTE_COLOUR",(0,e.Ky)()),Re=(0,e.PH)("[NOTE] UPDATE_NOTE_COLOUR_SUCCESS",(0,e.Ky)()),Ue=(0,e.PH)("[NOTE] UPDATE_NOTE_COLOUR_FAIL",(0,e.Ky)()),tt=(0,e.PH)("[NOTE] FETCH_NOTES_COMPLETE"),qe=(0,e.PH)("[NOTE] FETCH_NOTES_START"),yt=(0,e.PH)("[NOTE] UPDATE_NOTE_SELECTION",(0,e.Ky)()),Qe=(0,e.PH)("[NOTE] UPDATE_NOTE_SELECTION_SUCCESS",(0,e.Ky)()),St=(0,e.PH)("[NOTE] UPDATE_NOTE_SELECTION_FAIL",(0,e.Ky)()),$t=(0,e.PH)("[NOTE] TOGGLE_SPELL_CHECK",(0,e.Ky)()),an=(0,e.PH)("[NOTE] TOGGLE_SPELL_CHECK_SUCCESS",(0,e.Ky)()),On=(0,e.PH)("[NOTE] TOGGLE_SPELL_CHECK_FAIL",(0,e.Ky)())},783:(Ze,le,l)=>{"use strict";l.d(le,{Ib:()=>y,In:()=>S,M7:()=>E,MP:()=>C,TU:()=>u,d8:()=>h,nf:()=>F});var e=l(4221);const S=(0,e.PH)("[PREFERENCE] TOGGLE_DARK_MODE"),u=(0,e.PH)("[PREFERENCE] TOGGLE_DARK_MODE_SUCCESS"),h=((0,e.PH)("[PREFERENCE] GET_DARK_MODE"),(0,e.PH)("[PREFERENCE] GET_DARK_MODE_SUCCESS",(0,e.Ky)()),(0,e.PH)("[PREFERENCE] LOG_IN_SUCCESS")),y=(0,e.PH)("[PREFERENCE] LOG_IN"),E=(0,e.PH)("[PREFERENCE] GET_IS_LOGGED_IN"),C=(0,e.PH)("[PREFERENCE] GET_IS_LOGGED_IN_SUCCESS",(0,e.Ky)()),F=(0,e.PH)("[PREFERENCE] SET_IS_LOGGED_IN",(0,e.Ky)());(0,e.PH)("[PREFERENCE] SET_IS_LOGGED_IN_SUCCESS",(0,e.Ky)())},2268:(Ze,le,l)=>{"use strict";l.d(le,{Go:()=>y,I9:()=>N,Vc:()=>E,vw:()=>h});var e=l(4221),S=l(6994);const N=(0,e.Lq)({events:[],isLoading:!1},(0,e.on)(S.J_,F=>({...F,events:[]})),(0,e.on)(S.Ar,(F,V)=>({...F,events:[V.payload,...F.events]})),(0,e.on)(S.aw,(F,V)=>({...F,events:V.payload||[]})),(0,e.on)(S.Lz,S.VD,(F,V)=>({...F,events:F.events.map($=>$.id===V.payload.id?V.payload:$)})),(0,e.on)(S.UF,(F,V)=>({...F,events:F.events.filter($=>$.id!==V.payload.id)})),(0,e.on)(S.x1,F=>({...F,isLoading:!0})),(0,e.on)(S.OV,F=>({...F,isLoading:!1})),(0,e.on)(S.c,(F,V)=>({...F,events:F.events.filter($=>V.payload.every(j=>j.id!==$.id))}))),x=(0,e.ZF)("events"),h=(0,e.P1)(x,F=>F.events),y=(0,e.P1)(x,F=>F.events.length),E=(0,e.P1)(x,F=>F.isLoading)},4648:(Ze,le,l)=>{"use strict";l.d(le,{VZ:()=>$,Vc:()=>Ne,DH:()=>be,sj:()=>De,Kk:()=>V,P3:()=>q,vh:()=>j,cn:()=>ue,i4:()=>ee,$i:()=>y});var e=l(4221),S=l(3613),u=l(589);const N=(0,e.ZF)("router"),x=(0,e.P1)(N,re=>re.state),y=(0,e.Lq)({notes:[],selectedNote:null,opendNote:null,isLoading:!1,animate:{note:!1,date:!1}},(0,e.on)(S.xe,(re,Ae)=>({...re,selectedNote:Ae.payload,opendNote:Ae.payload})),(0,e.on)(S.O5,(re,Ae)=>({...re,opendNote:Ae.payload})),(0,e.on)(S.Yg,(re,Ae)=>({...re,notes:C([Ae.payload,...re.notes]),selectedNote:Ae.payload,opendNote:Ae.payload,animate:{note:!0,date:!0}})),(0,e.on)(S.kU,re=>({...re,isLoading:!0})),(0,e.on)(S.FF,re=>({...re,isLoading:!1})),(0,e.on)(S.Tf,(re,Ae)=>({...re,notes:Ae.payload,selectedNote:Ae.payload.filter(Me=>!Me.archived)[0]??null,opendNote:Ae.payload.filter(Me=>!Me.archived)[0]??null,animate:{note:!0,date:!0}})),(0,e.on)(S.Hl,S.qw,S.sG,S.jT,(re,Ae)=>({...re,notes:re.notes.map(Me=>Me.id===Ae.payload.id||void 0===Me.id?Ae.payload:Me),opendNote:Ae.payload,selectedNote:Ae.payload,animate:{note:!0,date:!0}})),(0,e.on)(S.Zn,(re,Ae)=>({...re,notes:re.notes.map(Me=>Me.id===Ae.payload.id||void 0===Me.id?Ae.payload:Me),opendNote:Ae.payload,selectedNote:Ae.payload,animate:{note:!1,date:!1}})),(0,e.on)(S.bd,(re,Ae)=>({...re,notes:re.notes.map(Me=>Me.id===Ae.payload.id||void 0===Me.id?Ae.payload:Me),animate:{note:!1,date:!1}})),(0,e.on)(S.sI,(re,Ae)=>{const st=E(re.notes.map(fe=>fe.id===Ae.payload.id?Ae.payload:fe));return{...re,notes:C(st),animate:{...re.animate,note:!1,date:!1}}}),(0,e.on)(S.qS,(re,Ae)=>{const Me=re.notes.map(st=>st.id===Ae.payload.id?Ae.payload:st);return{...re,notes:Me,animate:{...re.animate,note:!1,date:!1}}}),(0,e.on)(S.ac,(re,Ae)=>{const Me=re.notes.map(fe=>fe.id===Ae.payload.id?Ae.payload:fe),st=[Me.find(fe=>fe.id===Ae.payload.id),...Me.filter(fe=>fe.id!==Ae.payload.id)];return{...re,notes:C(st),animate:{...re.animate,note:!1,date:!1}}}),(0,e.on)(S.jA,(re,Ae)=>Ae.payload.id===re.opendNote?.id?{...re,opendNote:{...re.opendNote,pinOrder:Ae.payload.pinOrder}}:re),(0,e.on)(S.HI,(re,Ae)=>{const Me=re.notes.map(fe=>fe.id===Ae.payload.id?Ae.payload:fe),st=[Me.find(fe=>fe.id===Ae.payload.id),...Me.filter(fe=>fe.id!==Ae.payload.id)];return{...re,notes:C(E(st)),animate:{note:!0,date:!1}}}),(0,e.on)(S.X6,(re,Ae)=>({...re,notes:re.notes.map(Me=>Me.id===Ae.payload.id?{...Me,dateModified:Ae.payload.dateModified}:Me)})),(0,e.on)(S.iG,S.or,(re,Ae)=>{const Me=re.notes.map(st=>st.id===Ae.payload.id?Ae.payload:st);return{...re,notes:Me,selectedNote:null,opendNote:null,animate:{note:!0,date:!0}}}));function E(re){return re.sort((Ae,Me)=>Ae.dateModified>Me.dateModified?-1:1)}function C(re){return[...re.filter(Ae=>null!==Ae.pinOrder),...re.filter(Ae=>null===Ae.pinOrder)].sort((Ae,Me)=>Ae.pinOrder>Me.pinOrder?-1:1)}const F=(0,e.ZF)("notes"),V=(0,e.P1)(F,re=>re.notes.filter(Ae=>!Ae.archived)),$=(0,e.P1)(F,re=>re.notes.filter(Ae=>Ae.archived).sort((Ae,Me)=>Ae.dateArchived>Me.dateArchived?-1:1)),j=(0,e.P1)(F,re=>re.notes.filter(Ae=>!Ae.archived).length),q=(0,e.P1)(F,re=>re.animate),ee=(0,e.P1)(F,re=>re.selectedNote?re.notes.find(Ae=>Ae.id===re.selectedNote.id):new u.j),ue=(0,e.P1)(F,re=>re.opendNote),Ne=(0,e.P1)(F,re=>re.isLoading),be=re=>(0,e.P1)(F,Ae=>Ae.notes?Ae.notes.find(Me=>Me.id===re):{}),De=(0,e.P1)(F,x,(re,Ae)=>re.notes?re.notes.find(Me=>Me.id===Number(Ae.params.id)):{})},9141:(Ze,le,l)=>{"use strict";l.d(le,{Cn:()=>x,Yc:()=>y,jl:()=>E});var e=l(4221),S=l(783),u=l(5306);const N={isDarkMode:"true"===localStorage.getItem("darkmode")||u.f.isDarkMode,isLoggedIn:!1},x=(0,e.Lq)(N,(0,e.on)(S.TU,C=>({...C,isDarkMode:!C.isDarkMode})),(0,e.on)(S.d8,C=>({...C,isLoggedIn:!0})),(0,e.on)(S.MP,(C,F)=>({...C,isLoggedIn:F.isLoggedIn}))),h=(0,e.ZF)("preference"),y=(0,e.P1)(h,C=>C.isDarkMode),E=(0,e.P1)(h,C=>C.isLoggedIn)},7414:function(Ze){Ze.exports=function(le){var l={};function e(S){if(l[S])return l[S].exports;var u=l[S]={i:S,l:!1,exports:{}};return le[S].call(u.exports,u,u.exports,e),u.l=!0,u.exports}return e.m=le,e.c=l,e.d=function(S,u,N){e.o(S,u)||Object.defineProperty(S,u,{enumerable:!0,get:N})},e.r=function(S){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})},e.t=function(S,u){if(1&u&&(S=e(S)),8&u||4&u&&"object"==typeof S&&S&&S.__esModule)return S;var N=Object.create(null);if(e.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:S}),2&u&&"string"!=typeof S)for(var x in S)e.d(N,x,function(h){return S[h]}.bind(null,x));return N},e.n=function(S){var u=S&&S.__esModule?function(){return S.default}:function(){return S};return e.d(u,"a",u),u},e.o=function(S,u){return Object.prototype.hasOwnProperty.call(S,u)},e.p="",e(e.s=22)}([function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S=function(){function h(y,E){for(var C=0;C<E.length;C++){var F=E[C];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(y,F.key,F)}}return function(y,E,C){return E&&h(y.prototype,E),C&&h(y,C),y}}(),u={debug:function(){},info:function(){},warn:function(){},error:function(){}},N=void 0,x=void 0;(l.Log=function(){function h(){!function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}(this,h)}return h.reset=function(){x=3,N=u},h.debug=function(){if(x>=4){for(var E=arguments.length,C=Array(E),F=0;F<E;F++)C[F]=arguments[F];N.debug.apply(N,Array.from(C))}},h.info=function(){if(x>=3){for(var E=arguments.length,C=Array(E),F=0;F<E;F++)C[F]=arguments[F];N.info.apply(N,Array.from(C))}},h.warn=function(){if(x>=2){for(var E=arguments.length,C=Array(E),F=0;F<E;F++)C[F]=arguments[F];N.warn.apply(N,Array.from(C))}},h.error=function(){if(x>=1){for(var E=arguments.length,C=Array(E),F=0;F<E;F++)C[F]=arguments[F];N.error.apply(N,Array.from(C))}},S(h,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return x},set:function(E){if(!(0<=E&&E<=4))throw new Error("Invalid log level");x=E}},{key:"logger",get:function(){return N},set:function(E){if(!E.debug&&E.info&&(E.debug=E.info),!(E.debug&&E.info&&E.warn&&E.error))throw new Error("Invalid logger");N=E}}]),h}()).reset()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S=function(){function h(y,E){for(var C=0;C<E.length;C++){var F=E[C];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(y,F.key,F)}}return function(y,E,C){return E&&h(y.prototype,E),C&&h(y,C),y}}(),u={setInterval:function(h){function y(E,C){return h.apply(this,arguments)}return y.toString=function(){return h.toString()},y}(function(h,y){return setInterval(h,y)}),clearInterval:function(h){function y(E){return h.apply(this,arguments)}return y.toString=function(){return h.toString()},y}(function(h){return clearInterval(h)})},N=!1,x=null;l.Global=function(){function h(){!function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}(this,h)}return h._testing=function(){N=!0},h.setXMLHttpRequest=function(E){x=E},S(h,null,[{key:"location",get:function(){if(!N)return location}},{key:"localStorage",get:function(){if(!N&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!N&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!N&&typeof window<"u")return x||XMLHttpRequest}},{key:"timer",get:function(){if(!N)return u}}]),h}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.MetadataService=void 0;var S=function(){function y(E,C){for(var F=0;F<C.length;F++){var V=C[F];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}}return function(E,C,F){return C&&y(E.prototype,C),F&&y(E,F),E}}(),u=e(0),N=e(7);var h=".well-known/openid-configuration";l.MetadataService=function(){function y(E){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.JsonService;if(function x(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,y),!E)throw u.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=E,this._jsonService=new C(["application/jwk-set+json"])}return y.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},y.prototype.getMetadata=function(){var C=this;return this._settings.metadata?(u.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(u.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(F){return u.Log.debug("MetadataService.getMetadata: json received"),C._settings.metadata=Object.assign({},C._settings.metadataSeed||{},F),C._settings.metadata})):(u.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},y.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},y.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},y.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},y.prototype.getTokenEndpoint=function(){return this._getMetadataProperty("token_endpoint",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])},y.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},y.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},y.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},y.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},y.prototype._getMetadataProperty=function(C){var F=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u.Log.debug("MetadataService.getMetadataProperty for: "+C),this.getMetadata().then(function(V){if(u.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===V[C]){if(!0===F)return void u.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+C);throw u.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+C),new Error("Metadata does not contain property "+C)}return V[C]})},y.prototype.getSigningKeys=function(){var C=this;return this._settings.signingKeys?(u.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(F){return u.Log.debug("MetadataService.getSigningKeys: jwks_uri received",F),C._jsonService.getJson(F).then(function(V){if(u.Log.debug("MetadataService.getSigningKeys: key set received",V),!V.keys)throw u.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return C._settings.signingKeys=V.keys,C._settings.signingKeys})})},S(y,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(h)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=h))),this._metadataUrl}}]),y}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.UrlUtility=void 0;var S=e(0),u=e(1);l.UrlUtility=function(){function N(){!function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,N)}return N.addQueryParam=function(h,y,E){return h.indexOf("?")<0&&(h+="?"),"?"!==h[h.length-1]&&(h+="&"),h+=encodeURIComponent(y),(h+="=")+encodeURIComponent(E)},N.parseUrlFragment=function(h){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";"string"!=typeof h&&(h=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.Global).location.href);var C=h.lastIndexOf(y);C>=0&&(h=h.substr(C+1)),"?"===y&&(C=h.indexOf("#"))>=0&&(h=h.substr(0,C));for(var F,V={},$=/([^&=]+)=([^&]*)/g,j=0;F=$.exec(h);)if(V[decodeURIComponent(F[1])]=decodeURIComponent(F[2].replace(/\+/g," ")),j++>50)return S.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",h),{error:"Response exceeded expected number of parameters"};for(var q in V)return V;return{}},N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.JoseUtil=void 0;var x,S=e(26),u=(x=e(33))&&x.__esModule?x:{default:x};l.JoseUtil=(0,u.default)({jws:S.jws,KeyUtil:S.KeyUtil,X509:S.X509,crypto:S.crypto,hextob64u:S.hextob64u,b64tohex:S.b64tohex,AllowedSigningAlgs:S.AllowedSigningAlgs})},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.OidcClientSettings=void 0;var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},u=function(){function q(ee,ue){for(var Ne=0;Ne<ue.length;Ne++){var be=ue[Ne];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(ee,be.key,be)}}return function(ee,ue,Ne){return ue&&q(ee.prototype,ue),Ne&&q(ee,Ne),ee}}(),N=e(0),x=e(23),h=e(6),y=e(24),E=e(2);var F=".well-known/openid-configuration";l.OidcClientSettings=function(){function q(){var ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ue=ee.authority,Ne=ee.metadataUrl,be=ee.metadata,De=ee.signingKeys,re=ee.metadataSeed,Ae=ee.client_id,Me=ee.client_secret,st=ee.response_type,fe=void 0===st?"id_token":st,Tt=ee.scope,Vt=void 0===Tt?"openid":Tt,xt=ee.redirect_uri,dt=ee.post_logout_redirect_uri,rn=ee.client_authentication,on=void 0===rn?"client_secret_post":rn,cn=ee.prompt,Sn=ee.display,hn=ee.max_age,ln=ee.ui_locales,Kt=ee.acr_values,Xe=ee.resource,ht=ee.response_mode,Ct=ee.filterProtocolClaims,Et=void 0===Ct||Ct,zt=ee.loadUserInfo,jt=void 0===zt||zt,un=ee.staleStateAge,An=void 0===un?900:un,Te=ee.clockSkew,U=void 0===Te?300:Te,K=ee.clockService,Re=void 0===K?new x.ClockService:K,Ue=ee.userInfoJwtIssuer,tt=void 0===Ue?"OP":Ue,qe=ee.mergeClaims,yt=void 0!==qe&&qe,Qe=ee.stateStore,St=void 0===Qe?new h.WebStorageStateStore:Qe,$t=ee.ResponseValidatorCtor,an=void 0===$t?y.ResponseValidator:$t,On=ee.MetadataServiceCtor,Hn=void 0===On?E.MetadataService:On,zn=ee.extraQueryParams,sn=void 0===zn?{}:zn,jn=ee.extraTokenParams,Pn=void 0===jn?{}:jn;(function C(q,ee){if(!(q instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,q),this._authority=ue,this._metadataUrl=Ne,this._metadata=be,this._metadataSeed=re,this._signingKeys=De,this._client_id=Ae,this._client_secret=Me,this._response_type=fe,this._scope=Vt,this._redirect_uri=xt,this._post_logout_redirect_uri=dt,this._client_authentication=on,this._prompt=cn,this._display=Sn,this._max_age=hn,this._ui_locales=ln,this._acr_values=Kt,this._resource=Xe,this._response_mode=ht,this._filterProtocolClaims=!!Et,this._loadUserInfo=!!jt,this._staleStateAge=An,this._clockSkew=U,this._clockService=Re,this._userInfoJwtIssuer=tt,this._mergeClaims=!!yt,this._stateStore=St,this._validator=new an(this),this._metadataService=new Hn(this),this._extraQueryParams="object"===(void 0===sn?"undefined":S(sn))?sn:{},this._extraTokenParams="object"===(void 0===Pn?"undefined":S(Pn))?Pn:{}}return q.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},u(q,[{key:"client_id",get:function(){return this._client_id},set:function(ue){if(this._client_id)throw N.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=ue}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(ue){if(this._authority)throw N.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=ue}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(F)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=F)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(ue){this._metadata=ue}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(ue){this._metadataSeed=ue}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(ue){this._signingKeys=ue}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(ue){this._extraQueryParams="object"===(void 0===ue?"undefined":S(ue))?ue:{}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(ue){this._extraTokenParams="object"===(void 0===ue?"undefined":S(ue))?ue:{}}}]),q}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.WebStorageStateStore=void 0;var S=e(0),u=e(1);l.WebStorageStateStore=function(){function x(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=h.prefix,E=void 0===y?"oidc.":y,C=h.store,F=void 0===C?u.Global.localStorage:C;(function N(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")})(this,x),this._store=F,this._prefix=E}return x.prototype.set=function(y,E){return S.Log.debug("WebStorageStateStore.set",y),this._store.setItem(y=this._prefix+y,E),Promise.resolve()},x.prototype.get=function(y){S.Log.debug("WebStorageStateStore.get",y);var E=this._store.getItem(y=this._prefix+y);return Promise.resolve(E)},x.prototype.remove=function(y){S.Log.debug("WebStorageStateStore.remove",y);var E=this._store.getItem(y=this._prefix+y);return this._store.removeItem(y),Promise.resolve(E)},x.prototype.getAllKeys=function(){S.Log.debug("WebStorageStateStore.getAllKeys");for(var y=[],E=0;E<this._store.length;E++){var C=this._store.key(E);0===C.indexOf(this._prefix)&&y.push(C.substr(this._prefix.length))}return Promise.resolve(y)},x}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.JsonService=void 0;var S=e(0),u=e(1);l.JsonService=function(){function x(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.Global.XMLHttpRequest,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function N(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")})(this,x),this._contentTypes=h&&Array.isArray(h)?h.slice():[],this._contentTypes.push("application/json"),E&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=y,this._jwtHandler=E}return x.prototype.getJson=function(y,E){var C=this;if(!y)throw S.Log.error("JsonService.getJson: No url passed"),new Error("url");return S.Log.debug("JsonService.getJson, url: ",y),new Promise(function(F,V){var $=new C._XMLHttpRequest;$.open("GET",y);var j=C._contentTypes,q=C._jwtHandler;$.onload=function(){if(S.Log.debug("JsonService.getJson: HTTP response received, status",$.status),200===$.status){var ee=$.getResponseHeader("Content-Type");if(ee){var ue=j.find(function(Ne){if(ee.startsWith(Ne))return!0});if("application/jwt"==ue)return void q($).then(F,V);if(ue)try{return void F(JSON.parse($.responseText))}catch(Ne){return S.Log.error("JsonService.getJson: Error parsing JSON response",Ne.message),void V(Ne)}}V(Error("Invalid response Content-Type: "+ee+", from URL: "+y))}else V(Error($.statusText+" ("+$.status+")"))},$.onerror=function(){S.Log.error("JsonService.getJson: network error"),V(Error("Network Error"))},E&&(S.Log.debug("JsonService.getJson: token passed, setting Authorization header"),$.setRequestHeader("Authorization","Bearer "+E)),$.send()})},x.prototype.postForm=function(y,E,C){var F=this;if(!y)throw S.Log.error("JsonService.postForm: No url passed"),new Error("url");return S.Log.debug("JsonService.postForm, url: ",y),new Promise(function(V,$){var j=new F._XMLHttpRequest;j.open("POST",y);var q=F._contentTypes;j.onload=function(){if(S.Log.debug("JsonService.postForm: HTTP response received, status",j.status),200!==j.status){if(400===j.status&&(De=j.getResponseHeader("Content-Type"))&&q.find(function(re){if(De.startsWith(re))return!0}))try{var be=JSON.parse(j.responseText);if(be&&be.error)return S.Log.error("JsonService.postForm: Error from server: ",be.error),void $(new Error(be.error))}catch(re){return S.Log.error("JsonService.postForm: Error parsing JSON response",re.message),void $(re)}$(Error(j.statusText+" ("+j.status+")"))}else{var De;if((De=j.getResponseHeader("Content-Type"))&&q.find(function(re){if(De.startsWith(re))return!0}))try{return void V(JSON.parse(j.responseText))}catch(re){return S.Log.error("JsonService.postForm: Error parsing JSON response",re.message),void $(re)}$(Error("Invalid response Content-Type: "+De+", from URL: "+y))}},j.onerror=function(){S.Log.error("JsonService.postForm: network error"),$(Error("Network Error"))};var ee="";for(var ue in E){var Ne=E[ue];Ne&&(ee.length>0&&(ee+="&"),ee+=encodeURIComponent(ue),ee+="=",ee+=encodeURIComponent(Ne))}j.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==C&&j.setRequestHeader("Authorization","Basic "+btoa(C)),j.send(ee)})},x}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SigninRequest=void 0;var S=e(0),u=e(3),N=e(13);l.SigninRequest=function(){function x(h){var y=h.url,E=h.client_id,C=h.redirect_uri,F=h.response_type,V=h.scope,$=h.authority,j=h.data,q=h.prompt,ee=h.display,ue=h.max_age,Ne=h.ui_locales,be=h.id_token_hint,De=h.login_hint,re=h.acr_values,Ae=h.resource,Me=h.response_mode,st=h.request,fe=h.request_uri,Tt=h.extraQueryParams,Vt=h.request_type,xt=h.client_secret,dt=h.extraTokenParams,rn=h.skipUserInfo;if(function(Xe,ht){if(!(Xe instanceof ht))throw new TypeError("Cannot call a class as a function")}(this,x),!y)throw S.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!E)throw S.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!C)throw S.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!F)throw S.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!V)throw S.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!$)throw S.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var on=x.isOidc(F),cn=x.isCode(F);Me||(Me=x.isCode(F)?"query":null),this.state=new N.SigninState({nonce:on,data:j,client_id:E,authority:$,redirect_uri:C,code_verifier:cn,request_type:Vt,response_mode:Me,client_secret:xt,scope:V,extraTokenParams:dt,skipUserInfo:rn}),y=u.UrlUtility.addQueryParam(y,"client_id",E),y=u.UrlUtility.addQueryParam(y,"redirect_uri",C),y=u.UrlUtility.addQueryParam(y,"response_type",F),y=u.UrlUtility.addQueryParam(y,"scope",V),y=u.UrlUtility.addQueryParam(y,"state",this.state.id),on&&(y=u.UrlUtility.addQueryParam(y,"nonce",this.state.nonce)),cn&&(y=u.UrlUtility.addQueryParam(y,"code_challenge",this.state.code_challenge),y=u.UrlUtility.addQueryParam(y,"code_challenge_method","S256"));var Sn={prompt:q,display:ee,max_age:ue,ui_locales:Ne,id_token_hint:be,login_hint:De,acr_values:re,resource:Ae,request:st,request_uri:fe,response_mode:Me};for(var hn in Sn)Sn[hn]&&(y=u.UrlUtility.addQueryParam(y,hn,Sn[hn]));for(var ln in Tt)y=u.UrlUtility.addQueryParam(y,ln,Tt[ln]);this.url=y}return x.isOidc=function(y){return!!y.split(/\s+/g).filter(function(E){return"id_token"===E})[0]},x.isOAuth=function(y){return!!y.split(/\s+/g).filter(function(E){return"token"===E})[0]},x.isCode=function(y){return!!y.split(/\s+/g).filter(function(E){return"code"===E})[0]},x}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.State=void 0;var y,S=function(){function h(y,E){for(var C=0;C<E.length;C++){var F=E[C];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(y,F.key,F)}}return function(y,E,C){return E&&h(y.prototype,E),C&&h(y,C),y}}(),u=e(0),N=(y=e(14))&&y.__esModule?y:{default:y};l.State=function(){function h(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=y.id,C=y.data,F=y.created,V=y.request_type;(function x(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this._id=E||(0,N.default)(),this._data=C,this._created="number"==typeof F&&F>0?F:parseInt(Date.now()/1e3),this._request_type=V}return h.prototype.toStorageString=function(){return u.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},h.fromStorageString=function(E){return u.Log.debug("State.fromStorageString"),new h(JSON.parse(E))},h.clearStaleState=function(E,C){var F=Date.now()/1e3-C;return E.getAllKeys().then(function(V){u.Log.debug("State.clearStaleState: got keys",V);for(var $=[],j=function(Ne){var be=V[Ne];ee=E.get(be).then(function(De){var re=!1;if(De)try{var Ae=h.fromStorageString(De);u.Log.debug("State.clearStaleState: got item from key: ",be,Ae.created),Ae.created<=F&&(re=!0)}catch(Me){u.Log.error("State.clearStaleState: Error parsing state for key",be,Me.message),re=!0}else u.Log.debug("State.clearStaleState: no item in storage for key: ",be),re=!0;if(re)return u.Log.debug("State.clearStaleState: removed item for key: ",be),E.remove(be)}),$.push(ee)},q=0;q<V.length;q++){var ee;j(q)}return u.Log.debug("State.clearStaleState: waiting on promise count:",$.length),Promise.all($)})},S(h,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),h}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.OidcClient=void 0;var S=function(){function j(q,ee){for(var ue=0;ue<ee.length;ue++){var Ne=ee[ue];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(q,Ne.key,Ne)}}return function(q,ee,ue){return ee&&j(q.prototype,ee),ue&&j(q,ue),q}}(),u=e(0),N=e(5),x=e(12),h=e(8),y=e(34),E=e(35),C=e(36),F=e(13),V=e(9);l.OidcClient=function(){function j(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function $(j,q){if(!(j instanceof q))throw new TypeError("Cannot call a class as a function")})(this,j),this._settings=q instanceof N.OidcClientSettings?q:new N.OidcClientSettings(q)}return j.prototype.createSigninRequest=function(){var ee=this,ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ne=ue.response_type,be=ue.scope,De=ue.redirect_uri,re=ue.data,Ae=ue.state,Me=ue.prompt,st=ue.display,fe=ue.max_age,Tt=ue.ui_locales,Vt=ue.id_token_hint,xt=ue.login_hint,dt=ue.acr_values,rn=ue.resource,on=ue.request,cn=ue.request_uri,Sn=ue.response_mode,hn=ue.extraQueryParams,ln=ue.extraTokenParams,Kt=ue.request_type,Xe=ue.skipUserInfo,ht=arguments[1];u.Log.debug("OidcClient.createSigninRequest");var Ct=this._settings.client_id;be=be||this._settings.scope,De=De||this._settings.redirect_uri,Me=Me||this._settings.prompt,st=st||this._settings.display,fe=fe||this._settings.max_age,Tt=Tt||this._settings.ui_locales,dt=dt||this._settings.acr_values,rn=rn||this._settings.resource,Sn=Sn||this._settings.response_mode,hn=hn||this._settings.extraQueryParams,ln=ln||this._settings.extraTokenParams;var Et=this._settings.authority;return h.SigninRequest.isCode(Ne=Ne||this._settings.response_type)&&"code"!==Ne?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(zt){u.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",zt);var jt=new h.SigninRequest({url:zt,client_id:Ct,redirect_uri:De,response_type:Ne,scope:be,data:re||Ae,authority:Et,prompt:Me,display:st,max_age:fe,ui_locales:Tt,id_token_hint:Vt,login_hint:xt,acr_values:dt,resource:rn,request:on,request_uri:cn,extraQueryParams:hn,extraTokenParams:ln,request_type:Kt,response_mode:Sn,client_secret:ee._settings.client_secret,skipUserInfo:Xe}),un=jt.state;return(ht=ht||ee._stateStore).set(un.id,un.toStorageString()).then(function(){return jt})})},j.prototype.readSigninResponseState=function(ee,ue){var Ne=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u.Log.debug("OidcClient.readSigninResponseState");var be="query"===this._settings.response_mode||!this._settings.response_mode&&h.SigninRequest.isCode(this._settings.response_type),re=new y.SigninResponse(ee,be?"?":"#");return re.state?(ue=ue||this._stateStore,(Ne?ue.remove.bind(ue):ue.get.bind(ue))(re.state).then(function(Me){if(!Me)throw u.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:F.SigninState.fromStorageString(Me),response:re}})):(u.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},j.prototype.processSigninResponse=function(ee,ue){var Ne=this;return u.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(ee,ue,!0).then(function(be){var De=be.state,re=be.response;return u.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),Ne._validator.validateSigninResponse(De,re)})},j.prototype.createSignoutRequest=function(){var ee=this,ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ne=ue.id_token_hint,be=ue.data,De=ue.state,re=ue.post_logout_redirect_uri,Ae=ue.extraQueryParams,Me=ue.request_type,st=arguments[1];return u.Log.debug("OidcClient.createSignoutRequest"),re=re||this._settings.post_logout_redirect_uri,Ae=Ae||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(fe){if(!fe)throw u.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");u.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",fe);var Tt=new E.SignoutRequest({url:fe,id_token_hint:Ne,post_logout_redirect_uri:re,data:be||De,extraQueryParams:Ae,request_type:Me}),Vt=Tt.state;return Vt&&(u.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(st=st||ee._stateStore).set(Vt.id,Vt.toStorageString())),Tt})},j.prototype.readSignoutResponseState=function(ee,ue){var Ne=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u.Log.debug("OidcClient.readSignoutResponseState");var be=new C.SignoutResponse(ee);if(!be.state)return u.Log.debug("OidcClient.readSignoutResponseState: No state in response"),be.error?(u.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",be.error),Promise.reject(new x.ErrorResponse(be))):Promise.resolve({state:void 0,response:be});var De=be.state;return ue=ue||this._stateStore,(Ne?ue.remove.bind(ue):ue.get.bind(ue))(De).then(function(Ae){if(!Ae)throw u.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:V.State.fromStorageString(Ae),response:be}})},j.prototype.processSignoutResponse=function(ee,ue){var Ne=this;return u.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(ee,ue,!0).then(function(be){var De=be.state,re=be.response;return De?(u.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),Ne._validator.validateSignoutResponse(De,re)):(u.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),re)})},j.prototype.clearStaleState=function(ee){return u.Log.debug("OidcClient.clearStaleState"),V.State.clearStaleState(ee=ee||this._stateStore,this.settings.staleStateAge)},S(j,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),j}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.TokenClient=void 0;var S=e(7),u=e(2),N=e(0);l.TokenClient=function(){function h(y){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.JsonService,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.MetadataService;if(function x(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,h),!y)throw N.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=y,this._jsonService=new E,this._metadataService=new C(this._settings)}return h.prototype.exchangeCode=function(){var E=this,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(C=Object.assign({},C)).grant_type=C.grant_type||"authorization_code",C.client_id=C.client_id||this._settings.client_id,C.client_secret=C.client_secret||this._settings.client_secret,C.redirect_uri=C.redirect_uri||this._settings.redirect_uri;var F=void 0,V=C._client_authentication||this._settings._client_authentication;return delete C._client_authentication,C.code?C.redirect_uri?C.code_verifier?C.client_id?C.client_secret||"client_secret_basic"!=V?("client_secret_basic"==V&&(F=C.client_id+":"+C.client_secret,delete C.client_id,delete C.client_secret),this._metadataService.getTokenEndpoint(!1).then(function($){return N.Log.debug("TokenClient.exchangeCode: Received token endpoint"),E._jsonService.postForm($,C,F).then(function(j){return N.Log.debug("TokenClient.exchangeCode: response received"),j})})):(N.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(N.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(N.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(N.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(N.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},h.prototype.exchangeRefreshToken=function(){var E=this,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(C=Object.assign({},C)).grant_type=C.grant_type||"refresh_token",C.client_id=C.client_id||this._settings.client_id,C.client_secret=C.client_secret||this._settings.client_secret;var F=void 0,V=C._client_authentication||this._settings._client_authentication;return delete C._client_authentication,C.refresh_token?C.client_id?("client_secret_basic"==V&&(F=C.client_id+":"+C.client_secret,delete C.client_id,delete C.client_secret),this._metadataService.getTokenEndpoint(!1).then(function($){return N.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),E._jsonService.postForm($,C,F).then(function(j){return N.Log.debug("TokenClient.exchangeRefreshToken: response received"),j})})):(N.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(N.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},h}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ErrorResponse=void 0;var S=e(0);l.ErrorResponse=function(x){function h(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=y.error,C=y.error_description,F=y.error_uri,V=y.state,$=y.session_state;if(function u(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")}(this,h),!E)throw S.Log.error("No error passed to ErrorResponse"),new Error("error");var j=function N(x,h){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?x:h}(this,x.call(this,C||E));return j.name="ErrorResponse",j.error=E,j.error_description=C,j.error_uri=F,j.state=V,j.session_state=$,j}return function(E,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(E,C):E.__proto__=C)}(h,x),h}(Error)},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SigninState=void 0;var F,S=function(){function C(F,V){for(var $=0;$<V.length;$++){var j=V[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(F,j.key,j)}}return function(F,V,$){return V&&C(F.prototype,V),$&&C(F,$),F}}(),u=e(0),N=e(9),x=e(4),h=(F=e(14))&&F.__esModule?F:{default:F};l.SigninState=function(C){function F(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},$=V.nonce,j=V.authority,q=V.client_id,ee=V.redirect_uri,ue=V.code_verifier,Ne=V.response_mode,be=V.client_secret,De=V.scope,re=V.extraTokenParams,Ae=V.skipUserInfo;!function y(C,F){if(!(C instanceof F))throw new TypeError("Cannot call a class as a function")}(this,F);var Me=function E(C,F){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?C:F}(this,C.call(this,arguments[0]));if(!0===$?Me._nonce=(0,h.default)():$&&(Me._nonce=$),!0===ue?Me._code_verifier=(0,h.default)()+(0,h.default)()+(0,h.default)():ue&&(Me._code_verifier=ue),Me.code_verifier){var st=x.JoseUtil.hashString(Me.code_verifier,"SHA256");Me._code_challenge=x.JoseUtil.hexToBase64Url(st)}return Me._redirect_uri=ee,Me._authority=j,Me._client_id=q,Me._response_mode=Ne,Me._client_secret=be,Me._scope=De,Me._extraTokenParams=re,Me._skipUserInfo=Ae,Me}return function($,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function, not "+typeof j);$.prototype=Object.create(j&&j.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf($,j):$.__proto__=j)}(F,C),F.prototype.toStorageString=function(){return u.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},F.fromStorageString=function($){return u.Log.debug("SigninState.fromStorageString"),new F(JSON.parse($))},S(F,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),F}(N.State)},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(){return("undefined"!=S&&null!==S&&void 0!==S.getRandomValues?u:N)().replace(/-/g,"")};var S=typeof window<"u"?window.crypto||window.msCrypto:null;function u(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(x){return(x^S.getRandomValues(new Uint8Array(1))[0]&15>>x/4).toString(16)})}function N(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(x){return(x^16*Math.random()>>x/4).toString(16)})}le.exports=l.default},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.User=void 0;var S=function(){function N(x,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,h,y){return h&&N(x.prototype,h),y&&N(x,y),x}}(),u=e(0);l.User=function(){function N(x){var h=x.id_token,y=x.session_state,E=x.access_token,C=x.refresh_token,F=x.token_type,V=x.scope,$=x.profile,j=x.expires_at,q=x.state;(function(ue,Ne){if(!(ue instanceof Ne))throw new TypeError("Cannot call a class as a function")})(this,N),this.id_token=h,this.session_state=y,this.access_token=E,this.refresh_token=C,this.token_type=F,this.scope=V,this.profile=$,this.expires_at=j,this.state=q}return N.prototype.toStorageString=function(){return u.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},N.fromStorageString=function(h){return u.Log.debug("User.fromStorageString"),new N(JSON.parse(h))},S(N,[{key:"expires_in",get:function(){if(this.expires_at){var h=parseInt(Date.now()/1e3);return this.expires_at-h}},set:function(h){var y=parseInt(h);if("number"==typeof y&&y>0){var E=parseInt(Date.now()/1e3);this.expires_at=E+y}}},{key:"expired",get:function(){var h=this.expires_in;if(void 0!==h)return h<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.AccessTokenEvents=void 0;var S=e(0),u=e(46);l.AccessTokenEvents=function(){function x(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=h.accessTokenExpiringNotificationTime,E=void 0===y?60:y,C=h.accessTokenExpiringTimer,F=void 0===C?new u.Timer("Access token expiring"):C,V=h.accessTokenExpiredTimer,$=void 0===V?new u.Timer("Access token expired"):V;(function N(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")})(this,x),this._accessTokenExpiringNotificationTime=E,this._accessTokenExpiring=F,this._accessTokenExpired=$}return x.prototype.load=function(y){if(y.access_token&&void 0!==y.expires_in){var E=y.expires_in;if(S.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",E),E>0){var C=E-this._accessTokenExpiringNotificationTime;C<=0&&(C=1),S.Log.debug("AccessTokenEvents.load: registering expiring timer in:",C),this._accessTokenExpiring.init(C)}else S.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var F=E+1;S.Log.debug("AccessTokenEvents.load: registering expired timer in:",F),this._accessTokenExpired.init(F)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},x.prototype.unload=function(){S.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},x.prototype.addAccessTokenExpiring=function(y){this._accessTokenExpiring.addHandler(y)},x.prototype.removeAccessTokenExpiring=function(y){this._accessTokenExpiring.removeHandler(y)},x.prototype.addAccessTokenExpired=function(y){this._accessTokenExpired.addHandler(y)},x.prototype.removeAccessTokenExpired=function(y){this._accessTokenExpired.removeHandler(y)},x}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Event=void 0;var S=e(0);l.Event=function(){function u(N){(function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,u),this._name=N,this._callbacks=[]}return u.prototype.addHandler=function(x){this._callbacks.push(x)},u.prototype.removeHandler=function(x){var h=this._callbacks.findIndex(function(y){return y===x});h>=0&&this._callbacks.splice(h,1)},u.prototype.raise=function(){S.Log.debug("Event: Raising event: "+this._name);for(var x=0;x<this._callbacks.length;x++){var h;(h=this._callbacks)[x].apply(h,arguments)}},u}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SessionMonitor=void 0;var S=function(){function y(E,C){for(var F=0;F<C.length;F++){var V=C[F];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(E,V.key,V)}}return function(E,C,F){return C&&y(E.prototype,C),F&&y(E,F),E}}(),u=e(0),N=e(19),x=e(1);l.SessionMonitor=function(){function y(E){var C=this,F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.CheckSessionIFrame,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.Global.timer;if(function h(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,y),!E)throw u.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=E,this._CheckSessionIFrameCtor=F,this._timer=V,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function($){$?C._start($):C._settings.monitorAnonymousSession&&C._userManager.querySessionStatus().then(function(j){var q={session_state:j.session_state};j.sub&&j.sid&&(q.profile={sub:j.sub,sid:j.sid}),C._start(q)}).catch(function(j){u.Log.error("SessionMonitor ctor: error from querySessionStatus:",j.message)})}).catch(function($){u.Log.error("SessionMonitor ctor: error from getUser:",$.message)}))}return y.prototype._start=function(C){var F=this,V=C.session_state;V&&(C.profile?(this._sub=C.profile.sub,this._sid=C.profile.sid,u.Log.debug("SessionMonitor._start: session_state:",V,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,u.Log.debug("SessionMonitor._start: session_state:",V,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(V):this._metadataService.getCheckSessionIframe().then(function($){if($){u.Log.debug("SessionMonitor._start: Initializing check session iframe");var j=F._client_id,q=F._checkSessionInterval,ee=F._stopCheckSessionOnError;F._checkSessionIFrame=new F._CheckSessionIFrameCtor(F._callback.bind(F),j,$,q,ee),F._checkSessionIFrame.load().then(function(){F._checkSessionIFrame.start(V)})}else u.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function($){u.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",$.message)}))},y.prototype._stop=function(){var C=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(u.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var F=this._timer.setInterval(function(){C._timer.clearInterval(F),C._userManager.querySessionStatus().then(function(V){var $={session_state:V.session_state};V.sub&&V.sid&&($.profile={sub:V.sub,sid:V.sid}),C._start($)}).catch(function(V){u.Log.error("SessionMonitor: error from querySessionStatus:",V.message)})},1e3)},y.prototype._callback=function(){var C=this;this._userManager.querySessionStatus().then(function(F){var V=!0;F?F.sub===C._sub?(V=!1,C._checkSessionIFrame.start(F.session_state),F.sid===C._sid?u.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",F.session_state):(u.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",F.session_state),C._userManager.events._raiseUserSessionChanged())):u.Log.debug("SessionMonitor._callback: Different subject signed into OP:",F.sub):u.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),V&&(C._sub?(u.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),C._userManager.events._raiseUserSignedOut()):(u.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),C._userManager.events._raiseUserSignedIn()))}).catch(function(F){C._sub&&(u.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",F.message),C._userManager.events._raiseUserSignedOut())})},S(y,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),y}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CheckSessionIFrame=void 0;var S=e(0);l.CheckSessionIFrame=function(){function N(x,h,y,E){var C=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];(function u(N,x){if(!(N instanceof x))throw new TypeError("Cannot call a class as a function")})(this,N),this._callback=x,this._client_id=h,this._url=y,this._interval=E||2e3,this._stopOnError=C;var F=y.indexOf("/",y.indexOf("//")+2);this._frame_origin=y.substr(0,F),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=y}return N.prototype.load=function(){var h=this;return new Promise(function(y){h._frame.onload=function(){y()},window.document.body.appendChild(h._frame),h._boundMessageEvent=h._message.bind(h),window.addEventListener("message",h._boundMessageEvent,!1)})},N.prototype._message=function(h){h.origin===this._frame_origin&&h.source===this._frame.contentWindow&&("error"===h.data?(S.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===h.data?(S.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):S.Log.debug("CheckSessionIFrame: "+h.data+" message from check session op iframe"))},N.prototype.start=function(h){var y=this;if(this._session_state!==h){S.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=h;var E=function(){y._frame.contentWindow.postMessage(y._client_id+" "+y._session_state,y._frame_origin)};E(),this._timer=window.setInterval(E,this._interval)}},N.prototype.stop=function(){this._session_state=null,this._timer&&(S.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.TokenRevocationClient=void 0;var S=e(0),u=e(2),N=e(1);l.TokenRevocationClient=function(){function E(C){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.Global.XMLHttpRequest,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.MetadataService;if(function x(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}(this,E),!C)throw S.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=C,this._XMLHttpRequestCtor=F,this._metadataService=new V(this._settings)}return E.prototype.revoke=function(F,V){var $=this,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!F)throw S.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==j&&"refresh_token"!=j)throw S.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(q){if(q)return S.Log.debug("TokenRevocationClient.revoke: Revoking "+j),$._revoke(q,$._settings.client_id,$._settings.client_secret,F,j);if(V)throw S.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},E.prototype._revoke=function(F,V,$,j,q){var ee=this;return new Promise(function(ue,Ne){var be=new ee._XMLHttpRequestCtor;be.open("POST",F),be.onload=function(){S.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",be.status),200===be.status?ue():Ne(Error(be.statusText+" ("+be.status+")"))},be.onerror=function(){S.Log.debug("TokenRevocationClient.revoke: Network Error."),Ne("Network Error")};var De="client_id="+encodeURIComponent(V);$&&(De+="&client_secret="+encodeURIComponent($)),De+="&token_type_hint="+encodeURIComponent(q),De+="&token="+encodeURIComponent(j),be.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),be.send(De)})},E}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CordovaPopupWindow=void 0;var S=function(){function N(x,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,h,y){return h&&N(x.prototype,h),y&&N(x,y),x}}(),u=e(0);l.CordovaPopupWindow=function(){function N(x){var h=this;(function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")})(this,N),this._promise=new Promise(function(y,E){h._resolve=y,h._reject=E}),this.features=x.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=x.popupWindowTarget||"_blank",this.redirect_uri=x.startUrl,u.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return N.prototype._isInAppBrowserInstalled=function(h){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(y){return h.hasOwnProperty(y)})},N.prototype.navigate=function(h){if(h&&h.url){if(!window.cordova)return this._error("cordova is undefined");var y=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(y))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(h.url,this.target,this.features),this._popup?(u.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},N.prototype._loadStartCallback=function(h){0===h.url.indexOf(this.redirect_uri)&&this._success({url:h.url})},N.prototype._exitCallback=function(h){this._error(h)},N.prototype._success=function(h){this._cleanup(),u.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(h)},N.prototype._error=function(h){this._cleanup(),u.Log.error(h),this._reject(new Error(h))},N.prototype.close=function(){this._cleanup()},N.prototype._cleanup=function(){this._popup&&(u.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},S(N,[{key:"promise",get:function(){return this._promise}}]),N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var S=e(0),u=e(10),N=e(5),x=e(6),h=e(37),y=e(38),E=e(16),C=e(2),F=e(48),V=e(49),$=e(19),j=e(20),q=e(18),ee=e(1),ue=e(15),Ne=e(50);l.default={Version:Ne.Version,Log:S.Log,OidcClient:u.OidcClient,OidcClientSettings:N.OidcClientSettings,WebStorageStateStore:x.WebStorageStateStore,InMemoryWebStorage:h.InMemoryWebStorage,UserManager:y.UserManager,AccessTokenEvents:E.AccessTokenEvents,MetadataService:C.MetadataService,CordovaPopupNavigator:F.CordovaPopupNavigator,CordovaIFrameNavigator:V.CordovaIFrameNavigator,CheckSessionIFrame:$.CheckSessionIFrame,TokenRevocationClient:j.TokenRevocationClient,SessionMonitor:q.SessionMonitor,Global:ee.Global,User:ue.User},le.exports=l.default},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ClockService=function(){function S(){!function(N,x){if(!(N instanceof x))throw new TypeError("Cannot call a class as a function")}(this,S)}return S.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},S}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ResponseValidator=void 0;var S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},u=e(0),N=e(2),x=e(25),h=e(11),y=e(12),E=e(4);var F=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];l.ResponseValidator=function(){function V($){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.MetadataService,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x.UserInfoService,ee=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.JoseUtil,ue=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.TokenClient;if(function C(V,$){if(!(V instanceof $))throw new TypeError("Cannot call a class as a function")}(this,V),!$)throw u.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=$,this._metadataService=new j(this._settings),this._userInfoService=new q(this._settings),this._joseUtil=ee,this._tokenClient=new ue(this._settings)}return V.prototype.validateSigninResponse=function(j,q){var ee=this;return u.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(j,q).then(function(ue){return u.Log.debug("ResponseValidator.validateSigninResponse: state processed"),ee._validateTokens(j,ue).then(function(Ne){return u.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),ee._processClaims(j,Ne).then(function(be){return u.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),be})})})},V.prototype.validateSignoutResponse=function(j,q){return j.id!==q.state?(u.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(u.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),q.state=j.data,q.error?(u.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",q.error),Promise.reject(new y.ErrorResponse(q))):Promise.resolve(q))},V.prototype._processSigninParams=function(j,q){if(j.id!==q.state)return u.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!j.client_id)return u.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!j.authority)return u.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==j.authority)return u.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=j.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==j.client_id)return u.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=j.client_id;return u.Log.debug("ResponseValidator._processSigninParams: state validated"),q.state=j.data,q.error?(u.Log.warn("ResponseValidator._processSigninParams: Response was error",q.error),Promise.reject(new y.ErrorResponse(q))):j.nonce&&!q.id_token?(u.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!j.nonce&&q.id_token?(u.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):j.code_verifier&&!q.code?(u.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!j.code_verifier&&q.code?(u.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(q.scope||(q.scope=j.scope),Promise.resolve(q))},V.prototype._processClaims=function(j,q){var ee=this;if(q.isOpenIdConnect){if(u.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),q.profile=this._filterProtocolClaims(q.profile),!0!==j.skipUserInfo&&this._settings.loadUserInfo&&q.access_token)return u.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(q.access_token).then(function(ue){return u.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),ue.sub!==q.profile.sub?(u.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(q.profile=ee._mergeClaims(q.profile,ue),u.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",q.profile),q)});u.Log.debug("ResponseValidator._processClaims: not loading user info")}else u.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(q)},V.prototype._mergeClaims=function(j,q){var ee=Object.assign({},j);for(var ue in q){var Ne=q[ue];Array.isArray(Ne)||(Ne=[Ne]);for(var be=0;be<Ne.length;be++){var De=Ne[be];ee[ue]?Array.isArray(ee[ue])?ee[ue].indexOf(De)<0&&ee[ue].push(De):ee[ue]!==De&&(ee[ue]="object"===(void 0===De?"undefined":S(De))&&this._settings.mergeClaims?this._mergeClaims(ee[ue],De):[ee[ue],De]):ee[ue]=De}}return ee},V.prototype._filterProtocolClaims=function(j){u.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",j);var q=Object.assign({},j);return this._settings._filterProtocolClaims?(F.forEach(function(ee){delete q[ee]}),u.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",q)):u.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),q},V.prototype._validateTokens=function(j,q){return q.code?(u.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(j,q)):q.id_token?q.access_token?(u.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(j,q)):(u.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(j,q)):(u.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(q))},V.prototype._processCode=function(j,q){var ee=this,ue={client_id:j.client_id,client_secret:j.client_secret,code:q.code,redirect_uri:j.redirect_uri,code_verifier:j.code_verifier};return j.extraTokenParams&&"object"===S(j.extraTokenParams)&&Object.assign(ue,j.extraTokenParams),this._tokenClient.exchangeCode(ue).then(function(Ne){for(var be in Ne)q[be]=Ne[be];return q.id_token?(u.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),ee._validateIdTokenAttributes(j,q)):(u.Log.debug("ResponseValidator._processCode: token response successful, returning response"),q)})},V.prototype._validateIdTokenAttributes=function(j,q){var ee=this;return this._metadataService.getIssuer().then(function(ue){var Ne=j.client_id,be=ee._settings.clockSkew;return u.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",be),ee._settings.getEpochTime().then(function(De){return ee._joseUtil.validateJwtAttributes(q.id_token,ue,Ne,be,De).then(function(re){return j.nonce&&j.nonce!==re.nonce?(u.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):re.sub?(q.profile=re,q):(u.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},V.prototype._validateIdTokenAndAccessToken=function(j,q){var ee=this;return this._validateIdToken(j,q).then(function(ue){return ee._validateAccessToken(ue)})},V.prototype._getSigningKeyForJwt=function(j){var q=this;return this._metadataService.getSigningKeys().then(function(ee){var ue=j.header.kid;if(!ee)return u.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));u.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var Ne=void 0;if(ue)Ne=ee.filter(function(be){return be.kid===ue})[0];else{if((ee=q._filterByAlg(ee,j.header.alg)).length>1)return u.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));Ne=ee[0]}return Promise.resolve(Ne)})},V.prototype._getSigningKeyForJwtWithSingleRetry=function(j){var q=this;return this._getSigningKeyForJwt(j).then(function(ee){return ee?Promise.resolve(ee):(q._metadataService.resetSigningKeys(),q._getSigningKeyForJwt(j))})},V.prototype._validateIdToken=function(j,q){var ee=this;if(!j.nonce)return u.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var ue=this._joseUtil.parseJwt(q.id_token);return ue&&ue.header&&ue.payload?j.nonce!==ue.payload.nonce?(u.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(Ne){return u.Log.debug("ResponseValidator._validateIdToken: Received issuer"),ee._getSigningKeyForJwtWithSingleRetry(ue).then(function(be){if(!be)return u.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var De=j.client_id,re=ee._settings.clockSkew;return u.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",re),ee._joseUtil.validateJwt(q.id_token,be,Ne,De,re).then(function(){return u.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),ue.payload.sub?(q.profile=ue.payload,q):(u.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(u.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",ue),Promise.reject(new Error("Failed to parse id_token")))},V.prototype._filterByAlg=function(j,q){var ee=null;if(q.startsWith("RS"))ee="RSA";else if(q.startsWith("PS"))ee="PS";else{if(!q.startsWith("ES"))return u.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",q),[];ee="EC"}return u.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",ee),j=j.filter(function(ue){return ue.kty===ee}),u.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",ee,j.length),j},V.prototype._validateAccessToken=function(j){if(!j.profile)return u.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!j.profile.at_hash)return u.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!j.id_token)return u.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var q=this._joseUtil.parseJwt(j.id_token);if(!q||!q.header)return u.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",q),Promise.reject(new Error("Failed to parse id_token"));var ee=q.header.alg;if(!ee||5!==ee.length)return u.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",ee),Promise.reject(new Error("Unsupported alg: "+ee));var ue=ee.substr(2,3);if(!ue)return u.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",ee,ue),Promise.reject(new Error("Unsupported alg: "+ee));if(256!==(ue=parseInt(ue))&&384!==ue&&512!==ue)return u.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",ee,ue),Promise.reject(new Error("Unsupported alg: "+ee));var Ne="sha"+ue,be=this._joseUtil.hashString(j.access_token,Ne);if(!be)return u.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",Ne),Promise.reject(new Error("Failed to validate at_hash"));var De=be.substr(0,be.length/2),re=this._joseUtil.hexToBase64Url(De);return re!==j.profile.at_hash?(u.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",re,j.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(u.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(j))},V}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.UserInfoService=void 0;var S=e(7),u=e(2),N=e(0),x=e(4);l.UserInfoService=function(){function y(E){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.JsonService,F=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.MetadataService,V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x.JoseUtil;if(function h(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,y),!E)throw N.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=E,this._jsonService=new C(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new F(this._settings),this._joseUtil=V}return y.prototype.getClaims=function(C){var F=this;return C?this._metadataService.getUserInfoEndpoint().then(function(V){return N.Log.debug("UserInfoService.getClaims: received userinfo url",V),F._jsonService.getJson(V,C).then(function($){return N.Log.debug("UserInfoService.getClaims: claims received",$),$})}):(N.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},y.prototype._getClaimsFromJwt=function(C){var F=this;try{var V=this._joseUtil.parseJwt(C.responseText);if(!V||!V.header||!V.payload)return N.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",V),Promise.reject(new Error("Failed to parse id_token"));var $=V.header.kid,j=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":j=this._metadataService.getIssuer();break;case"ANY":j=Promise.resolve(V.payload.iss);break;default:j=Promise.resolve(this._settings.userInfoJwtIssuer)}return j.then(function(q){return N.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+q),F._metadataService.getSigningKeys().then(function(ee){if(!ee)return N.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));N.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var ue=void 0;if($)ue=ee.filter(function(De){return De.kid===$})[0];else{if((ee=F._filterByAlg(ee,V.header.alg)).length>1)return N.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));ue=ee[0]}if(!ue)return N.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var Ne=F._settings.client_id,be=F._settings.clockSkew;return N.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",be),F._joseUtil.validateJwt(C.responseText,ue,q,Ne,be,void 0,!0).then(function(){return N.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),V.payload})})})}catch(q){return N.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",q.message),void reject(q)}},y.prototype._filterByAlg=function(C,F){var V=null;if(F.startsWith("RS"))V="RSA";else if(F.startsWith("PS"))V="PS";else{if(!F.startsWith("ES"))return N.Log.debug("UserInfoService._filterByAlg: alg not supported: ",F),[];V="EC"}return N.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",V),C=C.filter(function($){return $.kty===V}),N.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",V,C.length),C},y}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.AllowedSigningAlgs=l.b64tohex=l.hextob64u=l.crypto=l.X509=l.KeyUtil=l.jws=void 0;var S=e(27);l.jws=S.jws,l.KeyUtil=S.KEYUTIL,l.X509=S.X509,l.crypto=S.crypto,l.hextob64u=S.hextob64u,l.b64tohex=S.b64tohex,l.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(le,l,e){"use strict";(function(S){Object.defineProperty(l,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},N={userAgent:!1},x={};if(void 0===h)var h={};h.lang={extend:function(r,a,f){if(!a||!r)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var T=function(){};if(T.prototype=a.prototype,r.prototype=new T,r.prototype.constructor=r,r.superclass=a.prototype,a.prototype.constructor==Object.prototype.constructor&&(a.prototype.constructor=a),f){var k;for(k in f)r.prototype[k]=f[k];var te=function(){},_e=["toString","valueOf"];try{/MSIE/.test(N.userAgent)&&(te=function(we,Ce){for(k=0;k<_e.length;k+=1){var Ee=_e[k],xe=Ce[Ee];"function"==typeof xe&&xe!=Object.prototype[Ee]&&(we[Ee]=xe)}})}catch{}te(r.prototype,f)}}};var y,E,C,F,V,$,j,q,ee,ue,Ne,r,a,f,T,be=be||(y=Math,C=(E={}).lib={},F=C.Base=function(){function i(){}return{extend:function(a){i.prototype=this;var f=new i;return a&&f.mixIn(a),f.hasOwnProperty("init")||(f.init=function(){f.$super.init.apply(this,arguments)}),f.init.prototype=f,f.$super=this,f},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var f in a)a.hasOwnProperty(f)&&(this[f]=a[f]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),V=C.WordArray=F.extend({init:function(r,a){r=this.words=r||[],this.sigBytes=a??4*r.length},toString:function(r){return(r||j).stringify(this)},concat:function(r){var a=this.words,f=r.words,T=this.sigBytes,k=r.sigBytes;if(this.clamp(),T%4)for(var te=0;te<k;te++)a[T+te>>>2]|=(f[te>>>2]>>>24-te%4*8&255)<<24-(T+te)%4*8;else for(te=0;te<k;te+=4)a[T+te>>>2]=f[te>>>2];return this.sigBytes+=k,this},clamp:function(){var r=this.words,a=this.sigBytes;r[a>>>2]&=4294967295<<32-a%4*8,r.length=y.ceil(a/4)},clone:function(){var r=F.clone.call(this);return r.words=this.words.slice(0),r},random:function(r){for(var a=[],f=0;f<r;f+=4)a.push(4294967296*y.random()|0);return new V.init(a,r)}}),$=E.enc={},j=$.Hex={stringify:function(r){for(var a=r.words,f=r.sigBytes,T=[],k=0;k<f;k++){var te=a[k>>>2]>>>24-k%4*8&255;T.push((te>>>4).toString(16)),T.push((15&te).toString(16))}return T.join("")},parse:function(r){for(var a=r.length,f=[],T=0;T<a;T+=2)f[T>>>3]|=parseInt(r.substr(T,2),16)<<24-T%8*4;return new V.init(f,a/2)}},q=$.Latin1={stringify:function(r){for(var a=r.words,f=r.sigBytes,T=[],k=0;k<f;k++)T.push(String.fromCharCode(a[k>>>2]>>>24-k%4*8&255));return T.join("")},parse:function(r){for(var a=r.length,f=[],T=0;T<a;T++)f[T>>>2]|=(255&r.charCodeAt(T))<<24-T%4*8;return new V.init(f,a)}},ee=$.Utf8={stringify:function(r){try{return decodeURIComponent(escape(q.stringify(r)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(r){return q.parse(unescape(encodeURIComponent(r)))}},ue=C.BufferedBlockAlgorithm=F.extend({reset:function(){this._data=new V.init,this._nDataBytes=0},_append:function(r){"string"==typeof r&&(r=ee.parse(r)),this._data.concat(r),this._nDataBytes+=r.sigBytes},_process:function(r){var a=this._data,f=a.words,T=a.sigBytes,k=this.blockSize,te=T/(4*k),_e=(te=r?y.ceil(te):y.max((0|te)-this._minBufferSize,0))*k,he=y.min(4*_e,T);if(_e){for(var we=0;we<_e;we+=k)this._doProcessBlock(f,we);var Ce=f.splice(0,_e);a.sigBytes-=he}return new V.init(Ce,he)},clone:function(){var r=F.clone.call(this);return r._data=this._data.clone(),r},_minBufferSize:0}),C.Hasher=ue.extend({cfg:F.extend(),init:function(r){this.cfg=this.cfg.extend(r),this.reset()},reset:function(){ue.reset.call(this),this._doReset()},update:function(r){return this._append(r),this._process(),this},finalize:function(r){return r&&this._append(r),this._doFinalize()},blockSize:16,_createHelper:function(r){return function(a,f){return new r.init(f).finalize(a)}},_createHmacHelper:function(r){return function(a,f){return new Ne.HMAC.init(r,f).finalize(a)}}}),Ne=E.algo={},E);a=(r=be).lib,f=a.Base,T=a.WordArray,(r=r.x64={}).Word=f.extend({init:function(te,_e){this.high=te,this.low=_e}}),r.WordArray=f.extend({init:function(te,_e){te=this.words=te||[],this.sigBytes=_e??8*te.length},toX32:function(){for(var te=this.words,_e=te.length,he=[],we=0;we<_e;we++){var Ce=te[we];he.push(Ce.high),he.push(Ce.low)}return T.create(he,this.sigBytes)},clone:function(){for(var te=f.clone.call(this),_e=te.words=this.words.slice(0),he=_e.length,we=0;we<he;we++)_e[we]=_e[we].clone();return te}}),function(){var r=be.lib.WordArray;be.enc.Base64={stringify:function(f){var T=f.words,k=f.sigBytes,te=this._map;f.clamp(),f=[];for(var _e=0;_e<k;_e+=3)for(var he=(T[_e>>>2]>>>24-_e%4*8&255)<<16|(T[_e+1>>>2]>>>24-(_e+1)%4*8&255)<<8|T[_e+2>>>2]>>>24-(_e+2)%4*8&255,we=0;4>we&&_e+.75*we<k;we++)f.push(te.charAt(he>>>6*(3-we)&63));if(T=te.charAt(64))for(;f.length%4;)f.push(T);return f.join("")},parse:function(f){var T=f.length,k=this._map;(te=k.charAt(64))&&-1!=(te=f.indexOf(te))&&(T=te);for(var te=[],_e=0,he=0;he<T;he++)if(he%4){var we=k.indexOf(f.charAt(he-1))<<he%4*2,Ce=k.indexOf(f.charAt(he))>>>6-he%4*2;te[_e>>>2]|=(we|Ce)<<24-_e%4*8,_e++}return r.create(te,_e)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(i){for(var r=be,a=(T=r.lib).WordArray,f=T.Hasher,T=r.algo,k=[],te=[],_e=function(ut){return 4294967296*(ut-(0|ut))|0},he=2,we=0;64>we;){var Ce;e:{for(var Ee=i.sqrt(Ce=he),xe=2;xe<=Ee;xe++)if(!(Ce%xe)){Ce=!1;break e}Ce=!0}Ce&&(8>we&&(k[we]=_e(i.pow(he,.5))),te[we]=_e(i.pow(he,1/3)),we++),he++}var Ve=[];T=T.SHA256=f.extend({_doReset:function(){this._hash=new a.init(k.slice(0))},_doProcessBlock:function(ut,ft){for(var oe=this._hash.words,Ie=oe[0],Le=oe[1],je=oe[2],Q=oe[3],Fe=oe[4],ze=oe[5],Be=oe[6],Rt=oe[7],_t=0;64>_t;_t++){if(16>_t)Ve[_t]=0|ut[ft+_t];else{var Jt=Ve[_t-15],Mn=Ve[_t-2];Ve[_t]=((Jt<<25|Jt>>>7)^(Jt<<14|Jt>>>18)^Jt>>>3)+Ve[_t-7]+((Mn<<15|Mn>>>17)^(Mn<<13|Mn>>>19)^Mn>>>10)+Ve[_t-16]}Jt=Rt+((Fe<<26|Fe>>>6)^(Fe<<21|Fe>>>11)^(Fe<<7|Fe>>>25))+(Fe&ze^~Fe&Be)+te[_t]+Ve[_t],Mn=((Ie<<30|Ie>>>2)^(Ie<<19|Ie>>>13)^(Ie<<10|Ie>>>22))+(Ie&Le^Ie&je^Le&je),Rt=Be,Be=ze,ze=Fe,Fe=Q+Jt|0,Q=je,je=Le,Le=Ie,Ie=Jt+Mn|0}oe[0]=oe[0]+Ie|0,oe[1]=oe[1]+Le|0,oe[2]=oe[2]+je|0,oe[3]=oe[3]+Q|0,oe[4]=oe[4]+Fe|0,oe[5]=oe[5]+ze|0,oe[6]=oe[6]+Be|0,oe[7]=oe[7]+Rt|0},_doFinalize:function(){var ut=this._data,ft=ut.words,oe=8*this._nDataBytes,Ie=8*ut.sigBytes;return ft[Ie>>>5]|=128<<24-Ie%32,ft[14+(Ie+64>>>9<<4)]=i.floor(oe/4294967296),ft[15+(Ie+64>>>9<<4)]=oe,ut.sigBytes=4*ft.length,this._process(),this._hash},clone:function(){var ut=f.clone.call(this);return ut._hash=this._hash.clone(),ut}}),r.SHA256=f._createHelper(T),r.HmacSHA256=f._createHmacHelper(T)}(Math),function(){function i(){return f.create.apply(f,arguments)}for(var r=be,a=r.lib.Hasher,f=(k=r.x64).Word,T=k.WordArray,k=r.algo,te=[i(1116352408,3609767458),i(1899447441,602891725),i(3049323471,3964484399),i(3921009573,2173295548),i(961987163,4081628472),i(1508970993,3053834265),i(2453635748,2937671579),i(2870763221,3664609560),i(3624381080,2734883394),i(310598401,1164996542),i(607225278,1323610764),i(1426881987,3590304994),i(1925078388,4068182383),i(2162078206,991336113),i(2614888103,633803317),i(3248222580,3479774868),i(3835390401,2666613458),i(4022224774,944711139),i(264347078,2341262773),i(604807628,2007800933),i(770255983,1495990901),i(1249150122,1856431235),i(1555081692,3175218132),i(1996064986,2198950837),i(2554220882,3999719339),i(2821834349,766784016),i(2952996808,2566594879),i(3210313671,3203337956),i(3336571891,1034457026),i(3584528711,2466948901),i(113926993,3758326383),i(338241895,168717936),i(666307205,1188179964),i(773529912,1546045734),i(1294757372,1522805485),i(1396182291,2643833823),i(1695183700,2343527390),i(1986661051,1014477480),i(2177026350,1206759142),i(2456956037,344077627),i(2730485921,1290863460),i(2820302411,3158454273),i(3259730800,3505952657),i(3345764771,106217008),i(3516065817,3606008344),i(3600352804,1432725776),i(4094571909,1467031594),i(275423344,851169720),i(430227734,3100823752),i(506948616,1363258195),i(659060556,3750685593),i(883997877,3785050280),i(958139571,3318307427),i(1322822218,3812723403),i(1537002063,2003034995),i(1747873779,3602036899),i(1955562222,1575990012),i(2024104815,1125592928),i(2227730452,2716904306),i(2361852424,442776044),i(2428436474,593698344),i(2756734187,3733110249),i(3204031479,2999351573),i(3329325298,3815920427),i(3391569614,3928383900),i(3515267271,566280711),i(3940187606,3454069534),i(4118630271,4000239992),i(116418474,1914138554),i(174292421,2731055270),i(289380356,3203993006),i(460393269,320620315),i(685471733,587496836),i(852142971,1086792851),i(1017036298,365543100),i(1126000580,2618297676),i(1288033470,3409855158),i(1501505948,4234509866),i(1607167915,987167468),i(1816402316,1246189591)],_e=[],he=0;80>he;he++)_e[he]=i();k=k.SHA512=a.extend({_doReset:function(){this._hash=new T.init([new f.init(1779033703,4089235720),new f.init(3144134277,2227873595),new f.init(1013904242,4271175723),new f.init(2773480762,1595750129),new f.init(1359893119,2917565137),new f.init(2600822924,725511199),new f.init(528734635,4215389547),new f.init(1541459225,327033209)])},_doProcessBlock:function(Ce,Ee){for(var xe=(Le=this._hash.words)[0],Ve=Le[1],ot=Le[2],ut=Le[3],ft=Le[4],oe=Le[5],Ie=Le[6],Le=Le[7],je=xe.high,Q=xe.low,Fe=Ve.high,ze=Ve.low,Be=ot.high,Rt=ot.low,_t=ut.high,Jt=ut.low,Mn=ft.high,Ln=ft.low,Vn=oe.high,$n=oe.low,ui=Ie.high,$i=Ie.low,Xn=Le.high,vi=Le.low,zi=je,Zi=Q,Dr=Fe,nr=ze,Ar=Be,lr=Rt,ms=_t,xr=Jt,cr=Mn,Gi=Ln,$r=Vn,vr=$n,Yr=ui,Br=$i,yr=Xn,Mr=vi,ur=0;80>ur;ur++){var Li=_e[ur];if(16>ur)var Bi=Li.high=0|Ce[Ee+2*ur],Ci=Li.low=0|Ce[Ee+2*ur+1];else{Bi=((Ci=(Bi=_e[ur-15]).high)>>>1|(br=Bi.low)<<31)^(Ci>>>8|br<<24)^Ci>>>7;var br=(br>>>1|Ci<<31)^(br>>>8|Ci<<24)^(br>>>7|Ci<<25),Gr=((Ci=(Gr=_e[ur-2]).high)>>>19|(pi=Gr.low)<<13)^(Ci<<3|pi>>>29)^Ci>>>6,pi=(pi>>>19|Ci<<13)^(pi<<3|Ci>>>29)^(pi>>>6|Ci<<26),Ds=(Ci=_e[ur-7]).high,Er=(Ur=_e[ur-16]).high,Ur=Ur.low;Bi=(Bi=(Bi=Bi+Ds+((Ci=br+Ci.low)>>>0<br>>>0?1:0))+Gr+((Ci+=pi)>>>0<pi>>>0?1:0))+Er+((Ci+=Ur)>>>0<Ur>>>0?1:0),Li.high=Bi,Li.low=Ci}Ds=cr&$r^~cr&Yr,Ur=Gi&vr^~Gi&Br,Li=zi&Dr^zi&Ar^Dr&Ar;var _s=Zi&nr^Zi&lr^nr&lr,ao=(br=(zi>>>28|Zi<<4)^(zi<<30|Zi>>>2)^(zi<<25|Zi>>>7),Gr=(Zi>>>28|zi<<4)^(Zi<<30|zi>>>2)^(Zi<<25|zi>>>7),(pi=te[ur]).high),es=pi.low;Er=yr+((cr>>>14|Gi<<18)^(cr>>>18|Gi<<14)^(cr<<23|Gi>>>9))+((pi=Mr+((Gi>>>14|cr<<18)^(Gi>>>18|cr<<14)^(Gi<<23|cr>>>9)))>>>0<Mr>>>0?1:0),yr=Yr,Mr=Br,Yr=$r,Br=vr,$r=cr,vr=Gi,cr=ms+(Er=(Er=(Er=Er+Ds+((pi+=Ur)>>>0<Ur>>>0?1:0))+ao+((pi+=es)>>>0<es>>>0?1:0))+Bi+((pi+=Ci)>>>0<Ci>>>0?1:0))+((Gi=xr+pi|0)>>>0<xr>>>0?1:0)|0,ms=Ar,xr=lr,Ar=Dr,lr=nr,Dr=zi,nr=Zi,zi=Er+(Li=br+Li+((Ci=Gr+_s)>>>0<Gr>>>0?1:0))+((Zi=pi+Ci|0)>>>0<pi>>>0?1:0)|0}Q=xe.low=Q+Zi,xe.high=je+zi+(Q>>>0<Zi>>>0?1:0),ze=Ve.low=ze+nr,Ve.high=Fe+Dr+(ze>>>0<nr>>>0?1:0),Rt=ot.low=Rt+lr,ot.high=Be+Ar+(Rt>>>0<lr>>>0?1:0),Jt=ut.low=Jt+xr,ut.high=_t+ms+(Jt>>>0<xr>>>0?1:0),Ln=ft.low=Ln+Gi,ft.high=Mn+cr+(Ln>>>0<Gi>>>0?1:0),$n=oe.low=$n+vr,oe.high=Vn+$r+($n>>>0<vr>>>0?1:0),$i=Ie.low=$i+Br,Ie.high=ui+Yr+($i>>>0<Br>>>0?1:0),vi=Le.low=vi+Mr,Le.high=Xn+yr+(vi>>>0<Mr>>>0?1:0)},_doFinalize:function(){var Ce=this._data,Ee=Ce.words,xe=8*this._nDataBytes,Ve=8*Ce.sigBytes;return Ee[Ve>>>5]|=128<<24-Ve%32,Ee[30+(Ve+128>>>10<<5)]=Math.floor(xe/4294967296),Ee[31+(Ve+128>>>10<<5)]=xe,Ce.sigBytes=4*Ee.length,this._process(),this._hash.toX32()},clone:function(){var Ce=a.clone.call(this);return Ce._hash=this._hash.clone(),Ce},blockSize:32}),r.SHA512=a._createHelper(k),r.HmacSHA512=a._createHmacHelper(k)}(),function(){var i=be,r=(T=i.x64).Word,a=T.WordArray,f=(T=i.algo).SHA512,T=T.SHA384=f.extend({_doReset:function(){this._hash=new a.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var te=f._doFinalize.call(this);return te.sigBytes-=16,te}});i.SHA384=f._createHelper(T),i.HmacSHA384=f._createHmacHelper(T)}();var De,re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Ae(i){var r,a,f="";for(r=0;r+3<=i.length;r+=3)a=parseInt(i.substring(r,r+3),16),f+=re.charAt(a>>6)+re.charAt(63&a);for(r+1==i.length?(a=parseInt(i.substring(r,r+1),16),f+=re.charAt(a<<2)):r+2==i.length&&(a=parseInt(i.substring(r,r+2),16),f+=re.charAt(a>>2)+re.charAt((3&a)<<4));(3&f.length)>0;)f+="=";return f}function Me(i){var r,a,f,T="",k=0;for(r=0;r<i.length&&"="!=i.charAt(r);++r)(f=re.indexOf(i.charAt(r)))<0||(0==k?(T+=rn(f>>2),a=3&f,k=1):1==k?(T+=rn(a<<2|f>>4),a=15&f,k=2):2==k?(T+=rn(a),T+=rn(f>>2),a=3&f,k=3):(T+=rn(a<<2|f>>4),T+=rn(15&f),k=0));return 1==k&&(T+=rn(a<<2)),T}function st(i){var r,a=Me(i),f=new Array;for(r=0;2*r<a.length;++r)f[r]=parseInt(a.substring(2*r,2*r+2),16);return f}function fe(i,r,a){null!=i&&("number"==typeof i?this.fromNumber(i,r,a):this.fromString(i,null==r&&"string"!=typeof i?256:r))}function Tt(){return new fe(null)}"Microsoft Internet Explorer"==N.appName?(fe.prototype.am=function(r,a,f,T,k,te){for(var _e=32767&a,he=a>>15;--te>=0;){var we=32767&this[r],Ce=this[r++]>>15,Ee=he*we+Ce*_e;k=((we=_e*we+((32767&Ee)<<15)+f[T]+(1073741823&k))>>>30)+(Ee>>>15)+he*Ce+(k>>>30),f[T++]=1073741823&we}return k},De=30):"Netscape"!=N.appName?(fe.prototype.am=function(r,a,f,T,k,te){for(;--te>=0;){var _e=a*this[r++]+f[T]+k;k=Math.floor(_e/67108864),f[T++]=67108863&_e}return k},De=26):(fe.prototype.am=function(r,a,f,T,k,te){for(var _e=16383&a,he=a>>14;--te>=0;){var we=16383&this[r],Ce=this[r++]>>14,Ee=he*we+Ce*_e;k=((we=_e*we+((16383&Ee)<<14)+f[T]+k)>>28)+(Ee>>14)+he*Ce,f[T++]=268435455&we}return k},De=28),fe.prototype.DB=De,fe.prototype.DM=(1<<De)-1,fe.prototype.DV=1<<De,fe.prototype.FV=Math.pow(2,52),fe.prototype.F1=52-De,fe.prototype.F2=2*De-52;var Vt,xt,dt=new Array;for(Vt=48,xt=0;xt<=9;++xt)dt[Vt++]=xt;for(Vt=97,xt=10;xt<36;++xt)dt[Vt++]=xt;for(Vt=65,xt=10;xt<36;++xt)dt[Vt++]=xt;function rn(i){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(i)}function on(i,r){return dt[i.charCodeAt(r)]??-1}function cn(i){var r=Tt();return r.fromInt(i),r}function Sn(i){var r,a=1;return 0!=(r=i>>>16)&&(i=r,a+=16),0!=(r=i>>8)&&(i=r,a+=8),0!=(r=i>>4)&&(i=r,a+=4),0!=(r=i>>2)&&(i=r,a+=2),0!=(r=i>>1)&&(i=r,a+=1),a}function hn(i){this.m=i}function ln(i){this.m=i,this.mp=i.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<i.DB-15)-1,this.mt2=2*i.t}function Kt(i,r){return i&r}function Xe(i,r){return i|r}function ht(i,r){return i^r}function Ct(i,r){return i&~r}function Et(i){if(0==i)return-1;var r=0;return!(65535&i)&&(i>>=16,r+=16),!(255&i)&&(i>>=8,r+=8),!(15&i)&&(i>>=4,r+=4),!(3&i)&&(i>>=2,r+=2),!(1&i)&&++r,r}function zt(i){for(var r=0;0!=i;)i&=i-1,++r;return r}function jt(){}function un(i){return i}function An(i){this.r2=Tt(),this.q3=Tt(),fe.ONE.dlShiftTo(2*i.t,this.r2),this.mu=this.r2.divide(i),this.m=i}hn.prototype.convert=function(r){return r.s<0||r.compareTo(this.m)>=0?r.mod(this.m):r},hn.prototype.revert=function(r){return r},hn.prototype.reduce=function(r){r.divRemTo(this.m,null,r)},hn.prototype.mulTo=function(r,a,f){r.multiplyTo(a,f),this.reduce(f)},hn.prototype.sqrTo=function(r,a){r.squareTo(a),this.reduce(a)},ln.prototype.convert=function(r){var a=Tt();return r.abs().dlShiftTo(this.m.t,a),a.divRemTo(this.m,null,a),r.s<0&&a.compareTo(fe.ZERO)>0&&this.m.subTo(a,a),a},ln.prototype.revert=function(r){var a=Tt();return r.copyTo(a),this.reduce(a),a},ln.prototype.reduce=function(r){for(;r.t<=this.mt2;)r[r.t++]=0;for(var a=0;a<this.m.t;++a){var f=32767&r[a],T=f*this.mpl+((f*this.mph+(r[a]>>15)*this.mpl&this.um)<<15)&r.DM;for(r[f=a+this.m.t]+=this.m.am(0,T,r,a,0,this.m.t);r[f]>=r.DV;)r[f]-=r.DV,r[++f]++}r.clamp(),r.drShiftTo(this.m.t,r),r.compareTo(this.m)>=0&&r.subTo(this.m,r)},ln.prototype.mulTo=function(r,a,f){r.multiplyTo(a,f),this.reduce(f)},ln.prototype.sqrTo=function(r,a){r.squareTo(a),this.reduce(a)},fe.prototype.copyTo=function(r){for(var a=this.t-1;a>=0;--a)r[a]=this[a];r.t=this.t,r.s=this.s},fe.prototype.fromInt=function(r){this.t=1,this.s=r<0?-1:0,r>0?this[0]=r:r<-1?this[0]=r+this.DV:this.t=0},fe.prototype.fromString=function(r,a){var f;if(16==a)f=4;else if(8==a)f=3;else if(256==a)f=8;else if(2==a)f=1;else if(32==a)f=5;else{if(4!=a)return void this.fromRadix(r,a);f=2}this.t=0,this.s=0;for(var T=r.length,k=!1,te=0;--T>=0;){var _e=8==f?255&r[T]:on(r,T);_e<0?"-"==r.charAt(T)&&(k=!0):(k=!1,0==te?this[this.t++]=_e:te+f>this.DB?(this[this.t-1]|=(_e&(1<<this.DB-te)-1)<<te,this[this.t++]=_e>>this.DB-te):this[this.t-1]|=_e<<te,(te+=f)>=this.DB&&(te-=this.DB))}8==f&&128&r[0]&&(this.s=-1,te>0&&(this[this.t-1]|=(1<<this.DB-te)-1<<te)),this.clamp(),k&&fe.ZERO.subTo(this,this)},fe.prototype.clamp=function(){for(var r=this.s&this.DM;this.t>0&&this[this.t-1]==r;)--this.t},fe.prototype.dlShiftTo=function(r,a){var f;for(f=this.t-1;f>=0;--f)a[f+r]=this[f];for(f=r-1;f>=0;--f)a[f]=0;a.t=this.t+r,a.s=this.s},fe.prototype.drShiftTo=function(r,a){for(var f=r;f<this.t;++f)a[f-r]=this[f];a.t=Math.max(this.t-r,0),a.s=this.s},fe.prototype.lShiftTo=function(r,a){var f,T=r%this.DB,k=this.DB-T,te=(1<<k)-1,_e=Math.floor(r/this.DB),he=this.s<<T&this.DM;for(f=this.t-1;f>=0;--f)a[f+_e+1]=this[f]>>k|he,he=(this[f]&te)<<T;for(f=_e-1;f>=0;--f)a[f]=0;a[_e]=he,a.t=this.t+_e+1,a.s=this.s,a.clamp()},fe.prototype.rShiftTo=function(r,a){a.s=this.s;var f=Math.floor(r/this.DB);if(f>=this.t)a.t=0;else{var T=r%this.DB,k=this.DB-T,te=(1<<T)-1;a[0]=this[f]>>T;for(var _e=f+1;_e<this.t;++_e)a[_e-f-1]|=(this[_e]&te)<<k,a[_e-f]=this[_e]>>T;T>0&&(a[this.t-f-1]|=(this.s&te)<<k),a.t=this.t-f,a.clamp()}},fe.prototype.subTo=function(r,a){for(var f=0,T=0,k=Math.min(r.t,this.t);f<k;)T+=this[f]-r[f],a[f++]=T&this.DM,T>>=this.DB;if(r.t<this.t){for(T-=r.s;f<this.t;)T+=this[f],a[f++]=T&this.DM,T>>=this.DB;T+=this.s}else{for(T+=this.s;f<r.t;)T-=r[f],a[f++]=T&this.DM,T>>=this.DB;T-=r.s}a.s=T<0?-1:0,T<-1?a[f++]=this.DV+T:T>0&&(a[f++]=T),a.t=f,a.clamp()},fe.prototype.multiplyTo=function(r,a){var f=this.abs(),T=r.abs(),k=f.t;for(a.t=k+T.t;--k>=0;)a[k]=0;for(k=0;k<T.t;++k)a[k+f.t]=f.am(0,T[k],a,k,0,f.t);a.s=0,a.clamp(),this.s!=r.s&&fe.ZERO.subTo(a,a)},fe.prototype.squareTo=function(r){for(var a=this.abs(),f=r.t=2*a.t;--f>=0;)r[f]=0;for(f=0;f<a.t-1;++f){var T=a.am(f,a[f],r,2*f,0,1);(r[f+a.t]+=a.am(f+1,2*a[f],r,2*f+1,T,a.t-f-1))>=a.DV&&(r[f+a.t]-=a.DV,r[f+a.t+1]=1)}r.t>0&&(r[r.t-1]+=a.am(f,a[f],r,2*f,0,1)),r.s=0,r.clamp()},fe.prototype.divRemTo=function(r,a,f){var T=r.abs();if(!(T.t<=0)){var k=this.abs();if(k.t<T.t)return a?.fromInt(0),void(null!=f&&this.copyTo(f));null==f&&(f=Tt());var te=Tt(),_e=this.s,he=r.s,we=this.DB-Sn(T[T.t-1]);we>0?(T.lShiftTo(we,te),k.lShiftTo(we,f)):(T.copyTo(te),k.copyTo(f));var Ce=te.t,Ee=te[Ce-1];if(0!=Ee){var xe=Ee*(1<<this.F1)+(Ce>1?te[Ce-2]>>this.F2:0),Ve=this.FV/xe,ot=(1<<this.F1)/xe,ut=1<<this.F2,ft=f.t,oe=ft-Ce,Ie=a??Tt();for(te.dlShiftTo(oe,Ie),f.compareTo(Ie)>=0&&(f[f.t++]=1,f.subTo(Ie,f)),fe.ONE.dlShiftTo(Ce,Ie),Ie.subTo(te,te);te.t<Ce;)te[te.t++]=0;for(;--oe>=0;){var Le=f[--ft]==Ee?this.DM:Math.floor(f[ft]*Ve+(f[ft-1]+ut)*ot);if((f[ft]+=te.am(0,Le,f,oe,0,Ce))<Le)for(te.dlShiftTo(oe,Ie),f.subTo(Ie,f);f[ft]<--Le;)f.subTo(Ie,f)}null!=a&&(f.drShiftTo(Ce,a),_e!=he&&fe.ZERO.subTo(a,a)),f.t=Ce,f.clamp(),we>0&&f.rShiftTo(we,f),_e<0&&fe.ZERO.subTo(f,f)}}},fe.prototype.invDigit=function(){if(this.t<1)return 0;var r=this[0];if(!(1&r))return 0;var a=3&r;return(a=(a=(a=(a=a*(2-(15&r)*a)&15)*(2-(255&r)*a)&255)*(2-((65535&r)*a&65535))&65535)*(2-r*a%this.DV)%this.DV)>0?this.DV-a:-a},fe.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},fe.prototype.exp=function(r,a){if(r>4294967295||r<1)return fe.ONE;var f=Tt(),T=Tt(),k=a.convert(this),te=Sn(r)-1;for(k.copyTo(f);--te>=0;)if(a.sqrTo(f,T),(r&1<<te)>0)a.mulTo(T,k,f);else{var _e=f;f=T,T=_e}return a.revert(f)},fe.prototype.toString=function(r){if(this.s<0)return"-"+this.negate().toString(r);var a;if(16==r)a=4;else if(8==r)a=3;else if(2==r)a=1;else if(32==r)a=5;else{if(4!=r)return this.toRadix(r);a=2}var f,T=(1<<a)-1,k=!1,te="",_e=this.t,he=this.DB-_e*this.DB%a;if(_e-- >0)for(he<this.DB&&(f=this[_e]>>he)>0&&(k=!0,te=rn(f));_e>=0;)he<a?(f=(this[_e]&(1<<he)-1)<<a-he,f|=this[--_e]>>(he+=this.DB-a)):(f=this[_e]>>(he-=a)&T,he<=0&&(he+=this.DB,--_e)),f>0&&(k=!0),k&&(te+=rn(f));return k?te:"0"},fe.prototype.negate=function(){var r=Tt();return fe.ZERO.subTo(this,r),r},fe.prototype.abs=function(){return this.s<0?this.negate():this},fe.prototype.compareTo=function(r){var a=this.s-r.s;if(0!=a)return a;var f=this.t;if(0!=(a=f-r.t))return this.s<0?-a:a;for(;--f>=0;)if(0!=(a=this[f]-r[f]))return a;return 0},fe.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Sn(this[this.t-1]^this.s&this.DM)},fe.prototype.mod=function(r){var a=Tt();return this.abs().divRemTo(r,null,a),this.s<0&&a.compareTo(fe.ZERO)>0&&r.subTo(a,a),a},fe.prototype.modPowInt=function(r,a){var f;return f=r<256||a.isEven()?new hn(a):new ln(a),this.exp(r,f)},fe.ZERO=cn(0),fe.ONE=cn(1),jt.prototype.convert=un,jt.prototype.revert=un,jt.prototype.mulTo=function(r,a,f){r.multiplyTo(a,f)},jt.prototype.sqrTo=function(r,a){r.squareTo(a)},An.prototype.convert=function(r){if(r.s<0||r.t>2*this.m.t)return r.mod(this.m);if(r.compareTo(this.m)<0)return r;var a=Tt();return r.copyTo(a),this.reduce(a),a},An.prototype.revert=function(r){return r},An.prototype.reduce=function(r){for(r.drShiftTo(this.m.t-1,this.r2),r.t>this.m.t+1&&(r.t=this.m.t+1,r.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);r.compareTo(this.r2)<0;)r.dAddOffset(1,this.m.t+1);for(r.subTo(this.r2,r);r.compareTo(this.m)>=0;)r.subTo(this.m,r)},An.prototype.mulTo=function(r,a,f){r.multiplyTo(a,f),this.reduce(f)},An.prototype.sqrTo=function(r,a){r.squareTo(a),this.reduce(a)};var Re,Ue,tt,Te=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],U=(1<<26)/Te[Te.length-1];function K(){this.i=0,this.j=0,this.S=new Array}function qe(){!function(r){Ue[tt++]^=255&r,Ue[tt++]^=r>>8&255,Ue[tt++]^=r>>16&255,Ue[tt++]^=r>>24&255,tt>=256&&(tt-=256)}((new Date).getTime())}if(fe.prototype.chunkSize=function(r){return Math.floor(Math.LN2*this.DB/Math.log(r))},fe.prototype.toRadix=function(r){if(null==r&&(r=10),0==this.signum()||r<2||r>36)return"0";var a=this.chunkSize(r),f=Math.pow(r,a),T=cn(f),k=Tt(),te=Tt(),_e="";for(this.divRemTo(T,k,te);k.signum()>0;)_e=(f+te.intValue()).toString(r).substr(1)+_e,k.divRemTo(T,k,te);return te.intValue().toString(r)+_e},fe.prototype.fromRadix=function(r,a){this.fromInt(0),null==a&&(a=10);for(var f=this.chunkSize(a),T=Math.pow(a,f),k=!1,te=0,_e=0,he=0;he<r.length;++he){var we=on(r,he);we<0?"-"==r.charAt(he)&&0==this.signum()&&(k=!0):(_e=a*_e+we,++te>=f&&(this.dMultiply(T),this.dAddOffset(_e,0),te=0,_e=0))}te>0&&(this.dMultiply(Math.pow(a,te)),this.dAddOffset(_e,0)),k&&fe.ZERO.subTo(this,this)},fe.prototype.fromNumber=function(r,a,f){if("number"==typeof a)if(r<2)this.fromInt(1);else for(this.fromNumber(r,f),this.testBit(r-1)||this.bitwiseTo(fe.ONE.shiftLeft(r-1),Xe,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(a);)this.dAddOffset(2,0),this.bitLength()>r&&this.subTo(fe.ONE.shiftLeft(r-1),this);else{var T=new Array,k=7&r;T.length=1+(r>>3),a.nextBytes(T),k>0?T[0]&=(1<<k)-1:T[0]=0,this.fromString(T,256)}},fe.prototype.bitwiseTo=function(r,a,f){var T,k,te=Math.min(r.t,this.t);for(T=0;T<te;++T)f[T]=a(this[T],r[T]);if(r.t<this.t){for(k=r.s&this.DM,T=te;T<this.t;++T)f[T]=a(this[T],k);f.t=this.t}else{for(k=this.s&this.DM,T=te;T<r.t;++T)f[T]=a(k,r[T]);f.t=r.t}f.s=a(this.s,r.s),f.clamp()},fe.prototype.changeBit=function(r,a){var f=fe.ONE.shiftLeft(r);return this.bitwiseTo(f,a,f),f},fe.prototype.addTo=function(r,a){for(var f=0,T=0,k=Math.min(r.t,this.t);f<k;)T+=this[f]+r[f],a[f++]=T&this.DM,T>>=this.DB;if(r.t<this.t){for(T+=r.s;f<this.t;)T+=this[f],a[f++]=T&this.DM,T>>=this.DB;T+=this.s}else{for(T+=this.s;f<r.t;)T+=r[f],a[f++]=T&this.DM,T>>=this.DB;T+=r.s}a.s=T<0?-1:0,T>0?a[f++]=T:T<-1&&(a[f++]=this.DV+T),a.t=f,a.clamp()},fe.prototype.dMultiply=function(r){this[this.t]=this.am(0,r-1,this,0,0,this.t),++this.t,this.clamp()},fe.prototype.dAddOffset=function(r,a){if(0!=r){for(;this.t<=a;)this[this.t++]=0;for(this[a]+=r;this[a]>=this.DV;)this[a]-=this.DV,++a>=this.t&&(this[this.t++]=0),++this[a]}},fe.prototype.multiplyLowerTo=function(r,a,f){var T,k=Math.min(this.t+r.t,a);for(f.s=0,f.t=k;k>0;)f[--k]=0;for(T=f.t-this.t;k<T;++k)f[k+this.t]=this.am(0,r[k],f,k,0,this.t);for(T=Math.min(r.t,a);k<T;++k)this.am(0,r[k],f,k,0,a-k);f.clamp()},fe.prototype.multiplyUpperTo=function(r,a,f){--a;var T=f.t=this.t+r.t-a;for(f.s=0;--T>=0;)f[T]=0;for(T=Math.max(a-this.t,0);T<r.t;++T)f[this.t+T-a]=this.am(a-T,r[T],f,0,0,this.t+T-a);f.clamp(),f.drShiftTo(1,f)},fe.prototype.modInt=function(r){if(r<=0)return 0;var a=this.DV%r,f=this.s<0?r-1:0;if(this.t>0)if(0==a)f=this[0]%r;else for(var T=this.t-1;T>=0;--T)f=(a*f+this[T])%r;return f},fe.prototype.millerRabin=function(r){var a=this.subtract(fe.ONE),f=a.getLowestSetBit();if(f<=0)return!1;var T=a.shiftRight(f);(r=r+1>>1)>Te.length&&(r=Te.length);for(var k=Tt(),te=0;te<r;++te){k.fromInt(Te[Math.floor(Math.random()*Te.length)]);var _e=k.modPow(T,this);if(0!=_e.compareTo(fe.ONE)&&0!=_e.compareTo(a)){for(var he=1;he++<f&&0!=_e.compareTo(a);)if(0==(_e=_e.modPowInt(2,this)).compareTo(fe.ONE))return!1;if(0!=_e.compareTo(a))return!1}}return!0},fe.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
             */
function(){var r=Tt();return this.copyTo(r),r},fe.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},fe.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},fe.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},fe.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},fe.prototype.toByteArray=function(){var r=this.t,a=new Array;a[0]=this.s;var f,T=this.DB-r*this.DB%8,k=0;if(r-- >0)for(T<this.DB&&(f=this[r]>>T)!=(this.s&this.DM)>>T&&(a[k++]=f|this.s<<this.DB-T);r>=0;)T<8?(f=(this[r]&(1<<T)-1)<<8-T,f|=this[--r]>>(T+=this.DB-8)):(f=this[r]>>(T-=8)&255,T<=0&&(T+=this.DB,--r)),128&f&&(f|=-256),0==k&&(128&this.s)!=(128&f)&&++k,(k>0||f!=this.s)&&(a[k++]=f);return a},fe.prototype.equals=function(r){return 0==this.compareTo(r)},fe.prototype.min=function(r){return this.compareTo(r)<0?this:r},fe.prototype.max=function(r){return this.compareTo(r)>0?this:r},fe.prototype.and=function(r){var a=Tt();return this.bitwiseTo(r,Kt,a),a},fe.prototype.or=function(r){var a=Tt();return this.bitwiseTo(r,Xe,a),a},fe.prototype.xor=function(r){var a=Tt();return this.bitwiseTo(r,ht,a),a},fe.prototype.andNot=function(r){var a=Tt();return this.bitwiseTo(r,Ct,a),a},fe.prototype.not=function(){for(var r=Tt(),a=0;a<this.t;++a)r[a]=this.DM&~this[a];return r.t=this.t,r.s=~this.s,r},fe.prototype.shiftLeft=function(r){var a=Tt();return r<0?this.rShiftTo(-r,a):this.lShiftTo(r,a),a},fe.prototype.shiftRight=function(r){var a=Tt();return r<0?this.lShiftTo(-r,a):this.rShiftTo(r,a),a},fe.prototype.getLowestSetBit=function(){for(var r=0;r<this.t;++r)if(0!=this[r])return r*this.DB+Et(this[r]);return this.s<0?this.t*this.DB:-1},fe.prototype.bitCount=function(){for(var r=0,a=this.s&this.DM,f=0;f<this.t;++f)r+=zt(this[f]^a);return r},fe.prototype.testBit=function(r){var a=Math.floor(r/this.DB);return a>=this.t?0!=this.s:0!=(this[a]&1<<r%this.DB)},fe.prototype.setBit=function(r){return this.changeBit(r,Xe)},fe.prototype.clearBit=function(r){return this.changeBit(r,Ct)},fe.prototype.flipBit=function(r){return this.changeBit(r,ht)},fe.prototype.add=function(r){var a=Tt();return this.addTo(r,a),a},fe.prototype.subtract=function(r){var a=Tt();return this.subTo(r,a),a},fe.prototype.multiply=function(r){var a=Tt();return this.multiplyTo(r,a),a},fe.prototype.divide=function(r){var a=Tt();return this.divRemTo(r,a,null),a},fe.prototype.remainder=function(r){var a=Tt();return this.divRemTo(r,null,a),a},fe.prototype.divideAndRemainder=function(r){var a=Tt(),f=Tt();return this.divRemTo(r,a,f),new Array(a,f)},fe.prototype.modPow=function(r,a){var f,T,k=r.bitLength(),te=cn(1);if(k<=0)return te;f=k<18?1:k<48?3:k<144?4:k<768?5:6,T=k<8?new hn(a):a.isEven()?new An(a):new ln(a);var _e=new Array,he=3,we=f-1,Ce=(1<<f)-1;if(_e[1]=T.convert(this),f>1){var Ee=Tt();for(T.sqrTo(_e[1],Ee);he<=Ce;)_e[he]=Tt(),T.mulTo(Ee,_e[he-2],_e[he]),he+=2}var xe,Ve,ot=r.t-1,ut=!0,ft=Tt();for(k=Sn(r[ot])-1;ot>=0;){for(k>=we?xe=r[ot]>>k-we&Ce:(xe=(r[ot]&(1<<k+1)-1)<<we-k,ot>0&&(xe|=r[ot-1]>>this.DB+k-we)),he=f;!(1&xe);)xe>>=1,--he;if((k-=he)<0&&(k+=this.DB,--ot),ut)_e[xe].copyTo(te),ut=!1;else{for(;he>1;)T.sqrTo(te,ft),T.sqrTo(ft,te),he-=2;he>0?T.sqrTo(te,ft):(Ve=te,te=ft,ft=Ve),T.mulTo(ft,_e[xe],te)}for(;ot>=0&&!(r[ot]&1<<k);)T.sqrTo(te,ft),Ve=te,te=ft,ft=Ve,--k<0&&(k=this.DB-1,--ot)}return T.revert(te)},fe.prototype.modInverse=function(r){var a=r.isEven();if(this.isEven()&&a||0==r.signum())return fe.ZERO;for(var f=r.clone(),T=this.clone(),k=cn(1),te=cn(0),_e=cn(0),he=cn(1);0!=f.signum();){for(;f.isEven();)f.rShiftTo(1,f),a?(k.isEven()&&te.isEven()||(k.addTo(this,k),te.subTo(r,te)),k.rShiftTo(1,k)):te.isEven()||te.subTo(r,te),te.rShiftTo(1,te);for(;T.isEven();)T.rShiftTo(1,T),a?(_e.isEven()&&he.isEven()||(_e.addTo(this,_e),he.subTo(r,he)),_e.rShiftTo(1,_e)):he.isEven()||he.subTo(r,he),he.rShiftTo(1,he);f.compareTo(T)>=0?(f.subTo(T,f),a&&k.subTo(_e,k),te.subTo(he,te)):(T.subTo(f,T),a&&_e.subTo(k,_e),he.subTo(te,he))}return 0!=T.compareTo(fe.ONE)?fe.ZERO:he.compareTo(r)>=0?he.subtract(r):he.signum()<0?(he.addTo(r,he),he.signum()<0?he.add(r):he):he},fe.prototype.pow=function(r){return this.exp(r,new jt)},fe.prototype.gcd=function(r){var a=this.s<0?this.negate():this.clone(),f=r.s<0?r.negate():r.clone();if(a.compareTo(f)<0){var T=a;a=f,f=T}var k=a.getLowestSetBit(),te=f.getLowestSetBit();if(te<0)return a;for(k<te&&(te=k),te>0&&(a.rShiftTo(te,a),f.rShiftTo(te,f));a.signum()>0;)(k=a.getLowestSetBit())>0&&a.rShiftTo(k,a),(k=f.getLowestSetBit())>0&&f.rShiftTo(k,f),a.compareTo(f)>=0?(a.subTo(f,a),a.rShiftTo(1,a)):(f.subTo(a,f),f.rShiftTo(1,f));return te>0&&f.lShiftTo(te,f),f},fe.prototype.isProbablePrime=function(r){var a,f=this.abs();if(1==f.t&&f[0]<=Te[Te.length-1]){for(a=0;a<Te.length;++a)if(f[0]==Te[a])return!0;return!1}if(f.isEven())return!1;for(a=1;a<Te.length;){for(var T=Te[a],k=a+1;k<Te.length&&T<U;)T*=Te[k++];for(T=f.modInt(T);a<k;)if(T%Te[a++]==0)return!1}return f.millerRabin(r)},fe.prototype.square=function(){var r=Tt();return this.squareTo(r),r},K.prototype.init=function(r){var a,f,T;for(a=0;a<256;++a)this.S[a]=a;for(f=0,a=0;a<256;++a)T=this.S[a],this.S[a]=this.S[f=f+this.S[a]+r[a%r.length]&255],this.S[f]=T;this.i=0,this.j=0},K.prototype.next=function(){var r;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,r=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=r,this.S[r+this.S[this.i]&255]},null==Ue){var yt;if(Ue=new Array,tt=0,void 0!==x&&(void 0!==x.crypto||void 0!==x.msCrypto)){var Qe=x.crypto||x.msCrypto;if(Qe.getRandomValues){var St=new Uint8Array(32);for(Qe.getRandomValues(St),yt=0;yt<32;++yt)Ue[tt++]=St[yt]}else if("Netscape"==N.appName&&N.appVersion<"5"){var $t=x.crypto.random(32);for(yt=0;yt<$t.length;++yt)Ue[tt++]=255&$t.charCodeAt(yt)}}for(;tt<256;)yt=Math.floor(65536*Math.random()),Ue[tt++]=yt>>>8,Ue[tt++]=255&yt;tt=0,qe()}function an(){if(null==Re){for(qe(),(Re=new K).init(Ue),tt=0;tt<Ue.length;++tt)Ue[tt]=0;tt=0}return Re.next()}function On(){}function Hn(i,r){return new fe(i,r)}function zn(i,r,a){for(var f="",T=0;f.length<r;)f+=a(String.fromCharCode.apply(String,i.concat([(4278190080&T)>>24,(16711680&T)>>16,(65280&T)>>8,255&T]))),T+=1;return f}function sn(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function jn(i,r){this.x=r,this.q=i}function Pn(i,r,a,f){this.curve=i,this.x=r,this.y=a,this.z=f??fe.ONE,this.zinv=null}function mi(i,r,a){this.q=i,this.a=this.fromBigInteger(r),this.b=this.fromBigInteger(a),this.infinity=new Pn(this,null,null)}On.prototype.nextBytes=function(r){var a;for(a=0;a<r.length;++a)r[a]=an()},sn.prototype.doPublic=function(r){return r.modPowInt(this.e,this.n)},sn.prototype.setPublic=function(r,a){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof r)this.n=r,this.e=a;else{if(!(null!=r&&null!=a&&r.length>0&&a.length>0))throw"Invalid RSA public key";this.n=Hn(r,16),this.e=parseInt(a,16)}},sn.prototype.encrypt=function(r){var a=function(te,_e){if(_e<te.length+11)throw"Message too long for RSA";for(var he=new Array,we=te.length-1;we>=0&&_e>0;){var Ce=te.charCodeAt(we--);Ce<128?he[--_e]=Ce:Ce>127&&Ce<2048?(he[--_e]=63&Ce|128,he[--_e]=Ce>>6|192):(he[--_e]=63&Ce|128,he[--_e]=Ce>>6&63|128,he[--_e]=Ce>>12|224)}he[--_e]=0;for(var Ee=new On,xe=new Array;_e>2;){for(xe[0]=0;0==xe[0];)Ee.nextBytes(xe);he[--_e]=xe[0]}return he[--_e]=2,he[--_e]=0,new fe(he)}(r,this.n.bitLength()+7>>3);if(null==a)return null;var f=this.doPublic(a);if(null==f)return null;var T=f.toString(16);return 1&T.length?"0"+T:T},sn.prototype.encryptOAEP=function(r,a,f){var T=function(he,we,Ce,Ee){var xe=ce.crypto.MessageDigest,Ve=ce.crypto.Util,ot=null;if(Ce||(Ce="sha1"),"string"==typeof Ce&&(ot=xe.getCanonicalAlgName(Ce),Ee=xe.getHashLength(ot),Ce=function(Be){return lt(Ve.hashHex(Bt(Be),ot))}),he.length+2*Ee+2>we)throw"Message too long for RSA";var ut,ft="";for(ut=0;ut<we-he.length-2*Ee-2;ut+=1)ft+="\0";var oe=Ce("")+ft+"\x01"+he,Ie=new Array(Ee);(new On).nextBytes(Ie);var Le=zn(Ie,oe.length,Ce),je=[];for(ut=0;ut<oe.length;ut+=1)je[ut]=oe.charCodeAt(ut)^Le.charCodeAt(ut);var Q=zn(je,Ie.length,Ce),Fe=[0];for(ut=0;ut<Ie.length;ut+=1)Fe[ut+1]=Ie[ut]^Q.charCodeAt(ut);return new fe(Fe.concat(je))}(r,this.n.bitLength()+7>>3,a,f);if(null==T)return null;var k=this.doPublic(T);if(null==k)return null;var te=k.toString(16);return 1&te.length?"0"+te:te},sn.prototype.type="RSA",jn.prototype.equals=function(r){return r==this||this.q.equals(r.q)&&this.x.equals(r.x)},jn.prototype.toBigInteger=function(){return this.x},jn.prototype.negate=function(){return new jn(this.q,this.x.negate().mod(this.q))},jn.prototype.add=function(r){return new jn(this.q,this.x.add(r.toBigInteger()).mod(this.q))},jn.prototype.subtract=function(r){return new jn(this.q,this.x.subtract(r.toBigInteger()).mod(this.q))},jn.prototype.multiply=function(r){return new jn(this.q,this.x.multiply(r.toBigInteger()).mod(this.q))},jn.prototype.square=function(){return new jn(this.q,this.x.square().mod(this.q))},jn.prototype.divide=function(r){return new jn(this.q,this.x.multiply(r.toBigInteger().modInverse(this.q)).mod(this.q))},Pn.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Pn.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},Pn.prototype.equals=function(r){return r==this||(this.isInfinity()?r.isInfinity():r.isInfinity()?this.isInfinity():!!r.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(r.z)).mod(this.curve.q).equals(fe.ZERO)&&r.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(r.z)).mod(this.curve.q).equals(fe.ZERO))},Pn.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(fe.ZERO)&&!this.y.toBigInteger().equals(fe.ZERO)},Pn.prototype.negate=function(){return new Pn(this.curve,this.x,this.y.negate(),this.z)},Pn.prototype.add=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;var a=r.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(r.z)).mod(this.curve.q),f=r.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(r.z)).mod(this.curve.q);if(fe.ZERO.equals(f))return fe.ZERO.equals(a)?this.twice():this.curve.getInfinity();var T=new fe("3"),k=this.x.toBigInteger(),te=this.y.toBigInteger(),_e=(r.x.toBigInteger(),r.y.toBigInteger(),f.square()),he=_e.multiply(f),we=k.multiply(_e),Ce=a.square().multiply(this.z),Ee=Ce.subtract(we.shiftLeft(1)).multiply(r.z).subtract(he).multiply(f).mod(this.curve.q),xe=we.multiply(T).multiply(a).subtract(te.multiply(he)).subtract(Ce.multiply(a)).multiply(r.z).add(a.multiply(he)).mod(this.curve.q),Ve=he.multiply(this.z).multiply(r.z).mod(this.curve.q);return new Pn(this.curve,this.curve.fromBigInteger(Ee),this.curve.fromBigInteger(xe),Ve)},Pn.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var r=new fe("3"),a=this.x.toBigInteger(),f=this.y.toBigInteger(),T=f.multiply(this.z),k=T.multiply(f).mod(this.curve.q),te=this.curve.a.toBigInteger(),_e=a.square().multiply(r);fe.ZERO.equals(te)||(_e=_e.add(this.z.square().multiply(te)));var he=(_e=_e.mod(this.curve.q)).square().subtract(a.shiftLeft(3).multiply(k)).shiftLeft(1).multiply(T).mod(this.curve.q),we=_e.multiply(r).multiply(a).subtract(k.shiftLeft(1)).shiftLeft(2).multiply(k).subtract(_e.square().multiply(_e)).mod(this.curve.q),Ce=T.square().multiply(T).shiftLeft(3).mod(this.curve.q);return new Pn(this.curve,this.curve.fromBigInteger(he),this.curve.fromBigInteger(we),Ce)},Pn.prototype.multiply=function(r){if(this.isInfinity())return this;if(0==r.signum())return this.curve.getInfinity();var a,f=r,T=f.multiply(new fe("3")),k=this.negate(),te=this,_e=this.curve.q.subtract(r),he=_e.multiply(new fe("3")),we=new Pn(this.curve,this.x,this.y),Ce=we.negate();for(a=T.bitLength()-2;a>0;--a){te=te.twice();var Ee=T.testBit(a);Ee!=f.testBit(a)&&(te=te.add(Ee?this:k))}for(a=he.bitLength()-2;a>0;--a){we=we.twice();var xe=he.testBit(a);xe!=_e.testBit(a)&&(we=we.add(xe?we:Ce))}return te},Pn.prototype.multiplyTwo=function(r,a,f){var T;T=r.bitLength()>f.bitLength()?r.bitLength()-1:f.bitLength()-1;for(var k=this.curve.getInfinity(),te=this.add(a);T>=0;)k=k.twice(),r.testBit(T)?k=f.testBit(T)?k.add(te):k.add(this):f.testBit(T)&&(k=k.add(a)),--T;return k},mi.prototype.getQ=function(){return this.q},mi.prototype.getA=function(){return this.a},mi.prototype.getB=function(){return this.b},mi.prototype.equals=function(r){return r==this||this.q.equals(r.q)&&this.a.equals(r.a)&&this.b.equals(r.b)},mi.prototype.getInfinity=function(){return this.infinity},mi.prototype.fromBigInteger=function(r){return new jn(this.q,r)},mi.prototype.decodePointHex=function(r){switch(parseInt(r.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var a=(r.length-2)/2,f=r.substr(2,a),T=r.substr(a+2,a);return new Pn(this,this.fromBigInteger(new fe(f,16)),this.fromBigInteger(new fe(T,16)))}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
             */
jn.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Pn.prototype.getEncoded=function(i){var r=function(te,_e){var he=te.toByteArrayUnsigned();if(_e<he.length)he=he.slice(he.length-_e);else for(;_e>he.length;)he.unshift(0);return he},a=this.getX().toBigInteger(),f=this.getY().toBigInteger(),T=r(a,32);return i?f.isEven()?T.unshift(2):T.unshift(3):(T.unshift(4),T=T.concat(r(f,32))),T},Pn.decodeFrom=function(i,r){var a=r.length-1,f=r.slice(1,1+a/2),T=r.slice(1+a/2,1+a);f.unshift(0),T.unshift(0);var k=new fe(f),te=new fe(T);return new Pn(i,i.fromBigInteger(k),i.fromBigInteger(te))},Pn.decodeFromHex=function(i,r){r.substr(0,2);var a=r.length-2,f=r.substr(2,a/2),T=r.substr(2+a/2,a/2),k=new fe(f,16),te=new fe(T,16);return new Pn(i,i.fromBigInteger(k),i.fromBigInteger(te))},Pn.prototype.add2D=function(i){if(this.isInfinity())return i;if(i.isInfinity())return this;if(this.x.equals(i.x))return this.y.equals(i.y)?this.twice():this.curve.getInfinity();var r=i.x.subtract(this.x),a=i.y.subtract(this.y).divide(r),f=a.square().subtract(this.x).subtract(i.x),T=a.multiply(this.x.subtract(f)).subtract(this.y);return new Pn(this.curve,f,T)},Pn.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var i=this.curve.fromBigInteger(fe.valueOf(2)),r=this.curve.fromBigInteger(fe.valueOf(3)),a=this.x.square().multiply(r).add(this.curve.a).divide(this.y.multiply(i)),f=a.square().subtract(this.x.multiply(i)),T=a.multiply(this.x.subtract(f)).subtract(this.y);return new Pn(this.curve,f,T)},Pn.prototype.multiply2D=function(i){if(this.isInfinity())return this;if(0==i.signum())return this.curve.getInfinity();var r,a=i,f=a.multiply(new fe("3")),T=this.negate(),k=this;for(r=f.bitLength()-2;r>0;--r){k=k.twice();var te=f.testBit(r);te!=a.testBit(r)&&(k=k.add2D(te?this:T))}return k},Pn.prototype.isOnCurve=function(){var i=this.getX().toBigInteger(),r=this.getY().toBigInteger(),a=this.curve.getA().toBigInteger(),f=this.curve.getB().toBigInteger(),T=this.curve.getQ(),k=r.multiply(r).mod(T),te=i.multiply(i).multiply(i).add(a.multiply(i)).add(f).mod(T);return k.equals(te)},Pn.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Pn.prototype.validate=function(){var i=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var r=this.getX().toBigInteger(),a=this.getY().toBigInteger();if(r.compareTo(fe.ONE)<0||r.compareTo(i.subtract(fe.ONE))>0)throw new Error("x coordinate out of bounds");if(a.compareTo(fe.ONE)<0||a.compareTo(i.subtract(fe.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(i).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ri=function(){var i=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),r=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),a={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function f(te,_e,he){return _e?a[_e]:String.fromCharCode(parseInt(he,16))}var T=new String(""),k=Object.hasOwnProperty;return function(te,_e){var he,we,Ce=te.match(i),Ee=Ce[0],xe=!1;"{"===Ee?he={}:"["===Ee?he=[]:(he=[],xe=!0);for(var Ve=[he],ot=1-xe,ut=Ce.length;ot<ut;++ot){var ft;switch((Ee=Ce[ot]).charCodeAt(0)){default:(ft=Ve[0])[we||ft.length]=+Ee,we=void 0;break;case 34:if(-1!==(Ee=Ee.substring(1,Ee.length-1)).indexOf("\\")&&(Ee=Ee.replace(r,f)),ft=Ve[0],!we){if(!(ft instanceof Array)){we=Ee||T;break}we=ft.length}ft[we]=Ee,we=void 0;break;case 91:Ve.unshift((ft=Ve[0])[we||ft.length]=[]),we=void 0;break;case 93:case 125:Ve.shift();break;case 102:(ft=Ve[0])[we||ft.length]=!1,we=void 0;break;case 110:(ft=Ve[0])[we||ft.length]=null,we=void 0;break;case 116:(ft=Ve[0])[we||ft.length]=!0,we=void 0;break;case 123:Ve.unshift((ft=Ve[0])[we||ft.length]={}),we=void 0}}if(xe){if(1!==Ve.length)throw new Error;he=he[0]}else if(Ve.length)throw new Error;return _e&&(he=function oe(Ie,Le){var je=Ie[Le];if(je&&"object"===(void 0===je?"undefined":u(je))){var Q=null;for(var Fe in je)if(k.call(je,Fe)&&je!==Ie){var ze=oe(je,Fe);void 0!==ze?je[Fe]=ze:(Q||(Q=[]),Q.push(Fe))}if(Q)for(var Be=Q.length;--Be>=0;)delete je[Q[Be]]}return _e.call(Ie,Le,je)}({"":he},"")),he}}();void 0!==ce&&ce||(l.KJUR=ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),ce.asn1.ASN1Util=new function(){this.integerToByteHex=function(i){var r=i.toString(16);return r.length%2==1&&(r="0"+r),r},this.bigIntToMinTwosComplementsHex=function(i){var r=i.toString(16);if("-"!=r.substr(0,1))r.length%2==1?r="0"+r:r.match(/^[0-7]/)||(r="00"+r);else{var a=r.substr(1).length;a%2==1?a+=1:r.match(/^[0-7]/)||(a+=2);for(var f="",T=0;T<a;T++)f+="f";r=new fe(f,16).xor(i).add(fe.ONE).toString(16).replace(/^-/,"")}return r},this.getPEMStringFromHex=function(i,r){return Ke(i,r)},this.newObject=function(i){var r=ce.asn1,a=r.ASN1Object,f=r.DERBoolean,T=r.DERInteger,k=r.DERBitString,te=r.DEROctetString,_e=r.DERNull,he=r.DERObjectIdentifier,we=r.DEREnumerated,Ce=r.DERUTF8String,Ee=r.DERNumericString,xe=r.DERPrintableString,Ve=r.DERTeletexString,ot=r.DERIA5String,ut=r.DERUTCTime,ft=r.DERGeneralizedTime,oe=r.DERVisibleString,Ie=r.DERBMPString,Le=r.DERSequence,je=r.DERSet,Q=r.DERTaggedObject,Fe=r.ASN1Util.newObject;if(i instanceof r.ASN1Object)return i;var ze=Object.keys(i);if(1!=ze.length)throw new Error("key of param shall be only one.");var Be=ze[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Be+":"))throw new Error("undefined key: "+Be);if("bool"==Be)return new f(i[Be]);if("int"==Be)return new T(i[Be]);if("bitstr"==Be)return new k(i[Be]);if("octstr"==Be)return new te(i[Be]);if("null"==Be)return new _e(i[Be]);if("oid"==Be)return new he(i[Be]);if("enum"==Be)return new we(i[Be]);if("utf8str"==Be)return new Ce(i[Be]);if("numstr"==Be)return new Ee(i[Be]);if("prnstr"==Be)return new xe(i[Be]);if("telstr"==Be)return new Ve(i[Be]);if("ia5str"==Be)return new ot(i[Be]);if("utctime"==Be)return new ut(i[Be]);if("gentime"==Be)return new ft(i[Be]);if("visstr"==Be)return new oe(i[Be]);if("bmpstr"==Be)return new Ie(i[Be]);if("asn1"==Be)return new a(i[Be]);if("seq"==Be){for(var Rt=i[Be],_t=[],Jt=0;Jt<Rt.length;Jt++){var Mn=Fe(Rt[Jt]);_t.push(Mn)}return new Le({array:_t})}if("set"==Be){for(Rt=i[Be],_t=[],Jt=0;Jt<Rt.length;Jt++)Mn=Fe(Rt[Jt]),_t.push(Mn);return new je({array:_t})}if("tag"==Be){var Ln=i[Be];if("[object Array]"===Object.prototype.toString.call(Ln)&&3==Ln.length){var Vn=Fe(Ln[2]);return new Q({tag:Ln[0],explicit:Ln[1],obj:Vn})}return new Q(Ln)}},this.jsonToASN1HEX=function(i){return this.newObject(i).getEncodedHex()}},ce.asn1.ASN1Util.oidHexToInt=function(i){for(var r="",a=parseInt(i.substr(0,2),16),f=(r=Math.floor(a/40)+"."+a%40,""),T=2;T<i.length;T+=2){var k=("00000000"+parseInt(i.substr(T,2),16).toString(2)).slice(-8);f+=k.substr(1,7),"0"==k.substr(0,1)&&(r=r+"."+new fe(f,2).toString(10),f="")}return r},ce.asn1.ASN1Util.oidIntToHex=function(i){var r=function(he){var we=he.toString(16);return 1==we.length&&(we="0"+we),we},a=function(he){var we="",Ce=new fe(he,10).toString(2),Ee=7-Ce.length%7;7==Ee&&(Ee=0);for(var xe="",Ve=0;Ve<Ee;Ve++)xe+="0";for(Ce=xe+Ce,Ve=0;Ve<Ce.length-1;Ve+=7){var ot=Ce.substr(Ve,7);Ve!=Ce.length-7&&(ot="1"+ot),we+=r(parseInt(ot,2))}return we};if(!i.match(/^[0-9.]+$/))throw"malformed oid string: "+i;var f="",T=i.split("."),k=40*parseInt(T[0])+parseInt(T[1]);f+=r(k),T.splice(0,2);for(var te=0;te<T.length;te++)f+=a(T[te]);return f},ce.asn1.ASN1Object=function(i){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var r=this.hV.length/2,a=r.toString(16);if(a.length%2==1&&(a="0"+a),r<128)return a;var f=a.length/2;if(f>15)throw"ASN.1 length too long to represent by 8x: n = "+r.toString(16);return(128+f).toString(16)+a},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(r){this.params=r},null!=i&&null!=i.tlv&&(this.hTLV=i.tlv,this.isModified=!1)},ce.asn1.DERAbstractString=function(i){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(r){this.hTLV=null,this.isModified=!0,this.s=r,this.hV=ct(this.s).toLowerCase()},this.setStringHex=function(r){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.getFreshValueHex=function(){return this.hV},void 0!==i&&("string"==typeof i?this.setString(i):void 0!==i.str?this.setString(i.str):void 0!==i.hex&&this.setStringHex(i.hex))},h.lang.extend(ce.asn1.DERAbstractString,ce.asn1.ASN1Object),ce.asn1.DERAbstractTime=function(i){ce.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(r){var a=r.getTime()+6e4*r.getTimezoneOffset();return new Date(a)},this.formatDate=function(r,a,f){var T=this.zeroPadding,k=this.localDateToUTC(r),te=String(k.getFullYear());"utc"==a&&(te=te.substr(2,2));var _e=te+T(String(k.getMonth()+1),2)+T(String(k.getDate()),2)+T(String(k.getHours()),2)+T(String(k.getMinutes()),2)+T(String(k.getSeconds()),2);if(!0===f){var he=k.getMilliseconds();if(0!=he){var we=T(String(he),3);_e=_e+"."+(we=we.replace(/[0]+$/,""))}}return _e+"Z"},this.zeroPadding=function(r,a){return r.length>=a?r:new Array(a-r.length+1).join("0")+r},this.getString=function(){return this.s},this.setString=function(r){this.hTLV=null,this.isModified=!0,this.s=r,this.hV=Ut(r)},this.setByDateValue=function(r,a,f,T,k,te){var _e=new Date(Date.UTC(r,a-1,f,T,k,te,0));this.setByDate(_e)},this.getFreshValueHex=function(){return this.hV}},h.lang.extend(ce.asn1.DERAbstractTime,ce.asn1.ASN1Object),ce.asn1.DERAbstractStructured=function(i){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(r){this.hTLV=null,this.isModified=!0,this.asn1Array=r},this.appendASN1Object=function(r){this.hTLV=null,this.isModified=!0,this.asn1Array.push(r)},this.asn1Array=new Array,void 0!==i&&void 0!==i.array&&(this.asn1Array=i.array)},h.lang.extend(ce.asn1.DERAbstractStructured,ce.asn1.ASN1Object),ce.asn1.DERBoolean=function(i){ce.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==i?"010100":"0101ff"},h.lang.extend(ce.asn1.DERBoolean,ce.asn1.ASN1Object),ce.asn1.DERInteger=function(i){ce.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(r){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(r)},this.setByInteger=function(r){var a=new fe(String(r),10);this.setByBigInteger(a)},this.setValueHex=function(r){this.hV=r},this.getFreshValueHex=function(){return this.hV},void 0!==i&&(void 0!==i.bigint?this.setByBigInteger(i.bigint):void 0!==i.int?this.setByInteger(i.int):"number"==typeof i?this.setByInteger(i):void 0!==i.hex&&this.setValueHex(i.hex))},h.lang.extend(ce.asn1.DERInteger,ce.asn1.ASN1Object),ce.asn1.DERBitString=function(i){if(void 0!==i&&void 0!==i.obj){var r=ce.asn1.ASN1Util.newObject(i.obj);i.hex="00"+r.getEncodedHex()}ce.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(a){this.hTLV=null,this.isModified=!0,this.hV=a},this.setUnusedBitsAndHexValue=function(a,f){if(a<0||7<a)throw"unused bits shall be from 0 to 7: u = "+a;var T="0"+a;this.hTLV=null,this.isModified=!0,this.hV=T+f},this.setByBinaryString=function(a){var f=8-(a=a.replace(/0+$/,"")).length%8;8==f&&(f=0);for(var T=0;T<=f;T++)a+="0";var k="";for(T=0;T<a.length-1;T+=8){var te=a.substr(T,8),_e=parseInt(te,2).toString(16);1==_e.length&&(_e="0"+_e),k+=_e}this.hTLV=null,this.isModified=!0,this.hV="0"+f+k},this.setByBooleanArray=function(a){for(var f="",T=0;T<a.length;T++)f+=1==a[T]?"1":"0";this.setByBinaryString(f)},this.newFalseArray=function(a){for(var f=new Array(a),T=0;T<a;T++)f[T]=!1;return f},this.getFreshValueHex=function(){return this.hV},void 0!==i&&("string"==typeof i&&i.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(i):void 0!==i.hex?this.setHexValueIncludingUnusedBits(i.hex):void 0!==i.bin?this.setByBinaryString(i.bin):void 0!==i.array&&this.setByBooleanArray(i.array))},h.lang.extend(ce.asn1.DERBitString,ce.asn1.ASN1Object),ce.asn1.DEROctetString=function(i){if(void 0!==i&&void 0!==i.obj){var r=ce.asn1.ASN1Util.newObject(i.obj);i.hex=r.getEncodedHex()}ce.asn1.DEROctetString.superclass.constructor.call(this,i),this.hT="04"},h.lang.extend(ce.asn1.DEROctetString,ce.asn1.DERAbstractString),ce.asn1.DERNull=function(){ce.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},h.lang.extend(ce.asn1.DERNull,ce.asn1.ASN1Object),ce.asn1.DERObjectIdentifier=function(i){ce.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(r){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueOidString=function(r){var a=function(T){var k=function(xe){var Ve=xe.toString(16);return 1==Ve.length&&(Ve="0"+Ve),Ve},te=function(xe){var Ve="",ot=parseInt(xe,10).toString(2),ut=7-ot.length%7;7==ut&&(ut=0);for(var ft="",oe=0;oe<ut;oe++)ft+="0";for(ot=ft+ot,oe=0;oe<ot.length-1;oe+=7){var Ie=ot.substr(oe,7);oe!=ot.length-7&&(Ie="1"+Ie),Ve+=k(parseInt(Ie,2))}return Ve};try{if(!T.match(/^[0-9.]+$/))return null;var _e="",he=T.split("."),we=40*parseInt(he[0],10)+parseInt(he[1],10);_e+=k(we),he.splice(0,2);for(var Ce=0;Ce<he.length;Ce++)_e+=te(he[Ce]);return _e}catch{return null}}(r);if(null==a)throw new Error("malformed oid string: "+r);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=a},this.setValueName=function(r){var a=ce.asn1.x509.OID.name2oid(r);if(""===a)throw new Error("DERObjectIdentifier oidName undefined: "+r);this.setValueOidString(a)},this.setValueNameOrOid=function(r){r.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(r):this.setValueName(r)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(r){"string"==typeof r?this.setValueNameOrOid(r):void 0!==r.oid?this.setValueNameOrOid(r.oid):void 0!==r.name?this.setValueNameOrOid(r.name):void 0!==r.hex&&this.setValueHex(r.hex)},void 0!==i&&this.setByParam(i)},h.lang.extend(ce.asn1.DERObjectIdentifier,ce.asn1.ASN1Object),ce.asn1.DEREnumerated=function(i){ce.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(r){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(r)},this.setByInteger=function(r){var a=new fe(String(r),10);this.setByBigInteger(a)},this.setValueHex=function(r){this.hV=r},this.getFreshValueHex=function(){return this.hV},void 0!==i&&(void 0!==i.int?this.setByInteger(i.int):"number"==typeof i?this.setByInteger(i):void 0!==i.hex&&this.setValueHex(i.hex))},h.lang.extend(ce.asn1.DEREnumerated,ce.asn1.ASN1Object),ce.asn1.DERUTF8String=function(i){ce.asn1.DERUTF8String.superclass.constructor.call(this,i),this.hT="0c"},h.lang.extend(ce.asn1.DERUTF8String,ce.asn1.DERAbstractString),ce.asn1.DERNumericString=function(i){ce.asn1.DERNumericString.superclass.constructor.call(this,i),this.hT="12"},h.lang.extend(ce.asn1.DERNumericString,ce.asn1.DERAbstractString),ce.asn1.DERPrintableString=function(i){ce.asn1.DERPrintableString.superclass.constructor.call(this,i),this.hT="13"},h.lang.extend(ce.asn1.DERPrintableString,ce.asn1.DERAbstractString),ce.asn1.DERTeletexString=function(i){ce.asn1.DERTeletexString.superclass.constructor.call(this,i),this.hT="14"},h.lang.extend(ce.asn1.DERTeletexString,ce.asn1.DERAbstractString),ce.asn1.DERIA5String=function(i){ce.asn1.DERIA5String.superclass.constructor.call(this,i),this.hT="16"},h.lang.extend(ce.asn1.DERIA5String,ce.asn1.DERAbstractString),ce.asn1.DERVisibleString=function(i){ce.asn1.DERIA5String.superclass.constructor.call(this,i),this.hT="1a"},h.lang.extend(ce.asn1.DERVisibleString,ce.asn1.DERAbstractString),ce.asn1.DERBMPString=function(i){ce.asn1.DERBMPString.superclass.constructor.call(this,i),this.hT="1e"},h.lang.extend(ce.asn1.DERBMPString,ce.asn1.DERAbstractString),ce.asn1.DERUTCTime=function(i){ce.asn1.DERUTCTime.superclass.constructor.call(this,i),this.hT="17",this.setByDate=function(r){this.hTLV=null,this.isModified=!0,this.date=r,this.s=this.formatDate(this.date,"utc"),this.hV=Ut(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Ut(this.s)),this.hV},void 0!==i&&(void 0!==i.str?this.setString(i.str):"string"==typeof i&&i.match(/^[0-9]{12}Z$/)?this.setString(i):void 0!==i.hex?this.setStringHex(i.hex):void 0!==i.date&&this.setByDate(i.date))},h.lang.extend(ce.asn1.DERUTCTime,ce.asn1.DERAbstractTime),ce.asn1.DERGeneralizedTime=function(i){ce.asn1.DERGeneralizedTime.superclass.constructor.call(this,i),this.hT="18",this.withMillis=!1,this.setByDate=function(r){this.hTLV=null,this.isModified=!0,this.date=r,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ut(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ut(this.s)),this.hV},void 0!==i&&(void 0!==i.str?this.setString(i.str):"string"==typeof i&&i.match(/^[0-9]{14}Z$/)?this.setString(i):void 0!==i.hex?this.setStringHex(i.hex):void 0!==i.date&&this.setByDate(i.date),!0===i.millis&&(this.withMillis=!0))},h.lang.extend(ce.asn1.DERGeneralizedTime,ce.asn1.DERAbstractTime),ce.asn1.DERSequence=function(i){ce.asn1.DERSequence.superclass.constructor.call(this,i),this.hT="30",this.getFreshValueHex=function(){for(var r="",a=0;a<this.asn1Array.length;a++)r+=this.asn1Array[a].getEncodedHex();return this.hV=r,this.hV}},h.lang.extend(ce.asn1.DERSequence,ce.asn1.DERAbstractStructured),ce.asn1.DERSet=function(i){ce.asn1.DERSet.superclass.constructor.call(this,i),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var r=new Array,a=0;a<this.asn1Array.length;a++)r.push(this.asn1Array[a].getEncodedHex());return 1==this.sortFlag&&r.sort(),this.hV=r.join(""),this.hV},void 0!==i&&void 0!==i.sortflag&&0==i.sortflag&&(this.sortFlag=!1)},h.lang.extend(ce.asn1.DERSet,ce.asn1.DERAbstractStructured),ce.asn1.DERTaggedObject=function(i){ce.asn1.DERTaggedObject.superclass.constructor.call(this);var r=ce.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(a,f,T){this.hT=f,this.isExplicit=a,this.asn1Object=T,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=T.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,f),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(a){null!=a.tag&&(this.hT=a.tag),null!=a.explicit&&(this.isExplicit=a.explicit),null!=a.tage&&(this.hT=a.tage,this.isExplicit=!0),null!=a.tagi&&(this.hT=a.tagi,this.isExplicit=!1),null!=a.obj&&(a.obj instanceof r.ASN1Object?(this.asn1Object=a.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==u(a.obj)&&(this.asn1Object=r.ASN1Util.newObject(a.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=i&&this.setByParam(i)},h.lang.extend(ce.asn1.DERTaggedObject,ce.asn1.ASN1Object);var ce,Di,Ii,Qt=new function(){};function Cr(i){for(var r=new Array,a=0;a<i.length;a++)r[a]=i.charCodeAt(a);return r}function Qi(i){for(var r="",a=0;a<i.length;a++)r+=String.fromCharCode(i[a]);return r}function Xi(i){for(var r="",a=0;a<i.length;a++){var f=i[a].toString(16);1==f.length&&(f="0"+f),r+=f}return r}function Ut(i){return Xi(Cr(i))}function It(i){return(i=(i=i.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function J(i){return i.length%4==2?i+="==":i.length%4==3&&(i+="="),(i=i.replace(/-/g,"+")).replace(/_/g,"/")}function pe(i){return i.length%2==1&&(i="0"+i),It(Ae(i))}function et(i){return Me(J(i))}function ct(i){return gt(Si(i))}function at(i){return decodeURIComponent(kt(i))}function lt(i){for(var r="",a=0;a<i.length-1;a+=2)r+=String.fromCharCode(parseInt(i.substr(a,2),16));return r}function Bt(i){for(var r="",a=0;a<i.length;a++)r+=("0"+i.charCodeAt(a).toString(16)).slice(-2);return r}function fn(i){return Ae(i)}function yn(i){return fn(i).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Yt(i){return Me(i.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Ke(i,r){return"-----BEGIN "+r+"-----\r\n"+yn(i)+"\r\n-----END "+r+"-----\r\n"}function Lt(i,r){if(-1==i.indexOf("-----BEGIN "))throw"can't find PEM header: "+r;return Yt(i=void 0!==r?(i=i.replace(new RegExp("^[^]*-----BEGIN "+r+"-----"),"")).replace(new RegExp("-----END "+r+"-----[^]*$"),""):(i=i.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function me(i){var r,a,f,T,k,te,_e,he,we,Ce,Ee;if(Ee=i.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return he=Ee[1],r=parseInt(he),2===he.length&&(50<=r&&r<100?r=1900+r:0<=r&&r<50&&(r=2e3+r)),a=parseInt(Ee[2])-1,f=parseInt(Ee[3]),T=parseInt(Ee[4]),k=parseInt(Ee[5]),te=parseInt(Ee[6]),_e=0,""!==(we=Ee[7])&&(Ce=(we.substr(1)+"00").substr(0,3),_e=parseInt(Ce)),Date.UTC(r,a,f,T,k,te,_e);throw"unsupported zulu format: "+i}function Ye(i){return~~(me(i)/1e3)}function gt(i){return i.replace(/%/g,"")}function kt(i){return i.replace(/(..)/g,"%$1")}function Xt(i){var r="malformed IPv6 address";if(!i.match(/^[0-9A-Fa-f:]+$/))throw r;var a=(i=i.toLowerCase()).split(":").length-1;if(a<2)throw r;var f=":".repeat(7-a+2),T=(i=i.replace("::",f)).split(":");if(8!=T.length)throw r;for(var k=0;k<8;k++)T[k]=("0000"+T[k]).slice(-4);return T.join("")}function Rn(i){if(!i.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var r=(i=i.toLowerCase()).match(/.{1,4}/g),a=0;a<8;a++)r[a]=r[a].replace(/^0+/,""),""==r[a]&&(r[a]="0");var f=(i=":"+r.join(":")+":").match(/:(0:){2,}/g);if(null===f)return i.slice(1,-1);var T="";for(a=0;a<f.length;a++)f[a].length>T.length&&(T=f[a]);return(i=i.replace(T,"::")).slice(1,-1)}function ci(i){var r="malformed hex value";if(!i.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw r;if(8!=i.length)return 32==i.length?Rn(i):i;try{return parseInt(i.substr(0,2),16)+"."+parseInt(i.substr(2,2),16)+"."+parseInt(i.substr(4,2),16)+"."+parseInt(i.substr(6,2),16)}catch{throw r}}function Si(i){for(var r=encodeURIComponent(i),a="",f=0;f<r.length;f++)"%"==r[f]?(a+=r.substr(f,3),f+=2):a=a+"%"+Ut(r[f]);return a}function er(i){return!(i.length%2!=0||!i.match(/^[0-9a-f]+$/)&&!i.match(/^[0-9A-F]+$/))}function ir(i){return i.length%2==1?"0"+i:i.substr(0,1)>"7"?"00"+i:i}Qt.getLblen=function(i,r){if("8"!=i.substr(r+2,1))return 1;var a=parseInt(i.substr(r+3,1));return 0==a?-1:0<a&&a<10?a+1:-2},Qt.getL=function(i,r){var a=Qt.getLblen(i,r);return a<1?"":i.substr(r+2,2*a)},Qt.getVblen=function(i,r){var a;return""==(a=Qt.getL(i,r))?-1:("8"===a.substr(0,1)?new fe(a.substr(2),16):new fe(a,16)).intValue()},Qt.getVidx=function(i,r){var a=Qt.getLblen(i,r);return a<0?a:r+2*(a+1)},Qt.getV=function(i,r){var a=Qt.getVidx(i,r),f=Qt.getVblen(i,r);return i.substr(a,2*f)},Qt.getTLV=function(i,r){return i.substr(r,2)+Qt.getL(i,r)+Qt.getV(i,r)},Qt.getTLVblen=function(i,r){return 2+2*Qt.getLblen(i,r)+2*Qt.getVblen(i,r)},Qt.getNextSiblingIdx=function(i,r){return Qt.getVidx(i,r)+2*Qt.getVblen(i,r)},Qt.getChildIdx=function(i,r){var a,f,T,k=Qt,te=[];a=k.getVidx(i,r),f=2*k.getVblen(i,r),"03"==i.substr(r,2)&&(a+=2,f-=2),T=0;for(var _e=a;T<=f;){var he=k.getTLVblen(i,_e);if((T+=he)<=f&&te.push(_e),_e+=he,T>=f)break}return te},Qt.getNthChildIdx=function(i,r,a){return Qt.getChildIdx(i,r)[a]},Qt.getIdxbyList=function(i,r,a,f){var T,k,te=Qt;return 0==a.length?void 0!==f&&i.substr(r,2)!==f?-1:r:(T=a.shift())>=(k=te.getChildIdx(i,r)).length?-1:te.getIdxbyList(i,k[T],a,f)},Qt.getIdxbyListEx=function(i,r,a,f){var T,k,te=Qt;if(0==a.length)return void 0!==f&&i.substr(r,2)!==f?-1:r;T=a.shift(),k=te.getChildIdx(i,r);for(var _e=0,he=0;he<k.length;he++){var we=i.substr(k[he],2);if("number"==typeof T&&!te.isContextTag(we)&&_e==T||"string"==typeof T&&te.isContextTag(we,T))return te.getIdxbyListEx(i,k[he],a,f);te.isContextTag(we)||_e++}return-1},Qt.getTLVbyList=function(i,r,a,f){var T=Qt,k=T.getIdxbyList(i,r,a,f);return-1==k||k>=i.length?null:T.getTLV(i,k)},Qt.getTLVbyListEx=function(i,r,a,f){var T=Qt,k=T.getIdxbyListEx(i,r,a,f);return-1==k?null:T.getTLV(i,k)},Qt.getVbyList=function(i,r,a,f,T){var k,te,_e=Qt;return-1==(k=_e.getIdxbyList(i,r,a,f))||k>=i.length?null:(te=_e.getV(i,k),!0===T&&(te=te.substr(2)),te)},Qt.getVbyListEx=function(i,r,a,f,T){var k,te,_e=Qt;return-1==(k=_e.getIdxbyListEx(i,r,a,f))?null:(te=_e.getV(i,k),"03"==i.substr(k,2)&&!1!==T&&(te=te.substr(2)),te)},Qt.getInt=function(i,r,a){null==a&&(a=-1);try{var f=i.substr(r,2);if("02"!=f&&"03"!=f)return a;var T=Qt.getV(i,r);return"02"==f?parseInt(T,16):function(te){try{var _e=te.substr(0,2);if("00"==_e)return parseInt(te.substr(2),16);var he=parseInt(_e,16),we=te.substr(2),Ce=parseInt(we,16).toString(2);return"0"==Ce&&(Ce="00000000"),Ce=Ce.slice(0,0-he),parseInt(Ce,2)}catch{return-1}}(T)}catch{return a}},Qt.getOID=function(i,r,a){null==a&&(a=null);try{return"06"!=i.substr(r,2)?a:function(T){if(!er(T))return null;try{var k=[],te=T.substr(0,2),_e=parseInt(te,16);k[0]=new String(Math.floor(_e/40)),k[1]=new String(_e%40);for(var he=T.substr(2),we=[],Ce=0;Ce<he.length/2;Ce++)we.push(parseInt(he.substr(2*Ce,2),16));var Ee=[],xe="";for(Ce=0;Ce<we.length;Ce++)128&we[Ce]?xe+=Ji((127&we[Ce]).toString(2),7):(xe+=Ji((127&we[Ce]).toString(2),7),Ee.push(new String(parseInt(xe,2))),xe="");var Ve=k.join(".");return Ee.length>0&&(Ve=Ve+"."+Ee.join(".")),Ve}catch{return null}}(Qt.getV(i,r))}catch{return a}},Qt.getOIDName=function(i,r,a){null==a&&(a=null);try{var f=Qt.getOID(i,r,a);if(f==a)return a;var T=ce.asn1.x509.OID.oid2name(f);return""==T?f:T}catch{return a}},Qt.getString=function(i,r,a){null==a&&(a=null);try{return lt(Qt.getV(i,r))}catch{return a}},Qt.hextooidstr=function(i){var r=function(xe,Ve){return xe.length>=Ve?xe:new Array(Ve-xe.length+1).join("0")+xe},a=[],f=i.substr(0,2),T=parseInt(f,16);a[0]=new String(Math.floor(T/40)),a[1]=new String(T%40);for(var k=i.substr(2),te=[],_e=0;_e<k.length/2;_e++)te.push(parseInt(k.substr(2*_e,2),16));var he=[],we="";for(_e=0;_e<te.length;_e++)128&te[_e]?we+=r((127&te[_e]).toString(2),7):(we+=r((127&te[_e]).toString(2),7),he.push(new String(parseInt(we,2))),we="");var Ce=a.join(".");return he.length>0&&(Ce=Ce+"."+he.join(".")),Ce},Qt.dump=function(i,r,a,f){var T=Qt,k=T.getV,te=T.dump,_e=T.getChildIdx,he=i;i instanceof ce.asn1.ASN1Object&&(he=i.getEncodedHex());var we=function(Be,Rt){return Be.length<=2*Rt?Be:Be.substr(0,Rt)+"..(total "+Be.length/2+"bytes).."+Be.substr(Be.length-Rt,Rt)};void 0===r&&(r={ommit_long_octet:32}),void 0===a&&(a=0),void 0===f&&(f="");var Ce,Ee=r.ommit_long_octet;if("01"==(Ce=he.substr(a,2)))return"00"==(xe=k(he,a))?f+"BOOLEAN FALSE\n":f+"BOOLEAN TRUE\n";if("02"==Ce)return f+"INTEGER "+we(xe=k(he,a),Ee)+"\n";if("03"==Ce){var xe=k(he,a);return T.isASN1HEX(xe.substr(2))?(Ve=f+"BITSTRING, encapsulates\n")+te(xe.substr(2),r,0,f+"  "):f+"BITSTRING "+we(xe,Ee)+"\n"}if("04"==Ce)return xe=k(he,a),T.isASN1HEX(xe)?(Ve=f+"OCTETSTRING, encapsulates\n",Ve+=te(xe,r,0,f+"  ")):f+"OCTETSTRING "+we(xe,Ee)+"\n";if("05"==Ce)return f+"NULL\n";if("06"==Ce){var ot=k(he,a),ut=ce.asn1.ASN1Util.oidHexToInt(ot),ft=ce.asn1.x509.OID.oid2name(ut),oe=ut.replace(/\./g," ");return""!=ft?f+"ObjectIdentifier "+ft+" ("+oe+")\n":f+"ObjectIdentifier ("+oe+")\n"}if("0a"==Ce)return f+"ENUMERATED "+parseInt(k(he,a))+"\n";if("0c"==Ce)return f+"UTF8String '"+at(k(he,a))+"'\n";if("13"==Ce)return f+"PrintableString '"+at(k(he,a))+"'\n";if("14"==Ce)return f+"TeletexString '"+at(k(he,a))+"'\n";if("16"==Ce)return f+"IA5String '"+at(k(he,a))+"'\n";if("17"==Ce)return f+"UTCTime "+at(k(he,a))+"\n";if("18"==Ce)return f+"GeneralizedTime "+at(k(he,a))+"\n";if("1a"==Ce)return f+"VisualString '"+at(k(he,a))+"'\n";if("1e"==Ce)return f+"BMPString '"+at(k(he,a))+"'\n";if("30"==Ce){if("3000"==he.substr(a,4))return f+"SEQUENCE {}\n";Ve=f+"SEQUENCE\n";var Ie=r;if((2==(Q=_e(he,a)).length||3==Q.length)&&"06"==he.substr(Q[0],2)&&"04"==he.substr(Q[Q.length-1],2)){ft=T.oidname(k(he,Q[0]));var Le=JSON.parse(JSON.stringify(r));Le.x509ExtName=ft,Ie=Le}for(var je=0;je<Q.length;je++)Ve+=te(he,Ie,Q[je],f+"  ");return Ve}if("31"==Ce){Ve=f+"SET\n";var Q=_e(he,a);for(je=0;je<Q.length;je++)Ve+=te(he,r,Q[je],f+"  ");return Ve}if(128&(Ce=parseInt(Ce,16))){var Ve,Fe=31&Ce;if(32&Ce){for(Ve=f+"["+Fe+"]\n",Q=_e(he,a),je=0;je<Q.length;je++)Ve+=te(he,r,Q[je],f+"  ");return Ve}return xe=k(he,a),Qt.isASN1HEX(xe)?(Ve=f+"["+Fe+"]\n")+te(xe,r,0,f+"  "):(("68747470"==xe.substr(0,8)||"subjectAltName"===r.x509ExtName&&2==Fe)&&(xe=at(xe)),f+"["+Fe+"] "+xe+"\n")}return f+"UNKNOWN("+Ce+") "+k(he,a)+"\n"},Qt.isContextTag=function(i,r){var a,f;i=i.toLowerCase();try{a=parseInt(i,16)}catch{return-1}if(void 0===r)return 128==(192&a);try{return null!=r.match(/^\[[0-9]+\]$/)&&!((f=parseInt(r.substr(1,r.length-1),10))>31)&&128==(192&a)&&(31&a)==f}catch{return!1}},Qt.isASN1HEX=function(i){var r=Qt;if(i.length%2==1)return!1;var a=r.getVblen(i,0),f=i.substr(0,2),T=r.getL(i,0);return i.length-f.length-T.length==2*a},Qt.checkStrictDER=function(i,r,a,f,T){var k=Qt;if(void 0===a){if("string"!=typeof i)throw new Error("not hex string");if(i=i.toLowerCase(),!ce.lang.String.isHex(i))throw new Error("not hex string");a=i.length,T=(f=i.length/2)<128?1:Math.ceil(f.toString(16))+1}if(k.getL(i,r).length>2*T)throw new Error("L of TLV too long: idx="+r);var te=k.getVblen(i,r);if(te>f)throw new Error("value of L too long than hex: idx="+r);var _e=k.getTLV(i,r),he=_e.length-2-k.getL(i,r).length;if(he!==2*te)throw new Error("V string length and L's value not the same:"+he+"/"+2*te);if(0===r&&i.length!=_e.length)throw new Error("total length and TLV length unmatch:"+i.length+"!="+_e.length);var we=i.substr(r,2);if("02"===we){var Ce=k.getVidx(i,r);if("00"==i.substr(Ce,2)&&i.charCodeAt(Ce+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(we,16)){for(var Ee=k.getVblen(i,r),xe=0,Ve=k.getChildIdx(i,r),ot=0;ot<Ve.length;ot++)xe+=k.getTLV(i,Ve[ot]).length,k.checkStrictDER(i,Ve[ot],a,f,T);if(2*Ee!=xe)throw new Error("sum of children's TLV length and L unmatch: "+2*Ee+"!="+xe)}},Qt.oidname=function(i){var r=ce.asn1;ce.lang.String.isHex(i)&&(i=r.ASN1Util.oidHexToInt(i));var a=r.x509.OID.oid2name(i);return""===a&&(a=i),a},void 0!==ce&&ce||(l.KJUR=ce={}),void 0!==ce.lang&&ce.lang||(ce.lang={}),ce.lang.String=function(){},"function"==typeof S?(l.utf8tob64u=Di=function(r){return It(S.from(r,"utf8").toString("base64"))},l.b64utoutf8=Ii=function(r){return S.from(J(r),"base64").toString("utf8")}):(l.utf8tob64u=Di=function(r){return pe(gt(Si(r)))},l.b64utoutf8=Ii=function(r){return decodeURIComponent(kt(et(r)))}),ce.lang.String.isInteger=function(i){return!!i.match(/^[0-9]+$/)||!!i.match(/^-[0-9]+$/)},ce.lang.String.isHex=function(i){return er(i)},ce.lang.String.isBase64=function(i){return!(!(i=i.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||i.length%4!=0)},ce.lang.String.isBase64URL=function(i){return!i.match(/[+/=]/)&&(i=J(i),ce.lang.String.isBase64(i))},ce.lang.String.isIntegerArray=function(i){return!!(i=i.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ce.lang.String.isPrintable=function(i){return null!==i.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ce.lang.String.isIA5=function(i){return null!==i.match(/^[\x20-\x21\x23-\x7f]*$/)},ce.lang.String.isMail=function(i){return null!==i.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Ji=function(r,a,f){return null==f&&(f="0"),r.length>=a?r:new Array(a-r.length+1).join(f)+r};void 0!==ce&&ce||(l.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:be.algo.MD5,sha1:be.algo.SHA1,sha224:be.algo.SHA224,sha256:be.algo.SHA256,sha384:be.algo.SHA384,sha512:be.algo.SHA512,ripemd160:be.algo.RIPEMD160},this.getDigestInfoHex=function(i,r){if(void 0===this.DIGESTINFOHEAD[r])throw"alg not supported in Util.DIGESTINFOHEAD: "+r;return this.DIGESTINFOHEAD[r]+i},this.getPaddedDigestInfoHex=function(i,r,a){var f=this.getDigestInfoHex(i,r),T=a/4;if(f.length+22>T)throw"key is too short for SigAlg: keylen="+a+","+r;for(var k="0001",te="00"+f,_e="",he=T-4-te.length,we=0;we<he;we+=2)_e+="ff";return k+_e+te},this.hashString=function(i,r){return new ce.crypto.MessageDigest({alg:r}).digestString(i)},this.hashHex=function(i,r){return new ce.crypto.MessageDigest({alg:r}).digestHex(i)},this.sha1=function(i){return this.hashString(i,"sha1")},this.sha256=function(i){return this.hashString(i,"sha256")},this.sha256Hex=function(i){return this.hashHex(i,"sha256")},this.sha512=function(i){return this.hashString(i,"sha512")},this.sha512Hex=function(i){return this.hashHex(i,"sha512")},this.isKey=function(i){return i instanceof sn||i instanceof ce.crypto.DSA||i instanceof ce.crypto.ECDSA}},ce.crypto.Util.md5=function(i){return new ce.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(i)},ce.crypto.Util.ripemd160=function(i){return new ce.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(i)},ce.crypto.Util.SECURERANDOMGEN=new On,ce.crypto.Util.getRandomHexOfNbytes=function(i){var r=new Array(i);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(r),Xi(r)},ce.crypto.Util.getRandomBigIntegerOfNbytes=function(i){return new fe(ce.crypto.Util.getRandomHexOfNbytes(i),16)},ce.crypto.Util.getRandomHexOfNbits=function(i){var r=i%8,a=new Array((i-r)/8+1);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(a),a[0]=(255<<r&255^255)&a[0],Xi(a)},ce.crypto.Util.getRandomBigIntegerOfNbits=function(i){return new fe(ce.crypto.Util.getRandomHexOfNbits(i),16)},ce.crypto.Util.getRandomBigIntegerZeroToMax=function(i){for(var r=i.bitLength();;){var a=ce.crypto.Util.getRandomBigIntegerOfNbits(r);if(-1!=i.compareTo(a))return a}},ce.crypto.Util.getRandomBigIntegerMinToMax=function(i,r){var a=i.compareTo(r);if(1==a)throw"biMin is greater than biMax";if(0==a)return i;var f=r.subtract(i);return ce.crypto.Util.getRandomBigIntegerZeroToMax(f).add(i)},ce.crypto.MessageDigest=function(i){this.setAlgAndProvider=function(r,a){if(null!==(r=ce.crypto.MessageDigest.getCanonicalAlgName(r))&&void 0===a&&(a=ce.crypto.Util.DEFAULTPROVIDER[r]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==a){try{this.md=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r].create()}catch(f){throw"setAlgAndProvider hash alg set fail alg="+r+"/"+f}this.updateString=function(f){this.md.update(f)},this.updateHex=function(f){var T=be.enc.Hex.parse(f);this.md.update(T)},this.digest=function(){return this.md.finalize().toString(be.enc.Hex)},this.digestString=function(f){return this.updateString(f),this.digest()},this.digestHex=function(f){return this.updateHex(f),this.digest()}}if(-1!=":sha256:".indexOf(r)&&"sjcl"==a){try{this.md=new sjcl.hash.sha256}catch(f){throw"setAlgAndProvider hash alg set fail alg="+r+"/"+f}this.updateString=function(f){this.md.update(f)},this.updateHex=function(f){var T=sjcl.codec.hex.toBits(f);this.md.update(T)},this.digest=function(){var f=this.md.finalize();return sjcl.codec.hex.fromBits(f)},this.digestString=function(f){return this.updateString(f),this.digest()},this.digestHex=function(f){return this.updateHex(f),this.digest()}}},this.updateString=function(r){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(r){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(r){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(r){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==i&&void 0!==i.alg&&(this.algName=i.alg,void 0===i.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ce.crypto.MessageDigest.getCanonicalAlgName=function(i){return"string"==typeof i&&(i=(i=i.toLowerCase()).replace(/-/,"")),i},ce.crypto.MessageDigest.getHashLength=function(i){var r=ce.crypto.MessageDigest,a=r.getCanonicalAlgName(i);if(void 0===r.HASHLENGTH[a])throw"not supported algorithm: "+i;return r.HASHLENGTH[a]},ce.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ce.crypto.Mac=function(i){this.setAlgAndProvider=function(r,a){if(null==(r=r.toLowerCase())&&(r="hmacsha1"),"hmac"!=(r=r.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+r;void 0===a&&(a=ce.crypto.Util.DEFAULTPROVIDER[r]),this.algProv=r+"/"+a;var f=r.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(f)&&"cryptojs"==a){try{this.mac=be.algo.HMAC.create(ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[f],this.pass)}catch(k){throw"setAlgAndProvider hash alg set fail hashAlg="+f+"/"+k}this.updateString=function(k){this.mac.update(k)},this.updateHex=function(k){var te=be.enc.Hex.parse(k);this.mac.update(te)},this.doFinal=function(){return this.mac.finalize().toString(be.enc.Hex)},this.doFinalString=function(k){return this.updateString(k),this.doFinal()},this.doFinalHex=function(k){return this.updateHex(k),this.doFinal()}}},this.updateString=function(r){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(r){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(r){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(r){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(r){if("string"==typeof r){var a=r;return r.length%2!=1&&r.match(/^[0-9A-Fa-f]+$/)||(a=Bt(r)),void(this.pass=be.enc.Hex.parse(a))}if("object"!=(void 0===r?"undefined":u(r)))throw"KJUR.crypto.Mac unsupported password type: "+r;if(a=null,void 0!==r.hex){if(r.hex.length%2!=0||!r.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+r.hex;a=r.hex}if(void 0!==r.utf8&&(a=ct(r.utf8)),void 0!==r.rstr&&(a=Bt(r.rstr)),void 0!==r.b64&&(a=Me(r.b64)),void 0!==r.b64u&&(a=et(r.b64u)),null==a)throw"KJUR.crypto.Mac unsupported password type: "+r;this.pass=be.enc.Hex.parse(a)},void 0!==i&&(void 0!==i.pass&&this.setPassword(i.pass),void 0!==i.alg&&(this.algName=i.alg,void 0===i.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ce.crypto.Signature=function(i){var r=null;if(this._setAlgNames=function(){var a=this.algName.match(/^(.+)with(.+)$/);a&&(this.mdAlgName=a[1].toLowerCase(),this.pubkeyAlgName=a[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(a,f){for(var T="",k=f/4-a.length,te=0;te<k;te++)T+="0";return T+a},this.setAlgAndProvider=function(a,f){if(this._setAlgNames(),"cryptojs/jsrsa"!=f)throw new Error("provider not supported: "+f);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ce.crypto.MessageDigest({alg:this.mdAlgName})}catch(T){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+T)}this.init=function(T,k){var te=null;try{te=void 0===k?Pi.getKey(T):Pi.getKey(T,k)}catch(_e){throw"init failed:"+_e}if(!0===te.isPrivate)this.prvKey=te,this.state="SIGN";else{if(!0!==te.isPublic)throw"init failed.:"+te;this.pubKey=te,this.state="VERIFY"}},this.updateString=function(T){this.md.updateString(T)},this.updateHex=function(T){this.md.updateHex(T)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.prvKey=new ce.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof sn&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof sn&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ce.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ce.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(T){return this.updateString(T),this.sign()},this.signHex=function(T){return this.updateHex(T),this.sign()},this.verify=function(T){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.pubKey=new ce.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof sn&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,T,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof sn&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,T);if(void 0!==ce.crypto.ECDSA&&this.pubKey instanceof ce.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,T);if(void 0!==ce.crypto.DSA&&this.pubKey instanceof ce.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,T);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(a,f){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(a){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(a){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(a){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(a){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(a){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=i,void 0!==i&&(void 0!==i.alg&&(this.algName=i.alg,this.provName=void 0===i.prov?ce.crypto.Util.DEFAULTPROVIDER[this.algName]:i.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==i.psssaltlen&&(this.pssSaltLen=i.psssaltlen),void 0!==i.prvkeypem)){if(void 0!==i.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{r=Pi.getKey(i.prvkeypem),this.init(r)}catch(a){throw"fatal error to load pem private key: "+a}}},ce.crypto.Cipher=function(i){},ce.crypto.Cipher.encrypt=function(i,r,a){if(r instanceof sn&&r.isPublic){var f=ce.crypto.Cipher.getAlgByKeyAndName(r,a);if("RSA"===f)return r.encrypt(i);if("RSAOAEP"===f)return r.encryptOAEP(i,"sha1");var T=f.match(/^RSAOAEP(\d+)$/);if(null!==T)return r.encryptOAEP(i,"sha"+T[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+a}throw"Cipher.encrypt: unsupported key or algorithm"},ce.crypto.Cipher.decrypt=function(i,r,a){if(r instanceof sn&&r.isPrivate){var f=ce.crypto.Cipher.getAlgByKeyAndName(r,a);if("RSA"===f)return r.decrypt(i);if("RSAOAEP"===f)return r.decryptOAEP(i,"sha1");var T=f.match(/^RSAOAEP(\d+)$/);if(null!==T)return r.decryptOAEP(i,"sha"+T[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+a}throw"Cipher.decrypt: unsupported key or algorithm"},ce.crypto.Cipher.getAlgByKeyAndName=function(i,r){if(i instanceof sn){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(r))return r;if(null==r)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+r}throw"getAlgByKeyAndName: not supported algorithm name: "+r},ce.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ce&&ce||(l.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECDSA=function(i){var r=Error,a=fe,f=Pn,T=ce.crypto.ECDSA,k=ce.crypto.ECParameterDB,te=T.getName,he=Qt.getVbyListEx,we=Qt.isASN1HEX,Ce=new On;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(Ee){return new a(Ee.bitLength(),Ce).mod(Ee.subtract(a.ONE)).add(a.ONE)},this.setNamedCurve=function(Ee){this.ecparams=k.getByName(Ee),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=Ee},this.setPrivateKeyHex=function(Ee){this.isPrivate=!0,this.prvKeyHex=Ee},this.setPublicKeyHex=function(Ee){this.isPublic=!0,this.pubKeyHex=Ee},this.getPublicKeyXYHex=function(){var Ee=this.pubKeyHex;if("04"!==Ee.substr(0,2))throw"this method supports uncompressed format(04) only";var xe=this.ecparams.keylen/4;if(Ee.length!==2+2*xe)throw"malformed public key hex length";var Ve={};return Ve.x=Ee.substr(2,xe),Ve.y=Ee.substr(2+xe),Ve},this.getShortNISTPCurveName=function(){var Ee=this.curveName;return"secp256r1"===Ee||"NIST P-256"===Ee||"P-256"===Ee||"prime256v1"===Ee?"P-256":"secp384r1"===Ee||"NIST P-384"===Ee||"P-384"===Ee?"P-384":null},this.generateKeyPairHex=function(){var xe=this.getBigRandom(this.ecparams.n),Ve=this.ecparams.G.multiply(xe),ot=Ve.getX().toBigInteger(),ut=Ve.getY().toBigInteger(),ft=this.ecparams.keylen/4,oe=("0000000000"+xe.toString(16)).slice(-ft),Ie="04"+("0000000000"+ot.toString(16)).slice(-ft)+("0000000000"+ut.toString(16)).slice(-ft);return this.setPrivateKeyHex(oe),this.setPublicKeyHex(Ie),{ecprvhex:oe,ecpubhex:Ie}},this.signWithMessageHash=function(Ee){return this.signHex(Ee,this.prvKeyHex)},this.signHex=function(Ee,xe){var Ve=new a(xe,16),ot=this.ecparams.n,ut=new a(Ee.substring(0,this.ecparams.keylen/4),16);do{var ft=this.getBigRandom(ot),oe=this.ecparams.G.multiply(ft).getX().toBigInteger().mod(ot)}while(oe.compareTo(a.ZERO)<=0);var Ie=ft.modInverse(ot).multiply(ut.add(Ve.multiply(oe))).mod(ot);return T.biRSSigToASN1Sig(oe,Ie)},this.sign=function(Ee,xe){var Ve=xe,ot=this.ecparams.n,ut=a.fromByteArrayUnsigned(Ee);do{var ft=this.getBigRandom(ot),oe=this.ecparams.G.multiply(ft).getX().toBigInteger().mod(ot)}while(oe.compareTo(fe.ZERO)<=0);var Ie=ft.modInverse(ot).multiply(ut.add(Ve.multiply(oe))).mod(ot);return this.serializeSig(oe,Ie)},this.verifyWithMessageHash=function(Ee,xe){return this.verifyHex(Ee,xe,this.pubKeyHex)},this.verifyHex=function(Ee,xe,Ve){try{var ot,ut,ft=T.parseSigHex(xe);ot=ft.r,ut=ft.s;var oe=f.decodeFromHex(this.ecparams.curve,Ve),Ie=new a(Ee.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(Ie,ot,ut,oe)}catch{return!1}},this.verify=function(Ee,xe,Ve){var ot,ut,ft;if(Bitcoin.Util.isArray(xe)){var oe=this.parseSig(xe);ot=oe.r,ut=oe.s}else{if("object"!==(void 0===xe?"undefined":u(xe))||!xe.r||!xe.s)throw"Invalid value for signature";ot=xe.r,ut=xe.s}if(Ve instanceof Pn)ft=Ve;else{if(!Bitcoin.Util.isArray(Ve))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ft=f.decodeFrom(this.ecparams.curve,Ve)}var Ie=a.fromByteArrayUnsigned(Ee);return this.verifyRaw(Ie,ot,ut,ft)},this.verifyRaw=function(Ee,xe,Ve,ot){var ut=this.ecparams.n,ft=this.ecparams.G;if(xe.compareTo(a.ONE)<0||xe.compareTo(ut)>=0||Ve.compareTo(a.ONE)<0||Ve.compareTo(ut)>=0)return!1;var oe=Ve.modInverse(ut),Ie=Ee.multiply(oe).mod(ut),Le=xe.multiply(oe).mod(ut);return ft.multiply(Ie).add(ot.multiply(Le)).getX().toBigInteger().mod(ut).equals(xe)},this.serializeSig=function(Ee,xe){var Ve=Ee.toByteArraySigned(),ot=xe.toByteArraySigned(),ut=[];return ut.push(2),ut.push(Ve.length),(ut=ut.concat(Ve)).push(2),ut.push(ot.length),(ut=ut.concat(ot)).unshift(ut.length),ut.unshift(48),ut},this.parseSig=function(Ee){var xe;if(48!=Ee[0])throw new Error("Signature not a valid DERSequence");if(2!=Ee[xe=2])throw new Error("First element in signature must be a DERInteger");var Ve=Ee.slice(xe+2,xe+2+Ee[xe+1]);if(2!=Ee[xe+=2+Ee[xe+1]])throw new Error("Second element in signature must be a DERInteger");var ot=Ee.slice(xe+2,xe+2+Ee[xe+1]);return xe+=2+Ee[xe+1],{r:a.fromByteArrayUnsigned(Ve),s:a.fromByteArrayUnsigned(ot)}},this.parseSigCompact=function(Ee){if(65!==Ee.length)throw"Signature has the wrong length";var xe=Ee[0]-27;if(xe<0||xe>7)throw"Invalid signature type";var Ve=this.ecparams.n;return{r:a.fromByteArrayUnsigned(Ee.slice(1,33)).mod(Ve),s:a.fromByteArrayUnsigned(Ee.slice(33,65)).mod(Ve),i:xe}},this.readPKCS5PrvKeyHex=function(Ee){if(!1===we(Ee))throw new Error("not ASN.1 hex string");var xe,Ve,ot;try{xe=he(Ee,0,["[0]",0],"06"),Ve=he(Ee,0,[1],"04");try{ot=he(Ee,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=te(xe),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot),this.setPrivateKeyHex(Ve),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(Ee){if(!1===we(Ee))throw new r("not ASN.1 hex string");var xe,Ve,ot;try{he(Ee,0,[1,0],"06"),xe=he(Ee,0,[1,1],"06"),Ve=he(Ee,0,[2,0,1],"04");try{ot=he(Ee,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new r("malformed PKCS#8 plain ECC private key")}if(this.curveName=te(xe),void 0===this.curveName)throw new r("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot),this.setPrivateKeyHex(Ve),this.isPublic=!1},this.readPKCS8PubKeyHex=function(Ee){if(!1===we(Ee))throw new r("not ASN.1 hex string");var xe,Ve;try{he(Ee,0,[0,0],"06"),xe=he(Ee,0,[0,1],"06"),Ve=he(Ee,0,[1],"03")}catch{throw new r("malformed PKCS#8 ECC public key")}if(this.curveName=te(xe),null===this.curveName)throw new r("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Ve)},this.readCertPubKeyHex=function(Ee,xe){if(!1===we(Ee))throw new r("not ASN.1 hex string");var Ve,ot;try{Ve=he(Ee,0,[0,5,0,1],"06"),ot=he(Ee,0,[0,5,1],"03")}catch{throw new r("malformed X.509 certificate ECC public key")}if(this.curveName=te(Ve),null===this.curveName)throw new r("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot)},void 0!==i&&void 0!==i.curve&&(this.curveName=i.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==i&&(void 0!==i.prv&&this.setPrivateKeyHex(i.prv),void 0!==i.pub&&this.setPublicKeyHex(i.pub))},ce.crypto.ECDSA.parseSigHex=function(i){var r=ce.crypto.ECDSA.parseSigHexInHexRS(i);return{r:new fe(r.r,16),s:new fe(r.s,16)}},ce.crypto.ECDSA.parseSigHexInHexRS=function(i){var a=Qt.getChildIdx,f=Qt.getV;if(Qt.checkStrictDER(i,0),"30"!=i.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var T=a(i,0);if(2!=T.length)throw new Error("signature shall have two elements");var k=T[0],te=T[1];if("02"!=i.substr(k,2))throw new Error("1st item not ASN.1 integer");if("02"!=i.substr(te,2))throw new Error("2nd item not ASN.1 integer");return{r:f(i,k),s:f(i,te)}},ce.crypto.ECDSA.asn1SigToConcatSig=function(i){var r=ce.crypto.ECDSA.parseSigHexInHexRS(i),a=r.r,f=r.s;if("00"==a.substr(0,2)&&a.length%32==2&&(a=a.substr(2)),"00"==f.substr(0,2)&&f.length%32==2&&(f=f.substr(2)),a.length%32==30&&(a="00"+a),f.length%32==30&&(f="00"+f),a.length%32!=0)throw"unknown ECDSA sig r length error";if(f.length%32!=0)throw"unknown ECDSA sig s length error";return a+f},ce.crypto.ECDSA.concatSigToASN1Sig=function(i){if(i.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var r=i.substr(0,i.length/2),a=i.substr(i.length/2);return ce.crypto.ECDSA.hexRSSigToASN1Sig(r,a)},ce.crypto.ECDSA.hexRSSigToASN1Sig=function(i,r){var a=new fe(i,16),f=new fe(r,16);return ce.crypto.ECDSA.biRSSigToASN1Sig(a,f)},ce.crypto.ECDSA.biRSSigToASN1Sig=function(i,r){var a=ce.asn1,f=new a.DERInteger({bigint:i}),T=new a.DERInteger({bigint:r});return new a.DERSequence({array:[f,T]}).getEncodedHex()},ce.crypto.ECDSA.getName=function(i){return"2b8104001f"===i?"secp192k1":"2a8648ce3d030107"===i?"secp256r1":"2b8104000a"===i?"secp256k1":"2b81040021"===i?"secp224r1":"2b81040022"===i?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(i)?"secp256r1":-1!=="|secp256k1|".indexOf(i)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(i)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(i)?"secp384r1":null},void 0!==ce&&ce||(l.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECParameterDB=new function(){var i={},r={};function a(f){return new fe(f,16)}this.getByName=function(f){var T=f;if(void 0!==r[T]&&(T=r[f]),void 0!==i[T])return i[T];throw"unregistered EC curve name: "+T},this.regist=function(f,T,k,te,_e,he,we,Ce,Ee,xe,Ve,ot){i[f]={};var ut=a(k),ft=a(te),oe=a(_e),Ie=a(he),Le=a(we),je=new mi(ut,ft,oe),Q=je.decodePointHex("04"+Ce+Ee);i[f].name=f,i[f].keylen=T,i[f].curve=je,i[f].G=Q,i[f].n=Ie,i[f].h=Le,i[f].oid=Ve,i[f].info=ot;for(var Fe=0;Fe<xe.length;Fe++)r[xe[Fe]]=f}},ce.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ce.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ce.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ce.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ce.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ce.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ce.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ce.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Pi=function(){var i=function(we,Ce,Ee){return r(be.AES,we,Ce,Ee)},r=function(we,Ce,Ee,xe){var Ve=be.enc.Hex.parse(Ce),ot=be.enc.Hex.parse(Ee),ut=be.enc.Hex.parse(xe),ft={};ft.key=ot,ft.iv=ut,ft.ciphertext=Ve;var oe=we.decrypt(ft,ot,{iv:ut});return be.enc.Hex.stringify(oe)},a=function(we,Ce,Ee){return f(be.AES,we,Ce,Ee)},f=function(we,Ce,Ee,xe){var Ve=be.enc.Hex.parse(Ce),ot=be.enc.Hex.parse(Ee),ut=be.enc.Hex.parse(xe),ft=we.encrypt(Ve,ot,{iv:ut}),oe=be.enc.Hex.parse(ft.toString());return be.enc.Base64.stringify(oe)},T={"AES-256-CBC":{proc:i,eproc:a,keylen:32,ivlen:16},"AES-192-CBC":{proc:i,eproc:a,keylen:24,ivlen:16},"AES-128-CBC":{proc:i,eproc:a,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(we,Ce,Ee){return r(be.TripleDES,we,Ce,Ee)},eproc:function(we,Ce,Ee){return f(be.TripleDES,we,Ce,Ee)},keylen:24,ivlen:8},"DES-CBC":{proc:function(we,Ce,Ee){return r(be.DES,we,Ce,Ee)},eproc:function(we,Ce,Ee){return f(be.DES,we,Ce,Ee)},keylen:8,ivlen:8}},k=function(we){var Ce={},Ee=we.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));Ee&&(Ce.cipher=Ee[1],Ce.ivsalt=Ee[2]);var xe=we.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));xe&&(Ce.type=xe[1]);var Ve=-1,ot=0;-1!=we.indexOf("\r\n\r\n")&&(Ve=we.indexOf("\r\n\r\n"),ot=2),-1!=we.indexOf("\n\n")&&(Ve=we.indexOf("\n\n"),ot=1);var ut=we.indexOf("-----END");if(-1!=Ve&&-1!=ut){var ft=we.substring(Ve+2*ot,ut-ot);ft=ft.replace(/\s+/g,""),Ce.data=ft}return Ce},te=function(we,Ce,Ee){for(var xe=Ee.substring(0,16),Ve=be.enc.Hex.parse(xe),ot=be.enc.Utf8.parse(Ce),ut=T[we].keylen+T[we].ivlen,ft="",oe=null;;){var Ie=be.algo.MD5.create();if(null!=oe&&Ie.update(oe),Ie.update(ot),Ie.update(Ve),oe=Ie.finalize(),(ft+=be.enc.Hex.stringify(oe)).length>=2*ut)break}var Le={};return Le.keyhex=ft.substr(0,2*T[we].keylen),Le.ivhex=ft.substr(2*T[we].keylen,2*T[we].ivlen),Le},_e=function(we,Ce,Ee,xe){var Ve=be.enc.Base64.parse(we),ot=be.enc.Hex.stringify(Ve);return(0,T[Ce].proc)(ot,Ee,xe)};return{version:"1.0.0",parsePKCS5PEM:function(we){return k(we)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(we,Ce,Ee){return te(we,Ce,Ee)},decryptKeyB64:function(we,Ce,Ee,xe){return _e(we,Ce,Ee,xe)},getDecryptedKeyHex:function(we,Ce){var Ee=k(we),xe=Ee.cipher,Ve=Ee.ivsalt,ot=Ee.data,ut=te(xe,Ce,Ve).keyhex;return _e(ot,xe,ut,Ve)},getEncryptedPKCS5PEMFromPrvKeyHex:function(we,Ce,Ee,xe,Ve){var oe,Ie,ot="";if(void 0!==xe&&null!=xe||(xe="AES-256-CBC"),void 0===T[xe])throw"KEYUTIL unsupported algorithm: "+xe;void 0!==Ve&&null!=Ve||(Ve=(oe=T[xe].ivlen,Ie=be.lib.WordArray.random(oe),be.enc.Hex.stringify(Ie)).toUpperCase());var ut=function(oe,Ie,Le,je){return(0,T[Ie].eproc)(oe,Le,je)}(Ce,xe,te(xe,Ee,Ve).keyhex,Ve);return ot="-----BEGIN "+we+" PRIVATE KEY-----\r\n",ot+="Proc-Type: 4,ENCRYPTED\r\n",ot+="DEK-Info: "+xe+","+Ve+"\r\n",ot+="\r\n",(ot+=ut.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+we+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(we){var Ee=Qt.getChildIdx,xe=Qt.getV,Ve={},ot=Ee(we,0);if(2!=ot.length)throw"malformed format: SEQUENCE(0).items != 2: "+ot.length;Ve.ciphertext=xe(we,ot[1]);var ut=Ee(we,ot[0]);if(2!=ut.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+ut.length;if("2a864886f70d01050d"!=xe(we,ut[0]))throw"this only supports pkcs5PBES2";var ft=Ee(we,ut[1]);if(2!=ut.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+ft.length;var oe=Ee(we,ft[1]);if(2!=oe.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+oe.length;if("2a864886f70d0307"!=xe(we,oe[0]))throw"this only supports TripleDES";Ve.encryptionSchemeAlg="TripleDES",Ve.encryptionSchemeIV=xe(we,oe[1]);var Ie=Ee(we,ft[0]);if(2!=Ie.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+Ie.length;if("2a864886f70d01050c"!=xe(we,Ie[0]))throw"this only supports pkcs5PBKDF2";var Le=Ee(we,Ie[1]);if(Le.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Le.length;Ve.pbkdf2Salt=xe(we,Le[0]);var je=xe(we,Le[1]);try{Ve.pbkdf2Iter=parseInt(je,16)}catch{throw"malformed format pbkdf2Iter: "+je}return Ve},getPBKDF2KeyHexFromParam:function(we,Ce){var Ee=be.enc.Hex.parse(we.pbkdf2Salt),Ve=be.PBKDF2(Ce,Ee,{keySize:6,iterations:we.pbkdf2Iter});return be.enc.Hex.stringify(Ve)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(we,Ce){var Ee=Lt(we,"ENCRYPTED PRIVATE KEY"),xe=this.parseHexOfEncryptedPKCS8(Ee),Ve=Pi.getPBKDF2KeyHexFromParam(xe,Ce),ot={};ot.ciphertext=be.enc.Hex.parse(xe.ciphertext);var ut=be.enc.Hex.parse(Ve),ft=be.enc.Hex.parse(xe.encryptionSchemeIV),oe=be.TripleDES.decrypt(ot,ut,{iv:ft});return be.enc.Hex.stringify(oe)},getKeyFromEncryptedPKCS8PEM:function(we,Ce){var Ee=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(we,Ce);return this.getKeyFromPlainPrivatePKCS8Hex(Ee)},parsePlainPrivatePKCS8Hex:function(we){var Ce=Qt,Ee=Ce.getChildIdx,xe=Ce.getV,Ve={algparam:null};if("30"!=we.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var ot=Ee(we,0);if(3!=ot.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=we.substr(ot[1],2))throw"malformed PKCS8 private key(code:003)";var ut=Ee(we,ot[1]);if(2!=ut.length)throw"malformed PKCS8 private key(code:004)";if("06"!=we.substr(ut[0],2))throw"malformed PKCS8 private key(code:005)";if(Ve.algoid=xe(we,ut[0]),"06"==we.substr(ut[1],2)&&(Ve.algparam=xe(we,ut[1])),"04"!=we.substr(ot[2],2))throw"malformed PKCS8 private key(code:006)";return Ve.keyidx=Ce.getVidx(we,ot[2]),Ve},getKeyFromPlainPrivatePKCS8PEM:function(we){var Ce=Lt(we,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Ce)},getKeyFromPlainPrivatePKCS8Hex:function(we){var Ce,Ee=this.parsePlainPrivatePKCS8Hex(we);if("2a864886f70d010101"==Ee.algoid)Ce=new sn;else if("2a8648ce380401"==Ee.algoid)Ce=new ce.crypto.DSA;else{if("2a8648ce3d0201"!=Ee.algoid)throw"unsupported private key algorithm";Ce=new ce.crypto.ECDSA}return Ce.readPKCS8PrvKeyHex(we),Ce},_getKeyFromPublicPKCS8Hex:function(we){var Ce,Ee=Qt.getVbyList(we,0,[0,0],"06");if("2a864886f70d010101"===Ee)Ce=new sn;else if("2a8648ce380401"===Ee)Ce=new ce.crypto.DSA;else{if("2a8648ce3d0201"!==Ee)throw"unsupported PKCS#8 public key hex";Ce=new ce.crypto.ECDSA}return Ce.readPKCS8PubKeyHex(we),Ce},parsePublicRawRSAKeyHex:function(we){var Ee=Qt.getChildIdx,xe=Qt.getV,Ve={};if("30"!=we.substr(0,2))throw"malformed RSA key(code:001)";var ot=Ee(we,0);if(2!=ot.length)throw"malformed RSA key(code:002)";if("02"!=we.substr(ot[0],2))throw"malformed RSA key(code:003)";if(Ve.n=xe(we,ot[0]),"02"!=we.substr(ot[1],2))throw"malformed RSA key(code:004)";return Ve.e=xe(we,ot[1]),Ve},parsePublicPKCS8Hex:function(we){var Ce=Qt,Ee=Ce.getChildIdx,xe=Ce.getV,Ve={algparam:null},ot=Ee(we,0);if(2!=ot.length)throw"outer DERSequence shall have 2 elements: "+ot.length;var ut=ot[0];if("30"!=we.substr(ut,2))throw"malformed PKCS8 public key(code:001)";var ft=Ee(we,ut);if(2!=ft.length)throw"malformed PKCS8 public key(code:002)";if("06"!=we.substr(ft[0],2))throw"malformed PKCS8 public key(code:003)";if(Ve.algoid=xe(we,ft[0]),"06"==we.substr(ft[1],2)?Ve.algparam=xe(we,ft[1]):"30"==we.substr(ft[1],2)&&(Ve.algparam={},Ve.algparam.p=Ce.getVbyList(we,ft[1],[0],"02"),Ve.algparam.q=Ce.getVbyList(we,ft[1],[1],"02"),Ve.algparam.g=Ce.getVbyList(we,ft[1],[2],"02")),"03"!=we.substr(ot[1],2))throw"malformed PKCS8 public key(code:004)";return Ve.key=xe(we,ot[1]).substr(2),Ve}}}();Pi.getKey=function(i,r,a){var Vn,f=(ft=Qt).getChildIdx,T=ft.getVbyList,k=ce.crypto,te=k.ECDSA,_e=k.DSA,he=sn,we=Lt,Ce=Pi;if(void 0!==he&&i instanceof he||void 0!==te&&i instanceof te||void 0!==_e&&i instanceof _e)return i;if(void 0!==i.curve&&void 0!==i.xy&&void 0===i.d)return new te({pub:i.xy,curve:i.curve});if(void 0!==i.curve&&void 0!==i.d)return new te({prv:i.d,curve:i.curve});if(void 0===i.kty&&void 0!==i.n&&void 0!==i.e&&void 0===i.d)return(Jt=new he).setPublic(i.n,i.e),Jt;if(void 0===i.kty&&void 0!==i.n&&void 0!==i.e&&void 0!==i.d&&void 0!==i.p&&void 0!==i.q&&void 0!==i.dp&&void 0!==i.dq&&void 0!==i.co&&void 0===i.qi)return(Jt=new he).setPrivateEx(i.n,i.e,i.d,i.p,i.q,i.dp,i.dq,i.co),Jt;if(void 0===i.kty&&void 0!==i.n&&void 0!==i.e&&void 0!==i.d&&void 0===i.p)return(Jt=new he).setPrivate(i.n,i.e,i.d),Jt;if(void 0!==i.p&&void 0!==i.q&&void 0!==i.g&&void 0!==i.y&&void 0===i.x)return(Jt=new _e).setPublic(i.p,i.q,i.g,i.y),Jt;if(void 0!==i.p&&void 0!==i.q&&void 0!==i.g&&void 0!==i.y&&void 0!==i.x)return(Jt=new _e).setPrivate(i.p,i.q,i.g,i.y,i.x),Jt;if("RSA"===i.kty&&void 0!==i.n&&void 0!==i.e&&void 0===i.d)return(Jt=new he).setPublic(et(i.n),et(i.e)),Jt;if("RSA"===i.kty&&void 0!==i.n&&void 0!==i.e&&void 0!==i.d&&void 0!==i.p&&void 0!==i.q&&void 0!==i.dp&&void 0!==i.dq&&void 0!==i.qi)return(Jt=new he).setPrivateEx(et(i.n),et(i.e),et(i.d),et(i.p),et(i.q),et(i.dp),et(i.dq),et(i.qi)),Jt;if("RSA"===i.kty&&void 0!==i.n&&void 0!==i.e&&void 0!==i.d)return(Jt=new he).setPrivate(et(i.n),et(i.e),et(i.d)),Jt;if("EC"===i.kty&&void 0!==i.crv&&void 0!==i.x&&void 0!==i.y&&void 0===i.d){var Ee=(_t=new te({curve:i.crv})).ecparams.keylen/4,xe="04"+("0000000000"+et(i.x)).slice(-Ee)+("0000000000"+et(i.y)).slice(-Ee);return _t.setPublicKeyHex(xe),_t}if("EC"===i.kty&&void 0!==i.crv&&void 0!==i.x&&void 0!==i.y&&void 0!==i.d){Ee=(_t=new te({curve:i.crv})).ecparams.keylen/4,xe="04"+("0000000000"+et(i.x)).slice(-Ee)+("0000000000"+et(i.y)).slice(-Ee);var Ve=("0000000000"+et(i.d)).slice(-Ee);return _t.setPublicKeyHex(xe),_t.setPrivateKeyHex(Ve),_t}if("pkcs5prv"===a){var ot,ut=i,ft=Qt;if(9===(ot=f(ut,0)).length)(Jt=new he).readPKCS5PrvKeyHex(ut);else if(6===ot.length)(Jt=new _e).readPKCS5PrvKeyHex(ut);else{if(!(ot.length>2&&"04"===ut.substr(ot[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(Jt=new te).readPKCS5PrvKeyHex(ut)}return Jt}if("pkcs8prv"===a)return Ce.getKeyFromPlainPrivatePKCS8Hex(i);if("pkcs8pub"===a)return Ce._getKeyFromPublicPKCS8Hex(i);if("x509pub"===a)return oi.getPublicKeyFromCertHex(i);if(-1!=i.indexOf("-END CERTIFICATE-",0)||-1!=i.indexOf("-END X509 CERTIFICATE-",0)||-1!=i.indexOf("-END TRUSTED CERTIFICATE-",0))return oi.getPublicKeyFromCertPEM(i);if(-1!=i.indexOf("-END PUBLIC KEY-")){var oe=Lt(i,"PUBLIC KEY");return Ce._getKeyFromPublicPKCS8Hex(oe)}if(-1!=i.indexOf("-END RSA PRIVATE KEY-")&&-1==i.indexOf("4,ENCRYPTED")){var Ie=we(i,"RSA PRIVATE KEY");return Ce.getKey(Ie,null,"pkcs5prv")}if(-1!=i.indexOf("-END DSA PRIVATE KEY-")&&-1==i.indexOf("4,ENCRYPTED")){var Le=T(Vn=we(i,"DSA PRIVATE KEY"),0,[1],"02"),je=T(Vn,0,[2],"02"),Q=T(Vn,0,[3],"02"),Fe=T(Vn,0,[4],"02"),ze=T(Vn,0,[5],"02");return(Jt=new _e).setPrivate(new fe(Le,16),new fe(je,16),new fe(Q,16),new fe(Fe,16),new fe(ze,16)),Jt}if(-1!=i.indexOf("-END EC PRIVATE KEY-")&&-1==i.indexOf("4,ENCRYPTED"))return Ie=we(i,"EC PRIVATE KEY"),Ce.getKey(Ie,null,"pkcs5prv");if(-1!=i.indexOf("-END PRIVATE KEY-"))return Ce.getKeyFromPlainPrivatePKCS8PEM(i);if(-1!=i.indexOf("-END RSA PRIVATE KEY-")&&-1!=i.indexOf("4,ENCRYPTED")){var Be=Ce.getDecryptedKeyHex(i,r),Rt=new sn;return Rt.readPKCS5PrvKeyHex(Be),Rt}if(-1!=i.indexOf("-END EC PRIVATE KEY-")&&-1!=i.indexOf("4,ENCRYPTED")){var _t,Jt=T(Vn=Ce.getDecryptedKeyHex(i,r),0,[1],"04"),Mn=T(Vn,0,[2,0],"06"),Ln=T(Vn,0,[3,0],"03").substr(2);if(void 0===ce.crypto.OID.oidhex2name[Mn])throw"undefined OID(hex) in KJUR.crypto.OID: "+Mn;return(_t=new te({curve:ce.crypto.OID.oidhex2name[Mn]})).setPublicKeyHex(Ln),_t.setPrivateKeyHex(Jt),_t.isPublic=!1,_t}if(-1!=i.indexOf("-END DSA PRIVATE KEY-")&&-1!=i.indexOf("4,ENCRYPTED"))return Le=T(Vn=Ce.getDecryptedKeyHex(i,r),0,[1],"02"),je=T(Vn,0,[2],"02"),Q=T(Vn,0,[3],"02"),Fe=T(Vn,0,[4],"02"),ze=T(Vn,0,[5],"02"),(Jt=new _e).setPrivate(new fe(Le,16),new fe(je,16),new fe(Q,16),new fe(Fe,16),new fe(ze,16)),Jt;if(-1!=i.indexOf("-END ENCRYPTED PRIVATE KEY-"))return Ce.getKeyFromEncryptedPKCS8PEM(i,r);throw new Error("not supported argument")},Pi.generateKeypair=function(i,r){if("RSA"==i){var a=r;(te=new sn).generate(a,"10001"),te.isPrivate=!0,te.isPublic=!0;var f=new sn,T=te.n.toString(16),k=te.e.toString(16);return f.setPublic(T,k),f.isPrivate=!1,f.isPublic=!0,(_e={}).prvKeyObj=te,_e.pubKeyObj=f,_e}if("EC"==i){var te,_e,he=r,we=new ce.crypto.ECDSA({curve:he}).generateKeyPairHex();return(te=new ce.crypto.ECDSA({curve:he})).setPublicKeyHex(we.ecpubhex),te.setPrivateKeyHex(we.ecprvhex),te.isPrivate=!0,te.isPublic=!1,(f=new ce.crypto.ECDSA({curve:he})).setPublicKeyHex(we.ecpubhex),f.isPrivate=!1,f.isPublic=!0,(_e={}).prvKeyObj=te,_e.pubKeyObj=f,_e}throw"unknown algorithm: "+i},Pi.getPEM=function(i,r,a,f,T,k){var _e=ce.asn1,he=_e.DERObjectIdentifier,we=_e.DERInteger,Ce=_e.ASN1Util.newObject,xe=ce.crypto,Ve=xe.DSA,ot=xe.ECDSA,ut=sn;function ft(_t){return Ce({seq:[{int:0},{int:{bigint:_t.n}},{int:_t.e},{int:{bigint:_t.d}},{int:{bigint:_t.p}},{int:{bigint:_t.q}},{int:{bigint:_t.dmp1}},{int:{bigint:_t.dmq1}},{int:{bigint:_t.coeff}}]})}function oe(_t){return Ce({seq:[{int:1},{octstr:{hex:_t.prvKeyHex}},{tag:["a0",!0,{oid:{name:_t.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+_t.pubKeyHex}}]}]})}function Ie(_t){return Ce({seq:[{int:0},{int:{bigint:_t.p}},{int:{bigint:_t.q}},{int:{bigint:_t.g}},{int:{bigint:_t.y}},{int:{bigint:_t.x}}]})}if((void 0!==ut&&i instanceof ut||void 0!==Ve&&i instanceof Ve||void 0!==ot&&i instanceof ot)&&1==i.isPublic&&(void 0===r||"PKCS8PUB"==r))return Ke(Fe=new(0,_e.x509.SubjectPublicKeyInfo)(i).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==r&&void 0!==ut&&i instanceof ut&&(void 0===a||null==a)&&1==i.isPrivate)return Ke(Fe=ft(i).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==r&&void 0!==ot&&i instanceof ot&&(void 0===a||null==a)&&1==i.isPrivate){var Le=new he({name:i.curveName}).getEncodedHex(),je=oe(i).getEncodedHex(),Q="";return(Q+=Ke(Le,"EC PARAMETERS"))+Ke(je,"EC PRIVATE KEY")}if("PKCS1PRV"==r&&void 0!==Ve&&i instanceof Ve&&(void 0===a||null==a)&&1==i.isPrivate)return Ke(Fe=Ie(i).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==r&&void 0!==ut&&i instanceof ut&&void 0!==a&&null!=a&&1==i.isPrivate){var Fe=ft(i).getEncodedHex();return void 0===f&&(f="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",Fe,a,f,k)}if("PKCS5PRV"==r&&void 0!==ot&&i instanceof ot&&void 0!==a&&null!=a&&1==i.isPrivate)return Fe=oe(i).getEncodedHex(),void 0===f&&(f="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",Fe,a,f,k);if("PKCS5PRV"==r&&void 0!==Ve&&i instanceof Ve&&void 0!==a&&null!=a&&1==i.isPrivate)return Fe=Ie(i).getEncodedHex(),void 0===f&&(f="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",Fe,a,f,k);var ze=function(Jt,Mn){var Ln=Be(Jt,Mn);return new Ce({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Ln.pbkdf2Salt}},{int:Ln.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Ln.encryptionSchemeIV}}]}]}]},{octstr:{hex:Ln.ciphertext}}]}).getEncodedHex()},Be=function(Jt,Mn){var Ln=be.lib.WordArray.random(8),Vn=be.lib.WordArray.random(8),$n=be.PBKDF2(Mn,Ln,{keySize:6,iterations:100}),ui=be.enc.Hex.parse(Jt),$i=be.TripleDES.encrypt(ui,$n,{iv:Vn})+"",Xn={};return Xn.ciphertext=$i,Xn.pbkdf2Salt=be.enc.Hex.stringify(Ln),Xn.pbkdf2Iter=100,Xn.encryptionSchemeAlg="DES-EDE3-CBC",Xn.encryptionSchemeIV=be.enc.Hex.stringify(Vn),Xn};if("PKCS8PRV"==r&&null!=ut&&i instanceof ut&&1==i.isPrivate){var Rt=ft(i).getEncodedHex();return Fe=Ce({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Rt}}]}).getEncodedHex(),void 0===a||null==a?Ke(Fe,"PRIVATE KEY"):Ke(je=ze(Fe,a),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==r&&void 0!==ot&&i instanceof ot&&1==i.isPrivate)return Rt=new Ce({seq:[{int:1},{octstr:{hex:i.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+i.pubKeyHex}}]}]}).getEncodedHex(),Fe=Ce({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:i.curveName}}]},{octstr:{hex:Rt}}]}).getEncodedHex(),void 0===a||null==a?Ke(Fe,"PRIVATE KEY"):Ke(je=ze(Fe,a),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==r&&void 0!==Ve&&i instanceof Ve&&1==i.isPrivate)return Rt=new we({bigint:i.x}).getEncodedHex(),Fe=Ce({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:i.p}},{int:{bigint:i.q}},{int:{bigint:i.g}}]}]},{octstr:{hex:Rt}}]}).getEncodedHex(),void 0===a||null==a?Ke(Fe,"PRIVATE KEY"):Ke(je=ze(Fe,a),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Pi.getKeyFromCSRPEM=function(i){var r=Lt(i,"CERTIFICATE REQUEST");return Pi.getKeyFromCSRHex(r)},Pi.getKeyFromCSRHex=function(i){var r=Pi.parseCSRHex(i);return Pi.getKey(r.p8pubkeyhex,null,"pkcs8pub")},Pi.parseCSRHex=function(i){var a=Qt.getChildIdx,f=Qt.getTLV,T={},k=i;if("30"!=k.substr(0,2))throw"malformed CSR(code:001)";var te=a(k,0);if(te.length<1)throw"malformed CSR(code:002)";if("30"!=k.substr(te[0],2))throw"malformed CSR(code:003)";var _e=a(k,te[0]);if(_e.length<3)throw"malformed CSR(code:004)";return T.p8pubkeyhex=f(k,_e[2]),T},Pi.getKeyID=function(i){var r=Pi,a=Qt;"string"==typeof i&&-1!=i.indexOf("BEGIN ")&&(i=r.getKey(i));var f=Lt(r.getPEM(i)),T=a.getIdxbyList(f,0,[1]),k=a.getV(f,T).substring(2);return ce.crypto.Util.hashHex(k,"sha1")},Pi.getJWKFromKey=function(i){var r={};if(i instanceof sn&&i.isPrivate)return r.kty="RSA",r.n=pe(i.n.toString(16)),r.e=pe(i.e.toString(16)),r.d=pe(i.d.toString(16)),r.p=pe(i.p.toString(16)),r.q=pe(i.q.toString(16)),r.dp=pe(i.dmp1.toString(16)),r.dq=pe(i.dmq1.toString(16)),r.qi=pe(i.coeff.toString(16)),r;if(i instanceof sn&&i.isPublic)return r.kty="RSA",r.n=pe(i.n.toString(16)),r.e=pe(i.e.toString(16)),r;if(i instanceof ce.crypto.ECDSA&&i.isPrivate){if("P-256"!==(f=i.getShortNISTPCurveName())&&"P-384"!==f)throw"unsupported curve name for JWT: "+f;var a=i.getPublicKeyXYHex();return r.kty="EC",r.crv=f,r.x=pe(a.x),r.y=pe(a.y),r.d=pe(i.prvKeyHex),r}if(i instanceof ce.crypto.ECDSA&&i.isPublic){var f;if("P-256"!==(f=i.getShortNISTPCurveName())&&"P-384"!==f)throw"unsupported curve name for JWT: "+f;return a=i.getPublicKeyXYHex(),r.kty="EC",r.crv=f,r.x=pe(a.x),r.y=pe(a.y),r}throw"not supported key object"},sn.getPosArrayOfChildrenFromHex=function(i){return Qt.getChildIdx(i,0)},sn.getHexValueArrayOfChildrenFromHex=function(i){var r,a=Qt.getV,f=a(i,(r=sn.getPosArrayOfChildrenFromHex(i))[0]),T=a(i,r[1]),k=a(i,r[2]),te=a(i,r[3]),_e=a(i,r[4]),he=a(i,r[5]),we=a(i,r[6]),Ce=a(i,r[7]),Ee=a(i,r[8]);return(r=new Array).push(f,T,k,te,_e,he,we,Ce,Ee),r},sn.prototype.readPrivateKeyFromPEMString=function(i){var r=Lt(i),a=sn.getHexValueArrayOfChildrenFromHex(r);this.setPrivateEx(a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8])},sn.prototype.readPKCS5PrvKeyHex=function(i){var r=sn.getHexValueArrayOfChildrenFromHex(i);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},sn.prototype.readPKCS8PrvKeyHex=function(i){var r,a,f,T,k,te,_e,he,Ce=Qt.getVbyListEx;if(!1===Qt.isASN1HEX(i))throw new Error("not ASN.1 hex string");try{r=Ce(i,0,[2,0,1],"02"),a=Ce(i,0,[2,0,2],"02"),f=Ce(i,0,[2,0,3],"02"),T=Ce(i,0,[2,0,4],"02"),k=Ce(i,0,[2,0,5],"02"),te=Ce(i,0,[2,0,6],"02"),_e=Ce(i,0,[2,0,7],"02"),he=Ce(i,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(r,a,f,T,k,te,_e,he)},sn.prototype.readPKCS5PubKeyHex=function(i){var r=Qt,a=r.getV;if(!1===r.isASN1HEX(i))throw new Error("keyHex is not ASN.1 hex string");var f=r.getChildIdx(i,0);if(2!==f.length||"02"!==i.substr(f[0],2)||"02"!==i.substr(f[1],2))throw new Error("wrong hex for PKCS#5 public key");var T=a(i,f[0]),k=a(i,f[1]);this.setPublic(T,k)},sn.prototype.readPKCS8PubKeyHex=function(i){var r=Qt;if(!1===r.isASN1HEX(i))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==r.getTLVbyListEx(i,0,[0,0]))throw new Error("not PKCS8 RSA public key");var a=r.getTLVbyListEx(i,0,[1,0]);this.readPKCS5PubKeyHex(a)},sn.prototype.readCertPubKeyHex=function(i,r){var a,f;(a=new oi).readCertHex(i),f=a.getPublicKeyHex(),this.readPKCS8PubKeyHex(f)};var ar=new RegExp("[^0-9a-f]","gi");function Tr(i,r){for(var a="",f=r/4-i.length,T=0;T<f;T++)a+="0";return a+i}function rr(i,r,a){for(var f="",T=0;f.length<r;)f+=lt(a(Bt(i+String.fromCharCode.apply(String,[(4278190080&T)>>24,(16711680&T)>>16,(65280&T)>>8,255&T])))),T+=1;return f}function Ai(i){for(var r in ce.crypto.Util.DIGESTINFOHEAD){var a=ce.crypto.Util.DIGESTINFOHEAD[r],f=a.length;if(i.substring(0,f)==a)return[r,i.substring(f)]}return[]}function oi(i){var r,a=Qt,f=a.getChildIdx,T=a.getV,k=a.getTLV,te=a.getVbyList,_e=a.getVbyListEx,he=a.getTLVbyList,we=a.getTLVbyListEx,Ce=a.getIdxbyList,Ee=a.getIdxbyListEx,xe=a.getVidx,Ve=a.oidname,ot=a.hextooidstr,ut=oi,ft=Lt;try{r=ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==he(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return _e(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var oe=we(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(oe)},this.getAlgorithmIdentifierName=function(oe){for(var Ie in r)if(oe===r[Ie])return Ie;return Ve(_e(oe,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return he(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return ut.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return he(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return ut.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var oe=te(this.hex,0,[0,4+this.foffset,0]);return oe=oe.replace(/(..)/g,"%$1"),decodeURIComponent(oe)},this.getNotAfter=function(){var oe=te(this.hex,0,[0,4+this.foffset,1]);return oe=oe.replace(/(..)/g,"%$1"),decodeURIComponent(oe)},this.getPublicKeyHex=function(){return a.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Ce(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var oe=this.getPublicKeyIdx();return Ce(this.hex,oe,[1,0],"30")},this.getPublicKey=function(){return Pi.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var oe=he(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(oe)},this.getSignatureValueHex=function(){return te(this.hex,0,[2],"03",!0)},this.verifySignature=function(oe){var Ie=this.getSignatureAlgorithmField(),Le=this.getSignatureValueHex(),je=he(this.hex,0,[0],"30"),Q=new ce.crypto.Signature({alg:Ie});return Q.init(oe),Q.updateHex(je),Q.verify(Le)},this.parseExt=function(oe){var Ie,Le,je;if(void 0===oe){if(3!==this.version)return-1;Ie=Ce(je=this.hex,0,[0,7,0],"30"),Le=f(je,Ie)}else{je=Lt(oe);var Q=Ce(je,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=T(je,Q))return void(this.aExtInfo=new Array);Ie=Ce(je,0,[0,3,0,1,0],"30"),Le=f(je,Ie),this.hex=je}this.aExtInfo=new Array;for(var Fe=0;Fe<Le.length;Fe++){var ze={critical:!1},Be=0;3===f(je,Le[Fe]).length&&(ze.critical=!0,Be=1),ze.oid=a.hextooidstr(te(je,Le[Fe],[0],"06"));var Rt=Ce(je,Le[Fe],[1+Be]);ze.vidx=xe(je,Rt),this.aExtInfo.push(ze)}},this.getExtInfo=function(oe){var Ie=this.aExtInfo,Le=oe;if(oe.match(/^[0-9.]+$/)||(Le=ce.asn1.x509.OID.name2oid(oe)),""!==Le)for(var je=0;je<Ie.length;je++)if(Ie[je].oid===Le)return Ie[je]},this.getExtBasicConstraints=function(oe,Ie){if(void 0===oe&&void 0===Ie){var Le=this.getExtInfo("basicConstraints");if(void 0===Le)return;oe=k(this.hex,Le.vidx),Ie=Le.critical}var je={extname:"basicConstraints"};if(Ie&&(je.critical=!0),"3000"===oe)return je;if("30030101ff"===oe)return je.cA=!0,je;if("30060101ff02"===oe.substr(0,12)){var Q=T(oe,10),Fe=parseInt(Q,16);return je.cA=!0,je.pathLen=Fe,je}throw new Error("hExtV parse error: "+oe)},this.getExtKeyUsage=function(oe,Ie){if(void 0===oe&&void 0===Ie){var Le=this.getExtInfo("keyUsage");if(void 0===Le)return;oe=k(this.hex,Le.vidx),Ie=Le.critical}var je={extname:"keyUsage"};return Ie&&(je.critical=!0),je.names=this.getExtKeyUsageString(oe).split(","),je},this.getExtKeyUsageBin=function(oe){if(void 0===oe){var Ie=this.getExtInfo("keyUsage");if(void 0===Ie)return"";oe=k(this.hex,Ie.vidx)}if(8!=oe.length&&10!=oe.length)throw new Error("malformed key usage value: "+oe);var Le="000000000000000"+parseInt(oe.substr(6),16).toString(2);return 8==oe.length&&(Le=Le.slice(-8)),10==oe.length&&(Le=Le.slice(-16)),""==(Le=Le.replace(/0+$/,""))&&(Le="0"),Le},this.getExtKeyUsageString=function(oe){for(var Ie=this.getExtKeyUsageBin(oe),Le=new Array,je=0;je<Ie.length;je++)"1"==Ie.substr(je,1)&&Le.push(oi.KEYUSAGE_NAME[je]);return Le.join(",")},this.getExtSubjectKeyIdentifier=function(oe,Ie){if(void 0===oe&&void 0===Ie){var Le=this.getExtInfo("subjectKeyIdentifier");if(void 0===Le)return;oe=k(this.hex,Le.vidx),Ie=Le.critical}var je={extname:"subjectKeyIdentifier"};Ie&&(je.critical=!0);var Q=T(oe,0);return je.kid={hex:Q},je},this.getExtAuthorityKeyIdentifier=function(oe,Ie){if(void 0===oe&&void 0===Ie){var Le=this.getExtInfo("authorityKeyIdentifier");if(void 0===Le)return;oe=k(this.hex,Le.vidx),Ie=Le.critical}var je={extname:"authorityKeyIdentifier"};Ie&&(je.critical=!0);for(var Q=f(oe,0),Fe=0;Fe<Q.length;Fe++){var ze=oe.substr(Q[Fe],2);if("80"===ze&&(je.kid={hex:T(oe,Q[Fe])}),"a1"===ze){var Be=k(oe,Q[Fe]),Rt=this.getGeneralNames(Be);je.issuer=Rt[0].dn}"82"===ze&&(je.sn={hex:T(oe,Q[Fe])})}return je},this.getExtExtKeyUsage=function(oe,Ie){if(void 0===oe&&void 0===Ie){var Le=this.getExtInfo("extKeyUsage");if(void 0===Le)return;oe=k(this.hex,Le.vidx),Ie=Le.critical}var je={extname:"extKeyUsage",array:[]};Ie&&(je.critical=!0);for(var Q=f(oe,0),Fe=0;Fe<Q.length;Fe++)je.array.push(Ve(T(oe,Q[Fe])));return je},this.getExtExtKeyUsageName=function(){var oe=this.getExtInfo("extKeyUsage");if(void 0===oe)return oe;var Ie=new Array,Le=k(this.hex,oe.vidx);if(""===Le)return Ie;for(var je=f(Le,0),Q=0;Q<je.length;Q++)Ie.push(Ve(T(Le,je[Q])));return Ie},this.getExtSubjectAltName=function(oe,Ie){if(void 0===oe&&void 0===Ie){var Le=this.getExtInfo("subjectAltName");if(void 0===Le)return;oe=k(this.hex,Le.vidx),Ie=Le.critical}var je={extname:"subjectAltName",array:[]};return Ie&&(je.critical=!0),je.array=this.getGeneralNames(oe),je},this.getExtIssuerAltName=function(oe,Ie){if(void 0===oe&&void 0===Ie){var Le=this.getExtInfo("issuerAltName");if(void 0===Le)return;oe=k(this.hex,Le.vidx),Ie=Le.critical}var je={extname:"issuerAltName",array:[]};return Ie&&(je.critical=!0),je.array=this.getGeneralNames(oe),je},this.getGeneralNames=function(oe){for(var Ie=f(oe,0),Le=[],je=0;je<Ie.length;je++){var Q=this.getGeneralName(k(oe,Ie[je]));void 0!==Q&&Le.push(Q)}return Le},this.getGeneralName=function(oe){var Ie=oe.substr(0,2),Le=T(oe,0),je=lt(Le);return"81"==Ie?{rfc822:je}:"82"==Ie?{dns:je}:"86"==Ie?{uri:je}:"87"==Ie?{ip:ci(Le)}:"a4"==Ie?{dn:this.getX500Name(Le)}:void 0},this.getExtSubjectAltName2=function(){var oe,Ie,Le,je=this.getExtInfo("subjectAltName");if(void 0===je)return je;for(var Q=new Array,Fe=k(this.hex,je.vidx),ze=f(Fe,0),Be=0;Be<ze.length;Be++)Le=Fe.substr(ze[Be],2),oe=T(Fe,ze[Be]),"81"===Le&&(Ie=at(oe),Q.push(["MAIL",Ie])),"82"===Le&&(Ie=at(oe),Q.push(["DNS",Ie])),"84"===Le&&(Ie=oi.hex2dn(oe,0),Q.push(["DN",Ie])),"86"===Le&&(Ie=at(oe),Q.push(["URI",Ie])),"87"===Le&&(Ie=ci(oe),Q.push(["IP",Ie]));return Q},this.getExtCRLDistributionPoints=function(oe,Ie){if(void 0===oe&&void 0===Ie){var Le=this.getExtInfo("cRLDistributionPoints");if(void 0===Le)return;oe=k(this.hex,Le.vidx),Ie=Le.critical}var je={extname:"cRLDistributionPoints",array:[]};Ie&&(je.critical=!0);for(var Q=f(oe,0),Fe=0;Fe<Q.length;Fe++){var ze=k(oe,Q[Fe]);je.array.push(this.getDistributionPoint(ze))}return je},this.getDistributionPoint=function(oe){for(var Ie={},Le=f(oe,0),je=0;je<Le.length;je++){var Q=oe.substr(Le[je],2),Fe=k(oe,Le[je]);"a0"==Q&&(Ie.dpname=this.getDistributionPointName(Fe))}return Ie},this.getDistributionPointName=function(oe){for(var Ie={},Le=f(oe,0),je=0;je<Le.length;je++){var Q=oe.substr(Le[je],2),Fe=k(oe,Le[je]);"a0"==Q&&(Ie.full=this.getGeneralNames(Fe))}return Ie},this.getExtCRLDistributionPointsURI=function(){var oe=this.getExtInfo("cRLDistributionPoints");if(void 0===oe)return oe;for(var Ie=new Array,Le=f(this.hex,oe.vidx),je=0;je<Le.length;je++)try{var Q=at(te(this.hex,Le[je],[0,0,0],"86"));Ie.push(Q)}catch{}return Ie},this.getExtAIAInfo=function(){var oe=this.getExtInfo("authorityInfoAccess");if(void 0===oe)return oe;for(var Ie={ocsp:[],caissuer:[]},Le=f(this.hex,oe.vidx),je=0;je<Le.length;je++){var Q=te(this.hex,Le[je],[0],"06"),Fe=te(this.hex,Le[je],[1],"86");"2b06010505073001"===Q&&Ie.ocsp.push(at(Fe)),"2b06010505073002"===Q&&Ie.caissuer.push(at(Fe))}return Ie},this.getExtAuthorityInfoAccess=function(oe,Ie){if(void 0===oe&&void 0===Ie){var Le=this.getExtInfo("authorityInfoAccess");if(void 0===Le)return;oe=k(this.hex,Le.vidx),Ie=Le.critical}var je={extname:"authorityInfoAccess",array:[]};Ie&&(je.critical=!0);for(var Q=f(oe,0),Fe=0;Fe<Q.length;Fe++){var ze=_e(oe,Q[Fe],[0],"06"),Be=at(te(oe,Q[Fe],[1],"86"));if("2b06010505073001"==ze)je.array.push({ocsp:Be});else{if("2b06010505073002"!=ze)throw new Error("unknown method: "+ze);je.array.push({caissuer:Be})}}return je},this.getExtCertificatePolicies=function(oe,Ie){if(void 0===oe&&void 0===Ie){var Le=this.getExtInfo("certificatePolicies");if(void 0===Le)return;oe=k(this.hex,Le.vidx),Ie=Le.critical}var je={extname:"certificatePolicies",array:[]};Ie&&(je.critical=!0);for(var Q=f(oe,0),Fe=0;Fe<Q.length;Fe++){var ze=k(oe,Q[Fe]),Be=this.getPolicyInformation(ze);je.array.push(Be)}return je},this.getPolicyInformation=function(oe){var Ie={},Le=te(oe,0,[0],"06");Ie.policyoid=Ve(Le);var je=Ee(oe,0,[1],"30");if(-1!=je){Ie.array=[];for(var Q=f(oe,je),Fe=0;Fe<Q.length;Fe++){var ze=k(oe,Q[Fe]),Be=this.getPolicyQualifierInfo(ze);Ie.array.push(Be)}}return Ie},this.getPolicyQualifierInfo=function(oe){var Ie={},Le=te(oe,0,[0],"06");if("2b06010505070201"===Le){var je=_e(oe,0,[1],"16");Ie.cps=lt(je)}else if("2b06010505070202"===Le){var Q=he(oe,0,[1],"30");Ie.unotice=this.getUserNotice(Q)}return Ie},this.getUserNotice=function(oe){for(var Ie={},Le=f(oe,0),je=0;je<Le.length;je++){var Q=k(oe,Le[je]);"30"!=Q.substr(0,2)&&(Ie.exptext=this.getDisplayText(Q))}return Ie},this.getDisplayText=function(oe){var Ie={};return Ie.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[oe.substr(0,2)],Ie.str=lt(T(oe,0)),Ie},this.getExtCRLNumber=function(oe,Ie){var Le={extname:"cRLNumber"};if(Ie&&(Le.critical=!0),"02"==oe.substr(0,2))return Le.num={hex:T(oe,0)},Le;throw new Error("hExtV parse error: "+oe)},this.getExtCRLReason=function(oe,Ie){var Le={extname:"cRLReason"};if(Ie&&(Le.critical=!0),"0a"==oe.substr(0,2))return Le.code=parseInt(T(oe,0),16),Le;throw new Error("hExtV parse error: "+oe)},this.getExtOcspNonce=function(oe,Ie){var Le={extname:"ocspNonce"};Ie&&(Le.critical=!0);var je=T(oe,0);return Le.hex=je,Le},this.getExtOcspNoCheck=function(oe,Ie){var Le={extname:"ocspNoCheck"};return Ie&&(Le.critical=!0),Le},this.getExtAdobeTimeStamp=function(oe,Ie){if(void 0===oe&&void 0===Ie){var Le=this.getExtInfo("adobeTimeStamp");if(void 0===Le)return;oe=k(this.hex,Le.vidx),Ie=Le.critical}var je={extname:"adobeTimeStamp"};Ie&&(je.critical=!0);var Q=f(oe,0);if(Q.length>1){var Fe=k(oe,Q[1]),ze=this.getGeneralName(Fe);null!=ze.uri&&(je.uri=ze.uri)}if(Q.length>2){var Be=k(oe,Q[2]);"0101ff"==Be&&(je.reqauth=!0),"010100"==Be&&(je.reqauth=!1)}return je},this.getX500NameRule=function(oe){for(var Ie=null,Le=[],je=0;je<oe.length;je++)for(var Q=oe[je],Fe=0;Fe<Q.length;Fe++)Le.push(Q[Fe]);for(je=0;je<Le.length;je++){var ze=Le[je],Be=ze.ds,_t=ze.type;if("prn"!=Be&&"utf8"!=Be&&"ia5"!=Be)return"mixed";if("ia5"==Be){if("CN"!=_t)return"mixed";if(ce.lang.String.isMail(ze.value))continue;return"mixed"}if("C"==_t){if("prn"==Be)continue;return"mixed"}if(null==Ie)Ie=Be;else if(Ie!==Be)return"mixed"}return Ie??"prn"},this.getX500Name=function(oe){var Ie=this.getX500NameArray(oe);return{array:Ie,str:this.dnarraytostr(Ie)}},this.getX500NameArray=function(oe){for(var Ie=[],Le=f(oe,0),je=0;je<Le.length;je++)Ie.push(this.getRDN(k(oe,Le[je])));return Ie},this.getRDN=function(oe){for(var Ie=[],Le=f(oe,0),je=0;je<Le.length;je++)Ie.push(this.getAttrTypeAndValue(k(oe,Le[je])));return Ie},this.getAttrTypeAndValue=function(oe){var Ie={type:null,value:null,ds:null},Le=f(oe,0),je=te(oe,Le[0],[],"06"),Q=te(oe,Le[1],[]),Fe=ce.asn1.ASN1Util.oidHexToInt(je);return Ie.type=ce.asn1.x509.OID.oid2atype(Fe),Ie.value=lt(Q),Ie.ds=this.HEX2STAG[oe.substr(Le[1],2)],Ie},this.readCertPEM=function(oe){this.readCertHex(ft(oe))},this.readCertHex=function(oe){this.hex=oe,this.getVersion();try{Ce(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var oe={};return oe.version=this.getVersion(),oe.serial={hex:this.getSerialNumberHex()},oe.sigalg=this.getSignatureAlgorithmField(),oe.issuer=this.getIssuer(),oe.notbefore=this.getNotBefore(),oe.notafter=this.getNotAfter(),oe.subject=this.getSubject(),oe.sbjpubkey=Ke(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(oe.ext=this.getExtParamArray()),oe.sighex=this.getSignatureValueHex(),oe},this.getExtParamArray=function(oe){null==oe&&-1!=Ee(this.hex,0,[0,"[3]"])&&(oe=we(this.hex,0,[0,"[3]",0],"30"));for(var Ie=[],Le=f(oe,0),je=0;je<Le.length;je++){var Q=k(oe,Le[je]),Fe=this.getExtParam(Q);null!=Fe&&Ie.push(Fe)}return Ie},this.getExtParam=function(oe){var Ie=f(oe,0).length;if(2!=Ie&&3!=Ie)throw new Error("wrong number elements in Extension: "+Ie+" "+oe);var Le=ot(te(oe,0,[0],"06")),je=!1;3==Ie&&"0101ff"==he(oe,0,[1])&&(je=!0);var Q=he(oe,0,[Ie-1,0]),Fe=void 0;if("2.5.29.14"==Le?Fe=this.getExtSubjectKeyIdentifier(Q,je):"2.5.29.15"==Le?Fe=this.getExtKeyUsage(Q,je):"2.5.29.17"==Le?Fe=this.getExtSubjectAltName(Q,je):"2.5.29.18"==Le?Fe=this.getExtIssuerAltName(Q,je):"2.5.29.19"==Le?Fe=this.getExtBasicConstraints(Q,je):"2.5.29.31"==Le?Fe=this.getExtCRLDistributionPoints(Q,je):"2.5.29.32"==Le?Fe=this.getExtCertificatePolicies(Q,je):"2.5.29.35"==Le?Fe=this.getExtAuthorityKeyIdentifier(Q,je):"2.5.29.37"==Le?Fe=this.getExtExtKeyUsage(Q,je):"1.3.6.1.5.5.7.1.1"==Le?Fe=this.getExtAuthorityInfoAccess(Q,je):"2.5.29.20"==Le?Fe=this.getExtCRLNumber(Q,je):"2.5.29.21"==Le?Fe=this.getExtCRLReason(Q,je):"1.3.6.1.5.5.7.48.1.2"==Le?Fe=this.getExtOcspNonce(Q,je):"1.3.6.1.5.5.7.48.1.5"==Le?Fe=this.getExtOcspNoCheck(Q,je):"1.2.840.113583.1.1.9.1"==Le&&(Fe=this.getExtAdobeTimeStamp(Q,je)),null!=Fe)return Fe;var ze={extname:Le,extn:Q};return je&&(ze.critical=!0),ze},this.findExt=function(oe,Ie){for(var Le=0;Le<oe.length;Le++)if(oe[Le].extname==Ie)return oe[Le];return null},this.updateExtCDPFullURI=function(oe,Ie){var Le=this.findExt(oe,"cRLDistributionPoints");if(null!=Le&&null!=Le.array)for(var je=Le.array,Q=0;Q<je.length;Q++)if(null!=je[Q].dpname&&null!=je[Q].dpname.full)for(var Fe=je[Q].dpname.full,ze=0;ze<Fe.length;ze++){var Be=Fe[Q];null!=Be.uri&&(Be.uri=Ie)}},this.updateExtAIAOCSP=function(oe,Ie){var Le=this.findExt(oe,"authorityInfoAccess");if(null!=Le&&null!=Le.array)for(var je=Le.array,Q=0;Q<je.length;Q++)null!=je[Q].ocsp&&(je[Q].ocsp=Ie)},this.updateExtAIACAIssuer=function(oe,Ie){var Le=this.findExt(oe,"authorityInfoAccess");if(null!=Le&&null!=Le.array)for(var je=Le.array,Q=0;Q<je.length;Q++)null!=je[Q].caissuer&&(je[Q].caissuer=Ie)},this.dnarraytostr=function(oe){return"/"+oe.map(function(Ie){return Ie.map(function(Q){return(ze=Q).type+"="+ze.value;var ze}).join("+")}).join("/")},this.getInfo=function(){var oe,Ie,Le,$n,Q=function($n){for(var ui="",$i=$n.array,Xn=0;Xn<$i.length;Xn++){var vi=$i[Xn];if(ui+="    policy oid: "+vi.policyoid+"\n",void 0!==vi.array)for(var zi=0;zi<vi.array.length;zi++){var Zi=vi.array[zi];void 0!==Zi.cps&&(ui+="    cps: "+Zi.cps+"\n")}}return ui},Fe=function($n){for(var ui="",$i=$n.array,Xn=0;Xn<$i.length;Xn++){var vi=$i[Xn];try{void 0!==vi.dpname.full[0].uri&&(ui+="    "+vi.dpname.full[0].uri+"\n")}catch{}try{void 0!==vi.dname.full[0].dn.hex&&(ui+="    "+oi.hex2dn(vi.dpname.full[0].dn.hex)+"\n")}catch{}}return ui},ze=function($n){for(var ui="",$i=$n.array,Xn=0;Xn<$i.length;Xn++){var vi=$i[Xn];void 0!==vi.caissuer&&(ui+="    caissuer: "+vi.caissuer+"\n"),void 0!==vi.ocsp&&(ui+="    ocsp: "+vi.ocsp+"\n")}return ui};if(oe="Basic Fields\n",oe+="  serial number: "+this.getSerialNumberHex()+"\n",oe+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",oe+="  issuer: "+this.getIssuerString()+"\n",oe+="  notBefore: "+this.getNotBefore()+"\n",oe+="  notAfter: "+this.getNotAfter()+"\n",oe+="  subject: "+this.getSubjectString()+"\n",oe+="  subject public key info: \n",oe+="    key algorithm: "+(Ie=this.getPublicKey()).type+"\n","RSA"===Ie.type&&(oe+="    n="+ir(Ie.n.toString(16)).substr(0,16)+"...\n",oe+="    e="+ir(Ie.e.toString(16))+"\n"),null!=(Le=this.aExtInfo)){oe+="X509v3 Extensions:\n";for(var Be=0;Be<Le.length;Be++){var Rt=Le[Be],_t=ce.asn1.x509.OID.oid2name(Rt.oid);""===_t&&(_t=Rt.oid);var Jt="";if(!0===Rt.critical&&(Jt="CRITICAL"),oe+="  "+_t+" "+Jt+":\n","basicConstraints"===_t){var Mn=this.getExtBasicConstraints();void 0===Mn.cA?oe+="    {}\n":(oe+="    cA=true",void 0!==Mn.pathLen&&(oe+=", pathLen="+Mn.pathLen),oe+="\n")}else if("keyUsage"===_t)oe+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===_t)oe+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===_t){var Ln=this.getExtAuthorityKeyIdentifier();void 0!==Ln.kid&&(oe+="    kid="+Ln.kid.hex+"\n")}else"extKeyUsage"===_t?oe+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===_t?oe+="    "+($n=this.getExtSubjectAltName(),JSON.stringify($n.array).replace(/[\[\]\{\}\"]/g,"")+"\n"):"cRLDistributionPoints"===_t?oe+=Fe(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===_t?oe+=ze(this.getExtAuthorityInfoAccess()):"certificatePolicies"===_t&&(oe+=Q(this.getExtCertificatePolicies()))}}return(oe+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof i&&(-1!=i.indexOf("-----BEGIN")?this.readCertPEM(i):ce.lang.String.isHex(i)&&this.readCertHex(i))}sn.prototype.sign=function(i,r){var a=function(T){return ce.crypto.Util.hashString(T,r)}(i);return this.signWithMessageHash(a,r)},sn.prototype.signWithMessageHash=function(i,r){var a=Hn(ce.crypto.Util.getPaddedDigestInfoHex(i,r,this.n.bitLength()),16);return Tr(this.doPrivate(a).toString(16),this.n.bitLength())},sn.prototype.signPSS=function(i,r,a){var k,f=(k=Bt(i),ce.crypto.Util.hashHex(k,r));return void 0===a&&(a=-1),this.signWithMessageHashPSS(f,r,a)},sn.prototype.signWithMessageHashPSS=function(i,r,a){var f,T=lt(i),k=T.length,te=this.n.bitLength()-1,_e=Math.ceil(te/8),he=function(oe){return ce.crypto.Util.hashHex(oe,r)};if(-1===a||void 0===a)a=k;else if(-2===a)a=_e-k-2;else if(a<-2)throw new Error("invalid salt length");if(_e<k+a+2)throw new Error("data too long");var we="";a>0&&(we=new Array(a),(new On).nextBytes(we),we=String.fromCharCode.apply(String,we));var Ce=lt(he(Bt("\0\0\0\0\0\0\0\0"+T+we))),Ee=[];for(f=0;f<_e-a-k-2;f+=1)Ee[f]=0;var xe=String.fromCharCode.apply(String,Ee)+"\x01"+we,Ve=rr(Ce,xe.length,he),ot=[];for(f=0;f<xe.length;f+=1)ot[f]=xe.charCodeAt(f)^Ve.charCodeAt(f);for(ot[0]&=~(65280>>8*_e-te&255),f=0;f<k;f++)ot.push(Ce.charCodeAt(f));return ot.push(188),Tr(this.doPrivate(new fe(ot)).toString(16),this.n.bitLength())},sn.prototype.verify=function(i,r){var a=Hn(r=(r=r.replace(ar,"")).replace(/[ \n]+/g,""),16);if(a.bitLength()>this.n.bitLength())return 0;var f=Ai(this.doPublic(a).toString(16).replace(/^1f+00/,""));return 0!=f.length&&f[1]==ce.crypto.Util.hashString(i,f[0])},sn.prototype.verifyWithMessageHash=function(i,r){if(r.length!=Math.ceil(this.n.bitLength()/4))return!1;var a=Hn(r,16);if(a.bitLength()>this.n.bitLength())return 0;var f=Ai(this.doPublic(a).toString(16).replace(/^1f+00/,""));return 0!=f.length&&f[1]==i},sn.prototype.verifyPSS=function(i,r,a,f){var te,T=(te=Bt(i),ce.crypto.Util.hashHex(te,a));return void 0===f&&(f=-1),this.verifyWithMessageHashPSS(T,r,a,f)},sn.prototype.verifyWithMessageHashPSS=function(i,r,a,f){if(r.length!=Math.ceil(this.n.bitLength()/4))return!1;var T,k=new fe(r,16),te=function(Le){return ce.crypto.Util.hashHex(Le,a)},_e=lt(i),he=_e.length,we=this.n.bitLength()-1,Ce=Math.ceil(we/8);if(-1===f||void 0===f)f=he;else if(-2===f)f=Ce-he-2;else if(f<-2)throw new Error("invalid salt length");if(Ce<he+f+2)throw new Error("data too long");var Ee=this.doPublic(k).toByteArray();for(T=0;T<Ee.length;T+=1)Ee[T]&=255;for(;Ee.length<Ce;)Ee.unshift(0);if(188!==Ee[Ce-1])throw new Error("encoded message does not end in 0xbc");var xe=(Ee=String.fromCharCode.apply(String,Ee)).substr(0,Ce-he-1),Ve=Ee.substr(xe.length,he),ot=65280>>8*Ce-we&255;if(xe.charCodeAt(0)&ot)throw new Error("bits beyond keysize not zero");var ut=rr(Ve,xe.length,te),ft=[];for(T=0;T<xe.length;T+=1)ft[T]=xe.charCodeAt(T)^ut.charCodeAt(T);ft[0]&=~ot;var oe=Ce-he-f-2;for(T=0;T<oe;T+=1)if(0!==ft[T])throw new Error("leftmost octets not zero");if(1!==ft[oe])throw new Error("0x01 marker not found");return Ve===lt(te(Bt("\0\0\0\0\0\0\0\0"+_e+String.fromCharCode.apply(String,ft.slice(-f)))))},sn.SALT_LEN_HLEN=-1,sn.SALT_LEN_MAX=-2,sn.SALT_LEN_RECOVER=-2,oi.hex2dn=function(i,r){if(void 0===r&&(r=0),"30"!==i.substr(r,2))throw new Error("malformed DN");for(var a=new Array,f=Qt.getChildIdx(i,r),T=0;T<f.length;T++)a.push(oi.hex2rdn(i,f[T]));return"/"+(a=a.map(function(k){return k.replace("/","\\/")})).join("/")},oi.hex2rdn=function(i,r){if(void 0===r&&(r=0),"31"!==i.substr(r,2))throw new Error("malformed RDN");for(var a=new Array,f=Qt.getChildIdx(i,r),T=0;T<f.length;T++)a.push(oi.hex2attrTypeValue(i,f[T]));return(a=a.map(function(k){return k.replace("+","\\+")})).join("+")},oi.hex2attrTypeValue=function(i,r){var a=Qt,f=a.getV;if(void 0===r&&(r=0),"30"!==i.substr(r,2))throw new Error("malformed attribute type and value");var T=a.getChildIdx(i,r);2!==T.length||i.substr(T[0],2);var k=f(i,T[0]),te=ce.asn1.ASN1Util.oidHexToInt(k);return ce.asn1.x509.OID.oid2atype(te)+"="+lt(f(i,T[1]))},oi.getPublicKeyFromCertHex=function(i){var r=new oi;return r.readCertHex(i),r.getPublicKey()},oi.getPublicKeyFromCertPEM=function(i){var r=new oi;return r.readCertPEM(i),r.getPublicKey()},oi.getPublicKeyInfoPropOfCertPEM=function(i){var r,a,f=Qt.getVbyList,T={algparam:null};return(r=new oi).readCertPEM(i),a=r.getPublicKeyHex(),T.keyhex=f(a,0,[1],"03").substr(2),T.algoid=f(a,0,[0,0],"06"),"2a8648ce3d0201"===T.algoid&&(T.algparam=f(a,0,[0,1],"06")),T},oi.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ce&&ce||(l.KJUR=ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWS=function(){var i=ce.jws.JWS.isSafeJSONString;this.parseJWS=function(r,a){if(void 0===this.parsedJWS||!a&&void 0===this.parsedJWS.sigvalH){var f=r.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==f)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var T=f[1],k=f[2],te=f[3],_e=T+"."+k;if(this.parsedJWS={},this.parsedJWS.headB64U=T,this.parsedJWS.payloadB64U=k,this.parsedJWS.sigvalB64U=te,this.parsedJWS.si=_e,!a){var he=et(te),we=Hn(he,16);this.parsedJWS.sigvalH=he,this.parsedJWS.sigvalBI=we}var Ce=Ii(T),Ee=Ii(k);if(this.parsedJWS.headS=Ce,this.parsedJWS.payloadS=Ee,!i(Ce,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Ce}}},ce.jws.JWS.sign=function(i,r,a,f,T){var k,te,_e,we=ce.jws.JWS,Ce=we.readSafeJSONString,Ee=we.isSafeJSONString,xe=ce.crypto,Ve=xe.Mac,ot=xe.Signature,ut=JSON;if("string"!=typeof r&&"object"!=(void 0===r?"undefined":u(r)))throw"spHeader must be JSON string or object: "+r;if("object"==(void 0===r?"undefined":u(r))&&(k=ut.stringify(te=r)),"string"==typeof r){if(!Ee(k=r))throw"JWS Head is not safe JSON string: "+k;te=Ce(k)}if(_e=a,"object"==(void 0===a?"undefined":u(a))&&(_e=ut.stringify(a)),""!=i&&null!=i||void 0===te.alg||(i=te.alg),""!=i&&null!=i&&void 0===te.alg&&(te.alg=i,k=ut.stringify(te)),i!==te.alg)throw"alg and sHeader.alg doesn't match: "+i+"!="+te.alg;var ft=null;if(void 0===we.jwsalg2sigalg[i])throw"unsupported alg name: "+i;ft=we.jwsalg2sigalg[i];var oe=Di(k)+"."+Di(_e),Ie="";if("Hmac"==ft.substr(0,4)){if(void 0===f)throw"mac key shall be specified for HS* alg";var Le=new Ve({alg:ft,prov:"cryptojs",pass:f});Le.updateString(oe),Ie=Le.doFinal()}else if(-1!=ft.indexOf("withECDSA")){(Q=new ot({alg:ft})).init(f,T),Q.updateString(oe);var je=Q.sign();Ie=ce.crypto.ECDSA.asn1SigToConcatSig(je)}else{var Q;"none"!=ft&&((Q=new ot({alg:ft})).init(f,T),Q.updateString(oe),Ie=Q.sign())}return oe+"."+pe(Ie)},ce.jws.JWS.verify=function(i,r,a){var f,k=ce.jws.JWS,te=k.readSafeJSONString,_e=ce.crypto,he=_e.ECDSA,we=_e.Mac,Ce=_e.Signature;void 0!==u(sn)&&(f=sn);var Ee=i.split(".");if(3!==Ee.length)return!1;var ft,xe=Ee[0]+"."+Ee[1],Ve=et(Ee[2]),ot=te(Ii(Ee[0])),ut=null;if(void 0===ot.alg)throw"algorithm not specified in header";if(ft=(ut=ot.alg).substr(0,2),null!=a&&"[object Array]"===Object.prototype.toString.call(a)&&a.length>0&&-1==(":"+a.join(":")+":").indexOf(":"+ut+":"))throw"algorithm '"+ut+"' not accepted in the list";if("none"!=ut&&null===r)throw"key shall be specified to verify.";if("string"==typeof r&&-1!=r.indexOf("-----BEGIN ")&&(r=Pi.getKey(r)),!("RS"!=ft&&"PS"!=ft||r instanceof f))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==ft&&!(r instanceof he))throw"key shall be a ECDSA obj for ES* algs";var oe=null;if(void 0===k.jwsalg2sigalg[ot.alg])throw"unsupported alg name: "+ut;if("none"==(oe=k.jwsalg2sigalg[ut]))throw"not supported";if("Hmac"==oe.substr(0,4)){if(void 0===r)throw"hexadecimal key shall be specified for HMAC";var Ie=new we({alg:oe,pass:r});return Ie.updateString(xe),Ve==Ie.doFinal()}if(-1!=oe.indexOf("withECDSA")){var Le,je=null;try{je=he.concatSigToASN1Sig(Ve)}catch{return!1}return(Le=new Ce({alg:oe})).init(r),Le.updateString(xe),Le.verify(je)}return(Le=new Ce({alg:oe})).init(r),Le.updateString(xe),Le.verify(Ve)},ce.jws.JWS.parse=function(i){var a,f,T=i.split("."),k={};if(2!=T.length&&3!=T.length)throw"malformed sJWS: wrong number of '.' splitted elements";return a=T[1],3==T.length&&(f=T[2]),k.headerObj=ce.jws.JWS.readSafeJSONString(Ii(T[0])),k.payloadObj=ce.jws.JWS.readSafeJSONString(Ii(a)),k.headerPP=JSON.stringify(k.headerObj,null,"  "),k.payloadPP=null==k.payloadObj?Ii(a):JSON.stringify(k.payloadObj,null,"  "),void 0!==f&&(k.sigHex=et(f)),k},ce.jws.JWS.verifyJWT=function(i,r,a){var f=ce.jws,T=f.JWS,k=T.readSafeJSONString,te=T.inArray,_e=T.includedArray,he=i.split("."),we=he[0],Ce=he[1],Ee=(et(he[2]),k(Ii(we))),xe=k(Ii(Ce));if(void 0===Ee.alg)return!1;if(void 0===a.alg)throw"acceptField.alg shall be specified";if(!te(Ee.alg,a.alg)||void 0!==xe.iss&&"object"===u(a.iss)&&!te(xe.iss,a.iss)||void 0!==xe.sub&&"object"===u(a.sub)&&!te(xe.sub,a.sub))return!1;if(void 0!==xe.aud&&"object"===u(a.aud))if("string"==typeof xe.aud){if(!te(xe.aud,a.aud))return!1}else if("object"==u(xe.aud)&&!_e(xe.aud,a.aud))return!1;var Ve=f.IntDate.getNow();return void 0!==a.verifyAt&&"number"==typeof a.verifyAt&&(Ve=a.verifyAt),void 0!==a.gracePeriod&&"number"==typeof a.gracePeriod||(a.gracePeriod=0),!(void 0!==xe.exp&&"number"==typeof xe.exp&&xe.exp+a.gracePeriod<Ve||void 0!==xe.nbf&&"number"==typeof xe.nbf&&Ve<xe.nbf-a.gracePeriod||void 0!==xe.iat&&"number"==typeof xe.iat&&Ve<xe.iat-a.gracePeriod||void 0!==xe.jti&&void 0!==a.jti&&xe.jti!==a.jti||!T.verify(i,r,a.alg))},ce.jws.JWS.includedArray=function(i,r){var a=ce.jws.JWS.inArray;if(null===i||"object"!==(void 0===i?"undefined":u(i))||"number"!=typeof i.length)return!1;for(var f=0;f<i.length;f++)if(!a(i[f],r))return!1;return!0},ce.jws.JWS.inArray=function(i,r){if(null===r||"object"!==(void 0===r?"undefined":u(r))||"number"!=typeof r.length)return!1;for(var a=0;a<r.length;a++)if(r[a]==i)return!0;return!1},ce.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ce.jws.JWS.isSafeJSONString=function(i,r,a){var f=null;try{return"object"!=(void 0===(f=ri(i))?"undefined":u(f))||f.constructor===Array?0:(r&&(r[a]=f),1)}catch{return 0}},ce.jws.JWS.readSafeJSONString=function(i){var r=null;try{return"object"!=(void 0===(r=ri(i))?"undefined":u(r))||r.constructor===Array?null:r}catch{return null}},ce.jws.JWS.getEncodedSignatureValueFromJWS=function(i){var r=i.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return r[1]},ce.jws.JWS.getJWKthumbprint=function(i){if("RSA"!==i.kty&&"EC"!==i.kty&&"oct"!==i.kty)throw"unsupported algorithm for JWK Thumprint";var r="{";if("RSA"===i.kty){if("string"!=typeof i.n||"string"!=typeof i.e)throw"wrong n and e value for RSA key";r+='"e":"'+i.e+'",',r+='"kty":"'+i.kty+'",',r+='"n":"'+i.n+'"}'}else if("EC"===i.kty){if("string"!=typeof i.crv||"string"!=typeof i.x||"string"!=typeof i.y)throw"wrong crv, x and y value for EC key";r+='"crv":"'+i.crv+'",',r+='"kty":"'+i.kty+'",',r+='"x":"'+i.x+'",',r+='"y":"'+i.y+'"}'}else if("oct"===i.kty){if("string"!=typeof i.k)throw"wrong k value for oct(symmetric) key";r+='"kty":"'+i.kty+'",',r+='"k":"'+i.k+'"}'}var a=Bt(r);return pe(ce.crypto.Util.hashHex(a,"sha256"))},ce.jws.IntDate={},ce.jws.IntDate.get=function(i){var r=ce.jws.IntDate,a=r.getNow,f=r.getZulu;if("now"==i)return a();if("now + 1hour"==i)return a()+3600;if("now + 1day"==i)return a()+86400;if("now + 1month"==i)return a()+2592e3;if("now + 1year"==i)return a()+31536e3;if(i.match(/Z$/))return f(i);if(i.match(/^[0-9]+$/))return parseInt(i);throw"unsupported format: "+i},ce.jws.IntDate.getZulu=function(i){return Ye(i)},ce.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ce.jws.IntDate.intDate2UTCString=function(i){return new Date(1e3*i).toUTCString()},ce.jws.IntDate.intDate2Zulu=function(i){var r=new Date(1e3*i);return("0000"+r.getUTCFullYear()).slice(-4)+("00"+(r.getUTCMonth()+1)).slice(-2)+("00"+r.getUTCDate()).slice(-2)+("00"+r.getUTCHours()).slice(-2)+("00"+r.getUTCMinutes()).slice(-2)+("00"+r.getUTCSeconds()).slice(-2)+"Z"},l.SecureRandom=On,l.rng_seed_time=qe,l.BigInteger=fe,l.RSAKey=sn,l.EDSA=ce.crypto.EDSA,l.DSA=ce.crypto.DSA,l.Signature=ce.crypto.Signature,l.MessageDigest=ce.crypto.MessageDigest,l.Mac=ce.crypto.Mac,l.Cipher=ce.crypto.Cipher,l.KEYUTIL=Pi,l.ASN1HEX=Qt,l.X509=oi,l.CryptoJS=be,l.b64tohex=Me,l.b64toBA=st,l.stoBA=Cr,l.BAtos=Qi,l.BAtohex=Xi,l.stohex=Ut,l.stob64=function(r){return Ae(Ut(r))},l.stob64u=function(r){return It(Ae(Ut(r)))},l.b64utos=function(r){return Qi(st(J(r)))},l.b64tob64u=It,l.b64utob64=J,l.hex2b64=Ae,l.hextob64u=pe,l.b64utohex=et,l.utf8tob64u=Di,l.b64utoutf8=Ii,l.utf8tob64=function(r){return Ae(gt(Si(r)))},l.b64toutf8=function(r){return decodeURIComponent(kt(Me(r)))},l.utf8tohex=ct,l.hextoutf8=at,l.hextorstr=lt,l.rstrtohex=Bt,l.hextob64=fn,l.hextob64nl=yn,l.b64nltohex=Yt,l.hextopem=Ke,l.pemtohex=Lt,l.hextoArrayBuffer=function(r){if(r.length%2!=0)throw"input is not even length";if(null==r.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var a=new ArrayBuffer(r.length/2),f=new DataView(a),T=0;T<r.length/2;T++)f.setUint8(T,parseInt(r.substr(2*T,2),16));return a},l.ArrayBuffertohex=function(r){for(var a="",f=new DataView(r),T=0;T<r.byteLength;T++)a+=("00"+f.getUint8(T).toString(16)).slice(-2);return a},l.zulutomsec=me,l.zulutosec=Ye,l.zulutodate=function(r){return new Date(me(r))},l.datetozulu=function(r,a,f){var T,k=r.getUTCFullYear();if(a){if(k<1950||2049<k)throw"not proper year for UTCTime: "+k;T=(""+k).slice(-2)}else T=("000"+k).slice(-4);if(T+=("0"+(r.getUTCMonth()+1)).slice(-2),T+=("0"+r.getUTCDate()).slice(-2),T+=("0"+r.getUTCHours()).slice(-2),T+=("0"+r.getUTCMinutes()).slice(-2),T+=("0"+r.getUTCSeconds()).slice(-2),f){var te=r.getUTCMilliseconds();0!==te&&(T+="."+(te=(te=("00"+te).slice(-3)).replace(/0+$/g,"")))}return T+"Z"},l.uricmptohex=gt,l.hextouricmp=kt,l.ipv6tohex=Xt,l.hextoipv6=Rn,l.hextoip=ci,l.iptohex=function(r){var a="malformed IP address";if(!(r=r.toLowerCase(r)).match(/^[0-9.]+$/)){if(r.match(/^[0-9a-f:]+$/)&&-1!==r.indexOf(":"))return Xt(r);throw a}var f=r.split(".");if(4!==f.length)throw a;var T="";try{for(var k=0;k<4;k++)T+=("0"+parseInt(f[k]).toString(16)).slice(-2);return T}catch{throw a}},l.encodeURIComponentAll=Si,l.newline_toUnix=function(r){return r.replace(/\r\n/gm,"\n")},l.newline_toDos=function(r){return(r=r.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},l.hextoposhex=ir,l.intarystrtohex=function(r){r=(r=(r=r.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return r.split(/,/).map(function(a,f,T){var k=parseInt(a);if(k<0||255<k)throw"integer not in range 0-255";return("00"+k.toString(16)).slice(-2)}).join("")}catch(a){throw"malformed integer array string: "+a}},l.strdiffidx=function(r,a){var f=r.length;r.length>a.length&&(f=a.length);for(var T=0;T<f;T++)if(r.charCodeAt(T)!=a.charCodeAt(T))return T;return r.length!=a.length?f:-1},l.KJUR=ce,l.crypto=ce.crypto,l.asn1=ce.asn1,l.jws=ce.jws,l.lang=ce.lang}).call(this,e(28).Buffer)},function(le,l,e){"use strict";(function(S){var u=e(30),N=e(31),x=e(32);function h(){return E.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(Te,U){if(h()<U)throw new RangeError("Invalid typed array length");return E.TYPED_ARRAY_SUPPORT?(Te=new Uint8Array(U)).__proto__=E.prototype:(null===Te&&(Te=new E(U)),Te.length=U),Te}function E(Te,U,K){if(!(E.TYPED_ARRAY_SUPPORT||this instanceof E))return new E(Te,U,K);if("number"==typeof Te){if("string"==typeof U)throw new Error("If encoding is specified then the first argument must be a string");return V(this,Te)}return C(this,Te,U,K)}function C(Te,U,K,Re){if("number"==typeof U)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&U instanceof ArrayBuffer?function(tt,qe,yt,Qe){if(yt<0||qe.byteLength<yt)throw new RangeError("'offset' is out of bounds");if(qe.byteLength<yt+(Qe||0))throw new RangeError("'length' is out of bounds");return qe=void 0===yt&&void 0===Qe?new Uint8Array(qe):void 0===Qe?new Uint8Array(qe,yt):new Uint8Array(qe,yt,Qe),E.TYPED_ARRAY_SUPPORT?(tt=qe).__proto__=E.prototype:tt=$(tt,qe),tt}(Te,U,K,Re):"string"==typeof U?function(tt,qe,yt){if("string"==typeof yt&&""!==yt||(yt="utf8"),!E.isEncoding(yt))throw new TypeError('"encoding" must be a valid string encoding');var Qe=0|q(qe,yt),St=(tt=y(tt,Qe)).write(qe,yt);return St!==Qe&&(tt=tt.slice(0,St)),tt}(Te,U,K):function(tt,qe){if(E.isBuffer(qe)){var yt=0|j(qe.length);return 0===(tt=y(tt,yt)).length||qe.copy(tt,0,0,yt),tt}if(qe){if(typeof ArrayBuffer<"u"&&qe.buffer instanceof ArrayBuffer||"length"in qe)return"number"!=typeof qe.length||(St=qe.length)!=St?y(tt,0):$(tt,qe);if("Buffer"===qe.type&&x(qe.data))return $(tt,qe.data)}var St;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Te,U)}function F(Te){if("number"!=typeof Te)throw new TypeError('"size" argument must be a number');if(Te<0)throw new RangeError('"size" argument must not be negative')}function V(Te,U){if(F(U),Te=y(Te,U<0?0:0|j(U)),!E.TYPED_ARRAY_SUPPORT)for(var K=0;K<U;++K)Te[K]=0;return Te}function $(Te,U){var K=U.length<0?0:0|j(U.length);Te=y(Te,K);for(var Re=0;Re<K;Re+=1)Te[Re]=255&U[Re];return Te}function j(Te){if(Te>=h())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h().toString(16)+" bytes");return 0|Te}function q(Te,U){if(E.isBuffer(Te))return Te.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Te)||Te instanceof ArrayBuffer))return Te.byteLength;"string"!=typeof Te&&(Te=""+Te);var K=Te.length;if(0===K)return 0;for(var Re=!1;;)switch(U){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":case void 0:return jt(Te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return un(Te).length;default:if(Re)return jt(Te).length;U=(""+U).toLowerCase(),Re=!0}}function ee(Te,U,K){var Re=!1;if((void 0===U||U<0)&&(U=0),U>this.length||((void 0===K||K>this.length)&&(K=this.length),K<=0)||(K>>>=0)<=(U>>>=0))return"";for(Te||(Te="utf8");;)switch(Te){case"hex":return on(this,U,K);case"utf8":case"utf-8":return Vt(this,U,K);case"ascii":return dt(this,U,K);case"latin1":case"binary":return rn(this,U,K);case"base64":return Tt(this,U,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cn(this,U,K);default:if(Re)throw new TypeError("Unknown encoding: "+Te);Te=(Te+"").toLowerCase(),Re=!0}}function ue(Te,U,K){var Re=Te[U];Te[U]=Te[K],Te[K]=Re}function Ne(Te,U,K,Re,Ue){if(0===Te.length)return-1;if("string"==typeof K?(Re=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,isNaN(K)&&(K=Ue?0:Te.length-1),K<0&&(K=Te.length+K),K>=Te.length){if(Ue)return-1;K=Te.length-1}else if(K<0){if(!Ue)return-1;K=0}if("string"==typeof U&&(U=E.from(U,Re)),E.isBuffer(U))return 0===U.length?-1:be(Te,U,K,Re,Ue);if("number"==typeof U)return U&=255,E.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?Ue?Uint8Array.prototype.indexOf.call(Te,U,K):Uint8Array.prototype.lastIndexOf.call(Te,U,K):be(Te,[U],K,Re,Ue);throw new TypeError("val must be string, number or Buffer")}function be(Te,U,K,Re,Ue){var tt,qe=1,yt=Te.length,Qe=U.length;if(void 0!==Re&&("ucs2"===(Re=String(Re).toLowerCase())||"ucs-2"===Re||"utf16le"===Re||"utf-16le"===Re)){if(Te.length<2||U.length<2)return-1;qe=2,yt/=2,Qe/=2,K/=2}function St(Hn,zn){return 1===qe?Hn[zn]:Hn.readUInt16BE(zn*qe)}if(Ue){var $t=-1;for(tt=K;tt<yt;tt++)if(St(Te,tt)===St(U,-1===$t?0:tt-$t)){if(-1===$t&&($t=tt),tt-$t+1===Qe)return $t*qe}else-1!==$t&&(tt-=tt-$t),$t=-1}else for(K+Qe>yt&&(K=yt-Qe),tt=K;tt>=0;tt--){for(var an=!0,On=0;On<Qe;On++)if(St(Te,tt+On)!==St(U,On)){an=!1;break}if(an)return tt}return-1}function De(Te,U,K,Re){K=Number(K)||0;var Ue=Te.length-K;Re?(Re=Number(Re))>Ue&&(Re=Ue):Re=Ue;var tt=U.length;if(tt%2!=0)throw new TypeError("Invalid hex string");Re>tt/2&&(Re=tt/2);for(var qe=0;qe<Re;++qe){var yt=parseInt(U.substr(2*qe,2),16);if(isNaN(yt))return qe;Te[K+qe]=yt}return qe}function re(Te,U,K,Re){return An(jt(U,Te.length-K),Te,K,Re)}function Ae(Te,U,K,Re){return An(function(tt){for(var qe=[],yt=0;yt<tt.length;++yt)qe.push(255&tt.charCodeAt(yt));return qe}(U),Te,K,Re)}function Me(Te,U,K,Re){return Ae(Te,U,K,Re)}function st(Te,U,K,Re){return An(un(U),Te,K,Re)}function fe(Te,U,K,Re){return An(function(tt,qe){for(var yt,Qe,$t=[],an=0;an<tt.length&&!((qe-=2)<0);++an)Qe=(yt=tt.charCodeAt(an))>>8,$t.push(yt%256),$t.push(Qe);return $t}(U,Te.length-K),Te,K,Re)}function Tt(Te,U,K){return u.fromByteArray(0===U&&K===Te.length?Te:Te.slice(U,K))}function Vt(Te,U,K){K=Math.min(Te.length,K);for(var Re=[],Ue=U;Ue<K;){var tt,qe,yt,Qe,St=Te[Ue],$t=null,an=St>239?4:St>223?3:St>191?2:1;if(Ue+an<=K)switch(an){case 1:St<128&&($t=St);break;case 2:128==(192&(tt=Te[Ue+1]))&&(Qe=(31&St)<<6|63&tt)>127&&($t=Qe);break;case 3:qe=Te[Ue+2],128==(192&(tt=Te[Ue+1]))&&128==(192&qe)&&(Qe=(15&St)<<12|(63&tt)<<6|63&qe)>2047&&(Qe<55296||Qe>57343)&&($t=Qe);break;case 4:qe=Te[Ue+2],yt=Te[Ue+3],128==(192&(tt=Te[Ue+1]))&&128==(192&qe)&&128==(192&yt)&&(Qe=(15&St)<<18|(63&tt)<<12|(63&qe)<<6|63&yt)>65535&&Qe<1114112&&($t=Qe)}null===$t?($t=65533,an=1):$t>65535&&(Re.push(($t-=65536)>>>10&1023|55296),$t=56320|1023&$t),Re.push($t),Ue+=an}return function(Hn){var zn=Hn.length;if(zn<=xt)return String.fromCharCode.apply(String,Hn);for(var sn="",jn=0;jn<zn;)sn+=String.fromCharCode.apply(String,Hn.slice(jn,jn+=xt));return sn}(Re)}l.Buffer=E,l.SlowBuffer=function(U){return+U!=U&&(U=0),E.alloc(+U)},l.INSPECT_MAX_BYTES=50,E.TYPED_ARRAY_SUPPORT=void 0!==S.TYPED_ARRAY_SUPPORT?S.TYPED_ARRAY_SUPPORT:function(){try{var U=new Uint8Array(1);return U.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===U.foo()&&"function"==typeof U.subarray&&0===U.subarray(1,1).byteLength}catch{return!1}}(),l.kMaxLength=h(),E.poolSize=8192,E._augment=function(Te){return Te.__proto__=E.prototype,Te},E.from=function(Te,U,K){return C(null,Te,U,K)},E.TYPED_ARRAY_SUPPORT&&(E.prototype.__proto__=Uint8Array.prototype,E.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&E[Symbol.species]===E&&Object.defineProperty(E,Symbol.species,{value:null,configurable:!0})),E.alloc=function(Te,U,K){return null,qe=U,yt=K,F(tt=Te),tt<=0?y(null,tt):void 0!==qe?"string"==typeof yt?y(null,tt).fill(qe,yt):y(null,tt).fill(qe):y(null,tt);var tt,qe,yt},E.allocUnsafe=function(Te){return V(null,Te)},E.allocUnsafeSlow=function(Te){return V(null,Te)},E.isBuffer=function(U){return!(null==U||!U._isBuffer)},E.compare=function(U,K){if(!E.isBuffer(U)||!E.isBuffer(K))throw new TypeError("Arguments must be Buffers");if(U===K)return 0;for(var Re=U.length,Ue=K.length,tt=0,qe=Math.min(Re,Ue);tt<qe;++tt)if(U[tt]!==K[tt]){Re=U[tt],Ue=K[tt];break}return Re<Ue?-1:Ue<Re?1:0},E.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(U,K){if(!x(U))throw new TypeError('"list" argument must be an Array of Buffers');if(0===U.length)return E.alloc(0);var Re;if(void 0===K)for(K=0,Re=0;Re<U.length;++Re)K+=U[Re].length;var Ue=E.allocUnsafe(K),tt=0;for(Re=0;Re<U.length;++Re){var qe=U[Re];if(!E.isBuffer(qe))throw new TypeError('"list" argument must be an Array of Buffers');qe.copy(Ue,tt),tt+=qe.length}return Ue},E.byteLength=q,E.prototype._isBuffer=!0,E.prototype.swap16=function(){var U=this.length;if(U%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var K=0;K<U;K+=2)ue(this,K,K+1);return this},E.prototype.swap32=function(){var U=this.length;if(U%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var K=0;K<U;K+=4)ue(this,K,K+3),ue(this,K+1,K+2);return this},E.prototype.swap64=function(){var U=this.length;if(U%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var K=0;K<U;K+=8)ue(this,K,K+7),ue(this,K+1,K+6),ue(this,K+2,K+5),ue(this,K+3,K+4);return this},E.prototype.toString=function(){var U=0|this.length;return 0===U?"":0===arguments.length?Vt(this,0,U):ee.apply(this,arguments)},E.prototype.equals=function(U){if(!E.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U||0===E.compare(this,U)},E.prototype.inspect=function(){var U="",K=l.INSPECT_MAX_BYTES;return this.length>0&&(U=this.toString("hex",0,K).match(/.{2}/g).join(" "),this.length>K&&(U+=" ... ")),"<Buffer "+U+">"},E.prototype.compare=function(U,K,Re,Ue,tt){if(!E.isBuffer(U))throw new TypeError("Argument must be a Buffer");if(void 0===K&&(K=0),void 0===Re&&(Re=U?U.length:0),void 0===Ue&&(Ue=0),void 0===tt&&(tt=this.length),K<0||Re>U.length||Ue<0||tt>this.length)throw new RangeError("out of range index");if(Ue>=tt&&K>=Re)return 0;if(Ue>=tt)return-1;if(K>=Re)return 1;if(this===U)return 0;for(var qe=(tt>>>=0)-(Ue>>>=0),yt=(Re>>>=0)-(K>>>=0),Qe=Math.min(qe,yt),St=this.slice(Ue,tt),$t=U.slice(K,Re),an=0;an<Qe;++an)if(St[an]!==$t[an]){qe=St[an],yt=$t[an];break}return qe<yt?-1:yt<qe?1:0},E.prototype.includes=function(U,K,Re){return-1!==this.indexOf(U,K,Re)},E.prototype.indexOf=function(U,K,Re){return Ne(this,U,K,Re,!0)},E.prototype.lastIndexOf=function(U,K,Re){return Ne(this,U,K,Re,!1)},E.prototype.write=function(U,K,Re,Ue){if(void 0===K)Ue="utf8",Re=this.length,K=0;else if(void 0===Re&&"string"==typeof K)Ue=K,Re=this.length,K=0;else{if(!isFinite(K))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");K|=0,isFinite(Re)?(Re|=0,void 0===Ue&&(Ue="utf8")):(Ue=Re,Re=void 0)}var tt=this.length-K;if((void 0===Re||Re>tt)&&(Re=tt),U.length>0&&(Re<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ue||(Ue="utf8");for(var qe=!1;;)switch(Ue){case"hex":return De(this,U,K,Re);case"utf8":case"utf-8":return re(this,U,K,Re);case"ascii":return Ae(this,U,K,Re);case"latin1":case"binary":return Me(this,U,K,Re);case"base64":return st(this,U,K,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,U,K,Re);default:if(qe)throw new TypeError("Unknown encoding: "+Ue);Ue=(""+Ue).toLowerCase(),qe=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var xt=4096;function dt(Te,U,K){var Re="";K=Math.min(Te.length,K);for(var Ue=U;Ue<K;++Ue)Re+=String.fromCharCode(127&Te[Ue]);return Re}function rn(Te,U,K){var Re="";K=Math.min(Te.length,K);for(var Ue=U;Ue<K;++Ue)Re+=String.fromCharCode(Te[Ue]);return Re}function on(Te,U,K){var Re=Te.length;(!U||U<0)&&(U=0),(!K||K<0||K>Re)&&(K=Re);for(var Ue="",tt=U;tt<K;++tt)Ue+=zt(Te[tt]);return Ue}function cn(Te,U,K){for(var Re=Te.slice(U,K),Ue="",tt=0;tt<Re.length;tt+=2)Ue+=String.fromCharCode(Re[tt]+256*Re[tt+1]);return Ue}function Sn(Te,U,K){if(Te%1!=0||Te<0)throw new RangeError("offset is not uint");if(Te+U>K)throw new RangeError("Trying to access beyond buffer length")}function hn(Te,U,K,Re,Ue,tt){if(!E.isBuffer(Te))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>Ue||U<tt)throw new RangeError('"value" argument is out of bounds');if(K+Re>Te.length)throw new RangeError("Index out of range")}function ln(Te,U,K,Re){U<0&&(U=65535+U+1);for(var Ue=0,tt=Math.min(Te.length-K,2);Ue<tt;++Ue)Te[K+Ue]=(U&255<<8*(Re?Ue:1-Ue))>>>8*(Re?Ue:1-Ue)}function Kt(Te,U,K,Re){U<0&&(U=4294967295+U+1);for(var Ue=0,tt=Math.min(Te.length-K,4);Ue<tt;++Ue)Te[K+Ue]=U>>>8*(Re?Ue:3-Ue)&255}function Xe(Te,U,K,Re,Ue,tt){if(K+Re>Te.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function ht(Te,U,K,Re,Ue){return Ue||Xe(Te,0,K,4),N.write(Te,U,K,Re,23,4),K+4}function Ct(Te,U,K,Re,Ue){return Ue||Xe(Te,0,K,8),N.write(Te,U,K,Re,52,8),K+8}E.prototype.slice=function(U,K){var Re,Ue=this.length;if((U=~~U)<0?(U+=Ue)<0&&(U=0):U>Ue&&(U=Ue),(K=void 0===K?Ue:~~K)<0?(K+=Ue)<0&&(K=0):K>Ue&&(K=Ue),K<U&&(K=U),E.TYPED_ARRAY_SUPPORT)(Re=this.subarray(U,K)).__proto__=E.prototype;else{var tt=K-U;Re=new E(tt,void 0);for(var qe=0;qe<tt;++qe)Re[qe]=this[qe+U]}return Re},E.prototype.readUIntLE=function(U,K,Re){U|=0,K|=0,Re||Sn(U,K,this.length);for(var Ue=this[U],tt=1,qe=0;++qe<K&&(tt*=256);)Ue+=this[U+qe]*tt;return Ue},E.prototype.readUIntBE=function(U,K,Re){U|=0,K|=0,Re||Sn(U,K,this.length);for(var Ue=this[U+--K],tt=1;K>0&&(tt*=256);)Ue+=this[U+--K]*tt;return Ue},E.prototype.readUInt8=function(U,K){return K||Sn(U,1,this.length),this[U]},E.prototype.readUInt16LE=function(U,K){return K||Sn(U,2,this.length),this[U]|this[U+1]<<8},E.prototype.readUInt16BE=function(U,K){return K||Sn(U,2,this.length),this[U]<<8|this[U+1]},E.prototype.readUInt32LE=function(U,K){return K||Sn(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+16777216*this[U+3]},E.prototype.readUInt32BE=function(U,K){return K||Sn(U,4,this.length),16777216*this[U]+(this[U+1]<<16|this[U+2]<<8|this[U+3])},E.prototype.readIntLE=function(U,K,Re){U|=0,K|=0,Re||Sn(U,K,this.length);for(var Ue=this[U],tt=1,qe=0;++qe<K&&(tt*=256);)Ue+=this[U+qe]*tt;return Ue>=(tt*=128)&&(Ue-=Math.pow(2,8*K)),Ue},E.prototype.readIntBE=function(U,K,Re){U|=0,K|=0,Re||Sn(U,K,this.length);for(var Ue=K,tt=1,qe=this[U+--Ue];Ue>0&&(tt*=256);)qe+=this[U+--Ue]*tt;return qe>=(tt*=128)&&(qe-=Math.pow(2,8*K)),qe},E.prototype.readInt8=function(U,K){return K||Sn(U,1,this.length),128&this[U]?-1*(255-this[U]+1):this[U]},E.prototype.readInt16LE=function(U,K){K||Sn(U,2,this.length);var Re=this[U]|this[U+1]<<8;return 32768&Re?4294901760|Re:Re},E.prototype.readInt16BE=function(U,K){K||Sn(U,2,this.length);var Re=this[U+1]|this[U]<<8;return 32768&Re?4294901760|Re:Re},E.prototype.readInt32LE=function(U,K){return K||Sn(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},E.prototype.readInt32BE=function(U,K){return K||Sn(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},E.prototype.readFloatLE=function(U,K){return K||Sn(U,4,this.length),N.read(this,U,!0,23,4)},E.prototype.readFloatBE=function(U,K){return K||Sn(U,4,this.length),N.read(this,U,!1,23,4)},E.prototype.readDoubleLE=function(U,K){return K||Sn(U,8,this.length),N.read(this,U,!0,52,8)},E.prototype.readDoubleBE=function(U,K){return K||Sn(U,8,this.length),N.read(this,U,!1,52,8)},E.prototype.writeUIntLE=function(U,K,Re,Ue){U=+U,K|=0,Re|=0,Ue||hn(this,U,K,Re,Math.pow(2,8*Re)-1,0);var tt=1,qe=0;for(this[K]=255&U;++qe<Re&&(tt*=256);)this[K+qe]=U/tt&255;return K+Re},E.prototype.writeUIntBE=function(U,K,Re,Ue){U=+U,K|=0,Re|=0,Ue||hn(this,U,K,Re,Math.pow(2,8*Re)-1,0);var tt=Re-1,qe=1;for(this[K+tt]=255&U;--tt>=0&&(qe*=256);)this[K+tt]=U/qe&255;return K+Re},E.prototype.writeUInt8=function(U,K,Re){return U=+U,K|=0,Re||hn(this,U,K,1,255,0),E.TYPED_ARRAY_SUPPORT||(U=Math.floor(U)),this[K]=255&U,K+1},E.prototype.writeUInt16LE=function(U,K,Re){return U=+U,K|=0,Re||hn(this,U,K,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[K]=255&U,this[K+1]=U>>>8):ln(this,U,K,!0),K+2},E.prototype.writeUInt16BE=function(U,K,Re){return U=+U,K|=0,Re||hn(this,U,K,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[K]=U>>>8,this[K+1]=255&U):ln(this,U,K,!1),K+2},E.prototype.writeUInt32LE=function(U,K,Re){return U=+U,K|=0,Re||hn(this,U,K,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[K+3]=U>>>24,this[K+2]=U>>>16,this[K+1]=U>>>8,this[K]=255&U):Kt(this,U,K,!0),K+4},E.prototype.writeUInt32BE=function(U,K,Re){return U=+U,K|=0,Re||hn(this,U,K,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[K]=U>>>24,this[K+1]=U>>>16,this[K+2]=U>>>8,this[K+3]=255&U):Kt(this,U,K,!1),K+4},E.prototype.writeIntLE=function(U,K,Re,Ue){if(U=+U,K|=0,!Ue){var tt=Math.pow(2,8*Re-1);hn(this,U,K,Re,tt-1,-tt)}var qe=0,yt=1,Qe=0;for(this[K]=255&U;++qe<Re&&(yt*=256);)U<0&&0===Qe&&0!==this[K+qe-1]&&(Qe=1),this[K+qe]=(U/yt>>0)-Qe&255;return K+Re},E.prototype.writeIntBE=function(U,K,Re,Ue){if(U=+U,K|=0,!Ue){var tt=Math.pow(2,8*Re-1);hn(this,U,K,Re,tt-1,-tt)}var qe=Re-1,yt=1,Qe=0;for(this[K+qe]=255&U;--qe>=0&&(yt*=256);)U<0&&0===Qe&&0!==this[K+qe+1]&&(Qe=1),this[K+qe]=(U/yt>>0)-Qe&255;return K+Re},E.prototype.writeInt8=function(U,K,Re){return U=+U,K|=0,Re||hn(this,U,K,1,127,-128),E.TYPED_ARRAY_SUPPORT||(U=Math.floor(U)),U<0&&(U=255+U+1),this[K]=255&U,K+1},E.prototype.writeInt16LE=function(U,K,Re){return U=+U,K|=0,Re||hn(this,U,K,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[K]=255&U,this[K+1]=U>>>8):ln(this,U,K,!0),K+2},E.prototype.writeInt16BE=function(U,K,Re){return U=+U,K|=0,Re||hn(this,U,K,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[K]=U>>>8,this[K+1]=255&U):ln(this,U,K,!1),K+2},E.prototype.writeInt32LE=function(U,K,Re){return U=+U,K|=0,Re||hn(this,U,K,4,2147483647,-2147483648),E.TYPED_ARRAY_SUPPORT?(this[K]=255&U,this[K+1]=U>>>8,this[K+2]=U>>>16,this[K+3]=U>>>24):Kt(this,U,K,!0),K+4},E.prototype.writeInt32BE=function(U,K,Re){return U=+U,K|=0,Re||hn(this,U,K,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),E.TYPED_ARRAY_SUPPORT?(this[K]=U>>>24,this[K+1]=U>>>16,this[K+2]=U>>>8,this[K+3]=255&U):Kt(this,U,K,!1),K+4},E.prototype.writeFloatLE=function(U,K,Re){return ht(this,U,K,!0,Re)},E.prototype.writeFloatBE=function(U,K,Re){return ht(this,U,K,!1,Re)},E.prototype.writeDoubleLE=function(U,K,Re){return Ct(this,U,K,!0,Re)},E.prototype.writeDoubleBE=function(U,K,Re){return Ct(this,U,K,!1,Re)},E.prototype.copy=function(U,K,Re,Ue){if(Re||(Re=0),Ue||0===Ue||(Ue=this.length),K>=U.length&&(K=U.length),K||(K=0),Ue>0&&Ue<Re&&(Ue=Re),Ue===Re||0===U.length||0===this.length)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(Re<0||Re>=this.length)throw new RangeError("sourceStart out of bounds");if(Ue<0)throw new RangeError("sourceEnd out of bounds");Ue>this.length&&(Ue=this.length),U.length-K<Ue-Re&&(Ue=U.length-K+Re);var tt,qe=Ue-Re;if(this===U&&Re<K&&K<Ue)for(tt=qe-1;tt>=0;--tt)U[tt+K]=this[tt+Re];else if(qe<1e3||!E.TYPED_ARRAY_SUPPORT)for(tt=0;tt<qe;++tt)U[tt+K]=this[tt+Re];else Uint8Array.prototype.set.call(U,this.subarray(Re,Re+qe),K);return qe},E.prototype.fill=function(U,K,Re,Ue){if("string"==typeof U){if("string"==typeof K?(Ue=K,K=0,Re=this.length):"string"==typeof Re&&(Ue=Re,Re=this.length),1===U.length){var tt=U.charCodeAt(0);tt<256&&(U=tt)}if(void 0!==Ue&&"string"!=typeof Ue)throw new TypeError("encoding must be a string");if("string"==typeof Ue&&!E.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue)}else"number"==typeof U&&(U&=255);if(K<0||this.length<K||this.length<Re)throw new RangeError("Out of range index");if(Re<=K)return this;var qe;if(K>>>=0,Re=void 0===Re?this.length:Re>>>0,U||(U=0),"number"==typeof U)for(qe=K;qe<Re;++qe)this[qe]=U;else{var yt=E.isBuffer(U)?U:jt(new E(U,Ue).toString()),Qe=yt.length;for(qe=0;qe<Re-K;++qe)this[qe+K]=yt[qe%Qe]}return this};var Et=/[^+\/0-9A-Za-z-_]/g;function zt(Te){return Te<16?"0"+Te.toString(16):Te.toString(16)}function jt(Te,U){var K;U=U||1/0;for(var Re=Te.length,Ue=null,tt=[],qe=0;qe<Re;++qe){if((K=Te.charCodeAt(qe))>55295&&K<57344){if(!Ue){if(K>56319){(U-=3)>-1&&tt.push(239,191,189);continue}if(qe+1===Re){(U-=3)>-1&&tt.push(239,191,189);continue}Ue=K;continue}if(K<56320){(U-=3)>-1&&tt.push(239,191,189),Ue=K;continue}K=65536+(Ue-55296<<10|K-56320)}else Ue&&(U-=3)>-1&&tt.push(239,191,189);if(Ue=null,K<128){if((U-=1)<0)break;tt.push(K)}else if(K<2048){if((U-=2)<0)break;tt.push(K>>6|192,63&K|128)}else if(K<65536){if((U-=3)<0)break;tt.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((U-=4)<0)break;tt.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return tt}function un(Te){return u.toByteArray(function(K){if((K=(Ue=K,Ue.trim?Ue.trim():Ue.replace(/^\s+|\s+$/g,"")).replace(Et,"")).length<2)return"";for(var Ue;K.length%4!=0;)K+="=";return K}(Te))}function An(Te,U,K,Re){for(var Ue=0;Ue<Re&&!(Ue+K>=U.length||Ue>=Te.length);++Ue)U[Ue+K]=Te[Ue];return Ue}}).call(this,e(29))},function(le,l){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{"object"==typeof window&&(e=window)}le.exports=e},function(le,l,e){"use strict";l.byteLength=function(V){var $=E(V),q=$[1];return 3*($[0]+q)/4-q},l.toByteArray=function(V){var $,j,st,q=E(V),ee=q[0],ue=q[1],Ne=new N(3*(ee+(st=ue))/4-st),be=0,De=ue>0?ee-4:ee;for(j=0;j<De;j+=4)$=u[V.charCodeAt(j)]<<18|u[V.charCodeAt(j+1)]<<12|u[V.charCodeAt(j+2)]<<6|u[V.charCodeAt(j+3)],Ne[be++]=$>>16&255,Ne[be++]=$>>8&255,Ne[be++]=255&$;return 2===ue&&($=u[V.charCodeAt(j)]<<2|u[V.charCodeAt(j+1)]>>4,Ne[be++]=255&$),1===ue&&($=u[V.charCodeAt(j)]<<10|u[V.charCodeAt(j+1)]<<4|u[V.charCodeAt(j+2)]>>2,Ne[be++]=$>>8&255,Ne[be++]=255&$),Ne},l.fromByteArray=function(V){for(var $,j=V.length,q=j%3,ee=[],Ne=0,be=j-q;Ne<be;Ne+=16383)ee.push(C(V,Ne,Ne+16383>be?be:Ne+16383));return 1===q?ee.push(S[($=V[j-1])>>2]+S[$<<4&63]+"=="):2===q&&ee.push(S[($=(V[j-2]<<8)+V[j-1])>>10]+S[$>>4&63]+S[$<<2&63]+"="),ee.join("")};for(var S=[],u=[],N=typeof Uint8Array<"u"?Uint8Array:Array,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0;h<64;++h)S[h]=x[h],u[x.charCodeAt(h)]=h;function E(F){var V=F.length;if(V%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var $=F.indexOf("=");return-1===$&&($=V),[$,$===V?0:4-$%4]}function C(F,V,$){for(var q,ee=[],ue=V;ue<$;ue+=3)ee.push(S[(q=(F[ue]<<16&16711680)+(F[ue+1]<<8&65280)+(255&F[ue+2]))>>18&63]+S[q>>12&63]+S[q>>6&63]+S[63&q]);return ee.join("")}u[45]=62,u[95]=63},function(le,l){l.read=function(e,S,u,N,x){var h,y,E=8*x-N-1,C=(1<<E)-1,F=C>>1,V=-7,$=u?x-1:0,j=u?-1:1,q=e[S+$];for($+=j,h=q&(1<<-V)-1,q>>=-V,V+=E;V>0;h=256*h+e[S+$],$+=j,V-=8);for(y=h&(1<<-V)-1,h>>=-V,V+=N;V>0;y=256*y+e[S+$],$+=j,V-=8);if(0===h)h=1-F;else{if(h===C)return y?NaN:1/0*(q?-1:1);y+=Math.pow(2,N),h-=F}return(q?-1:1)*y*Math.pow(2,h-N)},l.write=function(e,S,u,N,x,h){var y,E,C,F=8*h-x-1,V=(1<<F)-1,$=V>>1,j=23===x?Math.pow(2,-24)-Math.pow(2,-77):0,q=N?0:h-1,ee=N?1:-1,ue=S<0||0===S&&1/S<0?1:0;for(S=Math.abs(S),isNaN(S)||S===1/0?(E=isNaN(S)?1:0,y=V):(y=Math.floor(Math.log(S)/Math.LN2),S*(C=Math.pow(2,-y))<1&&(y--,C*=2),(S+=y+$>=1?j/C:j*Math.pow(2,1-$))*C>=2&&(y++,C/=2),y+$>=V?(E=0,y=V):y+$>=1?(E=(S*C-1)*Math.pow(2,x),y+=$):(E=S*Math.pow(2,$-1)*Math.pow(2,x),y=0));x>=8;e[u+q]=255&E,q+=ee,E/=256,x-=8);for(y=y<<x|E,F+=x;F>0;e[u+q]=255&y,q+=ee,y/=256,F-=8);e[u+q-ee]|=128*ue}},function(le,l){var e={}.toString;le.exports=Array.isArray||function(S){return"[object Array]"==e.call(S)}},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(N){var x=N.jws,h=N.KeyUtil,y=N.X509,E=N.crypto,C=N.hextob64u,F=N.b64tohex,V=N.AllowedSigningAlgs;return function(){function $(){!function(q,ee){if(!(q instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,$)}return $.parseJwt=function(q){S.Log.debug("JoseUtil.parseJwt");try{var ee=x.JWS.parse(q);return{header:ee.headerObj,payload:ee.payloadObj}}catch(ue){S.Log.error(ue)}},$.validateJwt=function(q,ee,ue,Ne,be,De,re){S.Log.debug("JoseUtil.validateJwt");try{if("RSA"===ee.kty)if(ee.e&&ee.n)ee=h.getKey(ee);else{if(!ee.x5c||!ee.x5c.length)return S.Log.error("JoseUtil.validateJwt: RSA key missing key material",ee),Promise.reject(new Error("RSA key missing key material"));var Ae=F(ee.x5c[0]);ee=y.getPublicKeyFromCertHex(Ae)}else{if("EC"!==ee.kty)return S.Log.error("JoseUtil.validateJwt: Unsupported key type",ee&&ee.kty),Promise.reject(new Error(ee.kty));if(!(ee.crv&&ee.x&&ee.y))return S.Log.error("JoseUtil.validateJwt: EC key missing key material",ee),Promise.reject(new Error("EC key missing key material"));ee=h.getKey(ee)}return $._validateJwt(q,ee,ue,Ne,be,De,re)}catch(Me){return S.Log.error(Me&&Me.message||Me),Promise.reject("JWT validation failed")}},$.validateJwtAttributes=function(q,ee,ue,Ne,be,De){Ne||(Ne=0),be||(be=parseInt(Date.now()/1e3));var re=$.parseJwt(q).payload;if(!re.iss)return S.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(re.iss!==ee)return S.Log.error("JoseUtil._validateJwt: Invalid issuer in token",re.iss),Promise.reject(new Error("Invalid issuer in token: "+re.iss));if(!re.aud)return S.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(re.aud===ue||Array.isArray(re.aud)&&re.aud.indexOf(ue)>=0))return S.Log.error("JoseUtil._validateJwt: Invalid audience in token",re.aud),Promise.reject(new Error("Invalid audience in token: "+re.aud));if(re.azp&&re.azp!==ue)return S.Log.error("JoseUtil._validateJwt: Invalid azp in token",re.azp),Promise.reject(new Error("Invalid azp in token: "+re.azp));if(!De){var Ae=be+Ne,Me=be-Ne;if(!re.iat)return S.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(Ae<re.iat)return S.Log.error("JoseUtil._validateJwt: iat is in the future",re.iat),Promise.reject(new Error("iat is in the future: "+re.iat));if(re.nbf&&Ae<re.nbf)return S.Log.error("JoseUtil._validateJwt: nbf is in the future",re.nbf),Promise.reject(new Error("nbf is in the future: "+re.nbf));if(!re.exp)return S.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(re.exp<Me)return S.Log.error("JoseUtil._validateJwt: exp is in the past",re.exp),Promise.reject(new Error("exp is in the past:"+re.exp))}return Promise.resolve(re)},$._validateJwt=function(q,ee,ue,Ne,be,De,re){return $.validateJwtAttributes(q,ue,Ne,be,De,re).then(function(Ae){try{return x.JWS.verify(q,ee,V)?Ae:(S.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Me){return S.Log.error(Me&&Me.message||Me),Promise.reject(new Error("signature validation failed"))}})},$.hashString=function(q,ee){try{return E.Util.hashString(q,ee)}catch(ue){S.Log.error(ue)}},$.hexToBase64Url=function(q){try{return C(q)}catch(ee){S.Log.error(ee)}},$}()};var S=e(0);le.exports=l.default},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SigninResponse=void 0;var S=function(){function x(h,y){for(var E=0;E<y.length;E++){var C=y[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(h,C.key,C)}}return function(h,y,E){return y&&x(h.prototype,y),E&&x(h,E),h}}(),u=e(3);l.SigninResponse=function(){function x(h){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function N(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")}(this,x);var E=u.UrlUtility.parseUrlFragment(h,y);this.error=E.error,this.error_description=E.error_description,this.error_uri=E.error_uri,this.code=E.code,this.state=E.state,this.id_token=E.id_token,this.session_state=E.session_state,this.access_token=E.access_token,this.token_type=E.token_type,this.scope=E.scope,this.profile=void 0,this.expires_in=E.expires_in}return S(x,[{key:"expires_in",get:function(){if(this.expires_at){var y=parseInt(Date.now()/1e3);return this.expires_at-y}},set:function(y){var E=parseInt(y);if("number"==typeof E&&E>0){var C=parseInt(Date.now()/1e3);this.expires_at=C+E}}},{key:"expired",get:function(){var y=this.expires_in;if(void 0!==y)return y<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),x}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SignoutRequest=void 0;var S=e(0),u=e(3),N=e(9);l.SignoutRequest=function x(h){var y=h.url,E=h.id_token_hint,C=h.post_logout_redirect_uri,F=h.data,V=h.extraQueryParams,$=h.request_type;if(function(ee,ue){if(!(ee instanceof ue))throw new TypeError("Cannot call a class as a function")}(this,x),!y)throw S.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var j in E&&(y=u.UrlUtility.addQueryParam(y,"id_token_hint",E)),C&&(y=u.UrlUtility.addQueryParam(y,"post_logout_redirect_uri",C),F&&(this.state=new N.State({data:F,request_type:$}),y=u.UrlUtility.addQueryParam(y,"state",this.state.id))),V)y=u.UrlUtility.addQueryParam(y,j,V[j]);this.url=y}},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SignoutResponse=void 0;var S=e(3);l.SignoutResponse=function u(N){!function(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}(this,u);var x=S.UrlUtility.parseUrlFragment(N,"?");this.error=x.error,this.error_description=x.error_description,this.error_uri=x.error_uri,this.state=x.state}},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.InMemoryWebStorage=void 0;var S=function(){function N(x,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,h,y){return h&&N(x.prototype,h),y&&N(x,y),x}}(),u=e(0);l.InMemoryWebStorage=function(){function N(){(function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,N),this._data={}}return N.prototype.getItem=function(h){return u.Log.debug("InMemoryWebStorage.getItem",h),this._data[h]},N.prototype.setItem=function(h,y){u.Log.debug("InMemoryWebStorage.setItem",h),this._data[h]=y},N.prototype.removeItem=function(h){u.Log.debug("InMemoryWebStorage.removeItem",h),delete this._data[h]},N.prototype.key=function(h){return Object.getOwnPropertyNames(this._data)[h]},S(N,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.UserManager=void 0;var S=function(){function ue(Ne,be){for(var De=0;De<be.length;De++){var re=be[De];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(Ne,re.key,re)}}return function(Ne,be,De){return be&&ue(Ne.prototype,be),De&&ue(Ne,De),Ne}}(),u=e(0),N=e(10),x=e(39),h=e(15),y=e(45),E=e(47),C=e(18),F=e(8),V=e(20),$=e(11),j=e(4);l.UserManager=function(ue){function Ne(){var be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},De=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.SilentRenewService,re=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.SessionMonitor,Ae=arguments.length>3&&void 0!==arguments[3]?arguments[3]:V.TokenRevocationClient,Me=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$.TokenClient,st=arguments.length>5&&void 0!==arguments[5]?arguments[5]:j.JoseUtil;(function q(ue,Ne){if(!(ue instanceof Ne))throw new TypeError("Cannot call a class as a function")})(this,Ne),be instanceof x.UserManagerSettings||(be=new x.UserManagerSettings(be));var fe=function ee(ue,Ne){if(!ue)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ne||"object"!=typeof Ne&&"function"!=typeof Ne?ue:Ne}(this,ue.call(this,be));return fe._events=new y.UserManagerEvents(be),fe._silentRenewService=new De(fe),fe.settings.automaticSilentRenew&&(u.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),fe.startSilentRenew()),fe.settings.monitorSession&&(u.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),fe._sessionMonitor=new re(fe)),fe._tokenRevocationClient=new Ae(fe._settings),fe._tokenClient=new Me(fe._settings),fe._joseUtil=st,fe}return function(De,re){if("function"!=typeof re&&null!==re)throw new TypeError("Super expression must either be null or a function, not "+typeof re);De.prototype=Object.create(re&&re.prototype,{constructor:{value:De,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(De,re):De.__proto__=re)}(Ne,ue),Ne.prototype.getUser=function(){var De=this;return this._loadUser().then(function(re){return re?(u.Log.info("UserManager.getUser: user loaded"),De._events.load(re,!1),re):(u.Log.info("UserManager.getUser: user not found in storage"),null)})},Ne.prototype.removeUser=function(){var De=this;return this.storeUser(null).then(function(){u.Log.info("UserManager.removeUser: user removed from storage"),De._events.unload()})},Ne.prototype.signinRedirect=function(){var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(De=Object.assign({},De)).request_type="si:r",this._signinStart(De,this._redirectNavigator,{useReplaceToNavigate:De.useReplaceToNavigate}).then(function(){u.Log.info("UserManager.signinRedirect: successful")})},Ne.prototype.signinRedirectCallback=function(De){return this._signinEnd(De||this._redirectNavigator.url).then(function(re){return re.profile&&re.profile.sub?u.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",re.profile.sub):u.Log.info("UserManager.signinRedirectCallback: no sub"),re})},Ne.prototype.signinPopup=function(){var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(De=Object.assign({},De)).request_type="si:p";var re=De.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return re?(De.redirect_uri=re,De.display="popup",this._signin(De,this._popupNavigator,{startUrl:re,popupWindowFeatures:De.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:De.popupWindowTarget||this.settings.popupWindowTarget}).then(function(Ae){return Ae&&(Ae.profile&&Ae.profile.sub?u.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",Ae.profile.sub):u.Log.info("UserManager.signinPopup: no sub")),Ae})):(u.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},Ne.prototype.signinPopupCallback=function(De){return this._signinCallback(De,this._popupNavigator).then(function(re){return re&&(re.profile&&re.profile.sub?u.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",re.profile.sub):u.Log.info("UserManager.signinPopupCallback: no sub")),re}).catch(function(re){u.Log.error(re.message)})},Ne.prototype.signinSilent=function(){var De=this,re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return re=Object.assign({},re),this._loadUser().then(function(Ae){return Ae&&Ae.refresh_token?(re.refresh_token=Ae.refresh_token,De._useRefreshToken(re)):(re.request_type="si:s",re.id_token_hint=re.id_token_hint||De.settings.includeIdTokenInSilentRenew&&Ae&&Ae.id_token,Ae&&De._settings.validateSubOnSilentRenew&&(u.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",Ae.profile.sub),re.current_sub=Ae.profile.sub),De._signinSilentIframe(re))})},Ne.prototype._useRefreshToken=function(){var De=this;return this._tokenClient.exchangeRefreshToken(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).then(function(Ae){return Ae?Ae.access_token?De._loadUser().then(function(Me){if(Me){var st=Promise.resolve();return Ae.id_token&&(st=De._validateIdTokenFromTokenRefreshToken(Me.profile,Ae.id_token)),st.then(function(){return u.Log.debug("UserManager._useRefreshToken: refresh token response success"),Me.id_token=Ae.id_token||Me.id_token,Me.access_token=Ae.access_token,Me.refresh_token=Ae.refresh_token||Me.refresh_token,Me.expires_in=Ae.expires_in,De.storeUser(Me).then(function(){return De._events.load(Me),Me})})}return null}):(u.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(u.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},Ne.prototype._validateIdTokenFromTokenRefreshToken=function(De,re){var Ae=this;return this._metadataService.getIssuer().then(function(Me){return Ae.settings.getEpochTime().then(function(st){return Ae._joseUtil.validateJwtAttributes(re,Me,Ae._settings.client_id,Ae._settings.clockSkew,st).then(function(fe){return fe?fe.sub!==De.sub?(u.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):fe.auth_time&&fe.auth_time!==De.auth_time?(u.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):fe.azp&&fe.azp!==De.azp?(u.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!fe.azp&&De.azp?(u.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(u.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},Ne.prototype._signinSilentIframe=function(){var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},re=De.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return re?(De.redirect_uri=re,De.prompt=De.prompt||"none",this._signin(De,this._iframeNavigator,{startUrl:re,silentRequestTimeout:De.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Ae){return Ae&&(Ae.profile&&Ae.profile.sub?u.Log.info("UserManager.signinSilent: successful, signed in sub: ",Ae.profile.sub):u.Log.info("UserManager.signinSilent: no sub")),Ae})):(u.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},Ne.prototype.signinSilentCallback=function(De){return this._signinCallback(De,this._iframeNavigator).then(function(re){return re&&(re.profile&&re.profile.sub?u.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",re.profile.sub):u.Log.info("UserManager.signinSilentCallback: no sub")),re})},Ne.prototype.signinCallback=function(De){var re=this;return this.readSigninResponseState(De).then(function(Ae){var Me=Ae.state;return"si:r"===Me.request_type?re.signinRedirectCallback(De):"si:p"===Me.request_type?re.signinPopupCallback(De):"si:s"===Me.request_type?re.signinSilentCallback(De):Promise.reject(new Error("invalid response_type in state"))})},Ne.prototype.signoutCallback=function(De,re){var Ae=this;return this.readSignoutResponseState(De).then(function(Me){var st=Me.state,fe=Me.response;return st?"so:r"===st.request_type?Ae.signoutRedirectCallback(De):"so:p"===st.request_type?Ae.signoutPopupCallback(De,re):Promise.reject(new Error("invalid response_type in state")):fe})},Ne.prototype.querySessionStatus=function(){var De=this,re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(re=Object.assign({},re)).request_type="si:s";var Ae=re.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return Ae?(re.redirect_uri=Ae,re.prompt="none",re.response_type=re.response_type||this.settings.query_status_response_type,re.scope=re.scope||"openid",re.skipUserInfo=!0,this._signinStart(re,this._iframeNavigator,{startUrl:Ae,silentRequestTimeout:re.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Me){return De.processSigninResponse(Me.url).then(function(st){if(u.Log.debug("UserManager.querySessionStatus: got signin response"),st.session_state&&st.profile.sub)return u.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",st.profile.sub),{session_state:st.session_state,sub:st.profile.sub,sid:st.profile.sid};u.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(st){if(st.session_state&&De.settings.monitorAnonymousSession&&("login_required"==st.message||"consent_required"==st.message||"interaction_required"==st.message||"account_selection_required"==st.message))return u.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:st.session_state};throw st})})):(u.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},Ne.prototype._signin=function(De,re){var Ae=this;return this._signinStart(De,re,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(st){return Ae._signinEnd(st.url,De)})},Ne.prototype._signinStart=function(De,re){var Ae=this,Me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return re.prepare(Me).then(function(st){return u.Log.debug("UserManager._signinStart: got navigator window handle"),Ae.createSigninRequest(De).then(function(fe){return u.Log.debug("UserManager._signinStart: got signin request"),Me.url=fe.url,Me.id=fe.state.id,st.navigate(Me)}).catch(function(fe){throw st.close&&(u.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),st.close()),fe})})},Ne.prototype._signinEnd=function(De){var re=this,Ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(De).then(function(Me){u.Log.debug("UserManager._signinEnd: got signin response");var st=new h.User(Me);if(Ae.current_sub){if(Ae.current_sub!==st.profile.sub)return u.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",st.profile.sub),Promise.reject(new Error("login_required"));u.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return re.storeUser(st).then(function(){return u.Log.debug("UserManager._signinEnd: user stored"),re._events.load(st),st})})},Ne.prototype._signinCallback=function(De,re){u.Log.debug("UserManager._signinCallback");var Ae="query"===this._settings.response_mode||!this._settings.response_mode&&F.SigninRequest.isCode(this._settings.response_type)?"?":"#";return re.callback(De,void 0,Ae)},Ne.prototype.signoutRedirect=function(){var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(De=Object.assign({},De)).request_type="so:r";var re=De.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return re&&(De.post_logout_redirect_uri=re),this._signoutStart(De,this._redirectNavigator,{useReplaceToNavigate:De.useReplaceToNavigate}).then(function(){u.Log.info("UserManager.signoutRedirect: successful")})},Ne.prototype.signoutRedirectCallback=function(De){return this._signoutEnd(De||this._redirectNavigator.url).then(function(re){return u.Log.info("UserManager.signoutRedirectCallback: successful"),re})},Ne.prototype.signoutPopup=function(){var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(De=Object.assign({},De)).request_type="so:p";var re=De.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return De.post_logout_redirect_uri=re,De.display="popup",De.post_logout_redirect_uri&&(De.state=De.state||{}),this._signout(De,this._popupNavigator,{startUrl:re,popupWindowFeatures:De.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:De.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){u.Log.info("UserManager.signoutPopup: successful")})},Ne.prototype.signoutPopupCallback=function(De,re){return void 0===re&&"boolean"==typeof De&&(re=De,De=null),this._popupNavigator.callback(De,re,"?").then(function(){u.Log.info("UserManager.signoutPopupCallback: successful")})},Ne.prototype._signout=function(De,re){var Ae=this;return this._signoutStart(De,re,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(st){return Ae._signoutEnd(st.url)})},Ne.prototype._signoutStart=function(){var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},re=this,Me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(Me).then(function(st){return u.Log.debug("UserManager._signoutStart: got navigator window handle"),re._loadUser().then(function(fe){return u.Log.debug("UserManager._signoutStart: loaded current user from storage"),(re._settings.revokeAccessTokenOnSignout?re._revokeInternal(fe):Promise.resolve()).then(function(){var Tt=De.id_token_hint||fe&&fe.id_token;return Tt&&(u.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),De.id_token_hint=Tt),re.removeUser().then(function(){return u.Log.debug("UserManager._signoutStart: user removed, creating signout request"),re.createSignoutRequest(De).then(function(Vt){return u.Log.debug("UserManager._signoutStart: got signout request"),Me.url=Vt.url,Vt.state&&(Me.id=Vt.state.id),st.navigate(Me)})})})}).catch(function(fe){throw st.close&&(u.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),st.close()),fe})})},Ne.prototype._signoutEnd=function(De){return this.processSignoutResponse(De).then(function(re){return u.Log.debug("UserManager._signoutEnd: got signout response"),re})},Ne.prototype.revokeAccessToken=function(){var De=this;return this._loadUser().then(function(re){return De._revokeInternal(re,!0).then(function(Ae){if(Ae)return u.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),re.access_token=null,re.refresh_token=null,re.expires_at=null,re.token_type=null,De.storeUser(re).then(function(){u.Log.debug("UserManager.revokeAccessToken: user stored"),De._events.load(re)})})}).then(function(){u.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},Ne.prototype._revokeInternal=function(De,re){var Ae=this;if(De){var st=De.refresh_token;return this._revokeAccessTokenInternal(De.access_token,re).then(function(fe){return Ae._revokeRefreshTokenInternal(st,re).then(function(Tt){return fe||Tt||u.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),fe||Tt})})}return Promise.resolve(!1)},Ne.prototype._revokeAccessTokenInternal=function(De,re){return!De||De.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(De,re).then(function(){return!0})},Ne.prototype._revokeRefreshTokenInternal=function(De,re){return De?this._tokenRevocationClient.revoke(De,re,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},Ne.prototype.startSilentRenew=function(){this._silentRenewService.start()},Ne.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},Ne.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(De){return De?(u.Log.debug("UserManager._loadUser: user storageString loaded"),h.User.fromStorageString(De)):(u.Log.debug("UserManager._loadUser: no user storageString"),null)})},Ne.prototype.storeUser=function(De){if(De){u.Log.debug("UserManager.storeUser: storing user");var re=De.toStorageString();return this._userStore.set(this._userStoreKey,re)}return u.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},S(Ne,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),Ne}(N.OidcClient)},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.UserManagerSettings=void 0;var S=function(){function $(j,q){for(var ee=0;ee<q.length;ee++){var ue=q[ee];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(j,ue.key,ue)}}return function(j,q,ee){return q&&$(j.prototype,q),ee&&$(j,ee),j}}(),u=(e(0),e(5)),N=e(40),x=e(41),h=e(43),y=e(6),E=e(1),C=e(8);l.UserManagerSettings=function($){function j(){var q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ee=q.popup_redirect_uri,ue=q.popup_post_logout_redirect_uri,Ne=q.popupWindowFeatures,be=q.popupWindowTarget,De=q.silent_redirect_uri,re=q.silentRequestTimeout,Ae=q.automaticSilentRenew,Me=void 0!==Ae&&Ae,st=q.validateSubOnSilentRenew,fe=void 0!==st&&st,Tt=q.includeIdTokenInSilentRenew,Vt=void 0===Tt||Tt,xt=q.monitorSession,dt=void 0===xt||xt,rn=q.monitorAnonymousSession,on=void 0!==rn&&rn,cn=q.checkSessionInterval,Sn=void 0===cn?2e3:cn,hn=q.stopCheckSessionOnError,ln=void 0===hn||hn,Kt=q.query_status_response_type,Xe=q.revokeAccessTokenOnSignout,ht=void 0!==Xe&&Xe,Ct=q.accessTokenExpiringNotificationTime,Et=void 0===Ct?60:Ct,zt=q.redirectNavigator,jt=void 0===zt?new N.RedirectNavigator:zt,un=q.popupNavigator,An=void 0===un?new x.PopupNavigator:un,Te=q.iframeNavigator,U=void 0===Te?new h.IFrameNavigator:Te,K=q.userStore,Re=void 0===K?new y.WebStorageStateStore({store:E.Global.sessionStorage}):K;!function F($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")}(this,j);var Ue=function V($,j){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!j||"object"!=typeof j&&"function"!=typeof j?$:j}(this,$.call(this,arguments[0]));return Ue._popup_redirect_uri=ee,Ue._popup_post_logout_redirect_uri=ue,Ue._popupWindowFeatures=Ne,Ue._popupWindowTarget=be,Ue._silent_redirect_uri=De,Ue._silentRequestTimeout=re,Ue._automaticSilentRenew=Me,Ue._validateSubOnSilentRenew=fe,Ue._includeIdTokenInSilentRenew=Vt,Ue._accessTokenExpiringNotificationTime=Et,Ue._monitorSession=dt,Ue._monitorAnonymousSession=on,Ue._checkSessionInterval=Sn,Ue._stopCheckSessionOnError=ln,Ue._query_status_response_type=Kt||(arguments[0]&&arguments[0].response_type?C.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),Ue._revokeAccessTokenOnSignout=ht,Ue._redirectNavigator=jt,Ue._popupNavigator=An,Ue._iframeNavigator=U,Ue._userStore=Re,Ue}return function(ee,ue){if("function"!=typeof ue&&null!==ue)throw new TypeError("Super expression must either be null or a function, not "+typeof ue);ee.prototype=Object.create(ue&&ue.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),ue&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,ue):ee.__proto__=ue)}(j,$),S(j,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),j}(u.OidcClientSettings)},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.RedirectNavigator=void 0;var S=function(){function N(x,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,h,y){return h&&N(x.prototype,h),y&&N(x,y),x}}(),u=e(0);l.RedirectNavigator=function(){function N(){!function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,N)}return N.prototype.prepare=function(){return Promise.resolve(this)},N.prototype.navigate=function(h){return h&&h.url?(h.useReplaceToNavigate?window.location.replace(h.url):window.location=h.url,Promise.resolve()):(u.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},S(N,[{key:"url",get:function(){return window.location.href}}]),N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.PopupNavigator=void 0;var S=e(0),u=e(42);l.PopupNavigator=function(){function N(){!function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,N)}return N.prototype.prepare=function(h){var y=new u.PopupWindow(h);return Promise.resolve(y)},N.prototype.callback=function(h,y,E){S.Log.debug("PopupNavigator.callback");try{return u.PopupWindow.notifyOpener(h,y,E),Promise.resolve()}catch(C){return Promise.reject(C)}},N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.PopupWindow=void 0;var S=function(){function x(h,y){for(var E=0;E<y.length;E++){var C=y[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(h,C.key,C)}}return function(h,y,E){return y&&x(h.prototype,y),E&&x(h,E),h}}(),u=e(0),N=e(3);l.PopupWindow=function(){function x(h){var y=this;(function(V,$){if(!(V instanceof $))throw new TypeError("Cannot call a class as a function")})(this,x),this._promise=new Promise(function(F,V){y._resolve=F,y._reject=V}),this._popup=window.open("",h.popupWindowTarget||"_blank",h.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;"),this._popup&&(u.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return x.prototype.navigate=function(y){return this._popup?y&&y.url?(u.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=y.id,this._id&&(window["popupCallback_"+y.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=y.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},x.prototype._success=function(y){u.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(y)},x.prototype._error=function(y){u.Log.error("PopupWindow.error: ",y),this._cleanup(),this._reject(new Error(y))},x.prototype.close=function(){this._cleanup(!1)},x.prototype._cleanup=function(y){u.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!y&&this._popup.close(),this._popup=null},x.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},x.prototype._callback=function(y,E){this._cleanup(E),y?(u.Log.debug("PopupWindow.callback success"),this._success({url:y})):(u.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},x.notifyOpener=function(y,E,C){if(window.opener){if(y=y||window.location.href){var F=N.UrlUtility.parseUrlFragment(y,C);if(F.state){var $=window.opener["popupCallback_"+F.state];$?(u.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),$(y,E)):u.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else u.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else u.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},S(x,[{key:"promise",get:function(){return this._promise}}]),x}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.IFrameNavigator=void 0;var S=e(0),u=e(44);l.IFrameNavigator=function(){function N(){!function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,N)}return N.prototype.prepare=function(h){var y=new u.IFrameWindow(h);return Promise.resolve(y)},N.prototype.callback=function(h){S.Log.debug("IFrameNavigator.callback");try{return u.IFrameWindow.notifyParent(h),Promise.resolve()}catch(y){return Promise.reject(y)}},N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.IFrameWindow=void 0;var S=function(){function N(x,h){for(var y=0;y<h.length;y++){var E=h[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,h,y){return h&&N(x.prototype,h),y&&N(x,y),x}}(),u=e(0);l.IFrameWindow=function(){function N(x){var h=this;(function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")})(this,N),this._promise=new Promise(function(y,E){h._resolve=y,h._reject=E}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return N.prototype.navigate=function(h){if(h&&h.url){var y=h.silentRequestTimeout||1e4;u.Log.debug("IFrameWindow.navigate: Using timeout of:",y),this._timer=window.setTimeout(this._timeout.bind(this),y),this._frame.src=h.url}else this._error("No url provided");return this.promise},N.prototype._success=function(h){this._cleanup(),u.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(h)},N.prototype._error=function(h){this._cleanup(),u.Log.error(h),this._reject(new Error(h))},N.prototype.close=function(){this._cleanup()},N.prototype._cleanup=function(){this._frame&&(u.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},N.prototype._timeout=function(){u.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},N.prototype._message=function(h){if(u.Log.debug("IFrameWindow.message"),this._timer&&h.origin===this._origin&&h.source===this._frame.contentWindow&&"string"==typeof h.data&&(h.data.startsWith("http://")||h.data.startsWith("https://"))){var y=h.data;y?this._success({url:y}):this._error("Invalid response from frame")}},N.notifyParent=function(h){u.Log.debug("IFrameWindow.notifyParent"),(h=h||window.location.href)&&(u.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(h,location.protocol+"//"+location.host))},S(N,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),N}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.UserManagerEvents=void 0;var S=e(0),u=e(16),N=e(17);l.UserManagerEvents=function(x){function h(y){!function(F,V){if(!(F instanceof V))throw new TypeError("Cannot call a class as a function")}(this,h);var E=function(F,V){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?F:V}(this,x.call(this,y));return E._userLoaded=new N.Event("User loaded"),E._userUnloaded=new N.Event("User unloaded"),E._silentRenewError=new N.Event("Silent renew error"),E._userSignedIn=new N.Event("User signed in"),E._userSignedOut=new N.Event("User signed out"),E._userSessionChanged=new N.Event("User session changed"),E}return function(E,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(E,C):E.__proto__=C)}(h,x),h.prototype.load=function(E){var C=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];S.Log.debug("UserManagerEvents.load"),x.prototype.load.call(this,E),C&&this._userLoaded.raise(E)},h.prototype.unload=function(){S.Log.debug("UserManagerEvents.unload"),x.prototype.unload.call(this),this._userUnloaded.raise()},h.prototype.addUserLoaded=function(E){this._userLoaded.addHandler(E)},h.prototype.removeUserLoaded=function(E){this._userLoaded.removeHandler(E)},h.prototype.addUserUnloaded=function(E){this._userUnloaded.addHandler(E)},h.prototype.removeUserUnloaded=function(E){this._userUnloaded.removeHandler(E)},h.prototype.addSilentRenewError=function(E){this._silentRenewError.addHandler(E)},h.prototype.removeSilentRenewError=function(E){this._silentRenewError.removeHandler(E)},h.prototype._raiseSilentRenewError=function(E){S.Log.debug("UserManagerEvents._raiseSilentRenewError",E.message),this._silentRenewError.raise(E)},h.prototype.addUserSignedIn=function(E){this._userSignedIn.addHandler(E)},h.prototype.removeUserSignedIn=function(E){this._userSignedIn.removeHandler(E)},h.prototype._raiseUserSignedIn=function(){S.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},h.prototype.addUserSignedOut=function(E){this._userSignedOut.addHandler(E)},h.prototype.removeUserSignedOut=function(E){this._userSignedOut.removeHandler(E)},h.prototype._raiseUserSignedOut=function(){S.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},h.prototype.addUserSessionChanged=function(E){this._userSessionChanged.addHandler(E)},h.prototype.removeUserSessionChanged=function(E){this._userSessionChanged.removeHandler(E)},h.prototype._raiseUserSessionChanged=function(){S.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},h}(u.AccessTokenEvents)},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Timer=void 0;var S=function(){function E(C,F){for(var V=0;V<F.length;V++){var $=F[V];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(C,$.key,$)}}return function(C,F,V){return F&&E(C.prototype,F),V&&E(C,V),C}}(),u=e(0),N=e(1),x=e(17);l.Timer=function(E){function C(F){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.Global.timer,$=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function h(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}(this,C);var j=function y(E,C){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?E:C}(this,E.call(this,F));return j._timer=V,j._nowFunc=$||function(){return Date.now()/1e3},j}return function(V,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function, not "+typeof $);V.prototype=Object.create($&&$.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(V,$):V.__proto__=$)}(C,E),C.prototype.init=function(V){V<=0&&(V=1),V=parseInt(V);var $=this.now+V;if(this.expiration===$&&this._timerHandle)u.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),u.Log.debug("Timer.init timer "+this._name+" for duration:",V),this._expiration=$;var j=5;V<j&&(j=V),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*j)}},C.prototype.cancel=function(){this._timerHandle&&(u.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},C.prototype._callback=function(){u.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),E.prototype.raise.call(this))},S(C,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),C}(x.Event)},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.SilentRenewService=void 0;var S=e(0);l.SilentRenewService=function(){function u(N){(function(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")})(this,u),this._userManager=N}return u.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(x){}).catch(function(x){S.Log.error("SilentRenewService.start: Error from getUser:",x.message)}))},u.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},u.prototype._tokenExpiring=function(){var x=this;this._userManager.signinSilent().then(function(h){S.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(h){S.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",h.message),x._userManager.events._raiseSilentRenewError(h)})},u}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CordovaPopupNavigator=void 0;var S=e(21);l.CordovaPopupNavigator=function(){function u(){!function(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")}(this,u)}return u.prototype.prepare=function(x){var h=new S.CordovaPopupWindow(x);return Promise.resolve(h)},u}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.CordovaIFrameNavigator=void 0;var S=e(21);l.CordovaIFrameNavigator=function(){function u(){!function(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")}(this,u)}return u.prototype.prepare=function(x){x.popupWindowFeatures="hidden=yes";var h=new S.CordovaPopupWindow(x);return Promise.resolve(h)},u}()},function(le,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Version="1.11.5"}])},7328:(Ze,le,l)=>{"use strict";l.d(le,{t:()=>u});var e=l(8645),S=l(4552);class u extends e.x{constructor(x=1/0,h=1/0,y=S.l){super(),this._bufferSize=x,this._windowTime=h,this._timestampProvider=y,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=h===1/0,this._bufferSize=Math.max(1,x),this._windowTime=Math.max(1,h)}next(x){const{isStopped:h,_buffer:y,_infiniteTimeWindow:E,_timestampProvider:C,_windowTime:F}=this;h||(y.push(x),!E&&y.push(C.now()+F)),this._trimBuffer(),super.next(x)}_subscribe(x){this._throwIfClosed(),this._trimBuffer();const h=this._innerSubscribe(x),{_infiniteTimeWindow:y,_buffer:E}=this,C=E.slice();for(let F=0;F<C.length&&!x.closed;F+=y?1:2)x.next(C[F]);return this._checkFinalizedStatuses(x),h}_trimBuffer(){const{_bufferSize:x,_timestampProvider:h,_buffer:y,_infiniteTimeWindow:E}=this,C=(E?1:2)*x;if(x<1/0&&C<y.length&&y.splice(0,y.length-C),!E){const F=h.now();let V=0;for(let $=1;$<y.length&&y[$]<=F;$+=2)V=$;V&&y.splice(0,V+1)}}}},2572:(Ze,le,l)=>{"use strict";l.d(le,{a:()=>F});var e=l(5592),S=l(7453),u=l(9666),N=l(2737),x=l(7400),h=l(9940),y=l(2714),E=l(8251),C=l(7103);function F(...j){const q=(0,h.yG)(j),ee=(0,h.jO)(j),{args:ue,keys:Ne}=(0,S.D)(j);if(0===ue.length)return(0,u.D)([],q);const be=new e.y(function V(j,q,ee=N.y){return ue=>{$(q,()=>{const{length:Ne}=j,be=new Array(Ne);let De=Ne,re=Ne;for(let Ae=0;Ae<Ne;Ae++)$(q,()=>{const Me=(0,u.D)(j[Ae],q);let st=!1;Me.subscribe((0,E.x)(ue,fe=>{be[Ae]=fe,st||(st=!0,re--),re||ue.next(ee(be.slice()))},()=>{--De||ue.complete()}))},ue)},ue)}}(ue,q,Ne?De=>(0,y.n)(Ne,De):N.y));return ee?be.pipe((0,x.Z)(ee)):be}function $(j,q,ee){j?(0,C.f)(ee,j,q):q()}},5211:(Ze,le,l)=>{"use strict";l.d(le,{z:()=>x});var e=l(7537),u=l(9940),N=l(9666);function x(...h){return function S(){return(0,e.J)(1)}()((0,N.D)(h,(0,u.yG)(h)))}},6232:(Ze,le,l)=>{"use strict";l.d(le,{E:()=>S,c:()=>u});var e=l(5592);const S=new e.y(x=>x.complete());function u(x){return x?function N(x){return new e.y(h=>x.schedule(()=>h.complete()))}(x):S}},9666:(Ze,le,l)=>{"use strict";l.d(le,{D:()=>st});var e=l(4829),S=l(3093),u=l(9360);function N(fe,Tt=0){return(0,u.e)((Vt,xt)=>{xt.add(fe.schedule(()=>Vt.subscribe(xt),Tt))})}var y=l(5592),C=l(4971),F=l(4674),V=l(7103);function j(fe,Tt){if(!fe)throw new Error("Iterable cannot be null");return new y.y(Vt=>{(0,V.f)(Vt,Tt,()=>{const xt=fe[Symbol.asyncIterator]();(0,V.f)(Vt,Tt,()=>{xt.next().then(dt=>{dt.done?Vt.complete():Vt.next(dt.value)})},0,!0)})})}var q=l(8382),ee=l(4026),ue=l(4266),Ne=l(3664),be=l(5726),De=l(9853),re=l(541);function st(fe,Tt){return Tt?function Me(fe,Tt){if(null!=fe){if((0,q.c)(fe))return function x(fe,Tt){return(0,e.Xf)(fe).pipe(N(Tt),(0,S.Q)(Tt))}(fe,Tt);if((0,ue.z)(fe))return function E(fe,Tt){return new y.y(Vt=>{let xt=0;return Tt.schedule(function(){xt===fe.length?Vt.complete():(Vt.next(fe[xt++]),Vt.closed||this.schedule())})})}(fe,Tt);if((0,ee.t)(fe))return function h(fe,Tt){return(0,e.Xf)(fe).pipe(N(Tt),(0,S.Q)(Tt))}(fe,Tt);if((0,be.D)(fe))return j(fe,Tt);if((0,Ne.T)(fe))return function $(fe,Tt){return new y.y(Vt=>{let xt;return(0,V.f)(Vt,Tt,()=>{xt=fe[C.h](),(0,V.f)(Vt,Tt,()=>{let dt,rn;try{({value:dt,done:rn}=xt.next())}catch(on){return void Vt.error(on)}rn?Vt.complete():Vt.next(dt)},0,!0)}),()=>(0,F.m)(xt?.return)&&xt.return()})}(fe,Tt);if((0,re.L)(fe))return function Ae(fe,Tt){return j((0,re.Q)(fe),Tt)}(fe,Tt)}throw(0,De.z)(fe)}(fe,Tt):(0,e.Xf)(fe)}},2438:(Ze,le,l)=>{"use strict";l.d(le,{R:()=>F});var e=l(4829),S=l(5592),u=l(9769),N=l(4266),x=l(4674),h=l(7400);const y=["addListener","removeListener"],E=["addEventListener","removeEventListener"],C=["on","off"];function F(ee,ue,Ne,be){if((0,x.m)(Ne)&&(be=Ne,Ne=void 0),be)return F(ee,ue,Ne).pipe((0,h.Z)(be));const[De,re]=function q(ee){return(0,x.m)(ee.addEventListener)&&(0,x.m)(ee.removeEventListener)}(ee)?E.map(Ae=>Me=>ee[Ae](ue,Me,Ne)):function $(ee){return(0,x.m)(ee.addListener)&&(0,x.m)(ee.removeListener)}(ee)?y.map(V(ee,ue)):function j(ee){return(0,x.m)(ee.on)&&(0,x.m)(ee.off)}(ee)?C.map(V(ee,ue)):[];if(!De&&(0,N.z)(ee))return(0,u.z)(Ae=>F(Ae,ue,Ne))((0,e.Xf)(ee));if(!De)throw new TypeError("Invalid event target");return new S.y(Ae=>{const Me=(...st)=>Ae.next(1<st.length?st:st[0]);return De(Me),()=>re(Me)})}function V(ee,ue){return Ne=>be=>ee[Ne](ue,be)}},4829:(Ze,le,l)=>{"use strict";l.d(le,{Xf:()=>j});var e=l(7582),S=l(4266),u=l(4026),N=l(5592),x=l(8382),h=l(5726),y=l(9853),E=l(3664),C=l(541),F=l(4674),V=l(3894),$=l(4850);function j(Ae){if(Ae instanceof N.y)return Ae;if(null!=Ae){if((0,x.c)(Ae))return function q(Ae){return new N.y(Me=>{const st=Ae[$.L]();if((0,F.m)(st.subscribe))return st.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,S.z)(Ae))return function ee(Ae){return new N.y(Me=>{for(let st=0;st<Ae.length&&!Me.closed;st++)Me.next(Ae[st]);Me.complete()})}(Ae);if((0,u.t)(Ae))return function ue(Ae){return new N.y(Me=>{Ae.then(st=>{Me.closed||(Me.next(st),Me.complete())},st=>Me.error(st)).then(null,V.h)})}(Ae);if((0,h.D)(Ae))return be(Ae);if((0,E.T)(Ae))return function Ne(Ae){return new N.y(Me=>{for(const st of Ae)if(Me.next(st),Me.closed)return;Me.complete()})}(Ae);if((0,C.L)(Ae))return function De(Ae){return be((0,C.Q)(Ae))}(Ae)}throw(0,y.z)(Ae)}function be(Ae){return new N.y(Me=>{(function re(Ae,Me){var st,fe,Tt,Vt;return(0,e.mG)(this,void 0,void 0,function*(){try{for(st=(0,e.KL)(Ae);!(fe=yield st.next()).done;)if(Me.next(fe.value),Me.closed)return}catch(xt){Tt={error:xt}}finally{try{fe&&!fe.done&&(Vt=st.return)&&(yield Vt.call(st))}finally{if(Tt)throw Tt.error}}Me.complete()})})(Ae,Me).catch(st=>Me.error(st))})}},3019:(Ze,le,l)=>{"use strict";l.d(le,{T:()=>h});var e=l(7537),S=l(4829),u=l(6232),N=l(9940),x=l(9666);function h(...y){const E=(0,N.yG)(y),C=(0,N._6)(y,1/0),F=y;return F.length?1===F.length?(0,S.Xf)(F[0]):(0,e.J)(C)((0,x.D)(F,E)):u.E}},2096:(Ze,le,l)=>{"use strict";l.d(le,{of:()=>u});var e=l(9940),S=l(9666);function u(...N){const x=(0,e.yG)(N);return(0,S.D)(N,x)}},3684:(Ze,le,l)=>{"use strict";l.d(le,{S:()=>x});var e=l(5592),S=l(4829),u=l(7728),N=l(8251);function x(...y){return 1===(y=(0,u.k)(y)).length?(0,S.Xf)(y[0]):new e.y(function h(y){return E=>{let C=[];for(let F=0;C&&!E.closed&&F<y.length;F++)C.push((0,S.Xf)(y[F]).subscribe((0,N.x)(E,V=>{if(C){for(let $=0;$<C.length;$++)$!==F&&C[$].unsubscribe();C=null}E.next(V)})))}}(y))}},8504:(Ze,le,l)=>{"use strict";l.d(le,{_:()=>u});var e=l(5592),S=l(4674);function u(N,x){const h=(0,S.m)(N)?N:()=>N,y=E=>E.error(h());return new e.y(x?E=>x.schedule(y,0,E):y)}},9080:(Ze,le,l)=>{"use strict";l.d(le,{H:()=>x});var e=l(5592),S=l(6321),u=l(671),N=l(93);function x(h=0,y,E=S.P){let C=-1;return null!=y&&((0,u.K)(y)?E=y:C=y),new e.y(F=>{let V=(0,N.q)(h)?+h-E.now():h;V<0&&(V=0);let $=0;return E.schedule(function(){F.closed||(F.next($++),0<=C?this.schedule(void 0,C):F.complete())},V)})}},9278:(Ze,le,l)=>{"use strict";l.d(le,{$:()=>y});var e=l(5592),S=l(4829),u=l(7728),N=l(6232),x=l(8251),h=l(9940);function y(...E){const C=(0,h.jO)(E),F=(0,u.k)(E);return F.length?new e.y(V=>{let $=F.map(()=>[]),j=F.map(()=>!1);V.add(()=>{$=j=null});for(let q=0;!V.closed&&q<F.length;q++)(0,S.Xf)(F[q]).subscribe((0,x.x)(V,ee=>{if($[q].push(ee),$.every(ue=>ue.length)){const ue=$.map(Ne=>Ne.shift());V.next(C?C(...ue):ue),$.some((Ne,be)=>!Ne.length&&j[be])&&V.complete()}},()=>{j[q]=!0,!$[q].length&&V.complete()}));return()=>{$=j=null}}):N.E}},9028:(Ze,le,l)=>{"use strict";l.d(le,{e:()=>y});var e=l(6321),S=l(9360),u=l(4829),N=l(8251),h=l(9080);function y(E,C=e.z){return function x(E){return(0,S.e)((C,F)=>{let V=!1,$=null,j=null,q=!1;const ee=()=>{if(j?.unsubscribe(),j=null,V){V=!1;const Ne=$;$=null,F.next(Ne)}q&&F.complete()},ue=()=>{j=null,q&&F.complete()};C.subscribe((0,N.x)(F,Ne=>{V=!0,$=Ne,j||(0,u.Xf)(E(Ne)).subscribe(j=(0,N.x)(F,ee,ue))},()=>{q=!0,(!V||!j||j.closed)&&F.complete()}))})}(()=>(0,h.H)(E,C))}},6306:(Ze,le,l)=>{"use strict";l.d(le,{K:()=>N});var e=l(4829),S=l(8251),u=l(9360);function N(x){return(0,u.e)((h,y)=>{let F,E=null,C=!1;E=h.subscribe((0,S.x)(y,void 0,void 0,V=>{F=(0,e.Xf)(x(V,N(x)(h))),E?(E.unsubscribe(),E=null,F.subscribe(y)):C=!0})),C&&(E.unsubscribe(),E=null,F.subscribe(y))})}},6328:(Ze,le,l)=>{"use strict";l.d(le,{b:()=>u});var e=l(9769),S=l(4674);function u(N,x){return(0,S.m)(x)?(0,e.z)(N,x,1):(0,e.z)(N,1)}},3620:(Ze,le,l)=>{"use strict";l.d(le,{b:()=>N});var e=l(6321),S=l(9360),u=l(8251);function N(x,h=e.z){return(0,S.e)((y,E)=>{let C=null,F=null,V=null;const $=()=>{if(C){C.unsubscribe(),C=null;const q=F;F=null,E.next(q)}};function j(){const q=V+x,ee=h.now();if(ee<q)return C=this.schedule(void 0,q-ee),void E.add(C);$()}y.subscribe((0,u.x)(E,q=>{F=q,V=h.now(),C||(C=h.schedule(j,x),E.add(C))},()=>{$(),E.complete()},void 0,()=>{F=C=null}))})}},3572:(Ze,le,l)=>{"use strict";l.d(le,{d:()=>u});var e=l(9360),S=l(8251);function u(N){return(0,e.e)((x,h)=>{let y=!1;x.subscribe((0,S.x)(h,E=>{y=!0,h.next(E)},()=>{y||h.next(N),h.complete()}))})}},932:(Ze,le,l)=>{"use strict";l.d(le,{g:()=>F});var e=l(6321),S=l(5211),u=l(8180),N=l(7538),x=l(975),h=l(9769),y=l(4829);function E(V,$){return $?j=>(0,S.z)($.pipe((0,u.q)(1),(0,N.l)()),j.pipe(E(V))):(0,h.z)((j,q)=>(0,y.Xf)(V(j,q)).pipe((0,u.q)(1),(0,x.h)(j)))}var C=l(9080);function F(V,$=e.z){const j=(0,C.H)(V,$);return E(()=>j)}},3997:(Ze,le,l)=>{"use strict";l.d(le,{x:()=>N});var e=l(2737),S=l(9360),u=l(8251);function N(h,y=e.y){return h=h??x,(0,S.e)((E,C)=>{let F,V=!0;E.subscribe((0,u.x)(C,$=>{const j=y($);(V||!h(F,j))&&(V=!1,F=j,C.next($))}))})}function x(h,y){return h===y}},2181:(Ze,le,l)=>{"use strict";l.d(le,{h:()=>u});var e=l(9360),S=l(8251);function u(N,x){return(0,e.e)((h,y)=>{let E=0;h.subscribe((0,S.x)(y,C=>N.call(x,C,E++)&&y.next(C)))})}},4716:(Ze,le,l)=>{"use strict";l.d(le,{x:()=>S});var e=l(9360);function S(u){return(0,e.e)((N,x)=>{try{N.subscribe(x)}finally{x.add(u)}})}},1374:(Ze,le,l)=>{"use strict";l.d(le,{P:()=>y});var e=l(6973),S=l(2181),u=l(8180),N=l(3572),x=l(3026),h=l(2737);function y(E,C){const F=arguments.length>=2;return V=>V.pipe(E?(0,S.h)(($,j)=>E($,j,V)):h.y,(0,u.q)(1),F?(0,N.d)(C):(0,x.T)(()=>new e.K))}},7538:(Ze,le,l)=>{"use strict";l.d(le,{l:()=>N});var e=l(9360),S=l(8251),u=l(2420);function N(){return(0,e.e)((x,h)=>{x.subscribe((0,S.x)(h,u.Z))})}},975:(Ze,le,l)=>{"use strict";l.d(le,{h:()=>S});var e=l(7398);function S(u){return(0,e.U)(()=>u)}},7537:(Ze,le,l)=>{"use strict";l.d(le,{J:()=>u});var e=l(9769),S=l(2737);function u(N=1/0){return(0,e.z)(S.y,N)}},564:(Ze,le,l)=>{"use strict";l.d(le,{p:()=>N});var e=l(4829),S=l(7103),u=l(8251);function N(x,h,y,E,C,F,V,$){const j=[];let q=0,ee=0,ue=!1;const Ne=()=>{ue&&!j.length&&!q&&h.complete()},be=re=>q<E?De(re):j.push(re),De=re=>{F&&h.next(re),q++;let Ae=!1;(0,e.Xf)(y(re,ee++)).subscribe((0,u.x)(h,Me=>{C?.(Me),F?be(Me):h.next(Me)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(q--;j.length&&q<E;){const Me=j.shift();V?(0,S.f)(h,V,()=>De(Me)):De(Me)}Ne()}catch(Me){h.error(Me)}}))};return x.subscribe((0,u.x)(h,be,()=>{ue=!0,Ne()})),()=>{$?.()}}},9769:(Ze,le,l)=>{"use strict";l.d(le,{z:()=>h});var e=l(7398),S=l(4829),u=l(9360),N=l(564),x=l(4674);function h(y,E,C=1/0){return(0,x.m)(E)?h((F,V)=>(0,e.U)(($,j)=>E(F,$,V,j))((0,S.Xf)(y(F,V))),C):("number"==typeof E&&(C=E),(0,u.e)((F,V)=>(0,N.p)(F,V,y,C)))}},3093:(Ze,le,l)=>{"use strict";l.d(le,{Q:()=>N});var e=l(7103),S=l(9360),u=l(8251);function N(x,h=0){return(0,S.e)((y,E)=>{y.subscribe((0,u.x)(E,C=>(0,e.f)(E,x,()=>E.next(C),h),()=>(0,e.f)(E,x,()=>E.complete(),h),C=>(0,e.f)(E,x,()=>E.error(C),h)))})}},6699:(Ze,le,l)=>{"use strict";l.d(le,{R:()=>N});var e=l(9360),S=l(8251);function N(x,h){return(0,e.e)(function u(x,h,y,E,C){return(F,V)=>{let $=y,j=h,q=0;F.subscribe((0,S.x)(V,ee=>{const ue=q++;j=$?x(j,ee,ue):($=!0,ee),E&&V.next(j)},C&&(()=>{$&&V.next(j),V.complete()})))}}(x,h,arguments.length>=2,!0))}},3020:(Ze,le,l)=>{"use strict";l.d(le,{B:()=>x});var e=l(4829),S=l(8645),u=l(305),N=l(9360);function x(y={}){const{connector:E=(()=>new S.x),resetOnError:C=!0,resetOnComplete:F=!0,resetOnRefCountZero:V=!0}=y;return $=>{let j,q,ee,ue=0,Ne=!1,be=!1;const De=()=>{q?.unsubscribe(),q=void 0},re=()=>{De(),j=ee=void 0,Ne=be=!1},Ae=()=>{const Me=j;re(),Me?.unsubscribe()};return(0,N.e)((Me,st)=>{ue++,!be&&!Ne&&De();const fe=ee=ee??E();st.add(()=>{ue--,0===ue&&!be&&!Ne&&(q=h(Ae,V))}),fe.subscribe(st),!j&&ue>0&&(j=new u.Hp({next:Tt=>fe.next(Tt),error:Tt=>{be=!0,De(),q=h(re,C,Tt),fe.error(Tt)},complete:()=>{Ne=!0,De(),q=h(re,F),fe.complete()}}),(0,e.Xf)(Me).subscribe(j))})($)}}function h(y,E,...C){if(!0===E)return void y();if(!1===E)return;const F=new u.Hp({next:()=>{F.unsubscribe(),y()}});return(0,e.Xf)(E(...C)).subscribe(F)}},836:(Ze,le,l)=>{"use strict";l.d(le,{T:()=>S});var e=l(2181);function S(u){return(0,e.h)((N,x)=>u<=x)}},7921:(Ze,le,l)=>{"use strict";l.d(le,{O:()=>N});var e=l(5211),S=l(9940),u=l(9360);function N(...x){const h=(0,S.yG)(x);return(0,u.e)((y,E)=>{(h?(0,e.z)(x,y,h):(0,e.z)(x,y)).subscribe(E)})}},4664:(Ze,le,l)=>{"use strict";l.d(le,{w:()=>N});var e=l(4829),S=l(9360),u=l(8251);function N(x,h){return(0,S.e)((y,E)=>{let C=null,F=0,V=!1;const $=()=>V&&!C&&E.complete();y.subscribe((0,u.x)(E,j=>{C?.unsubscribe();let q=0;const ee=F++;(0,e.Xf)(x(j,ee)).subscribe(C=(0,u.x)(E,ue=>E.next(h?h(j,ue,ee,q++):ue),()=>{C=null,$()}))},()=>{V=!0,$()}))})}},8180:(Ze,le,l)=>{"use strict";l.d(le,{q:()=>N});var e=l(6232),S=l(9360),u=l(8251);function N(x){return x<=0?()=>e.E:(0,S.e)((h,y)=>{let E=0;h.subscribe((0,u.x)(y,C=>{++E<=x&&(y.next(C),x<=E&&y.complete())}))})}},9773:(Ze,le,l)=>{"use strict";l.d(le,{R:()=>x});var e=l(9360),S=l(8251),u=l(4829),N=l(2420);function x(h){return(0,e.e)((y,E)=>{(0,u.Xf)(h).subscribe((0,S.x)(E,()=>E.complete(),N.Z)),!E.closed&&y.subscribe(E)})}},9397:(Ze,le,l)=>{"use strict";l.d(le,{b:()=>x});var e=l(4674),S=l(9360),u=l(8251),N=l(2737);function x(h,y,E){const C=(0,e.m)(h)||y||E?{next:h,error:y,complete:E}:h;return C?(0,S.e)((F,V)=>{var $;null===($=C.subscribe)||void 0===$||$.call(C);let j=!0;F.subscribe((0,u.x)(V,q=>{var ee;null===(ee=C.next)||void 0===ee||ee.call(C,q),V.next(q)},()=>{var q;j=!1,null===(q=C.complete)||void 0===q||q.call(C),V.complete()},q=>{var ee;j=!1,null===(ee=C.error)||void 0===ee||ee.call(C,q),V.error(q)},()=>{var q,ee;j&&(null===(q=C.unsubscribe)||void 0===q||q.call(C)),null===(ee=C.finalize)||void 0===ee||ee.call(C)}))}):N.y}},3026:(Ze,le,l)=>{"use strict";l.d(le,{T:()=>N});var e=l(6973),S=l(9360),u=l(8251);function N(h=x){return(0,S.e)((y,E)=>{let C=!1;y.subscribe((0,u.x)(E,F=>{C=!0,E.next(F)},()=>C?E.complete():E.error(h())))})}function x(){return new e.K}},5178:(Ze,le,l)=>{"use strict";l.d(le,{V:()=>C});var e=l(6321),S=l(93),u=l(9360),N=l(4829),x=l(2306),h=l(8251),y=l(7103);const E=(0,x.d)(V=>function(j=null){V(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=j});function C(V,$){const{first:j,each:q,with:ee=F,scheduler:ue=$??e.z,meta:Ne=null}=(0,S.q)(V)?{first:V}:"number"==typeof V?{each:V}:V;if(null==j&&null==q)throw new TypeError("No timeout provided.");return(0,u.e)((be,De)=>{let re,Ae,Me=null,st=0;const fe=Tt=>{Ae=(0,y.f)(De,ue,()=>{try{re.unsubscribe(),(0,N.Xf)(ee({meta:Ne,lastValue:Me,seen:st})).subscribe(De)}catch(Vt){De.error(Vt)}},Tt)};re=be.subscribe((0,h.x)(De,Tt=>{Ae?.unsubscribe(),st++,De.next(Me=Tt),q>0&&fe(q)},void 0,void 0,()=>{Ae?.closed||Ae?.unsubscribe(),Me=null})),!st&&fe(null!=j?"number"==typeof j?j:+j-ue.now():q)})}function F(V){throw new E(V)}},2460:(Ze,le,l)=>{"use strict";l.d(le,{M:()=>y});var e=l(9360),S=l(8251),u=l(4829),N=l(2737),x=l(2420),h=l(9940);function y(...E){const C=(0,h.jO)(E);return(0,e.e)((F,V)=>{const $=E.length,j=new Array($);let q=E.map(()=>!1),ee=!1;for(let ue=0;ue<$;ue++)(0,u.Xf)(E[ue]).subscribe((0,S.x)(V,Ne=>{j[ue]=Ne,!ee&&!q[ue]&&(q[ue]=!0,(ee=q.every(N.y))&&(q=null))},x.Z));F.subscribe((0,S.x)(V,ue=>{if(ee){const Ne=[ue,...j];V.next(C?C(...Ne):Ne)}}))})}},1954:(Ze,le,l)=>{"use strict";l.d(le,{o:()=>x});var e=l(7394);class S extends e.w0{constructor(y,E){super()}schedule(y,E=0){return this}}const u={setInterval(h,y,...E){const{delegate:C}=u;return C?.setInterval?C.setInterval(h,y,...E):setInterval(h,y,...E)},clearInterval(h){const{delegate:y}=u;return(y?.clearInterval||clearInterval)(h)},delegate:void 0};var N=l(9039);class x extends S{constructor(y,E){super(y,E),this.scheduler=y,this.work=E,this.pending=!1}schedule(y,E=0){var C;if(this.closed)return this;this.state=y;const F=this.id,V=this.scheduler;return null!=F&&(this.id=this.recycleAsyncId(V,F,E)),this.pending=!0,this.delay=E,this.id=null!==(C=this.id)&&void 0!==C?C:this.requestAsyncId(V,this.id,E),this}requestAsyncId(y,E,C=0){return u.setInterval(y.flush.bind(y,this),C)}recycleAsyncId(y,E,C=0){if(null!=C&&this.delay===C&&!1===this.pending)return E;null!=E&&u.clearInterval(E)}execute(y,E){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const C=this._execute(y,E);if(C)return C;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(y,E){let F,C=!1;try{this.work(y)}catch(V){C=!0,F=V||new Error("Scheduled action threw falsy error")}if(C)return this.unsubscribe(),F}unsubscribe(){if(!this.closed){const{id:y,scheduler:E}=this,{actions:C}=E;this.work=this.state=this.scheduler=null,this.pending=!1,(0,N.P)(C,this),null!=y&&(this.id=this.recycleAsyncId(E,y,null)),this.delay=null,super.unsubscribe()}}}},2631:(Ze,le,l)=>{"use strict";l.d(le,{v:()=>u});var e=l(4552);class S{constructor(x,h=S.now){this.schedulerActionCtor=x,this.now=h}schedule(x,h=0,y){return new this.schedulerActionCtor(this,x).schedule(y,h)}}S.now=e.l.now;class u extends S{constructor(x,h=S.now){super(x,h),this.actions=[],this._active=!1}flush(x){const{actions:h}=this;if(this._active)return void h.push(x);let y;this._active=!0;do{if(y=x.execute(x.state,x.delay))break}while(x=h.shift());if(this._active=!1,y){for(;x=h.shift();)x.unsubscribe();throw y}}}},927:(Ze,le,l)=>{"use strict";l.d(le,{Z:()=>y});var e=l(1954),S=l(7394);const u={schedule(C){let F=requestAnimationFrame,V=cancelAnimationFrame;const{delegate:$}=u;$&&(F=$.requestAnimationFrame,V=$.cancelAnimationFrame);const j=F(q=>{V=void 0,C(q)});return new S.w0(()=>V?.(j))},requestAnimationFrame(...C){const{delegate:F}=u;return(F?.requestAnimationFrame||requestAnimationFrame)(...C)},cancelAnimationFrame(...C){const{delegate:F}=u;return(F?.cancelAnimationFrame||cancelAnimationFrame)(...C)},delegate:void 0};var x=l(2631);const y=new class h extends x.v{flush(F){this._active=!0;const V=this._scheduled;this._scheduled=void 0;const{actions:$}=this;let j;F=F||$.shift();do{if(j=F.execute(F.state,F.delay))break}while((F=$[0])&&F.id===V&&$.shift());if(this._active=!1,j){for(;(F=$[0])&&F.id===V&&$.shift();)F.unsubscribe();throw j}}}(class N extends e.o{constructor(F,V){super(F,V),this.scheduler=F,this.work=V}requestAsyncId(F,V,$=0){return null!==$&&$>0?super.requestAsyncId(F,V,$):(F.actions.push(this),F._scheduled||(F._scheduled=u.requestAnimationFrame(()=>F.flush(void 0))))}recycleAsyncId(F,V,$=0){var j;if(null!=$?$>0:this.delay>0)return super.recycleAsyncId(F,V,$);const{actions:q}=F;null!=V&&(null===(j=q[q.length-1])||void 0===j?void 0:j.id)!==V&&(u.cancelAnimationFrame(V),F._scheduled=void 0)}})},6321:(Ze,le,l)=>{"use strict";l.d(le,{P:()=>N,z:()=>u});var e=l(1954);const u=new(l(2631).v)(e.o),N=u},4552:(Ze,le,l)=>{"use strict";l.d(le,{l:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},2381:(Ze,le,l)=>{"use strict";l.d(le,{N:()=>x});var e=l(1954),u=l(2631);const x=new class N extends u.v{}(class S extends e.o{constructor(E,C){super(E,C),this.scheduler=E,this.work=C}schedule(E,C=0){return C>0?super.schedule(E,C):(this.delay=C,this.state=E,this.scheduler.flush(this),this)}execute(E,C){return C>0||this.closed?super.execute(E,C):this._execute(E,C)}requestAsyncId(E,C,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(E,C,F):(E.flush(this),0)}})},4971:(Ze,le,l)=>{"use strict";l.d(le,{h:()=>S});const S=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},6973:(Ze,le,l)=>{"use strict";l.d(le,{K:()=>S});const S=(0,l(2306).d)(u=>function(){u(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Ze,le,l)=>{"use strict";l.d(le,{_6:()=>h,jO:()=>N,yG:()=>x});var e=l(4674),S=l(671);function u(y){return y[y.length-1]}function N(y){return(0,e.m)(u(y))?y.pop():void 0}function x(y){return(0,S.K)(u(y))?y.pop():void 0}function h(y,E){return"number"==typeof u(y)?y.pop():E}},7453:(Ze,le,l)=>{"use strict";l.d(le,{D:()=>x});const{isArray:e}=Array,{getPrototypeOf:S,prototype:u,keys:N}=Object;function x(y){if(1===y.length){const E=y[0];if(e(E))return{args:E,keys:null};if(function h(y){return y&&"object"==typeof y&&S(y)===u}(E)){const C=N(E);return{args:C.map(F=>E[F]),keys:C}}}return{args:y,keys:null}}},7728:(Ze,le,l)=>{"use strict";l.d(le,{k:()=>S});const{isArray:e}=Array;function S(u){return 1===u.length&&e(u[0])?u[0]:u}},2714:(Ze,le,l)=>{"use strict";function e(S,u){return S.reduce((N,x,h)=>(N[x]=u[h],N),{})}l.d(le,{n:()=>e})},7103:(Ze,le,l)=>{"use strict";function e(S,u,N,x=0,h=!1){const y=u.schedule(function(){N(),h?S.add(this.schedule(null,x)):this.unsubscribe()},x);if(S.add(y),!h)return y}l.d(le,{f:()=>e})},4266:(Ze,le,l)=>{"use strict";l.d(le,{z:()=>e});const e=S=>S&&"number"==typeof S.length&&"function"!=typeof S},5726:(Ze,le,l)=>{"use strict";l.d(le,{D:()=>S});var e=l(4674);function S(u){return Symbol.asyncIterator&&(0,e.m)(u?.[Symbol.asyncIterator])}},93:(Ze,le,l)=>{"use strict";function e(S){return S instanceof Date&&!isNaN(S)}l.d(le,{q:()=>e})},8382:(Ze,le,l)=>{"use strict";l.d(le,{c:()=>u});var e=l(4850),S=l(4674);function u(N){return(0,S.m)(N[e.L])}},3664:(Ze,le,l)=>{"use strict";l.d(le,{T:()=>u});var e=l(4971),S=l(4674);function u(N){return(0,S.m)(N?.[e.h])}},4026:(Ze,le,l)=>{"use strict";l.d(le,{t:()=>S});var e=l(4674);function S(u){return(0,e.m)(u?.then)}},541:(Ze,le,l)=>{"use strict";l.d(le,{L:()=>N,Q:()=>u});var e=l(7582),S=l(4674);function u(x){return(0,e.FC)(this,arguments,function*(){const y=x.getReader();try{for(;;){const{value:E,done:C}=yield(0,e.qq)(y.read());if(C)return yield(0,e.qq)(void 0);yield yield(0,e.qq)(E)}}finally{y.releaseLock()}})}function N(x){return(0,S.m)(x?.getReader)}},671:(Ze,le,l)=>{"use strict";l.d(le,{K:()=>S});var e=l(4674);function S(u){return u&&(0,e.m)(u.schedule)}},7400:(Ze,le,l)=>{"use strict";l.d(le,{Z:()=>N});var e=l(7398);const{isArray:S}=Array;function N(x){return(0,e.U)(h=>function u(x,h){return S(h)?x(...h):x(h)}(x,h))}},9853:(Ze,le,l)=>{"use strict";function e(S){return new TypeError(`You provided ${null!==S&&"object"==typeof S?"an invalid object":`'${S}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}l.d(le,{z:()=>e})},6825:(Ze,le,l)=>{"use strict";l.d(le,{X$:()=>u,ZE:()=>Tt,ZN:()=>fe,eR:()=>F,jt:()=>N,k1:()=>Vt,l3:()=>S,mo:()=>e,oB:()=>y,vP:()=>h});var e=function(xt){return xt[xt.State=0]="State",xt[xt.Transition=1]="Transition",xt[xt.Sequence=2]="Sequence",xt[xt.Group=3]="Group",xt[xt.Animate=4]="Animate",xt[xt.Keyframes=5]="Keyframes",xt[xt.Style=6]="Style",xt[xt.Trigger=7]="Trigger",xt[xt.Reference=8]="Reference",xt[xt.AnimateChild=9]="AnimateChild",xt[xt.AnimateRef=10]="AnimateRef",xt[xt.Query=11]="Query",xt[xt.Stagger=12]="Stagger",xt}(e||{});const S="*";function u(xt,dt){return{type:e.Trigger,name:xt,definitions:dt,options:{}}}function N(xt,dt=null){return{type:e.Animate,styles:dt,timings:xt}}function h(xt,dt=null){return{type:e.Sequence,steps:xt,options:dt}}function y(xt){return{type:e.Style,styles:xt,offset:null}}function F(xt,dt,rn=null){return{type:e.Transition,expr:xt,animation:dt,options:rn}}class fe{constructor(dt=0,rn=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=dt+rn}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(dt=>dt()),this._onDoneFns=[])}onStart(dt){this._originalOnStartFns.push(dt),this._onStartFns.push(dt)}onDone(dt){this._originalOnDoneFns.push(dt),this._onDoneFns.push(dt)}onDestroy(dt){this._onDestroyFns.push(dt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(dt=>dt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(dt=>dt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(dt){this._position=this.totalTime?dt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(dt){const rn="start"==dt?this._onStartFns:this._onDoneFns;rn.forEach(on=>on()),rn.length=0}}class Tt{constructor(dt){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=dt;let rn=0,on=0,cn=0;const Sn=this.players.length;0==Sn?queueMicrotask(()=>this._onFinish()):this.players.forEach(hn=>{hn.onDone(()=>{++rn==Sn&&this._onFinish()}),hn.onDestroy(()=>{++on==Sn&&this._onDestroy()}),hn.onStart(()=>{++cn==Sn&&this._onStart()})}),this.totalTime=this.players.reduce((hn,ln)=>Math.max(hn,ln.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(dt=>dt()),this._onDoneFns=[])}init(){this.players.forEach(dt=>dt.init())}onStart(dt){this._onStartFns.push(dt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(dt=>dt()),this._onStartFns=[])}onDone(dt){this._onDoneFns.push(dt)}onDestroy(dt){this._onDestroyFns.push(dt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(dt=>dt.play())}pause(){this.players.forEach(dt=>dt.pause())}restart(){this.players.forEach(dt=>dt.restart())}finish(){this._onFinish(),this.players.forEach(dt=>dt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(dt=>dt.destroy()),this._onDestroyFns.forEach(dt=>dt()),this._onDestroyFns=[])}reset(){this.players.forEach(dt=>dt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(dt){const rn=dt*this.totalTime;this.players.forEach(on=>{const cn=on.totalTime?Math.min(1,rn/on.totalTime):1;on.setPosition(cn)})}getPosition(){const dt=this.players.reduce((rn,on)=>null===rn||on.totalTime>rn.totalTime?on:rn,null);return null!=dt?dt.getPosition():0}beforeDestroy(){this.players.forEach(dt=>{dt.beforeDestroy&&dt.beforeDestroy()})}triggerCallback(dt){const rn="start"==dt?this._onStartFns:this._onDoneFns;rn.forEach(on=>on()),rn.length=0}}const Vt="!"},9388:(Ze,le,l)=>{"use strict";l.d(le,{Is:()=>y,vT:()=>C});var e=l(9212),S=l(6814);const u=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function N(){return(0,e.f3M)(S.K0)}}),x=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let y=(()=>{class F{constructor($){this.value="ltr",this.change=new e.vpe,$&&(this.value=function h(F){const V=F?.toLowerCase()||"";return"auto"===V&&typeof navigator<"u"&&navigator?.language?x.test(navigator.language)?"rtl":"ltr":"rtl"===V?"rtl":"ltr"}(($.body?$.body.dir:null)||($.documentElement?$.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(j){return new(j||F)(e.LFG(u,8))};static#t=this.\u0275prov=e.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),C=(()=>{class F{static#e=this.\u0275fac=function(j){return new(j||F)};static#t=this.\u0275mod=e.oAB({type:F});static#n=this.\u0275inj=e.cJS({})}return F})()},2495:(Ze,le,l)=>{"use strict";l.d(le,{Eq:()=>x,HM:()=>h,Ig:()=>S,fI:()=>y,su:()=>u});var e=l(9212);function S(C){return null!=C&&"false"!=`${C}`}function u(C,F=0){return function N(C){return!isNaN(parseFloat(C))&&!isNaN(Number(C))}(C)?Number(C):F}function x(C){return Array.isArray(C)?C:[C]}function h(C){return null==C?"":"string"==typeof C?C:`${C}px`}function y(C){return C instanceof e.SBq?C.nativeElement:C}},2831:(Ze,le,l)=>{"use strict";l.d(le,{Mq:()=>q,Oy:()=>Ae,_i:()=>ee,i$:()=>V,kV:()=>be,sA:()=>re,t4:()=>N});var e=l(9212),S=l(6814);let u;try{u=typeof Intl<"u"&&Intl.v8BreakIterator}catch{u=!1}let C,$,j,ue,N=(()=>{class Me{constructor(fe){this._platformId=fe,this.isBrowser=this._platformId?(0,S.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!u)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Tt){return new(Tt||Me)(e.LFG(e.Lbi))};static#t=this.\u0275prov=e.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})();function V(Me){return function F(){if(null==C&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>C=!0}))}finally{C=C||!1}return C}()?Me:!!Me.capture}function q(){if(null==j){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return j=!1,j;if("scrollBehavior"in document.documentElement.style)j=!0;else{const Me=Element.prototype.scrollTo;j=!!Me&&!/\{\s*\[native code\]\s*\}/.test(Me.toString())}}return j}function ee(){if("object"!=typeof document||!document)return 0;if(null==$){const Me=document.createElement("div"),st=Me.style;Me.dir="rtl",st.width="1px",st.overflow="auto",st.visibility="hidden",st.pointerEvents="none",st.position="absolute";const fe=document.createElement("div"),Tt=fe.style;Tt.width="2px",Tt.height="1px",Me.appendChild(fe),document.body.appendChild(Me),$=0,0===Me.scrollLeft&&(Me.scrollLeft=1,$=0===Me.scrollLeft?1:2),Me.remove()}return $}function be(Me){if(function Ne(){if(null==ue){const Me=typeof document<"u"?document.head:null;ue=!(!Me||!Me.createShadowRoot&&!Me.attachShadow)}return ue}()){const st=Me.getRootNode?Me.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&st instanceof ShadowRoot)return st}return null}function re(Me){return Me.composedPath?Me.composedPath()[0]:Me.target}function Ae(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},7368:(Ze,le,l)=>{"use strict";l.d(le,{ZD:()=>Ue,mF:()=>Kt,Cl:()=>tt,rL:()=>Ct});var e=l(2495),S=l(9212),u=l(8645),N=l(2096),x=l(5592),h=l(2438),E=(l(927),l(1954));let F,C=1;const V={};function $(qe){return qe in V&&(delete V[qe],!0)}const j={setImmediate(qe){const yt=C++;return V[yt]=!0,F||(F=Promise.resolve()),F.then(()=>$(yt)&&qe()),yt},clearImmediate(qe){$(qe)}},{setImmediate:ee,clearImmediate:ue}=j,Ne={setImmediate(...qe){const{delegate:yt}=Ne;return(yt?.setImmediate||ee)(...qe)},clearImmediate(qe){const{delegate:yt}=Ne;return(yt?.clearImmediate||ue)(qe)},delegate:void 0};var De=l(2631);new class re extends De.v{flush(yt){this._active=!0;const Qe=this._scheduled;this._scheduled=void 0;const{actions:St}=this;let $t;yt=yt||St.shift();do{if($t=yt.execute(yt.state,yt.delay))break}while((yt=St[0])&&yt.id===Qe&&St.shift());if(this._active=!1,$t){for(;(yt=St[0])&&yt.id===Qe&&St.shift();)yt.unsubscribe();throw $t}}}(class be extends E.o{constructor(yt,Qe){super(yt,Qe),this.scheduler=yt,this.work=Qe}requestAsyncId(yt,Qe,St=0){return null!==St&&St>0?super.requestAsyncId(yt,Qe,St):(yt.actions.push(this),yt._scheduled||(yt._scheduled=Ne.setImmediate(yt.flush.bind(yt,void 0))))}recycleAsyncId(yt,Qe,St=0){var $t;if(null!=St?St>0:this.delay>0)return super.recycleAsyncId(yt,Qe,St);const{actions:an}=yt;null!=Qe&&(null===($t=an[an.length-1])||void 0===$t?void 0:$t.id)!==Qe&&(Ne.clearImmediate(Qe),yt._scheduled===Qe&&(yt._scheduled=void 0))}});var st=l(9028),fe=l(2181),Tt=l(2831),Vt=l(6814),xt=l(9388);let Kt=(()=>{class qe{constructor(Qe,St,$t){this._ngZone=Qe,this._platform=St,this._scrolled=new u.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=$t}register(Qe){this.scrollContainers.has(Qe)||this.scrollContainers.set(Qe,Qe.elementScrolled().subscribe(()=>this._scrolled.next(Qe)))}deregister(Qe){const St=this.scrollContainers.get(Qe);St&&(St.unsubscribe(),this.scrollContainers.delete(Qe))}scrolled(Qe=20){return this._platform.isBrowser?new x.y(St=>{this._globalSubscription||this._addGlobalListener();const $t=Qe>0?this._scrolled.pipe((0,st.e)(Qe)).subscribe(St):this._scrolled.subscribe(St);return this._scrolledCount++,()=>{$t.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,N.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Qe,St)=>this.deregister(St)),this._scrolled.complete()}ancestorScrolled(Qe,St){const $t=this.getAncestorScrollContainers(Qe);return this.scrolled(St).pipe((0,fe.h)(an=>!an||$t.indexOf(an)>-1))}getAncestorScrollContainers(Qe){const St=[];return this.scrollContainers.forEach(($t,an)=>{this._scrollableContainsElement(an,Qe)&&St.push(an)}),St}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Qe,St){let $t=(0,e.fI)(St),an=Qe.getElementRef().nativeElement;do{if($t==an)return!0}while($t=$t.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Qe=this._getWindow();return(0,h.R)(Qe.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(St){return new(St||qe)(S.LFG(S.R0b),S.LFG(Tt.t4),S.LFG(Vt.K0,8))};static#t=this.\u0275prov=S.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})(),Ct=(()=>{class qe{constructor(Qe,St,$t){this._platform=Qe,this._change=new u.x,this._changeListener=an=>{this._change.next(an)},this._document=$t,St.runOutsideAngular(()=>{if(Qe.isBrowser){const an=this._getWindow();an.addEventListener("resize",this._changeListener),an.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Qe=this._getWindow();Qe.removeEventListener("resize",this._changeListener),Qe.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Qe={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Qe}getViewportRect(){const Qe=this.getViewportScrollPosition(),{width:St,height:$t}=this.getViewportSize();return{top:Qe.top,left:Qe.left,bottom:Qe.top+$t,right:Qe.left+St,height:$t,width:St}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Qe=this._document,St=this._getWindow(),$t=Qe.documentElement,an=$t.getBoundingClientRect();return{top:-an.top||Qe.body.scrollTop||St.scrollY||$t.scrollTop||0,left:-an.left||Qe.body.scrollLeft||St.scrollX||$t.scrollLeft||0}}change(Qe=20){return Qe>0?this._change.pipe((0,st.e)(Qe)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Qe=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Qe.innerWidth,height:Qe.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(St){return new(St||qe)(S.LFG(Tt.t4),S.LFG(S.R0b),S.LFG(Vt.K0,8))};static#t=this.\u0275prov=S.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})(),Ue=(()=>{class qe{static#e=this.\u0275fac=function(St){return new(St||qe)};static#t=this.\u0275mod=S.oAB({type:qe});static#n=this.\u0275inj=S.cJS({})}return qe})(),tt=(()=>{class qe{static#e=this.\u0275fac=function(St){return new(St||qe)};static#t=this.\u0275mod=S.oAB({type:qe});static#n=this.\u0275inj=S.cJS({imports:[xt.vT,Ue,xt.vT,Ue]})}return qe})()},9862:(Ze,le,l)=>{"use strict";l.d(le,{Ed:()=>er,JF:()=>Si,LE:()=>Me,TP:()=>tt,WM:()=>q,eN:()=>Ct}),l(5861);var S=l(9212),u=l(2096),N=l(5592),x=l(9666),h=l(6328),y=l(2181),E=l(7398),C=l(4716),F=l(4664),V=l(6814);class ${}class j{}class q{constructor(Je){this.normalizedNames=new Map,this.lazyUpdate=null,Je?"string"==typeof Je?this.lazyInit=()=>{this.headers=new Map,Je.split("\n").forEach(Ge=>{const wt=Ge.indexOf(":");if(wt>0){const i=Ge.slice(0,wt),r=i.toLowerCase(),a=Ge.slice(wt+1).trim();this.maybeSetNormalizedName(i,r),this.headers.has(r)?this.headers.get(r).push(a):this.headers.set(r,[a])}})}:typeof Headers<"u"&&Je instanceof Headers?(this.headers=new Map,Je.forEach((Ge,wt)=>{this.setHeaderEntries(wt,Ge)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Je).forEach(([Ge,wt])=>{this.setHeaderEntries(Ge,wt)})}:this.headers=new Map}has(Je){return this.init(),this.headers.has(Je.toLowerCase())}get(Je){this.init();const Ge=this.headers.get(Je.toLowerCase());return Ge&&Ge.length>0?Ge[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Je){return this.init(),this.headers.get(Je.toLowerCase())||null}append(Je,Ge){return this.clone({name:Je,value:Ge,op:"a"})}set(Je,Ge){return this.clone({name:Je,value:Ge,op:"s"})}delete(Je,Ge){return this.clone({name:Je,value:Ge,op:"d"})}maybeSetNormalizedName(Je,Ge){this.normalizedNames.has(Ge)||this.normalizedNames.set(Ge,Je)}init(){this.lazyInit&&(this.lazyInit instanceof q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Je=>this.applyUpdate(Je)),this.lazyUpdate=null))}copyFrom(Je){Je.init(),Array.from(Je.headers.keys()).forEach(Ge=>{this.headers.set(Ge,Je.headers.get(Ge)),this.normalizedNames.set(Ge,Je.normalizedNames.get(Ge))})}clone(Je){const Ge=new q;return Ge.lazyInit=this.lazyInit&&this.lazyInit instanceof q?this.lazyInit:this,Ge.lazyUpdate=(this.lazyUpdate||[]).concat([Je]),Ge}applyUpdate(Je){const Ge=Je.name.toLowerCase();switch(Je.op){case"a":case"s":let wt=Je.value;if("string"==typeof wt&&(wt=[wt]),0===wt.length)return;this.maybeSetNormalizedName(Je.name,Ge);const i=("a"===Je.op?this.headers.get(Ge):void 0)||[];i.push(...wt),this.headers.set(Ge,i);break;case"d":const r=Je.value;if(r){let a=this.headers.get(Ge);if(!a)return;a=a.filter(f=>-1===r.indexOf(f)),0===a.length?(this.headers.delete(Ge),this.normalizedNames.delete(Ge)):this.headers.set(Ge,a)}else this.headers.delete(Ge),this.normalizedNames.delete(Ge)}}setHeaderEntries(Je,Ge){const wt=(Array.isArray(Ge)?Ge:[Ge]).map(r=>r.toString()),i=Je.toLowerCase();this.headers.set(i,wt),this.maybeSetNormalizedName(Je,i)}forEach(Je){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ge=>Je(this.normalizedNames.get(Ge),this.headers.get(Ge)))}}class ue{encodeKey(Je){return re(Je)}encodeValue(Je){return re(Je)}decodeKey(Je){return decodeURIComponent(Je)}decodeValue(Je){return decodeURIComponent(Je)}}const be=/%(\d[a-f0-9])/gi,De={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function re(ve){return encodeURIComponent(ve).replace(be,(Je,Ge)=>De[Ge]??Je)}function Ae(ve){return`${ve}`}class Me{constructor(Je={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Je.encoder||new ue,Je.fromString){if(Je.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ne(ve,Je){const Ge=new Map;return ve.length>0&&ve.replace(/^\?/,"").split("&").forEach(i=>{const r=i.indexOf("="),[a,f]=-1==r?[Je.decodeKey(i),""]:[Je.decodeKey(i.slice(0,r)),Je.decodeValue(i.slice(r+1))],T=Ge.get(a)||[];T.push(f),Ge.set(a,T)}),Ge}(Je.fromString,this.encoder)}else Je.fromObject?(this.map=new Map,Object.keys(Je.fromObject).forEach(Ge=>{const wt=Je.fromObject[Ge],i=Array.isArray(wt)?wt.map(Ae):[Ae(wt)];this.map.set(Ge,i)})):this.map=null}has(Je){return this.init(),this.map.has(Je)}get(Je){this.init();const Ge=this.map.get(Je);return Ge?Ge[0]:null}getAll(Je){return this.init(),this.map.get(Je)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Je,Ge){return this.clone({param:Je,value:Ge,op:"a"})}appendAll(Je){const Ge=[];return Object.keys(Je).forEach(wt=>{const i=Je[wt];Array.isArray(i)?i.forEach(r=>{Ge.push({param:wt,value:r,op:"a"})}):Ge.push({param:wt,value:i,op:"a"})}),this.clone(Ge)}set(Je,Ge){return this.clone({param:Je,value:Ge,op:"s"})}delete(Je,Ge){return this.clone({param:Je,value:Ge,op:"d"})}toString(){return this.init(),this.keys().map(Je=>{const Ge=this.encoder.encodeKey(Je);return this.map.get(Je).map(wt=>Ge+"="+this.encoder.encodeValue(wt)).join("&")}).filter(Je=>""!==Je).join("&")}clone(Je){const Ge=new Me({encoder:this.encoder});return Ge.cloneFrom=this.cloneFrom||this,Ge.updates=(this.updates||[]).concat(Je),Ge}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Je=>this.map.set(Je,this.cloneFrom.map.get(Je))),this.updates.forEach(Je=>{switch(Je.op){case"a":case"s":const Ge=("a"===Je.op?this.map.get(Je.param):void 0)||[];Ge.push(Ae(Je.value)),this.map.set(Je.param,Ge);break;case"d":if(void 0===Je.value){this.map.delete(Je.param);break}{let wt=this.map.get(Je.param)||[];const i=wt.indexOf(Ae(Je.value));-1!==i&&wt.splice(i,1),wt.length>0?this.map.set(Je.param,wt):this.map.delete(Je.param)}}}),this.cloneFrom=this.updates=null)}}class fe{constructor(){this.map=new Map}set(Je,Ge){return this.map.set(Je,Ge),this}get(Je){return this.map.has(Je)||this.map.set(Je,Je.defaultValue()),this.map.get(Je)}delete(Je){return this.map.delete(Je),this}has(Je){return this.map.has(Je)}keys(){return this.map.keys()}}function Vt(ve){return typeof ArrayBuffer<"u"&&ve instanceof ArrayBuffer}function xt(ve){return typeof Blob<"u"&&ve instanceof Blob}function dt(ve){return typeof FormData<"u"&&ve instanceof FormData}class on{constructor(Je,Ge,wt,i){let r;if(this.url=Ge,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Je.toUpperCase(),function Tt(ve){switch(ve){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==wt?wt:null,r=i):r=wt,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers||(this.headers=new q),this.context||(this.context=new fe),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=Ge;else{const f=Ge.indexOf("?");this.urlWithParams=Ge+(-1===f?"?":f<Ge.length-1?"&":"")+a}}else this.params=new Me,this.urlWithParams=Ge}serializeBody(){return null===this.body?null:Vt(this.body)||xt(this.body)||dt(this.body)||function rn(ve){return typeof URLSearchParams<"u"&&ve instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Me?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dt(this.body)?null:xt(this.body)?this.body.type||null:Vt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Me?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Je={}){const Ge=Je.method||this.method,wt=Je.url||this.url,i=Je.responseType||this.responseType,r=void 0!==Je.body?Je.body:this.body,a=void 0!==Je.withCredentials?Je.withCredentials:this.withCredentials,f=void 0!==Je.reportProgress?Je.reportProgress:this.reportProgress;let T=Je.headers||this.headers,k=Je.params||this.params;const te=Je.context??this.context;return void 0!==Je.setHeaders&&(T=Object.keys(Je.setHeaders).reduce((_e,he)=>_e.set(he,Je.setHeaders[he]),T)),Je.setParams&&(k=Object.keys(Je.setParams).reduce((_e,he)=>_e.set(he,Je.setParams[he]),k)),new on(Ge,wt,r,{params:k,headers:T,context:te,reportProgress:f,responseType:i,withCredentials:a})}}var cn=function(ve){return ve[ve.Sent=0]="Sent",ve[ve.UploadProgress=1]="UploadProgress",ve[ve.ResponseHeader=2]="ResponseHeader",ve[ve.DownloadProgress=3]="DownloadProgress",ve[ve.Response=4]="Response",ve[ve.User=5]="User",ve}(cn||{});class Sn{constructor(Je,Ge=Xe.Ok,wt="OK"){this.headers=Je.headers||new q,this.status=void 0!==Je.status?Je.status:Ge,this.statusText=Je.statusText||wt,this.url=Je.url||null,this.ok=this.status>=200&&this.status<300}}class hn extends Sn{constructor(Je={}){super(Je),this.type=cn.ResponseHeader}clone(Je={}){return new hn({headers:Je.headers||this.headers,status:void 0!==Je.status?Je.status:this.status,statusText:Je.statusText||this.statusText,url:Je.url||this.url||void 0})}}class ln extends Sn{constructor(Je={}){super(Je),this.type=cn.Response,this.body=void 0!==Je.body?Je.body:null}clone(Je={}){return new ln({body:void 0!==Je.body?Je.body:this.body,headers:Je.headers||this.headers,status:void 0!==Je.status?Je.status:this.status,statusText:Je.statusText||this.statusText,url:Je.url||this.url||void 0})}}class Kt extends Sn{constructor(Je){super(Je,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Je.url||"(unknown url)"}`:`Http failure response for ${Je.url||"(unknown url)"}: ${Je.status} ${Je.statusText}`,this.error=Je.error||null}}var Xe=function(ve){return ve[ve.Continue=100]="Continue",ve[ve.SwitchingProtocols=101]="SwitchingProtocols",ve[ve.Processing=102]="Processing",ve[ve.EarlyHints=103]="EarlyHints",ve[ve.Ok=200]="Ok",ve[ve.Created=201]="Created",ve[ve.Accepted=202]="Accepted",ve[ve.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",ve[ve.NoContent=204]="NoContent",ve[ve.ResetContent=205]="ResetContent",ve[ve.PartialContent=206]="PartialContent",ve[ve.MultiStatus=207]="MultiStatus",ve[ve.AlreadyReported=208]="AlreadyReported",ve[ve.ImUsed=226]="ImUsed",ve[ve.MultipleChoices=300]="MultipleChoices",ve[ve.MovedPermanently=301]="MovedPermanently",ve[ve.Found=302]="Found",ve[ve.SeeOther=303]="SeeOther",ve[ve.NotModified=304]="NotModified",ve[ve.UseProxy=305]="UseProxy",ve[ve.Unused=306]="Unused",ve[ve.TemporaryRedirect=307]="TemporaryRedirect",ve[ve.PermanentRedirect=308]="PermanentRedirect",ve[ve.BadRequest=400]="BadRequest",ve[ve.Unauthorized=401]="Unauthorized",ve[ve.PaymentRequired=402]="PaymentRequired",ve[ve.Forbidden=403]="Forbidden",ve[ve.NotFound=404]="NotFound",ve[ve.MethodNotAllowed=405]="MethodNotAllowed",ve[ve.NotAcceptable=406]="NotAcceptable",ve[ve.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",ve[ve.RequestTimeout=408]="RequestTimeout",ve[ve.Conflict=409]="Conflict",ve[ve.Gone=410]="Gone",ve[ve.LengthRequired=411]="LengthRequired",ve[ve.PreconditionFailed=412]="PreconditionFailed",ve[ve.PayloadTooLarge=413]="PayloadTooLarge",ve[ve.UriTooLong=414]="UriTooLong",ve[ve.UnsupportedMediaType=415]="UnsupportedMediaType",ve[ve.RangeNotSatisfiable=416]="RangeNotSatisfiable",ve[ve.ExpectationFailed=417]="ExpectationFailed",ve[ve.ImATeapot=418]="ImATeapot",ve[ve.MisdirectedRequest=421]="MisdirectedRequest",ve[ve.UnprocessableEntity=422]="UnprocessableEntity",ve[ve.Locked=423]="Locked",ve[ve.FailedDependency=424]="FailedDependency",ve[ve.TooEarly=425]="TooEarly",ve[ve.UpgradeRequired=426]="UpgradeRequired",ve[ve.PreconditionRequired=428]="PreconditionRequired",ve[ve.TooManyRequests=429]="TooManyRequests",ve[ve.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",ve[ve.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",ve[ve.InternalServerError=500]="InternalServerError",ve[ve.NotImplemented=501]="NotImplemented",ve[ve.BadGateway=502]="BadGateway",ve[ve.ServiceUnavailable=503]="ServiceUnavailable",ve[ve.GatewayTimeout=504]="GatewayTimeout",ve[ve.HttpVersionNotSupported=505]="HttpVersionNotSupported",ve[ve.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",ve[ve.InsufficientStorage=507]="InsufficientStorage",ve[ve.LoopDetected=508]="LoopDetected",ve[ve.NotExtended=510]="NotExtended",ve[ve.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",ve}(Xe||{});function ht(ve,Je){return{body:Je,headers:ve.headers,context:ve.context,observe:ve.observe,params:ve.params,reportProgress:ve.reportProgress,responseType:ve.responseType,withCredentials:ve.withCredentials,transferCache:ve.transferCache}}let Ct=(()=>{class ve{constructor(Ge){this.handler=Ge}request(Ge,wt,i={}){let r;if(Ge instanceof on)r=Ge;else{let T,k;T=i.headers instanceof q?i.headers:new q(i.headers),i.params&&(k=i.params instanceof Me?i.params:new Me({fromObject:i.params})),r=new on(Ge,wt,void 0!==i.body?i.body:null,{headers:T,context:i.context,params:k,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=(0,u.of)(r).pipe((0,h.b)(T=>this.handler.handle(T)));if(Ge instanceof on||"events"===i.observe)return a;const f=a.pipe((0,y.h)(T=>T instanceof ln));switch(i.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return f.pipe((0,E.U)(T=>{if(null!==T.body&&!(T.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return T.body}));case"blob":return f.pipe((0,E.U)(T=>{if(null!==T.body&&!(T.body instanceof Blob))throw new Error("Response is not a Blob.");return T.body}));case"text":return f.pipe((0,E.U)(T=>{if(null!==T.body&&"string"!=typeof T.body)throw new Error("Response is not a string.");return T.body}));default:return f.pipe((0,E.U)(T=>T.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(Ge,wt={}){return this.request("DELETE",Ge,wt)}get(Ge,wt={}){return this.request("GET",Ge,wt)}head(Ge,wt={}){return this.request("HEAD",Ge,wt)}jsonp(Ge,wt){return this.request("JSONP",Ge,{params:(new Me).append(wt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ge,wt={}){return this.request("OPTIONS",Ge,wt)}patch(Ge,wt,i={}){return this.request("PATCH",Ge,ht(i,wt))}post(Ge,wt,i={}){return this.request("POST",Ge,ht(i,wt))}put(Ge,wt,i={}){return this.request("PUT",Ge,ht(i,wt))}static#e=this.\u0275fac=function(wt){return new(wt||ve)(S.LFG($))};static#t=this.\u0275prov=S.Yz7({token:ve,factory:ve.\u0275fac})}return ve})();function K(ve,Je){return Je(ve)}function Re(ve,Je){return(Ge,wt)=>Je.intercept(Ge,{handle:i=>ve(i,wt)})}const tt=new S.OlP(""),qe=new S.OlP(""),yt=new S.OlP(""),Qe=new S.OlP("");function St(){let ve=null;return(Je,Ge)=>{null===ve&&(ve=((0,S.f3M)(tt,{optional:!0})??[]).reduceRight(Re,K));const wt=(0,S.f3M)(S.I6F),i=wt.add();return ve(Je,Ge).pipe((0,C.x)(()=>wt.remove(i)))}}let zn,On=(()=>{class ve extends ${constructor(Ge,wt){super(),this.backend=Ge,this.injector=wt,this.chain=null,this.pendingTasks=(0,S.f3M)(S.I6F);const i=(0,S.f3M)(Qe,{optional:!0});this.backend=i??Ge}handle(Ge){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(qe),...this.injector.get(yt,[])]));this.chain=i.reduceRight((r,a)=>function Ue(ve,Je,Ge){return(wt,i)=>(0,S.r_H)(Ge,()=>Je(wt,r=>ve(r,i)))}(r,a,this.injector),K)}const wt=this.pendingTasks.add();return this.chain(Ge,i=>this.backend.handle(i)).pipe((0,C.x)(()=>this.pendingTasks.remove(wt)))}static#e=this.\u0275fac=function(wt){return new(wt||ve)(S.LFG(j),S.LFG(S.lqb))};static#t=this.\u0275prov=S.Yz7({token:ve,factory:ve.\u0275fac})}return ve})(),Hn=0;class ri{}function ce(){return"object"==typeof window?window:{}}let Di=(()=>{class ve{constructor(Ge,wt){this.callbackMap=Ge,this.document=wt,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+Hn++}handle(Ge){if("JSONP"!==Ge.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==Ge.responseType)throw new Error("JSONP requests must use Json response type.");if(Ge.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new N.y(wt=>{const i=this.nextCallback(),r=Ge.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${i}$1`),a=this.document.createElement("script");a.src=r;let f=null,T=!1;this.callbackMap[i]=he=>{delete this.callbackMap[i],f=he,T=!0};const k=()=>{a.parentNode&&a.parentNode.removeChild(a),delete this.callbackMap[i]};return a.addEventListener("load",he=>{this.resolvedPromise.then(()=>{k(),T?(wt.next(new ln({body:f,status:Xe.Ok,statusText:"OK",url:r})),wt.complete()):wt.error(new Kt({url:r,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})}),a.addEventListener("error",he=>{k(),wt.error(new Kt({error:he,status:0,statusText:"JSONP Error",url:r}))}),this.document.body.appendChild(a),wt.next({type:cn.Sent}),()=>{T||this.removeListeners(a),k()}})}removeListeners(Ge){zn||(zn=this.document.implementation.createHTMLDocument()),zn.adoptNode(Ge)}static#e=this.\u0275fac=function(wt){return new(wt||ve)(S.LFG(ri),S.LFG(V.K0))};static#t=this.\u0275prov=S.Yz7({token:ve,factory:ve.\u0275fac})}return ve})();function Ii(ve,Je){return"JSONP"===ve.method?(0,S.f3M)(Di).handle(ve):Je(ve)}const Cr=/^\)\]\}',?\n/;let Xi=(()=>{class ve{constructor(Ge){this.xhrFactory=Ge}handle(Ge){if("JSONP"===Ge.method)throw new S.vHH(-2800,!1);const wt=this.xhrFactory;return(wt.\u0275loadImpl?(0,x.D)(wt.\u0275loadImpl()):(0,u.of)(null)).pipe((0,F.w)(()=>new N.y(r=>{const a=wt.build();if(a.open(Ge.method,Ge.urlWithParams),Ge.withCredentials&&(a.withCredentials=!0),Ge.headers.forEach((Ee,xe)=>a.setRequestHeader(Ee,xe.join(","))),Ge.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!Ge.headers.has("Content-Type")){const Ee=Ge.detectContentTypeHeader();null!==Ee&&a.setRequestHeader("Content-Type",Ee)}if(Ge.responseType){const Ee=Ge.responseType.toLowerCase();a.responseType="json"!==Ee?Ee:"text"}const f=Ge.serializeBody();let T=null;const k=()=>{if(null!==T)return T;const Ee=a.statusText||"OK",xe=new q(a.getAllResponseHeaders()),Ve=function Qi(ve){return"responseURL"in ve&&ve.responseURL?ve.responseURL:/^X-Request-URL:/m.test(ve.getAllResponseHeaders())?ve.getResponseHeader("X-Request-URL"):null}(a)||Ge.url;return T=new hn({headers:xe,status:a.status,statusText:Ee,url:Ve}),T},te=()=>{let{headers:Ee,status:xe,statusText:Ve,url:ot}=k(),ut=null;xe!==Xe.NoContent&&(ut=typeof a.response>"u"?a.responseText:a.response),0===xe&&(xe=ut?Xe.Ok:0);let ft=xe>=200&&xe<300;if("json"===Ge.responseType&&"string"==typeof ut){const oe=ut;ut=ut.replace(Cr,"");try{ut=""!==ut?JSON.parse(ut):null}catch(Ie){ut=oe,ft&&(ft=!1,ut={error:Ie,text:ut})}}ft?(r.next(new ln({body:ut,headers:Ee,status:xe,statusText:Ve,url:ot||void 0})),r.complete()):r.error(new Kt({error:ut,headers:Ee,status:xe,statusText:Ve,url:ot||void 0}))},_e=Ee=>{const{url:xe}=k(),Ve=new Kt({error:Ee,status:a.status||0,statusText:a.statusText||"Unknown Error",url:xe||void 0});r.error(Ve)};let he=!1;const we=Ee=>{he||(r.next(k()),he=!0);let xe={type:cn.DownloadProgress,loaded:Ee.loaded};Ee.lengthComputable&&(xe.total=Ee.total),"text"===Ge.responseType&&a.responseText&&(xe.partialText=a.responseText),r.next(xe)},Ce=Ee=>{let xe={type:cn.UploadProgress,loaded:Ee.loaded};Ee.lengthComputable&&(xe.total=Ee.total),r.next(xe)};return a.addEventListener("load",te),a.addEventListener("error",_e),a.addEventListener("timeout",_e),a.addEventListener("abort",_e),Ge.reportProgress&&(a.addEventListener("progress",we),null!==f&&a.upload&&a.upload.addEventListener("progress",Ce)),a.send(f),r.next({type:cn.Sent}),()=>{a.removeEventListener("error",_e),a.removeEventListener("abort",_e),a.removeEventListener("load",te),a.removeEventListener("timeout",_e),Ge.reportProgress&&(a.removeEventListener("progress",we),null!==f&&a.upload&&a.upload.removeEventListener("progress",Ce)),a.readyState!==a.DONE&&a.abort()}})))}static#e=this.\u0275fac=function(wt){return new(wt||ve)(S.LFG(V.JF))};static#t=this.\u0275prov=S.Yz7({token:ve,factory:ve.\u0275fac})}return ve})();const Ut=new S.OlP("XSRF_ENABLED"),J=new S.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),et=new S.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ct{}let at=(()=>{class ve{constructor(Ge,wt,i){this.doc=Ge,this.platform=wt,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ge=this.doc.cookie||"";return Ge!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,V.Mx)(Ge,this.cookieName),this.lastCookieString=Ge),this.lastToken}static#e=this.\u0275fac=function(wt){return new(wt||ve)(S.LFG(V.K0),S.LFG(S.Lbi),S.LFG(J))};static#t=this.\u0275prov=S.Yz7({token:ve,factory:ve.\u0275fac})}return ve})();function lt(ve,Je){const Ge=ve.url.toLowerCase();if(!(0,S.f3M)(Ut)||"GET"===ve.method||"HEAD"===ve.method||Ge.startsWith("http://")||Ge.startsWith("https://"))return Je(ve);const wt=(0,S.f3M)(ct).getToken(),i=(0,S.f3M)(et);return null!=wt&&!ve.headers.has(i)&&(ve=ve.clone({headers:ve.headers.set(i,wt)})),Je(ve)}var fn=function(ve){return ve[ve.Interceptors=0]="Interceptors",ve[ve.LegacyInterceptors=1]="LegacyInterceptors",ve[ve.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ve[ve.NoXsrfProtection=3]="NoXsrfProtection",ve[ve.JsonpSupport=4]="JsonpSupport",ve[ve.RequestsMadeViaParent=5]="RequestsMadeViaParent",ve[ve.Fetch=6]="Fetch",ve}(fn||{});function yn(ve,Je){return{\u0275kind:ve,\u0275providers:Je}}function Yt(...ve){const Je=[Ct,Xi,On,{provide:$,useExisting:On},{provide:j,useExisting:Xi},{provide:qe,useValue:lt,multi:!0},{provide:Ut,useValue:!0},{provide:ct,useClass:at}];for(const Ge of ve)Je.push(...Ge.\u0275providers);return(0,S.MR2)(Je)}const Lt=new S.OlP("LEGACY_INTERCEPTOR_FN");function me(){return yn(fn.LegacyInterceptors,[{provide:Lt,useFactory:St},{provide:qe,useExisting:Lt,multi:!0}])}function kt(){return yn(fn.JsonpSupport,[Di,{provide:ri,useFactory:ce},{provide:qe,useValue:Ii,multi:!0}])}let Si=(()=>{class ve{static#e=this.\u0275fac=function(wt){return new(wt||ve)};static#t=this.\u0275mod=S.oAB({type:ve});static#n=this.\u0275inj=S.cJS({providers:[Yt(me())]})}return ve})(),er=(()=>{class ve{static#e=this.\u0275fac=function(wt){return new(wt||ve)};static#t=this.\u0275mod=S.oAB({type:ve});static#n=this.\u0275inj=S.cJS({providers:[kt().\u0275providers]})}return ve})()},1993:(Ze,le,l)=>{"use strict";l.d(le,{O4:()=>h,sL:()=>N});var e=l(9212),S=l(5592),u=l(9773);function N(y){y||((0,e.gHi)(N),y=(0,e.f3M)(e.ktI));const E=new S.y(C=>y.onDestroy(C.next.bind(C)));return C=>C.pipe((0,u.R)(E))}function h(y,E){const C=!E?.manualCleanup;C&&!E?.injector&&(0,e.gHi)(h);const F=C?E?.injector?.get(e.ktI)??(0,e.f3M)(e.ktI):null;let V;V=(0,e.tdS)(E?.requireSync?{kind:0}:{kind:1,value:E?.initialValue});const $=y.subscribe({next:j=>V.set({kind:1,value:j}),error:j=>{if(E?.rejectErrors)throw j;V.set({kind:2,error:j})}});return F?.onDestroy($.unsubscribe.bind($)),(0,e.Flj)(()=>{const j=V();switch(j.kind){case 1:return j.value;case 2:throw j.error;case 0:throw new e.vHH(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},95:(Ze,le,l)=>{"use strict";l.d(le,{Fj:()=>Ae,u:()=>yr,sg:()=>xr,u5:()=>po,Cf:()=>fe,JU:()=>ee,JJ:()=>jn,JL:()=>Pn,F:()=>Ve,On:()=>Mn,UX:()=>Hs,QS:()=>hr,p4:()=>oe,nJ:()=>er,kI:()=>xt,_Y:()=>Ln});var e=l(9212),S=l(6814),u=l(9666),N=l(5592),x=l(7453),h=l(4829),y=l(9940),E=l(8251),C=l(7400),F=l(2714),$=l(7398);let j=(()=>{class H{constructor(P,se){this._renderer=P,this._elementRef=se,this.onChange=$e=>{},this.onTouched=()=>{}}setProperty(P,se){this._renderer.setProperty(this._elementRef.nativeElement,P,se)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static#e=this.\u0275fac=function(se){return new(se||H)(e.Y36(e.Qsj),e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:H})}return H})(),q=(()=>{class H extends j{static#e=this.\u0275fac=(()=>{let P;return function($e){return(P||(P=e.n5z(H)))($e||H)}})();static#t=this.\u0275dir=e.lG2({type:H,features:[e.qOj]})}return H})();const ee=new e.OlP("NgValueAccessor"),be={provide:ee,useExisting:(0,e.Gpc)(()=>Ae),multi:!0},re=new e.OlP("CompositionEventMode");let Ae=(()=>{class H extends j{constructor(P,se,$e){super(P,se),this._compositionMode=$e,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function De(){const H=(0,S.q)()?(0,S.q)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static#e=this.\u0275fac=function(se){return new(se||H)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(re,8))};static#t=this.\u0275dir=e.lG2({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(se,$e){1&se&&e.NdJ("input",function(Bn){return $e._handleInput(Bn.target.value)})("blur",function(){return $e.onTouched()})("compositionstart",function(){return $e._compositionStart()})("compositionend",function(Bn){return $e._compositionEnd(Bn.target.value)})},features:[e._Bn([be]),e.qOj]})}return H})();function Me(H){return null==H||("string"==typeof H||Array.isArray(H))&&0===H.length}function st(H){return null!=H&&"number"==typeof H.length}const fe=new e.OlP("NgValidators"),Tt=new e.OlP("NgAsyncValidators"),Vt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xt{static min(W){return function dt(H){return W=>{if(Me(W.value)||Me(H))return null;const P=parseFloat(W.value);return!isNaN(P)&&P<H?{min:{min:H,actual:W.value}}:null}}(W)}static max(W){return function rn(H){return W=>{if(Me(W.value)||Me(H))return null;const P=parseFloat(W.value);return!isNaN(P)&&P>H?{max:{max:H,actual:W.value}}:null}}(W)}static required(W){return function on(H){return Me(H.value)?{required:!0}:null}(W)}static requiredTrue(W){return function cn(H){return!0===H.value?null:{required:!0}}(W)}static email(W){return function Sn(H){return Me(H.value)||Vt.test(H.value)?null:{email:!0}}(W)}static minLength(W){return function hn(H){return W=>Me(W.value)||!st(W.value)?null:W.value.length<H?{minlength:{requiredLength:H,actualLength:W.value.length}}:null}(W)}static maxLength(W){return function ln(H){return W=>st(W.value)&&W.value.length>H?{maxlength:{requiredLength:H,actualLength:W.value.length}}:null}(W)}static pattern(W){return function Kt(H){if(!H)return Xe;let W,P;return"string"==typeof H?(P="","^"!==H.charAt(0)&&(P+="^"),P+=H,"$"!==H.charAt(H.length-1)&&(P+="$"),W=new RegExp(P)):(P=H.toString(),W=H),se=>{if(Me(se.value))return null;const $e=se.value;return W.test($e)?null:{pattern:{requiredPattern:P,actualValue:$e}}}}(W)}static nullValidator(W){return null}static compose(W){return An(W)}static composeAsync(W){return U(W)}}function Xe(H){return null}function ht(H){return null!=H}function Ct(H){return(0,e.QGY)(H)?(0,u.D)(H):H}function Et(H){let W={};return H.forEach(P=>{W=null!=P?{...W,...P}:W}),0===Object.keys(W).length?null:W}function zt(H,W){return W.map(P=>P(H))}function un(H){return H.map(W=>function jt(H){return!H.validate}(W)?W:P=>W.validate(P))}function An(H){if(!H)return null;const W=H.filter(ht);return 0==W.length?null:function(P){return Et(zt(P,W))}}function Te(H){return null!=H?An(un(H)):null}function U(H){if(!H)return null;const W=H.filter(ht);return 0==W.length?null:function(P){return function V(...H){const W=(0,y.jO)(H),{args:P,keys:se}=(0,x.D)(H),$e=new N.y(wn=>{const{length:Bn}=P;if(!Bn)return void wn.complete();const Ki=new Array(Bn);let fr=Bn,Ir=Bn;for(let As=0;As<Bn;As++){let go=!1;(0,h.Xf)(P[As]).subscribe((0,E.x)(wn,pr=>{go||(go=!0,Ir--),Ki[As]=pr},()=>fr--,void 0,()=>{(!fr||!go)&&(Ir||wn.next(se?(0,F.n)(se,Ki):Ki),wn.complete())}))}});return W?$e.pipe((0,C.Z)(W)):$e}(zt(P,W).map(Ct)).pipe((0,$.U)(Et))}}function K(H){return null!=H?U(un(H)):null}function Re(H,W){return null===H?[W]:Array.isArray(H)?[...H,W]:[H,W]}function Ue(H){return H._rawValidators}function tt(H){return H._rawAsyncValidators}function qe(H){return H?Array.isArray(H)?H:[H]:[]}function yt(H,W){return Array.isArray(H)?H.includes(W):H===W}function Qe(H,W){const P=qe(W);return qe(H).forEach($e=>{yt(P,$e)||P.push($e)}),P}function St(H,W){return qe(W).filter(P=>!yt(H,P))}class $t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(W){this._rawValidators=W||[],this._composedValidatorFn=Te(this._rawValidators)}_setAsyncValidators(W){this._rawAsyncValidators=W||[],this._composedAsyncValidatorFn=K(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(W){this._onDestroyCallbacks.push(W)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(W=>W()),this._onDestroyCallbacks=[]}reset(W=void 0){this.control&&this.control.reset(W)}hasError(W,P){return!!this.control&&this.control.hasError(W,P)}getError(W,P){return this.control?this.control.getError(W,P):null}}class an extends $t{get formDirective(){return null}get path(){return null}}class On extends $t{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hn{constructor(W){this._cd=W}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jn=(()=>{class H extends Hn{constructor(P){super(P)}static#e=this.\u0275fac=function(se){return new(se||H)(e.Y36(On,2))};static#t=this.\u0275dir=e.lG2({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(se,$e){2&se&&e.ekj("ng-untouched",$e.isUntouched)("ng-touched",$e.isTouched)("ng-pristine",$e.isPristine)("ng-dirty",$e.isDirty)("ng-valid",$e.isValid)("ng-invalid",$e.isInvalid)("ng-pending",$e.isPending)},features:[e.qOj]})}return H})(),Pn=(()=>{class H extends Hn{constructor(P){super(P)}static#e=this.\u0275fac=function(se){return new(se||H)(e.Y36(an,10))};static#t=this.\u0275dir=e.lG2({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(se,$e){2&se&&e.ekj("ng-untouched",$e.isUntouched)("ng-touched",$e.isTouched)("ng-pristine",$e.isPristine)("ng-dirty",$e.isDirty)("ng-valid",$e.isValid)("ng-invalid",$e.isInvalid)("ng-pending",$e.isPending)("ng-submitted",$e.isSubmitted)},features:[e.qOj]})}return H})();const Bt="VALID",fn="INVALID",yn="PENDING",Yt="DISABLED";function Ke(H){return(gt(H)?H.validators:H)||null}function me(H,W){return(gt(W)?W.asyncValidators:H)||null}function gt(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}function kt(H,W,P){const se=H.controls;if(!(W?Object.keys(se):se).length)throw new e.vHH(1e3,"");if(!se[P])throw new e.vHH(1001,"")}function Xt(H,W,P){H._forEachChild((se,$e)=>{if(void 0===P[$e])throw new e.vHH(1002,"")})}class Rn{constructor(W,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(W),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(W){this._rawValidators=this._composedValidatorFn=W}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(W){this._rawAsyncValidators=this._composedAsyncValidatorFn=W}get parent(){return this._parent}get valid(){return this.status===Bt}get invalid(){return this.status===fn}get pending(){return this.status==yn}get disabled(){return this.status===Yt}get enabled(){return this.status!==Yt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(W){this._assignValidators(W)}setAsyncValidators(W){this._assignAsyncValidators(W)}addValidators(W){this.setValidators(Qe(W,this._rawValidators))}addAsyncValidators(W){this.setAsyncValidators(Qe(W,this._rawAsyncValidators))}removeValidators(W){this.setValidators(St(W,this._rawValidators))}removeAsyncValidators(W){this.setAsyncValidators(St(W,this._rawAsyncValidators))}hasValidator(W){return yt(this._rawValidators,W)}hasAsyncValidator(W){return yt(this._rawAsyncValidators,W)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(W={}){this.touched=!0,this._parent&&!W.onlySelf&&this._parent.markAsTouched(W)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(W=>W.markAllAsTouched())}markAsUntouched(W={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!W.onlySelf&&this._parent._updateTouched(W)}markAsDirty(W={}){this.pristine=!1,this._parent&&!W.onlySelf&&this._parent.markAsDirty(W)}markAsPristine(W={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!W.onlySelf&&this._parent._updatePristine(W)}markAsPending(W={}){this.status=yn,!1!==W.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!W.onlySelf&&this._parent.markAsPending(W)}disable(W={}){const P=this._parentMarkedDirty(W.onlySelf);this.status=Yt,this.errors=null,this._forEachChild(se=>{se.disable({...W,onlySelf:!0})}),this._updateValue(),!1!==W.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...W,skipPristineCheck:P}),this._onDisabledChange.forEach(se=>se(!0))}enable(W={}){const P=this._parentMarkedDirty(W.onlySelf);this.status=Bt,this._forEachChild(se=>{se.enable({...W,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:W.emitEvent}),this._updateAncestors({...W,skipPristineCheck:P}),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(W){this._parent&&!W.onlySelf&&(this._parent.updateValueAndValidity(W),W.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(W){this._parent=W}getRawValue(){return this.value}updateValueAndValidity(W={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bt||this.status===yn)&&this._runAsyncValidator(W.emitEvent)),!1!==W.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!W.onlySelf&&this._parent.updateValueAndValidity(W)}_updateTreeValidity(W={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(W)),this.updateValueAndValidity({onlySelf:!0,emitEvent:W.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yt:Bt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(W){if(this.asyncValidator){this.status=yn,this._hasOwnPendingAsyncValidator=!0;const P=Ct(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:W})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(W,P={}){this.errors=W,this._updateControlsErrors(!1!==P.emitEvent)}get(W){let P=W;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((se,$e)=>se&&se._find($e),this)}getError(W,P){const se=P?this.get(P):this;return se&&se.errors?se.errors[W]:null}hasError(W,P){return!!this.getError(W,P)}get root(){let W=this;for(;W._parent;)W=W._parent;return W}_updateControlsErrors(W){this.status=this._calculateStatus(),W&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(W)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?Yt:this.errors?fn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yn)?yn:this._anyControlsHaveStatus(fn)?fn:Bt}_anyControlsHaveStatus(W){return this._anyControls(P=>P.status===W)}_anyControlsDirty(){return this._anyControls(W=>W.dirty)}_anyControlsTouched(){return this._anyControls(W=>W.touched)}_updatePristine(W={}){this.pristine=!this._anyControlsDirty(),this._parent&&!W.onlySelf&&this._parent._updatePristine(W)}_updateTouched(W={}){this.touched=this._anyControlsTouched(),this._parent&&!W.onlySelf&&this._parent._updateTouched(W)}_registerOnCollectionChange(W){this._onCollectionChange=W}_setUpdateStrategy(W){gt(W)&&null!=W.updateOn&&(this._updateOn=W.updateOn)}_parentMarkedDirty(W){return!W&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(W){return null}_assignValidators(W){this._rawValidators=Array.isArray(W)?W.slice():W,this._composedValidatorFn=function Lt(H){return Array.isArray(H)?Te(H):H||null}(this._rawValidators)}_assignAsyncValidators(W){this._rawAsyncValidators=Array.isArray(W)?W.slice():W,this._composedAsyncValidatorFn=function Ye(H){return Array.isArray(H)?K(H):H||null}(this._rawAsyncValidators)}}class ci extends Rn{constructor(W,P,se){super(Ke(P),me(se,P)),this.controls=W,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(W,P){return this.controls[W]?this.controls[W]:(this.controls[W]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(W,P,se={}){this.registerControl(W,P),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(W,P={}){this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),delete this.controls[W],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(W,P,se={}){this.controls[W]&&this.controls[W]._registerOnCollectionChange(()=>{}),delete this.controls[W],P&&this.registerControl(W,P),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(W){return this.controls.hasOwnProperty(W)&&this.controls[W].enabled}setValue(W,P={}){Xt(this,0,W),Object.keys(W).forEach(se=>{kt(this,!0,se),this.controls[se].setValue(W[se],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(W,P={}){null!=W&&(Object.keys(W).forEach(se=>{const $e=this.controls[se];$e&&$e.patchValue(W[se],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(W={},P={}){this._forEachChild((se,$e)=>{se.reset(W?W[$e]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(W,P,se)=>(W[se]=P.getRawValue(),W))}_syncPendingControls(){let W=this._reduceChildren(!1,(P,se)=>!!se._syncPendingControls()||P);return W&&this.updateValueAndValidity({onlySelf:!0}),W}_forEachChild(W){Object.keys(this.controls).forEach(P=>{const se=this.controls[P];se&&W(se,P)})}_setUpControls(){this._forEachChild(W=>{W.setParent(this),W._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(W){for(const[P,se]of Object.entries(this.controls))if(this.contains(P)&&W(se))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,se,$e)=>((se.enabled||this.disabled)&&(P[$e]=se.value),P))}_reduceChildren(W,P){let se=W;return this._forEachChild(($e,wn)=>{se=P(se,$e,wn)}),se}_allControlsDisabled(){for(const W of Object.keys(this.controls))if(this.controls[W].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(W){return this.controls.hasOwnProperty(W)?this.controls[W]:null}}const er=ci;class Ji extends ci{}const ar=new e.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Tr}),Tr="always";function rr(H,W){return[...W.path,H]}function Ai(H,W,P=Tr){zr(H,W),W.valueAccessor.writeValue(H.value),(H.disabled||"always"===P)&&W.valueAccessor.setDisabledState?.(H.disabled),function Wr(H,W){W.valueAccessor.registerOnChange(P=>{H._pendingValue=P,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&ve(H,W)})}(H,W),function Je(H,W){const P=(se,$e)=>{W.valueAccessor.writeValue(se),$e&&W.viewToModelUpdate(se)};H.registerOnChange(P),W._registerOnDestroy(()=>{H._unregisterOnChange(P)})}(H,W),function Xr(H,W){W.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&ve(H,W),"submit"!==H.updateOn&&H.markAsTouched()})}(H,W),function Qr(H,W){if(W.valueAccessor.setDisabledState){const P=se=>{W.valueAccessor.setDisabledState(se)};H.registerOnDisabledChange(P),W._registerOnDestroy(()=>{H._unregisterOnDisabledChange(P)})}}(H,W)}function oi(H,W,P=!0){const se=()=>{};W.valueAccessor&&(W.valueAccessor.registerOnChange(se),W.valueAccessor.registerOnTouched(se)),Vi(H,W),H&&(W._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function tr(H,W){H.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(W)})}function zr(H,W){const P=Ue(H);null!==W.validator?H.setValidators(Re(P,W.validator)):"function"==typeof P&&H.setValidators([P]);const se=tt(H);null!==W.asyncValidator?H.setAsyncValidators(Re(se,W.asyncValidator)):"function"==typeof se&&H.setAsyncValidators([se]);const $e=()=>H.updateValueAndValidity();tr(W._rawValidators,$e),tr(W._rawAsyncValidators,$e)}function Vi(H,W){let P=!1;if(null!==H){if(null!==W.validator){const $e=Ue(H);if(Array.isArray($e)&&$e.length>0){const wn=$e.filter(Bn=>Bn!==W.validator);wn.length!==$e.length&&(P=!0,H.setValidators(wn))}}if(null!==W.asyncValidator){const $e=tt(H);if(Array.isArray($e)&&$e.length>0){const wn=$e.filter(Bn=>Bn!==W.asyncValidator);wn.length!==$e.length&&(P=!0,H.setAsyncValidators(wn))}}}const se=()=>{};return tr(W._rawValidators,se),tr(W._rawAsyncValidators,se),P}function ve(H,W){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),W.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function Ge(H,W){zr(H,W)}function k(H,W){if(!H.hasOwnProperty("model"))return!1;const P=H.model;return!!P.isFirstChange()||!Object.is(W,P.currentValue)}function _e(H,W){H._syncPendingControls(),W.forEach(P=>{const se=P.control;"submit"===se.updateOn&&se._pendingChange&&(P.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}function he(H,W){if(!W)return null;let P,se,$e;return Array.isArray(W),W.forEach(wn=>{wn.constructor===Ae?P=wn:function te(H){return Object.getPrototypeOf(H.constructor)===q}(wn)?se=wn:$e=wn}),$e||se||P||null}const Ee={provide:an,useExisting:(0,e.Gpc)(()=>Ve)},xe=Promise.resolve();let Ve=(()=>{class H extends an{constructor(P,se,$e){super(),this.callSetDisabledState=$e,this.submitted=!1,this._directives=new Set,this.ngSubmit=new e.vpe,this.form=new ci({},Te(P),K(se))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(P){xe.then(()=>{const se=this._findContainer(P.path);P.control=se.registerControl(P.name,P.control),Ai(P.control,P,this.callSetDisabledState),P.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(P)})}getControl(P){return this.form.get(P.path)}removeControl(P){xe.then(()=>{const se=this._findContainer(P.path);se&&se.removeControl(P.name),this._directives.delete(P)})}addFormGroup(P){xe.then(()=>{const se=this._findContainer(P.path),$e=new ci({});Ge($e,P),se.registerControl(P.name,$e),$e.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(P){xe.then(()=>{const se=this._findContainer(P.path);se&&se.removeControl(P.name)})}getFormGroup(P){return this.form.get(P.path)}updateModel(P,se){xe.then(()=>{this.form.get(P.path).setValue(se)})}setValue(P){this.control.setValue(P)}onSubmit(P){return this.submitted=!0,_e(this.form,this._directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(P){return P.pop(),P.length?this.form.get(P):this.form}static#e=this.\u0275fac=function(se){return new(se||H)(e.Y36(fe,10),e.Y36(Tt,10),e.Y36(ar,8))};static#t=this.\u0275dir=e.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(se,$e){1&se&&e.NdJ("submit",function(Bn){return $e.onSubmit(Bn)})("reset",function(){return $e.onReset()})},inputs:{options:[e.lbL.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([Ee]),e.qOj]})}return H})();function ot(H,W){const P=H.indexOf(W);P>-1&&H.splice(P,1)}function ut(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}const ft=class extends Rn{constructor(W=null,P,se){super(Ke(P),me(se,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(W),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gt(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=ut(W)?W.value:W)}setValue(W,P={}){this.value=this._pendingValue=W,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(W,P={}){this.setValue(W,P)}reset(W=this.defaultValue,P={}){this._applyFormState(W),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(W){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(W){this._onChange.push(W)}_unregisterOnChange(W){ot(this._onChange,W)}registerOnDisabledChange(W){this._onDisabledChange.push(W)}_unregisterOnDisabledChange(W){ot(this._onDisabledChange,W)}_forEachChild(W){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(W){ut(W)?(this.value=this._pendingValue=W.value,W.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=W}},oe=ft,_t={provide:On,useExisting:(0,e.Gpc)(()=>Mn)},Jt=Promise.resolve();let Mn=(()=>{class H extends On{constructor(P,se,$e,wn,Bn,Ki){super(),this._changeDetectorRef=Bn,this.callSetDisabledState=Ki,this.control=new ft,this._registered=!1,this.name="",this.update=new e.vpe,this._parent=P,this._setValidators(se),this._setAsyncValidators($e),this.valueAccessor=he(0,wn)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const se=P.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),k(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ai(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){Jt.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const se=P.isDisabled.currentValue,$e=0!==se&&(0,e.VuI)(se);Jt.then(()=>{$e&&!this.control.disabled?this.control.disable():!$e&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?rr(P,this._parent):[P]}static#e=this.\u0275fac=function(se){return new(se||H)(e.Y36(an,9),e.Y36(fe,10),e.Y36(Tt,10),e.Y36(ee,10),e.Y36(e.sBO,8),e.Y36(ar,8))};static#t=this.\u0275dir=e.lG2({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[e.lbL.None,"disabled","isDisabled"],model:[e.lbL.None,"ngModel","model"],options:[e.lbL.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([_t]),e.qOj,e.TTD]})}return H})(),Ln=(()=>{class H{static#e=this.\u0275fac=function(se){return new(se||H)};static#t=this.\u0275dir=e.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return H})(),Xn=(()=>{class H{static#e=this.\u0275fac=function(se){return new(se||H)};static#t=this.\u0275mod=e.oAB({type:H});static#n=this.\u0275inj=e.cJS({})}return H})();const nr=new e.OlP("NgModelWithFormControlWarning"),ms={provide:an,useExisting:(0,e.Gpc)(()=>xr)};let xr=(()=>{class H extends an{constructor(P,se,$e){super(),this.callSetDisabledState=$e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.vpe,this._setValidators(P),this._setAsyncValidators(se)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const se=this.form.get(P.path);return Ai(se,P,this.callSetDisabledState),se.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),se}getControl(P){return this.form.get(P.path)}removeControl(P){oi(P.control||null,P,!1),function we(H,W){const P=H.indexOf(W);P>-1&&H.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,se){this.form.get(P.path).setValue(se)}onSubmit(P){return this.submitted=!0,_e(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const se=P.control,$e=this.form.get(P.path);se!==$e&&(oi(se||null,P),(H=>H instanceof ft)($e)&&(Ai($e,P,this.callSetDisabledState),P.control=$e))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const se=this.form.get(P.path);Ge(se,P),se.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const se=this.form.get(P.path);se&&function wt(H,W){return Vi(H,W)}(se,P)&&se.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zr(this.form,this),this._oldForm&&Vi(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(se){return new(se||H)(e.Y36(fe,10),e.Y36(Tt,10),e.Y36(ar,8))};static#t=this.\u0275dir=e.lG2({type:H,selectors:[["","formGroup",""]],hostBindings:function(se,$e){1&se&&e.NdJ("submit",function(Bn){return $e.onSubmit(Bn)})("reset",function(){return $e.onReset()})},inputs:{form:[e.lbL.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e._Bn([ms]),e.qOj,e.TTD]})}return H})();const Br={provide:On,useExisting:(0,e.Gpc)(()=>yr)};let yr=(()=>{class H extends On{set isDisabled(P){}static#e=this._ngModelWarningSentOnce=!1;constructor(P,se,$e,wn,Bn){super(),this._ngModelWarningConfig=Bn,this._added=!1,this.name=null,this.update=new e.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(se),this._setAsyncValidators($e),this.valueAccessor=he(0,wn)}ngOnChanges(P){this._added||this._setUpControl(),k(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return rr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(se){return new(se||H)(e.Y36(an,13),e.Y36(fe,10),e.Y36(Tt,10),e.Y36(ee,10),e.Y36(nr,8))};static#n=this.\u0275dir=e.lG2({type:H,selectors:[["","formControlName",""]],inputs:{name:[e.lbL.None,"formControlName","name"],isDisabled:[e.lbL.None,"disabled","isDisabled"],model:[e.lbL.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[e._Bn([Br]),e.qOj,e.TTD]})}return H})(),co=(()=>{class H{static#e=this.\u0275fac=function(se){return new(se||H)};static#t=this.\u0275mod=e.oAB({type:H});static#n=this.\u0275inj=e.cJS({imports:[Xn]})}return H})();class uo extends Rn{constructor(W,P,se){super(Ke(P),me(se,P)),this.controls=W,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(W){return this.controls[this._adjustIndex(W)]}push(W,P={}){this.controls.push(W),this._registerControl(W),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(W,P,se={}){this.controls.splice(W,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:se.emitEvent})}removeAt(W,P={}){let se=this._adjustIndex(W);se<0&&(se=0),this.controls[se]&&this.controls[se]._registerOnCollectionChange(()=>{}),this.controls.splice(se,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(W,P,se={}){let $e=this._adjustIndex(W);$e<0&&($e=0),this.controls[$e]&&this.controls[$e]._registerOnCollectionChange(()=>{}),this.controls.splice($e,1),P&&(this.controls.splice($e,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(W,P={}){Xt(this,0,W),W.forEach((se,$e)=>{kt(this,!1,$e),this.at($e).setValue(se,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(W,P={}){null!=W&&(W.forEach((se,$e)=>{this.at($e)&&this.at($e).patchValue(se,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(W=[],P={}){this._forEachChild((se,$e)=>{se.reset(W[$e],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(W=>W.getRawValue())}clear(W={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:W.emitEvent}))}_adjustIndex(W){return W<0?W+this.length:W}_syncPendingControls(){let W=this.controls.reduce((P,se)=>!!se._syncPendingControls()||P,!1);return W&&this.updateValueAndValidity({onlySelf:!0}),W}_forEachChild(W){this.controls.forEach((P,se)=>{W(P,se)})}_updateValue(){this.value=this.controls.filter(W=>W.enabled||this.disabled).map(W=>W.value)}_anyControls(W){return this.controls.some(P=>P.enabled&&W(P))}_setUpControls(){this._forEachChild(W=>this._registerControl(W))}_allControlsDisabled(){for(const W of this.controls)if(W.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(W){W.setParent(this),W._registerOnCollectionChange(this._onCollectionChange)}_find(W){return this.at(W)??null}}function hs(H){return!!H&&(void 0!==H.asyncValidators||void 0!==H.validators||void 0!==H.updateOn)}let ho=(()=>{class H{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new H;return P.useNonNullable=!0,P}group(P,se=null){const $e=this._reduceControls(P);let wn={};return hs(se)?wn=se:null!==se&&(wn.validators=se.validator,wn.asyncValidators=se.asyncValidator),new ci($e,wn)}record(P,se=null){const $e=this._reduceControls(P);return new Ji($e,se)}control(P,se,$e){let wn={};return this.useNonNullable?(hs(se)?wn=se:(wn.validators=se,wn.asyncValidators=$e),new ft(P,{...wn,nonNullable:!0})):new ft(P,se,$e)}array(P,se,$e){const wn=P.map(Bn=>this._createControl(Bn));return new uo(wn,se,$e)}_reduceControls(P){const se={};return Object.keys(P).forEach($e=>{se[$e]=this._createControl(P[$e])}),se}_createControl(P){return P instanceof ft||P instanceof Rn?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}static#e=this.\u0275fac=function(se){return new(se||H)};static#t=this.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),hr=(()=>{class H extends ho{group(P,se=null){return super.group(P,se)}control(P,se,$e){return super.control(P,se,$e)}array(P,se,$e){return super.array(P,se,$e)}static#e=this.\u0275fac=(()=>{let P;return function($e){return(P||(P=e.n5z(H)))($e||H)}})();static#t=this.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),po=(()=>{class H{static withConfig(P){return{ngModule:H,providers:[{provide:ar,useValue:P.callSetDisabledState??Tr}]}}static#e=this.\u0275fac=function(se){return new(se||H)};static#t=this.\u0275mod=e.oAB({type:H});static#n=this.\u0275inj=e.cJS({imports:[co]})}return H})(),Hs=(()=>{class H{static withConfig(P){return{ngModule:H,providers:[{provide:nr,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:ar,useValue:P.callSetDisabledState??Tr}]}}static#e=this.\u0275fac=function(se){return new(se||H)};static#t=this.\u0275mod=e.oAB({type:H});static#n=this.\u0275inj=e.cJS({imports:[co]})}return H})()},2236:(Ze,le,l)=>{"use strict";l.d(le,{gz:()=>nr,gk:()=>Ee,m2:()=>he,Q3:()=>Ve,OD:()=>_e,wN:()=>it,F0:()=>wr,sj:()=>te,rH:()=>Ys,Od:()=>Ui,Bz:()=>Aa,lC:()=>Yr,R9:()=>ot});var e=l(9212),S=l(5592),u=l(4674),x=l(9666),h=l(2096),y=l(5619),E=l(2572),C=l(6973),F=l(5211),V=l(4829);function $(g){return new S.y(D=>{(0,V.Xf)(g()).subscribe(D)})}var j=l(8407),q=l(8504),ee=l(6232),ue=l(7394),Ne=l(9360),be=l(8251);function De(){return(0,Ne.e)((g,D)=>{let _=null;g._refCount++;const O=(0,be.x)(D,void 0,void 0,void 0,()=>{if(!g||g._refCount<=0||0<--g._refCount)return void(_=null);const z=g._connection,ae=_;_=null,z&&(!ae||z===ae)&&z.unsubscribe(),D.unsubscribe()});g.subscribe(O),O.closed||(_=g.connect())})}class re extends S.y{constructor(D,_){super(),this.source=D,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,Ne.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new ue.w0;const _=this.getSubject();D.add(this.source.subscribe((0,be.x)(_,void 0,()=>{this._teardown(),_.complete()},O=>{this._teardown(),_.error(O)},()=>this._teardown()))),D.closed&&(this._connection=null,D=ue.w0.EMPTY)}return D}refCount(){return De()(this)}}var Ae=l(8645),Me=l(6814),st=l(7398),fe=l(4664),Tt=l(8180),Vt=l(7921),xt=l(2181),dt=l(9769),rn=l(1374),on=l(6328),cn=l(9397),Sn=l(6306),hn=l(6699),ln=l(3572);function Kt(g){return g<=0?()=>ee.E:(0,Ne.e)((D,_)=>{let O=[];D.subscribe((0,be.x)(_,z=>{O.push(z),g<O.length&&O.shift()},()=>{for(const z of O)_.next(z);_.complete()},void 0,()=>{O=null}))})}var Xe=l(3026),ht=l(2737),Et=l(975),zt=l(4716),jt=l(9773),un=l(7537),An=l(6593);const Te="primary",U=Symbol("RouteTitle");class K{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_[0]:_}return null}getAll(D){if(this.has(D)){const _=this.params[D];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function Re(g){return new K(g)}function Ue(g,D,_){const O=_.path.split("/");if(O.length>g.length||"full"===_.pathMatch&&(D.hasChildren()||O.length<g.length))return null;const z={};for(let ae=0;ae<O.length;ae++){const Oe=O[ae],Mt=g[ae];if(Oe.startsWith(":"))z[Oe.substring(1)]=Mt;else if(Oe!==Mt.path)return null}return{consumed:g.slice(0,O.length),posParams:z}}function qe(g,D){const _=g?yt(g):void 0,O=D?yt(D):void 0;if(!_||!O||_.length!=O.length)return!1;let z;for(let ae=0;ae<_.length;ae++)if(z=_[ae],!Qe(g[z],D[z]))return!1;return!0}function yt(g){return[...Object.keys(g),...Object.getOwnPropertySymbols(g)]}function Qe(g,D){if(Array.isArray(g)&&Array.isArray(D)){if(g.length!==D.length)return!1;const _=[...g].sort(),O=[...D].sort();return _.every((z,ae)=>O[ae]===z)}return g===D}function St(g){return function N(g){return!!g&&(g instanceof S.y||(0,u.m)(g.lift)&&(0,u.m)(g.subscribe))}(g)?g:(0,e.QGY)(g)?(0,x.D)(Promise.resolve(g)):(0,h.of)(g)}const $t={exact:function zn(g,D,_){if(!Qt(g.segments,D.segments)||!mi(g.segments,D.segments,_)||g.numberOfChildren!==D.numberOfChildren)return!1;for(const O in D.children)if(!g.children[O]||!zn(g.children[O],D.children[O],_))return!1;return!0},subset:jn},an={exact:function Hn(g,D){return qe(g,D)},subset:function sn(g,D){return Object.keys(D).length<=Object.keys(g).length&&Object.keys(D).every(_=>Qe(g[_],D[_]))},ignored:()=>!0};function On(g,D,_){return $t[_.paths](g.root,D.root,_.matrixParams)&&an[_.queryParams](g.queryParams,D.queryParams)&&!("exact"===_.fragment&&g.fragment!==D.fragment)}function jn(g,D,_){return Pn(g,D,D.segments,_)}function Pn(g,D,_,O){if(g.segments.length>_.length){const z=g.segments.slice(0,_.length);return!(!Qt(z,_)||D.hasChildren()||!mi(z,_,O))}if(g.segments.length===_.length){if(!Qt(g.segments,_)||!mi(g.segments,_,O))return!1;for(const z in D.children)if(!g.children[z]||!jn(g.children[z],D.children[z],O))return!1;return!0}{const z=_.slice(0,g.segments.length),ae=_.slice(g.segments.length);return!!(Qt(g.segments,z)&&mi(g.segments,z,O)&&g.children[Te])&&Pn(g.children[Te],D,ae,O)}}function mi(g,D,_){return D.every((O,z)=>an[_](g[z].parameters,O.parameters))}class ri{constructor(D=new ce([],{}),_={},O=null){this.root=D,this.queryParams=_,this.fragment=O}get queryParamMap(){return this._queryParamMap??=Re(this.queryParams),this._queryParamMap}toString(){return Ut.serialize(this)}}class ce{constructor(D,_){this.segments=D,this.children=_,this.parent=null,Object.values(_).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return It(this)}}class Di{constructor(D,_){this.path=D,this.parameters=_}get parameterMap(){return this._parameterMap??=Re(this.parameters),this._parameterMap}toString(){return fn(this)}}function Qt(g,D){return g.length===D.length&&g.every((_,O)=>_.path===D[O].path)}let Qi=(()=>{class g{static#e=this.\u0275fac=function(O){return new(O||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:()=>new Xi,providedIn:"root"})}return g})();class Xi{parse(D){const _=new ci(D);return new ri(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(D){const _=`/${J(D.root,!0)}`,O=function Yt(g){const D=Object.entries(g).map(([_,O])=>Array.isArray(O)?O.map(z=>`${et(_)}=${et(z)}`).join("&"):`${et(_)}=${et(O)}`).filter(_=>_);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${_}${O}${"string"==typeof D.fragment?`#${function ct(g){return encodeURI(g)}(D.fragment)}`:""}`}}const Ut=new Xi;function It(g){return g.segments.map(D=>fn(D)).join("/")}function J(g,D){if(!g.hasChildren())return It(g);if(D){const _=g.children[Te]?J(g.children[Te],!1):"",O=[];return Object.entries(g.children).forEach(([z,ae])=>{z!==Te&&O.push(`${z}:${J(ae,!1)}`)}),O.length>0?`${_}(${O.join("//")})`:_}{const _=function Cr(g,D){let _=[];return Object.entries(g.children).forEach(([O,z])=>{O===Te&&(_=_.concat(D(z,O)))}),Object.entries(g.children).forEach(([O,z])=>{O!==Te&&(_=_.concat(D(z,O)))}),_}(g,(O,z)=>z===Te?[J(g.children[Te],!1)]:[`${z}:${J(O,!1)}`]);return 1===Object.keys(g.children).length&&null!=g.children[Te]?`${It(g)}/${_[0]}`:`${It(g)}/(${_.join("//")})`}}function pe(g){return encodeURIComponent(g).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function et(g){return pe(g).replace(/%3B/gi,";")}function at(g){return pe(g).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lt(g){return decodeURIComponent(g)}function Bt(g){return lt(g.replace(/\+/g,"%20"))}function fn(g){return`${at(g.path)}${function yn(g){return Object.entries(g).map(([D,_])=>`;${at(D)}=${at(_)}`).join("")}(g.parameters)}`}const Ke=/^[^\/()?;#]+/;function Lt(g){const D=g.match(Ke);return D?D[0]:""}const me=/^[^\/()?;=#]+/,gt=/^[^=?&#]+/,Xt=/^[^&#]+/;class ci{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(D.length>0||Object.keys(_).length>0)&&(O[Te]=new ce(D,_)),O}parseSegment(){const D=Lt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new e.vHH(4009,!1);return this.capture(D),new Di(lt(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const _=function Ye(g){const D=g.match(me);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let O="";if(this.consumeOptional("=")){const z=Lt(this.remaining);z&&(O=z,this.capture(O))}D[lt(_)]=lt(O)}parseQueryParam(D){const _=function kt(g){const D=g.match(gt);return D?D[0]:""}(this.remaining);if(!_)return;this.capture(_);let O="";if(this.consumeOptional("=")){const Oe=function Rn(g){const D=g.match(Xt);return D?D[0]:""}(this.remaining);Oe&&(O=Oe,this.capture(O))}const z=Bt(_),ae=Bt(O);if(D.hasOwnProperty(z)){let Oe=D[z];Array.isArray(Oe)||(Oe=[Oe],D[z]=Oe),Oe.push(ae)}else D[z]=ae}parseParens(D){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=Lt(this.remaining),z=this.remaining[O.length];if("/"!==z&&")"!==z&&";"!==z)throw new e.vHH(4010,!1);let ae;O.indexOf(":")>-1?(ae=O.slice(0,O.indexOf(":")),this.capture(ae),this.capture(":")):D&&(ae=Te);const Oe=this.parseChildren();_[ae]=1===Object.keys(Oe).length?Oe[Te]:new ce([],Oe),this.consumeOptional("//")}return _}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new e.vHH(4011,!1)}}function Si(g){return g.segments.length>0?new ce([],{[Te]:g}):g}function er(g){const D={};for(const[O,z]of Object.entries(g.children)){const ae=er(z);if(O===Te&&0===ae.segments.length&&ae.hasChildren())for(const[Oe,Mt]of Object.entries(ae.children))D[Oe]=Mt;else(ae.segments.length>0||ae.hasChildren())&&(D[O]=ae)}return function ir(g){if(1===g.numberOfChildren&&g.children[Te]){const D=g.children[Te];return new ce(g.segments.concat(D.segments),D.children)}return g}(new ce(g.segments,D))}function Ji(g){return g instanceof ri}function ar(g){let D;const z=Si(function _(ae){const Oe={};for(const bt of ae.children){const bn=_(bt);Oe[bt.outlet]=bn}const Mt=new ce(ae.url,Oe);return ae===g&&(D=Mt),Mt}(g.root));return D??z}function Tr(g,D,_,O){let z=g;for(;z.parent;)z=z.parent;if(0===D.length)return oi(z,z,z,_,O);const ae=function zr(g){if("string"==typeof g[0]&&1===g.length&&"/"===g[0])return new Qr(!0,0,g);let D=0,_=!1;const O=g.reduce((z,ae,Oe)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const Mt={};return Object.entries(ae.outlets).forEach(([bt,bn])=>{Mt[bt]="string"==typeof bn?bn.split("/"):bn}),[...z,{outlets:Mt}]}if(ae.segmentPath)return[...z,ae.segmentPath]}return"string"!=typeof ae?[...z,ae]:0===Oe?(ae.split("/").forEach((Mt,bt)=>{0==bt&&"."===Mt||(0==bt&&""===Mt?_=!0:".."===Mt?D++:""!=Mt&&z.push(Mt))}),z):[...z,ae]},[]);return new Qr(_,D,O)}(D);if(ae.toRoot())return oi(z,z,new ce([],{}),_,O);const Oe=function Wr(g,D,_){if(g.isAbsolute)return new Vi(D,!0,0);if(!_)return new Vi(D,!1,NaN);if(null===_.parent)return new Vi(_,!0,0);const O=rr(g.commands[0])?0:1;return function Xr(g,D,_){let O=g,z=D,ae=_;for(;ae>z;){if(ae-=z,O=O.parent,!O)throw new e.vHH(4005,!1);z=O.segments.length}return new Vi(O,!1,z-ae)}(_,_.segments.length-1+O,g.numberOfDoubleDots)}(ae,z,g),Mt=Oe.processChildren?Ge(Oe.segmentGroup,Oe.index,ae.commands):Je(Oe.segmentGroup,Oe.index,ae.commands);return oi(z,Oe.segmentGroup,Mt,_,O)}function rr(g){return"object"==typeof g&&null!=g&&!g.outlets&&!g.segmentPath}function Ai(g){return"object"==typeof g&&null!=g&&g.outlets}function oi(g,D,_,O,z){let Oe,ae={};O&&Object.entries(O).forEach(([bt,bn])=>{ae[bt]=Array.isArray(bn)?bn.map(Jn=>`${Jn}`):`${bn}`}),Oe=g===D?_:tr(g,D,_);const Mt=Si(er(Oe));return new ri(Mt,ae,z)}function tr(g,D,_){const O={};return Object.entries(g.children).forEach(([z,ae])=>{O[z]=ae===D?_:tr(ae,D,_)}),new ce(g.segments,O)}class Qr{constructor(D,_,O){if(this.isAbsolute=D,this.numberOfDoubleDots=_,this.commands=O,D&&O.length>0&&rr(O[0]))throw new e.vHH(4003,!1);const z=O.find(Ai);if(z&&z!==O.at(-1))throw new e.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vi{constructor(D,_,O){this.segmentGroup=D,this.processChildren=_,this.index=O}}function Je(g,D,_){if(g??=new ce([],{}),0===g.segments.length&&g.hasChildren())return Ge(g,D,_);const O=function wt(g,D,_){let O=0,z=D;const ae={match:!1,pathIndex:0,commandIndex:0};for(;z<g.segments.length;){if(O>=_.length)return ae;const Oe=g.segments[z],Mt=_[O];if(Ai(Mt))break;const bt=`${Mt}`,bn=O<_.length-1?_[O+1]:null;if(z>0&&void 0===bt)break;if(bt&&bn&&"object"==typeof bn&&void 0===bn.outlets){if(!f(bt,bn,Oe))return ae;O+=2}else{if(!f(bt,{},Oe))return ae;O++}z++}return{match:!0,pathIndex:z,commandIndex:O}}(g,D,_),z=_.slice(O.commandIndex);if(O.match&&O.pathIndex<g.segments.length){const ae=new ce(g.segments.slice(0,O.pathIndex),{});return ae.children[Te]=new ce(g.segments.slice(O.pathIndex),g.children),Ge(ae,0,z)}return O.match&&0===z.length?new ce(g.segments,{}):O.match&&!g.hasChildren()?i(g,D,_):O.match?Ge(g,0,z):i(g,D,_)}function Ge(g,D,_){if(0===_.length)return new ce(g.segments,{});{const O=function ve(g){return Ai(g[0])?g[0].outlets:{[Te]:g}}(_),z={};if(Object.keys(O).some(ae=>ae!==Te)&&g.children[Te]&&1===g.numberOfChildren&&0===g.children[Te].segments.length){const ae=Ge(g.children[Te],D,_);return new ce(g.segments,ae.children)}return Object.entries(O).forEach(([ae,Oe])=>{"string"==typeof Oe&&(Oe=[Oe]),null!==Oe&&(z[ae]=Je(g.children[ae],D,Oe))}),Object.entries(g.children).forEach(([ae,Oe])=>{void 0===O[ae]&&(z[ae]=Oe)}),new ce(g.segments,z)}}function i(g,D,_){const O=g.segments.slice(0,D);let z=0;for(;z<_.length;){const ae=_[z];if(Ai(ae)){const bt=r(ae.outlets);return new ce(O,bt)}if(0===z&&rr(_[0])){O.push(new Di(g.segments[D].path,a(_[0]))),z++;continue}const Oe=Ai(ae)?ae.outlets[Te]:`${ae}`,Mt=z<_.length-1?_[z+1]:null;Oe&&Mt&&rr(Mt)?(O.push(new Di(Oe,a(Mt))),z+=2):(O.push(new Di(Oe,{})),z++)}return new ce(O,{})}function r(g){const D={};return Object.entries(g).forEach(([_,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(D[_]=i(new ce([],{}),0,O))}),D}function a(g){const D={};return Object.entries(g).forEach(([_,O])=>D[_]=`${O}`),D}function f(g,D,_){return g==_.path&&qe(D,_.parameters)}const T="imperative";var k=function(g){return g[g.NavigationStart=0]="NavigationStart",g[g.NavigationEnd=1]="NavigationEnd",g[g.NavigationCancel=2]="NavigationCancel",g[g.NavigationError=3]="NavigationError",g[g.RoutesRecognized=4]="RoutesRecognized",g[g.ResolveStart=5]="ResolveStart",g[g.ResolveEnd=6]="ResolveEnd",g[g.GuardsCheckStart=7]="GuardsCheckStart",g[g.GuardsCheckEnd=8]="GuardsCheckEnd",g[g.RouteConfigLoadStart=9]="RouteConfigLoadStart",g[g.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",g[g.ChildActivationStart=11]="ChildActivationStart",g[g.ChildActivationEnd=12]="ChildActivationEnd",g[g.ActivationStart=13]="ActivationStart",g[g.ActivationEnd=14]="ActivationEnd",g[g.Scroll=15]="Scroll",g[g.NavigationSkipped=16]="NavigationSkipped",g}(k||{});class te{constructor(D,_){this.id=D,this.url=_}}class _e extends te{constructor(D,_,O="imperative",z=null){super(D,_),this.type=k.NavigationStart,this.navigationTrigger=O,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class he extends te{constructor(D,_,O){super(D,_),this.urlAfterRedirects=O,this.type=k.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var we=function(g){return g[g.Redirect=0]="Redirect",g[g.SupersededByNewNavigation=1]="SupersededByNewNavigation",g[g.NoDataFromResolver=2]="NoDataFromResolver",g[g.GuardRejected=3]="GuardRejected",g}(we||{}),Ce=function(g){return g[g.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",g[g.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",g}(Ce||{});class Ee extends te{constructor(D,_,O,z){super(D,_),this.reason=O,this.code=z,this.type=k.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xe extends te{constructor(D,_,O,z){super(D,_),this.reason=O,this.code=z,this.type=k.NavigationSkipped}}class Ve extends te{constructor(D,_,O,z){super(D,_),this.error=O,this.target=z,this.type=k.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ot extends te{constructor(D,_,O,z){super(D,_),this.urlAfterRedirects=O,this.state=z,this.type=k.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ut extends te{constructor(D,_,O,z){super(D,_),this.urlAfterRedirects=O,this.state=z,this.type=k.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ft extends te{constructor(D,_,O,z,ae){super(D,_),this.urlAfterRedirects=O,this.state=z,this.shouldActivate=ae,this.type=k.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oe extends te{constructor(D,_,O,z){super(D,_),this.urlAfterRedirects=O,this.state=z,this.type=k.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ie extends te{constructor(D,_,O,z){super(D,_),this.urlAfterRedirects=O,this.state=z,this.type=k.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le{constructor(D){this.route=D,this.type=k.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class je{constructor(D){this.route=D,this.type=k.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Q{constructor(D){this.snapshot=D,this.type=k.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fe{constructor(D){this.snapshot=D,this.type=k.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(D){this.snapshot=D,this.type=k.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Be{constructor(D){this.snapshot=D,this.type=k.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(D,_,O){this.routerEvent=D,this.position=_,this.anchor=O,this.type=k.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _t{}class Jt{constructor(D){this.url=D}}class Ln{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Vn,this.attachRef=null}}let Vn=(()=>{class g{constructor(){this.contexts=new Map}onChildOutletCreated(_,O){const z=this.getOrCreateContext(_);z.outlet=O,this.contexts.set(_,z)}onChildOutletDestroyed(_){const O=this.getContext(_);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let O=this.getContext(_);return O||(O=new Ln,this.contexts.set(_,O)),O}getContext(_){return this.contexts.get(_)||null}static#e=this.\u0275fac=function(O){return new(O||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();class $n{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const _=this.pathFromRoot(D);return _.length>1?_[_.length-2]:null}children(D){const _=ui(D,this._root);return _?_.children.map(O=>O.value):[]}firstChild(D){const _=ui(D,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(D){const _=$i(D,this._root);return _.length<2?[]:_[_.length-2].children.map(z=>z.value).filter(z=>z!==D)}pathFromRoot(D){return $i(D,this._root).map(_=>_.value)}}function ui(g,D){if(g===D.value)return D;for(const _ of D.children){const O=ui(g,_);if(O)return O}return null}function $i(g,D){if(g===D.value)return[D];for(const _ of D.children){const O=$i(g,_);if(O.length)return O.unshift(D),O}return[]}class Xn{constructor(D,_){this.value=D,this.children=_}toString(){return`TreeNode(${this.value})`}}function vi(g){const D={};return g&&g.children.forEach(_=>D[_.value.outlet]=_),D}class zi extends $n{constructor(D,_){super(D),this.snapshot=_,xr(this,D)}toString(){return this.snapshot.toString()}}function Zi(g){const D=function Dr(g){const ae=new lr([],{},{},"",{},Te,g,null,{});return new ms("",new Xn(ae,[]))}(g),_=new y.X([new Di("",{})]),O=new y.X({}),z=new y.X({}),ae=new y.X({}),Oe=new y.X(""),Mt=new nr(_,O,ae,Oe,z,Te,g,D.root);return Mt.snapshot=D.root,new zi(new Xn(Mt,[]),D)}class nr{constructor(D,_,O,z,ae,Oe,Mt,bt){this.urlSubject=D,this.paramsSubject=_,this.queryParamsSubject=O,this.fragmentSubject=z,this.dataSubject=ae,this.outlet=Oe,this.component=Mt,this._futureSnapshot=bt,this.title=this.dataSubject?.pipe((0,st.U)(bn=>bn[U]))??(0,h.of)(void 0),this.url=D,this.params=_,this.queryParams=O,this.fragment=z,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,st.U)(D=>Re(D))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,st.U)(D=>Re(D))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ar(g,D,_="emptyOnly"){let O;const{routeConfig:z}=g;return O=null===D||"always"!==_&&""!==z?.path&&(D.component||D.routeConfig?.loadComponent)?{params:{...g.params},data:{...g.data},resolve:{...g.data,...g._resolvedData??{}}}:{params:{...D.params,...g.params},data:{...D.data,...g.data},resolve:{...g.data,...D.data,...z?.data,...g._resolvedData}},z&&vr(z)&&(O.resolve[U]=z.title),O}class lr{get title(){return this.data?.[U]}constructor(D,_,O,z,ae,Oe,Mt,bt,bn){this.url=D,this.params=_,this.queryParams=O,this.fragment=z,this.data=ae,this.outlet=Oe,this.component=Mt,this.routeConfig=bt,this._resolve=bn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Re(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Re(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ms extends $n{constructor(D,_){super(_),this.url=D,xr(this,_)}toString(){return cr(this._root)}}function xr(g,D){D.value._routerState=g,D.children.forEach(_=>xr(g,_))}function cr(g){const D=g.children.length>0?` { ${g.children.map(cr).join(", ")} } `:"";return`${g.value}${D}`}function Gi(g){if(g.snapshot){const D=g.snapshot,_=g._futureSnapshot;g.snapshot=_,qe(D.queryParams,_.queryParams)||g.queryParamsSubject.next(_.queryParams),D.fragment!==_.fragment&&g.fragmentSubject.next(_.fragment),qe(D.params,_.params)||g.paramsSubject.next(_.params),function tt(g,D){if(g.length!==D.length)return!1;for(let _=0;_<g.length;++_)if(!qe(g[_],D[_]))return!1;return!0}(D.url,_.url)||g.urlSubject.next(_.url),qe(D.data,_.data)||g.dataSubject.next(_.data)}else g.snapshot=g._futureSnapshot,g.dataSubject.next(g._futureSnapshot.data)}function $r(g,D){const _=qe(g.params,D.params)&&function Ii(g,D){return Qt(g,D)&&g.every((_,O)=>qe(_.parameters,D[O].parameters))}(g.url,D.url);return _&&!(!g.parent!=!D.parent)&&(!g.parent||$r(g.parent,D.parent))}function vr(g){return"string"==typeof g.title||null===g.title}let Yr=(()=>{class g{constructor(){this.activated=null,this._activatedRoute=null,this.name=Te,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.parentContexts=(0,e.f3M)(Vn),this.location=(0,e.f3M)(e.s_b),this.changeDetector=(0,e.f3M)(e.sBO),this.environmentInjector=(0,e.f3M)(e.lqb),this.inputBinder=(0,e.f3M)(yr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(_){if(_.name){const{firstChange:O,previousValue:z}=_.name;if(O)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.vHH(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,O){this.activated=_,this._activatedRoute=O,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,O){if(this.isActivated)throw new e.vHH(4013,!1);this._activatedRoute=_;const z=this.location,Oe=_.snapshot.component,Mt=this.parentContexts.getOrCreateContext(this.name).children,bt=new Br(_,Mt,z.injector);this.activated=z.createComponent(Oe,{index:z.length,injector:bt,environmentInjector:O??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(O){return new(O||g)};static#t=this.\u0275dir=e.lG2({type:g,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.TTD]})}return g})();class Br{constructor(D,_,O){this.route=D,this.childContexts=_,this.parent=O}get(D,_){return D===nr?this.route:D===Vn?this.childContexts:this.parent.get(D,_)}}const yr=new e.OlP("");let Mr=(()=>{class g{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:O}=_,z=(0,E.a)([O.queryParams,O.params,O.data]).pipe((0,fe.w)(([ae,Oe,Mt],bt)=>(Mt={...ae,...Oe,...Mt},0===bt?(0,h.of)(Mt):Promise.resolve(Mt)))).subscribe(ae=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==O||null===O.component)return void this.unsubscribeFromRouteData(_);const Oe=(0,e.qFp)(O.component);if(Oe)for(const{templateName:Mt}of Oe.inputs)_.activatedComponentRef.setInput(Mt,ae[Mt]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,z)}static#e=this.\u0275fac=function(O){return new(O||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac})}return g})();function Li(g,D,_){if(_&&g.shouldReuseRoute(D.value,_.value.snapshot)){const O=_.value;O._futureSnapshot=D.value;const z=function Bi(g,D,_){return D.children.map(O=>{for(const z of _.children)if(g.shouldReuseRoute(O.value,z.value.snapshot))return Li(g,O,z);return Li(g,O)})}(g,D,_);return new Xn(O,z)}{if(g.shouldAttach(D.value)){const ae=g.retrieve(D.value);if(null!==ae){const Oe=ae.route;return Oe.value._futureSnapshot=D.value,Oe.children=D.children.map(Mt=>Li(g,Mt)),Oe}}const O=function Ci(g){return new nr(new y.X(g.url),new y.X(g.params),new y.X(g.queryParams),new y.X(g.fragment),new y.X(g.data),g.outlet,g.component,g)}(D.value),z=D.children.map(ae=>Li(g,ae));return new Xn(O,z)}}const br="ngNavigationCancelingError";function Gr(g,D){const{redirectTo:_,navigationBehaviorOptions:O}=Ji(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,z=pi(!1,we.Redirect,D);return z.url=_,z.navigationBehaviorOptions=O,z}function pi(g,D,_){const O=new Error("NavigationCancelingError: "+(g||""));return O[br]=!0,O.cancellationCode=D,_&&(O.url=_),O}function Er(g){return g&&g[br]}let Ur=(()=>{class g{static#e=this.\u0275fac=function(O){return new(O||g)};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["ng-component"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(O,z){1&O&&e._UZ(0,"router-outlet")},dependencies:[Yr],encapsulation:2})}return g})();function vs(g){const D=g.children&&g.children.map(vs),_=D?{...g,children:D}:{...g};return!_.component&&!_.loadComponent&&(D||_.loadChildren)&&_.outlet&&_.outlet!==Te&&(_.component=Ur),_}function Rr(g){return g.outlet||Te}function Jr(g){if(!g)return null;if(g.routeConfig?._injector)return g.routeConfig._injector;for(let D=g.parent;D;D=D.parent){const _=D.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class dr{constructor(D,_,O,z,ae){this.routeReuseStrategy=D,this.futureState=_,this.currState=O,this.forwardEvent=z,this.inputBindingEnabled=ae}activate(D){const _=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,O,D),Gi(this.futureState.root),this.activateChildRoutes(_,O,D)}deactivateChildRoutes(D,_,O){const z=vi(_);D.children.forEach(ae=>{const Oe=ae.value.outlet;this.deactivateRoutes(ae,z[Oe],O),delete z[Oe]}),Object.values(z).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,O)})}deactivateRoutes(D,_,O){const z=D.value,ae=_?_.value:null;if(z===ae)if(z.component){const Oe=O.getContext(z.outlet);Oe&&this.deactivateChildRoutes(D,_,Oe.children)}else this.deactivateChildRoutes(D,_,O);else ae&&this.deactivateRouteAndItsChildren(_,O)}deactivateRouteAndItsChildren(D,_){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,_):this.deactivateRouteAndOutlet(D,_)}detachAndStoreRouteSubtree(D,_){const O=_.getContext(D.value.outlet),z=O&&D.value.component?O.children:_,ae=vi(D);for(const Oe of Object.values(ae))this.deactivateRouteAndItsChildren(Oe,z);if(O&&O.outlet){const Oe=O.outlet.detach(),Mt=O.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:Oe,route:D,contexts:Mt})}}deactivateRouteAndOutlet(D,_){const O=_.getContext(D.value.outlet),z=O&&D.value.component?O.children:_,ae=vi(D);for(const Oe of Object.values(ae))this.deactivateRouteAndItsChildren(Oe,z);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(D,_,O){const z=vi(_);D.children.forEach(ae=>{this.activateRoutes(ae,z[ae.value.outlet],O),this.forwardEvent(new Be(ae.value.snapshot))}),D.children.length&&this.forwardEvent(new Fe(D.value.snapshot))}activateRoutes(D,_,O){const z=D.value,ae=_?_.value:null;if(Gi(z),z===ae)if(z.component){const Oe=O.getOrCreateContext(z.outlet);this.activateChildRoutes(D,_,Oe.children)}else this.activateChildRoutes(D,_,O);else if(z.component){const Oe=O.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const Mt=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),Oe.children.onOutletReAttached(Mt.contexts),Oe.attachRef=Mt.componentRef,Oe.route=Mt.route.value,Oe.outlet&&Oe.outlet.attach(Mt.componentRef,Mt.route.value),Gi(Mt.route.value),this.activateChildRoutes(D,null,Oe.children)}else{const Mt=Jr(z.snapshot);Oe.attachRef=null,Oe.route=z,Oe.injector=Mt,Oe.outlet&&Oe.outlet.activateWith(z,Oe.injector),this.activateChildRoutes(D,null,Oe.children)}}else this.activateChildRoutes(D,null,O)}}class ts{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class sr{constructor(D,_){this.component=D,this.route=_}}function Mi(g,D,_){const O=g._root;return ys(O,D?D._root:null,_,[O.value])}function us(g,D){const _=Symbol(),O=D.get(g,_);return O===_?"function"!=typeof g||(0,e.Z0I)(g)?D.get(g):g:O}function ys(g,D,_,O,z={canDeactivateChecks:[],canActivateChecks:[]}){const ae=vi(D);return g.children.forEach(Oe=>{(function co(g,D,_,O,z={canDeactivateChecks:[],canActivateChecks:[]}){const ae=g.value,Oe=D?D.value:null,Mt=_?_.getContext(g.value.outlet):null;if(Oe&&ae.routeConfig===Oe.routeConfig){const bt=function uo(g,D,_){if("function"==typeof _)return _(g,D);switch(_){case"pathParamsChange":return!Qt(g.url,D.url);case"pathParamsOrQueryParamsChange":return!Qt(g.url,D.url)||!qe(g.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$r(g,D)||!qe(g.queryParams,D.queryParams);default:return!$r(g,D)}}(Oe,ae,ae.routeConfig.runGuardsAndResolvers);bt?z.canActivateChecks.push(new ts(O)):(ae.data=Oe.data,ae._resolvedData=Oe._resolvedData),ys(g,D,ae.component?Mt?Mt.children:null:_,O,z),bt&&Mt&&Mt.outlet&&Mt.outlet.isActivated&&z.canDeactivateChecks.push(new sr(Mt.outlet.component,Oe))}else Oe&&ns(D,Mt,z),z.canActivateChecks.push(new ts(O)),ys(g,null,ae.component?Mt?Mt.children:null:_,O,z)})(Oe,ae[Oe.value.outlet],_,O.concat([Oe.value]),z),delete ae[Oe.value.outlet]}),Object.entries(ae).forEach(([Oe,Mt])=>ns(Mt,_.getContext(Oe),z)),z}function ns(g,D,_){const O=vi(g),z=g.value;Object.entries(O).forEach(([ae,Oe])=>{ns(Oe,z.component?D?D.children.getContext(ae):null:D,_)}),_.canDeactivateChecks.push(new sr(z.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,z))}function ds(g){return"function"==typeof g}function W(g){return g instanceof C.K||"EmptyError"===g?.name}const P=Symbol("INITIAL_VALUE");function se(){return(0,fe.w)(g=>(0,E.a)(g.map(D=>D.pipe((0,Tt.q)(1),(0,Vt.O)(P)))).pipe((0,st.U)(D=>{for(const _ of D)if(!0!==_){if(_===P)return P;if(!1===_||_ instanceof ri)return _}return!0}),(0,xt.h)(D=>D!==P),(0,Tt.q)(1)))}function to(g){return(0,j.z)((0,cn.b)(D=>{if(Ji(D))throw Gr(0,D)}),(0,st.U)(D=>!0===D))}class js{constructor(D){this.segmentGroup=D||null}}class no extends Error{constructor(D){super(),this.urlTree=D}}function Ms(g){return(0,q._)(new js(g))}class Sa{constructor(D,_){this.urlSerializer=D,this.urlTree=_}lineralizeSegments(D,_){let O=[],z=_.root;for(;;){if(O=O.concat(z.segments),0===z.numberOfChildren)return(0,h.of)(O);if(z.numberOfChildren>1||!z.children[Te])return(0,q._)(new e.vHH(4e3,!1));z=z.children[Te]}}applyRedirectCommands(D,_,O){const z=this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),D,O);if(_.startsWith("/"))throw new no(z);return z}applyRedirectCreateUrlTree(D,_,O,z){const ae=this.createSegmentGroup(D,_.root,O,z);return new ri(ae,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(D,_){const O={};return Object.entries(D).forEach(([z,ae])=>{if("string"==typeof ae&&ae.startsWith(":")){const Mt=ae.substring(1);O[z]=_[Mt]}else O[z]=ae}),O}createSegmentGroup(D,_,O,z){const ae=this.createSegments(D,_.segments,O,z);let Oe={};return Object.entries(_.children).forEach(([Mt,bt])=>{Oe[Mt]=this.createSegmentGroup(D,bt,O,z)}),new ce(ae,Oe)}createSegments(D,_,O,z){return _.map(ae=>ae.path.startsWith(":")?this.findPosParam(D,ae,z):this.findOrReturn(ae,O))}findPosParam(D,_,O){const z=O[_.path.substring(1)];if(!z)throw new e.vHH(4001,!1);return z}findOrReturn(D,_){let O=0;for(const z of _){if(z.path===D.path)return _.splice(O),z;O++}return D}}const io={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mo(g,D,_,O,z){const ae=fs(g,D,_);return ae.matched?(O=function _s(g,D){return g.providers&&!g._injector&&(g._injector=(0,e.MMx)(g.providers,D,`Route: ${g.path}`)),g._injector??D}(D,O),function mo(g,D,_,O){const z=D.canMatch;if(!z||0===z.length)return(0,h.of)(!0);const ae=z.map(Oe=>{const Mt=us(Oe,g);return St(function po(g){return g&&ds(g.canMatch)}(Mt)?Mt.canMatch(D,_):(0,e.r_H)(g,()=>Mt(D,_)))});return(0,h.of)(ae).pipe(se(),to())}(O,D,_).pipe((0,st.U)(Oe=>!0===Oe?ae:{...io}))):(0,h.of)(ae)}function fs(g,D,_){if("**"===D.path)return function Os(g){return{matched:!0,parameters:g.at(-1)?.parameters??{},consumedSegments:g,remainingSegments:[],positionalParamSegments:{}}}(_);if(""===D.path)return"full"===D.pathMatch&&(g.hasChildren()||_.length>0)?{...io}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const z=(D.matcher||Ue)(_,g,D);if(!z)return{...io};const ae={};Object.entries(z.posParams??{}).forEach(([Mt,bt])=>{ae[Mt]=bt.path});const Oe=z.consumed.length>0?{...ae,...z.consumed[z.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:z.consumed,remainingSegments:_.slice(z.consumed.length),parameters:Oe,positionalParamSegments:z.posParams??{}}}function is(g,D,_,O){return _.length>0&&function Nr(g,D,_){return _.some(O=>Vs(g,D,O)&&Rr(O)!==Te)}(g,_,O)?{segmentGroup:new ce(D,Wa(O,new ce(_,g.children))),slicedSegments:[]}:0===_.length&&function rs(g,D,_){return _.some(O=>Vs(g,D,O))}(g,_,O)?{segmentGroup:new ce(g.segments,Fa(g,_,O,g.children)),slicedSegments:_}:{segmentGroup:new ce(g.segments,g.children),slicedSegments:_}}function Fa(g,D,_,O){const z={};for(const ae of _)if(Vs(g,D,ae)&&!O[Rr(ae)]){const Oe=new ce([],{});z[Rr(ae)]=Oe}return{...O,...z}}function Wa(g,D){const _={};_[Te]=D;for(const O of g)if(""===O.path&&Rr(O)!==Te){const z=new ce([],{});_[Rr(O)]=z}return _}function Vs(g,D,_){return(!(g.hasChildren()||D.length>0)||"full"!==_.pathMatch)&&""===_.path}class Or{}class Go{constructor(D,_,O,z,ae,Oe,Mt){this.injector=D,this.configLoader=_,this.rootComponentType=O,this.config=z,this.urlTree=ae,this.paramsInheritanceStrategy=Oe,this.urlSerializer=Mt,this.applyRedirects=new Sa(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(D){return new e.vHH(4002,`'${D.segmentGroup}'`)}recognize(){const D=is(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(D).pipe((0,st.U)(_=>{const O=new lr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Te,this.rootComponentType,null,{}),z=new Xn(O,_),ae=new ms("",z),Oe=function Pi(g,D,_=null,O=null){return Tr(ar(g),D,_,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return Oe.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(Oe),this.inheritParamsAndData(ae._root,null),{state:ae,tree:Oe}}))}match(D){return this.processSegmentGroup(this.injector,this.config,D,Te).pipe((0,Sn.K)(O=>{if(O instanceof no)return this.urlTree=O.urlTree,this.match(O.urlTree.root);throw O instanceof js?this.noMatchError(O):O}))}inheritParamsAndData(D,_){const O=D.value,z=Ar(O,_,this.paramsInheritanceStrategy);O.params=Object.freeze(z.params),O.data=Object.freeze(z.data),D.children.forEach(ae=>this.inheritParamsAndData(ae,O))}processSegmentGroup(D,_,O,z){return 0===O.segments.length&&O.hasChildren()?this.processChildren(D,_,O):this.processSegment(D,_,O,O.segments,z,!0).pipe((0,st.U)(ae=>ae instanceof Xn?[ae]:[]))}processChildren(D,_,O){const z=[];for(const ae of Object.keys(O.children))"primary"===ae?z.unshift(ae):z.push(ae);return(0,x.D)(z).pipe((0,on.b)(ae=>{const Oe=O.children[ae],Mt=function To(g,D){const _=g.filter(O=>Rr(O)===D);return _.push(...g.filter(O=>Rr(O)!==D)),_}(_,ae);return this.processSegmentGroup(D,Mt,Oe,ae)}),(0,hn.R)((ae,Oe)=>(ae.push(...Oe),ae)),(0,ln.d)(null),function Ct(g,D){const _=arguments.length>=2;return O=>O.pipe(g?(0,xt.h)((z,ae)=>g(z,ae,O)):ht.y,Kt(1),_?(0,ln.d)(D):(0,Xe.T)(()=>new C.K))}(),(0,dt.z)(ae=>{if(null===ae)return Ms(O);const Oe=Ps(ae);return function zs(g){g.sort((D,_)=>D.value.outlet===Te?-1:_.value.outlet===Te?1:D.value.outlet.localeCompare(_.value.outlet))}(Oe),(0,h.of)(Oe)}))}processSegment(D,_,O,z,ae,Oe){return(0,x.D)(_).pipe((0,on.b)(Mt=>this.processSegmentAgainstRoute(Mt._injector??D,_,Mt,O,z,ae,Oe).pipe((0,Sn.K)(bt=>{if(bt instanceof js)return(0,h.of)(null);throw bt}))),(0,rn.P)(Mt=>!!Mt),(0,Sn.K)(Mt=>{if(W(Mt))return function Fi(g,D,_){return 0===D.length&&!g.children[_]}(O,z,ae)?(0,h.of)(new Or):Ms(O);throw Mt}))}processSegmentAgainstRoute(D,_,O,z,ae,Oe,Mt){return function ps(g,D,_,O){return!!(Rr(g)===O||O!==Te&&Vs(D,_,g))&&fs(D,g,_).matched}(O,z,ae,Oe)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(D,z,O,ae,Oe):this.allowRedirects&&Mt?this.expandSegmentAgainstRouteUsingRedirect(D,z,_,O,ae,Oe):Ms(z):Ms(z)}expandSegmentAgainstRouteUsingRedirect(D,_,O,z,ae,Oe){const{matched:Mt,consumedSegments:bt,positionalParamSegments:bn,remainingSegments:Jn}=fs(_,z,ae);if(!Mt)return Ms(_);z.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const fi=this.applyRedirects.applyRedirectCommands(bt,z.redirectTo,bn);return this.applyRedirects.lineralizeSegments(z,fi).pipe((0,dt.z)(Hi=>this.processSegment(D,O,_,Hi.concat(Jn),Oe,!1)))}matchSegmentAgainstRoute(D,_,O,z,ae){const Oe=Mo(_,O,z,D);return"**"===O.path&&(_.children={}),Oe.pipe((0,fe.w)(Mt=>Mt.matched?this.getChildConfig(D=O._injector??D,O,z).pipe((0,fe.w)(({routes:bt})=>{const bn=O._loadedInjector??D,{consumedSegments:Jn,remainingSegments:fi,parameters:Hi}=Mt,Ns=new lr(Jn,Hi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Wo(g){return g.data||{}}(O),Rr(O),O.component??O._loadedComponent??null,O,function la(g){return g.resolve||{}}(O)),{segmentGroup:Xs,slicedSegments:eo}=is(_,Jn,fi,bt);if(0===eo.length&&Xs.hasChildren())return this.processChildren(bn,bt,Xs).pipe((0,st.U)(so=>null===so?null:new Xn(Ns,so)));if(0===bt.length&&0===eo.length)return(0,h.of)(new Xn(Ns,[]));const ta=Rr(O)===ae;return this.processSegment(bn,bt,Xs,eo,ta?Te:ae,!0).pipe((0,st.U)(so=>new Xn(Ns,so instanceof Xn?[so]:[])))})):Ms(_)))}getChildConfig(D,_,O){return _.children?(0,h.of)({routes:_.children,injector:D}):_.loadChildren?void 0!==_._loadedRoutes?(0,h.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function pr(g,D,_,O){const z=D.canLoad;if(void 0===z||0===z.length)return(0,h.of)(!0);const ae=z.map(Oe=>{const Mt=us(Oe,g);return St(function ho(g){return g&&ds(g.canLoad)}(Mt)?Mt.canLoad(D,_):(0,e.r_H)(g,()=>Mt(D,_)))});return(0,h.of)(ae).pipe(se(),to())}(D,_,O).pipe((0,dt.z)(z=>z?this.configLoader.loadChildren(D,_).pipe((0,cn.b)(ae=>{_._loadedRoutes=ae.routes,_._loadedInjector=ae.injector})):function Ao(g){return(0,q._)(pi(!1,we.GuardRejected))}())):(0,h.of)({routes:[],injector:D})}}function aa(g){const D=g.value.routeConfig;return D&&""===D.path}function Ps(g){const D=[],_=new Set;for(const O of g){if(!aa(O)){D.push(O);continue}const z=D.find(ae=>O.value.routeConfig===ae.value.routeConfig);void 0!==z?(z.children.push(...O.children),_.add(z)):D.push(O)}for(const O of _){const z=Ps(O.children);D.push(new Xn(O.value,z))}return D.filter(O=>!_.has(O))}function xs(g){const D=g.children.map(_=>xs(_)).flat();return[g,...D]}function _o(g){return(0,fe.w)(D=>{const _=g(D);return _?(0,x.D)(_).pipe((0,st.U)(()=>D)):(0,h.of)(D)})}let Yo=(()=>{class g{buildTitle(_){let O,z=_.root;for(;void 0!==z;)O=this.getResolvedTitleForRoute(z)??O,z=z.children.find(ae=>ae.outlet===Te);return O}getResolvedTitleForRoute(_){return _.data[U]}static#e=this.\u0275fac=function(O){return new(O||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:()=>(0,e.f3M)(vo),providedIn:"root"})}return g})(),vo=(()=>{class g extends Yo{constructor(_){super(),this.title=_}updateTitle(_){const O=this.buildTitle(_);void 0!==O&&this.title.setTitle(O)}static#e=this.\u0275fac=function(O){return new(O||g)(e.LFG(An.Dx))};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();const Gs=new e.OlP("",{providedIn:"root",factory:()=>({})}),bs=new e.OlP("ROUTES");let Ks=(()=>{class g{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,e.f3M)(e.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,h.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const O=St(_.loadComponent()).pipe((0,st.U)(gs),(0,cn.b)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=ae}),(0,zt.x)(()=>{this.componentLoaders.delete(_)})),z=new re(O,()=>new Ae.x).pipe(De());return this.componentLoaders.set(_,z),z}loadChildren(_,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,h.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const ae=function yo(g,D,_,O){return St(g.loadChildren()).pipe((0,st.U)(gs),(0,dt.z)(z=>z instanceof e.YKP||Array.isArray(z)?(0,h.of)(z):(0,x.D)(D.compileModuleAsync(z))),(0,st.U)(z=>{O&&O(g);let ae,Oe,Mt=!1;return Array.isArray(z)?(Oe=z,!0):(ae=z.create(_).injector,Oe=ae.get(bs,[],{optional:!0,self:!0}).flat()),{routes:Oe.map(vs),injector:ae}}))}(O,this.compiler,_,this.onLoadEndListener).pipe((0,zt.x)(()=>{this.childrenLoaders.delete(O)})),Oe=new re(ae,()=>new Ae.x).pipe(De());return this.childrenLoaders.set(O,Oe),Oe}static#e=this.\u0275fac=function(O){return new(O||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();function gs(g){return function xo(g){return g&&"object"==typeof g&&"default"in g}(g)?g.default:g}let qi=(()=>{class g{static#e=this.\u0275fac=function(O){return new(O||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:()=>(0,e.f3M)(Ro),providedIn:"root"})}return g})(),Ro=(()=>{class g{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,O){return _}static#e=this.\u0275fac=function(O){return new(O||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();const Jo=new e.OlP(""),ke=new e.OlP("");function B(g,D,_){const O=g.get(ke),z=g.get(Me.K0);return g.get(e.R0b).runOutsideAngular(()=>{if(!z.startViewTransition||O.skipNextTransition)return O.skipNextTransition=!1,Promise.resolve();let ae;const Oe=new Promise(bn=>{ae=bn}),Mt=z.startViewTransition(()=>(ae(),function I(g){return new Promise(D=>{(0,e.T8G)(D,{injector:g})})}(g))),{onViewTransitionCreated:bt}=O;return bt&&(0,e.r_H)(g,()=>bt({transition:Mt,from:D,to:_})),Oe})}let X=(()=>{class g{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ae.x,this.transitionAbortSubject=new Ae.x,this.configLoader=(0,e.f3M)(Ks),this.environmentInjector=(0,e.f3M)(e.lqb),this.urlSerializer=(0,e.f3M)(Qi),this.rootContexts=(0,e.f3M)(Vn),this.location=(0,e.f3M)(Me.Ye),this.inputBindingEnabled=null!==(0,e.f3M)(yr,{optional:!0}),this.titleStrategy=(0,e.f3M)(Yo),this.options=(0,e.f3M)(Gs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,e.f3M)(qi),this.createViewTransition=(0,e.f3M)(Jo,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,h.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new je(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new Le(z))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const O=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:O})}setupNavigations(_,O,z){return this.transitions=new y.X({id:0,currentUrlTree:O,currentRawUrl:O,extractedUrl:this.urlHandlingStrategy.extract(O),urlAfterRedirects:this.urlHandlingStrategy.extract(O),rawUrl:O,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:T,restoredState:null,currentSnapshot:z.snapshot,targetSnapshot:null,currentRouterState:z,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,xt.h)(ae=>0!==ae.id),(0,st.U)(ae=>({...ae,extractedUrl:this.urlHandlingStrategy.extract(ae.rawUrl)})),(0,fe.w)(ae=>{this.currentTransition=ae;let Oe=!1,Mt=!1;return(0,h.of)(ae).pipe((0,cn.b)(bt=>{this.currentNavigation={id:bt.id,initialUrl:bt.rawUrl,extractedUrl:bt.extractedUrl,trigger:bt.source,extras:bt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,fe.w)(bt=>{const bn=!_.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!bn&&"reload"!==(bt.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const fi="";return this.events.next(new xe(bt.id,this.urlSerializer.serialize(bt.rawUrl),fi,Ce.IgnoredSameUrlNavigation)),bt.resolve(null),ee.E}if(this.urlHandlingStrategy.shouldProcessUrl(bt.rawUrl))return(0,h.of)(bt).pipe((0,fe.w)(fi=>{const Hi=this.transitions?.getValue();return this.events.next(new _e(fi.id,this.urlSerializer.serialize(fi.extractedUrl),fi.source,fi.restoredState)),Hi!==this.transitions?.getValue()?ee.E:Promise.resolve(fi)}),function Po(g,D,_,O,z,ae){return(0,dt.z)(Oe=>function ss(g,D,_,O,z,ae,Oe="emptyOnly"){return new Go(g,D,_,O,z,Oe,ae).recognize()}(g,D,_,O,Oe.extractedUrl,z,ae).pipe((0,st.U)(({state:Mt,tree:bt})=>({...Oe,targetSnapshot:Mt,urlAfterRedirects:bt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,cn.b)(fi=>{ae.targetSnapshot=fi.targetSnapshot,ae.urlAfterRedirects=fi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:fi.urlAfterRedirects};const Hi=new ot(fi.id,this.urlSerializer.serialize(fi.extractedUrl),this.urlSerializer.serialize(fi.urlAfterRedirects),fi.targetSnapshot);this.events.next(Hi)}));if(bn&&this.urlHandlingStrategy.shouldProcessUrl(bt.currentRawUrl)){const{id:fi,extractedUrl:Hi,source:Ns,restoredState:Xs,extras:eo}=bt,ta=new _e(fi,this.urlSerializer.serialize(Hi),Ns,Xs);this.events.next(ta);const so=Zi(this.rootComponentType).snapshot;return this.currentTransition=ae={...bt,targetSnapshot:so,urlAfterRedirects:Hi,extras:{...eo,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Hi,(0,h.of)(ae)}{const fi="";return this.events.next(new xe(bt.id,this.urlSerializer.serialize(bt.extractedUrl),fi,Ce.IgnoredByUrlHandlingStrategy)),bt.resolve(null),ee.E}}),(0,cn.b)(bt=>{const bn=new ut(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects),bt.targetSnapshot);this.events.next(bn)}),(0,st.U)(bt=>(this.currentTransition=ae={...bt,guards:Mi(bt.targetSnapshot,bt.currentSnapshot,this.rootContexts)},ae)),function $e(g,D){return(0,dt.z)(_=>{const{targetSnapshot:O,currentSnapshot:z,guards:{canActivateChecks:ae,canDeactivateChecks:Oe}}=_;return 0===Oe.length&&0===ae.length?(0,h.of)({..._,guardsResult:!0}):function wn(g,D,_,O){return(0,x.D)(g).pipe((0,dt.z)(z=>function go(g,D,_,O,z){const ae=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,h.of)(!0);const Oe=ae.map(Mt=>{const bt=Jr(D)??z,bn=us(Mt,bt);return St(function Hr(g){return g&&ds(g.canDeactivate)}(bn)?bn.canDeactivate(g,D,_,O):(0,e.r_H)(bt,()=>bn(g,D,_,O))).pipe((0,rn.P)())});return(0,h.of)(Oe).pipe(se())}(z.component,z.route,_,D,O)),(0,rn.P)(z=>!0!==z,!0))}(Oe,O,z,g).pipe((0,dt.z)(Mt=>Mt&&function hs(g){return"boolean"==typeof g}(Mt)?function Bn(g,D,_,O){return(0,x.D)(D).pipe((0,on.b)(z=>(0,F.z)(function fr(g,D){return null!==g&&D&&D(new Q(g)),(0,h.of)(!0)}(z.route.parent,O),function Ki(g,D){return null!==g&&D&&D(new ze(g)),(0,h.of)(!0)}(z.route,O),function As(g,D,_){const O=D[D.length-1],ae=D.slice(0,D.length-1).reverse().map(Oe=>function Us(g){const D=g.routeConfig?g.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:g,guards:D}:null}(Oe)).filter(Oe=>null!==Oe).map(Oe=>$(()=>{const Mt=Oe.guards.map(bt=>{const bn=Jr(Oe.node)??_,Jn=us(bt,bn);return St(function hr(g){return g&&ds(g.canActivateChild)}(Jn)?Jn.canActivateChild(O,g):(0,e.r_H)(bn,()=>Jn(O,g))).pipe((0,rn.P)())});return(0,h.of)(Mt).pipe(se())}));return(0,h.of)(ae).pipe(se())}(g,z.path,_),function Ir(g,D,_){const O=D.routeConfig?D.routeConfig.canActivate:null;if(!O||0===O.length)return(0,h.of)(!0);const z=O.map(ae=>$(()=>{const Oe=Jr(D)??_,Mt=us(ae,Oe);return St(function fo(g){return g&&ds(g.canActivate)}(Mt)?Mt.canActivate(D,g):(0,e.r_H)(Oe,()=>Mt(D,g))).pipe((0,rn.P)())}));return(0,h.of)(z).pipe(se())}(g,z.route,_))),(0,rn.P)(z=>!0!==z,!0))}(O,ae,g,D):(0,h.of)(Mt)),(0,st.U)(Mt=>({..._,guardsResult:Mt})))})}(this.environmentInjector,bt=>this.events.next(bt)),(0,cn.b)(bt=>{if(ae.guardsResult=bt.guardsResult,Ji(bt.guardsResult))throw Gr(0,bt.guardsResult);const bn=new ft(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects),bt.targetSnapshot,!!bt.guardsResult);this.events.next(bn)}),(0,xt.h)(bt=>!!bt.guardsResult||(this.cancelNavigationTransition(bt,"",we.GuardRejected),!1)),_o(bt=>{if(bt.guards.canActivateChecks.length)return(0,h.of)(bt).pipe((0,cn.b)(bn=>{const Jn=new oe(bn.id,this.urlSerializer.serialize(bn.extractedUrl),this.urlSerializer.serialize(bn.urlAfterRedirects),bn.targetSnapshot);this.events.next(Jn)}),(0,fe.w)(bn=>{let Jn=!1;return(0,h.of)(bn).pipe(function ca(g,D){return(0,dt.z)(_=>{const{targetSnapshot:O,guards:{canActivateChecks:z}}=_;if(!z.length)return(0,h.of)(_);const ae=new Set(z.map(bt=>bt.route)),Oe=new Set;for(const bt of ae)if(!Oe.has(bt))for(const bn of xs(bt))Oe.add(bn);let Mt=0;return(0,x.D)(Oe).pipe((0,on.b)(bt=>ae.has(bt)?function kr(g,D,_,O){const z=g.routeConfig,ae=g._resolve;return void 0!==z?.title&&!vr(z)&&(ae[U]=z.title),function $o(g,D,_,O){const z=yt(g);if(0===z.length)return(0,h.of)({});const ae={};return(0,x.D)(z).pipe((0,dt.z)(Oe=>function Rs(g,D,_,O){const z=Jr(D)??O,ae=us(g,z);return St(ae.resolve?ae.resolve(D,_):(0,e.r_H)(z,()=>ae(D,_)))}(g[Oe],D,_,O).pipe((0,rn.P)(),(0,cn.b)(Mt=>{ae[Oe]=Mt}))),Kt(1),(0,Et.h)(ae),(0,Sn.K)(Oe=>W(Oe)?ee.E:(0,q._)(Oe)))}(ae,g,D,O).pipe((0,st.U)(Oe=>(g._resolvedData=Oe,g.data=Ar(g,g.parent,_).resolve,null)))}(bt,O,g,D):(bt.data=Ar(bt,bt.parent,g).resolve,(0,h.of)(void 0))),(0,cn.b)(()=>Mt++),Kt(1),(0,dt.z)(bt=>Mt===Oe.size?(0,h.of)(_):ee.E))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,cn.b)({next:()=>Jn=!0,complete:()=>{Jn||this.cancelNavigationTransition(bn,"",we.NoDataFromResolver)}}))}),(0,cn.b)(bn=>{const Jn=new Ie(bn.id,this.urlSerializer.serialize(bn.extractedUrl),this.urlSerializer.serialize(bn.urlAfterRedirects),bn.targetSnapshot);this.events.next(Jn)}))}),_o(bt=>{const bn=Jn=>{const fi=[];Jn.routeConfig?.loadComponent&&!Jn.routeConfig._loadedComponent&&fi.push(this.configLoader.loadComponent(Jn.routeConfig).pipe((0,cn.b)(Hi=>{Jn.component=Hi}),(0,st.U)(()=>{})));for(const Hi of Jn.children)fi.push(...bn(Hi));return fi};return(0,E.a)(bn(bt.targetSnapshot.root)).pipe((0,ln.d)(null),(0,Tt.q)(1))}),_o(()=>this.afterPreactivation()),(0,fe.w)(()=>{const{currentSnapshot:bt,targetSnapshot:bn}=ae,Jn=this.createViewTransition?.(this.environmentInjector,bt.root,bn.root);return Jn?(0,x.D)(Jn).pipe((0,st.U)(()=>ae)):(0,h.of)(ae)}),(0,st.U)(bt=>{const bn=function ur(g,D,_){const O=Li(g,D._root,_?_._root:void 0);return new zi(O,D)}(_.routeReuseStrategy,bt.targetSnapshot,bt.currentRouterState);return this.currentTransition=ae={...bt,targetRouterState:bn},this.currentNavigation.targetRouterState=bn,ae}),(0,cn.b)(()=>{this.events.next(new _t)}),((g,D,_,O)=>(0,st.U)(z=>(new dr(D,z.targetRouterState,z.currentRouterState,_,O).activate(g),z)))(this.rootContexts,_.routeReuseStrategy,bt=>this.events.next(bt),this.inputBindingEnabled),(0,Tt.q)(1),(0,cn.b)({next:bt=>{Oe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new he(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects))),this.titleStrategy?.updateTitle(bt.targetRouterState.snapshot),bt.resolve(!0)},complete:()=>{Oe=!0}}),(0,jt.R)(this.transitionAbortSubject.pipe((0,cn.b)(bt=>{throw bt}))),(0,zt.x)(()=>{!Oe&&!Mt&&this.cancelNavigationTransition(ae,"",we.SupersededByNewNavigation),this.currentNavigation?.id===ae.id&&(this.currentNavigation=null)}),(0,Sn.K)(bt=>{if(Mt=!0,Er(bt))this.events.next(new Ee(ae.id,this.urlSerializer.serialize(ae.extractedUrl),bt.message,bt.cancellationCode)),function Ds(g){return Er(g)&&Ji(g.url)}(bt)?this.events.next(new Jt(bt.url)):ae.resolve(!1);else{this.events.next(new Ve(ae.id,this.urlSerializer.serialize(ae.extractedUrl),bt,ae.targetSnapshot??void 0));try{ae.resolve(_.errorHandler(bt))}catch(bn){this.options.resolveNavigationPromiseOnError?ae.resolve(!1):ae.reject(bn)}}return ee.E}))}))}cancelNavigationTransition(_,O,z){const ae=new Ee(_.id,this.urlSerializer.serialize(_.extractedUrl),O,z);this.events.next(ae),_.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(O){return new(O||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();function ye(g){return g!==T}let it=(()=>{class g{static#e=this.\u0275fac=function(O){return new(O||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:()=>(0,e.f3M)(Gt),providedIn:"root"})}return g})();class Ot{shouldDetach(D){return!1}store(D,_){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,_){return D.routeConfig===_.routeConfig}}let Gt=(()=>{class g extends Ot{static#e=this.\u0275fac=(()=>{let _;return function(z){return(_||(_=e.n5z(g)))(z||g)}})();static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})(),Cn=(()=>{class g{static#e=this.\u0275fac=function(O){return new(O||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:()=>(0,e.f3M)(Nn),providedIn:"root"})}return g})(),Nn=(()=>{class g extends Cn{constructor(){super(...arguments),this.location=(0,e.f3M)(Me.Ye),this.urlSerializer=(0,e.f3M)(Qi),this.options=(0,e.f3M)(Gs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,e.f3M)(qi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ri,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Zi(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(_){return this.location.subscribe(O=>{"popstate"===O.type&&_(O.url,O.state)})}handleRouterEvent(_,O){if(_ instanceof _e)this.stateMemento=this.createStateMemento();else if(_ instanceof xe)this.rawUrlTree=O.initialUrl;else if(_ instanceof ot){if("eager"===this.urlUpdateStrategy&&!O.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(O.finalUrl,O.initialUrl);this.setBrowserUrl(z,O)}}else _ instanceof _t?(this.currentUrlTree=O.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(O.finalUrl,O.initialUrl),this.routerState=O.targetRouterState,"deferred"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,O))):_ instanceof Ee&&(_.code===we.GuardRejected||_.code===we.NoDataFromResolver)?this.restoreHistory(O):_ instanceof Ve?this.restoreHistory(O,!0):_ instanceof he&&(this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId)}setBrowserUrl(_,O){const z=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo(z)||O.extras.replaceUrl){const Oe={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState(z,"",Oe)}else{const ae={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId+1)};this.location.go(z,"",ae)}}restoreHistory(_,O=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-this.browserPageId;0!==ae?this.location.historyGo(ae):this.currentUrlTree===_.finalUrl&&0===ae&&(this.resetState(_),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,O){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:O}:{navigationId:_}}static#e=this.\u0275fac=(()=>{let _;return function(z){return(_||(_=e.n5z(g)))(z||g)}})();static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();var di=function(g){return g[g.COMPLETE=0]="COMPLETE",g[g.FAILED=1]="FAILED",g[g.REDIRECTING=2]="REDIRECTING",g}(di||{});function Yi(g,D){g.events.pipe((0,xt.h)(_=>_ instanceof he||_ instanceof Ee||_ instanceof Ve||_ instanceof xe),(0,st.U)(_=>_ instanceof he||_ instanceof xe?di.COMPLETE:_ instanceof Ee&&(_.code===we.Redirect||_.code===we.SupersededByNewNavigation)?di.REDIRECTING:di.FAILED),(0,xt.h)(_=>_!==di.REDIRECTING),(0,Tt.q)(1)).subscribe(()=>{D()})}function Pr(g){throw g}const Ws={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$s={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wr=(()=>{class g{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,e.f3M)(e.c2e),this.stateManager=(0,e.f3M)(Cn),this.options=(0,e.f3M)(Gs,{optional:!0})||{},this.pendingTasks=(0,e.f3M)(e.I6F),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,e.f3M)(X),this.urlSerializer=(0,e.f3M)(Qi),this.location=(0,e.f3M)(Me.Ye),this.urlHandlingStrategy=(0,e.f3M)(qi),this._events=new Ae.x,this.errorHandler=this.options.errorHandler||Pr,this.navigated=!1,this.routeReuseStrategy=(0,e.f3M)(it),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,e.f3M)(bs,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,e.f3M)(yr,{optional:!0}),this.eventsSubscription=new ue.w0,this.isNgZoneEnabled=(0,e.f3M)(e.R0b)instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:_=>{this.console.warn(_)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(O=>{try{const z=this.navigationTransitions.currentTransition,ae=this.navigationTransitions.currentNavigation;if(null!==z&&null!==ae)if(this.stateManager.handleRouterEvent(O,ae),O instanceof Ee&&O.code!==we.Redirect&&O.code!==we.SupersededByNewNavigation)this.navigated=!0;else if(O instanceof he)this.navigated=!0;else if(O instanceof Jt){const Oe=this.urlHandlingStrategy.merge(O.url,z.currentRawUrl),Mt={info:z.extras.info,skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ye(z.source)};this.scheduleNavigation(Oe,T,null,Mt,{resolve:z.resolve,reject:z.reject,promise:z.promise})}(function Zo(g){return!(g instanceof _t||g instanceof Jt)})(O)&&this._events.next(O)}catch(z){this.navigationTransitions.transitionAbortSubject.next(z)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),T,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((_,O)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(_,"popstate",O)},0)})}navigateToSyncWithBrowser(_,O,z){const ae={replaceUrl:!0},Oe=z?.navigationId?z:null;if(z){const bt={...z};delete bt.navigationId,delete bt.\u0275routerPageId,0!==Object.keys(bt).length&&(ae.state=bt)}const Mt=this.parseUrl(_);this.scheduleNavigation(Mt,O,Oe,ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(vs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,O={}){const{relativeTo:z,queryParams:ae,fragment:Oe,queryParamsHandling:Mt,preserveFragment:bt}=O,bn=bt?this.currentUrlTree.fragment:Oe;let fi,Jn=null;switch(Mt){case"merge":Jn={...this.currentUrlTree.queryParams,...ae};break;case"preserve":Jn=this.currentUrlTree.queryParams;break;default:Jn=ae||null}null!==Jn&&(Jn=this.removeEmptyProps(Jn));try{fi=ar(z?z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||!_[0].startsWith("/"))&&(_=[]),fi=this.currentUrlTree.root}return Tr(fi,_,Jn,bn??null)}navigateByUrl(_,O={skipLocationChange:!1}){const z=Ji(_)?_:this.parseUrl(_),ae=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(ae,T,null,O)}navigate(_,O={skipLocationChange:!1}){return function Kr(g){for(let D=0;D<g.length;D++)if(null==g[D])throw new e.vHH(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,O),O)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){try{return this.urlSerializer.parse(_)}catch{return this.urlSerializer.parse("/")}}isActive(_,O){let z;if(z=!0===O?{...Ws}:!1===O?{...$s}:O,Ji(_))return On(this.currentUrlTree,_,z);const ae=this.parseUrl(_);return On(this.currentUrlTree,ae,z)}removeEmptyProps(_){return Object.entries(_).reduce((O,[z,ae])=>(null!=ae&&(O[z]=ae),O),{})}scheduleNavigation(_,O,z,ae,Oe){if(this.disposed)return Promise.resolve(!1);let Mt,bt,bn;Oe?(Mt=Oe.resolve,bt=Oe.reject,bn=Oe.promise):bn=new Promise((fi,Hi)=>{Mt=fi,bt=Hi});const Jn=this.pendingTasks.add();return Yi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Jn))}),this.navigationTransitions.handleNavigationRequest({source:O,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:_,extras:ae,resolve:Mt,reject:bt,promise:bn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),bn.catch(fi=>Promise.reject(fi))}static#e=this.\u0275fac=function(O){return new(O||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})(),Ys=(()=>{class g{constructor(_,O,z,ae,Oe,Mt){this.router=_,this.route=O,this.tabIndexAttribute=z,this.renderer=ae,this.el=Oe,this.locationStrategy=Mt,this.href=null,this.commands=null,this.onChanges=new Ae.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const bt=Oe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===bt||"area"===bt,this.isAnchorElement?this.subscription=_.events.subscribe(bn=>{bn instanceof he&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,O,z,ae,Oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||O||z||ae||Oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,e.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,O){const z=this.renderer,ae=this.el.nativeElement;null!==O?z.setAttribute(ae,_,O):z.removeAttribute(ae,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(O){return new(O||g)(e.Y36(wr),e.Y36(nr),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(Me.S$))};static#t=this.\u0275dir=e.lG2({type:g,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,z){1&O&&e.NdJ("click",function(Oe){return z.onClick(Oe.button,Oe.ctrlKey,Oe.shiftKey,Oe.altKey,Oe.metaKey)}),2&O&&e.uIk("target",z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[e.lbL.HasDecoratorInputTransform,"preserveFragment","preserveFragment",e.VuI],skipLocationChange:[e.lbL.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",e.VuI],replaceUrl:[e.lbL.HasDecoratorInputTransform,"replaceUrl","replaceUrl",e.VuI],routerLink:"routerLink"},standalone:!0,features:[e.Xq5,e.TTD]})}return g})(),Ui=(()=>{class g{get isActive(){return this._isActive}constructor(_,O,z,ae,Oe){this.router=_,this.element=O,this.renderer=z,this.cdr=ae,this.link=Oe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new e.vpe,this.routerEventsSubscription=_.events.subscribe(Mt=>{Mt instanceof he&&this.update()})}ngAfterContentInit(){(0,h.of)(this.links.changes,(0,h.of)(null)).pipe((0,un.J)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const _=[...this.links.toArray(),this.link].filter(O=>!!O).map(O=>O.onChanges);this.linkInputChangesSubscription=(0,x.D)(_).pipe((0,un.J)()).subscribe(O=>{this._isActive!==this.isLinkActive(this.router)(O)&&this.update()})}set routerLinkActive(_){const O=Array.isArray(_)?_:_.split(" ");this.classes=O.filter(z=>!!z)}ngOnChanges(_){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const _=this.hasActiveLinks();this._isActive!==_&&(this._isActive=_,this.cdr.markForCheck(),this.classes.forEach(O=>{_?this.renderer.addClass(this.element.nativeElement,O):this.renderer.removeClass(this.element.nativeElement,O)}),_&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(_))})}isLinkActive(_){const O=function Io(g){return!!g.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return z=>!!z.urlTree&&_.isActive(z.urlTree,O)}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.links.some(_)}static#e=this.\u0275fac=function(O){return new(O||g)(e.Y36(wr),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(Ys,8))};static#t=this.\u0275dir=e.lG2({type:g,selectors:[["","routerLinkActive",""]],contentQueries:function(O,z,ae){if(1&O&&e.Suo(ae,Ys,5),2&O){let Oe;e.iGM(Oe=e.CRH())&&(z.links=Oe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[e.TTD]})}return g})();class Fo{}let Is=(()=>{class g{constructor(_,O,z,ae,Oe){this.router=_,this.injector=z,this.preloadingStrategy=ae,this.loader=Oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,xt.h)(_=>_ instanceof he),(0,on.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,O){const z=[];for(const ae of O){ae.providers&&!ae._injector&&(ae._injector=(0,e.MMx)(ae.providers,_,`Route: ${ae.path}`));const Oe=ae._injector??_,Mt=ae._loadedInjector??Oe;(ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent)&&z.push(this.preloadConfig(Oe,ae)),(ae.children||ae._loadedRoutes)&&z.push(this.processRoutes(Mt,ae.children??ae._loadedRoutes))}return(0,x.D)(z).pipe((0,un.J)())}preloadConfig(_,O){return this.preloadingStrategy.preload(O,()=>{let z;z=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(_,O):(0,h.of)(null);const ae=z.pipe((0,dt.z)(Oe=>null===Oe?(0,h.of)(void 0):(O._loadedRoutes=Oe.routes,O._loadedInjector=Oe.injector,this.processRoutes(Oe.injector??_,Oe.routes))));if(O.loadComponent&&!O._loadedComponent){const Oe=this.loader.loadComponent(O);return(0,x.D)([ae,Oe]).pipe((0,un.J)())}return ae})}static#e=this.\u0275fac=function(O){return new(O||g)(e.LFG(wr),e.LFG(e.Sil),e.LFG(e.lqb),e.LFG(Fo),e.LFG(Ks))};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();const Js=new e.OlP("");let hi=(()=>{class g{constructor(_,O,z,ae,Oe={}){this.urlSerializer=_,this.transitions=O,this.viewportScroller=z,this.zone=ae,this.options=Oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Oe.scrollPositionRestoration||="disabled",Oe.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof _e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof he?(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment)):_ instanceof xe&&_.code===Ce.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof Rt&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rt(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(O){e.$Z()};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac})}return g})();function Zr(g,D){return{\u0275kind:g,\u0275providers:D}}function qo(){const g=(0,e.f3M)(e.zs3);return D=>{const _=g.get(e.z2F);if(D!==_.components[0])return;const O=g.get(wr),z=g.get(Qo);1===g.get(Zs)&&O.initialNavigation(),g.get(gr,null,e.XFs.Optional)?.setUpPreloading(),g.get(Js,null,e.XFs.Optional)?.init(),O.resetRootComponentType(_.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const Qo=new e.OlP("",{factory:()=>new Ae.x}),Zs=new e.OlP("",{providedIn:"root",factory:()=>1}),gr=new e.OlP("");function No(g){return Zr(0,[{provide:gr,useExisting:Is},{provide:Fo,useExisting:g}])}function ni(g){return Zr(9,[{provide:Jo,useValue:B},{provide:ke,useValue:{skipNextTransition:!!g?.skipInitialTransition,...g}}])}const ha=new e.OlP("ROUTER_FORROOT_GUARD"),Da=[Me.Ye,{provide:Qi,useClass:Xi},wr,Vn,{provide:nr,useFactory:function bo(g){return g.routerState.root},deps:[wr]},Ks,[]];let Aa=(()=>{class g{constructor(_){}static forRoot(_,O){return{ngModule:g,providers:[Da,[],{provide:bs,multi:!0,useValue:_},{provide:ha,useFactory:yi,deps:[[wr,new e.FiY,new e.tp0]]},{provide:Gs,useValue:O||{}},O?.useHash?{provide:Me.S$,useClass:Me.Do}:{provide:Me.S$,useClass:Me.b0},{provide:Js,useFactory:()=>{const g=(0,e.f3M)(Me.EM),D=(0,e.f3M)(e.R0b),_=(0,e.f3M)(Gs),O=(0,e.f3M)(X),z=(0,e.f3M)(Qi);return _.scrollOffset&&g.setOffset(_.scrollOffset),new hi(z,O,g,D,_)}},O?.preloadingStrategy?No(O.preloadingStrategy).\u0275providers:[],O?.initialNavigation?ea(O):[],O?.bindToComponentInputs?Zr(8,[Mr,{provide:yr,useExisting:Mr}]).\u0275providers:[],O?.enableViewTransitions?ni().\u0275providers:[],[{provide:Oa,useFactory:qo},{provide:e.tb,multi:!0,useExisting:Oa}]]}}static forChild(_){return{ngModule:g,providers:[{provide:bs,multi:!0,useValue:_}]}}static#e=this.\u0275fac=function(O){return new(O||g)(e.LFG(ha,8))};static#t=this.\u0275mod=e.oAB({type:g});static#n=this.\u0275inj=e.cJS({})}return g})();function yi(g){return"guarded"}function ea(g){return["disabled"===g.initialNavigation?Zr(3,[{provide:e.ip1,multi:!0,useFactory:()=>{const D=(0,e.f3M)(wr);return()=>{D.setUpLocationChangeListener()}}},{provide:Zs,useValue:2}]).\u0275providers:[],"enabledBlocking"===g.initialNavigation?Zr(2,[{provide:Zs,useValue:0},{provide:e.ip1,multi:!0,deps:[e.zs3],useFactory:D=>{const _=D.get(Me.V_,Promise.resolve());return()=>_.then(()=>new Promise(O=>{const z=D.get(wr),ae=D.get(Qo);Yi(z,()=>{O(!0)}),D.get(X).afterPreactivation=()=>(O(!0),ae.closed?(0,h.of)(void 0):ae),z.initialNavigation()}))}}]).\u0275providers:[]]}const Oa=new e.OlP("")},7178:(Ze,le,l)=>{"use strict";l.d(le,{Kz:()=>pn,_D:()=>vo,jt:()=>Wn,TH:()=>rt,Vi:()=>Ft,iD:()=>en,FF:()=>li,IJ:()=>Lc,N9:()=>Ra,o8:()=>bc,OC:()=>wc,Iv:()=>Pc,_L:()=>Fc});var e=l(9212),u=(l(1993),l(5592)),N=l(6232),x=l(2096),h=l(8645),y=l(2438),E=l(9080),C=l(3684),V=(l(3019),l(9278)),$=l(5211),q=l(9773),ee=l(2181),ue=l(8180),Ne=l(9397),be=l(7398),De=l(2460),re=l(932),Ae=l(9769),Me=l(4664),Vt=(l(7921),l(3997),l(836),l(6814)),xt=l(95),dt={left:"right",right:"left",bottom:"top",top:"bottom"};function rn(n){return n.replace(/left|right|bottom|top/g,function(b){return dt[b]})}function on(n){return n.split("-")[0]}var cn={start:"end",end:"start"};function Sn(n){return n.replace(/start|end/g,function(b){return cn[b]})}var hn="top",ln="bottom",Kt="right",Xe="left",ht="auto",Ct=[hn,ln,Kt,Xe],Et="start",zt="end",un="viewport",An="popper",U=Ct.reduce(function(n,b){return n.concat([b+"-"+Et,b+"-"+zt])},[]),K=[].concat(Ct,[ht]).reduce(function(n,b){return n.concat([b,b+"-"+Et,b+"-"+zt])},[]),On=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Hn(n){if(null==n)return window;if("[object Window]"!==n.toString()){var b=n.ownerDocument;return b&&b.defaultView||window}return n}function zn(n){return n instanceof Hn(n).Element||n instanceof Element}function sn(n){return n instanceof Hn(n).HTMLElement||n instanceof HTMLElement}function jn(n){return!(typeof ShadowRoot>"u")&&(n instanceof Hn(n).ShadowRoot||n instanceof ShadowRoot)}function Pn(n){return((zn(n)?n.ownerDocument:n.document)||window.document).documentElement}var mi=Math.max,ri=Math.min,ce=Math.round;function Di(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(b){return b.brand+"/"+b.version}).join(" "):navigator.userAgent}function Ii(){return!/^((?!chrome|android).)*safari/i.test(Di())}function Qt(n,b,t){void 0===b&&(b=!1),void 0===t&&(t=!1);var o=n.getBoundingClientRect(),m=1,G=1;b&&sn(n)&&(m=n.offsetWidth>0&&ce(o.width)/n.offsetWidth||1,G=n.offsetHeight>0&&ce(o.height)/n.offsetHeight||1);var nt=(zn(n)?Hn(n):window).visualViewport,pt=!Ii()&&t,Nt=(o.left+(pt&&nt?nt.offsetLeft:0))/m,Ht=(o.top+(pt&&nt?nt.offsetTop:0))/G,En=o.width/m,mn=o.height/G;return{width:En,height:mn,top:Ht,right:Nt+En,bottom:Ht+mn,left:Nt,x:Nt,y:Ht}}function Cr(n){var b=Hn(n);return{scrollLeft:b.pageXOffset,scrollTop:b.pageYOffset}}function Qi(n){return Qt(Pn(n)).left+Cr(n).scrollLeft}function Ut(n){return Hn(n).getComputedStyle(n)}function J(n){return n?(n.nodeName||"").toLowerCase():null}function pe(n){return"html"===J(n)?n:n.assignedSlot||n.parentNode||(jn(n)?n.host:null)||Pn(n)}function et(n){var b=Ut(n);return/auto|scroll|overlay|hidden/.test(b.overflow+b.overflowY+b.overflowX)}function ct(n){return["html","body","#document"].indexOf(J(n))>=0?n.ownerDocument.body:sn(n)&&et(n)?n:ct(pe(n))}function at(n,b){var t;void 0===b&&(b=[]);var o=ct(n),m=o===(null==(t=n.ownerDocument)?void 0:t.body),G=Hn(o),ie=m?[G].concat(G.visualViewport||[],et(o)?o:[]):o,nt=b.concat(ie);return m?nt:nt.concat(at(pe(ie)))}function lt(n){return["table","td","th"].indexOf(J(n))>=0}function Bt(n){return sn(n)&&"fixed"!==Ut(n).position?n.offsetParent:null}function yn(n){for(var b=Hn(n),t=Bt(n);t&&lt(t)&&"static"===Ut(t).position;)t=Bt(t);return t&&("html"===J(t)||"body"===J(t)&&"static"===Ut(t).position)?b:t||function fn(n){var b=/firefox/i.test(Di());if(/Trident/i.test(Di())&&sn(n)&&"fixed"===Ut(n).position)return null;var m=pe(n);for(jn(m)&&(m=m.host);sn(m)&&["html","body"].indexOf(J(m))<0;){var G=Ut(m);if("none"!==G.transform||"none"!==G.perspective||"paint"===G.contain||-1!==["transform","perspective"].indexOf(G.willChange)||b&&"filter"===G.willChange||b&&G.filter&&"none"!==G.filter)return m;m=m.parentNode}return null}(n)||b}function Yt(n,b){var t=b.getRootNode&&b.getRootNode();if(n.contains(b))return!0;if(t&&jn(t)){var o=b;do{if(o&&n.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Ke(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function me(n,b,t){return b===un?Ke(function Xi(n,b){var t=Hn(n),o=Pn(n),m=t.visualViewport,G=o.clientWidth,ie=o.clientHeight,nt=0,pt=0;if(m){G=m.width,ie=m.height;var Nt=Ii();(Nt||!Nt&&"fixed"===b)&&(nt=m.offsetLeft,pt=m.offsetTop)}return{width:G,height:ie,x:nt+Qi(n),y:pt}}(n,t)):zn(b)?function Lt(n,b){var t=Qt(n,!1,"fixed"===b);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(b,t):Ke(function It(n){var b,t=Pn(n),o=Cr(n),m=null==(b=n.ownerDocument)?void 0:b.body,G=mi(t.scrollWidth,t.clientWidth,m?m.scrollWidth:0,m?m.clientWidth:0),ie=mi(t.scrollHeight,t.clientHeight,m?m.scrollHeight:0,m?m.clientHeight:0),nt=-o.scrollLeft+Qi(n),pt=-o.scrollTop;return"rtl"===Ut(m||t).direction&&(nt+=mi(t.clientWidth,m?m.clientWidth:0)-G),{width:G,height:ie,x:nt,y:pt}}(Pn(n)))}function kt(n){return n.split("-")[1]}function Xt(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Rn(n){var pt,b=n.reference,t=n.element,o=n.placement,m=o?on(o):null,G=o?kt(o):null,ie=b.x+b.width/2-t.width/2,nt=b.y+b.height/2-t.height/2;switch(m){case hn:pt={x:ie,y:b.y-t.height};break;case ln:pt={x:ie,y:b.y+b.height};break;case Kt:pt={x:b.x+b.width,y:nt};break;case Xe:pt={x:b.x-t.width,y:nt};break;default:pt={x:b.x,y:b.y}}var Nt=m?Xt(m):null;if(null!=Nt){var Ht="y"===Nt?"height":"width";switch(G){case Et:pt[Nt]=pt[Nt]-(b[Ht]/2-t[Ht]/2);break;case zt:pt[Nt]=pt[Nt]+(b[Ht]/2-t[Ht]/2)}}return pt}function Si(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function er(n,b){return b.reduce(function(t,o){return t[o]=n,t},{})}function ir(n,b){void 0===b&&(b={});var o=b.placement,m=void 0===o?n.placement:o,G=b.strategy,ie=void 0===G?n.strategy:G,nt=b.boundary,pt=void 0===nt?"clippingParents":nt,Nt=b.rootBoundary,Ht=void 0===Nt?un:Nt,En=b.elementContext,mn=void 0===En?An:En,Tn=b.altBoundary,gi=void 0!==Tn&&Tn,qn=b.padding,_i=void 0===qn?0:qn,Ri=Si("number"!=typeof _i?_i:er(_i,Ct)),mr=n.rects.popper,Ei=n.elements[gi?mn===An?"reference":An:mn],ki=function gt(n,b,t,o){var m="clippingParents"===b?function Ye(n){var b=at(pe(n)),o=["absolute","fixed"].indexOf(Ut(n).position)>=0&&sn(n)?yn(n):n;return zn(o)?b.filter(function(m){return zn(m)&&Yt(m,o)&&"body"!==J(m)}):[]}(n):[].concat(b),G=[].concat(m,[t]),nt=G.reduce(function(pt,Nt){var Ht=me(n,Nt,o);return pt.top=mi(Ht.top,pt.top),pt.right=ri(Ht.right,pt.right),pt.bottom=ri(Ht.bottom,pt.bottom),pt.left=mi(Ht.left,pt.left),pt},me(n,G[0],o));return nt.width=nt.right-nt.left,nt.height=nt.bottom-nt.top,nt.x=nt.left,nt.y=nt.top,nt}(zn(Ei)?Ei:Ei.contextElement||Pn(n.elements.popper),pt,Ht,ie),ji=Qt(n.elements.reference),_r=Rn({reference:ji,element:mr,strategy:"absolute",placement:m}),or=Ke(Object.assign({},mr,_r)),cs=mn===An?or:ji,qr={top:ki.top-cs.top+Ri.top,bottom:cs.bottom-ki.bottom+Ri.bottom,left:ki.left-cs.left+Ri.left,right:cs.right-ki.right+Ri.right},Ts=n.modifiersData.offset;if(mn===An&&Ts){var Ho=Ts[m];Object.keys(qr).forEach(function(ks){var ja=[Kt,ln].indexOf(ks)>=0?1:-1,Va=[hn,ln].indexOf(ks)>=0?"y":"x";qr[ks]+=Ho[Va]*ja})}return qr}const Tr={name:"flip",enabled:!0,phase:"main",fn:function ar(n){var b=n.state,t=n.options,o=n.name;if(!b.modifiersData[o]._skip){for(var m=t.mainAxis,G=void 0===m||m,ie=t.altAxis,nt=void 0===ie||ie,pt=t.fallbackPlacements,Nt=t.padding,Ht=t.boundary,En=t.rootBoundary,mn=t.altBoundary,Tn=t.flipVariations,gi=void 0===Tn||Tn,qn=t.allowedAutoPlacements,_i=b.options.placement,Ri=on(_i),mr=pt||(Ri!==_i&&gi?function Pi(n){if(on(n)===ht)return[];var b=rn(n);return[Sn(n),b,Sn(b)]}(_i):[rn(_i)]),Ei=[_i].concat(mr).reduce(function(sl,Ia){return sl.concat(on(Ia)===ht?function Ji(n,b){void 0===b&&(b={});var m=b.boundary,G=b.rootBoundary,ie=b.padding,nt=b.flipVariations,pt=b.allowedAutoPlacements,Nt=void 0===pt?K:pt,Ht=kt(b.placement),En=Ht?nt?U:U.filter(function(gi){return kt(gi)===Ht}):Ct,mn=En.filter(function(gi){return Nt.indexOf(gi)>=0});0===mn.length&&(mn=En);var Tn=mn.reduce(function(gi,qn){return gi[qn]=ir(n,{placement:qn,boundary:m,rootBoundary:G,padding:ie})[on(qn)],gi},{});return Object.keys(Tn).sort(function(gi,qn){return Tn[gi]-Tn[qn]})}(b,{placement:Ia,boundary:Ht,rootBoundary:En,padding:Nt,flipVariations:gi,allowedAutoPlacements:qn}):Ia)},[]),ki=b.rects.reference,ji=b.rects.popper,_r=new Map,or=!0,cs=Ei[0],qr=0;qr<Ei.length;qr++){var Ts=Ei[qr],Ho=on(Ts),ks=kt(Ts)===Et,ja=[hn,ln].indexOf(Ho)>=0,Va=ja?"width":"height",oo=ir(b,{placement:Ts,boundary:Ht,rootBoundary:En,altBoundary:mn,padding:Nt}),jo=ja?ks?Kt:Xe:ks?ln:hn;ki[Va]>ji[Va]&&(jo=rn(jo));var Ll=rn(jo),za=[];if(G&&za.push(oo[Ho]<=0),nt&&za.push(oo[jo]<=0,oo[Ll]<=0),za.every(function(sl){return sl})){cs=Ts,or=!1;break}_r.set(Ts,za)}if(or)for(var Kl=function(Ia){var vl=Ei.find(function(Hl){var Ga=_r.get(Hl);if(Ga)return Ga.slice(0,Ia).every(function(Wl){return Wl})});if(vl)return cs=vl,"break"},_l=gi?3:1;_l>0&&"break"!==Kl(_l);_l--);b.placement!==cs&&(b.modifiersData[o]._skip=!0,b.placement=cs,b.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ai(n,b,t){return mi(n,ri(b,t))}function tr(n){var b=Qt(n),t=n.offsetWidth,o=n.offsetHeight;return Math.abs(b.width-t)<=1&&(t=b.width),Math.abs(b.height-o)<=1&&(o=b.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:o}}const zr={name:"preventOverflow",enabled:!0,phase:"main",fn:function Qr(n){var b=n.state,t=n.options,o=n.name,m=t.mainAxis,G=void 0===m||m,ie=t.altAxis,nt=void 0!==ie&&ie,mn=t.tether,Tn=void 0===mn||mn,gi=t.tetherOffset,qn=void 0===gi?0:gi,_i=ir(b,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),Ri=on(b.placement),wi=kt(b.placement),mr=!wi,Ei=Xt(Ri),ki=function rr(n){return"x"===n?"y":"x"}(Ei),ji=b.modifiersData.popperOffsets,_r=b.rects.reference,or=b.rects.popper,cs="function"==typeof qn?qn(Object.assign({},b.rects,{placement:b.placement})):qn,qr="number"==typeof cs?{mainAxis:cs,altAxis:cs}:Object.assign({mainAxis:0,altAxis:0},cs),Ts=b.modifiersData.offset?b.modifiersData.offset[b.placement]:null,Ho={x:0,y:0};if(ji){if(G){var ks,ja="y"===Ei?hn:Xe,Va="y"===Ei?ln:Kt,oo="y"===Ei?"height":"width",jo=ji[Ei],Ll=jo+_i[ja],za=jo-_i[Va],Bl=Tn?-or[oo]/2:0,Kl=wi===Et?_r[oo]:or[oo],_l=wi===Et?-or[oo]:-_r[oo],Ul=b.elements.arrow,sl=Tn&&Ul?tr(Ul):{width:0,height:0},Ia=b.modifiersData["arrow#persistent"]?b.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},vl=Ia[ja],Hl=Ia[Va],Ga=Ai(0,_r[oo],sl[oo]),Wl=mr?_r[oo]/2-Bl-Ga-vl-qr.mainAxis:Kl-Ga-vl-qr.mainAxis,Bc=mr?-_r[oo]/2+Bl+Ga+Hl+qr.mainAxis:_l+Ga+Hl+qr.mainAxis,$l=b.elements.arrow&&yn(b.elements.arrow),Uc=$l?"y"===Ei?$l.clientTop||0:$l.clientLeft||0:0,oc=null!=(ks=Ts?.[Ei])?ks:0,jc=jo+Bc-oc,ac=Ai(Tn?ri(Ll,jo+Wl-oc-Uc):Ll,jo,Tn?mi(za,jc):za);ji[Ei]=ac,Ho[Ei]=ac-jo}if(nt){var lc,Ka=ji[ki],jl="y"===ki?"height":"width",cc=Ka+_i["x"===Ei?hn:Xe],uc=Ka-_i["x"===Ei?ln:Kt],Yl=-1!==[hn,Xe].indexOf(Ri),dc=null!=(lc=Ts?.[ki])?lc:0,hc=Yl?cc:Ka-_r[jl]-or[jl]-dc+qr.altAxis,fc=Yl?Ka+_r[jl]+or[jl]-dc-qr.altAxis:uc,pc=Tn&&Yl?function oi(n,b,t){var o=Ai(n,b,t);return o>t?t:o}(hc,Ka,fc):Ai(Tn?hc:cc,Ka,Tn?fc:uc);ji[ki]=pc,Ho[ki]=pc-Ka}b.modifiersData[o]=Ho}},requiresIfExists:["offset"]},ve={name:"arrow",enabled:!0,phase:"main",fn:function Wr(n){var b,t=n.state,o=n.name,m=n.options,G=t.elements.arrow,ie=t.modifiersData.popperOffsets,nt=on(t.placement),pt=Xt(nt),Ht=[Xe,Kt].indexOf(nt)>=0?"height":"width";if(G&&ie){var En=function(b,t){return Si("number"!=typeof(b="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b)?b:er(b,Ct))}(m.padding,t),mn=tr(G),Tn="y"===pt?hn:Xe,gi="y"===pt?ln:Kt,qn=t.rects.reference[Ht]+t.rects.reference[pt]-ie[pt]-t.rects.popper[Ht],_i=ie[pt]-t.rects.reference[pt],Ri=yn(G),wi=Ri?"y"===pt?Ri.clientHeight||0:Ri.clientWidth||0:0,ji=wi/2-mn[Ht]/2+(qn/2-_i/2),_r=Ai(En[Tn],ji,wi-mn[Ht]-En[gi]);t.modifiersData[o]=((b={})[pt]=_r,b.centerOffset=_r-ji,b)}},effect:function Xr(n){var b=n.state,o=n.options.element,m=void 0===o?"[data-popper-arrow]":o;null!=m&&("string"==typeof m&&!(m=b.elements.popper.querySelector(m))||Yt(b.elements.popper,m)&&(b.elements.arrow=m))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function i(n,b,t){void 0===t&&(t=!1);var o=sn(b),m=sn(b)&&function wt(n){var b=n.getBoundingClientRect(),t=ce(b.width)/n.offsetWidth||1,o=ce(b.height)/n.offsetHeight||1;return 1!==t||1!==o}(b),G=Pn(b),ie=Qt(n,m,t),nt={scrollLeft:0,scrollTop:0},pt={x:0,y:0};return(o||!o&&!t)&&(("body"!==J(b)||et(G))&&(nt=function Ge(n){return n!==Hn(n)&&sn(n)?function Je(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):Cr(n)}(b)),sn(b)?((pt=Qt(b,!0)).x+=b.clientLeft,pt.y+=b.clientTop):G&&(pt.x=Qi(G))),{x:ie.left+nt.scrollLeft-pt.x,y:ie.top+nt.scrollTop-pt.y,width:ie.width,height:ie.height}}function r(n){var b=new Map,t=new Set,o=[];function m(G){t.add(G.name),[].concat(G.requires||[],G.requiresIfExists||[]).forEach(function(nt){if(!t.has(nt)){var pt=b.get(nt);pt&&m(pt)}}),o.push(G)}return n.forEach(function(G){b.set(G.name,G)}),n.forEach(function(G){t.has(G.name)||m(G)}),o}function f(n){var b;return function(){return b||(b=new Promise(function(t){Promise.resolve().then(function(){b=void 0,t(n())})})),b}}var k={placement:"bottom",modifiers:[],strategy:"absolute"};function te(){for(var n=arguments.length,b=new Array(n),t=0;t<n;t++)b[t]=arguments[t];return!b.some(function(o){return!(o&&"function"==typeof o.getBoundingClientRect)})}function _e(n){void 0===n&&(n={});var t=n.defaultModifiers,o=void 0===t?[]:t,m=n.defaultOptions,G=void 0===m?k:m;return function(nt,pt,Nt){void 0===Nt&&(Nt=G);var Ht={placement:"bottom",orderedModifiers:[],options:Object.assign({},k,G),modifiersData:{},elements:{reference:nt,popper:pt},attributes:{},styles:{}},En=[],mn=!1,Tn={state:Ht,setOptions:function(Ri){var wi="function"==typeof Ri?Ri(Ht.options):Ri;qn(),Ht.options=Object.assign({},G,Ht.options,wi),Ht.scrollParents={reference:zn(nt)?at(nt):nt.contextElement?at(nt.contextElement):[],popper:at(pt)};var mr=function a(n){var b=r(n);return On.reduce(function(t,o){return t.concat(b.filter(function(m){return m.phase===o}))},[])}(function T(n){var b=n.reduce(function(t,o){var m=t[o.name];return t[o.name]=m?Object.assign({},m,o,{options:Object.assign({},m.options,o.options),data:Object.assign({},m.data,o.data)}):o,t},{});return Object.keys(b).map(function(t){return b[t]})}([].concat(o,Ht.options.modifiers)));return Ht.orderedModifiers=mr.filter(function(Ei){return Ei.enabled}),function gi(){Ht.orderedModifiers.forEach(function(_i){var wi=_i.options,Ei=_i.effect;if("function"==typeof Ei){var ki=Ei({state:Ht,name:_i.name,instance:Tn,options:void 0===wi?{}:wi});En.push(ki||function(){})}})}(),Tn.update()},forceUpdate:function(){if(!mn){var Ri=Ht.elements,wi=Ri.reference,mr=Ri.popper;if(te(wi,mr)){Ht.rects={reference:i(wi,yn(mr),"fixed"===Ht.options.strategy),popper:tr(mr)},Ht.reset=!1,Ht.placement=Ht.options.placement,Ht.orderedModifiers.forEach(function(qr){return Ht.modifiersData[qr.name]=Object.assign({},qr.data)});for(var Ei=0;Ei<Ht.orderedModifiers.length;Ei++)if(!0!==Ht.reset){var ki=Ht.orderedModifiers[Ei],ji=ki.fn,_r=ki.options;"function"==typeof ji&&(Ht=ji({state:Ht,options:void 0===_r?{}:_r,name:ki.name,instance:Tn})||Ht)}else Ht.reset=!1,Ei=-1}}},update:f(function(){return new Promise(function(_i){Tn.forceUpdate(),_i(Ht)})}),destroy:function(){qn(),mn=!0}};if(!te(nt,pt))return Tn;function qn(){En.forEach(function(_i){return _i()}),En=[]}return Tn.setOptions(Nt).then(function(_i){!mn&&Nt.onFirstUpdate&&Nt.onFirstUpdate(_i)}),Tn}}var we={passive:!0},ot={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ft(n){var b,t=n.popper,o=n.popperRect,m=n.placement,G=n.variation,ie=n.offsets,nt=n.position,pt=n.gpuAcceleration,Nt=n.adaptive,Ht=n.roundOffsets,En=n.isFixed,mn=ie.x,Tn=void 0===mn?0:mn,gi=ie.y,qn=void 0===gi?0:gi,_i="function"==typeof Ht?Ht({x:Tn,y:qn}):{x:Tn,y:qn};Tn=_i.x,qn=_i.y;var Ri=ie.hasOwnProperty("x"),wi=ie.hasOwnProperty("y"),mr=Xe,Ei=hn,ki=window;if(Nt){var ji=yn(t),_r="clientHeight",or="clientWidth";ji===Hn(t)&&"static"!==Ut(ji=Pn(t)).position&&"absolute"===nt&&(_r="scrollHeight",or="scrollWidth"),(m===hn||(m===Xe||m===Kt)&&G===zt)&&(Ei=ln,qn-=(En&&ji===ki&&ki.visualViewport?ki.visualViewport.height:ji[_r])-o.height,qn*=pt?1:-1),m!==Xe&&(m!==hn&&m!==ln||G!==zt)||(mr=Kt,Tn-=(En&&ji===ki&&ki.visualViewport?ki.visualViewport.width:ji[or])-o.width,Tn*=pt?1:-1)}var ks,Ts=Object.assign({position:nt},Nt&&ot),Ho=!0===Ht?function ut(n,b){var o=n.y,m=b.devicePixelRatio||1;return{x:ce(n.x*m)/m||0,y:ce(o*m)/m||0}}({x:Tn,y:qn},Hn(t)):{x:Tn,y:qn};return Tn=Ho.x,qn=Ho.y,Object.assign({},Ts,pt?((ks={})[Ei]=wi?"0":"",ks[mr]=Ri?"0":"",ks.transform=(ki.devicePixelRatio||1)<=1?"translate("+Tn+"px, "+qn+"px)":"translate3d("+Tn+"px, "+qn+"px, 0)",ks):((b={})[Ei]=wi?qn+"px":"",b[mr]=Ri?Tn+"px":"",b.transform="",b))}var ze=_e({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Ce(n){var b=n.state,t=n.instance,o=n.options,m=o.scroll,G=void 0===m||m,ie=o.resize,nt=void 0===ie||ie,pt=Hn(b.elements.popper),Nt=[].concat(b.scrollParents.reference,b.scrollParents.popper);return G&&Nt.forEach(function(Ht){Ht.addEventListener("scroll",t.update,we)}),nt&&pt.addEventListener("resize",t.update,we),function(){G&&Nt.forEach(function(Ht){Ht.removeEventListener("scroll",t.update,we)}),nt&&pt.removeEventListener("resize",t.update,we)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function xe(n){var b=n.state;b.modifiersData[n.name]=Rn({reference:b.rects.reference,element:b.rects.popper,strategy:"absolute",placement:b.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function oe(n){var b=n.state,t=n.options,o=t.gpuAcceleration,m=void 0===o||o,G=t.adaptive,ie=void 0===G||G,nt=t.roundOffsets,pt=void 0===nt||nt,Nt={placement:on(b.placement),variation:kt(b.placement),popper:b.elements.popper,popperRect:b.rects.popper,gpuAcceleration:m,isFixed:"fixed"===b.options.strategy};null!=b.modifiersData.popperOffsets&&(b.styles.popper=Object.assign({},b.styles.popper,ft(Object.assign({},Nt,{offsets:b.modifiersData.popperOffsets,position:b.options.strategy,adaptive:ie,roundOffsets:pt})))),null!=b.modifiersData.arrow&&(b.styles.arrow=Object.assign({},b.styles.arrow,ft(Object.assign({},Nt,{offsets:b.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:pt})))),b.attributes.popper=Object.assign({},b.attributes.popper,{"data-popper-placement":b.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function Le(n){var b=n.state;Object.keys(b.elements).forEach(function(t){var o=b.styles[t]||{},m=b.attributes[t]||{},G=b.elements[t];!sn(G)||!J(G)||(Object.assign(G.style,o),Object.keys(m).forEach(function(ie){var nt=m[ie];!1===nt?G.removeAttribute(ie):G.setAttribute(ie,!0===nt?"":nt)}))})},effect:function je(n){var b=n.state,t={popper:{position:b.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(b.elements.popper.style,t.popper),b.styles=t,b.elements.arrow&&Object.assign(b.elements.arrow.style,t.arrow),function(){Object.keys(b.elements).forEach(function(o){var m=b.elements[o],G=b.attributes[o]||{},nt=Object.keys(b.styles.hasOwnProperty(o)?b.styles[o]:t[o]).reduce(function(pt,Nt){return pt[Nt]="",pt},{});!sn(m)||!J(m)||(Object.assign(m.style,nt),Object.keys(G).forEach(function(pt){m.removeAttribute(pt)}))})}},requires:["computeStyles"]}]});const _t={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Rt(n){var b=n.state,o=n.name,m=n.options.offset,G=void 0===m?[0,0]:m,ie=K.reduce(function(Ht,En){return Ht[En]=function Be(n,b,t){var o=on(n),m=[Xe,hn].indexOf(o)>=0?-1:1,G="function"==typeof t?t(Object.assign({},b,{placement:n})):t,ie=G[0],nt=G[1];return ie=ie||0,nt=(nt||0)*m,[Xe,Kt].indexOf(o)>=0?{x:nt,y:ie}:{x:ie,y:nt}}(En,b.rects,G),Ht},{}),nt=ie[b.placement],Nt=nt.y;null!=b.modifiersData.popperOffsets&&(b.modifiersData.popperOffsets.x+=nt.x,b.modifiersData.popperOffsets.y+=Nt),b.modifiersData[o]=ie}},Mn=["*"],_s=["dialog"];function Vo(n,b){1&n&&(e.TgZ(0,"span",9),e.SDv(1,10),e.qZA())}function Co(n,b){1&n&&(e.TgZ(0,"span",9),e.SDv(1,11),e.qZA())}function zo(n,b){1&n&&(e.TgZ(0,"span",9),e.SDv(1,12),e.qZA())}function lo(n,b){1&n&&(e.TgZ(0,"span",9),e.SDv(1,13),e.qZA())}function vs(n,b){1&n&&e._uU(0,"...")}function Rr(n,b){1&n&&e._uU(0),2&n&&e.Oqu(b.$implicit)}function To(n,b){}const Jr=n=>({disabled:!0,currentPage:n});function Ls(n,b){if(1&n&&(e.TgZ(0,"a",16),e.YNc(1,To,0,0,"ng-template",8),e.qZA()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(),m=e.MAs(9);e.xp6(),e.Q6J("ngTemplateOutlet",(null==o.tplEllipsis?null:o.tplEllipsis.templateRef)||m)("ngTemplateOutletContext",e.VKq(2,Jr,t))}}function Bs(n,b){}const dr=(n,b,t)=>({disabled:n,$implicit:b,currentPage:t});function ts(n,b){if(1&n){const t=e.EpF();e.TgZ(0,"a",17),e.NdJ("click",function(m){e.CHM(t);const G=e.oxw().$implicit;return e.oxw(2).selectPage(G),e.KtG(m.preventDefault())}),e.YNc(1,Bs,0,0,"ng-template",8),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(),m=o.disabled,G=o.$implicit,ie=e.oxw(),nt=e.MAs(11);e.uIk("tabindex",m?"-1":null)("aria-disabled",m?"true":null),e.xp6(),e.Q6J("ngTemplateOutlet",(null==ie.tplNumber?null:ie.tplNumber.templateRef)||nt)("ngTemplateOutletContext",e.kEZ(4,dr,m,t,G))}}function sr(n,b){if(1&n&&(e.TgZ(0,"li",14),e.YNc(1,Ls,2,4,"a",15)(2,ts,2,8),e.qZA()),2&n){const t=b.$implicit,o=e.oxw(),m=o.$implicit,G=o.disabled,ie=e.oxw();e.ekj("active",t===m)("disabled",ie.isEllipsis(t)||G),e.uIk("aria-current",t===m?"page":null),e.xp6(),e.um2(1,ie.isEllipsis(t)?1:2)}}function Mi(n,b){1&n&&e.SjG(0,sr,3,6,"li",18,e.x6l),2&n&&e.wJu(b.pages)}function Us(n,b){}const us=(n,b)=>({disabled:n,currentPage:b});function ys(n,b){if(1&n){const t=e.EpF();e.TgZ(0,"li",14)(1,"a",19),e.NdJ("click",function(m){return e.CHM(t),e.oxw().selectPage(1),e.KtG(m.preventDefault())}),e.YNc(2,Us,0,0,"ng-template",8),e.qZA()()}if(2&n){const t=e.oxw(),o=e.MAs(1);e.ekj("disabled",t.previousDisabled()),e.xp6(),e.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),e.xp6(),e.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||o)("ngTemplateOutletContext",e.WLB(6,us,t.previousDisabled(),t.page))}}function co(n,b){}const uo=n=>({disabled:n});function ns(n,b){if(1&n){const t=e.EpF();e.TgZ(0,"li",14)(1,"a",20),e.NdJ("click",function(m){e.CHM(t);const G=e.oxw();return G.selectPage(G.page-1),e.KtG(m.preventDefault())}),e.YNc(2,co,0,0,"ng-template",8),e.qZA()()}if(2&n){const t=e.oxw(),o=e.MAs(3);e.ekj("disabled",t.previousDisabled()),e.xp6(),e.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),e.xp6(),e.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||o)("ngTemplateOutletContext",e.VKq(6,uo,t.previousDisabled()))}}function ds(n,b){}function hs(n,b){}function ho(n,b){if(1&n){const t=e.EpF();e.TgZ(0,"li",14)(1,"a",21),e.NdJ("click",function(m){e.CHM(t);const G=e.oxw();return G.selectPage(G.page+1),e.KtG(m.preventDefault())}),e.YNc(2,hs,0,0,"ng-template",8),e.qZA()()}if(2&n){const t=e.oxw(),o=e.MAs(5);e.ekj("disabled",t.nextDisabled()),e.xp6(),e.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),e.xp6(),e.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||o)("ngTemplateOutletContext",e.WLB(6,us,t.nextDisabled(),t.page))}}function fo(n,b){}function hr(n,b){if(1&n){const t=e.EpF();e.TgZ(0,"li",14)(1,"a",22),e.NdJ("click",function(m){e.CHM(t);const G=e.oxw();return G.selectPage(G.pageCount),e.KtG(m.preventDefault())}),e.YNc(2,fo,0,0,"ng-template",8),e.qZA()()}if(2&n){const t=e.oxw(),o=e.MAs(7);e.ekj("disabled",t.nextDisabled()),e.xp6(),e.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),e.xp6(),e.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||o)("ngTemplateOutletContext",e.WLB(6,us,t.nextDisabled(),t.page))}}const Hr=(n,b,t)=>({$implicit:n,pages:b,disabled:t});function po(n,b){if(1&n&&e._uU(0),2&n){const t=e.oxw(2);e.Oqu(t.title)}}function Hs(n,b){}function H(n,b){if(1&n&&(e.TgZ(0,"h3",3),e.YNc(1,po,1,1,"ng-template",null,4,e.W1O)(3,Hs,0,0,"ng-template",5),e.qZA()),2&n){const t=e.MAs(2),o=e.oxw();e.xp6(3),e.Q6J("ngTemplateOutlet",o.isTitleTemplate()?o.title:t)("ngTemplateOutletContext",o.context)}}function P(n,b){1&n&&e._uU(0),2&n&&e.Oqu(100===b.fill?"\u2605":"\u2606")}function se(n,b){}function $e(n,b){if(1&n){const t=e.EpF();e.TgZ(0,"span",1),e._uU(1),e.qZA(),e.TgZ(2,"span",2),e.NdJ("mouseenter",function(){const G=e.CHM(t).$index,ie=e.oxw();return e.KtG(ie.enter(G+1))})("click",function(){const G=e.CHM(t).$index,ie=e.oxw();return e.KtG(ie.handleClick(G+1))}),e.YNc(3,se,0,0,"ng-template",3),e.qZA()}if(2&n){const t=b.$index,o=e.oxw(),m=e.MAs(1);e.xp6(),e.hij("(",t<o.nextRate?"*":" ",")"),e.xp6(),e.Udp("cursor",o.isInteractive()?"pointer":"default"),e.xp6(),e.Q6J("ngTemplateOutlet",o.starTemplate||o.starTemplateFromContent||m)("ngTemplateOutletContext",o.contexts[t])}}function js(n,b){if(1&n&&(e.TgZ(0,"strong",3),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(),e.Oqu(t.header)}}function no(n,b){}function Ms(n,b){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,no,0,0,"ng-template",5),e.TgZ(2,"button",6),e.NdJ("click",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.hide())}),e.qZA()()}if(2&n){const t=e.oxw(),o=e.MAs(1);e.xp6(),e.Q6J("ngTemplateOutlet",t.contentHeaderTpl||o)}}const Os={animation:!0,transitionTimerDelayMs:5};let is=(()=>{class n{constructor(){this.animation=Os.animation}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vs(n,b,t=0){return Math.max(Math.min(n,b),t)}function ps(n){return"string"==typeof n}function Fi(n){return!isNaN(function Nr(n){return parseInt(`${n}`,10)}(n))}function ss(n){return null!=n}function Ps(n){return(n||document.body).getBoundingClientRect()}function la(n=document){const b=n?.activeElement;return b?b.shadowRoot?la(b.shadowRoot):b:null}const Po=()=>{},{transitionTimerDelayMs:ca}=Os,xs=new Map,kr=(n,b,t,o)=>{let m=o.context||{};const G=xs.get(b);if(G)switch(o.runningTransition){case"continue":return N.E;case"stop":n.run(()=>G.transition$.complete()),m=Object.assign(G.context,m),xs.delete(b)}const ie=t(b,o.animation,m)||Po;if(!o.animation||"none"===window.getComputedStyle(b).transitionProperty)return n.run(()=>ie()),(0,x.of)(void 0).pipe(function Ko(n){return b=>new u.y(t=>b.subscribe({next:ie=>n.run(()=>t.next(ie)),error:ie=>n.run(()=>t.error(ie)),complete:()=>n.run(()=>t.complete())}))}(n));const nt=new h.x,pt=new h.x,Nt=nt.pipe(function j(...n){return b=>(0,$.z)(b,(0,x.of)(...n))}(!0));xs.set(b,{transition$:nt,complete:()=>{pt.next(),pt.complete()},context:m});const Ht=function Wa(n){const{transitionDelay:b,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(b)+parseFloat(t))}(b);return n.runOutsideAngular(()=>{const En=(0,y.R)(b,"transitionend").pipe((0,q.R)(Nt),(0,ee.h)(({target:Tn})=>Tn===b)),mn=(0,E.H)(Ht+ca).pipe((0,q.R)(Nt));(0,C.S)(mn,En,pt).pipe((0,q.R)(Nt)).subscribe(()=>{xs.delete(b),n.run(()=>{ie(),nt.next(),nt.complete()})})}),nt.asObservable()},_o=(n,b,t)=>{let{direction:o,maxSize:m,dimension:G}=t;const{classList:ie}=n;function nt(){ie.add("collapse"),"show"===o?ie.add("show"):ie.remove("show")}if(b)return m||(m=function Rs(n,b){if(typeof navigator>"u")return"0px";const{classList:t}=n,o=t.contains("show");o||t.add("show"),n.style[b]="";const m=n.getBoundingClientRect()[b]+"px";return o||t.remove("show"),m}(n,G),t.maxSize=m,n.style[G]="show"!==o?m:"0px",ie.remove("collapse"),ie.remove("collapsing"),ie.remove("show"),Ps(n),ie.add("collapsing")),n.style[G]="show"===o?m:"0px",()=>{nt(),ie.remove("collapsing"),n.style[G]=""};nt()};let Yo=(()=>{class n{constructor(){this._ngbConfig=(0,e.f3M)(is),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vo=(()=>{class n{constructor(){this._config=(0,e.f3M)(Yo),this._element=(0,e.f3M)(e.SBq),this._zone=(0,e.f3M)(e.R0b),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new e.vpe,this.horizontal=this._config.horizontal,this.shown=new e.vpe,this.hidden=new e.vpe}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,o){return kr(this._zone,this._element.nativeElement,_o,{animation:o,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,o){this._runTransition(t,o).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(o,m){2&o&&e.ekj("collapse-horizontal",m.horizontal)},inputs:{animation:"animation",collapsed:[e.lbL.None,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}return n})(),ke=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),ye=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),Zo=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),Ys=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})();var ni=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(ni||{});const yi=(n,b)=>!!b&&b.some(t=>t.contains(n)),ea=(n,b)=>!b||null!=function aa(n,b){return!b||typeof n.closest>"u"?null:n.closest(b)}(n,b),Oa=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function fa(n,b,t,o,m,G,ie,nt){t&&n.runOutsideAngular((n=>Oa?()=>setTimeout(()=>n(),100):n)(()=>{const Nt=(0,y.R)(b,"keydown").pipe((0,q.R)(m),(0,ee.h)(mn=>mn.which===ni.Escape),(0,Ne.b)(mn=>mn.preventDefault())),Ht=(0,y.R)(b,"mousedown").pipe((0,be.U)(mn=>{const Tn=mn.target;return 2!==mn.button&&!yi(Tn,ie)&&("inside"===t?yi(Tn,G)&&ea(Tn,nt):"outside"===t?!yi(Tn,G):ea(Tn,nt)||!yi(Tn,G))}),(0,q.R)(m)),En=(0,y.R)(b,"mouseup").pipe((0,De.M)(Ht),(0,ee.h)(([mn,Tn])=>Tn),(0,re.g)(0),(0,q.R)(m));(0,C.S)([Nt.pipe((0,be.U)(mn=>0)),En.pipe((0,be.U)(mn=>1))]).subscribe(mn=>n.run(()=>o(mn)))}))}const pa=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Lo(n){const b=Array.from(n.querySelectorAll(pa)).filter(t=>-1!==t.tabIndex);return[b[0],b[b.length-1]]}let Pa=(()=>{class n{constructor(){this._element=(0,e.f3M)(Vt.K0).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ma=/\s+/,g=/  +/gi,D={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},O=/^left/,z=/^right/,ae=/^start/,Oe=/^end/;function bt({placement:n,baseClass:b},t){let o=Array.isArray(n)?n:n.split(ma),G=o.findIndex(Nt=>"auto"===Nt);G>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(Nt){null==o.find(Ht=>-1!==Ht.search("^"+Nt))&&o.splice(G++,1,Nt)});const ie=o.map(Nt=>function _(n,b){const[t,o]=D[n];return b&&o||t}(Nt,t.isRTL()));return{placement:ie.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!b,phase:"write",fn({state:Nt}){const Ht=new RegExp(b+"(-[a-z]+)*","gi"),En=Nt.elements.popper,mn=Nt.placement;let Tn=En.className;Tn=Tn.replace(Ht,""),Tn+=` ${function Mt(n,b){let[t,o]=b.split("-");const m=t.replace(O,"start").replace(z,"end");let G=[m];if(o){let ie=o;("left"===t||"right"===t)&&(ie=ie.replace(ae,"top").replace(Oe,"bottom")),G.push(`${m}-${ie}`)}return n&&(G=G.map(ie=>`${n}-${ie}`)),G.join(" ")}(b,mn)}`,Tn=Tn.trim().replace(g," "),En.className=Tn}},Tr,zr,ve,{enabled:!0,name:"flip",options:{fallbackPlacements:ie}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function bn(n){return n}function Jn(){const n=(0,e.f3M)(Pa);let b=null;return{createPopper(t){if(!b){let m=(t.updatePopperOptions||bn)(bt(t,n));b=ze(t.hostElement,t.targetElement,m)}},update(){b&&b.update()},setOptions(t){if(b){let m=(t.updatePopperOptions||bn)(bt(t,n));b.setOptions(m)}},destroy(){b&&(b.destroy(),b=null)}}}function eo(n){return b=>(b.modifiers.push(_t,{name:"offset",options:{offset:()=>n}}),b)}new Date(1882,10,12),new Date(2174,10,25);let He=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),We=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t,this.container=null}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rt=(()=>{class n{constructor(){this._disabled=!1,this.nativeElement=(0,e.f3M)(e.SBq).nativeElement,this.tabindex=0}set disabled(t){this._disabled=""===t||!0===t}get disabled(){return this._disabled}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(o,m){2&o&&(e.Ikx("tabIndex",m.disabled?-1:m.tabindex),e.ekj("disabled",m.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}return n})(),Ft=(()=>{class n{constructor(){this.dropdown=(0,e.f3M)(Wn),this.nativeElement=(0,e.f3M)(e.SBq).nativeElement}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(o,m,G){if(1&o&&e.Suo(G,rt,4),2&o){let ie;e.iGM(ie=e.CRH())&&(m.menuItems=ie)}},hostVars:4,hostBindings:function(o,m){1&o&&e.NdJ("keydown.ArrowUp",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.ArrowDown",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Home",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.End",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Enter",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Space",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Tab",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Shift.Tab",function(ie){return m.dropdown.onKeyDown(ie)}),2&o&&e.ekj("dropdown-menu",!0)("show",m.dropdown.isOpen())},standalone:!0})}return n})(),Pt=(()=>{class n{constructor(){this.dropdown=(0,e.f3M)(Wn),this.nativeElement=(0,e.f3M)(e.SBq).nativeElement}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(o,m){2&o&&(e.uIk("aria-expanded",m.dropdown.isOpen()),e.ekj("show",m.dropdown.isOpen()))},standalone:!0})}return n})(),en=(()=>{class n extends Pt{static#e=this.\u0275fac=(()=>{let t;return function(m){return(t||(t=e.n5z(n)))(m||n)}})();static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(o,m){1&o&&e.NdJ("click",function(){return m.dropdown.toggle()})("keydown.ArrowUp",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.ArrowDown",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Home",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.End",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Tab",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Shift.Tab",function(ie){return m.dropdown.onKeyDown(ie)}),2&o&&(e.uIk("aria-expanded",m.dropdown.isOpen()),e.ekj("show",m.dropdown.isOpen()))},standalone:!0,features:[e._Bn([{provide:Pt,useExisting:(0,e.Gpc)(()=>n)}]),e.qOj]})}return n})(),Wn=(()=>{class n{constructor(){this._changeDetector=(0,e.f3M)(e.sBO),this._config=(0,e.f3M)(We),this._document=(0,e.f3M)(Vt.K0),this._ngZone=(0,e.f3M)(e.R0b),this._nativeElement=(0,e.f3M)(e.SBq).nativeElement,this._destroyCloseHandlers$=new h.x,this._bodyContainer=null,this._positioning=Jn(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new e.vpe}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe((0,ue.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),t.dropdownClass){const{currentValue:o,previousValue:m}=t.dropdownClass;this._applyCustomDropdownClass(o,m)}t.autoClose&&this._open&&(this.autoClose=t.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:t=>this.popperOptions(eo([0,2])(t))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),fa(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(t){const o=t.which,m=this._getMenuElements();let G=-1,ie=null;const nt=this._isEventFromToggle(t);if(!nt&&m.length&&m.forEach((pt,Nt)=>{pt.contains(t.target)&&(ie=pt),pt===la(this._document)&&(G=Nt)}),o!==ni.Space&&o!==ni.Enter){if(o!==ni.Tab){if(nt||ie){if(this.open(),m.length){switch(o){case ni.ArrowDown:G=Math.min(G+1,m.length-1);break;case ni.ArrowUp:if(this._isDropup()&&-1===G){G=m.length-1;break}G=Math.max(G-1,0);break;case ni.Home:G=0;break;case ni.End:G=m.length-1}m[G].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const pt=this._menu.nativeElement.querySelectorAll(pa);t.shiftKey&&t.target===pt[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===pt[pt.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,y.R)(t.target,"focusout").pipe((0,ue.q)(1)).subscribe(({relatedTarget:pt})=>{this._nativeElement.contains(pt)||this.close()})}}else ie&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,y.R)(ie,"click").pipe((0,ue.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:t})=>!t).map(({nativeElement:t})=>t):[]}_positionMenu(){const t=this._menu;this.isOpen()&&t&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const o=this._menu.nativeElement,m=this._bodyContainer=this._bodyContainer||this._document.createElement("div");m.style.position="absolute",o.style.position="static",m.style.zIndex="1055",m.appendChild(o),this._document.body.appendChild(m)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,o){const m="body"===this.container?this._bodyContainer:this._nativeElement;m&&(o&&m.classList.remove(o),t&&m.classList.add(t))}_applyPlacementClasses(t){if(this._menu){t||(t=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const o=-1!==t.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(o),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(o))}}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(o,m,G){if(1&o&&(e.Suo(G,Ft,5),e.Suo(G,Pt,5)),2&o){let ie;e.iGM(ie=e.CRH())&&(m._menu=ie.first),e.iGM(ie=e.CRH())&&(m._anchor=ie.first)}},hostVars:2,hostBindings:function(o,m){2&o&&e.ekj("show",m.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[e.lbL.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[e.TTD]})}return n})(),tn=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),nn=(()=>{class n{constructor(){this._ngbConfig=(0,e.f3M)(is),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class In{constructor(b,t,o){this.nodes=b,this.viewRef=t,this.componentRef=o}}class Dn{constructor(b){this._componentType=b,this._windowRef=null,this._contentRef=null,this._document=(0,e.f3M)(Vt.K0),this._applicationRef=(0,e.f3M)(e.z2F),this._injector=(0,e.f3M)(e.zs3),this._viewContainerRef=(0,e.f3M)(e.s_b),this._ngZone=(0,e.f3M)(e.R0b)}open(b,t,o=!1){this._windowRef||(this._contentRef=this._getContentRef(b,t),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:m}=this._windowRef.location,G=this._ngZone.onStable.pipe((0,ue.q)(1),(0,Ae.z)(()=>kr(this._ngZone,m,({classList:ie})=>ie.add("show"),{animation:o,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:G}}close(b=!1){return this._windowRef?kr(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:b,runningTransition:"stop"}).pipe((0,Ne.b)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,x.of)(void 0)}_getContentRef(b,t){if(b){if(b instanceof e.Rgc){const o=b.createEmbeddedView(t);return this._applicationRef.attachView(o),new In([o.rootNodes],o)}return new In([[this._document.createTextNode(`${b}`)]])}return new In([])}}let Zt=(()=>{class n{constructor(){this._document=(0,e.f3M)(Vt.K0)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,m=o.style,{overflow:G,paddingRight:ie}=m;if(t>0){const nt=parseFloat(window.getComputedStyle(o).paddingRight);m.paddingRight=`${nt+t}px`}return m.overflow="hidden",()=>{t>0&&(m.paddingRight=ie),m.overflow=G}}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qt=(()=>{class n{constructor(){this._nativeElement=(0,e.f3M)(e.SBq).nativeElement,this._zone=(0,e.f3M)(e.R0b)}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ue.q)(1)).subscribe(()=>{kr(this._zone,this._nativeElement,(t,o)=>{o&&Ps(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return kr(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(o,m){2&o&&(e.Tol("modal-backdrop"+(m.backdropClass?" "+m.backdropClass:"")),e.ekj("show",!m.animation)("fade",m.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(o,m){},encapsulation:2})}return n})();class pn{update(b){}close(b){}dismiss(b){}}const Un=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],ei=["animation","backdropClass"];class Ni{_applyWindowOptions(b,t){Un.forEach(o=>{ss(t[o])&&(b[o]=t[o])})}_applyBackdropOptions(b,t){ei.forEach(o=>{ss(t[o])&&(b[o]=t[o])})}update(b){this._applyWindowOptions(this._windowCmptRef.instance,b),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,b)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,q.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,q.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(b,t,o,m){this._windowCmptRef=b,this._contentRef=t,this._backdropCmptRef=o,this._beforeDismiss=m,this._closed=new h.x,this._dismissed=new h.x,this._hidden=new h.x,b.instance.dismissEvent.subscribe(G=>{this.dismiss(G)}),this.result=new Promise((G,ie)=>{this._resolve=G,this._reject=ie}),this.result.then(null,()=>{})}close(b){this._windowCmptRef&&(this._closed.next(b),this._resolve(b),this._removeModalElements())}_dismiss(b){this._dismissed.next(b),this._reject(b),this._removeModalElements()}dismiss(b){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Oo(n){return n&&n.then}(t)?!1!==t&&this._dismiss(b):t.then(o=>{!1!==o&&this._dismiss(b)},()=>{})}else this._dismiss(b)}_removeModalElements(){const b=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,x.of)(void 0);b.subscribe(()=>{const{nativeElement:o}=this._windowCmptRef.location;o.parentNode.removeChild(o),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:o}=this._backdropCmptRef.location;o.parentNode.removeChild(o),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,V.$)(b,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ti=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(ti||{});let Fn=(()=>{class n{constructor(){this._document=(0,e.f3M)(Vt.K0),this._elRef=(0,e.f3M)(e.SBq),this._zone=(0,e.f3M)(e.R0b),this._closed$=new h.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new h.x,this.hidden=new h.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":ps(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ue.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,o={animation:this.animation,runningTransition:"stop"},m=kr(this._zone,t,()=>t.classList.remove("show"),o),G=kr(this._zone,this._dialogEl.nativeElement,()=>{},o),ie=(0,V.$)(m,G);return ie.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ie}_show(){const t={animation:this.animation,runningTransition:"continue"},o=kr(this._zone,this._elRef.nativeElement,(G,ie)=>{ie&&Ps(G),G.classList.add("show")},t),m=kr(this._zone,this._dialogEl.nativeElement,()=>{},t);(0,V.$)(o,m).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{(0,y.R)(t,"keydown").pipe((0,q.R)(this._closed$),(0,ee.h)(m=>m.which===ni.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(ti.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let o=!1;(0,y.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,q.R)(this._closed$),(0,Ne.b)(()=>o=!1),(0,Me.w)(()=>(0,y.R)(t,"mouseup").pipe((0,q.R)(this._closed$),(0,ue.q)(1))),(0,ee.h)(({target:m})=>t===m)).subscribe(()=>{o=!0}),(0,y.R)(t,"click").pipe((0,q.R)(this._closed$)).subscribe(({target:m})=>{t===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!o&&this._zone.run(()=>this.dismiss(ti.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const o=t.querySelector("[ngbAutofocus]"),m=Lo(t)[0];(o||m||t).focus()}}_restoreFocus(){const t=this._document.body,o=this._elWithFocus;let m;m=o&&o.focus&&t.contains(o)?o:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&kr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(o,m){if(1&o&&e.Gf(_s,7),2&o){let G;e.iGM(G=e.CRH())&&(m._dialogEl=G.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(o,m){2&o&&(e.uIk("aria-modal",!0)("aria-labelledby",m.ariaLabelledBy)("aria-describedby",m.ariaDescribedBy),e.Tol("modal d-block"+(m.windowClass?" "+m.windowClass:"")),e.ekj("fade",m.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.jDz],ngContentSelectors:Mn,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(o,m){1&o&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&o&&e.Tol("modal-dialog"+(m.size?" modal-"+m.size:"")+(m.centered?" modal-dialog-centered":"")+m.fullscreenClass+(m.scrollable?" modal-dialog-scrollable":"")+(m.modalDialogClass?" "+m.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),Yn=(()=>{class n{constructor(){this._applicationRef=(0,e.f3M)(e.z2F),this._injector=(0,e.f3M)(e.zs3),this._environmentInjector=(0,e.f3M)(e.lqb),this._document=(0,e.f3M)(Vt.K0),this._scrollBar=(0,e.f3M)(Zt),this._activeWindowCmptHasChanged=new h.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.vpe;const t=(0,e.f3M)(e.R0b);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const o=this._windowCmpts[this._windowCmpts.length-1];((n,b,t,o=!1)=>{n.runOutsideAngular(()=>{const m=(0,y.R)(b,"focusin").pipe((0,q.R)(t),(0,be.U)(G=>G.target));(0,y.R)(b,"keydown").pipe((0,q.R)(t),(0,ee.h)(G=>G.which===ni.Tab),(0,De.M)(m)).subscribe(([G,ie])=>{const[nt,pt]=Lo(b);(ie===nt||ie===b)&&G.shiftKey&&(pt.focus(),G.preventDefault()),ie===pt&&!G.shiftKey&&(nt.focus(),G.preventDefault())}),o&&(0,y.R)(b,"click").pipe((0,q.R)(t),(0,De.M)(m),(0,be.U)(G=>G[1])).subscribe(G=>G.focus())})})(t,o.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(o.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,o,m){const G=m.container instanceof HTMLElement?m.container:ss(m.container)?this._document.querySelector(m.container):this._document.body;if(!G)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const ie=new pn,nt=(t=m.injector||t).get(e.lqb,null)||this._environmentInjector,pt=this._getContentRef(t,nt,o,ie,m);let Nt=!1!==m.backdrop?this._attachBackdrop(G):void 0,Ht=this._attachWindowComponent(G,pt.nodes),En=new Ni(Ht,pt,Nt,m.beforeDismiss);return this._registerModalRef(En),this._registerWindowCmpt(Ht),En.hidden.pipe((0,ue.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),ie.close=mn=>{En.close(mn)},ie.dismiss=mn=>{En.dismiss(mn)},ie.update=mn=>{En.update(mn)},En.update(m),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),Nt&&Nt.instance&&Nt.changeDetectorRef.detectChanges(),Ht.changeDetectorRef.detectChanges(),En}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(o=>o.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let o=(0,e.LMc)(qt,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(o.hostView),t.appendChild(o.location.nativeElement),o}_attachWindowComponent(t,o){let m=(0,e.LMc)(Fn,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:o});return this._applicationRef.attachView(m.hostView),t.appendChild(m.location.nativeElement),m}_getContentRef(t,o,m,G,ie){return m?m instanceof e.Rgc?this._createFromTemplateRef(m,G):ps(m)?this._createFromString(m):this._createFromComponent(t,o,m,G,ie):new In([])}_createFromTemplateRef(t,o){const G=t.createEmbeddedView({$implicit:o,close(ie){o.close(ie)},dismiss(ie){o.dismiss(ie)}});return this._applicationRef.attachView(G),new In([G.rootNodes],G)}_createFromString(t){const o=this._document.createTextNode(`${t}`);return new In([[o]])}_createFromComponent(t,o,m,G,ie){const nt=e.zs3.create({providers:[{provide:pn,useValue:G}],parent:t}),pt=(0,e.LMc)(m,{environmentInjector:o,elementInjector:nt}),Nt=pt.location.nativeElement;return ie.scrollable&&Nt.classList.add("component-host-scrollable"),this._applicationRef.attachView(pt.hostView),new In([[Nt]],pt.hostView,pt)}_setAriaHidden(t){const o=t.parentElement;o&&t!==this._document.body&&(Array.from(o.children).forEach(m=>{m!==t&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,o)=>{t?o.setAttribute("aria-hidden",t):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const o=()=>{const m=this._modalRefs.indexOf(t);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(o,o)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const o=this._windowCmpts.indexOf(t);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),li=(()=>{class n{constructor(){this._injector=(0,e.f3M)(e.zs3),this._modalStack=(0,e.f3M)(Yn),this._config=(0,e.f3M)(nn)}open(t,o={}){const m={...this._config,animation:this._config.animation,...o};return this._modalStack.open(this._injector,t,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),At=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({providers:[li]})}return n})(),xa=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),Fl=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gl=(()=>{class n{constructor(){this.templateRef=(0,e.f3M)(e.Rgc)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0})}return n})(),oa=(()=>{class n{constructor(){this.templateRef=(0,e.f3M)(e.Rgc)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0})}return n})(),ml=(()=>{class n{constructor(){this.templateRef=(0,e.f3M)(e.Rgc)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0})}return n})(),Nl=(()=>{class n{constructor(){this.templateRef=(0,e.f3M)(e.Rgc)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0})}return n})(),kl=(()=>{class n{constructor(){this.templateRef=(0,e.f3M)(e.Rgc)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0})}return n})(),ai=(()=>{class n{constructor(){this.templateRef=(0,e.f3M)(e.Rgc)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0})}return n})(),Lr=(()=>{class n{constructor(){this.templateRef=(0,e.f3M)(e.Rgc)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0})}return n})(),Ra=(()=>{class n{constructor(){this._config=(0,e.f3M)(Fl),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new e.vpe(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,o){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),o<this.pageCount&&(o<this.pageCount-2?this.pages.push(-1):o===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,o=this.pageCount,m=Math.floor(this.maxSize/2);return this.page<=m?o=this.maxSize:this.pageCount-this.page<m?t=this.pageCount-this.maxSize:(t=this.page-m-1,o=this.page+(this.maxSize%2==0?m-1:m)),[t,o]}_applyPagination(){let o=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[o,o+this.maxSize]}_setPageInRange(t){const o=this.page;this.page=Vs(t,this.pageCount,1),this.page!==o&&Fi(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Fi(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let o=1;o<=this.pageCount;o++)this.pages.push(o);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let o=0,m=this.pageCount;[o,m]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(o,m),this._applyEllipses(o,m)}}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(o,m,G){if(1&o&&(e.Suo(G,gl,5),e.Suo(G,oa,5),e.Suo(G,ml,5),e.Suo(G,Nl,5),e.Suo(G,kl,5),e.Suo(G,ai,5),e.Suo(G,Lr,5)),2&o){let ie;e.iGM(ie=e.CRH())&&(m.tplEllipsis=ie.first),e.iGM(ie=e.CRH())&&(m.tplFirst=ie.first),e.iGM(ie=e.CRH())&&(m.tplLast=ie.first),e.iGM(ie=e.CRH())&&(m.tplNext=ie.first),e.iGM(ie=e.CRH())&&(m.tplNumber=ie.first),e.iGM(ie=e.CRH())&&(m.tplPrevious=ie.first),e.iGM(ie=e.CRH())&&(m.tplPages=ie.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[e.TTD,e.jDz],decls:20,vars:12,consts:()=>{let t,o,m,G,ie,nt,pt,Nt;return t=$localize`:@@ngb.pagination.first:««`,o=$localize`:@@ngb.pagination.previous:«`,m=$localize`:@@ngb.pagination.next:»`,G=$localize`:@@ngb.pagination.last:»»`,ie=$localize`:@@ngb.pagination.first-aria:First`,nt=$localize`:@@ngb.pagination.previous-aria:Previous`,pt=$localize`:@@ngb.pagination.next-aria:Next`,Nt=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],t,o,m,G,[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["class","page-item",3,"active","disabled"],["aria-label",ie,"href","",1,"page-link",3,"click"],["aria-label",nt,"href","",1,"page-link",3,"click"],["aria-label",pt,"href","",1,"page-link",3,"click"],["aria-label",Nt,"href","",1,"page-link",3,"click"]]},template:function(o,m){if(1&o&&(e.YNc(0,Vo,2,0,"ng-template",null,0,e.W1O)(2,Co,2,0,"ng-template",null,1,e.W1O)(4,zo,2,0,"ng-template",null,2,e.W1O)(6,lo,2,0,"ng-template",null,3,e.W1O)(8,vs,1,0,"ng-template",null,4,e.W1O)(10,Rr,1,1,"ng-template",null,5,e.W1O)(12,Mi,2,0,"ng-template",null,6,e.W1O),e.TgZ(14,"ul"),e.YNc(15,ys,3,9,"li",7)(16,ns,3,8,"li",7)(17,ds,0,0,"ng-template",8)(18,ho,3,9,"li",7)(19,hr,3,9,"li",7),e.qZA()),2&o){const G=e.MAs(13);e.xp6(14),e.Tol("pagination"+(m.size?" pagination-"+m.size:"")),e.xp6(),e.um2(15,m.boundaryLinks?15:-1),e.xp6(),e.um2(16,m.directionLinks?16:-1),e.xp6(),e.Q6J("ngTemplateOutlet",(null==m.tplPages?null:m.tplPages.templateRef)||G)("ngTemplateOutletContext",e.kEZ(8,Hr,m.page,m.pages,m.disabled)),e.xp6(),e.um2(18,m.directionLinks?18:-1),e.xp6(),e.um2(19,m.boundaryLinks?19:-1)}},dependencies:[Vt.tP],encapsulation:2,changeDetection:0})}return n})(),Jl=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})();const gc={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};function Zl(n,b,t,o,m,G=0,ie=0){const nt=function mc(n){const b=(n||"").trim();if(0===b.length)return[];const t=b.split(/\s+/).map(m=>m.split(":")).map(m=>gc[m[0]]||m),o=t.filter(m=>m.includes("manual"));if(o.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===o.length&&t.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return o.length?[]:t}(b);if(0===nt.length)return()=>{};const pt=new Set,Nt=[];let Ht;function En(Tn,gi){n.addEventListener(Tn,gi),Nt.push(()=>n.removeEventListener(Tn,gi))}function mn(Tn,gi){clearTimeout(Ht),gi>0?Ht=setTimeout(Tn,gi):Tn()}for(const[Tn,gi]of nt)gi?(En(Tn,()=>{pt.add(Tn),mn(()=>pt.size>0&&o(),G)}),En(gi,()=>{pt.delete(Tn),mn(()=>0===pt.size&&m(),ie)})):En(Tn,()=>t()?mn(m,ie):mn(o,G));return()=>Nt.forEach(Tn=>Tn())}let _c=(()=>{class n{constructor(){this._ngbConfig=(0,e.f3M)(is),this.autoClose=!0,this.placement="auto",this.popperOptions=t=>t,this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vc=0,yc=(()=>{class n{isTitleTemplate(){return this.title instanceof e.Rgc}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(o,m){2&o&&(e.Ikx("id",m.id),e.Tol("popover"+(m.popoverClass?" "+m.popoverClass:"")),e.ekj("fade",m.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context"},standalone:!0,features:[e.jDz],ngContentSelectors:Mn,decls:4,vars:1,consts:[["data-popper-arrow","",1,"popover-arrow"],["class","popover-header"],[1,"popover-body"],[1,"popover-header"],["simpleTitle",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,m){1&o&&(e.F$t(),e._UZ(0,"div",0),e.YNc(1,H,4,2,"h3",1),e.TgZ(2,"div",2),e.Hsn(3),e.qZA()),2&o&&(e.xp6(),e.um2(1,m.title?1:-1))},dependencies:[Vt.tP],encapsulation:2,changeDetection:0})}return n})(),bc=(()=>{class n{constructor(){this._config=(0,e.f3M)(_c),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disablePopover=this._config.disablePopover,this.popoverClass=this._config.popoverClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new e.vpe,this.hidden=new e.vpe,this._nativeElement=(0,e.f3M)(e.SBq).nativeElement,this._ngZone=(0,e.f3M)(e.R0b),this._document=(0,e.f3M)(Vt.K0),this._changeDetector=(0,e.f3M)(e.sBO),this._ngbPopoverWindowId="ngb-popover-"+vc++,this._popupService=new Dn(yc),this._windowRef=null,this._positioning=Jn()}open(t){if(!this._windowRef&&!this._isDisabled()){const{windowRef:o,transition$:m}=this._popupService.open(this.ngbPopover,t??this.popoverContext,this.animation);this._windowRef=o,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("title",this.popoverTitle),this._windowRef.setInput("context",t??this.popoverContext),this._windowRef.setInput("popoverClass",this.popoverClass),this._windowRef.setInput("id",this._ngbPopoverWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-popover",updatePopperOptions:G=>this.popperOptions(eo([0,8])(G))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),fa(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),m.subscribe(()=>this.shown.emit())}}close(t=this.animation){this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=Zl(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:t,popoverTitle:o,disablePopover:m,popoverClass:G}){G&&this.isOpen()&&this._windowRef.setInput("popoverClass",G.currentValue),(t||o||m)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_isDisabled(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}_getPositionTargetElement(){return(ps(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",popoverContext:"popoverContext",openDelay:"openDelay",closeDelay:"closeDelay"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],standalone:!0,features:[e.TTD]})}return n})(),ql=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),Ql=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),Ec=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wc=(()=>{class n{constructor(){this.contexts=[],this._config=(0,e.f3M)(Ec),this._changeDetectorRef=(0,e.f3M)(e.sBO),this.disabled=!1,this.max=this._config.max,this.readonly=this._config.readonly,this.resettable=this._config.resettable,this.tabindex=this._config.tabindex,this.hover=new e.vpe,this.leave=new e.vpe,this.rateChange=new e.vpe(!0),this.onChange=t=>{},this.onTouched=()=>{}}ariaValueText(t,o){return`${t} out of ${o}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case ni.ArrowDown:case ni.ArrowLeft:this.update(this.rate-1);break;case ni.ArrowUp:case ni.ArrowRight:this.update(this.rate+1);break;case ni.Home:this.update(0);break;case ni.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,o=!0){const m=Vs(t,this.max,0);this.isInteractive()&&this.rate!==m&&(this.rate=m,this.rateChange.emit(this.rate)),o&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((o,m)=>o.fill=Math.round(100*Vs(t-m,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,o)=>({fill:0,index:o}))}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(o,m,G){if(1&o&&e.Suo(G,e.Rgc,5),2&o){let ie;e.iGM(ie=e.CRH())&&(m.starTemplateFromContent=ie.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:6,hostBindings:function(o,m){1&o&&e.NdJ("blur",function(){return m.handleBlur()})("keydown",function(ie){return m.handleKeyDown(ie)})("mouseleave",function(){return m.reset()}),2&o&&(e.Ikx("tabindex",m.disabled?-1:m.tabindex),e.uIk("aria-valuemax",m.max)("aria-valuenow",m.nextRate)("aria-valuetext",m.ariaValueText(m.nextRate,m.max))("aria-readonly",!(!m.readonly||m.disabled)||null)("aria-disabled",!!m.disabled||null))},inputs:{disabled:"disabled",max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[e._Bn([{provide:xt.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}]),e.TTD,e.jDz],decls:4,vars:0,consts:[["t",""],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,m){1&o&&(e.YNc(0,P,1,1,"ng-template",null,0,e.W1O),e.SjG(2,$e,4,5,null,null,e.x6l)),2&o&&(e.xp6(2),e.wJu(m.contexts))},dependencies:[Vt.tP],encapsulation:2,changeDetection:0})}return n})(),Xl=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),ec=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),tc=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),Dc=(()=>{class n{constructor(){this._ngbConfig=(0,e.f3M)(is),this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ac=(n,b)=>{const{classList:t}=n;if(b)return t.add("fade"),Ps(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},Mc=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let Oc=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0})}return n})(),Pc=(()=>{class n{constructor(t){this.ariaLive=t,this._config=(0,e.f3M)(Dc),this._zone=(0,e.f3M)(e.R0b),this._element=(0,e.f3M)(e.SBq),this.animation=this._config.animation,this.delay=this._config.delay,this.autohide=this._config.autohide,this.contentHeaderTpl=null,this.shown=new e.vpe,this.hidden=new e.vpe,this.ariaLive??=this._config.ariaLive}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,ue.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=kr(this._zone,this._element.nativeElement,Mc,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=kr(this._zone,this._element.nativeElement,Ac,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static#e=this.\u0275fac=function(o){return new(o||n)(e.$8M("aria-live"))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(o,m,G){if(1&o&&e.Suo(G,Oc,7,e.Rgc),2&o){let ie;e.iGM(ie=e.CRH())&&(m.contentHeaderTpl=ie.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(o,m){2&o&&(e.uIk("aria-live",m.ariaLive),e.ekj("fade",m.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[e.TTD,e.jDz],ngContentSelectors:Mn,decls:5,vars:1,consts:()=>{let t;return t=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],["class","toast-header"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",t,1,"btn-close",3,"click"]]},template:function(o,m){1&o&&(e.F$t(),e.YNc(0,js,2,1,"ng-template",null,0,e.W1O)(2,Ms,3,1,"div",1),e.TgZ(3,"div",2),e.Hsn(4),e.qZA()),2&o&&(e.xp6(2),e.um2(2,m.contentHeaderTpl||m.header?2:-1))},dependencies:[Vt.tP],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2})}return n})(),nc=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),xc=(()=>{class n{constructor(){this._ngbConfig=(0,e.f3M)(is),this.autoClose=!0,this.placement="auto",this.popperOptions=t=>t,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rc=0,Ic=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(o,m){2&o&&(e.Ikx("id",m.id),e.Tol("tooltip"+(m.tooltipClass?" "+m.tooltipClass:"")),e.ekj("fade",m.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[e.jDz],ngContentSelectors:Mn,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(o,m){1&o&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}return n})(),Fc=(()=>{class n{constructor(){this._config=(0,e.f3M)(xc),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disableTooltip=this._config.disableTooltip,this.tooltipClass=this._config.tooltipClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new e.vpe,this.hidden=new e.vpe,this._nativeElement=(0,e.f3M)(e.SBq).nativeElement,this._ngZone=(0,e.f3M)(e.R0b),this._document=(0,e.f3M)(Vt.K0),this._changeDetector=(0,e.f3M)(e.sBO),this._ngbTooltipWindowId="ngb-tooltip-"+Rc++,this._popupService=new Dn(Ic),this._windowRef=null,this._positioning=Jn()}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:o,transition$:m}=this._popupService.open(this._ngbTooltip,t??this.tooltipContext,this.animation);this._windowRef=o,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip",updatePopperOptions:G=>this.popperOptions(eo([0,6])(G))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),fa(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._nativeElement]),m.subscribe(()=>this.shown.emit())}}close(t=this.animation){null!=this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=Zl(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&this._windowRef.setInput("tooltipClass",t.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(ps(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275dir=e.lG2({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[e.TTD]})}return n})(),ic=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})();new e.OlP("live announcer delay",{providedIn:"root",factory:()=>100});let rc=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})(),sc=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({})}return n})();const kc=[ke,ye,Zo,Ys,He,tn,At,xa,sc,Jl,ql,Ql,Xl,ec,tc,nc,ic,rc];let Lc=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[kc,ke,ye,Zo,Ys,He,tn,At,xa,sc,Jl,ql,Ql,Xl,ec,tc,nc,ic,rc]})}return n})()},7632:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9212),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4221),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6232),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5592),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2096),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(3019),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(2381),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(7328),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3020),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2181),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7398),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6328),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5178),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3620),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(6306),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8180),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9773),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4664),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(836),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3093),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2460),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6699),_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1993);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(le,l){if(this.action=le,this.timestamp=l,this.type=PERFORM_ACTION,typeof le.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(le){this.timestamp=le,this.type=RESET}}class Rollback{constructor(le){this.timestamp=le,this.type=ROLLBACK}}class Commit{constructor(le){this.timestamp=le,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(le){this.id=le,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(le,l,e=!0){this.start=le,this.end=l,this.active=e,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(le){this.index=le,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(le){this.actionId=le,this.type=JUMP_TO_ACTION}}class ImportState{constructor(le){this.nextLiftedState=le,this.type=IMPORT_STATE}}class LockChanges{constructor(le){this.status=le,this.type=LOCK_CHANGES}}class PauseRecording{constructor(le){this.status=le,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(Ze){const le={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},l="function"==typeof Ze?Ze():Ze,S=l.features||!!l.logOnly&&{pause:!0,export:!0,test:!0}||le.features;!0===S.import&&(S.import="custom");const u=Object.assign({},le,{features:S},l);if(u.maxAge&&u.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${u.maxAge}`);return u}function difference(Ze,le){return Ze.filter(l=>le.indexOf(l)<0)}function unliftState(Ze){const{computedStates:le,currentStateIndex:l}=Ze;if(l>=le.length){const{state:S}=le[le.length-1];return S}const{state:e}=le[l];return e}function unliftAction(Ze){return Ze.actionsById[Ze.nextActionId-1]}function liftAction(Ze){return new PerformAction(Ze,+Date.now())}function sanitizeActions(Ze,le){return Object.keys(le).reduce((l,e)=>{const S=Number(e);return l[S]=sanitizeAction(Ze,le[S],S),l},{})}function sanitizeAction(Ze,le,l){return{...le,action:Ze(le.action,l)}}function sanitizeStates(Ze,le){return le.map((l,e)=>({state:sanitizeState(Ze,l.state,e),error:l.error}))}function sanitizeState(Ze,le,l){return Ze(le,l)}function shouldFilterActions(Ze){return Ze.predicate||Ze.actionsSafelist||Ze.actionsBlocklist}function filterLiftedState(Ze,le,l,e){const S=[],u={},N=[];return Ze.stagedActionIds.forEach((x,h)=>{const y=Ze.actionsById[x];y&&(h&&isActionFiltered(Ze.computedStates[h],y,le,l,e)||(u[x]=y,S.push(x),N.push(Ze.computedStates[h])))}),{...Ze,stagedActionIds:S,actionsById:u,computedStates:N}}function isActionFiltered(Ze,le,l,e,S){const u=l&&!l(Ze,le.action),N=e&&!le.action.type.match(e.map(h=>escapeRegExp(h)).join("|")),x=S&&le.action.type.match(S.map(h=>escapeRegExp(h)).join("|"));return u||N||x}function escapeRegExp(Ze){return Ze.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function injectZoneConfig(Ze){return{ngZone:Ze?(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.f3M)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.R0b):null,connectInZone:Ze}}let DevtoolsDispatcher=(()=>{class Ze extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{static#e=this.\u0275fac=(()=>{let l;return function(S){return(l||(l=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Ze)))(S||Ze)}})();static#t=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(Ze,le,l){this.config=le,this.dispatcher=l,this.zoneConfig=injectZoneConfig(this.config.connectInZone),this.devtoolsExtension=Ze,this.createActionStreams()}notify(Ze,le){if(this.devtoolsExtension)if(Ze.type===PERFORM_ACTION){if(le.isLocked||le.isPaused)return;const l=unliftState(le);if(shouldFilterActions(this.config)&&isActionFiltered(l,Ze,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const e=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,l,le.currentStateIndex):l,S=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,Ze,le.nextActionId):Ze;this.sendToReduxDevtools(()=>this.extensionConnection.send(S,e))}else{const l={...le,stagedActionIds:le.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,le.actionsById):le.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,le.computedStates):le.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,l,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(Ze=>{const le=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=le,le.init(),le.subscribe(l=>Ze.next(l)),le.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const Ze=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),le=Ze.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(x=>x.type===ExtensionActionTypes.START)),l=Ze.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(x=>x.type===ExtensionActionTypes.STOP)),e=Ze.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(x=>x.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(x=>this.unwrapAction(x.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(x=>x.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(h=>h.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>x),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(x)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(x))),u=Ze.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(x=>x.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(x=>this.unwrapAction(x.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(l)),N=e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(l));this.start$=le.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(l)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>u)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>N))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(Ze){const le={name:Ze.name,features:Ze.features,serialize:Ze.serialize,autoPause:Ze.autoPause??!1,trace:Ze.trace??!1,traceLimit:Ze.traceLimit??75};return!1!==Ze.maxAge&&(le.maxAge=Ze.maxAge),le}sendToReduxDevtools(Ze){try{Ze()}catch(le){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",le)}}static#_=this.\u0275fac=function Ze(le){return new(le||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))};static#_2=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac})}return DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(Ze,le,l,e,S){if(e)return{state:l,error:"Interrupted by an error up the chain"};let N,u=l;try{u=Ze(l,le)}catch(x){N=x.toString(),S.handleError(x)}return{state:u,error:N}}function recomputeStates(Ze,le,l,e,S,u,N,x,h){if(le>=Ze.length&&Ze.length===u.length)return Ze;const y=Ze.slice(0,le),E=u.length-(h?1:0);for(let C=le;C<E;C++){const F=u[C],V=S[F].action,$=y[C-1],j=$?$.state:e,q=$?$.error:void 0,ue=N.indexOf(F)>-1?$:computeNextEntry(l,V,j,q,x);y.push(ue)}return h&&y.push(Ze[Ze.length-1]),y}function liftInitialState(Ze,le){return{monitorState:le(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:Ze,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(Ze,le,l,e,S={}){return u=>(N,x)=>{let{monitorState:h,actionsById:y,nextActionId:E,stagedActionIds:C,skippedActionIds:F,committedState:V,currentStateIndex:$,computedStates:j,isLocked:q,isPaused:ee}=N||le;function ue(De){let re=De,Ae=C.slice(1,re+1);for(let Me=0;Me<Ae.length;Me++){if(j[Me+1].error){re=Me,Ae=C.slice(1,re+1);break}delete y[Ae[Me]]}F=F.filter(Me=>-1===Ae.indexOf(Me)),C=[0,...C.slice(re+1)],V=j[re].state,j=j.slice(re),$=$>re?$-re:0}function Ne(){y={0:liftAction(INIT_ACTION)},E=1,C=[0],F=[],V=j[$].state,$=0,j=[]}N||(y=Object.create(y));let be=0;switch(x.type){case LOCK_CHANGES:q=x.status,be=1/0;break;case PAUSE_RECORDING:ee=x.status,ee?(C=[...C,E],y[E]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),E++,be=C.length-1,j=j.concat(j[j.length-1]),$===C.length-2&&$++,be=1/0):Ne();break;case RESET:y={0:liftAction(INIT_ACTION)},E=1,C=[0],F=[],V=Ze,$=0,j=[];break;case COMMIT:Ne();break;case ROLLBACK:y={0:liftAction(INIT_ACTION)},E=1,C=[0],F=[],$=0,j=[];break;case TOGGLE_ACTION:{const{id:De}=x;F=-1===F.indexOf(De)?[De,...F]:F.filter(Ae=>Ae!==De),be=C.indexOf(De);break}case SET_ACTIONS_ACTIVE:{const{start:De,end:re,active:Ae}=x,Me=[];for(let st=De;st<re;st++)Me.push(st);F=Ae?difference(F,Me):[...F,...Me],be=C.indexOf(De);break}case JUMP_TO_STATE:$=x.index,be=1/0;break;case JUMP_TO_ACTION:{const De=C.indexOf(x.actionId);-1!==De&&($=De),be=1/0;break}case SWEEP:C=difference(C,F),F=[],$=Math.min($,C.length-1);break;case PERFORM_ACTION:{if(q)return N||le;if(ee||N&&isActionFiltered(N.computedStates[$],x,S.predicate,S.actionsSafelist,S.actionsBlocklist)){const re=j[j.length-1];j=[...j.slice(0,-1),computeNextEntry(u,x.action,re.state,re.error,l)],be=1/0;break}S.maxAge&&C.length===S.maxAge&&ue(1),$===C.length-1&&$++;const De=E++;y[De]=x,C=[...C,De],be=C.length-1;break}case IMPORT_STATE:({monitorState:h,actionsById:y,nextActionId:E,stagedActionIds:C,skippedActionIds:F,committedState:V,currentStateIndex:$,computedStates:j,isLocked:q,isPaused:ee}=x.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:be=0,S.maxAge&&C.length>S.maxAge&&(j=recomputeStates(j,be,u,V,y,C,F,l,ee),ue(C.length-S.maxAge),be=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(j.filter(re=>re.error).length>0)be=0,S.maxAge&&C.length>S.maxAge&&(j=recomputeStates(j,be,u,V,y,C,F,l,ee),ue(C.length-S.maxAge),be=1/0);else{if(!ee&&!q){$===C.length-1&&$++;const re=E++;y[re]=new PerformAction(x,+Date.now()),C=[...C,re],be=C.length-1,j=recomputeStates(j,be,u,V,y,C,F,l,ee)}j=j.map(re=>({...re,state:u(re.state,RECOMPUTE_ACTION)})),$=C.length-1,S.maxAge&&C.length>S.maxAge&&ue(C.length-S.maxAge),be=1/0}break;default:be=1/0}return j=recomputeStates(j,be,u,V,y,C,F,l,ee),h=e(h,x),{monitorState:h,actionsById:y,nextActionId:E,stagedActionIds:C,skippedActionIds:F,committedState:V,currentStateIndex:$,computedStates:j,isLocked:q,isPaused:ee}}}let StoreDevtools=(()=>{class Ze{constructor(l,e,S,u,N,x,h,y){const E=liftInitialState(h,y.monitor),C=liftReducerWith(h,E,x,y.monitor,y),F=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(e.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),u.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),l,u.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),V=S.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(C)),$=injectZoneConfig(y.connectInZone),j=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1);this.liftedStateSubscription=F.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(V),emitInZone($),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:ue},[Ne,be])=>{let De=be(ue,Ne);return Ne.type!==PERFORM_ACTION&&shouldFilterActions(y)&&(De=filterLiftedState(De,y.predicate,y.actionsSafelist,y.actionsBlocklist)),u.notify(Ne,De),{state:De,action:Ne}},{state:E,action:null})).subscribe(({state:ue,action:Ne})=>{j.next(ue),Ne.type===PERFORM_ACTION&&N.next(Ne.action)}),this.extensionStartSubscription=u.start$.pipe(emitInZone($)).subscribe(()=>{this.refresh()});const q=j.asObservable(),ee=q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));Object.defineProperty(ee,"state",{value:(0,_angular_core_rxjs_interop__WEBPACK_IMPORTED_MODULE_22__.O4)(ee,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=l,this.liftedState=q,this.state=ee}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(l){this.dispatcher.next(l)}next(l){this.dispatcher.next(l)}error(l){}complete(){}performAction(l){this.dispatch(new PerformAction(l,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(l){this.dispatch(new ToggleAction(l))}jumpToAction(l){this.dispatch(new JumpToAction(l))}jumpToState(l){this.dispatch(new JumpToState(l))}importState(l){this.dispatch(new ImportState(l))}lockChanges(l){this.dispatch(new LockChanges(l))}pauseRecording(l){this.dispatch(new PauseRecording(l))}static#e=this.\u0275fac=function(e){return new(e||Ze)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))};static#t=this.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Ze,factory:Ze.\u0275fac})}return Ze})();function emitInZone({ngZone:Ze,connectInZone:le}){return l=>le?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(e=>l.subscribe({next:S=>Ze.run(()=>e.next(S)),error:S=>Ze.run(()=>e.error(S)),complete:()=>Ze.run(()=>e.complete())})):l}const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(Ze,le){return!!Ze||le.monitor!==noMonitor}function createReduxDevtoolsExtension(){const Ze="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[Ze]<"u"?window[Ze]:null}function provideStoreDevtools(Ze={}){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.MR2)([DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:Ze},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}])}function createStateObservable(Ze){return Ze.state}let StoreDevtoolsModule=(()=>{class Ze{static instrument(l={}){return{ngModule:Ze,providers:[provideStoreDevtools(l)]}}static#e=this.\u0275fac=function(e){return new(e||Ze)};static#t=this.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:Ze});static#n=this.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({})}return Ze})()},4221:(Ze,le,l)=>{"use strict";l.d(le,{hg:()=>Re,UO:()=>Vt,qg:()=>Tt,Y6:()=>on,mK:()=>Hn,n$:()=>On,Y$:()=>Pn,FR:()=>ri,yh:()=>Qt,CK:()=>oe,Aw:()=>Ie,cr:()=>ft,wb:()=>zn,PH:()=>ee,ZF:()=>er,Lq:()=>je,P1:()=>Rn,rM:()=>me,on:()=>Le,Ky:()=>ue,Ys:()=>Qi});var e=l(9212),S=l(5619),u=l(5592),N=l(8645),x=l(2381),h=l(3093),y=l(2460),E=l(6699),C=l(7398),V=l(3997),$=l(1993);const j={};function ee(Q,Fe){if(j[Q]=(j[Q]||0)+1,"function"==typeof Fe)return be(Q,(...Be)=>({...Fe(...Be),type:Q}));switch(Fe?Fe._as:"empty"){case"empty":return be(Q,()=>({type:Q}));case"props":return be(Q,Be=>({...Be,type:Q}));default:throw new Error("Unexpected config.")}}function ue(){return{_as:"props",_p:void 0}}function be(Q,Fe){return Object.defineProperty(Fe,"type",{value:Q,writable:!1})}const Tt="@ngrx/store/init";let Vt=(()=>{class Q extends S.X{constructor(){super({type:Tt})}next(ze){if("function"==typeof ze)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof ze>"u")throw new TypeError("Actions must be objects");if(typeof ze.type>"u")throw new TypeError("Actions must have a type property");super.next(ze)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(Be){return new(Be||Q)};static#t=this.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const xt=[Vt],dt=new e.OlP("@ngrx/store Internal Root Guard"),rn=new e.OlP("@ngrx/store Internal Initial State"),on=new e.OlP("@ngrx/store Initial State"),cn=new e.OlP("@ngrx/store Reducer Factory"),Sn=new e.OlP("@ngrx/store Internal Reducer Factory Provider"),hn=new e.OlP("@ngrx/store Initial Reducers"),ln=new e.OlP("@ngrx/store Internal Initial Reducers"),Kt=new e.OlP("@ngrx/store Store Features"),Xe=new e.OlP("@ngrx/store Internal Store Reducers"),ht=new e.OlP("@ngrx/store Internal Feature Reducers"),Ct=new e.OlP("@ngrx/store Internal Feature Configs"),Et=new e.OlP("@ngrx/store Internal Store Features"),zt=new e.OlP("@ngrx/store Internal Feature Reducers Token"),jt=new e.OlP("@ngrx/store Feature Reducers"),un=new e.OlP("@ngrx/store User Provided Meta Reducers"),An=new e.OlP("@ngrx/store Meta Reducers"),Te=new e.OlP("@ngrx/store Internal Resolved Meta Reducers"),U=new e.OlP("@ngrx/store User Runtime Checks Config"),K=new e.OlP("@ngrx/store Internal User Runtime Checks Config"),Re=new e.OlP("@ngrx/store Internal Runtime Checks"),Ue=new e.OlP("@ngrx/store Check if Action types are unique");function yt(Q,Fe={}){const ze=Object.keys(Q),Be={};for(let _t=0;_t<ze.length;_t++){const Jt=ze[_t];"function"==typeof Q[Jt]&&(Be[Jt]=Q[Jt])}const Rt=Object.keys(Be);return function(Jt,Mn){Jt=void 0===Jt?Fe:Jt;let Ln=!1;const Vn={};for(let $n=0;$n<Rt.length;$n++){const ui=Rt[$n],Xn=Jt[ui],vi=(0,Be[ui])(Xn,Mn);Vn[ui]=vi,Ln=Ln||vi!==Xn}return Ln?Vn:Jt}}function St(...Q){return function(Fe){if(0===Q.length)return Fe;const ze=Q[Q.length-1];return Q.slice(0,-1).reduceRight((Rt,_t)=>_t(Rt),ze(Fe))}}function $t(Q,Fe){return Array.isArray(Fe)&&Fe.length>0&&(Q=St.apply(null,[...Fe,Q])),(ze,Be)=>{const Rt=Q(ze);return(_t,Jt)=>Rt(_t=void 0===_t?Be:_t,Jt)}}new e.OlP("@ngrx/store Root Store Provider"),new e.OlP("@ngrx/store Feature State Provider");class On extends u.y{}class Hn extends Vt{}const zn="@ngrx/store/update-reducers";let sn=(()=>{class Q extends S.X{get currentReducers(){return this.reducers}constructor(ze,Be,Rt,_t){super(_t(Rt,Be)),this.dispatcher=ze,this.initialState=Be,this.reducers=Rt,this.reducerFactory=_t}addFeature(ze){this.addFeatures([ze])}addFeatures(ze){const Be=ze.reduce((Rt,{reducers:_t,reducerFactory:Jt,metaReducers:Mn,initialState:Ln,key:Vn})=>{const $n="function"==typeof _t?function an(Q){const Fe=Array.isArray(Q)&&Q.length>0?St(...Q):ze=>ze;return(ze,Be)=>(ze=Fe(ze),(Rt,_t)=>ze(Rt=void 0===Rt?Be:Rt,_t))}(Mn)(_t,Ln):$t(Jt,Mn)(_t,Ln);return Rt[Vn]=$n,Rt},{});this.addReducers(Be)}removeFeature(ze){this.removeFeatures([ze])}removeFeatures(ze){this.removeReducers(ze.map(Be=>Be.key))}addReducer(ze,Be){this.addReducers({[ze]:Be})}addReducers(ze){this.reducers={...this.reducers,...ze},this.updateReducers(Object.keys(ze))}removeReducer(ze){this.removeReducers([ze])}removeReducers(ze){ze.forEach(Be=>{this.reducers=function Qe(Q,Fe){return Object.keys(Q).filter(ze=>ze!==Fe).reduce((ze,Be)=>Object.assign(ze,{[Be]:Q[Be]}),{})}(this.reducers,Be)}),this.updateReducers(ze)}updateReducers(ze){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:zn,features:ze})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(Be){return new(Be||Q)(e.LFG(Hn),e.LFG(on),e.LFG(hn),e.LFG(cn))};static#t=this.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const jn=[sn,{provide:On,useExisting:sn},{provide:Hn,useExisting:Vt}];let Pn=(()=>{class Q extends N.x{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=(()=>{let ze;return function(Rt){return(ze||(ze=e.n5z(Q)))(Rt||Q)}})();static#t=this.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const mi=[Pn];class ri extends u.y{}let ce=(()=>{class Q extends S.X{static#e=this.INIT=Tt;constructor(ze,Be,Rt,_t){super(_t);const Vn=ze.pipe((0,h.Q)(x.N)).pipe((0,y.M)(Be)).pipe((0,E.R)(Di,{state:_t}));this.stateSubscription=Vn.subscribe(({state:$n,action:ui})=>{this.next($n),Rt.next(ui)}),this.state=(0,$.O4)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(Be){return new(Be||Q)(e.LFG(Vt),e.LFG(On),e.LFG(Pn),e.LFG(on))};static#n=this.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();function Di(Q={state:void 0},[Fe,ze]){const{state:Be}=Q;return{state:ze(Be,Fe),action:Fe}}const Ii=[ce,{provide:ri,useExisting:ce}];let Qt=(()=>{class Q extends u.y{constructor(ze,Be,Rt){super(),this.actionsObserver=Be,this.reducerManager=Rt,this.source=ze,this.state=ze.state}select(ze,...Be){return Qi.call(null,ze,...Be)(this)}selectSignal(ze,Be){return(0,e.Flj)(()=>ze(this.state()),Be)}lift(ze){const Be=new Q(this,this.actionsObserver,this.reducerManager);return Be.operator=ze,Be}dispatch(ze){this.actionsObserver.next(ze)}next(ze){this.actionsObserver.next(ze)}error(ze){this.actionsObserver.error(ze)}complete(){this.actionsObserver.complete()}addReducer(ze,Be){this.reducerManager.addReducer(ze,Be)}removeReducer(ze){this.reducerManager.removeReducer(ze)}static#e=this.\u0275fac=function(Be){return new(Be||Q)(e.LFG(ri),e.LFG(Vt),e.LFG(sn))};static#t=this.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac})}return Q})();const Cr=[Qt];function Qi(Q,Fe,...ze){return function(Rt){let _t;if("string"==typeof Q){const Jt=[Fe,...ze].filter(Boolean);_t=Rt.pipe(function F(...Q){const Fe=Q.length;if(0===Fe)throw new Error("list of properties cannot be empty.");return(0,C.U)(ze=>{let Be=ze;for(let Rt=0;Rt<Fe;Rt++){const _t=Be?.[Q[Rt]];if(!(typeof _t<"u"))return;Be=_t}return Be})}(Q,...Jt))}else{if("function"!=typeof Q)throw new TypeError(`Unexpected type '${typeof Q}' in select operator, expected 'string' or 'function'`);_t=Rt.pipe((0,C.U)(Jt=>Q(Jt,Fe)))}return _t.pipe((0,V.x)())}}const Xi="https://ngrx.io/guide/store/configuration/runtime-checks";function Ut(Q){return void 0===Q}function It(Q){return null===Q}function J(Q){return Array.isArray(Q)}function at(Q){return"object"==typeof Q&&null!==Q}function fn(Q){return"function"==typeof Q}let Ke=!1;function me(){return Ke}function Ye(Q,Fe){return Q===Fe}function Xt(Q,Fe=Ye,ze=Ye){let _t,Be=null,Rt=null;return{memoized:function Vn(){if(void 0!==_t)return _t.result;if(!Be)return Rt=Q.apply(null,arguments),Be=arguments,Rt;if(!function gt(Q,Fe,ze){for(let Be=0;Be<Q.length;Be++)if(!ze(Q[Be],Fe[Be]))return!0;return!1}(arguments,Be,Fe))return Rt;const $n=Q.apply(null,arguments);return Be=arguments,ze(Rt,$n)?Rt:(Rt=$n,$n)},reset:function Jt(){Be=null,Rt=null},setResult:function Mn($n=void 0){_t={result:$n}},clearResult:function Ln(){_t=void 0}}}function Rn(...Q){return function Si(Q,Fe={stateFn:ci}){return function(...ze){let Be=ze;if(Array.isArray(Be[0])){const[$n,...ui]=Be;Be=[...$n,...ui]}else 1===Be.length&&function ir(Q){return!!Q&&"object"==typeof Q&&Object.values(Q).every(Fe=>"function"==typeof Fe)}(Be[0])&&(Be=function Ji(Q){const Fe=Object.values(Q),ze=Object.keys(Q);return[...Fe,(...Rt)=>ze.reduce((_t,Jt,Mn)=>({..._t,[Jt]:Rt[Mn]}),{})]}(Be[0]));const Rt=Be.slice(0,Be.length-1),_t=Be[Be.length-1],Jt=Rt.filter($n=>$n.release&&"function"==typeof $n.release),Mn=Q(function(...$n){return _t.apply(null,$n)}),Ln=Xt(function($n,ui){return Fe.stateFn.apply(null,[$n,Rt,ui,Mn])});return Object.assign(Ln.memoized,{release:function Vn(){Ln.reset(),Mn.reset(),Jt.forEach($n=>$n.release())},projector:Mn.memoized,setResult:Ln.setResult,clearResult:Ln.clearResult})}}(Xt)(...Q)}function ci(Q,Fe,ze,Be){if(void 0===ze){const _t=Fe.map(Jt=>Jt(Q));return Be.memoized.apply(null,_t)}const Rt=Fe.map(_t=>_t(Q,ze));return Be.memoized.apply(null,[...Rt,ze])}function er(Q){return Rn(Fe=>{const ze=Fe[Q];return!me()&&(0,e.X6Q)()&&!(Q in Fe)&&console.warn(`@ngrx/store: The feature name "${Q}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Q}', ...) or StoreModule.forFeature('${Q}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),ze},Fe=>Fe)}function rr(Q){return Q instanceof e.OlP?(0,e.f3M)(Q):Q}function Ai(Q,Fe){return Fe.map((ze,Be)=>{if(Q[Be]instanceof e.OlP){const Rt=(0,e.f3M)(Q[Be]);return{key:ze.key,reducerFactory:Rt.reducerFactory?Rt.reducerFactory:yt,metaReducers:Rt.metaReducers?Rt.metaReducers:[],initialState:Rt.initialState}}return ze})}function oi(Q){return Q.map(Fe=>Fe instanceof e.OlP?(0,e.f3M)(Fe):Fe)}function tr(Q){return"function"==typeof Q?Q():Q}function Qr(Q,Fe){return Q.concat(Fe)}function zr(){if((0,e.f3M)(Qt,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Wr(Q){Object.freeze(Q);const Fe=fn(Q);return Object.getOwnPropertyNames(Q).forEach(ze=>{if(!ze.startsWith("\u0275")&&function Yt(Q,Fe){return Object.prototype.hasOwnProperty.call(Q,Fe)}(Q,ze)&&(!Fe||"caller"!==ze&&"callee"!==ze&&"arguments"!==ze)){const Be=Q[ze];(at(Be)||fn(Be))&&!Object.isFrozen(Be)&&Wr(Be)}}),Q}function ve(Q,Fe=[]){return(Ut(Q)||It(Q))&&0===Fe.length?{path:["root"],value:Q}:Object.keys(Q).reduce((Be,Rt)=>{if(Be)return Be;const _t=Q[Rt];return function yn(Q){return fn(Q)&&Q.hasOwnProperty("\u0275cmp")}(_t)?Be:!(Ut(_t)||It(_t)||function ct(Q){return"number"==typeof Q}(_t)||function et(Q){return"boolean"==typeof Q}(_t)||function pe(Q){return"string"==typeof Q}(_t)||J(_t))&&(function Bt(Q){if(!function lt(Q){return at(Q)&&!J(Q)}(Q))return!1;const Fe=Object.getPrototypeOf(Q);return Fe===Object.prototype||null===Fe}(_t)?ve(_t,[...Fe,Rt]):{path:[...Fe,Rt],value:_t})},!1)}function Je(Q,Fe){if(!1===Q)return;const ze=Q.path.join("."),Be=new Error(`Detected unserializable ${Fe} at "${ze}". ${Xi}#strict${Fe}serializability`);throw Be.value=Q.value,Be.unserializablePath=ze,Be}function wt(Q){return(0,e.X6Q)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Q}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function i({strictActionSerializability:Q,strictStateSerializability:Fe}){return ze=>Q||Fe?function Xr(Q,Fe){return function(ze,Be){Fe.action(Be)&&Je(ve(Be),"action");const Rt=Q(ze,Be);return Fe.state()&&Je(ve(Rt),"state"),Rt}}(ze,{action:Be=>Q&&!a(Be),state:()=>Fe}):ze}function r({strictActionImmutability:Q,strictStateImmutability:Fe}){return ze=>Q||Fe?function Vi(Q,Fe){return function(ze,Be){const Rt=Fe.action(Be)?Wr(Be):Be,_t=Q(ze,Rt);return Fe.state()?Wr(_t):_t}}(ze,{action:Be=>Q&&!a(Be),state:()=>Fe}):ze}function a(Q){return Q.type.startsWith("@ngrx")}function f({strictActionWithinNgZone:Q}){return Fe=>Q?function Ge(Q,Fe){return function(ze,Be){if(Fe.action(Be)&&!e.R0b.isInAngularZone())throw new Error(`Action '${Be.type}' running outside NgZone. ${Xi}#strictactionwithinngzone`);return Q(ze,Be)}}(Fe,{action:ze=>Q&&!a(ze)}):Fe}function T(Q){return[{provide:K,useValue:Q},{provide:U,useFactory:te,deps:[K]},{provide:Re,deps:[U],useFactory:wt},{provide:An,multi:!0,deps:[Re],useFactory:r},{provide:An,multi:!0,deps:[Re],useFactory:i},{provide:An,multi:!0,deps:[Re],useFactory:f}]}function k(){return[{provide:Ue,multi:!0,deps:[Re],useFactory:_e}]}function te(Q){return Q}function _e(Q){if(!Q.strictActionTypeUniqueness)return;const Fe=Object.entries(j).filter(([,ze])=>ze>1).map(([ze])=>ze);if(Fe.length)throw new Error(`Action types are registered more than once, ${Fe.map(ze=>`"${ze}"`).join(", ")}. ${Xi}#strictactiontypeuniqueness`)}function we(Q={},Fe={}){return[{provide:dt,useFactory:zr},{provide:rn,useValue:Fe.initialState},{provide:on,useFactory:tr,deps:[rn]},{provide:ln,useValue:Q},{provide:Xe,useExisting:Q instanceof e.OlP?Q:ln},{provide:hn,deps:[ln,[new e.tBr(Xe)]],useFactory:rr},{provide:un,useValue:Fe.metaReducers?Fe.metaReducers:[]},{provide:Te,deps:[An,un],useFactory:Qr},{provide:Sn,useValue:Fe.reducerFactory?Fe.reducerFactory:yt},{provide:cn,deps:[Sn,Te],useFactory:$t},xt,jn,mi,Ii,Cr,T(Fe.runtimeChecks),k()]}function ut(Q,Fe,ze={}){return[{provide:Ct,multi:!0,useValue:Q instanceof Object?{}:ze},{provide:Kt,multi:!0,useValue:{key:Q instanceof Object?Q.name:Q,reducerFactory:ze instanceof e.OlP||!ze.reducerFactory?yt:ze.reducerFactory,metaReducers:ze instanceof e.OlP||!ze.metaReducers?[]:ze.metaReducers,initialState:ze instanceof e.OlP||!ze.initialState?void 0:ze.initialState}},{provide:Et,deps:[Ct,Kt],useFactory:Ai},{provide:ht,multi:!0,useValue:Q instanceof Object?Q.reducer:Fe},{provide:zt,multi:!0,useExisting:Fe instanceof e.OlP?Fe:ht},{provide:jt,multi:!0,deps:[ht,[new e.tBr(zt)]],useFactory:oi},k()]}let ft=(()=>{class Q{constructor(ze,Be,Rt,_t,Jt,Mn){}static#e=this.\u0275fac=function(Be){return new(Be||Q)(e.LFG(Vt),e.LFG(On),e.LFG(Pn),e.LFG(Qt),e.LFG(dt,8),e.LFG(Ue,8))};static#t=this.\u0275mod=e.oAB({type:Q});static#n=this.\u0275inj=e.cJS({})}return Q})(),oe=(()=>{class Q{constructor(ze,Be,Rt,_t,Jt){this.features=ze,this.featureReducers=Be,this.reducerManager=Rt;const Mn=ze.map((Ln,Vn)=>{const ui=Be.shift()[Vn];return{...Ln,reducers:ui,initialState:tr(Ln.initialState)}});Rt.addFeatures(Mn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(Be){return new(Be||Q)(e.LFG(Et),e.LFG(jt),e.LFG(sn),e.LFG(ft),e.LFG(Ue,8))};static#t=this.\u0275mod=e.oAB({type:Q});static#n=this.\u0275inj=e.cJS({})}return Q})(),Ie=(()=>{class Q{static forRoot(ze,Be){return{ngModule:ft,providers:[...we(ze,Be)]}}static forFeature(ze,Be,Rt={}){return{ngModule:oe,providers:[...ut(ze,Be,Rt)]}}static#e=this.\u0275fac=function(Be){return new(Be||Q)};static#t=this.\u0275mod=e.oAB({type:Q});static#n=this.\u0275inj=e.cJS({})}return Q})();function Le(...Q){return{reducer:Q.pop(),types:Q.map(Be=>Be.type)}}function je(Q,...Fe){const ze=new Map;for(const Be of Fe)for(const Rt of Be.types){const _t=ze.get(Rt);ze.set(Rt,_t?(Mn,Ln)=>Be.reducer(_t(Mn,Ln),Ln):Be.reducer)}return function(Be=Q,Rt){const _t=ze.get(Rt.type);return _t?_t(Be,Rt):Be}}},4751:(Ze,le,l)=>{"use strict";l.d(le,{Ct:()=>jn,Hy:()=>on,mb:()=>rn,zr:()=>Qt});var e=l(5861),S=l(9212),u=l(6814),N=l(9862),x=l(8645),h=l(2096),y=l(9666),E=l(3684),C=l(8504),F=l(2572),V=l(3019),$=l(2181),j=l(9397),q=l(3620),ee=l(932),ue=l(4664),Ne=l(7398),be=l(1374),De=l(6306),re=l(5178),Ae=l(8180),Me=l(9769);class st{validateSignature(It){return Promise.resolve(null)}validateAtHash(It){return Promise.resolve(!0)}}class fe{}class Vt{}let xt=(()=>{class Ut extends Vt{now(){return Date.now()}new(){return new Date}static#e=this.\u0275fac=(()=>{let J;return function(et){return(J||(J=S.n5z(Ut)))(et||Ut)}})();static#t=this.\u0275prov=S.Yz7({token:Ut,factory:Ut.\u0275fac})}return Ut})();class rn{}class on{}let cn=(()=>{class Ut{constructor(){this.data=new Map}getItem(J){return this.data.get(J)}removeItem(J){this.data.delete(J)}setItem(J,pe){this.data.set(J,pe)}static#e=this.\u0275fac=function(pe){return new(pe||Ut)};static#t=this.\u0275prov=S.Yz7({token:Ut,factory:Ut.\u0275fac})}return Ut})();class hn{constructor(It){this.type=It}}class ln extends hn{constructor(It,J=null){super(It),this.info=J}}class Kt extends hn{constructor(It,J=null){super(It),this.info=J}}class Xe extends hn{constructor(It,J,pe=null){super(It),this.reason=J,this.params=pe}}function ht(Ut){const It=Ut.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(It).split("").map(function(J){return"%"+("00"+J.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function Ct(Ut){return btoa(Ut).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class Et{constructor(It){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=J=>{location.href=J},It&&Object.assign(this,It)}}class zt{encodeKey(It){return encodeURIComponent(It)}encodeValue(It){return encodeURIComponent(It)}decodeKey(It){return decodeURIComponent(It)}decodeValue(It){return decodeURIComponent(It)}}class jt{}let An=(()=>{class Ut{getHashFragmentParams(J){let pe=J||window.location.hash;if(pe=decodeURIComponent(pe),0!==pe.indexOf("#"))return{};const et=pe.indexOf("?");return pe=pe.substr(et>-1?et+1:1),this.parseQueryString(pe)}parseQueryString(J){const pe={};let et,ct,at,lt,Bt,fn;if(null===J)return pe;const yn=J.split("&");for(let Yt=0;Yt<yn.length;Yt++)et=yn[Yt],ct=et.indexOf("="),-1===ct?(at=et,lt=null):(at=et.substr(0,ct),lt=et.substr(ct+1)),Bt=decodeURIComponent(at),fn=decodeURIComponent(lt),"/"===Bt.substr(0,1)&&(Bt=Bt.substr(1)),pe[Bt]=fn;return pe}static#e=this.\u0275fac=function(pe){return new(pe||Ut)};static#t=this.\u0275prov=S.Yz7({token:Ut,factory:Ut.\u0275fac})}return Ut})();const K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Re(Ut,It,J,pe,et){let ct,at,lt,Bt,fn,yn,Yt,Ke,Lt,me,Ye,gt,kt;for(;et>=64;){for(ct=It[0],at=It[1],lt=It[2],Bt=It[3],fn=It[4],yn=It[5],Yt=It[6],Ke=It[7],me=0;me<16;me++)Ye=pe+4*me,Ut[me]=(255&J[Ye])<<24|(255&J[Ye+1])<<16|(255&J[Ye+2])<<8|255&J[Ye+3];for(me=16;me<64;me++)Lt=Ut[me-2],gt=(Lt>>>17|Lt<<15)^(Lt>>>19|Lt<<13)^Lt>>>10,Lt=Ut[me-15],kt=(Lt>>>7|Lt<<25)^(Lt>>>18|Lt<<14)^Lt>>>3,Ut[me]=(gt+Ut[me-7]|0)+(kt+Ut[me-16]|0);for(me=0;me<64;me++)gt=(((fn>>>6|fn<<26)^(fn>>>11|fn<<21)^(fn>>>25|fn<<7))+(fn&yn^~fn&Yt)|0)+(Ke+(K[me]+Ut[me]|0)|0)|0,kt=((ct>>>2|ct<<30)^(ct>>>13|ct<<19)^(ct>>>22|ct<<10))+(ct&at^ct&lt^at&lt)|0,Ke=Yt,Yt=yn,yn=fn,fn=Bt+gt|0,Bt=lt,lt=at,at=ct,ct=gt+kt|0;It[0]+=ct,It[1]+=at,It[2]+=lt,It[3]+=Bt,It[4]+=fn,It[5]+=yn,It[6]+=Yt,It[7]+=Ke,pe+=64,et-=64}return pe}class Ue{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let It=0;It<this.buffer.length;It++)this.buffer[It]=0;for(let It=0;It<this.temp.length;It++)this.temp[It]=0;this.reset()}update(It,J=It.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let pe=0;if(this.bytesHashed+=J,this.bufferLength>0){for(;this.bufferLength<64&&J>0;)this.buffer[this.bufferLength++]=It[pe++],J--;64===this.bufferLength&&(Re(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(J>=64&&(pe=Re(this.temp,this.state,It,pe,J),J%=64);J>0;)this.buffer[this.bufferLength++]=It[pe++],J--;return this}finish(It){if(!this.finished){const J=this.bytesHashed,pe=this.bufferLength,et=J/536870912|0,ct=J<<3,at=J%64<56?64:128;this.buffer[pe]=128;for(let lt=pe+1;lt<at-8;lt++)this.buffer[lt]=0;this.buffer[at-8]=et>>>24&255,this.buffer[at-7]=et>>>16&255,this.buffer[at-6]=et>>>8&255,this.buffer[at-5]=et>>>0&255,this.buffer[at-4]=ct>>>24&255,this.buffer[at-3]=ct>>>16&255,this.buffer[at-2]=ct>>>8&255,this.buffer[at-1]=ct>>>0&255,Re(this.temp,this.state,this.buffer,0,at),this.finished=!0}for(let J=0;J<8;J++)It[4*J+0]=this.state[J]>>>24&255,It[4*J+1]=this.state[J]>>>16&255,It[4*J+2]=this.state[J]>>>8&255,It[4*J+3]=this.state[J]>>>0&255;return this}digest(){const It=new Uint8Array(this.digestLength);return this.finish(It),It}_saveState(It){for(let J=0;J<this.state.length;J++)It[J]=this.state[J]}_restoreState(It,J){for(let pe=0;pe<this.state.length;pe++)this.state[pe]=It[pe];this.bytesHashed=J,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);class On{}let sn=(()=>{class Ut{calcHash(J,pe){return(0,e.Z)(function*(){return function zn(Ut){const It=[];for(let J=0;J<Ut.length;J++)It.push(String.fromCharCode(Ut[J]));return It.join("")}(function qe(Ut){const It=(new Ue).update(Ut),J=It.digest();return It.clean(),J}(function Hn(Ut){if("string"!=typeof Ut)throw new TypeError("expected string");const It=Ut,J=new Uint8Array(It.length);for(let pe=0;pe<It.length;pe++)J[pe]=It.charCodeAt(pe);return J}(J)))})()}toHashString2(J){let pe="";for(const et of J)pe+=String.fromCharCode(et);return pe}toHashString(J){const pe=new Uint8Array(J);let et="";for(const ct of pe)et+=String.fromCharCode(ct);return et}static#e=this.\u0275fac=function(pe){return new(pe||Ut)};static#t=this.\u0275prov=S.Yz7({token:Ut,factory:Ut.\u0275fac})}return Ut})(),jn=(()=>{class Ut extends Et{constructor(J,pe,et,ct,at,lt,Bt,fn,yn,Yt){super(),this.ngZone=J,this.http=pe,this.config=at,this.urlHelper=lt,this.logger=Bt,this.crypto=fn,this.dateTimeService=Yt,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new x.x,this.discoveryDocumentLoadedSubject=new x.x,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=yn,at||(at={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),ct&&(this.tokenValidationHandler=ct),at&&this.configure(at);try{et?this.setStorage(et):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(Ke){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",Ke)}if(this.checkLocalStorageAccessable()){const Ke=window?.navigator?.userAgent;(Ke?.includes("MSIE ")||Ke?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;const J="test";try{return!(typeof window.localStorage>"u"||(localStorage.setItem(J,J),localStorage.removeItem(J),0))}catch{return!1}}configure(J){Object.assign(this,new Et,J),this.config=Object.assign({},new Et,J),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe((0,$.h)(J=>"token_received"===J.type)).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(J={},pe,et=!0){let ct=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,j.b)(at=>{"token_received"===at.type?ct=!0:"logout"===at.type&&(ct=!1)}),(0,$.h)(at=>"token_expires"===at.type&&(null==pe||"any"===pe||at.info===pe)),(0,q.b)(1e3)).subscribe(()=>{ct&&this.refreshInternal(J,et).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(J,pe){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(J,pe):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(J=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(J))}loadDiscoveryDocumentAndLogin(J=null){return this.loadDiscoveryDocumentAndTryLogin(J=J||{}).then(()=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof J.state?J.state:""),!1))}debug(...J){this.showDebugInformation&&this.logger.debug(...J)}validateUrlFromDiscoveryDocument(J){const pe=[],et=this.validateUrlForHttps(J),ct=this.validateUrlAgainstIssuer(J);return et||pe.push("https for all urls required. Also for urls received by discovery."),ct||pe.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),pe}validateUrlForHttps(J){if(!J)return!0;const pe=J.toLowerCase();return!(!1!==this.requireHttps&&(!pe.match(/^http:\/\/localhost($|[:/])/)&&!pe.match(/^http:\/\/localhost($|[:/])/)||"remoteOnly"!==this.requireHttps))||pe.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(J,pe){if(!J)throw new Error(`'${pe}' should not be null`);if(!this.validateUrlForHttps(J))throw new Error(`'${pe}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(J){return!this.strictDiscoveryDocumentValidation||!J||J.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){typeof window>"u"?this.debug("timer not supported on this plattform"):((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe((0,$.h)(J=>"token_received"===J.type)).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()}))}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const J=this.getAccessTokenExpiration(),pe=this.getAccessTokenStoredAt(),et=this.calcTimeout(pe,J);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=(0,h.of)(new Kt("token_expires","access_token")).pipe((0,ee.g)(et)).subscribe(ct=>{this.ngZone.run(()=>{this.eventsSubject.next(ct)})})})}setupIdTokenTimer(){const J=this.getIdTokenExpiration(),pe=this.getIdTokenStoredAt(),et=this.calcTimeout(pe,J);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=(0,h.of)(new Kt("token_expires","id_token")).pipe((0,ee.g)(et)).subscribe(ct=>{this.ngZone.run(()=>{this.eventsSubject.next(ct)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(J,pe){const et=this.dateTimeService.now(),at=Math.max(0,(pe-J)*this.timeoutFactor-(et-J)),lt=2147483647;return at>lt?lt:at}setStorage(J){this._storage=J,this.configChanged()}loadDiscoveryDocument(J=null){return new Promise((pe,et)=>{J||((J=this.issuer||"").endsWith("/")||(J+="/"),J+=".well-known/openid-configuration"),this.validateUrlForHttps(J)?this.http.get(J).subscribe(ct=>{if(!this.validateDiscoveryDocument(ct))return this.eventsSubject.next(new Xe("discovery_document_validation_error",null)),void et("discovery_document_validation_error");this.loginUrl=ct.authorization_endpoint,this.logoutUrl=ct.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=ct.grant_types_supported,this.issuer=ct.issuer,this.tokenEndpoint=ct.token_endpoint,this.userinfoEndpoint=ct.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=ct.jwks_uri,this.sessionCheckIFrameUrl=ct.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(ct),this.revocationEndpoint=ct.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(at=>{const Bt=new ln("discovery_document_loaded",{discoveryDocument:ct,jwks:at});this.eventsSubject.next(Bt),pe(Bt)}).catch(at=>{this.eventsSubject.next(new Xe("discovery_document_load_error",at)),et(at)})},ct=>{this.logger.error("error loading discovery document",ct),this.eventsSubject.next(new Xe("discovery_document_load_error",ct)),et(ct)}):et("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((J,pe)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(et=>{this.jwks=et,J(et)},et=>{this.logger.error("error loading jwks",et),this.eventsSubject.next(new Xe("jwks_load_error",et)),pe(et)}):J(null)})}validateDiscoveryDocument(J){let pe;return this.skipIssuerCheck||J.issuer===this.issuer?(pe=this.validateUrlFromDiscoveryDocument(J.authorization_endpoint),pe.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",pe),!1):(pe=this.validateUrlFromDiscoveryDocument(J.end_session_endpoint),pe.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",pe),!1):(pe=this.validateUrlFromDiscoveryDocument(J.token_endpoint),pe.length>0&&this.logger.error("error validating token_endpoint in discovery document",pe),pe=this.validateUrlFromDiscoveryDocument(J.revocation_endpoint),pe.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",pe),pe=this.validateUrlFromDiscoveryDocument(J.userinfo_endpoint),pe.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",pe),!1):(pe=this.validateUrlFromDiscoveryDocument(J.jwks_uri),pe.length>0?(this.logger.error("error validating jwks_uri in discovery document",pe),!1):(this.sessionChecksEnabled&&!J.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+J.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(J,pe,et=new N.WM){return this.fetchTokenUsingPasswordFlow(J,pe,et).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((J,pe)=>{const et=(new N.WM).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:et,observe:"response",responseType:"text"}).subscribe(ct=>{if(this.debug("userinfo received",JSON.stringify(ct)),ct.headers.get("content-type").startsWith("application/json")){let at=JSON.parse(ct.body);const lt=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!lt.sub||at.sub!==lt.sub))return void pe("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");at=Object.assign({},lt,at),this._storage.setItem("id_token_claims_obj",JSON.stringify(at)),this.eventsSubject.next(new ln("user_profile_loaded")),J({info:at})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new ln("user_profile_loaded")),J(JSON.parse(ct.body))},ct=>{this.logger.error("error loading user info",ct),this.eventsSubject.next(new Xe("user_profile_load_error",ct)),pe(ct)})})}fetchTokenUsingPasswordFlow(J,pe,et=new N.WM){return this.fetchTokenUsingGrant("password",{username:J,password:pe},et)}fetchTokenUsingGrant(J,pe,et=new N.WM){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let ct=new N.LE({encoder:new zt}).set("grant_type",J).set("scope",this.scope);if(this.useHttpBasicAuth){const at=btoa(`${this.clientId}:${this.dummyClientSecret}`);et=et.set("Authorization","Basic "+at)}if(this.useHttpBasicAuth||(ct=ct.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(ct=ct.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const at of Object.getOwnPropertyNames(this.customQueryParams))ct=ct.set(at,this.customQueryParams[at]);for(const at of Object.keys(pe))ct=ct.set(at,pe[at]);return et=et.set("Content-Type","application/x-www-form-urlencoded"),new Promise((at,lt)=>{this.http.post(this.tokenEndpoint,ct,{headers:et}).subscribe(Bt=>{this.debug("tokenResponse",Bt),this.storeAccessTokenResponse(Bt.access_token,Bt.refresh_token,Bt.expires_in||this.fallbackAccessTokenExpirationTimeInSec,Bt.scope,this.extractRecognizedCustomParameters(Bt)),this.oidc&&Bt.id_token&&this.processIdToken(Bt.id_token,Bt.access_token).then(fn=>{this.storeIdToken(fn),at(Bt)}),this.eventsSubject.next(new ln("token_received")),at(Bt)},Bt=>{this.logger.error("Error performing ${grantType} flow",Bt),this.eventsSubject.next(new Xe("token_error",Bt)),lt(Bt)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((J,pe)=>{let et=new N.LE({encoder:new zt}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),ct=(new N.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const at=btoa(`${this.clientId}:${this.dummyClientSecret}`);ct=ct.set("Authorization","Basic "+at)}if(this.useHttpBasicAuth||(et=et.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(et=et.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const at of Object.getOwnPropertyNames(this.customQueryParams))et=et.set(at,this.customQueryParams[at]);this.http.post(this.tokenEndpoint,et,{headers:ct}).pipe((0,ue.w)(at=>this.oidc&&at.id_token?(0,y.D)(this.processIdToken(at.id_token,at.access_token,!0)).pipe((0,j.b)(lt=>this.storeIdToken(lt)),(0,Ne.U)(()=>at)):(0,h.of)(at))).subscribe(at=>{this.debug("refresh tokenResponse",at),this.storeAccessTokenResponse(at.access_token,at.refresh_token,at.expires_in||this.fallbackAccessTokenExpirationTimeInSec,at.scope,this.extractRecognizedCustomParameters(at)),this.eventsSubject.next(new ln("token_received")),this.eventsSubject.next(new ln("token_refreshed")),J(at)},at=>{this.logger.error("Error refreshing token",at),this.eventsSubject.next(new Xe("token_refresh_error",at)),pe(at)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=J=>{const pe=this.processMessageEventMessage(J);this.checkOrigin&&J.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:pe,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(et=>this.debug("tryLogin during silent refresh failed",et))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(J={},pe=!0){const et=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(J.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");const ct=this.document.getElementById(this.silentRefreshIFrameName);ct&&this.document.body.removeChild(ct),this.silentRefreshSubject=et.sub;const at=this.document.createElement("iframe");at.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,pe,J).then(Yt=>{at.setAttribute("src",Yt),this.silentRefreshShowIFrame||(at.style.display="none"),this.document.body.appendChild(at)});const Bt=this.events.pipe((0,$.h)(Yt=>Yt instanceof Xe),(0,be.P)()),fn=this.events.pipe((0,$.h)(Yt=>"token_received"===Yt.type),(0,be.P)()),yn=(0,h.of)(new Xe("silent_refresh_timeout",null)).pipe((0,ee.g)(this.silentRefreshTimeout));return(0,E.S)([Bt,fn,yn]).pipe((0,Ne.U)(Yt=>{if(Yt instanceof Xe)throw"silent_refresh_timeout"===Yt.type||(Yt=new Xe("silent_refresh_error",Yt)),this.eventsSubject.next(Yt),Yt;return"token_received"===Yt.type&&(Yt=new ln("silently_refreshed"),this.eventsSubject.next(Yt)),Yt})).toPromise()}initImplicitFlowInPopup(J){return this.initLoginFlowInPopup(J)}initLoginFlowInPopup(J){return J=J||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(pe=>new Promise((et,ct)=>{let Bt,lt=null;J.windowRef?J.windowRef&&!J.windowRef.closed&&(lt=J.windowRef,lt.location.href=pe):lt=window.open(pe,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(J));const fn=me=>{this.tryLogin({customHashFragment:me,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{Yt(),et(!0)},Ye=>{Yt(),ct(Ye)})};lt?Bt=window.setInterval(()=>{(!lt||lt.closed)&&(Yt(),ct(new Xe("popup_closed",{})))},500):ct(new Xe("popup_blocked",{}));const Yt=()=>{window.clearInterval(Bt),window.removeEventListener("storage",Lt),window.removeEventListener("message",Ke),null!==lt&&lt.close(),lt=null},Ke=me=>{const Ye=this.processMessageEventMessage(me);Ye&&null!==Ye?(window.removeEventListener("storage",Lt),fn(Ye)):console.log("false event firing")},Lt=me=>{"auth_hash"===me.key&&(window.removeEventListener("message",Ke),fn(me.newValue))};window.addEventListener("message",Ke),window.addEventListener("storage",Lt)}))}calculatePopupFeatures(J){const pe=J.height||470,et=J.width||500,ct=window.screenLeft+(window.outerWidth-et)/2;return`location=no,toolbar=no,width=${et},height=${pe},top=${window.screenTop+(window.outerHeight-pe)/2},left=${ct}`}processMessageEventMessage(J){let pe="#";if(this.silentRefreshMessagePrefix&&(pe+=this.silentRefreshMessagePrefix),!J||!J.data||"string"!=typeof J.data)return;const et=J.data;return et.startsWith(pe)?"#"+et.substr(pe.length):void 0}canPerformSessionCheck(){return!(!this.sessionChecksEnabled||(this.sessionCheckIFrameUrl?this.getSessionState()?typeof this.document>"u":(console.warn("sessionChecksEnabled is activated but there is no session_state"),1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),1)))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=J=>{const pe=J.origin.toLowerCase(),et=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),et.startsWith(pe)){switch(J.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",J)}else this.debug("sessionCheckEventListener","wrong origin",pe,"expected",et,"event",J)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Kt("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Kt("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Kt("session_terminated")),this.logOut(!0)):this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Kt("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe((0,$.h)(J=>"silently_refreshed"===J.type||"silent_refresh_timeout"===J.type||"silent_refresh_error"===J.type),(0,be.P)()).subscribe(J=>{"silently_refreshed"!==J.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Kt("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Kt("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const J=this.document.getElementById(this.sessionCheckIFrameName);J&&this.document.body.removeChild(J);const pe=this.document.createElement("iframe");pe.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),pe.setAttribute("src",this.sessionCheckIFrameUrl),pe.style.display="none",this.document.body.appendChild(pe),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const J=this.document.getElementById(this.sessionCheckIFrameName);J||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const pe=this.getSessionState();pe||this.stopSessionCheckTimer(),J.contentWindow.postMessage(this.clientId+" "+pe,this.issuer)}createLoginUrl(J="",pe="",et="",ct=!1,at={}){var lt=this;return(0,e.Z)(function*(){const Bt=lt;let fn;fn=et||lt.redirectUri;const yn=yield lt.createAndSaveNonce();if(J=J?yn+lt.config.nonceStateSeparator+encodeURIComponent(J):yn,!lt.requestAccessToken&&!lt.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");lt.responseType=lt.config.responseType?lt.config.responseType:lt.oidc&&lt.requestAccessToken?"id_token token":lt.oidc&&!lt.requestAccessToken?"id_token":"token";const Yt=Bt.loginUrl.indexOf("?")>-1?"&":"?";let Ke=Bt.scope;lt.oidc&&!Ke.match(/(^|\s)openid($|\s)/)&&(Ke="openid "+Ke);let Lt=Bt.loginUrl+Yt+"response_type="+encodeURIComponent(Bt.responseType)+"&client_id="+encodeURIComponent(Bt.clientId)+"&state="+encodeURIComponent(J)+"&redirect_uri="+encodeURIComponent(fn)+"&scope="+encodeURIComponent(Ke);if(lt.responseType.includes("code")&&!lt.disablePKCE){const[me,Ye]=yield lt.createChallangeVerifierPairForPKCE();lt.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",Ye):lt._storage.setItem("PKCE_verifier",Ye),Lt+="&code_challenge="+me,Lt+="&code_challenge_method=S256"}pe&&(Lt+="&login_hint="+encodeURIComponent(pe)),Bt.resource&&(Lt+="&resource="+encodeURIComponent(Bt.resource)),Bt.oidc&&(Lt+="&nonce="+encodeURIComponent(yn)),ct&&(Lt+="&prompt=none");for(const me of Object.keys(at))Lt+="&"+encodeURIComponent(me)+"="+encodeURIComponent(at[me]);if(lt.customQueryParams)for(const me of Object.getOwnPropertyNames(lt.customQueryParams))Lt+="&"+me+"="+encodeURIComponent(lt.customQueryParams[me]);return Lt})()}initImplicitFlowInternal(J="",pe=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let et={},ct=null;"string"==typeof pe?ct=pe:"object"==typeof pe&&(et=pe),this.createLoginUrl(J,ct,null,!1,et).then(this.config.openUri).catch(at=>{console.error("Error in initImplicitFlow",at),this.inImplicitFlow=!1})}initImplicitFlow(J="",pe=""){""!==this.loginUrl?this.initImplicitFlowInternal(J,pe):this.events.pipe((0,$.h)(et=>"discovery_document_loaded"===et.type)).subscribe(()=>this.initImplicitFlowInternal(J,pe))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(J){const pe=this;if(J.onTokenReceived){const et={idClaims:pe.getIdentityClaims(),idToken:pe.getIdToken(),accessToken:pe.getAccessToken(),state:pe.state};J.onTokenReceived(et)}}storeAccessTokenResponse(J,pe,et,ct,at){if(this._storage.setItem("access_token",J),ct&&!Array.isArray(ct)?this._storage.setItem("granted_scopes",JSON.stringify(ct.split(" "))):ct&&Array.isArray(ct)&&this._storage.setItem("granted_scopes",JSON.stringify(ct)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),et){const lt=1e3*et,fn=this.dateTimeService.new().getTime()+lt;this._storage.setItem("expires_at",""+fn)}pe&&this._storage.setItem("refresh_token",pe),at&&at.forEach((lt,Bt)=>{this._storage.setItem(Bt,lt)})}tryLogin(J=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(J).then(()=>!0):this.tryLoginImplicitFlow(J)}parseQueryString(J){return J&&0!==J.length?("?"===J.charAt(0)&&(J=J.substr(1)),this.urlHelper.parseQueryString(J)):{}}tryLoginCodeFlow(J=null){var pe=this;return(0,e.Z)(function*(){const et=(J=J||{}).customHashFragment?J.customHashFragment.substring(1):window.location.search,ct=pe.getCodePartsFromUrl(et),at=ct.code,lt=ct.state,Bt=ct.session_state;if(!J.preventClearHashAfterLogin){const Yt=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,Yt)}const[fn,yn]=pe.parseState(lt);if(pe.state=yn,ct.error){pe.debug("error trying to login"),pe.handleLoginError(J,ct);const Yt=new Xe("code_error",{},ct);return pe.eventsSubject.next(Yt),Promise.reject(Yt)}if(!J.disableNonceCheck){if(!fn)return pe.saveRequestedRoute(),Promise.resolve();if(!J.disableOAuth2StateCheck&&!pe.validateNonce(fn)){const Ke=new Xe("invalid_nonce_in_state",null);return pe.eventsSubject.next(Ke),Promise.reject(Ke)}}return pe.storeSessionState(Bt),at&&(yield pe.getTokenFromCode(at,J),pe.restoreRequestedRoute()),Promise.resolve()})()}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const J=this._storage.getItem("requested_route");J&&history.replaceState(null,"",window.location.origin+J)}getCodePartsFromUrl(J){return J&&0!==J.length?("?"===J.charAt(0)&&(J=J.substr(1)),this.urlHelper.parseQueryString(J)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(J,pe){let et=new N.LE({encoder:new zt}).set("grant_type","authorization_code").set("code",J).set("redirect_uri",pe.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let ct;ct=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),ct?et=et.set("code_verifier",ct):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(et,pe)}fetchAndProcessToken(J,pe){pe=pe||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let et=(new N.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const ct=btoa(`${this.clientId}:${this.dummyClientSecret}`);et=et.set("Authorization","Basic "+ct)}return this.useHttpBasicAuth||(J=J.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(J=J.set("client_secret",this.dummyClientSecret)),new Promise((ct,at)=>{if(this.customQueryParams)for(const lt of Object.getOwnPropertyNames(this.customQueryParams))J=J.set(lt,this.customQueryParams[lt]);this.http.post(this.tokenEndpoint,J,{headers:et}).subscribe(lt=>{this.debug("refresh tokenResponse",lt),this.storeAccessTokenResponse(lt.access_token,lt.refresh_token,lt.expires_in||this.fallbackAccessTokenExpirationTimeInSec,lt.scope,this.extractRecognizedCustomParameters(lt)),this.oidc&&lt.id_token?this.processIdToken(lt.id_token,lt.access_token,pe.disableNonceCheck).then(Bt=>{this.storeIdToken(Bt),this.eventsSubject.next(new ln("token_received")),this.eventsSubject.next(new ln("token_refreshed")),ct(lt)}).catch(Bt=>{this.eventsSubject.next(new Xe("token_validation_error",Bt)),console.error("Error validating tokens"),console.error(Bt),at(Bt)}):(this.eventsSubject.next(new ln("token_received")),this.eventsSubject.next(new ln("token_refreshed")),ct(lt))},lt=>{console.error("Error getting token",lt),this.eventsSubject.next(new Xe("token_refresh_error",lt)),at(lt)})})}tryLoginImplicitFlow(J=null){let pe;pe=(J=J||{}).customHashFragment?this.urlHelper.getHashFragmentParams(J.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",pe);const et=pe.state,[ct,at]=this.parseState(et);if(this.state=at,pe.error){this.debug("error trying to login"),this.handleLoginError(J,pe);const Yt=new Xe("token_error",{},pe);return this.eventsSubject.next(Yt),Promise.reject(Yt)}const lt=pe.access_token,Bt=pe.id_token,fn=pe.session_state,yn=pe.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!lt||this.requestAccessToken&&!J.disableOAuth2StateCheck&&!et||this.oidc&&!Bt)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!fn&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!J.disableNonceCheck&&!this.validateNonce(ct)){const Ke=new Xe("invalid_nonce_in_state",null);return this.eventsSubject.next(Ke),Promise.reject(Ke)}return this.requestAccessToken&&this.storeAccessTokenResponse(lt,null,pe.expires_in||this.fallbackAccessTokenExpirationTimeInSec,yn),this.oidc?this.processIdToken(Bt,lt,J.disableNonceCheck).then(Yt=>J.validationHandler?J.validationHandler({accessToken:lt,idClaims:Yt.idTokenClaims,idToken:Yt.idToken,state:et}).then(()=>Yt):Yt).then(Yt=>(this.storeIdToken(Yt),this.storeSessionState(fn),this.clearHashAfterLogin&&!J.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new ln("token_received")),this.callOnTokenReceivedIfExists(J),this.inImplicitFlow=!1,!0)).catch(Yt=>(this.eventsSubject.next(new Xe("token_validation_error",Yt)),this.logger.error("Error validating tokens"),this.logger.error(Yt),Promise.reject(Yt))):(this.eventsSubject.next(new ln("token_received")),this.clearHashAfterLogin&&!J.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(J),Promise.resolve(!0))}parseState(J){let pe=J,et="";if(J){const ct=J.indexOf(this.config.nonceStateSeparator);ct>-1&&(pe=J.substr(0,ct),et=J.substr(ct+this.config.nonceStateSeparator.length))}return[pe,et]}validateNonce(J){let pe;return pe=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),pe===J||(console.error("Validating access_token failed, wrong state/nonce.",pe,J),!1)}storeIdToken(J){this._storage.setItem("id_token",J.idToken),this._storage.setItem("id_token_claims_obj",J.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+J.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(J){this._storage.setItem("session_state",J)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(J,pe){J.onLoginError&&J.onLoginError(pe),this.clearHashAfterLogin&&!J.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(J=6e5){return this.clockSkewInSec||0===this.clockSkewInSec?1e3*this.clockSkewInSec:J}processIdToken(J,pe,et=!1){const ct=J.split("."),lt=ht(this.padBase64(ct[0])),Bt=JSON.parse(lt),yn=ht(this.padBase64(ct[1])),Yt=JSON.parse(yn);let Ke;if(Ke=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(Yt.aud)){if(Yt.aud.every(Xt=>Xt!==this.clientId)){const Xt="Wrong audience: "+Yt.aud.join(",");return this.logger.warn(Xt),Promise.reject(Xt)}}else if(Yt.aud!==this.clientId){const Xt="Wrong audience: "+Yt.aud;return this.logger.warn(Xt),Promise.reject(Xt)}if(!Yt.sub){const Xt="No sub claim in id_token";return this.logger.warn(Xt),Promise.reject(Xt)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==Yt.sub){const Xt=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${Yt.sub}`;return this.logger.warn(Xt),Promise.reject(Xt)}if(!Yt.iat){const Xt="No iat claim in id_token";return this.logger.warn(Xt),Promise.reject(Xt)}if(!this.skipIssuerCheck&&Yt.iss!==this.issuer){const Xt="Wrong issuer: "+Yt.iss;return this.logger.warn(Xt),Promise.reject(Xt)}if(!et&&Yt.nonce!==Ke){const Xt="Wrong nonce: "+Yt.nonce;return this.logger.warn(Xt),Promise.reject(Xt)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!Yt.at_hash){const Xt="An at_hash is needed!";return this.logger.warn(Xt),Promise.reject(Xt)}const Lt=this.dateTimeService.now(),me=1e3*Yt.iat,Ye=1e3*Yt.exp,gt=this.getClockSkewInMsec();if(me-gt>=Lt||Ye+gt-this.decreaseExpirationBySec<=Lt){const Xt="Token has expired";return console.error(Xt),console.error({now:Lt,issuedAtMSec:me,expiresAtMSec:Ye}),Promise.reject(Xt)}const kt={accessToken:pe,idToken:J,jwks:this.jwks,idTokenClaims:Yt,idTokenHeader:Bt,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(kt).then(()=>({idToken:J,idTokenClaims:Yt,idTokenClaimsJson:yn,idTokenHeader:Bt,idTokenHeaderJson:lt,idTokenExpiresAt:Ye})):this.checkAtHash(kt).then(Xt=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!Xt){const Rn="Wrong at_hash";return this.logger.warn(Rn),Promise.reject(Rn)}return this.checkSignature(kt).then(()=>{const ci={idToken:J,idTokenClaims:Yt,idTokenClaimsJson:yn,idTokenHeader:Bt,idTokenHeaderJson:lt,idTokenExpiresAt:Ye};return this.disableAtHashCheck?ci:this.checkAtHash(kt).then(Si=>{if(this.requestAccessToken&&!Si){const er="Wrong at_hash";return this.logger.warn(er),Promise.reject(er)}return ci})})})}getIdentityClaims(){const J=this._storage.getItem("id_token_claims_obj");return J?JSON.parse(J):null}getGrantedScopes(){const J=this._storage.getItem("granted_scopes");return J?JSON.parse(J):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(J){for(;J.length%4!=0;)J+="=";return J}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const J=this._storage.getItem("expires_at"),pe=this.dateTimeService.new();return!(J&&parseInt(J,10)-this.decreaseExpirationBySec<pe.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const J=this._storage.getItem("id_token_expires_at"),pe=this.dateTimeService.new();return!(J&&parseInt(J,10)-this.decreaseExpirationBySec<pe.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(J){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(J)>=0&&null!==this._storage.getItem(J)?JSON.parse(this._storage.getItem(J)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(J={},pe=""){let et=!1;"boolean"==typeof J&&(et=J,J={});const ct=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(lt=>this._storage.removeItem(lt)),this.silentRefreshSubject=null,this.eventsSubject.next(new Kt("logout")),!this.logoutUrl||et)return;let at;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)at=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(ct)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let lt=new N.LE({encoder:new zt});ct&&(lt=lt.set("id_token_hint",ct));const Bt=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";Bt&&(lt=lt.set("post_logout_redirect_uri",Bt),pe&&(lt=lt.set("state",pe)));for(const fn in J)lt=lt.set(fn,J[fn]);at=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+lt.toString()}this.config.openUri(at)}createAndSaveNonce(){const J=this;return this.createNonce().then(function(pe){return J.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",pe):J._storage.setItem("nonce",pe),pe})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const J=this.document.getElementById(this.silentRefreshIFrameName);J&&J.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const pe=this.document.getElementById(this.sessionCheckIFrameName);pe&&pe.remove()}createNonce(){return new Promise(J=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let et=45,ct="";const at=typeof self>"u"?null:self.crypto||self.msCrypto;if(at){let lt=new Uint8Array(et);at.getRandomValues(lt),lt.map||(lt.map=Array.prototype.map),lt=lt.map(Bt=>pe.charCodeAt(Bt%66)),ct=String.fromCharCode.apply(null,lt)}else for(;0<et--;)ct+=pe[66*Math.random()|0];J(Ct(ct))})}checkAtHash(J){var pe=this;return(0,e.Z)(function*(){return pe.tokenValidationHandler?pe.tokenValidationHandler.validateAtHash(J):(pe.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})()}checkSignature(J){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(J):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(J="",pe={}){return"code"===this.responseType?this.initCodeFlow(J,pe):this.initImplicitFlow(J,pe)}initCodeFlow(J="",pe={}){""!==this.loginUrl?this.initCodeFlowInternal(J,pe):this.events.pipe((0,$.h)(et=>"discovery_document_loaded"===et.type)).subscribe(()=>this.initCodeFlowInternal(J,pe))}initCodeFlowInternal(J="",pe={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let et={},ct=null;"string"==typeof pe?ct=pe:"object"==typeof pe&&(et=pe),this.createLoginUrl(J,ct,null,!1,et).then(this.config.openUri).catch(at=>{console.error("Error in initAuthorizationCodeFlow"),console.error(at)})}createChallangeVerifierPairForPKCE(){var J=this;return(0,e.Z)(function*(){if(!J.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const pe=yield J.createNonce();return[Ct(yield J.crypto.calcHash(pe,"sha-256")),pe]})()}extractRecognizedCustomParameters(J){const pe=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(et=>{J[et]&&pe.set(et,JSON.stringify(J[et]))}),pe}revokeTokenAndLogout(J={},pe=!1){const et=this.revocationEndpoint,ct=this.getAccessToken(),at=this.getRefreshToken();if(!ct)return Promise.resolve();let lt=new N.LE({encoder:new zt}),Bt=(new N.WM).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const fn=btoa(`${this.clientId}:${this.dummyClientSecret}`);Bt=Bt.set("Authorization","Basic "+fn)}if(this.useHttpBasicAuth||(lt=lt.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(lt=lt.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const fn of Object.getOwnPropertyNames(this.customQueryParams))lt=lt.set(fn,this.customQueryParams[fn]);return new Promise((fn,yn)=>{let Yt,Ke;if(ct){const Lt=lt.set("token",ct).set("token_type_hint","access_token");Yt=this.http.post(et,Lt,{headers:Bt})}else Yt=(0,h.of)(null);if(at){const Lt=lt.set("token",at).set("token_type_hint","refresh_token");Ke=this.http.post(et,Lt,{headers:Bt})}else Ke=(0,h.of)(null);pe&&(Yt=Yt.pipe((0,De.K)(Lt=>0===Lt.status?(0,h.of)(null):(0,C._)(Lt))),Ke=Ke.pipe((0,De.K)(Lt=>0===Lt.status?(0,h.of)(null):(0,C._)(Lt)))),(0,F.a)([Yt,Ke]).subscribe(Lt=>{this.logOut(J),fn(Lt),this.logger.info("Token successfully revoked")},Lt=>{this.logger.error("Error revoking token",Lt),this.eventsSubject.next(new Xe("token_revoke_error",Lt)),yn(Lt)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}static#e=this.\u0275fac=function(pe){return new(pe||Ut)(S.LFG(S.R0b),S.LFG(N.eN),S.LFG(on,8),S.LFG(jt,8),S.LFG(Et,8),S.LFG(An),S.LFG(rn),S.LFG(On,8),S.LFG(u.K0),S.LFG(Vt))};static#t=this.\u0275prov=S.Yz7({token:Ut,factory:Ut.\u0275fac})}return Ut})();class Pn{}class mi{handleError(It){return(0,C._)(It)}}let ri=(()=>{class Ut{constructor(J,pe,et){this.oAuthService=J,this.errorHandler=pe,this.moduleConfig=et}checkUrl(J){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(J):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(pe=>J.toLowerCase().startsWith(pe.toLowerCase()))}intercept(J,pe){const et=J.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(et)?this.moduleConfig.resourceServer.sendAccessToken?(0,V.T)((0,h.of)(this.oAuthService.getAccessToken()).pipe((0,$.h)(at=>!!at)),this.oAuthService.events.pipe((0,$.h)(at=>"token_received"===at.type),(0,re.V)(this.oAuthService.waitForTokenInMsec||0),(0,De.K)(()=>(0,h.of)(null)),(0,Ne.U)(()=>this.oAuthService.getAccessToken()))).pipe((0,Ae.q)(1),(0,Me.z)(at=>{if(at){const Bt=J.headers.set("Authorization","Bearer "+at);J=J.clone({headers:Bt})}return pe.handle(J).pipe((0,De.K)(lt=>this.errorHandler.handleError(lt)))})):pe.handle(J).pipe((0,De.K)(at=>this.errorHandler.handleError(at))):pe.handle(J)}static#e=this.\u0275fac=function(pe){return new(pe||Ut)(S.LFG(jn),S.LFG(Pn),S.LFG(fe,8))};static#t=this.\u0275prov=S.Yz7({token:Ut,factory:Ut.\u0275fac})}return Ut})();function ce(){return console}function Di(){return typeof sessionStorage<"u"?sessionStorage:new cn}function Ii(Ut=null,It=st){return(0,S.MR2)([jn,An,{provide:rn,useFactory:ce},{provide:on,useFactory:Di},{provide:jt,useClass:It},{provide:On,useClass:sn},{provide:Pn,useClass:mi},{provide:fe,useValue:Ut},{provide:N.TP,useClass:ri,multi:!0},{provide:Vt,useClass:xt}])}let Qt=(()=>{class Ut{static forRoot(J=null,pe=st){return{ngModule:Ut,providers:[Ii(J,pe)]}}static#e=this.\u0275fac=function(pe){return new(pe||Ut)};static#t=this.\u0275mod=S.oAB({type:Ut});static#n=this.\u0275inj=S.cJS({imports:[u.ez]})}return Ut})();new S.OlP("AUTH_CONFIG")},4953:(Ze,le,l)=>{"use strict";l.d(le,{KC:()=>yn,kb:()=>Yt});var e=l(9212),S=l(6814),u=l(2495),N=l(9397),x=l(5592),h=l(2438),y=l(7398),E=l(3019),C=l(9773),F=l(4664),V=l(6232),$=l(2096),j=l(8645),q=l(3997),ee=l(927),ue=l(9769),Ne=l(5619),be=l(3620),De=l(7394),re=l(9360),Ae=l(8251),st=l(2181),fe=l(9028),Tt=l(9388),Vt=l(2831),xt=l(8180),dt=l(564),cn=l(4716);const Ct="function"==typeof Float32Array;function Et(Ke,Lt){return 1-3*Lt+3*Ke}function zt(Ke,Lt){return 3*Lt-6*Ke}function jt(Ke){return 3*Ke}function un(Ke,Lt,me){return((Et(Lt,me)*Ke+zt(Lt,me))*Ke+jt(Lt))*Ke}function An(Ke,Lt,me){return 3*Et(Lt,me)*Ke*Ke+2*zt(Lt,me)*Ke+jt(Lt)}function K(Ke){return Ke}function Re(Ke,Lt,me,Ye){if(!(0<=Ke&&Ke<=1&&0<=me&&me<=1))throw new Error("bezier x values must be in [0, 1] range");if(Ke===Lt&&me===Ye)return K;let gt=Ct?new Float32Array(11):new Array(11);for(let Xt=0;Xt<11;++Xt)gt[Xt]=un(.1*Xt,Ke,me);return function(Rn){return 0===Rn?0:1===Rn?1:un(function kt(Xt){let Rn=0,ci=1;for(;10!==ci&&gt[ci]<=Xt;++ci)Rn+=.1;--ci;let ir=Rn+(Xt-gt[ci])/(gt[ci+1]-gt[ci])*.1,Ji=An(ir,Ke,me);return Ji>=.001?function U(Ke,Lt,me,Ye){for(let gt=0;gt<4;++gt){let kt=An(Lt,me,Ye);if(0===kt)return Lt;Lt-=(un(Lt,me,Ye)-Ke)/kt}return Lt}(Xt,ir,Ke,me):0===Ji?ir:function Te(Ke,Lt,me,Ye,gt){let kt,Xt,Rn=0;do{Xt=Lt+(me-Lt)/2,kt=un(Xt,Ye,gt)-Ke,kt>0?me=Xt:Lt=Xt}while(Math.abs(kt)>1e-7&&++Rn<10);return Xt}(Xt,Rn,Rn+.1,Ke,me)}(Rn),Lt,Ye)}}const Ue=new e.OlP("SMOOTH_SCROLL_OPTIONS");let tt=(()=>{class Ke{get _w(){return this._document.defaultView}get _now(){return this._w.performance&&this._w.performance.now?this._w.performance.now.bind(this._w.performance):Date.now}constructor(me,Ye,gt){this._document=me,this._platform=Ye,this._onGoingScrolls=new Map,this._defaultOptions={duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1},...gt}}_scrollElement(me,Ye,gt){me.scrollLeft=Ye,me.scrollTop=gt}_getElement(me,Ye){return"string"==typeof me?(Ye||this._document).querySelector(me):(0,u.fI)(me)}_initSmoothScroll(me){return this._onGoingScrolls.has(me)&&this._onGoingScrolls.get(me).next(),this._onGoingScrolls.set(me,new j.x).get(me)}_isFinished(me,Ye,gt){return me.currentX!==me.x||me.currentY!==me.y||(Ye.next(),gt(),!1)}_interrupted(me,Ye){return(0,E.T)((0,h.R)(me,"wheel",{passive:!0,capture:!0}),(0,h.R)(me,"touchmove",{passive:!0,capture:!0}),Ye).pipe((0,xt.q)(1))}_destroy(me,Ye){Ye.complete(),this._onGoingScrolls.delete(me)}_step(me){return new x.y(Ye=>{let gt=(this._now()-me.startTime)/me.duration;gt=gt>1?1:gt;const kt=me.easing(gt);me.currentX=me.startX+(me.x-me.startX)*kt,me.currentY=me.startY+(me.y-me.startY)*kt,this._scrollElement(me.scrollable,me.currentX,me.currentY),ee.Z.schedule(()=>Ye.next(me))})}_applyScrollToOptions(me,Ye){if(!Ye.duration)return this._scrollElement(me,Ye.left,Ye.top),Promise.resolve();const gt=this._initSmoothScroll(me),kt={scrollable:me,startTime:this._now(),startX:me.scrollLeft,startY:me.scrollTop,x:null==Ye.left?me.scrollLeft:~~Ye.left,y:null==Ye.top?me.scrollTop:~~Ye.top,duration:Ye.duration,easing:Re(Ye.easing.x1,Ye.easing.y1,Ye.easing.x2,Ye.easing.y2)};return new Promise(Xt=>{(0,$.of)(null).pipe(function rn(Ke,Lt=1/0,me){return Lt=(Lt||0)<1?1/0:Lt,(0,re.e)((Ye,gt)=>(0,dt.p)(Ye,gt,Ke,Lt,void 0,!0,me))}(()=>this._step(kt).pipe(function on(Ke,Lt=!1){return(0,re.e)((me,Ye)=>{let gt=0;me.subscribe((0,Ae.x)(Ye,kt=>{const Xt=Ke(kt,gt++);(Xt||Lt)&&Ye.next(kt),!Xt&&Ye.complete()}))})}(Rn=>this._isFinished(Rn,gt,Xt)))),(0,C.R)(this._interrupted(me,gt)),(0,cn.x)(()=>this._destroy(me,gt))).subscribe()})}scrollTo(me,Ye){if((0,S.NF)(this._platform)){const gt=this._getElement(me),kt="rtl"===getComputedStyle(gt).direction,Xt=(0,Vt._i)(),Rn={...this._defaultOptions,...Ye,left:null==Ye.left?kt?Ye.end:Ye.start:Ye.left,right:null==Ye.right?kt?Ye.start:Ye.end:Ye.right};return null!=Rn.bottom&&(Rn.top=gt.scrollHeight-gt.clientHeight-Rn.bottom),kt&&0!==Xt?(null!=Rn.left&&(Rn.right=gt.scrollWidth-gt.clientWidth-Rn.left),2===Xt?Rn.left=Rn.right:1===Xt&&(Rn.left=Rn.right?-Rn.right:Rn.right)):null!=Rn.right&&(Rn.left=gt.scrollWidth-gt.clientWidth-Rn.right),this._applyScrollToOptions(gt,Rn)}return Promise.resolve()}scrollToElement(me,Ye,gt={}){const kt=this._getElement(me),Xt=this._getElement(Ye,kt),Rn={...gt,left:Xt.offsetLeft+(gt.left||0),top:Xt.offsetTop+(gt.top||0)};return Xt?this.scrollTo(kt,Rn):Promise.resolve()}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.LFG(S.K0),e.LFG(e.Lbi),e.LFG(Ue,8))};static#t=this.\u0275prov=e.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})();const yt=["scrollbarY"],Qe=["scrollbarX"];function St(Ke,Lt){if(1&Ke&&e._UZ(0,"scrollbar-x",null,4),2&Ke){const me=e.oxw(2);e.uIk("scrollable",me.state.isHorizontallyScrollable)("fit",me.state.verticalUsed)}}function $t(Ke,Lt){if(1&Ke&&e._UZ(0,"scrollbar-y",null,5),2&Ke){const me=e.oxw(2);e.uIk("scrollable",me.state.isVerticallyScrollable)("fit",me.state.horizontalUsed)}}function an(Ke,Lt){if(1&Ke&&(e.ynx(0),e.YNc(1,St,2,2,"scrollbar-x",3)(2,$t,2,2,"scrollbar-y",3),e.BQk()),2&Ke){const me=e.oxw();e.xp6(),e.Q6J("ngIf",me.state.horizontalUsed),e.xp6(),e.Q6J("ngIf",me.state.verticalUsed)}}const On=["*"];let Hn=(()=>{class Ke{constructor(me){this.el=me}set ngAttr(me){for(const[Ye,gt]of Object.entries(me))this.el.nativeElement.setAttribute(Ye,gt)}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","ngAttr",""]],inputs:{ngAttr:"ngAttr"},standalone:!0})}return Ke})();function zn(Ke){return(0,N.b)(()=>{Ke.onselectstart=()=>!1})}function sn(Ke){return(0,N.b)(()=>{Ke.onselectstart=null})}function jn(){return(0,N.b)(Ke=>Ke.stopPropagation())}function Pn(Ke,Lt){return Ke.clientX>=Lt.left&&Ke.clientX<=Lt.left+Lt.width&&Ke.clientY>=Lt.top&&Ke.clientY<=Lt.top+Lt.height}let mi=(()=>{class Ke{get clientHeight(){return this.nativeElement.clientHeight}get clientWidth(){return this.nativeElement.clientWidth}get scrollHeight(){return this.nativeElement.scrollHeight}get scrollWidth(){return this.nativeElement.scrollWidth}get scrollTop(){return this.nativeElement.scrollTop}get scrollLeft(){return this.nativeElement.scrollLeft}get scrollMaxX(){return this.scrollWidth-this.clientWidth}get scrollMaxY(){return this.scrollHeight-this.clientHeight}get contentHeight(){return this.contentWrapperElement?.clientHeight||0}get contentWidth(){return this.contentWrapperElement?.clientWidth||0}constructor(me){this.viewPort=me,this.nativeElement=me.nativeElement}activatePointerEvents(me,Ye){this.hovered=new x.y(gt=>{const kt=(0,h.R)(this.nativeElement,"mousemove",{passive:!0}),Xt=me?kt:kt.pipe(jn()),Rn=(0,h.R)(this.nativeElement,"mouseleave",{passive:!0}).pipe((0,y.U)(()=>!1));(0,E.T)(Xt,Rn).pipe((0,N.b)(ci=>gt.next(ci)),(0,C.R)(Ye)).subscribe()}),this.clicked=new x.y(gt=>{const kt=(0,h.R)(this.nativeElement,"mousedown",{passive:!0}).pipe((0,N.b)(Rn=>gt.next(Rn))),Xt=(0,h.R)(this.nativeElement,"mouseup",{passive:!0}).pipe((0,N.b)(()=>gt.next(!1)));kt.pipe((0,F.w)(()=>Xt),(0,C.R)(Ye)).subscribe()})}setAsWrapper(){this.nativeElement.className="ng-native-scrollbar-hider ng-scroll-layer",this.nativeElement.firstElementChild&&(this.nativeElement.firstElementChild.className="ng-scroll-layer")}setAsViewport(me){this.nativeElement.className+=` ng-native-scrollbar-hider ng-scroll-viewport ${me}`,this.nativeElement.firstElementChild&&(this.contentWrapperElement=this.nativeElement.firstElementChild,this.contentWrapperElement.classList.add("ng-scroll-content"))}scrollYTo(me){this.nativeElement.scrollTop=me}scrollXTo(me){this.nativeElement.scrollLeft=me}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.Y36(e.SBq))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","scrollViewport",""]],standalone:!0})}return Ke})(),ri=(()=>{class Ke{static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)};static#t=this.\u0275dir=e.lG2({type:Ke})}return Ke})(),ce=(()=>{class Ke{get clicked(){const me=(0,h.R)(this.trackElement,"mousedown",{passive:!0}).pipe(jn(),zn(this.document)),Ye=(0,h.R)(this.document,"mouseup",{passive:!0}).pipe(jn(),sn(this.document),(0,F.w)(()=>V.E));return(0,E.T)(me,Ye)}get clientRect(){return this.trackElement.getBoundingClientRect()}constructor(me,Ye,gt){this.cmp=me,this.trackElement=Ye,this.document=gt}onTrackClicked(me,Ye,gt){return(0,$.of)(me).pipe((0,y.U)(kt=>kt[this.pageProperty]),(0,y.U)(kt=>(kt-this.offset-Ye/2)/this.size*gt),(0,N.b)(kt=>{this.cmp.scrollTo({...this.mapToScrollToOption(kt),duration:(0,u.su)(this.cmp.trackClickScrollDuration)})}))}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.Y36(ri),e.Y36(HTMLElement),e.Y36(Document))};static#t=this.\u0275dir=e.lG2({type:Ke})}return Ke})(),Di=(()=>{class Ke extends ce{get pageProperty(){return"pageX"}get offset(){return this.clientRect.left}get size(){return this.trackElement.clientWidth}constructor(me,Ye,gt){super(me,Ye.nativeElement,gt),this.cmp=me,this.document=gt}mapToScrollToOption(me){return{left:me}}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.Y36(ri),e.Y36(e.SBq),e.Y36(S.K0))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","scrollbarTrackX",""]],standalone:!0,features:[e.qOj]})}return Ke})(),Ii=(()=>{class Ke extends ce{get pageProperty(){return"pageY"}get offset(){return this.clientRect.top}get size(){return this.trackElement.clientHeight}constructor(me,Ye,gt){super(me,Ye.nativeElement,gt),this.cmp=me,this.document=gt}mapToScrollToOption(me){return{top:me}}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.Y36(ri),e.Y36(e.SBq),e.Y36(S.K0))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","scrollbarTrackY",""]],standalone:!0,features:[e.qOj]})}return Ke})(),Qt=(()=>{class Ke{get trackMax(){return this.track.size-this.size}get clientRect(){return this.thumbElement.getBoundingClientRect()}get clicked(){return(0,h.R)(this.thumbElement,"mousedown",{passive:!0}).pipe(jn())}constructor(me,Ye,gt,kt){this.cmp=me,this.track=Ye,this.thumbElement=gt,this.document=kt,this._dragging=new j.x,this.dragging=this._dragging.pipe((0,q.x)())}update(){const me=function Cr(Ke,Lt,me){return Math.max(~~(Ke/Lt*Ke),me)}(this.track.size,this.viewportScrollSize,this.cmp.minThumbSize),Ye=function Qi(Ke,Lt,me){return Ke*me/Lt}(this.viewportScrollOffset,this.viewportScrollMax,this.trackMax);ee.Z.schedule(()=>this.updateStyles(this.handleDirection(Ye,this.trackMax),me))}dragged(me){let Ye,gt;const kt=(0,$.of)(me).pipe(zn(this.document),(0,N.b)(()=>{Ye=this.trackMax,gt=this.viewportScrollMax,this.setDragging(!0)})),Xt=(0,h.R)(this.document,"mousemove",{capture:!0,passive:!0}).pipe(jn()),Rn=(0,h.R)(this.document,"mouseup",{capture:!0}).pipe(jn(),sn(this.document),(0,N.b)(()=>this.setDragging(!1)));return kt.pipe((0,y.U)(ci=>ci[this.pageProperty]),(0,y.U)(ci=>ci-this.dragStartOffset),(0,ue.z)(ci=>Xt.pipe((0,y.U)(Si=>Si[this.clientProperty]),(0,y.U)(Si=>Si-this.track.offset),(0,y.U)(Si=>gt*(Si-ci)/Ye),(0,y.U)(Si=>this.handleDrag(Si,gt)),(0,N.b)(Si=>this.scrollTo(Si)),(0,C.R)(Rn))))}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.Y36(ri),e.Y36(ce),e.Y36(HTMLElement),e.Y36(Document))};static#t=this.\u0275dir=e.lG2({type:Ke,outputs:{dragging:"dragging"}})}return Ke})(),Xi=(()=>{class Ke extends Qt{get clientProperty(){return"clientX"}get pageProperty(){return"pageX"}get viewportScrollSize(){return this.cmp.viewport.scrollWidth}get viewportScrollOffset(){return this.cmp.viewport.scrollLeft}get viewportScrollMax(){return this.cmp.viewport.scrollMaxX}get dragStartOffset(){return this.clientRect.left+this.document.defaultView.pageXOffset||0}get size(){return this.thumbElement.clientWidth}constructor(me,Ye,gt,kt,Xt){super(me,Ye,gt.nativeElement,kt),this.cmp=me,this.track=Ye,this.element=gt,this.document=kt,this.dir=Xt}updateStyles(me,Ye){this.thumbElement.style.width=`${Ye}px`,this.thumbElement.style.transform=`translate3d(${me}px, 0, 0)`}handleDrag(me,Ye){if("rtl"===this.dir.value){if(1===this.cmp.manager.rtlScrollAxisType)return me-Ye;if(2===this.cmp.manager.rtlScrollAxisType)return Ye-me}return me}handleDirection(me,Ye){if("rtl"===this.dir.value){if(2===this.cmp.manager.rtlScrollAxisType)return-me;if(0===this.cmp.manager.rtlScrollAxisType)return me-Ye}return me}setDragging(me){this.cmp.setDragging({horizontalDragging:me})}scrollTo(me){this.cmp.viewport.scrollXTo(me)}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.Y36(ri),e.Y36(Di),e.Y36(e.SBq),e.Y36(S.K0),e.Y36(Tt.Is))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","scrollbarThumbX",""]],standalone:!0,features:[e.qOj]})}return Ke})(),Ut=(()=>{class Ke extends Qt{get pageProperty(){return"pageY"}get viewportScrollSize(){return this.cmp.viewport.scrollHeight}get viewportScrollOffset(){return this.cmp.viewport.scrollTop}get viewportScrollMax(){return this.cmp.viewport.scrollMaxY}get clientProperty(){return"clientY"}get dragStartOffset(){return this.clientRect.top+this.document.defaultView.pageYOffset||0}get size(){return this.thumbElement.clientHeight}constructor(me,Ye,gt,kt){super(me,Ye,gt.nativeElement,kt),this.cmp=me,this.track=Ye,this.element=gt,this.document=kt}updateStyles(me,Ye){this.thumbElement.style.height=`${Ye}px`,this.thumbElement.style.transform=`translate3d(0px, ${me}px, 0)`}handleDrag(me){return me}handleDirection(me){return me}setDragging(me){this.cmp.setDragging({verticalDragging:me})}scrollTo(me){this.cmp.viewport.scrollYTo(me)}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.Y36(ri),e.Y36(Ii),e.Y36(e.SBq),e.Y36(S.K0))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","scrollbarThumbY",""]],standalone:!0,features:[e.qOj]})}return Ke})(),It=(()=>{class Ke{constructor(me,Ye,gt,kt,Xt){this.el=me,this.cmp=Ye,this.platform=gt,this.document=kt,this.zone=Xt,this.destroyed=new j.x}activatePointerEvents(){let me,Ye,gt;return"viewport"===this.cmp.pointerEventsMethod?(this.viewportTrackClicked=new j.x,this.viewportThumbClicked=new j.x,this.cmp.viewport.activatePointerEvents(this.cmp.viewportPropagateMouseMove,this.destroyed),me=this.viewportThumbClicked,Ye=this.viewportTrackClicked,gt=this.cmp.viewport.hovered.pipe((0,y.U)(kt=>!!kt&&Pn(kt,this.el.getBoundingClientRect())),(0,q.x)(),(0,N.b)(kt=>this.document.onselectstart=kt?()=>!1:null)),this.cmp.viewport.clicked.pipe((0,N.b)(kt=>{kt?Pn(kt,this.thumb.clientRect)?this.viewportThumbClicked.next(kt):Pn(kt,this.track.clientRect)&&(this.cmp.setClicked(!0),this.viewportTrackClicked.next(kt)):this.cmp.setClicked(!1)}),(0,C.R)(this.destroyed)).subscribe()):(me=this.thumb.clicked,Ye=this.track.clicked,gt=this.hovered),(0,E.T)(gt.pipe((0,N.b)(kt=>this.setHovered(kt))),me.pipe((0,F.w)(kt=>this.thumb.dragged(kt))),Ye.pipe((0,F.w)(kt=>this.track.onTrackClicked(kt,this.thumb.size,this.viewportScrollSize))))}get hovered(){const me=(0,h.R)(this.el,"mouseenter",{passive:!0}).pipe(jn(),(0,y.U)(()=>!0)),Ye=(0,h.R)(this.el,"mouseleave",{passive:!0}).pipe(jn(),(0,y.U)(()=>!1));return(0,E.T)(me,Ye)}ngOnInit(){this.zone.runOutsideAngular(()=>{!(this.platform.IOS||this.platform.ANDROID)&&!this.cmp.pointerEventsDisabled&&this.activatePointerEvents().pipe((0,C.R)(this.destroyed)).subscribe(),(0,E.T)(this.cmp.scrolled,this.cmp.updated).pipe((0,N.b)(()=>this.thumb?.update()),(0,C.R)(this.destroyed)).subscribe()})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete(),this.viewportThumbClicked&&this.viewportTrackClicked&&(this.viewportTrackClicked.complete(),this.viewportThumbClicked.complete())}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.Y36(HTMLElement),e.Y36(ri),e.Y36(Vt.t4),e.Y36(Document),e.Y36(e.R0b))};static#t=this.\u0275dir=e.lG2({type:Ke})}return Ke})(),J=(()=>{class Ke extends It{get viewportScrollSize(){return this.cmp.viewport.scrollHeight}constructor(me,Ye,gt,kt,Xt){super(me.nativeElement,Ye,gt,kt,Xt),this.cmp=Ye,this.platform=gt,this.document=kt,this.zone=Xt}setHovered(me){this.cmp.setHovered({verticalHovered:me})}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.Y36(e.SBq),e.Y36(ri),e.Y36(Vt.t4),e.Y36(S.K0),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:Ke,selectors:[["scrollbar-y"]],viewQuery:function(Ye,gt){if(1&Ye&&(e.Gf(Ii,7),e.Gf(Ut,7)),2&Ye){let kt;e.iGM(kt=e.CRH())&&(gt.track=kt.first),e.iGM(kt=e.CRH())&&(gt.thumb=kt.first)}},hostVars:2,hostBindings:function(Ye,gt){2&Ye&&e.ekj("scrollbar-control",!0)},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:6,consts:[["scrollbarTrackY",""],["scrollbarThumbY",""]],template:function(Ye,gt){1&Ye&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&Ye&&(e.Gre("ng-scrollbar-track ",gt.cmp.trackClass,""),e.xp6(),e.Gre("ng-scrollbar-thumb ",gt.cmp.thumbClass,""))},dependencies:[Ii,Ut],styles:[".ng-scrollbar-wrapper>scrollbar-y.scrollbar-control{width:var(--vertical-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track{width:var(--vertical-scrollbar-size);height:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{height:0;width:100%}  .ng-scrollbar-wrapper[verticalHovered=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[verticalDragging=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-y.scrollbar-control{top:0;bottom:0}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr]>scrollbar-y.scrollbar-control{right:0;left:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertY]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertAll]>scrollbar-y.scrollbar-control{left:0;right:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl]>scrollbar-y.scrollbar-control{left:0;right:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertY]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertAll]>scrollbar-y.scrollbar-control{left:unset;right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all]>scrollbar-y.scrollbar-control[fit=true]{bottom:var(--scrollbar-total-size);top:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertX]>scrollbar-y.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertAll]>scrollbar-y.scrollbar-control[fit=true]{top:var(--scrollbar-total-size);bottom:0}"],changeDetection:0})}return Ke})(),pe=(()=>{class Ke extends It{get viewportScrollSize(){return this.cmp.viewport.scrollWidth}constructor(me,Ye,gt,kt,Xt){super(me.nativeElement,Ye,gt,kt,Xt),this.cmp=Ye,this.platform=gt,this.document=kt,this.zone=Xt}setHovered(me){this.cmp.setHovered({horizontalHovered:me})}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.Y36(e.SBq),e.Y36(ri),e.Y36(Vt.t4),e.Y36(S.K0),e.Y36(e.R0b))};static#t=this.\u0275cmp=e.Xpm({type:Ke,selectors:[["scrollbar-x"]],viewQuery:function(Ye,gt){if(1&Ye&&(e.Gf(Di,7),e.Gf(Xi,7)),2&Ye){let kt;e.iGM(kt=e.CRH())&&(gt.track=kt.first),e.iGM(kt=e.CRH())&&(gt.thumb=kt.first)}},hostVars:2,hostBindings:function(Ye,gt){2&Ye&&e.ekj("scrollbar-control",!0)},standalone:!0,features:[e.qOj,e.jDz],decls:2,vars:6,consts:[["scrollbarTrackX",""],["scrollbarThumbX",""]],template:function(Ye,gt){1&Ye&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&Ye&&(e.Gre("ng-scrollbar-track ",gt.cmp.trackClass,""),e.xp6(),e.Gre("ng-scrollbar-thumb ",gt.cmp.thumbClass,""))},dependencies:[Di,Xi],styles:[".ng-scrollbar-wrapper>scrollbar-x.scrollbar-control{height:var(--horizontal-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track{height:var(--horizontal-scrollbar-size);width:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{width:0;height:100%}  .ng-scrollbar-wrapper[horizontalHovered=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[horizontalDragging=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[position=invertX]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-x.scrollbar-control{left:0;right:0;bottom:0;top:unset}  .ng-scrollbar-wrapper[deactivated=false][position=invertX]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertY]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertY]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}"],changeDetection:0})}return Ke})();const et=new e.OlP("NG_SCROLLBAR_OPTIONS"),ct={viewClass:"",trackClass:"",thumbClass:"",track:"vertical",appearance:"compact",visibility:"native",position:"native",pointerEventsMethod:"viewport",trackClickScrollDuration:300,minThumbSize:20,windowResizeDebounce:0,sensorDebounce:0,scrollAuditTime:0,viewportPropagateMouseMove:!0,autoHeightDisabled:!0,autoWidthDisabled:!0,sensorDisabled:!1,pointerEventsDisabled:!1};let at=(()=>{class Ke{constructor(me){this.globalOptions=me?{...ct,...me}:ct,this.rtlScrollAxisType=(0,Vt._i)()}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.LFG(et,8))};static#t=this.\u0275prov=e.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})(),lt=(()=>{class Ke{constructor(me,Ye,gt){this.document=me,this.manager=Ye,this.platform=gt,this._scrollbarSize=new Ne.X(this.getNativeScrollbarSize()),this.scrollbarSize=this._scrollbarSize.asObservable(),gt.isBrowser&&(0,h.R)(this.document.defaultView,"resize",{passive:!0}).pipe((0,be.b)(this.manager.globalOptions.windowResizeDebounce),(0,y.U)(()=>this.getNativeScrollbarSize()),(0,q.x)(),(0,N.b)(kt=>this._scrollbarSize.next(kt))).subscribe()}getNativeScrollbarSize(){if(!this.platform.isBrowser)return 0;if(this.platform.IOS)return 6;const me=this.document.createElement("div");me.className="ng-scrollbar-measure",me.style.left="0px",me.style.overflow="scroll",me.style.position="fixed",me.style.top="-9999px",this.document.body.appendChild(me);const Ye=me.getBoundingClientRect().right;return this.document.body.removeChild(me),Ye}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.LFG(S.K0),e.LFG(at),e.LFG(Vt.t4))};static#t=this.\u0275prov=e.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})(),Bt=(()=>{class Ke{constructor(me,Ye,gt){this.renderer=Ye,this.hideNativeScrollbar=gt,this._subscriber=De.w0.EMPTY,this._subscriber=gt.scrollbarSize.subscribe(kt=>{this.renderer.setStyle(me.nativeElement,"--native-scrollbar-size",`-${kt}px`,e.JOm.DashCase)})}ngOnDestroy(){this._subscriber.unsubscribe()}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(lt))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","hideNativeScrollbar",""]],standalone:!0})}return Ke})(),fn=(()=>{class Ke{get debounce(){return this._debounce}set debounce(me){this._debounce=(0,u.su)(me),this._subscribe()}get disabled(){return this._disabled}set disabled(me){this._disabled=(0,u.Ig)(me),this._disabled?this._unsubscribe():this._subscribe()}constructor(me,Ye,gt){if(this.zone=me,this.platform=Ye,this.scrollbar=gt,this._disabled=!1,this._currentSubscription=null,this.event=new e.vpe,!gt)throw new Error("[NgScrollbar Resize Sensor Directive]: Host element must be an NgScrollbar component.")}ngAfterContentInit(){!this._currentSubscription&&!this._disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){if(this._unsubscribe(),this.platform.isBrowser){const me=new x.y(Ye=>{this._resizeObserver=new ResizeObserver(gt=>Ye.next(gt)),this._resizeObserver.observe(this.scrollbar.viewport.nativeElement),this.scrollbar.viewport.contentWrapperElement&&this._resizeObserver.observe(this.scrollbar.viewport.contentWrapperElement)});this.zone.runOutsideAngular(()=>{this._currentSubscription=(this._debounce?me.pipe((0,be.b)(this._debounce)):me).subscribe(this.event)})}}_unsubscribe(){this._resizeObserver?.disconnect(),this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.Y36(e.R0b),e.Y36(Vt.t4),e.Y36(ri))};static#t=this.\u0275dir=e.lG2({type:Ke,selectors:[["","resizeSensor",""]],inputs:{debounce:[e.lbL.None,"sensorDebounce","debounce"],disabled:[e.lbL.None,"sensorDisabled","disabled"]},outputs:{event:"resizeSensor"},standalone:!0})}return Ke})(),yn=(()=>{class Ke{get disabled(){return this._disabled}set disabled(me){this._disabled=(0,u.Ig)(me)}get sensorDisabled(){return this._sensorDisabled}set sensorDisabled(me){this._sensorDisabled=(0,u.Ig)(me)}get pointerEventsDisabled(){return this._pointerEventsDisabled}set pointerEventsDisabled(me){this._pointerEventsDisabled=(0,u.Ig)(me)}get viewportPropagateMouseMove(){return this._viewportPropagateMouseMove}set viewportPropagateMouseMove(me){this._viewportPropagateMouseMove=(0,u.Ig)(me)}get autoHeightDisabled(){return this._autoHeightDisabled}set autoHeightDisabled(me){this._autoHeightDisabled=(0,u.Ig)(me)}get autoWidthDisabled(){return this._autoWidthDisabled}set autoWidthDisabled(me){this._autoWidthDisabled=(0,u.Ig)(me)}get nativeElement(){return this.el.nativeElement}constructor(me,Ye,gt,kt,Xt,Rn){this.el=me,this.zone=Ye,this.changeDetectorRef=gt,this.dir=kt,this.smoothScroll=Xt,this.manager=Rn,this._disabled=!1,this._sensorDisabled=this.manager.globalOptions.sensorDisabled,this._pointerEventsDisabled=this.manager.globalOptions.pointerEventsDisabled,this._autoHeightDisabled=this.manager.globalOptions.autoHeightDisabled,this._autoWidthDisabled=this.manager.globalOptions.autoWidthDisabled,this._viewportPropagateMouseMove=this.manager.globalOptions.viewportPropagateMouseMove,this.viewClass=this.manager.globalOptions.viewClass,this.trackClass=this.manager.globalOptions.trackClass,this.thumbClass=this.manager.globalOptions.thumbClass,this.minThumbSize=this.manager.globalOptions.minThumbSize,this.trackClickScrollDuration=this.manager.globalOptions.trackClickScrollDuration,this.pointerEventsMethod=this.manager.globalOptions.pointerEventsMethod,this.track=this.manager.globalOptions.track,this.visibility=this.manager.globalOptions.visibility,this.appearance=this.manager.globalOptions.appearance,this.position=this.manager.globalOptions.position,this.sensorDebounce=this.manager.globalOptions.sensorDebounce,this.scrollAuditTime=this.manager.globalOptions.scrollAuditTime,this.updated=new e.vpe,this.state={},this.destroyed=new j.x}updateState(){let me=!1,Ye=!1,gt=!1,kt=!1;("all"===this.track||"vertical"===this.track)&&(gt=this.viewport.scrollHeight>this.viewport.clientHeight,me="always"===this.visibility||gt),("all"===this.track||"horizontal"===this.track)&&(kt=this.viewport.scrollWidth>this.viewport.clientWidth,Ye="always"===this.visibility||kt),this.setState({position:this.position,track:this.track,appearance:this.appearance,visibility:this.visibility,deactivated:this.disabled,dir:this.dir.value,pointerEventsMethod:this.pointerEventsMethod,verticalUsed:me,horizontalUsed:Ye,isVerticallyScrollable:gt,isHorizontallyScrollable:kt})}setState(me){this.state={...this.state,...me},this.changeDetectorRef.detectChanges()}getScrolledByDirection(me){let Ye;return this.scrolled.pipe((0,N.b)(gt=>Ye=gt),(0,y.U)(gt=>gt.target[me]),function Me(){return(0,re.e)((Ke,Lt)=>{let me,Ye=!1;Ke.subscribe((0,Ae.x)(Lt,gt=>{const kt=me;me=gt,Ye&&Lt.next([kt,gt]),Ye=!0}))})}(),(0,st.h)(([gt,kt])=>gt!==kt),(0,y.U)(()=>Ye))}setHovered(me){this.zone.run(()=>this.setState({...me}))}setDragging(me){this.zone.run(()=>this.setState({...me}))}setClicked(me){this.zone.run(()=>this.setState({scrollbarClicked:me}))}ngOnInit(){this.zone.runOutsideAngular(()=>{this.customViewPort?(this.viewport=this.customViewPort,this.defaultViewPort.setAsWrapper()):this.viewport=this.defaultViewPort,this.viewport.setAsViewport(this.viewClass);let me=(0,h.R)(this.viewport.nativeElement,"scroll",{passive:!0});me=this.scrollAuditTime?me.pipe((0,fe.e)(this.scrollAuditTime)):me,this.scrolled=me.pipe((0,C.R)(this.destroyed)),this.verticalScrolled=this.getScrolledByDirection("scrollTop"),this.horizontalScrolled=this.getScrolledByDirection("scrollLeft")})}ngOnChanges(me){this.viewport&&this.update()}ngAfterViewInit(){this.update(),this.dir.change.pipe((0,N.b)(()=>this.update()),(0,C.R)(this.destroyed)).subscribe()}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}update(){this.autoHeightDisabled||this.updateHeight(),this.autoWidthDisabled||this.updateWidth(),this.updateState(),this.updated.next()}scrollTo(me){return this.smoothScroll.scrollTo(this.viewport.nativeElement,me)}scrollToElement(me,Ye){return this.smoothScroll.scrollToElement(this.viewport.nativeElement,me,Ye)}updateHeight(){this.nativeElement.style.height="standard"===this.appearance&&this.scrollbarX?`${this.viewport.contentHeight+this.scrollbarX.nativeElement.clientHeight}px`:`${this.viewport.contentHeight}px`}updateWidth(){this.nativeElement.style.width="standard"===this.appearance&&this.scrollbarY?`${this.viewport.contentWidth+this.scrollbarY.nativeElement.clientWidth}px`:`${this.viewport.contentWidth}px`}static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(Tt.Is),e.Y36(tt),e.Y36(at))};static#t=this.\u0275cmp=e.Xpm({type:Ke,selectors:[["ng-scrollbar"]],contentQueries:function(Ye,gt,kt){if(1&Ye&&e.Suo(kt,mi,7),2&Ye){let Xt;e.iGM(Xt=e.CRH())&&(gt.customViewPort=Xt.first)}},viewQuery:function(Ye,gt){if(1&Ye&&(e.Gf(yt,5,e.SBq),e.Gf(Qe,5,e.SBq),e.Gf(mi,7)),2&Ye){let kt;e.iGM(kt=e.CRH())&&(gt.scrollbarY=kt.first),e.iGM(kt=e.CRH())&&(gt.scrollbarX=kt.first),e.iGM(kt=e.CRH())&&(gt.defaultViewPort=kt.first)}},hostVars:2,hostBindings:function(Ye,gt){2&Ye&&e.ekj("ng-scrollbar",!0)},inputs:{disabled:"disabled",sensorDisabled:"sensorDisabled",pointerEventsDisabled:"pointerEventsDisabled",viewportPropagateMouseMove:"viewportPropagateMouseMove",autoHeightDisabled:"autoHeightDisabled",autoWidthDisabled:"autoWidthDisabled",viewClass:"viewClass",trackClass:"trackClass",thumbClass:"thumbClass",minThumbSize:"minThumbSize",trackClickScrollDuration:"trackClickScrollDuration",pointerEventsMethod:"pointerEventsMethod",track:"track",visibility:"visibility",appearance:"appearance",position:"position",sensorDebounce:"sensorDebounce",scrollAuditTime:"scrollAuditTime"},outputs:{updated:"updated"},exportAs:["ngScrollbar"],standalone:!0,features:[e._Bn([{provide:ri,useExisting:Ke}]),e.TTD,e.jDz],ngContentSelectors:On,decls:6,vars:4,consts:[[1,"ng-scrollbar-wrapper",3,"ngAttr"],[1,"ng-scroll-viewport-wrapper",3,"sensorDebounce","sensorDisabled","resizeSensor"],["scrollViewport","","hideNativeScrollbar",""],[4,"ngIf"],["scrollbarX",""],["scrollbarY",""]],template:function(Ye,gt){1&Ye&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.NdJ("resizeSensor",function(){return gt.update()}),e.TgZ(2,"div",2)(3,"div"),e.Hsn(4),e.qZA()()(),e.YNc(5,an,3,2,"ng-container",3),e.qZA()),2&Ye&&(e.Q6J("ngAttr",gt.state),e.xp6(),e.Q6J("sensorDebounce",gt.sensorDebounce)("sensorDisabled",gt.sensorDisabled),e.xp6(4),e.Q6J("ngIf",!gt.disabled))},dependencies:[S.O5,Hn,fn,mi,Bt,pe,J],styles:[".ng-scrollbar-measure{scrollbar-width:none;-ms-overflow-style:none}  .ng-scrollbar-measure::-webkit-scrollbar{display:none}[_nghost-%COMP%]{--scrollbar-border-radius: 7px;--scrollbar-padding: 4px;--scrollbar-track-color: transparent;--scrollbar-thumb-color: rgba(0, 0, 0, .2);--scrollbar-thumb-hover-color: var(--scrollbar-thumb-color);--scrollbar-size: 5px;--scrollbar-hover-size: var(--scrollbar-size);--scrollbar-overscroll-behavior: initial;--scrollbar-transition-duration: .4s;--scrollbar-transition-delay: .8s;--scrollbar-thumb-transition: height ease-out .15s, width ease-out .15s;--scrollbar-track-transition: height ease-out .15s, width ease-out .15s;display:block;position:relative;height:100%;max-height:100%;max-width:100%;box-sizing:content-box!important}[_nghost-%COMP%] > .ng-scrollbar-wrapper[_ngcontent-%COMP%]{--scrollbar-total-size: calc(var(--scrollbar-size) + var(--scrollbar-padding) * 2);--vertical-scrollbar-size: var(--scrollbar-size);--horizontal-scrollbar-size: var(--scrollbar-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalHovered=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalDragging=true][_ngcontent-%COMP%]{--vertical-scrollbar-size: var(--scrollbar-hover-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalHovered=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalDragging=true][_ngcontent-%COMP%]{--horizontal-scrollbar-size: var(--scrollbar-hover-size);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:0;bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:var(--scrollbar-total-size);bottom:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{scrollbar-width:none;-ms-overflow-style:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport::-webkit-scrollbar{display:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{bottom:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{left:0;right:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{right:0;left:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%] > .scrollbar-control[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transition-duration:var(--scrollbar-transition-duration);transition-delay:var(--scrollbar-transition-delay)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:hover > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:active > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:focus > .scrollbar-control[_ngcontent-%COMP%]{opacity:1;transition-duration:var(--scrollbar-transition-duration);transition-delay:0ms}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow:auto}.ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{overflow:hidden}.ng-scroll-viewport[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch;contain:strict;will-change:scroll-position;overscroll-behavior:var(--scrollbar-overscroll-behavior)}  .ng-scroll-content{display:inline-block;min-width:100%}.ng-scrollbar-wrapper[_ngcontent-%COMP%], .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], .ng-scroll-layer[_ngcontent-%COMP%],   .ng-scroll-viewport{position:absolute;inset:0}",".ng-scrollbar-wrapper[pointerEventsMethod=viewport]>.scrollbar-control{pointer-events:none}  .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport{-webkit-user-select:none;-moz-user-select:none;user-select:none}  .ng-scrollbar-wrapper>.scrollbar-control{position:absolute;display:flex;justify-content:center;align-items:center;transition:var(--scrollbar-track-transition)}  .ng-scrollbar-wrapper>.scrollbar-control[scrollable=false] .ng-scrollbar-thumb{display:none}  .ng-scrollbar-track{height:100%;width:100%;z-index:1;border-radius:var(--scrollbar-border-radius);background-color:var(--scrollbar-track-color);overflow:hidden;transition:var(--scrollbar-track-transition);cursor:default}  .ng-scrollbar-thumb{box-sizing:border-box;position:relative;border-radius:inherit;background-color:var(--scrollbar-thumb-color);transform:translateZ(0);transition:var(--scrollbar-thumb-transition)}"],changeDetection:0})}return Ke})(),Yt=(()=>{class Ke{static#e=this.\u0275fac=function(Ye){return new(Ye||Ke)};static#t=this.\u0275mod=e.oAB({type:Ke});static#n=this.\u0275inj=e.cJS({})}return Ke})()},7582:(Ze,le,l)=>{"use strict";function $(Xe,ht,Ct,Et){return new(Ct||(Ct=Promise))(function(jt,un){function An(K){try{U(Et.next(K))}catch(Re){un(Re)}}function Te(K){try{U(Et.throw(K))}catch(Re){un(Re)}}function U(K){K.done?jt(K.value):function zt(jt){return jt instanceof Ct?jt:new Ct(function(un){un(jt)})}(K.value).then(An,Te)}U((Et=Et.apply(Xe,ht||[])).next())})}function Ae(Xe){return this instanceof Ae?(this.v=Xe,this):new Ae(Xe)}function Me(Xe,ht,Ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var zt,Et=Ct.apply(Xe,ht||[]),jt=[];return zt={},un("next"),un("throw"),un("return"),zt[Symbol.asyncIterator]=function(){return this},zt;function un(Ue){Et[Ue]&&(zt[Ue]=function(tt){return new Promise(function(qe,yt){jt.push([Ue,tt,qe,yt])>1||An(Ue,tt)})})}function An(Ue,tt){try{!function Te(Ue){Ue.value instanceof Ae?Promise.resolve(Ue.value.v).then(U,K):Re(jt[0][2],Ue)}(Et[Ue](tt))}catch(qe){Re(jt[0][3],qe)}}function U(Ue){An("next",Ue)}function K(Ue){An("throw",Ue)}function Re(Ue,tt){Ue(tt),jt.shift(),jt.length&&An(jt[0][0],jt[0][1])}}function fe(Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct,ht=Xe[Symbol.asyncIterator];return ht?ht.call(Xe):(Xe=function ue(Xe){var ht="function"==typeof Symbol&&Symbol.iterator,Ct=ht&&Xe[ht],Et=0;if(Ct)return Ct.call(Xe);if(Xe&&"number"==typeof Xe.length)return{next:function(){return Xe&&Et>=Xe.length&&(Xe=void 0),{value:Xe&&Xe[Et++],done:!Xe}}};throw new TypeError(ht?"Object is not iterable.":"Symbol.iterator is not defined.")}(Xe),Ct={},Et("next"),Et("throw"),Et("return"),Ct[Symbol.asyncIterator]=function(){return this},Ct);function Et(jt){Ct[jt]=Xe[jt]&&function(un){return new Promise(function(An,Te){!function zt(jt,un,An,Te){Promise.resolve(Te).then(function(U){jt({value:U,done:An})},un)}(An,Te,(un=Xe[jt](un)).done,un.value)})}}}l.d(le,{FC:()=>Me,KL:()=>fe,mG:()=>$,qq:()=>Ae}),"function"==typeof SuppressedError&&SuppressedError}}]);