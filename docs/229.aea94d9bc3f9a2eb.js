"use strict";(self.webpackChunkAngular=self.webpackChunkAngular||[]).push([[229],{6229:(P,_,l)=>{l.r(_),l.d(_,{EventsModule:()=>Q});var r=l(6814),v=l(7178),f=l(6267),c=l(95),t=l(9212);let C=(()=>{class n{constructor(){}resolve(){}static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac})}return n})();var g=l(4953),d=l(2236);let y=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({providers:[C],imports:[c.u5,r.ez,f.c,v.IJ,g.kb,d.Bz,r.ez,c.u5]})}return n})();var T=l(9989),Z=l(2268),h=l(4221),u=l(6994);class m{constructor(E={}){this.title="",this.complete=!1,Object.assign(this,E)}}let I=(()=>{class n{constructor(){this.newEvent=new m,this.add=new t.vpe}addEvent(){this.newEvent.title.length>0&&(this.add.emit(this.newEvent),this.newEvent=new m)}static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-event-list-header"]],outputs:{add:"add"},decls:3,vars:1,consts:[[1,"mb-3"],["name","event","type","text","autocomplete","on",1,"form-control","form-control",3,"ngModel","ngModelChange","keyup.enter"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0)(1,"form")(2,"input",1),t.NdJ("ngModelChange",function(a){return o.newEvent.title=a})("keyup.enter",function(){return o.addEvent()}),t.qZA()()()),2&s&&(t.xp6(2),t.Q6J("ngModel",o.newEvent.title))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.On,c.F],changeDetection:0})}return n})();var p=l(6825);const b=(0,p.X$)("fadeInOutEventListItem",[(0,p.eR)(":enter",[(0,p.oB)({opacity:0}),(0,p.jt)("1s ease-in-out",(0,p.oB)({opacity:1}))]),(0,p.eR)(":leave",[(0,p.oB)({opacity:1}),(0,p.jt)("1s ease-in-out",(0,p.oB)({opacity:0}))])]);var k=l(9069);let M=(()=>{class n{constructor(){this.IsInEditMode=!1,this.remove=new t.vpe,this.toggle=new t.vpe,this.update=new t.vpe,this.select=new t.vpe,this.editEvent=new m}onToggleEvent(e){this.toggle.emit(e)}onSelectEvent(e,s){this.select.emit({selected:e,event:s})}onUpdateEvent(e){this.IsInEditMode&&e.title!==this.editEvent.title&&this.update.emit({oldValue:e,newValue:this.editEvent}),this.IsInEditMode=!this.IsInEditMode,this.editEvent=new m(e)}removeEvent(e){this.remove.emit(e)}onDoubleClick(e){this.IsInEditMode=!this.IsInEditMode,this.editEvent=new m(e)}onCancelEdit(){this.IsInEditMode=!1}static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-event-list-item"]],inputs:{event:"event",IsInEditMode:"IsInEditMode"},outputs:{remove:"remove",toggle:"toggle",update:"update",select:"select"},decls:13,vars:7,consts:[[1,"d-flex","justify-content-between"],[1,"mr-auto","p-2"],["ngbTooltip","",1,"px-2",3,"selectValue"],[1,"px-2",3,"checked","click"],[1,"custom-control","custom-checkbox","mb-0",3,"hidden","dblclick"],[1,"custom-control-description"],["type","text",1,"editbox",3,"hidden","ngModel","keyup.enter","keydown.esc","ngModelChange"],[1,"p-1"],[1,"btn","btn-sm","me-2",3,"ngClass","click"],[3,"ngClass"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"fa","fa-bin2"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"app-check-mark",2),t.NdJ("selectValue",function(a){return o.onSelectEvent(a,o.event)}),t.qZA(),t.TgZ(3,"app-check-mark",3),t.NdJ("click",function(){return o.onToggleEvent(o.event)}),t.qZA(),t.TgZ(4,"label",4),t.NdJ("dblclick",function(){return o.onDoubleClick(o.event)}),t.TgZ(5,"span",5),t._uU(6),t.qZA()(),t.TgZ(7,"input",6),t.NdJ("keyup.enter",function(){return o.onUpdateEvent(o.event)})("keydown.esc",function(){return o.onCancelEdit()})("ngModelChange",function(a){return o.editEvent.title=a}),t.qZA()(),t.TgZ(8,"div",7)(9,"i",8),t.NdJ("click",function(){return o.onUpdateEvent(o.event)}),t._UZ(10,"span",9),t.qZA(),t.TgZ(11,"i",10),t.NdJ("click",function(){return o.removeEvent(o.event)}),t._UZ(12,"span",11),t.qZA()()()),2&s&&(t.xp6(3),t.Q6J("checked",o.event.complete),t.xp6(),t.Q6J("hidden",o.IsInEditMode),t.xp6(2),t.hij(" ",o.event.title," "),t.xp6(),t.Q6J("hidden",!o.IsInEditMode)("ngModel",o.editEvent.title),t.xp6(2),t.Q6J("ngClass",o.IsInEditMode?"btn-success":"btn-outline-secondary"),t.xp6(),t.Q6J("ngClass",o.IsInEditMode?"fa fa-checkmark":"fa fa-pencil"))},dependencies:[c.Fj,c.JJ,c.On,r.mk,k.$,v._L],styles:["[_nghost-%COMP%]{width:100%}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:#fff}.editbox[_ngcontent-%COMP%]{border:0px;padding:0;line-height:0px;background:#ece9e9}"],changeDetection:0})}return n})();function J(n,E){if(1&n){const e=t.EpF();t.TgZ(0,"li",4)(1,"app-event-list-item",5),t.NdJ("toggle",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onToggleEvent(o))})("remove",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onRemoveEvent(o))})("update",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onUpdateEvent(o))})("select",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.onSelectEvent(o))}),t.qZA()()}if(2&n){const e=E.$implicit;t.ekj("completed",e.complete),t.xp6(),t.Q6J("@fadeInOutEventListItem",void 0)("event",e)}}let w=(()=>{class n{constructor(){this.remove=new t.vpe,this.toggle=new t.vpe,this.update=new t.vpe,this.select=new t.vpe}onToggleEvent(e){this.toggle.emit(e)}onUpdateEvent(e){this.update.emit(e)}onRemoveEvent(e){this.remove.emit(e)}onSelectEvent(e){this.select.emit(e)}static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-event-list"]],inputs:{events:"events"},outputs:{remove:"remove",toggle:"toggle",update:"update",select:"select"},decls:4,vars:1,consts:[[1,"form-group"],[1,"main"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",3,"completed",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[3,"event","toggle","remove","update","select"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0)(1,"section",1)(2,"ul",2),t.YNc(3,J,2,4,"li",3),t.qZA()()()),2&s&&(t.xp6(3),t.Q6J("ngForOf",o.events))},dependencies:[r.sg,M],styles:[".list-group-item[_ngcontent-%COMP%]{padding:5px 9px}"],data:{animation:[b]},changeDetection:0})}return n})();const A=n=>({"btn-outline-danger":n});let L=(()=>{class n{constructor(e,s,o){this.store=e,this.router=s,this.route=o,this.selectedEvents=[]}onAddEvent(e){this.store.dispatch(u.yM({payload:e}))}onToggleEvent(e){this.store.dispatch(u.Hw({payload:e}))}onUpdateEvent(e){this.store.dispatch(u.eJ({payload:e}))}onDeleteEvents(){this.store.dispatch(u.BR({payload:this.selectedEvents})),this.selectedEvents=[]}onSelectEvent(e){e.selected?this.selectedEvents.push(e.event):this.selectedEvents=this.selectedEvents.filter(s=>s.id!==e.event.id)}onRemoveEvent(e){this.route.navigate(["/events","dialog",e.id],{state:{event:e}})}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(h.yh),t.Y36(d.gz),t.Y36(d.F0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-event"]],inputs:{events:"events"},decls:7,vars:4,consts:[[1,"mb-5",3,"add"],[2,"height","400px"],["thumbClass","custom-scrollbars"],[3,"events","toggle","remove","update","select"],[1,"btn","btn-sm",3,"ngClass","click"],[1,"fa","fa-bin2"]],template:function(s,o){1&s&&(t.TgZ(0,"app-event-list-header",0),t.NdJ("add",function(a){return o.onAddEvent(a)}),t.qZA(),t.TgZ(1,"div",1)(2,"ng-scrollbar",2)(3,"app-event-list",3),t.NdJ("toggle",function(a){return o.onToggleEvent(a)})("remove",function(a){return o.onRemoveEvent(a)})("update",function(a){return o.onUpdateEvent(a)})("select",function(a){return o.onSelectEvent(a)}),t.qZA()()(),t.TgZ(4,"i",4),t.NdJ("click",function(){return o.onDeleteEvents()}),t._UZ(5,"span",5),t.qZA(),t._UZ(6,"router-outlet")),2&s&&(t.xp6(3),t.Q6J("events",o.events),t.xp6(),t.Q6J("ngClass",t.VKq(2,A,o.selectedEvents.length)))},dependencies:[r.mk,g.KC,d.lC,I,w],styles:[".list-group[_ngcontent-%COMP%]{padding:0}.list-group-item[_ngcontent-%COMP%]{padding:5px 9px}"],changeDetection:0})}return n})();var D=l(2743);let F=(()=>{class n{constructor(e){this.store=e}get EventItems(){return this.store.select(Z.vw)}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(h.yh))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-events"]],decls:9,vars:3,consts:[[1,"container-fluid"],[1,"col-md-6","mt-2"],[1,"row"],[1,"col-md-12"],["header","Events List"],[3,"events"],[1,"col-md-12","mt-4"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"app-ba-card",4),t._UZ(6,"app-event",5),t.ALo(7,"async"),t.qZA()(),t._UZ(8,"div",6),t.qZA()()()),2&s&&(t.xp6(6),t.Q6J("events",t.lcZ(7,1,o.EventItems)))},dependencies:[L,D.w,r.Ov],data:{animation:[T.B]},changeDetection:0})}return n})();var U=l(7198),N=l(8645),O=l(9278),Y=l(9773);let j=(()=>{class n{constructor(e,s,o,i){this.dialogService=e,this.location=o,this.store=i,this.destroy=new N.x,(0,O.$)(s.params,s.data).pipe((0,Y.R)(this.destroy)).subscribe(x=>{this.currentDialog=this.dialogService.open(x[1].component,{centered:!0,size:"lg"}),this.dialogResult=this.currentDialog.result.then(H=>{-1!==H&&this.location.back()},()=>{this.location.back()})})}ngOnDestroy(){this.destroy.next(void 0),this.currentDialog?.close(-1),this.dialogResult=null}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(v.FF),t.Y36(d.gz),t.Y36(r.Ye),t.Y36(h.yh))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-events-dialog-wrapper"]],decls:0,vars:0,template:function(s,o){}})}return n})(),B=(()=>{class n{constructor(e,s,o,i){this.router=e,this.activeDialog=s,this.store=o,this.location=i,null!=this.router.getCurrentNavigation()?null!=this.router.getCurrentNavigation()&&(this.Event=this.router.getCurrentNavigation().extras.state.event):this.activeDialog.close()}no(){this.activeDialog.close()}yes(){this.store.dispatch(u.Bt({payload:this.Event})),this.activeDialog.close()}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(d.F0),t.Y36(v.Kz),t.Y36(h.yh),t.Y36(r.Ye))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-events-dialog"]],decls:13,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","ngbAutofocus","",1,"btn","btn-danger",3,"click"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Are you sure you want to delete this event ?"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.no()}),t.qZA()(),t.TgZ(4,"div",3),t._uU(5," Event name: "),t.TgZ(6,"b"),t._uU(7),t.qZA()(),t.TgZ(8,"div",4)(9,"button",5),t.NdJ("click",function(){return o.no()}),t._uU(10,"No"),t.qZA(),t.TgZ(11,"button",6),t.NdJ("click",function(){return o.yes()}),t._uU(12,"Yes"),t.qZA()()),2&s&&(t.xp6(7),t.Oqu(null==o.Event?null:o.Event.title))}})}return n})(),z=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[d.Bz.forChild([{path:"",component:F,canActivate:[U.P],children:[{path:"dialog/:eventid",component:j,data:{component:B}}]}]),d.Bz]})}return n})();var S=l(6746);let Q=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[r.ez,z,S.m,y,f.c,g.kb,v.IJ]})}return n})()}}]);