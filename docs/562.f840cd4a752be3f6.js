"use strict";(self.webpackChunkAngular=self.webpackChunkAngular||[]).push([[562],{7562:(Z,f,l)=>{l.r(f),l.d(f,{EventsModule:()=>O});var p=l(177),v=l(9968),_=l(5737),c=l(4341),t=l(3953);let C=(()=>{class n{constructor(){}resolve(){}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}return n})();var g=l(3880),d=l(4559);let I=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({providers:[C],imports:[c.YN,p.MD,_.j,v.UN,g.Id,d.iI,p.MD,c.YN]})}return n})();var b=l(6088),k=l(9809),h=l(9640),m=l(1014);class u{constructor(E={}){this.title="",this.complete=!1,Object.assign(this,E)}}let y=(()=>{class n{constructor(){this.newEvent=new u,this.add=new t.bkB}addEvent(){this.newEvent.title.length>0&&(this.add.emit(this.newEvent),this.newEvent=new u)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-event-list-header"]],outputs:{add:"add"},decls:3,vars:1,consts:[[1,"mb-3"],["name","event","type","text","autocomplete","on",1,"form-control","form-control",3,"ngModelChange","keyup.enter","ngModel"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"form")(2,"input",1),t.mxI("ngModelChange",function(a){return t.DH7(s.newEvent.title,a)||(s.newEvent.title=a),a}),t.bIt("keyup.enter",function(){return s.addEvent()}),t.k0s()()()),2&i&&(t.R7$(2),t.R50("ngModel",s.newEvent.title))},dependencies:[c.qT,c.me,c.BC,c.cb,c.vS,c.cV],changeDetection:0})}return n})();var r=l(9969);const j=(0,r.hZ)("fadeInOutEventListItem",[(0,r.kY)(":enter",[(0,r.iF)({opacity:0}),(0,r.i0)("1s ease-in-out",(0,r.iF)({opacity:1}))]),(0,r.kY)(":leave",[(0,r.iF)({opacity:1}),(0,r.i0)("1s ease-in-out",(0,r.iF)({opacity:0}))])]);var T=l(1007);let M=(()=>{class n{constructor(){this.IsInEditMode=!1,this.remove=new t.bkB,this.toggle=new t.bkB,this.update=new t.bkB,this.select=new t.bkB,this.editEvent=new u}onToggleEvent(e){this.toggle.emit(e)}onSelectEvent(e,i){this.select.emit({selected:e,event:i})}onUpdateEvent(e){this.IsInEditMode&&e.title!==this.editEvent.title&&this.update.emit({oldValue:e,newValue:this.editEvent}),this.IsInEditMode=!this.IsInEditMode,this.editEvent=new u(e)}removeEvent(e){this.remove.emit(e)}onDoubleClick(e){this.IsInEditMode=!this.IsInEditMode,this.editEvent=new u(e)}onCancelEdit(){this.IsInEditMode=!1}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-event-list-item"]],inputs:{event:"event",IsInEditMode:"IsInEditMode"},outputs:{remove:"remove",toggle:"toggle",update:"update",select:"select"},decls:13,vars:7,consts:[[1,"d-flex","justify-content-between"],[1,"mr-auto","p-2"],["ngbTooltip","",1,"px-2",3,"selectValue"],[1,"px-2",3,"click","checked"],[1,"custom-control","custom-checkbox","mb-0",3,"dblclick","hidden"],[1,"custom-control-description"],["type","text",1,"editbox",3,"keyup.enter","keydown.esc","ngModelChange","hidden","ngModel"],[1,"p-1"],[1,"btn","btn-sm","me-2",3,"click","ngClass"],[3,"ngClass"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"fa","fa-bin2"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"app-check-mark",2),t.bIt("selectValue",function(a){return s.onSelectEvent(a,s.event)}),t.k0s(),t.j41(3,"app-check-mark",3),t.bIt("click",function(){return s.onToggleEvent(s.event)}),t.k0s(),t.j41(4,"label",4),t.bIt("dblclick",function(){return s.onDoubleClick(s.event)}),t.j41(5,"span",5),t.EFF(6),t.k0s()(),t.j41(7,"input",6),t.bIt("keyup.enter",function(){return s.onUpdateEvent(s.event)})("keydown.esc",function(){return s.onCancelEdit()}),t.mxI("ngModelChange",function(a){return t.DH7(s.editEvent.title,a)||(s.editEvent.title=a),a}),t.k0s()(),t.j41(8,"div",7)(9,"i",8),t.bIt("click",function(){return s.onUpdateEvent(s.event)}),t.nrm(10,"span",9),t.k0s(),t.j41(11,"i",10),t.bIt("click",function(){return s.removeEvent(s.event)}),t.nrm(12,"span",11),t.k0s()()()),2&i&&(t.R7$(3),t.Y8G("checked",s.event.complete),t.R7$(),t.Y8G("hidden",s.IsInEditMode),t.R7$(2),t.SpI(" ",s.event.title," "),t.R7$(),t.Y8G("hidden",!s.IsInEditMode),t.R50("ngModel",s.editEvent.title),t.R7$(2),t.Y8G("ngClass",s.IsInEditMode?"btn-success":"btn-outline-secondary"),t.R7$(),t.Y8G("ngClass",s.IsInEditMode?"fa fa-checkmark":"fa fa-pencil"))},dependencies:[c.me,c.BC,c.vS,p.YU,T.F,v.md],styles:["[_nghost-%COMP%]{width:100%}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:#fff}.editbox[_ngcontent-%COMP%]{border:0px;padding:0;line-height:0px;background:#ece9e9}"],changeDetection:0})}return n})();function F(n,E){if(1&n){const e=t.RV6();t.j41(0,"li",4)(1,"app-event-list-item",5),t.bIt("toggle",function(s){t.eBV(e);const o=t.XpG();return t.Njj(o.onToggleEvent(s))})("remove",function(s){t.eBV(e);const o=t.XpG();return t.Njj(o.onRemoveEvent(s))})("update",function(s){t.eBV(e);const o=t.XpG();return t.Njj(o.onUpdateEvent(s))})("select",function(s){t.eBV(e);const o=t.XpG();return t.Njj(o.onSelectEvent(s))}),t.k0s()()}if(2&n){const e=E.$implicit;t.AVh("completed",e.complete),t.R7$(),t.Y8G("@fadeInOutEventListItem",void 0)("event",e)}}let D=(()=>{class n{constructor(){this.remove=new t.bkB,this.toggle=new t.bkB,this.update=new t.bkB,this.select=new t.bkB}onToggleEvent(e){this.toggle.emit(e)}onUpdateEvent(e){this.update.emit(e)}onRemoveEvent(e){this.remove.emit(e)}onSelectEvent(e){this.select.emit(e)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-event-list"]],inputs:{events:"events"},outputs:{remove:"remove",toggle:"toggle",update:"update",select:"select"},decls:5,vars:0,consts:[[1,"form-group"],[1,"main"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"completed"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[3,"toggle","remove","update","select","event"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"section",1)(2,"ul",2),t.Z7z(3,F,2,4,"li",3,t.fX1),t.k0s()()()),2&i&&(t.R7$(3),t.Dyx(s.events))},dependencies:[M],styles:[".list-group-item[_ngcontent-%COMP%]{padding:5px 9px}"],data:{animation:[j]},changeDetection:0})}return n})();const U=n=>({"btn-outline-danger":n});let w=(()=>{class n{constructor(e,i,s){this.store=e,this.router=i,this.route=s,this.selectedEvents=[]}onAddEvent(e){this.store.dispatch(m.lh({payload:e}))}onToggleEvent(e){this.store.dispatch(m.bQ({payload:e}))}onUpdateEvent(e){this.store.dispatch(m.qM({payload:e}))}onDeleteEvents(){this.store.dispatch(m.VD({payload:this.selectedEvents})),this.selectedEvents=[]}onSelectEvent(e){e.selected?this.selectedEvents.push(e.event):this.selectedEvents=this.selectedEvents.filter(i=>i.id!==e.event.id)}onRemoveEvent(e){this.route.navigate(["/events","dialog",e.id],{state:{event:e}})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(h.il),t.rXU(d.nX),t.rXU(d.Ix))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-event"]],inputs:{events:"events"},decls:7,vars:4,consts:[[1,"mb-5",3,"add"],[2,"height","400px"],["thumbClass","custom-scrollbars"],[3,"toggle","remove","update","select","events"],[1,"btn","btn-sm",3,"click","ngClass"],[1,"fa","fa-bin2"]],template:function(i,s){1&i&&(t.j41(0,"app-event-list-header",0),t.bIt("add",function(a){return s.onAddEvent(a)}),t.k0s(),t.j41(1,"div",1)(2,"ng-scrollbar",2)(3,"app-event-list",3),t.bIt("toggle",function(a){return s.onToggleEvent(a)})("remove",function(a){return s.onRemoveEvent(a)})("update",function(a){return s.onUpdateEvent(a)})("select",function(a){return s.onSelectEvent(a)}),t.k0s()()(),t.j41(4,"i",4),t.bIt("click",function(){return s.onDeleteEvents()}),t.nrm(5,"span",5),t.k0s(),t.nrm(6,"router-outlet")),2&i&&(t.R7$(3),t.Y8G("events",s.events),t.R7$(),t.Y8G("ngClass",t.eq3(2,U,s.selectedEvents.length)))},dependencies:[p.YU,g.Yh,d.n3,y,D],styles:[".list-group[_ngcontent-%COMP%]{padding:0}.list-group-item[_ngcontent-%COMP%]{padding:5px 9px}"],changeDetection:0})}return n})();var L=l(2275);let B=(()=>{class n{constructor(e){this.store=e}get EventItems(){return this.store.select(k.kQ)}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(h.il))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-events"]],decls:9,vars:3,consts:[[1,"container-fluid"],[1,"col-md-6","mt-2"],[1,"row"],[1,"col-md-12"],["header","Events List"],[3,"events"],[1,"col-md-12","mt-4"]],template:function(i,s){1&i&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"app-ba-card",4),t.nrm(6,"app-event",5),t.nI1(7,"async"),t.k0s()(),t.nrm(8,"div",6),t.k0s()()()),2&i&&(t.R7$(6),t.Y8G("events",t.bMT(7,1,s.EventItems)))},dependencies:[w,L.$,p.Jj],data:{animation:[b.I]},changeDetection:0})}return n})();var R=l(3390),V=l(1413),X=l(4437),G=l(6977);let Y=(()=>{class n{constructor(e,i,s,o){this.dialogService=e,this.location=s,this.store=o,this.destroy=new V.B,(0,X.y)(i.params,i.data).pipe((0,G.Q)(this.destroy)).subscribe(P=>{this.currentDialog=this.dialogService.open(P[1].component,{centered:!0,size:"lg"}),this.dialogResult=this.currentDialog.result.then(H=>{-1!==H&&this.location.back()},()=>{this.location.back()})})}ngOnDestroy(){this.destroy.next(void 0),this.currentDialog?.close(-1),this.dialogResult=null}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(v.Bq),t.rXU(d.nX),t.rXU(p.aZ),t.rXU(h.il))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-events-dialog-wrapper"]],decls:0,vars:0,template:function(i,s){}})}return n})(),$=(()=>{class n{constructor(e,i,s,o){this.router=e,this.activeDialog=i,this.store=s,this.location=o,null!=this.router.getCurrentNavigation()?null!=this.router.getCurrentNavigation()&&(this.Event=this.router.getCurrentNavigation().extras.state.event):this.activeDialog.close()}no(){this.activeDialog.close()}yes(){this.store.dispatch(m.SX({payload:this.Event})),this.activeDialog.close()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(d.Ix),t.rXU(v.Lw),t.rXU(h.il),t.rXU(p.aZ))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-events-dialog"]],decls:13,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","ngbAutofocus","",1,"btn","btn-danger",3,"click"]],template:function(i,s){1&i&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2,"Are you sure you want to delete this event ?"),t.k0s(),t.j41(3,"button",2),t.bIt("click",function(){return s.no()}),t.k0s()(),t.j41(4,"div",3),t.EFF(5," Event name: "),t.j41(6,"b"),t.EFF(7),t.k0s()(),t.j41(8,"div",4)(9,"button",5),t.bIt("click",function(){return s.no()}),t.EFF(10,"No"),t.k0s(),t.j41(11,"button",6),t.bIt("click",function(){return s.yes()}),t.EFF(12,"Yes"),t.k0s()()),2&i&&(t.R7$(7),t.JRh(null==s.Event?null:s.Event.title))}})}return n})(),S=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[d.iI.forChild([{path:"",component:B,canActivate:[R.r],children:[{path:"dialog/:eventid",component:Y,data:{component:$}}]}]),d.iI]})}return n})();var N=l(7823);let O=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[p.MD,S,N.G,I,_.j,g.Id,v.UN]})}return n})()}}]);