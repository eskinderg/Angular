(self.webpackChunkAngular=self.webpackChunkAngular||[]).push([[495],{2495:(_n,We,p)=>{"use strict";p.r(We),p.d(We,{AppModule:()=>Vc});var e=p(1626),f=p(9640),d=p(3953),G=p(4559),H=p(3993);const b="@ngrx/router-store/request",x=((0,f.VP)(b,(0,f.xk)()),"@ngrx/router-store/navigation"),j=((0,f.VP)(x,(0,f.xk)()),"@ngrx/router-store/cancel"),se=((0,f.VP)(j,(0,f.xk)()),"@ngrx/router-store/error"),oe=((0,f.VP)(se,(0,f.xk)()),"@ngrx/router-store/navigated");(0,f.VP)(oe,(0,f.xk)());class Ge{serialize(h){return{root:this.serializeRoute(h.root),url:h.url}}serializeRoute(h){const a=h.children.map(_=>this.serializeRoute(_));return{params:h.params,data:h.data,url:h.url,outlet:h.outlet,title:h.title,routeConfig:h.routeConfig?{path:h.routeConfig.path,pathMatch:h.routeConfig.pathMatch,redirectTo:h.routeConfig.redirectTo,outlet:h.routeConfig.outlet,title:"string"==typeof h.routeConfig.title?h.routeConfig.title:void 0}:null,queryParams:h.queryParams,fragment:h.fragment,firstChild:a[0],children:a}}}var Ee=function(w){return w[w.PreActivation=1]="PreActivation",w[w.PostActivation=2]="PostActivation",w}(Ee||{});const Fe="router",ye=new d.nKC("@ngrx/router-store Internal Configuration"),ke=new d.nKC("@ngrx/router-store Configuration");function Ye(w){return{stateKey:Fe,serializer:Ge,navigationActionTiming:Ee.PreActivation,...w}}class nt{serialize(h){return{root:this.serializeRoute(h.root),url:h.url}}serializeRoute(h){const a=h.children.map(_=>this.serializeRoute(_));return{params:h.params,paramMap:h.paramMap,data:h.data,url:h.url,outlet:h.outlet,title:h.title,routeConfig:h.routeConfig?{component:h.routeConfig.component,path:h.routeConfig.path,pathMatch:h.routeConfig.pathMatch,redirectTo:h.routeConfig.redirectTo,outlet:h.routeConfig.outlet,title:h.routeConfig.title}:null,queryParams:h.queryParams,queryParamMap:h.queryParamMap,fragment:h.fragment,component:h.routeConfig?h.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:a[0],pathFromRoot:void 0,children:a}}}class m{}var Tt=function(w){return w[w.NONE=1]="NONE",w[w.ROUTER=2]="ROUTER",w[w.STORE=3]="STORE",w}(Tt||{});let It=(()=>{class w{constructor(a,_,F,ae,we,Ce){this.store=a,this.router=_,this.serializer=F,this.errorHandler=ae,this.config=we,this.activeRuntimeChecks=Ce,this.lastEvent=null,this.routerState=null,this.trigger=Tt.NONE,this.stateKey=this.config.stateKey,!(0,f.Lg)()&&(0,d.naY)()&&(Ce?.strictActionSerializability||Ce?.strictStateSerializability)&&this.serializer instanceof nt&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,f.Lt)(this.stateKey),(0,H.E)(this.store)).subscribe(([a,_])=>{this.navigateIfNeeded(a,_)})}navigateIfNeeded(a,_){if(!a||!a.state||this.trigger===Tt.ROUTER||this.lastEvent instanceof G.Z)return;const F=a.state.url;(function Bt(w,h){return wt(w)===wt(h)})(this.router.url,F)||(this.storeState=_,this.trigger=Tt.STORE,this.router.navigateByUrl(F).catch(ae=>{this.errorHandler.handleError(ae)}))}setUpRouterEventsListener(){const a=this.config.navigationActionTiming===Ee.PostActivation;let _;this.router.events.pipe((0,H.E)(this.store)).subscribe(([F,ae])=>{this.lastEvent=F,F instanceof G.Z?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==Tt.STORE&&(this.storeState=ae,this.dispatchRouterRequest(F))):F instanceof G.ld?(_=F,!a&&this.trigger!==Tt.STORE&&this.dispatchRouterNavigation(F)):F instanceof G.j5?(this.dispatchRouterCancel(F),this.reset()):F instanceof G.L6?(this.dispatchRouterError(F),this.reset()):F instanceof G.wF&&(this.trigger!==Tt.STORE&&(a&&this.dispatchRouterNavigation(_),this.dispatchRouterNavigated(F)),this.reset())})}dispatchRouterRequest(a){this.dispatchRouterAction(b,{event:a})}dispatchRouterNavigation(a){const _=this.serializer.serialize(a.state);this.dispatchRouterAction(x,{routerState:_,event:new G.ld(a.id,a.url,a.urlAfterRedirects,_)})}dispatchRouterCancel(a){this.dispatchRouterAction(j,{storeState:this.storeState,event:a})}dispatchRouterError(a){this.dispatchRouterAction(se,{storeState:this.storeState,event:new G.L6(a.id,a.url,`${a}`)})}dispatchRouterNavigated(a){const _=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(oe,{event:a,routerState:_})}dispatchRouterAction(a,_){this.trigger=Tt.ROUTER;try{this.store.dispatch({type:a,payload:{routerState:this.routerState,..._,event:0===this.config.routerState?_.event:{id:_.event.id,url:_.event.url,urlAfterRedirects:_.event.urlAfterRedirects}}})}finally{this.trigger=Tt.NONE}}reset(){this.trigger=Tt.NONE,this.storeState=null,this.routerState=null}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(f.il),d.KVO(G.Ix),d.KVO(m),d.KVO(d.zcH),d.KVO(ke),d.KVO(f.A5))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})();function wt(w){return w?.length>0&&"/"===w[w.length-1]?w.substring(0,w.length-1):w}function mn(w={}){return(0,d.EmA)([{provide:ye,useValue:w},{provide:ke,useFactory:Ye,deps:[ye]},{provide:m,useClass:w.serializer?w.serializer:0===w.routerState?nt:Ge},{provide:d.Z63,multi:!0,useFactory:()=>()=>(0,d.WQX)(It)},It])}let tn=(()=>{class w{static forRoot(a={}){return{ngModule:w,providers:[mn(a)]}}static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({})}return w})();var Tn=p(345),Cn=p(9968),nn=p(9969);function bt(w){return new d.wOt(3e3,!1)}function Se(w){switch(w.length){case 0:return new nn.sf;case 1:return w[0];default:return new nn.ui(w)}}function rt(w,h,a=new Map,_=new Map){const F=[],ae=[];let we=-1,Ce=null;if(h.forEach(ft=>{const lt=ft.get("offset"),wn=lt==we,qt=wn&&Ce||new Map;ft.forEach(($n,En)=>{let an=En,xn=$n;if("offset"!==En)switch(an=w.normalizePropertyName(an,F),xn){case nn.FX:xn=a.get(En);break;case nn.kp:xn=_.get(En);break;default:xn=w.normalizeStyleValue(En,an,xn,F)}qt.set(an,xn)}),wn||ae.push(qt),Ce=qt,we=lt}),F.length)throw function on(w){return new d.wOt(3502,!1)}();return ae}function yt(w,h,a,_){switch(h){case"start":w.onStart(()=>_(a&&pt(a,"start",w)));break;case"done":w.onDone(()=>_(a&&pt(a,"done",w)));break;case"destroy":w.onDestroy(()=>_(a&&pt(a,"destroy",w)))}}function pt(w,h,a){const ae=mt(w.element,w.triggerName,w.fromState,w.toState,h||w.phaseName,a.totalTime??w.totalTime,!!a.disabled),we=w._data;return null!=we&&(ae._data=we),ae}function mt(w,h,a,_,F="",ae=0,we){return{element:w,triggerName:h,fromState:a,toState:_,phaseName:F,totalTime:ae,disabled:!!we}}function Kt(w,h,a){let _=w.get(h);return _||w.set(h,_=a),_}function Un(w){const h=w.indexOf(":");return[w.substring(1,h),w.slice(h+1)]}const jn=typeof document>"u"?null:document.documentElement;function Qt(w){const h=w.parentNode||w.host||null;return h===jn?null:h}let Mn=null,si=!1;function oi(w,h){for(;h;){if(h===w)return!0;h=Qt(h)}return!1}function Wr(w,h,a){if(a)return Array.from(w.querySelectorAll(h));const _=w.querySelector(h);return _?[_]:[]}let Zr=(()=>{class w{validateStyleProperty(a){return function Vi(w){Mn||(Mn=function Zi(){return typeof document<"u"?document.body:null}()||{},si=!!Mn.style&&"WebkitAppearance"in Mn.style);let h=!0;return Mn.style&&!function dn(w){return"ebkit"==w.substring(1,6)}(w)&&(h=w in Mn.style,!h&&si&&(h="Webkit"+w.charAt(0).toUpperCase()+w.slice(1)in Mn.style)),h}(a)}containsElement(a,_){return oi(a,_)}getParentElement(a){return Qt(a)}query(a,_,F){return Wr(a,_,F)}computeStyle(a,_,F){return F||""}animate(a,_,F,ae,we,Ce=[],ft){return new nn.sf(F,ae)}static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})();class ys{static#e=this.NOOP=new Zr}class hs{}const ur=1e3,zn="ng-enter",Ve="ng-leave",et="ng-trigger",jt=".ng-trigger",Wn="ng-animating",In=".ng-animating";function Oi(w){if("number"==typeof w)return w;const h=w.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:ai(parseFloat(h[1]),h[2])}function ai(w,h){return"s"===h?w*ur:w}function Ii(w,h,a){return w.hasOwnProperty("duration")?w:function $r(w,h,a){let F,ae=0,we="";if("string"==typeof w){const Ce=w.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ce)return h.push(bt()),{duration:0,delay:0,easing:""};F=ai(parseFloat(Ce[1]),Ce[2]);const ft=Ce[3];null!=ft&&(ae=ai(parseFloat(ft),Ce[4]));const lt=Ce[5];lt&&(we=lt)}else F=w;if(!a){let Ce=!1,ft=h.length;F<0&&(h.push(function Rt(){return new d.wOt(3100,!1)}()),Ce=!0),ae<0&&(h.push(function xt(){return new d.wOt(3101,!1)}()),Ce=!0),Ce&&h.splice(ft,0,bt())}return{duration:F,delay:ae,easing:we}}(w,h,a)}function Or(w,h,a){h.forEach((_,F)=>{const ae=ne(F);a&&!a.has(F)&&a.set(F,w.style[ae]),w.style[ae]=_})}function r(w,h){h.forEach((a,_)=>{const F=ne(_);w.style[F]=""})}function i(w){return Array.isArray(w)?1==w.length?w[0]:(0,nn.K2)(w):w}const c=new RegExp("{{\\s*(.+?)\\s*}}","g");function S(w){let h=[];if("string"==typeof w){let a;for(;a=c.exec(w);)h.push(a[1]);c.lastIndex=0}return h}function A(w,h,a){const _=`${w}`,F=_.replace(c,(ae,we)=>{let Ce=h[we];return null==Ce&&(a.push(function $t(w){return new d.wOt(3003,!1)}()),Ce=""),Ce.toString()});return F==_?w:F}const W=/-+([a-z0-9])/g;function ne(w){return w.replace(W,(...h)=>h[1].toUpperCase())}function ve(w,h,a){switch(h.type){case nn.If.Trigger:return w.visitTrigger(h,a);case nn.If.State:return w.visitState(h,a);case nn.If.Transition:return w.visitTransition(h,a);case nn.If.Sequence:return w.visitSequence(h,a);case nn.If.Group:return w.visitGroup(h,a);case nn.If.Animate:return w.visitAnimate(h,a);case nn.If.Keyframes:return w.visitKeyframes(h,a);case nn.If.Style:return w.visitStyle(h,a);case nn.If.Reference:return w.visitReference(h,a);case nn.If.AnimateChild:return w.visitAnimateChild(h,a);case nn.If.AnimateRef:return w.visitAnimateRef(h,a);case nn.If.Query:return w.visitQuery(h,a);case nn.If.Stagger:return w.visitStagger(h,a);default:throw function Bn(w){return new d.wOt(3004,!1)}()}}function Ie(w,h){return window.getComputedStyle(w)[h]}const ze=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class st extends hs{normalizePropertyName(h,a){return ne(h)}normalizeStyleValue(h,a,_,F){let ae="";const we=_.toString().trim();if(ze.has(a)&&0!==_&&"0"!==_)if("number"==typeof _)ae="px";else{const Ce=_.match(/^[+-]?[\d\.]+([a-z]*)$/);Ce&&0==Ce[1].length&&F.push(function Hn(w,h){return new d.wOt(3005,!1)}())}return we+ae}}const ee="*";const Mt=new Set(["true","1"]),Ct=new Set(["false","0"]);function ln(w,h){const a=Mt.has(w)||Ct.has(w),_=Mt.has(h)||Ct.has(h);return(F,ae)=>{let we=w==ee||w==F,Ce=h==ee||h==ae;return!we&&a&&"boolean"==typeof F&&(we=F?Mt.has(w):Ct.has(w)),!Ce&&_&&"boolean"==typeof ae&&(Ce=ae?Mt.has(h):Ct.has(h)),we&&Ce}}const ui=new RegExp("s*:selfs*,?","g");function Ei(w,h,a,_){return new zi(w).build(h,a,_)}class zi{constructor(h){this._driver=h}build(h,a,_){const F=new fr(a);return this._resetContextStyleTimingState(F),ve(this,i(h),F)}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles=new Map,h.collectedStyles.set("",new Map),h.currentTime=0}visitTrigger(h,a){let _=a.queryCount=0,F=a.depCount=0;const ae=[],we=[];return"@"==h.name.charAt(0)&&a.errors.push(function Le(){return new d.wOt(3006,!1)}()),h.definitions.forEach(Ce=>{if(this._resetContextStyleTimingState(a),Ce.type==nn.If.State){const ft=Ce,lt=ft.name;lt.toString().split(/\s*,\s*/).forEach(wn=>{ft.name=wn,ae.push(this.visitState(ft,a))}),ft.name=lt}else if(Ce.type==nn.If.Transition){const ft=this.visitTransition(Ce,a);_+=ft.queryCount,F+=ft.depCount,we.push(ft)}else a.errors.push(function B(){return new d.wOt(3007,!1)}())}),{type:nn.If.Trigger,name:h.name,states:ae,transitions:we,queryCount:_,depCount:F,options:null}}visitState(h,a){const _=this.visitStyle(h.styles,a),F=h.options&&h.options.params||null;if(_.containsDynamicStyles){const ae=new Set,we=F||{};_.styles.forEach(Ce=>{Ce instanceof Map&&Ce.forEach(ft=>{S(ft).forEach(lt=>{we.hasOwnProperty(lt)||ae.add(lt)})})}),ae.size&&a.errors.push(function J(w,h){return new d.wOt(3008,!1)}(0,ae.values()))}return{type:nn.If.State,name:h.name,style:_,options:F?{params:F}:null}}visitTransition(h,a){a.queryCount=0,a.depCount=0;const _=ve(this,i(h.animation),a),F=function Ae(w,h){const a=[];return"string"==typeof w?w.split(/\s*,\s*/).forEach(_=>function Ke(w,h,a){if(":"==w[0]){const ft=function Be(w,h){switch(w){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,_)=>parseFloat(_)>parseFloat(a);case":decrement":return(a,_)=>parseFloat(_)<parseFloat(a);default:return h.push(function rn(w){return new d.wOt(3016,!1)}()),"* => *"}}(w,a);if("function"==typeof ft)return void h.push(ft);w=ft}const _=w.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==_||_.length<4)return a.push(function pn(w){return new d.wOt(3015,!1)}()),h;const F=_[1],ae=_[2],we=_[3];h.push(ln(F,we)),"<"==ae[0]&&(F!=ee||we!=ee)&&h.push(ln(we,F))}(_,a,h)):a.push(w),a}(h.expr,a.errors);return{type:nn.If.Transition,matchers:F,animation:_,queryCount:a.queryCount,depCount:a.depCount,options:ws(h.options)}}visitSequence(h,a){return{type:nn.If.Sequence,steps:h.steps.map(_=>ve(this,_,a)),options:ws(h.options)}}visitGroup(h,a){const _=a.currentTime;let F=0;const ae=h.steps.map(we=>{a.currentTime=_;const Ce=ve(this,we,a);return F=Math.max(F,a.currentTime),Ce});return a.currentTime=F,{type:nn.If.Group,steps:ae,options:ws(h.options)}}visitAnimate(h,a){const _=function _r(w,h){if(w.hasOwnProperty("duration"))return w;if("number"==typeof w)return Ws(Ii(w,h).duration,0,"");const a=w;if(a.split(/\s+/).some(ae=>"{"==ae.charAt(0)&&"{"==ae.charAt(1))){const ae=Ws(0,0,"");return ae.dynamic=!0,ae.strValue=a,ae}const F=Ii(a,h);return Ws(F.duration,F.delay,F.easing)}(h.timings,a.errors);a.currentAnimateTimings=_;let F,ae=h.styles?h.styles:(0,nn.iF)({});if(ae.type==nn.If.Keyframes)F=this.visitKeyframes(ae,a);else{let we=h.styles,Ce=!1;if(!we){Ce=!0;const lt={};_.easing&&(lt.easing=_.easing),we=(0,nn.iF)(lt)}a.currentTime+=_.duration+_.delay;const ft=this.visitStyle(we,a);ft.isEmptyStep=Ce,F=ft}return a.currentAnimateTimings=null,{type:nn.If.Animate,timings:_,style:F,options:null}}visitStyle(h,a){const _=this._makeStyleAst(h,a);return this._validateStyleAst(_,a),_}_makeStyleAst(h,a){const _=[],F=Array.isArray(h.styles)?h.styles:[h.styles];for(let Ce of F)"string"==typeof Ce?Ce===nn.kp?_.push(Ce):a.errors.push(new d.wOt(3002,!1)):_.push(new Map(Object.entries(Ce)));let ae=!1,we=null;return _.forEach(Ce=>{if(Ce instanceof Map&&(Ce.has("easing")&&(we=Ce.get("easing"),Ce.delete("easing")),!ae))for(let ft of Ce.values())if(ft.toString().indexOf("{{")>=0){ae=!0;break}}),{type:nn.If.Style,styles:_,easing:we,offset:h.offset,containsDynamicStyles:ae,options:null}}_validateStyleAst(h,a){const _=a.currentAnimateTimings;let F=a.currentTime,ae=a.currentTime;_&&ae>0&&(ae-=_.duration+_.delay),h.styles.forEach(we=>{"string"!=typeof we&&we.forEach((Ce,ft)=>{const lt=a.collectedStyles.get(a.currentQuerySelector),wn=lt.get(ft);let qt=!0;wn&&(ae!=F&&ae>=wn.startTime&&F<=wn.endTime&&(a.errors.push(function qe(w,h,a,_,F){return new d.wOt(3010,!1)}()),qt=!1),ae=wn.startTime),qt&&lt.set(ft,{startTime:ae,endTime:F}),a.options&&function u(w,h,a){const _=h.params||{},F=S(w);F.length&&F.forEach(ae=>{_.hasOwnProperty(ae)||a.push(function Jt(w){return new d.wOt(3001,!1)}())})}(Ce,a.options,a.errors)})})}visitKeyframes(h,a){const _={type:nn.If.Keyframes,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function At(){return new d.wOt(3011,!1)}()),_;let ae=0;const we=[];let Ce=!1,ft=!1,lt=0;const wn=h.steps.map(Xi=>{const rr=this._makeStyleAst(Xi,a);let _s=null!=rr.offset?rr.offset:function or(w){if("string"==typeof w)return null;let h=null;if(Array.isArray(w))w.forEach(a=>{if(a instanceof Map&&a.has("offset")){const _=a;h=parseFloat(_.get("offset")),_.delete("offset")}});else if(w instanceof Map&&w.has("offset")){const a=w;h=parseFloat(a.get("offset")),a.delete("offset")}return h}(rr.styles),sr=0;return null!=_s&&(ae++,sr=rr.offset=_s),ft=ft||sr<0||sr>1,Ce=Ce||sr<lt,lt=sr,we.push(sr),rr});ft&&a.errors.push(function un(){return new d.wOt(3012,!1)}()),Ce&&a.errors.push(function kn(){return new d.wOt(3200,!1)}());const qt=h.steps.length;let $n=0;ae>0&&ae<qt?a.errors.push(function ti(){return new d.wOt(3202,!1)}()):0==ae&&($n=1/(qt-1));const En=qt-1,an=a.currentTime,xn=a.currentAnimateTimings,Ui=xn.duration;return wn.forEach((Xi,rr)=>{const _s=$n>0?rr==En?1:$n*rr:we[rr],sr=_s*Ui;a.currentTime=an+xn.delay+sr,xn.duration=sr,this._validateStyleAst(Xi,a),Xi.offset=_s,_.styles.push(Xi)}),_}visitReference(h,a){return{type:nn.If.Reference,animation:ve(this,i(h.animation),a),options:ws(h.options)}}visitAnimateChild(h,a){return a.depCount++,{type:nn.If.AnimateChild,options:ws(h.options)}}visitAnimateRef(h,a){return{type:nn.If.AnimateRef,animation:this.visitReference(h.animation,a),options:ws(h.options)}}visitQuery(h,a){const _=a.currentQuerySelector,F=h.options||{};a.queryCount++,a.currentQuery=h;const[ae,we]=function Gr(w){const h=!!w.split(/\s*,\s*/).find(a=>":self"==a);return h&&(w=w.replace(ui,"")),w=w.replace(/@\*/g,jt).replace(/@\w+/g,a=>jt+"-"+a.slice(1)).replace(/:animating/g,In),[w,h]}(h.selector);a.currentQuerySelector=_.length?_+" "+ae:ae,Kt(a.collectedStyles,a.currentQuerySelector,new Map);const Ce=ve(this,i(h.animation),a);return a.currentQuery=null,a.currentQuerySelector=_,{type:nn.If.Query,selector:ae,limit:F.limit||0,optional:!!F.optional,includeSelf:we,animation:Ce,originalSelector:h.selector,options:ws(h.options)}}visitStagger(h,a){a.currentQuery||a.errors.push(function ii(){return new d.wOt(3013,!1)}());const _="full"===h.timings?{duration:0,delay:0,easing:"full"}:Ii(h.timings,a.errors,!0);return{type:nn.If.Stagger,animation:ve(this,i(h.animation),a),timings:_,options:null}}}class fr{constructor(h){this.errors=h,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ws(w){return w?(w={...w}).params&&(w.params=function er(w){return w?{...w}:null}(w.params)):w={},w}function Ws(w,h,a){return{duration:w,delay:h,easing:a}}function Ks(w,h,a,_,F,ae,we=null,Ce=!1){return{type:1,element:w,keyframes:h,preStyleProps:a,postStyleProps:_,duration:F,delay:ae,totalTime:F+ae,easing:we,subTimeline:Ce}}class ts{constructor(){this._map=new Map}get(h){return this._map.get(h)||[]}append(h,a){let _=this._map.get(h);_||this._map.set(h,_=[]),_.push(...a)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const ds=new RegExp(":enter","g"),ks=new RegExp(":leave","g");function is(w,h,a,_,F,ae=new Map,we=new Map,Ce,ft,lt=[]){return(new Gs).buildKeyframes(w,h,a,_,F,ae,we,Ce,ft,lt)}class Gs{buildKeyframes(h,a,_,F,ae,we,Ce,ft,lt,wn=[]){lt=lt||new ts;const qt=new As(h,a,lt,F,ae,wn,[]);qt.options=ft;const $n=ft.delay?Oi(ft.delay):0;qt.currentTimeline.delayNextStep($n),qt.currentTimeline.setStyles([we],null,qt.errors,ft),ve(this,_,qt);const En=qt.timelines.filter(an=>an.containsAnimation());if(En.length&&Ce.size){let an;for(let xn=En.length-1;xn>=0;xn--){const Ui=En[xn];if(Ui.element===a){an=Ui;break}}an&&!an.allowOnlyTimelineStyles()&&an.setStyles([Ce],null,qt.errors,ft)}return En.length?En.map(an=>an.buildKeyframes()):[Ks(a,[],[],[],0,$n,"",!1)]}visitTrigger(h,a){}visitState(h,a){}visitTransition(h,a){}visitAnimateChild(h,a){const _=a.subInstructions.get(a.element);if(_){const F=a.createSubContext(h.options),ae=a.currentTimeline.currentTime,we=this._visitSubInstructions(_,F,F.options);ae!=we&&a.transformIntoNewTimeline(we)}a.previousNode=h}visitAnimateRef(h,a){const _=a.createSubContext(h.options);_.transformIntoNewTimeline(),this._applyAnimationRefDelays([h.options,h.animation.options],a,_),this.visitReference(h.animation,_),a.transformIntoNewTimeline(_.currentTimeline.currentTime),a.previousNode=h}_applyAnimationRefDelays(h,a,_){for(const F of h){const ae=F?.delay;if(ae){const we="number"==typeof ae?ae:Oi(A(ae,F?.params??{},a.errors));_.delayNextStep(we)}}}_visitSubInstructions(h,a,_){let ae=a.currentTimeline.currentTime;const we=null!=_.duration?Oi(_.duration):null,Ce=null!=_.delay?Oi(_.delay):null;return 0!==we&&h.forEach(ft=>{const lt=a.appendInstructionToTimeline(ft,we,Ce);ae=Math.max(ae,lt.duration+lt.delay)}),ae}visitReference(h,a){a.updateOptions(h.options,!0),ve(this,h.animation,a),a.previousNode=h}visitSequence(h,a){const _=a.subContextCount;let F=a;const ae=h.options;if(ae&&(ae.params||ae.delay)&&(F=a.createSubContext(ae),F.transformIntoNewTimeline(),null!=ae.delay)){F.previousNode.type==nn.If.Style&&(F.currentTimeline.snapshotCurrentStyles(),F.previousNode=fs);const we=Oi(ae.delay);F.delayNextStep(we)}h.steps.length&&(h.steps.forEach(we=>ve(this,we,F)),F.currentTimeline.applyStylesToKeyframe(),F.subContextCount>_&&F.transformIntoNewTimeline()),a.previousNode=h}visitGroup(h,a){const _=[];let F=a.currentTimeline.currentTime;const ae=h.options&&h.options.delay?Oi(h.options.delay):0;h.steps.forEach(we=>{const Ce=a.createSubContext(h.options);ae&&Ce.delayNextStep(ae),ve(this,we,Ce),F=Math.max(F,Ce.currentTimeline.currentTime),_.push(Ce.currentTimeline)}),_.forEach(we=>a.currentTimeline.mergeTimelineCollectedStyles(we)),a.transformIntoNewTimeline(F),a.previousNode=h}_visitTiming(h,a){if(h.dynamic){const _=h.strValue;return Ii(a.params?A(_,a.params,a.errors):_,a.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,a){const _=a.currentAnimateTimings=this._visitTiming(h.timings,a),F=a.currentTimeline;_.delay&&(a.incrementTime(_.delay),F.snapshotCurrentStyles());const ae=h.style;ae.type==nn.If.Keyframes?this.visitKeyframes(ae,a):(a.incrementTime(_.duration),this.visitStyle(ae,a),F.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=h}visitStyle(h,a){const _=a.currentTimeline,F=a.currentAnimateTimings;!F&&_.hasCurrentStyleProperties()&&_.forwardFrame();const ae=F&&F.easing||h.easing;h.isEmptyStep?_.applyEmptyStep(ae):_.setStyles(h.styles,ae,a.errors,a.options),a.previousNode=h}visitKeyframes(h,a){const _=a.currentAnimateTimings,F=a.currentTimeline.duration,ae=_.duration,Ce=a.createSubContext().currentTimeline;Ce.easing=_.easing,h.styles.forEach(ft=>{Ce.forwardTime((ft.offset||0)*ae),Ce.setStyles(ft.styles,ft.easing,a.errors,a.options),Ce.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(Ce),a.transformIntoNewTimeline(F+ae),a.previousNode=h}visitQuery(h,a){const _=a.currentTimeline.currentTime,F=h.options||{},ae=F.delay?Oi(F.delay):0;ae&&(a.previousNode.type===nn.If.Style||0==_&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=fs);let we=_;const Ce=a.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!F.optional,a.errors);a.currentQueryTotal=Ce.length;let ft=null;Ce.forEach((lt,wn)=>{a.currentQueryIndex=wn;const qt=a.createSubContext(h.options,lt);ae&&qt.delayNextStep(ae),lt===a.element&&(ft=qt.currentTimeline),ve(this,h.animation,qt),qt.currentTimeline.applyStylesToKeyframe(),we=Math.max(we,qt.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(we),ft&&(a.currentTimeline.mergeTimelineCollectedStyles(ft),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=h}visitStagger(h,a){const _=a.parentContext,F=a.currentTimeline,ae=h.timings,we=Math.abs(ae.duration),Ce=we*(a.currentQueryTotal-1);let ft=we*a.currentQueryIndex;switch(ae.duration<0?"reverse":ae.easing){case"reverse":ft=Ce-ft;break;case"full":ft=_.currentStaggerTime}const wn=a.currentTimeline;ft&&wn.delayNextStep(ft);const qt=wn.currentTime;ve(this,h.animation,a),a.previousNode=h,_.currentStaggerTime=F.currentTime-qt+(F.startTime-_.currentTimeline.startTime)}}const fs={};class As{constructor(h,a,_,F,ae,we,Ce,ft){this._driver=h,this.element=a,this.subInstructions=_,this._enterClassName=F,this._leaveClassName=ae,this.errors=we,this.timelines=Ce,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ft||new Lr(this._driver,a,0),Ce.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,a){if(!h)return;const _=h;let F=this.options;null!=_.duration&&(F.duration=Oi(_.duration)),null!=_.delay&&(F.delay=Oi(_.delay));const ae=_.params;if(ae){let we=F.params;we||(we=this.options.params={}),Object.keys(ae).forEach(Ce=>{(!a||!we.hasOwnProperty(Ce))&&(we[Ce]=A(ae[Ce],we,this.errors))})}}_copyOptions(){const h={};if(this.options){const a=this.options.params;if(a){const _=h.params={};Object.keys(a).forEach(F=>{_[F]=a[F]})}}return h}createSubContext(h=null,a,_){const F=a||this.element,ae=new As(this._driver,F,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(F,_||0));return ae.previousNode=this.previousNode,ae.currentAnimateTimings=this.currentAnimateTimings,ae.options=this._copyOptions(),ae.updateOptions(h),ae.currentQueryIndex=this.currentQueryIndex,ae.currentQueryTotal=this.currentQueryTotal,ae.parentContext=this,this.subContextCount++,ae}transformIntoNewTimeline(h){return this.previousNode=fs,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,a,_){const F={duration:a??h.duration,delay:this.currentTimeline.currentTime+(_??0)+h.delay,easing:""},ae=new rs(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,F,h.stretchStartingKeyframe);return this.timelines.push(ae),F}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,a,_,F,ae,we){let Ce=[];if(F&&Ce.push(this.element),h.length>0){h=(h=h.replace(ds,"."+this._enterClassName)).replace(ks,"."+this._leaveClassName);let lt=this._driver.query(this.element,h,1!=_);0!==_&&(lt=_<0?lt.slice(lt.length+_,lt.length):lt.slice(0,_)),Ce.push(...lt)}return!ae&&0==Ce.length&&we.push(function gi(w){return new d.wOt(3014,!1)}()),Ce}}class Lr{constructor(h,a,_,F){this._driver=h,this.element=a,this.startTime=_,this._elementTimelineStylesLookup=F,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+h),a&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,a){return this.applyStylesToKeyframe(),new Lr(this._driver,h,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,a){this._localTimelineStyles.set(h,a),this._globalTimelineStyles.set(h,a),this._styleSummary.set(h,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&this._previousKeyframe.set("easing",h);for(let[a,_]of this._globalTimelineStyles)this._backFill.set(a,_||nn.kp),this._currentKeyframe.set(a,nn.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,a,_,F){a&&this._previousKeyframe.set("easing",a);const ae=F&&F.params||{},we=function Ur(w,h){const a=new Map;let _;return w.forEach(F=>{if("*"===F){_??=h.keys();for(let ae of _)a.set(ae,nn.kp)}else for(let[ae,we]of F)a.set(ae,we)}),a}(h,this._globalTimelineStyles);for(let[Ce,ft]of we){const lt=A(ft,ae,_);this._pendingStyles.set(Ce,lt),this._localTimelineStyles.has(Ce)||this._backFill.set(Ce,this._globalTimelineStyles.get(Ce)??nn.kp),this._updateStyle(Ce,lt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((h,a)=>{this._currentKeyframe.set(a,h)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((h,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,h)}))}snapshotCurrentStyles(){for(let[h,a]of this._localTimelineStyles)this._pendingStyles.set(h,a),this._updateStyle(h,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let a in this._currentKeyframe)h.push(a);return h}mergeTimelineCollectedStyles(h){h._styleSummary.forEach((a,_)=>{const F=this._styleSummary.get(_);(!F||a.time>F.time)&&this._updateStyle(_,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,a=new Set,_=1===this._keyframes.size&&0===this.duration;let F=[];this._keyframes.forEach((Ce,ft)=>{const lt=new Map([...this._backFill,...Ce]);lt.forEach((wn,qt)=>{wn===nn.FX?h.add(qt):wn===nn.kp&&a.add(qt)}),_||lt.set("offset",ft/this.duration),F.push(lt)});const ae=[...h.values()],we=[...a.values()];if(_){const Ce=F[0],ft=new Map(Ce);Ce.set("offset",0),ft.set("offset",1),F=[Ce,ft]}return Ks(this.element,F,ae,we,this.duration,this.startTime,this.easing,!1)}}class rs extends Lr{constructor(h,a,_,F,ae,we,Ce=!1){super(h,a,we.delay),this.keyframes=_,this.preStyleProps=F,this.postStyleProps=ae,this._stretchStartingKeyframe=Ce,this.timings={duration:we.duration,delay:we.delay,easing:we.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:a,duration:_,easing:F}=this.timings;if(this._stretchStartingKeyframe&&a){const ae=[],we=_+a,Ce=a/we,ft=new Map(h[0]);ft.set("offset",0),ae.push(ft);const lt=new Map(h[0]);lt.set("offset",Br(Ce)),ae.push(lt);const wn=h.length-1;for(let qt=1;qt<=wn;qt++){let $n=new Map(h[qt]);const En=$n.get("offset");$n.set("offset",Br((a+En*_)/we)),ae.push($n)}_=we,a=0,F="",h=ae}return Ks(this.element,h,this.preStyleProps,this.postStyleProps,_,a,F,!0)}}function Br(w,h=3){const a=Math.pow(10,h-1);return Math.round(w*a)/a}function ji(w,h,a,_,F,ae,we,Ce,ft,lt,wn,qt,$n){return{type:0,element:w,triggerName:h,isRemovalTransition:F,fromState:a,fromStyles:ae,toState:_,toStyles:we,timelines:Ce,queriedElements:ft,preStyleProps:lt,postStyleProps:wn,totalTime:qt,errors:$n}}const ps={};class Js{constructor(h,a,_){this._triggerName=h,this.ast=a,this._stateStyles=_}match(h,a,_,F){return function bo(w,h,a,_,F){return w.some(ae=>ae(h,a,_,F))}(this.ast.matchers,h,a,_,F)}buildStyles(h,a,_){let F=this._stateStyles.get("*");return void 0!==h&&(F=this._stateStyles.get(h?.toString())||F),F?F.buildStyles(a,_):new Map}build(h,a,_,F,ae,we,Ce,ft,lt,wn){const qt=[],$n=this.ast.options&&this.ast.options.params||ps,an=this.buildStyles(_,Ce&&Ce.params||ps,qt),xn=ft&&ft.params||ps,Ui=this.buildStyles(F,xn,qt),Xi=new Set,rr=new Map,_s=new Map,sr="void"===F,ls={params:gs(xn,$n),delay:this.ast.options?.delay},Nr=wn?[]:is(h,a,this.ast.animation,ae,we,an,Ui,ls,lt,qt);let Ds=0;return Nr.forEach(vs=>{Ds=Math.max(vs.duration+vs.delay,Ds)}),qt.length?ji(a,this._triggerName,_,F,sr,an,Ui,[],[],rr,_s,Ds,qt):(Nr.forEach(vs=>{const pa=vs.element,xl=Kt(rr,pa,new Set);vs.preStyleProps.forEach(ja=>xl.add(ja));const jc=Kt(_s,pa,new Set);vs.postStyleProps.forEach(ja=>jc.add(ja)),pa!==a&&Xi.add(pa)}),ji(a,this._triggerName,_,F,sr,an,Ui,Nr,[...Xi.values()],rr,_s,Ds))}}function gs(w,h){const a={...h};return Object.entries(w).forEach(([_,F])=>{null!=F&&(a[_]=F)}),a}class o{constructor(h,a,_){this.styles=h,this.defaultParams=a,this.normalizer=_}buildStyles(h,a){const _=new Map,F=gs(h,this.defaultParams);return this.styles.styles.forEach(ae=>{"string"!=typeof ae&&ae.forEach((we,Ce)=>{we&&(we=A(we,F,a));const ft=this.normalizer.normalizePropertyName(Ce,a);we=this.normalizer.normalizeStyleValue(Ce,ft,we,a),_.set(Ce,we)})}),_}}class M{constructor(h,a,_){this.name=h,this.ast=a,this._normalizer=_,this.transitionFactories=[],this.states=new Map,a.states.forEach(F=>{this.states.set(F.name,new o(F.style,F.options&&F.options.params||{},_))}),Y(this.states,"true","1"),Y(this.states,"false","0"),a.transitions.forEach(F=>{this.transitionFactories.push(new Js(h,F,this.states))}),this.fallbackTransition=function N(w,h,a){return new Js(w,{type:nn.If.Transition,animation:{type:nn.If.Sequence,steps:[],options:null},matchers:[(we,Ce)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,a,_,F){return this.transitionFactories.find(we=>we.match(h,a,_,F))||null}matchStyles(h,a,_){return this.fallbackTransition.buildStyles(h,a,_)}}function Y(w,h,a){w.has(h)?w.has(a)||w.set(a,w.get(h)):w.has(a)&&w.set(h,w.get(a))}const Z=new ts;class pe{constructor(h,a,_){this.bodyNode=h,this._driver=a,this._normalizer=_,this._animations=new Map,this._playersById=new Map,this.players=[]}register(h,a){const _=[],ae=Ei(this._driver,a,_,[]);if(_.length)throw function hn(w){return new d.wOt(3503,!1)}();this._animations.set(h,ae)}_buildPlayer(h,a,_){const F=h.element,ae=rt(this._normalizer,h.keyframes,a,_);return this._driver.animate(F,ae,h.duration,h.delay,h.easing,[],!0)}create(h,a,_={}){const F=[],ae=this._animations.get(h);let we;const Ce=new Map;if(ae?(we=is(this._driver,a,ae,zn,Ve,new Map,new Map,_,Z,F),we.forEach(wn=>{const qt=Kt(Ce,wn.element,new Map);wn.postStyleProps.forEach($n=>qt.set($n,null))})):(F.push(function _i(){return new d.wOt(3300,!1)}()),we=[]),F.length)throw function _e(w){return new d.wOt(3504,!1)}();Ce.forEach((wn,qt)=>{wn.forEach(($n,En)=>{wn.set(En,this._driver.computeStyle(qt,En,nn.kp))})});const lt=Se(we.map(wn=>{const qt=Ce.get(wn.element);return this._buildPlayer(wn,new Map,qt)}));return this._playersById.set(h,lt),lt.onDestroy(()=>this.destroy(h)),this.players.push(lt),lt}destroy(h){const a=this._getPlayer(h);a.destroy(),this._playersById.delete(h);const _=this.players.indexOf(a);_>=0&&this.players.splice(_,1)}_getPlayer(h){const a=this._playersById.get(h);if(!a)throw function ki(w){return new d.wOt(3301,!1)}();return a}listen(h,a,_,F){const ae=mt(a,"","","");return yt(this._getPlayer(h),_,ae,F),()=>{}}command(h,a,_,F){if("register"==_)return void this.register(h,F[0]);if("create"==_)return void this.create(h,a,F[0]||{});const ae=this._getPlayer(h);switch(_){case"play":ae.play();break;case"pause":ae.pause();break;case"reset":ae.reset();break;case"restart":ae.restart();break;case"finish":ae.finish();break;case"init":ae.init();break;case"setPosition":ae.setPosition(parseFloat(F[0]));break;case"destroy":this.destroy(h)}}}const Je="ng-animate-queued",ht="ng-animate-disabled",fn=[],Yn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Bi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zn="__ng_removed";class Vr{get params(){return this.options.params}constructor(h,a=""){this.namespaceId=a;const _=h&&h.hasOwnProperty("value");if(this.value=function vr(w){return w??null}(_?h.value:h),_){const{value:ae,...we}=h;this.options=we}else this.options={};this.options.params||(this.options.params={})}absorbOptions(h){const a=h.params;if(a){const _=this.options.params;Object.keys(a).forEach(F=>{null==_[F]&&(_[F]=a[F])})}}}const Ji="void",Is=new Vr(Ji);class Ys{constructor(h,a,_){this.id=h,this.hostElement=a,this._engine=_,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+h,zr(a,this._hostClassName)}listen(h,a,_,F){if(!this._triggers.has(a))throw function ci(w,h){return new d.wOt(3302,!1)}();if(null==_||0==_.length)throw function gn(w){return new d.wOt(3303,!1)}();if(!function Io(w){return"start"==w||"done"==w}(_))throw function cs(w,h){return new d.wOt(3400,!1)}();const ae=Kt(this._elementListeners,h,[]),we={name:a,phase:_,callback:F};ae.push(we);const Ce=Kt(this._engine.statesByElement,h,new Map);return Ce.has(a)||(zr(h,et),zr(h,et+"-"+a),Ce.set(a,Is)),()=>{this._engine.afterFlush(()=>{const ft=ae.indexOf(we);ft>=0&&ae.splice(ft,1),this._triggers.has(a)||Ce.delete(a)})}}register(h,a){return!this._triggers.has(h)&&(this._triggers.set(h,a),!0)}_getTrigger(h){const a=this._triggers.get(h);if(!a)throw function Cr(w){return new d.wOt(3401,!1)}();return a}trigger(h,a,_,F=!0){const ae=this._getTrigger(a),we=new ao(this.id,a,h);let Ce=this._engine.statesByElement.get(h);Ce||(zr(h,et),zr(h,et+"-"+a),this._engine.statesByElement.set(h,Ce=new Map));let ft=Ce.get(a);const lt=new Vr(_,this.id);if(!(_&&_.hasOwnProperty("value"))&&ft&&lt.absorbOptions(ft.options),Ce.set(a,lt),ft||(ft=Is),lt.value!==Ji&&ft.value===lt.value){if(!function Os(w,h){const a=Object.keys(w),_=Object.keys(h);if(a.length!=_.length)return!1;for(let F=0;F<a.length;F++){const ae=a[F];if(!h.hasOwnProperty(ae)||w[ae]!==h[ae])return!1}return!0}(ft.params,lt.params)){const xn=[],Ui=ae.matchStyles(ft.value,ft.params,xn),Xi=ae.matchStyles(lt.value,lt.params,xn);xn.length?this._engine.reportError(xn):this._engine.afterFlush(()=>{r(h,Ui),Or(h,Xi)})}return}const $n=Kt(this._engine.playersByElement,h,[]);$n.forEach(xn=>{xn.namespaceId==this.id&&xn.triggerName==a&&xn.queued&&xn.destroy()});let En=ae.matchTransition(ft.value,lt.value,h,lt.params),an=!1;if(!En){if(!F)return;En=ae.fallbackTransition,an=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:a,transition:En,fromState:ft,toState:lt,player:we,isFallbackTransition:an}),an||(zr(h,Je),we.onStart(()=>{Mr(h,Je)})),we.onDone(()=>{let xn=this.players.indexOf(we);xn>=0&&this.players.splice(xn,1);const Ui=this._engine.playersByElement.get(h);if(Ui){let Xi=Ui.indexOf(we);Xi>=0&&Ui.splice(Xi,1)}}),this.players.push(we),$n.push(we),we}deregister(h){this._triggers.delete(h),this._engine.statesByElement.forEach(a=>a.delete(h)),this._elementListeners.forEach((a,_)=>{this._elementListeners.set(_,a.filter(F=>F.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const a=this._engine.playersByElement.get(h);a&&(a.forEach(_=>_.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,a){const _=this._engine.driver.query(h,jt,!0);_.forEach(F=>{if(F[Zn])return;const ae=this._engine.fetchNamespacesByElement(F);ae.size?ae.forEach(we=>we.triggerLeaveAnimation(F,a,!1,!0)):this.clearElementCache(F)}),this._engine.afterFlushAnimationsDone(()=>_.forEach(F=>this.clearElementCache(F)))}triggerLeaveAnimation(h,a,_,F){const ae=this._engine.statesByElement.get(h),we=new Map;if(ae){const Ce=[];if(ae.forEach((ft,lt)=>{if(we.set(lt,ft.value),this._triggers.has(lt)){const wn=this.trigger(h,lt,Ji,F);wn&&Ce.push(wn)}}),Ce.length)return this._engine.markElementAsRemoved(this.id,h,!0,a,we),_&&Se(Ce).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const a=this._elementListeners.get(h),_=this._engine.statesByElement.get(h);if(a&&_){const F=new Set;a.forEach(ae=>{const we=ae.name;if(F.has(we))return;F.add(we);const ft=this._triggers.get(we).fallbackTransition,lt=_.get(we)||Is,wn=new Vr(Ji),qt=new ao(this.id,we,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:we,transition:ft,fromState:lt,toState:wn,player:qt,isFallbackTransition:!0})})}}removeNode(h,a){const _=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,a),this.triggerLeaveAnimation(h,a,!0))return;let F=!1;if(_.totalAnimations){const ae=_.players.length?_.playersByQueriedElement.get(h):[];if(ae&&ae.length)F=!0;else{let we=h;for(;we=we.parentNode;)if(_.statesByElement.get(we)){F=!0;break}}}if(this.prepareLeaveAnimationListeners(h),F)_.markElementAsRemoved(this.id,h,!1,a);else{const ae=h[Zn];(!ae||ae===Yn)&&(_.afterFlush(()=>this.clearElementCache(h)),_.destroyInnerAnimations(h),_._onRemovalComplete(h,a))}}insertNode(h,a){zr(h,this._hostClassName)}drainQueuedTransitions(h){const a=[];return this._queue.forEach(_=>{const F=_.player;if(F.destroyed)return;const ae=_.element,we=this._elementListeners.get(ae);we&&we.forEach(Ce=>{if(Ce.name==_.triggerName){const ft=mt(ae,_.triggerName,_.fromState.value,_.toState.value);ft._data=h,yt(_.player,Ce.phase,ft,Ce.callback)}}),F.markedForDestroy?this._engine.afterFlush(()=>{F.destroy()}):a.push(_)}),this._queue=[],a.sort((_,F)=>{const ae=_.transition.ast.depCount,we=F.transition.ast.depCount;return 0==ae||0==we?ae-we:this._engine.driver.containsElement(_.element,F.element)?1:-1})}destroy(h){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}}class Mi{_onRemovalComplete(h,a){this.onRemovalComplete(h,a)}constructor(h,a,_){this.bodyNode=h,this.driver=a,this._normalizer=_,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(F,ae)=>{}}get queuedPlayers(){const h=[];return this._namespaceList.forEach(a=>{a.players.forEach(_=>{_.queued&&h.push(_)})}),h}createNamespace(h,a){const _=new Ys(h,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(_,a):(this.newHostElements.set(a,_),this.collectEnterElement(a)),this._namespaceLookup[h]=_}_balanceNamespaceList(h,a){const _=this._namespaceList,F=this.namespacesByHostElement;if(_.length-1>=0){let we=!1,Ce=this.driver.getParentElement(a);for(;Ce;){const ft=F.get(Ce);if(ft){const lt=_.indexOf(ft);_.splice(lt+1,0,h),we=!0;break}Ce=this.driver.getParentElement(Ce)}we||_.unshift(h)}else _.push(h);return F.set(a,h),h}register(h,a){let _=this._namespaceLookup[h];return _||(_=this.createNamespace(h,a)),_}registerTrigger(h,a,_){let F=this._namespaceLookup[h];F&&F.register(a,_)&&this.totalAnimations++}destroy(h,a){h&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const _=this._fetchNamespace(h);this.namespacesByHostElement.delete(_.hostElement);const F=this._namespaceList.indexOf(_);F>=0&&this._namespaceList.splice(F,1),_.destroy(a),delete this._namespaceLookup[h]}))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const a=new Set,_=this.statesByElement.get(h);if(_)for(let F of _.values())if(F.namespaceId){const ae=this._fetchNamespace(F.namespaceId);ae&&a.add(ae)}return a}trigger(h,a,_,F){if(Ns(a)){const ae=this._fetchNamespace(h);if(ae)return ae.trigger(a,_,F),!0}return!1}insertNode(h,a,_,F){if(!Ns(a))return;const ae=a[Zn];if(ae&&ae.setForRemoval){ae.setForRemoval=!1,ae.setForMove=!0;const we=this.collectedLeaveElements.indexOf(a);we>=0&&this.collectedLeaveElements.splice(we,1)}if(h){const we=this._fetchNamespace(h);we&&we.insertNode(a,_)}F&&this.collectEnterElement(a)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,a){a?this.disabledNodes.has(h)||(this.disabledNodes.add(h),zr(h,ht)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),Mr(h,ht))}removeNode(h,a,_){if(Ns(a)){const F=h?this._fetchNamespace(h):null;F?F.removeNode(a,_):this.markElementAsRemoved(h,a,!1,_);const ae=this.namespacesByHostElement.get(a);ae&&ae.id!==h&&ae.removeNode(a,_)}else this._onRemovalComplete(a,_)}markElementAsRemoved(h,a,_,F,ae){this.collectedLeaveElements.push(a),a[Zn]={namespaceId:h,setForRemoval:F,hasAnimation:_,removedBeforeQueried:!1,previousTriggersValues:ae}}listen(h,a,_,F,ae){return Ns(a)?this._fetchNamespace(h).listen(a,_,F,ae):()=>{}}_buildInstruction(h,a,_,F,ae){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,_,F,h.fromState.options,h.toState.options,a,ae)}destroyInnerAnimations(h){let a=this.driver.query(h,jt,!0);a.forEach(_=>this.destroyActiveAnimationsForElement(_)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(h,In,!0),a.forEach(_=>this.finishActiveQueriedAnimationOnElement(_)))}destroyActiveAnimationsForElement(h){const a=this.playersByElement.get(h);a&&a.forEach(_=>{_.queued?_.markedForDestroy=!0:_.destroy()})}finishActiveQueriedAnimationOnElement(h){const a=this.playersByQueriedElement.get(h);a&&a.forEach(_=>_.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return Se(this.players).onDone(()=>h());h()})}processLeaveNode(h){const a=h[Zn];if(a&&a.setForRemoval){if(h[Zn]=Yn,a.namespaceId){this.destroyInnerAnimations(h);const _=this._fetchNamespace(a.namespaceId);_&&_.clearElementCache(h)}this._onRemovalComplete(h,a.setForRemoval)}h.classList?.contains(ht)&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(_=>{this.markElementAsDisabled(_,!1)})}flush(h=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((_,F)=>this._balanceNamespaceList(_,F)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let _=0;_<this.collectedEnterElements.length;_++)zr(this.collectedEnterElements[_],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const _=[];try{a=this._flushAnimations(_,h)}finally{for(let F=0;F<_.length;F++)_[F]()}}else for(let _=0;_<this.collectedLeaveElements.length;_++)this.processLeaveNode(this.collectedLeaveElements[_]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(_=>_()),this._flushFns=[],this._whenQuietFns.length){const _=this._whenQuietFns;this._whenQuietFns=[],a.length?Se(a).onDone(()=>{_.forEach(F=>F())}):_.forEach(F=>F())}}reportError(h){throw function wr(w){return new d.wOt(3402,!1)}()}_flushAnimations(h,a){const _=new ts,F=[],ae=new Map,we=[],Ce=new Map,ft=new Map,lt=new Map,wn=new Set;this.disabledNodes.forEach(di=>{wn.add(di);const Di=this.driver.query(di,".ng-animate-queued",!0);for(let Pi=0;Pi<Di.length;Pi++)wn.add(Di[Pi])});const qt=this.bodyNode,$n=Array.from(this.statesByElement.keys()),En=Ss($n,this.collectedEnterElements),an=new Map;let xn=0;En.forEach((di,Di)=>{const Pi=zn+xn++;an.set(Di,Pi),di.forEach(xr=>zr(xr,Pi))});const Ui=[],Xi=new Set,rr=new Set;for(let di=0;di<this.collectedLeaveElements.length;di++){const Di=this.collectedLeaveElements[di],Pi=Di[Zn];Pi&&Pi.setForRemoval&&(Ui.push(Di),Xi.add(Di),Pi.hasAnimation?this.driver.query(Di,".ng-star-inserted",!0).forEach(xr=>Xi.add(xr)):rr.add(Di))}const _s=new Map,sr=Ss($n,Array.from(Xi));sr.forEach((di,Di)=>{const Pi=Ve+xn++;_s.set(Di,Pi),di.forEach(xr=>zr(xr,Pi))}),h.push(()=>{En.forEach((di,Di)=>{const Pi=an.get(Di);di.forEach(xr=>Mr(xr,Pi))}),sr.forEach((di,Di)=>{const Pi=_s.get(Di);di.forEach(xr=>Mr(xr,Pi))}),Ui.forEach(di=>{this.processLeaveNode(di)})});const ls=[],Nr=[];for(let di=this._namespaceList.length-1;di>=0;di--)this._namespaceList[di].drainQueuedTransitions(a).forEach(Pi=>{const xr=Pi.player,ho=Pi.element;if(ls.push(xr),this.collectedEnterElements.length){const Ao=ho[Zn];if(Ao&&Ao.setForMove){if(Ao.previousTriggersValues&&Ao.previousTriggersValues.has(Pi.triggerName)){const fl=Ao.previousTriggersValues.get(Pi.triggerName),ra=this.statesByElement.get(Pi.element);if(ra&&ra.has(Pi.triggerName)){const lc=ra.get(Pi.triggerName);lc.value=fl,ra.set(Pi.triggerName,lc)}}return void xr.destroy()}}const ga=!qt||!this.driver.containsElement(qt,ho),Wo=_s.get(ho),Ta=an.get(ho),js=this._buildInstruction(Pi,_,Ta,Wo,ga);if(js.errors&&js.errors.length)return void Nr.push(js);if(ga)return xr.onStart(()=>r(ho,js.fromStyles)),xr.onDestroy(()=>Or(ho,js.toStyles)),void F.push(xr);if(Pi.isFallbackTransition)return xr.onStart(()=>r(ho,js.fromStyles)),xr.onDestroy(()=>Or(ho,js.toStyles)),void F.push(xr);const Hc=[];js.timelines.forEach(Ao=>{Ao.stretchStartingKeyframe=!0,this.disabledNodes.has(Ao.element)||Hc.push(Ao)}),js.timelines=Hc,_.append(ho,js.timelines),we.push({instruction:js,player:xr,element:ho}),js.queriedElements.forEach(Ao=>Kt(Ce,Ao,[]).push(xr)),js.preStyleProps.forEach((Ao,fl)=>{if(Ao.size){let ra=ft.get(fl);ra||ft.set(fl,ra=new Set),Ao.forEach((lc,xc)=>ra.add(xc))}}),js.postStyleProps.forEach((Ao,fl)=>{let ra=lt.get(fl);ra||lt.set(fl,ra=new Set),Ao.forEach((lc,xc)=>ra.add(xc))})});if(Nr.length){const di=[];Nr.forEach(Di=>{di.push(function Ut(w,h){return new d.wOt(3505,!1)}())}),ls.forEach(Di=>Di.destroy()),this.reportError(di)}const Ds=new Map,vs=new Map;we.forEach(di=>{const Di=di.element;_.has(Di)&&(vs.set(Di,Di),this._beforeAnimationBuild(di.player.namespaceId,di.instruction,Ds))}),F.forEach(di=>{const Di=di.element;this._getPreviousPlayers(Di,!1,di.namespaceId,di.triggerName,null).forEach(xr=>{Kt(Ds,Di,[]).push(xr),xr.destroy()})});const pa=Ui.filter(di=>ss(di,ft,lt)),xl=new Map;no(xl,this.driver,rr,lt,nn.kp).forEach(di=>{ss(di,ft,lt)&&pa.push(di)});const ja=new Map;En.forEach((di,Di)=>{no(ja,this.driver,new Set(di),ft,nn.FX)}),pa.forEach(di=>{const Di=xl.get(di),Pi=ja.get(di);xl.set(di,new Map([...Di?.entries()??[],...Pi?.entries()??[]]))});const ac=[],Tc=[],Dc={};we.forEach(di=>{const{element:Di,player:Pi,instruction:xr}=di;if(_.has(Di)){if(wn.has(Di))return Pi.onDestroy(()=>Or(Di,xr.toStyles)),Pi.disabled=!0,Pi.overrideTotalTime(xr.totalTime),void F.push(Pi);let ho=Dc;if(vs.size>1){let Wo=Di;const Ta=[];for(;Wo=Wo.parentNode;){const js=vs.get(Wo);if(js){ho=js;break}Ta.push(Wo)}Ta.forEach(js=>vs.set(js,ho))}const ga=this._buildAnimation(Pi.namespaceId,xr,Ds,ae,ja,xl);if(Pi.setRealPlayer(ga),ho===Dc)ac.push(Pi);else{const Wo=this.playersByElement.get(ho);Wo&&Wo.length&&(Pi.parentPlayer=Se(Wo)),F.push(Pi)}}else r(Di,xr.fromStyles),Pi.onDestroy(()=>Or(Di,xr.toStyles)),Tc.push(Pi),wn.has(Di)&&F.push(Pi)}),Tc.forEach(di=>{const Di=ae.get(di.element);if(Di&&Di.length){const Pi=Se(Di);di.setRealPlayer(Pi)}}),F.forEach(di=>{di.parentPlayer?di.syncPlayerEvents(di.parentPlayer):di.destroy()});for(let di=0;di<Ui.length;di++){const Di=Ui[di],Pi=Di[Zn];if(Mr(Di,Ve),Pi&&Pi.hasAnimation)continue;let xr=[];if(Ce.size){let ga=Ce.get(Di);ga&&ga.length&&xr.push(...ga);let Wo=this.driver.query(Di,In,!0);for(let Ta=0;Ta<Wo.length;Ta++){let js=Ce.get(Wo[Ta]);js&&js.length&&xr.push(...js)}}const ho=xr.filter(ga=>!ga.destroyed);ho.length?Es(this,Di,ho):this.processLeaveNode(Di)}return Ui.length=0,ac.forEach(di=>{this.players.push(di),di.onDone(()=>{di.destroy();const Di=this.players.indexOf(di);this.players.splice(Di,1)}),di.play()}),ac}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,a,_,F,ae){let we=[];if(a){const Ce=this.playersByQueriedElement.get(h);Ce&&(we=Ce)}else{const Ce=this.playersByElement.get(h);if(Ce){const ft=!ae||ae==Ji;Ce.forEach(lt=>{lt.queued||!ft&&lt.triggerName!=F||we.push(lt)})}}return(_||F)&&(we=we.filter(Ce=>!(_&&_!=Ce.namespaceId||F&&F!=Ce.triggerName))),we}_beforeAnimationBuild(h,a,_){const ae=a.element,we=a.isRemovalTransition?void 0:h,Ce=a.isRemovalTransition?void 0:a.triggerName;for(const ft of a.timelines){const lt=ft.element,wn=lt!==ae,qt=Kt(_,lt,[]);this._getPreviousPlayers(lt,wn,we,Ce,a.toState).forEach(En=>{const an=En.getRealPlayer();an.beforeDestroy&&an.beforeDestroy(),En.destroy(),qt.push(En)})}r(ae,a.fromStyles)}_buildAnimation(h,a,_,F,ae,we){const Ce=a.triggerName,ft=a.element,lt=[],wn=new Set,qt=new Set,$n=a.timelines.map(an=>{const xn=an.element;wn.add(xn);const Ui=xn[Zn];if(Ui&&Ui.removedBeforeQueried)return new nn.sf(an.duration,an.delay);const Xi=xn!==ft,rr=function fo(w){const h=[];return io(w,h),h}((_.get(xn)||fn).map(Ds=>Ds.getRealPlayer())).filter(Ds=>!!Ds.element&&Ds.element===xn),_s=ae.get(xn),sr=we.get(xn),ls=rt(this._normalizer,an.keyframes,_s,sr),Nr=this._buildPlayer(an,ls,rr);if(an.subTimeline&&F&&qt.add(xn),Xi){const Ds=new ao(h,Ce,xn);Ds.setRealPlayer(Nr),lt.push(Ds)}return Nr});lt.forEach(an=>{Kt(this.playersByQueriedElement,an.element,[]).push(an),an.onDone(()=>function Yi(w,h,a){let _=w.get(h);if(_){if(_.length){const F=_.indexOf(a);_.splice(F,1)}0==_.length&&w.delete(h)}return _}(this.playersByQueriedElement,an.element,an))}),wn.forEach(an=>zr(an,Wn));const En=Se($n);return En.onDestroy(()=>{wn.forEach(an=>Mr(an,Wn)),Or(ft,a.toStyles)}),qt.forEach(an=>{Kt(F,an,[]).push(En)}),En}_buildPlayer(h,a,_){return a.length>0?this.driver.animate(h.element,a,h.duration,h.delay,h.easing,_):new nn.sf(h.duration,h.delay)}}class ao{constructor(h,a,_){this.namespaceId=h,this.triggerName=a,this.element=_,this._player=new nn.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(h){this._containsRealPlayer||(this._player=h,this._queuedCallbacks.forEach((a,_)=>{a.forEach(F=>yt(h,_,void 0,F))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const a=this._player;a.triggerCallback&&h.onStart(()=>a.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,a){Kt(this._queuedCallbacks,h,[]).push(a)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const a=this._player;a.triggerCallback&&a.triggerCallback(h)}}function Ns(w){return w&&1===w.nodeType}function hr(w,h){const a=w.style.display;return w.style.display=h??"none",a}function no(w,h,a,_,F){const ae=[];a.forEach(ft=>ae.push(hr(ft)));const we=[];_.forEach((ft,lt)=>{const wn=new Map;ft.forEach(qt=>{const $n=h.computeStyle(lt,qt,F);wn.set(qt,$n),(!$n||0==$n.length)&&(lt[Zn]=Bi,we.push(lt))}),w.set(lt,wn)});let Ce=0;return a.forEach(ft=>hr(ft,ae[Ce++])),we}function Ss(w,h){const a=new Map;if(w.forEach(Ce=>a.set(Ce,[])),0==h.length)return a;const F=new Set(h),ae=new Map;function we(Ce){if(!Ce)return 1;let ft=ae.get(Ce);if(ft)return ft;const lt=Ce.parentNode;return ft=a.has(lt)?lt:F.has(lt)?1:we(lt),ae.set(Ce,ft),ft}return h.forEach(Ce=>{const ft=we(Ce);1!==ft&&a.get(ft).push(Ce)}),a}function zr(w,h){w.classList?.add(h)}function Mr(w,h){w.classList?.remove(h)}function Es(w,h,a){Se(a).onDone(()=>w.processLeaveNode(h))}function io(w,h){for(let a=0;a<w.length;a++){const _=w[a];_ instanceof nn.ui?io(_.players,h):h.push(_)}}function ss(w,h,a){const _=a.get(w);if(!_)return!1;let F=h.get(w);return F?_.forEach(ae=>F.add(ae)):h.set(w,_),a.delete(w),!0}class ro{constructor(h,a,_){this._driver=a,this._normalizer=_,this._triggerCache={},this.onRemovalComplete=(F,ae)=>{},this._transitionEngine=new Mi(h.body,a,_),this._timelineEngine=new pe(h.body,a,_),this._transitionEngine.onRemovalComplete=(F,ae)=>this.onRemovalComplete(F,ae)}registerTrigger(h,a,_,F,ae){const we=h+"-"+F;let Ce=this._triggerCache[we];if(!Ce){const ft=[],wn=Ei(this._driver,ae,ft,[]);if(ft.length)throw function sn(w,h){return new d.wOt(3404,!1)}();Ce=function g(w,h,a){return new M(w,h,a)}(F,wn,this._normalizer),this._triggerCache[we]=Ce}this._transitionEngine.registerTrigger(a,F,Ce)}register(h,a){this._transitionEngine.register(h,a)}destroy(h,a){this._transitionEngine.destroy(h,a)}onInsert(h,a,_,F){this._transitionEngine.insertNode(h,a,_,F)}onRemove(h,a,_){this._transitionEngine.removeNode(h,a,_)}disableAnimations(h,a){this._transitionEngine.markElementAsDisabled(h,a)}process(h,a,_,F){if("@"==_.charAt(0)){const[ae,we]=Un(_);this._timelineEngine.command(ae,a,we,F)}else this._transitionEngine.trigger(h,a,_,F)}listen(h,a,_,F,ae){if("@"==_.charAt(0)){const[we,Ce]=Un(_);return this._timelineEngine.listen(we,a,Ce,ae)}return this._transitionEngine.listen(h,a,_,F,ae)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(h){this._transitionEngine.afterFlushAnimationsDone(h)}}class tr{static#e=this.initialStylesByElement=new WeakMap;constructor(h,a,_){this._element=h,this._startStyles=a,this._endStyles=_,this._state=0;let F=tr.initialStylesByElement.get(h);F||tr.initialStylesByElement.set(h,F=new Map),this._initialStyles=F}start(){this._state<1&&(this._startStyles&&Or(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Or(this._element,this._initialStyles),this._endStyles&&(Or(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(tr.initialStylesByElement.delete(this._element),this._startStyles&&(r(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(r(this._element,this._endStyles),this._endStyles=null),Or(this._element,this._initialStyles),this._state=3)}}function so(w){let h=null;return w.forEach((a,_)=>{(function os(w){return"display"===w||"position"===w})(_)&&(h=h||new Map,h.set(_,a))}),h}class K{constructor(h,a,_,F){this.element=h,this.keyframes=a,this.options=_,this._specialStyles=F,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=_.duration,this._delay=_.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(h){const a=[];return h.forEach(_=>{a.push(Object.fromEntries(_))}),a}_triggerWebAnimation(h,a,_){return h.animate(this._convertKeyframesToObject(a),_)}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h=new Map;this.hasStarted()&&this._finalKeyframe.forEach((_,F)=>{"offset"!==F&&h.set(F,this._finished?_:Ie(this.element,F))}),this.currentSnapshot=h}triggerCallback(h){const a="start"===h?this._onStartFns:this._onDoneFns;a.forEach(_=>_()),a.length=0}}class Q{validateStyleProperty(h){return!0}validateAnimatableStyleProperty(h){return!0}containsElement(h,a){return oi(h,a)}getParentElement(h){return Qt(h)}query(h,a,_){return Wr(h,a,_)}computeStyle(h,a,_){return Ie(h,a)}animate(h,a,_,F,ae,we=[]){const ft={duration:_,delay:F,fill:0==F?"both":"forwards"};ae&&(ft.easing=ae);const lt=new Map,wn=we.filter(En=>En instanceof K);(function he(w,h){return 0===w||0===h})(_,F)&&wn.forEach(En=>{En.currentSnapshot.forEach((an,xn)=>lt.set(xn,an))});let qt=function Kr(w){return w.length?w[0]instanceof Map?w:w.map(h=>new Map(Object.entries(h))):[]}(a).map(En=>new Map(En));qt=function be(w,h,a){if(a.size&&h.length){let _=h[0],F=[];if(a.forEach((ae,we)=>{_.has(we)||F.push(we),_.set(we,ae)}),F.length)for(let ae=1;ae<h.length;ae++){let we=h[ae];F.forEach(Ce=>we.set(Ce,Ie(w,Ce)))}}return h}(h,qt,lt);const $n=function po(w,h){let a=null,_=null;return Array.isArray(h)&&h.length?(a=so(h[0]),h.length>1&&(_=so(h[h.length-1]))):h instanceof Map&&(a=so(h)),a||_?new tr(w,a,_):null}(h,qt);return new K(h,qt,ft,$n)}}const Fn="@.disabled";class ni{constructor(h,a,_,F){this.namespaceId=h,this.delegate=a,this.engine=_,this._onDestroy=F,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(h){this.delegate.destroyNode?.(h)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(h,a){return this.delegate.createElement(h,a)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,a){this.delegate.appendChild(h,a),this.engine.onInsert(this.namespaceId,a,h,!1)}insertBefore(h,a,_,F=!0){this.delegate.insertBefore(h,a,_),this.engine.onInsert(this.namespaceId,a,h,F)}removeChild(h,a,_){this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(h,a){return this.delegate.selectRootElement(h,a)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,a,_,F){this.delegate.setAttribute(h,a,_,F)}removeAttribute(h,a,_){this.delegate.removeAttribute(h,a,_)}addClass(h,a){this.delegate.addClass(h,a)}removeClass(h,a){this.delegate.removeClass(h,a)}setStyle(h,a,_,F){this.delegate.setStyle(h,a,_,F)}removeStyle(h,a,_){this.delegate.removeStyle(h,a,_)}setProperty(h,a,_){"@"==a.charAt(0)&&a==Fn?this.disableAnimations(h,!!_):this.delegate.setProperty(h,a,_)}setValue(h,a){this.delegate.setValue(h,a)}listen(h,a,_){return this.delegate.listen(h,a,_)}disableAnimations(h,a){this.engine.disableAnimations(h,a)}}class Rr extends ni{constructor(h,a,_,F,ae){super(a,_,F,ae),this.factory=h,this.namespaceId=a}setProperty(h,a,_){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Fn?this.disableAnimations(h,_=void 0===_||!!_):this.engine.process(this.namespaceId,h,a.slice(1),_):this.delegate.setProperty(h,a,_)}listen(h,a,_){if("@"==a.charAt(0)){const F=function Ms(w){switch(w){case"body":return document.body;case"document":return document;case"window":return window;default:return w}}(h);let ae=a.slice(1),we="";return"@"!=ae.charAt(0)&&([ae,we]=function Cs(w){const h=w.indexOf(".");return[w.substring(0,h),w.slice(h+1)]}(ae)),this.engine.listen(this.namespaceId,F,ae,we,Ce=>{this.factory.scheduleListenerCallback(Ce._data||-1,_,Ce)})}return this.delegate.listen(h,a,_)}}class zs{constructor(h,a,_){this.delegate=h,this.engine=a,this._zone=_,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,a.onRemovalComplete=(F,ae)=>{const we=ae?.parentNode(F);we&&ae.removeChild(we,F)}}createRenderer(h,a){const F=this.delegate.createRenderer(h,a);if(!h||!a?.data?.animation){const lt=this._rendererCache;let wn=lt.get(F);return wn||(wn=new ni("",F,this.engine,()=>lt.delete(F)),lt.set(F,wn)),wn}const ae=a.id,we=a.id+"-"+this._currentId;this._currentId++,this.engine.register(we,h);const Ce=lt=>{Array.isArray(lt)?lt.forEach(Ce):this.engine.registerTrigger(ae,we,h,lt.name,lt)};return a.data.animation.forEach(Ce),new Rr(this,we,F,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(h,a,_){if(h>=0&&h<this._microtaskId)return void this._zone.run(()=>a(_));const F=this._animationCallbacksBuffer;0==F.length&&queueMicrotask(()=>{this._zone.run(()=>{F.forEach(ae=>{const[we,Ce]=ae;we(Ce)}),this._animationCallbacksBuffer=[]})}),F.push([a,_])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var Tr=p(177);const zo=[{provide:hs,useFactory:function Go(){return new st}},{provide:ro,useClass:(()=>{class w extends ro{constructor(a,_,F){super(a,_,F)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(Tr.qQ),d.KVO(ys),d.KVO(hs))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})()},{provide:d._9s,useFactory:function qo(w,h,a){return new zs(w,h,a)},deps:[Tn.B7,ro,d.SKi]}],No=[{provide:ys,useFactory:()=>new Q},{provide:d.bc$,useValue:"BrowserAnimations"},...zo],go=[{provide:ys,useClass:Zr},{provide:d.bc$,useValue:"NoopAnimations"},...zo];let Fs=(()=>{class w{static withConfig(a){return{ngModule:w,providers:a.disableAnimations?go:No}}static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({providers:No,imports:[Tn.Bb]})}return w})(),Nt=(()=>{class w{constructor(){this.onError=new d.bkB}error(a){this.onError.emit(a)}static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})();var Yt=p(2806),Sn=p(5166),vn=p(5312);const Vn=vn.c.Auth;let Nn=(()=>{class w{constructor(a,_){this.http=a,this.route=_,this.mgr=new Sn.UserManager(Vn),this.userLoadededEvent=new d.bkB,this.loggedIn=!1,this.mgr.getUser().then(F=>{F?(this.loggedIn=!0,this.currentUser=F,this.userLoadededEvent.emit(F)):this.loggedIn=!1}).catch(F=>{console.error(F),this.loggedIn=!1}),this.mgr.events.addUserLoaded(F=>{this.currentUser=F,localStorage.setItem("token",F.id_token),localStorage.setItem("access_token",F.access_token),this.loggedIn=void 0!==F,vn.c.production||console.log("authService addUserLoaded",F)})}clearState(){this.mgr.clearStaleState().then(function(){console.log("clearStateState success")}).catch(function(a){console.log("clearStateState error",a.message)})}getUser(){}removeUser(){}startSigninMainWindow(){this.mgr.signinRedirect({data:"some data"}).then(function(){console.log("signinRedirect done")}).catch(function(a){return console.log(a),a})}endSigninMainWindow(){this.mgr.signinRedirectCallback().then(function(a){console.log("signed in",a)}).catch(function(a){console.log(a)})}startSignoutMainWindow(){}logout(){}endSignoutMainWindow(){this.mgr.signoutRedirectCallback().then(function(a){console.log("signed out",a)}).catch(function(a){console.log(a)})}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(e.Qq),d.KVO(G.Ix))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})(),Ki=(()=>{class w{constructor(a,_,F){this.authService=a,this.router=_,this.store=F}ngOnInit(){(0,Yt.H)(this.authService.mgr.signinRedirectCallback()).subscribe(a=>{this.authService.userLoadededEvent.emit(a),this.router.navigate(["/"])},a=>{console.log(a),this.router.navigate(["/404"])})}static#e=this.\u0275fac=function(_){return new(_||w)(d.rXU(Nn),d.rXU(G.Ix),d.rXU(f.il))};static#t=this.\u0275cmp=d.VBU({type:w,selectors:[["app-authorization"]],decls:2,vars:0,consts:[[1,"text-center"]],template:function(_,F){1&_&&(d.j41(0,"p",0),d.EFF(1,"Logging you in. Please wait ..........."),d.k0s())}})}return w})(),fi=(()=>{class w{static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({imports:[G.iI.forChild([{path:"authorize",component:Ki}]),G.iI]})}return w})();var Ci=p(7823);let Hi=(()=>{class w{static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({imports:[Tr.MD,fi,Ci.G]})}return w})(),ri=(()=>{class w{static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({imports:[G.iI.forRoot([{path:"",redirectTo:"home",pathMatch:"full"},{path:"Angular",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>Promise.all([p.e(76),p.e(797)]).then(p.bind(p,4797)).then(a=>a.HomeModule)},{path:"profile",loadChildren:()=>Promise.all([p.e(76),p.e(970)]).then(p.bind(p,6970)).then(a=>a.ProfileModule)},{path:"about",loadChildren:()=>Promise.all([p.e(76),p.e(802)]).then(p.bind(p,7802)).then(a=>a.AboutModule)},{path:"notes",loadChildren:()=>p.e(804).then(p.bind(p,9804)).then(a=>a.NotesModule)},{path:"wizard",loadChildren:()=>Promise.all([p.e(76),p.e(2)]).then(p.bind(p,6002)).then(a=>a.WizardManagerModule)},{path:"login",loadChildren:()=>Promise.all([p.e(76),p.e(189)]).then(p.bind(p,1189)).then(a=>a.LoginModule)},{path:"movies",loadChildren:()=>Promise.all([p.e(76),p.e(620)]).then(p.bind(p,2620)).then(a=>a.MoviesModule)},{path:"events",loadChildren:()=>Promise.all([p.e(76),p.e(562)]).then(p.bind(p,7562)).then(a=>a.EventsModule)}]),G.iI]})}return w})();var Gi=p(5737);let yr=(()=>{class w{constructor(a,_,F){this.location=a,this.service=_,this.store=F}login(){}goback(){this.location.back()}startSignoutMainWindow(){this.service.logout()}static#e=this.\u0275fac=function(_){return new(_||w)(d.rXU(Tr.aZ),d.rXU(Nn),d.rXU(f.il))};static#t=this.\u0275cmp=d.VBU({type:w,selectors:[["app-unauthorized"]],decls:11,vars:0,consts:[[1,"row","mt-5","justify-content-center"],[1,"col-md-6","mt-5"],[1,"btn","btn-primary","btn-lg","btn-block",3,"click"],[1,"row","justify-content-center"]],template:function(_,F){1&_&&(d.j41(0,"div",0)(1,"div",1)(2,"button",2),d.bIt("click",function(){return F.login()}),d.EFF(3,"Login"),d.k0s()(),d.j41(4,"div",1)(5,"button",2),d.bIt("click",function(){return F.startSignoutMainWindow()}),d.EFF(6,"Sign Out"),d.k0s()()(),d.j41(7,"div",3)(8,"div",1)(9,"button",2),d.bIt("click",function(){return F.goback()}),d.EFF(10,"Back"),d.k0s()()())}})}return w})(),Ts=(()=>{class w{static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({imports:[G.iI.forChild([{path:"unauthorized",component:yr}]),G.iI]})}return w})(),Ls=(()=>{class w{static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({imports:[Tr.MD,Ts,Ci.G]})}return w})(),qs=(()=>{class w{constructor(a){this.authService=a}static#e=this.\u0275fac=function(_){return new(_||w)(d.rXU(Nn))};static#t=this.\u0275cmp=d.VBU({type:w,selectors:[["app-notfound"]],decls:2,vars:0,template:function(_,F){1&_&&(d.j41(0,"h1"),d.EFF(1,"404 Not Found"),d.k0s())}})}return w})(),lo=(()=>{class w{static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({imports:[G.iI.forChild([{path:"404",component:qs}]),G.iI]})}return w})(),ar=(()=>{class w{static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({imports:[Tr.MD,lo,Ci.G]})}return w})();var Zo=p(6067);let Fo=(()=>{class w{constructor(){this.toasts=[]}remove(a){this.toasts=this.toasts.filter(_=>_!==a)}clear(){this.toasts.splice(0,this.toasts.length)}showSuccess(a,_){this.show(a,_,{classname:"bg-success text-light",delay:5e3})}showDanger(a,_){this.show(a,_,{classname:"bg-danger text-light",delay:1e4})}showStandard(a,_){this.show(a,_)}show(a,_,F={}){this.toasts.push({textOrTpl:a,header:_,...F})}static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function Ha(w,h){if(1&w){const a=d.RV6();d.j41(0,"ngb-toast",1),d.bIt("hidden",function(){const F=d.eBV(a).$implicit,ae=d.XpG();return d.Njj(ae.toastService.remove(F))}),d.EFF(1),d.k0s()}if(2&w){const a=h.$implicit;d.HbH(a.classname),d.Y8G("autohide",!0)("delay",a.delay||5e3)("header",a.header)("animation",!1),d.R7$(),d.SpI(" ",a.textOrTpl," ")}}let Wa=(()=>{class w{constructor(a){this.toastService=a,this.class="toast-container position-fixed bottom-0 end-0 p-3",this.zIndex=1200}static#e=this.\u0275fac=function(_){return new(_||w)(d.rXU(Fo))};static#t=this.\u0275cmp=d.VBU({type:w,selectors:[["app-toast-global"]],hostVars:4,hostBindings:function(_,F){2&_&&(d.HbH(F.class),d.xc7("z-index",F.zIndex))},decls:2,vars:0,consts:[[3,"class","autohide","delay","header","animation"],[3,"hidden","autohide","delay","header","animation"]],template:function(_,F){1&_&&d.Z7z(0,Ha,2,7,"ngb-toast",0,d.fX1),2&_&&d.Dyx(F.toastService.toasts)},dependencies:[Cn.Nb],encapsulation:2})}return w})();var Lo=p(9325),$o=p(1223),Za=p(9374),wo=p(9809),Co=p(4410),Bo=p(7225),co=p(5347),$s=p(1244),oa=p(7683);const ea=()=>["/profile"];function Aa(w,h){if(1&w){const a=d.RV6();d.j41(0,"div",0)(1,"button",2),d.EFF(2),d.k0s(),d.j41(3,"div",3),d.nrm(4,"button",4),d.j41(5,"div",5)(6,"app-theme-option",6),d.nI1(7,"async"),d.bIt("themeToggleDark",function(){d.eBV(a);const F=d.XpG();return d.Njj(F.onDarkModeToggle())}),d.k0s(),d.j41(8,"button",7),d.EFF(9,"Profile"),d.k0s(),d.j41(10,"button",8),d.bIt("click",function(){d.eBV(a);const F=d.XpG();return d.Njj(F.logOut())}),d.EFF(11,"Logout"),d.k0s()()()()}if(2&w){const a=d.XpG();d.R7$(),d.Y8G("routerLink",d.lJ4(7,ea)),d.R7$(),d.JRh(a.givenName),d.R7$(4),d.Y8G("label","Dark Mode")("darkMode",d.bMT(7,5,a.isDarkMode)),d.R7$(2),d.Y8G("routerLink",d.lJ4(8,ea))}}function Ka(w,h){if(1&w){const a=d.RV6();d.j41(0,"button",9),d.bIt("click",function(){d.eBV(a);const F=d.XpG();return d.Njj(F.login())}),d.EFF(1,"Login / SignUp"),d.k0s()}}let Ga=(()=>{class w{constructor(a,_){this.oauthService=a,this.store=_,this.signout=new d.bkB,this.isDarkMode=this.store.select(Bo.ud)}login(){this.oauthService.initLoginFlow()}logOut(){this.oauthService.logOut()}get isLoggedIn(){return this.store.select(Bo.M3)}get givenName(){const a=this.oauthService.getIdentityClaims();return a?a.given_name:null}onDarkModeToggle(){this.store.dispatch(co._R())}static#e=this.\u0275fac=function(_){return new(_||w)(d.rXU($s.TC),d.rXU(f.il))};static#t=this.\u0275cmp=d.VBU({type:w,selectors:[["app-userinfo"]],outputs:{signout:"signout"},decls:3,vars:3,consts:[[1,"btn-group"],["id","btnLogin","type","button",1,"btn","btn-primary"],["type","button",1,"btn","btn-primary",3,"routerLink"],["ngbDropdown","","role","group","aria-label","Button group with nested dropdown",1,"btn-group"],["type","button","ngbDropdownToggle","",1,"btn","btn-primary","dropdown-toggle-split"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"themeToggleDark","label","darkMode"],[1,"dropdown-item",3,"routerLink"],["id","btnLogout",1,"dropdown-item",3,"click"],["id","btnLogin","type","button",1,"btn","btn-primary",3,"click"]],template:function(_,F){1&_&&(d.DNE(0,Aa,12,9,"div",0),d.nI1(1,"async"),d.DNE(2,Ka,2,0,"button",1)),2&_&&d.vxM(d.bMT(1,1,F.isLoggedIn)?0:2)},dependencies:[G.Wk,Cn.tg,Cn.do,Cn.U0,oa.W,Tr.Jj],styles:[".theme-switch[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return w})();const el=()=>["/"],Oo=()=>["active"],Oa=()=>({exact:!0}),aa=()=>["/home"],Xo=()=>({exact:!1}),la=()=>["/about"],ca=()=>["/profile"],tl=w=>({active:w}),Me=()=>["/notes"],U=()=>["/notes/archived"],L=()=>["/wizard"],ie=()=>["/events"],Te=()=>["/movies"];function ct(w,h){1&w&&d.nrm(0,"span",12)}function Lt(w,h){1&w&&(d.j41(0,"span",17),d.EFF(1),d.k0s()),2&w&&(d.R7$(),d.JRh(h))}function Xt(w,h){if(1&w&&(d.DNE(0,Lt,2,1,"span",17),d.nI1(1,"async")),2&w){let a;const _=d.XpG(2);d.vxM((a=d.bMT(1,1,_.NotesCount))?0:-1,a)}}function An(w,h){1&w&&(d.j41(0,"div",16)(1,"span",18),d.EFF(2,"Loading..."),d.k0s()())}function li(w,h){1&w&&(d.j41(0,"span",17),d.EFF(1),d.k0s()),2&w&&(d.R7$(),d.JRh(h))}function nr(w,h){if(1&w&&(d.DNE(0,li,2,1,"span",17),d.nI1(1,"async")),2&w){let a;const _=d.XpG(2);d.vxM((a=d.bMT(1,1,_.EventsCount))?0:-1,a)}}function Jr(w,h){if(1&w){const a=d.RV6();d.j41(0,"ul",6)(1,"li",8)(2,"a",9),d.EFF(3,"Home"),d.k0s()(),d.j41(4,"li",8)(5,"a",9),d.EFF(6,"About"),d.k0s()(),d.j41(7,"li",8)(8,"a",9),d.EFF(9,"Profile"),d.k0s()(),d.j41(10,"li",10)(11,"a",11),d.bIt("click",function(F){return d.eBV(a),d.Njj(F.preventDefault())}),d.DNE(12,ct,1,0,"span",12),d.nI1(13,"async"),d.DNE(14,Xt,2,3),d.EFF(15," Notes "),d.k0s(),d.j41(16,"ul",13)(17,"li",14)(18,"a",15),d.EFF(19,"Notes"),d.k0s()(),d.j41(20,"li",14)(21,"a",15),d.EFF(22,"Archived Notes"),d.k0s()()()(),d.j41(23,"li",8)(24,"a",9),d.EFF(25,"Wizard"),d.k0s()(),d.j41(26,"li",8)(27,"a",9),d.DNE(28,An,3,0,"div",16),d.nI1(29,"async"),d.DNE(30,nr,2,3),d.EFF(31," Events "),d.k0s()(),d.j41(32,"li",8)(33,"a",9),d.EFF(34,"Movies"),d.k0s()()()}if(2&w){const a=d.XpG();d.R7$(2),d.Y8G("routerLinkActive",d.lJ4(29,Oo))("routerLinkActiveOptions",d.lJ4(30,Oa))("routerLink",d.lJ4(31,aa)),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(32,Oo))("routerLinkActiveOptions",d.lJ4(33,Xo))("routerLink",d.lJ4(34,la)),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(35,Oo))("routerLinkActiveOptions",d.lJ4(36,Oa))("routerLink",d.lJ4(37,ca)),d.R7$(3),d.Y8G("ngClass",d.eq3(38,tl,a.isNotesURLActive))("routerLinkActive",d.lJ4(40,Oo))("routerLinkActiveOptions",d.lJ4(41,Xo)),d.R7$(),d.vxM(d.bMT(13,25,a.NoteLoading)?12:14),d.R7$(6),d.Y8G("routerLink",d.lJ4(42,Me)),d.R7$(3),d.Y8G("routerLink",d.lJ4(43,U)),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(44,Oo))("routerLinkActiveOptions",d.lJ4(45,Xo))("routerLink",d.lJ4(46,L)),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(47,Oo))("routerLinkActiveOptions",d.lJ4(48,Xo))("routerLink",d.lJ4(49,ie)),d.R7$(),d.vxM(d.bMT(29,27,a.EventLoading)?28:30),d.R7$(5),d.Y8G("routerLinkActive",d.lJ4(50,Oo))("routerLinkActiveOptions",d.lJ4(51,Xo))("routerLink",d.lJ4(52,Te))}}let Xs=(()=>{class w{constructor(a,_,F){this.eventStore=a,this.noteStore=_,this.router=F,this.signout=new d.bkB,this.isExpanded=!1,this.routerLinkActiveOptions={matrixParams:"ignored",queryParams:"subset",fragment:"ignored",paths:"subset"}}get isNotesURLActive(){return this.router.isActive("/notes",this.routerLinkActiveOptions)}get EventsCount(){return this.eventStore.select(wo.WR)}get EventLoading(){return this.eventStore.select(wo.RQ)}get NotesCount(){return this.noteStore.select(Co.qi)}get NoteLoading(){return this.noteStore.select(Co.RQ)}onSignout(){}get IsLoggedIn(){return this.eventStore.select(Bo.M3)}static#e=this.\u0275fac=function(_){return new(_||w)(d.rXU(f.il),d.rXU(f.il),d.rXU(G.Ix))};static#t=this.\u0275cmp=d.VBU({type:w,selectors:[["app-header"]],outputs:{signout:"signout"},decls:10,vars:7,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-primary"],[1,"container-fluid"],["type","button","aria-controls","navbarContent",1,"navbar-toggler","navbar-toggler-right",3,"click"],[1,"navbar-toggler-icon"],[1,"navbar-brand",3,"routerLink"],["id","navbarSupportedContent",1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav","mr-auto"],[3,"signout"],[1,"nav-item"],[1,"nav-link",3,"routerLinkActive","routerLinkActiveOptions","routerLink"],["ngbDropdown","",1,"nav-item","dropdown"],["ngbDropdownToggle","","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle",3,"click","ngClass","routerLinkActive","routerLinkActiveOptions"],["aria-hidden","true",1,"spinner-border","spinner-border-sm"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu"],["ngbDropdownItem",""],[1,"dropdown-item",3,"routerLink"],["role","status",1,"spinner-grow"],[1,"badge","bg-secondary"],[1,"visually-hidden"]],template:function(_,F){1&_&&(d.j41(0,"nav",0)(1,"div",1)(2,"button",2),d.bIt("click",function(){return F.isExpanded=!F.isExpanded}),d.nrm(3,"span",3),d.k0s(),d.j41(4,"a",4),d.EFF(5,"Angular"),d.k0s(),d.j41(6,"div",5),d.DNE(7,Jr,35,53,"ul",6),d.nI1(8,"async"),d.k0s(),d.j41(9,"app-userinfo",7),d.bIt("signout",function(){return F.onSignout()}),d.k0s()()()),2&_&&(d.R7$(2),d.BMQ("aria-expanded",!F.isExpanded),d.R7$(2),d.Y8G("routerLink",d.lJ4(6,el)),d.R7$(2),d.Y8G("ngbCollapse",!F.isExpanded),d.R7$(),d.vxM(d.bMT(8,4,F.IsLoggedIn)?7:-1))},dependencies:[Tr.YU,G.Wk,G.wQ,Cn.$G,Cn.tg,Cn.do,Cn.U0,Cn._H,Ga,Tr.Jj],changeDetection:0})}return w})();function Bs(w,h){1&w&&d.nrm(0,"app-dialog-info-component")}let mo=(()=>{class w{constructor(){}static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275cmp=d.VBU({type:w,selectors:[["app-main"]],viewQuery:function(_,F){if(1&_&&d.GBs(Zo.z,5),2&_){let ae;d.mGM(ae=d.lsd())&&(F.appLoadingComponent=ae.first)}},decls:6,vars:2,consts:[["appConfirm",""],[3,"position","moveSpeed"]],template:function(_,F){1&_&&(d.nrm(0,"app-header")(1,"app-loading")(2,"router-outlet"),d.DNE(3,Bs,1,0,"ng-template",0),d.nrm(4,"app-back-top",1)(5,"app-toast-global")),2&_&&(d.R7$(4),d.Y8G("position",200)("moveSpeed",50))},dependencies:[Wa,Lo.I,$o.d,Zo.z,Za.K,Xs,G.n3],styles:["[_nghost-%COMP%]{display:flex;flex-flow:column;height:100%;position:relative}.container[_ngcontent-%COMP%]{margin-top:5px}"]})}return w})();var xi=p(6354),Yr=p(7497);const Uo=vn.c.NOTES_API;let Qo=(()=>{class w{constructor(a){this.http=a}getNotes(){return this.http.get(Uo)}getNote(a){return this.http.get(Uo+a)}addNote(a){return this.http.post(Uo,a)}deleteNote(a){return this.http.delete(Uo+a.id).pipe((0,xi.T)(_=>new Yr.L(_)))}addOrUpdateNote(a){return this.http.post(Uo,JSON.stringify(a)).pipe((0,xi.T)(_=>new Yr.L(_)))}updateNote(a){return this.http.put(Uo,a).pipe((0,xi.T)(_=>new Yr.L(_)))}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(e.Qq))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})();var br=p(9437),ta=p(8810);let Mo=(()=>{class w{constructor(){}ShowDialog(){}handleError(a){return(0,ta.$)(a)}static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})();const na=vn.c.EVENTS_API;let nl=(()=>{class w extends Mo{constructor(a){super(),this.http=a}getAllEvents(){return this.http.get(na)}createEvent(a){return this.http.post(na,a)}getEventById(a){return this.http.get(na+a)}updateEvent(a){return this.http.put(na,a).pipe((0,xi.T)(_=>_),(0,br.W)(this.handleError))}toggleEvent(a){return this.http.put(na+"toggle/",a).pipe((0,xi.T)(_=>_),(0,br.W)(this.handleError))}deleteEventById(a){return this.http.delete(na+a.id).pipe((0,xi.T)(()=>a),(0,br.W)(this.handleError))}deleteEvents(a){return this.http.delete(na,{body:a}).pipe((0,xi.T)(_=>_),(0,br.W)(this.handleError))}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(e.Qq))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})(),il=(()=>{class w{static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({providers:[Fo],imports:[Tn.Bb,Cn.UN]})}return w})();var oo=p(5964);let _a=(()=>{class w{constructor(a){this.injector=a,this.injector.get($s.TC).events.subscribe(_=>{"discovery_document_load_error"===_.type&&this.handleError(_)})}handleError(a){throw this.injector.get(Nt).error(a),a}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(d.zZn))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})();var Ma=p(3835);let va=(()=>{class w{constructor(a,_){this.confirmService=a,this.injector=_}intercept(a,_){const F=this.injector.get(Nt);return _.handle(a).pipe((0,br.W)(ae=>(F.error(ae),(0,ta.$)(()=>ae.message))))}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(Ma.G),d.KVO(d.zZn))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})();var gl=p(8722);const Jo=[{provide:Tr.kB,useValue:"/"},{provide:G.b,useClass:class ua{retrieve(h){return null}shouldAttach(h){return!1}shouldDetach(h){return!1}shouldReuseRoute(h,a){return h.routeConfig===a.routeConfig&&!h.data.alwaysRefresh}store(h,a){}}},{provide:e.a7,useClass:va,multi:!0},{provide:d.zcH,useClass:_a},{provide:d.hnV,useFactory:function ma(w){return()=>w.initTheme()},deps:[gl.F],multi:!0},{provide:d.hnV,useFactory:function Vs(w,h){return()=>{w.onError.subscribe(a=>{h.showDanger(a.message,a.statusText?a.statusText:"Error")})}},deps:[Nt,Fo],multi:!0},{provide:d.iLQ,useFactory:function Vo(w){return h=>{w.events.pipe((0,oo.p)(a=>a instanceof G.ys)).subscribe(a=>{!function Us(w,h){switch(w.constructor){case G.wF:h.appLoadingComponent.loading=!1;break;case G.L6:case G.j5:case G.Z:h.appLoadingComponent.loading=!0}}(a,h.instance)})}},deps:[G.Ix],multi:!0}];class ml{serialize(h){let a=h.root;for(;a.firstChild;)a=a.firstChild;const{url:_,root:{queryParams:F}}=h,{params:ae}=a;return{url:_,params:ae,queryParams:F}}}var Ra=p(7786),Pa=p(1985),Ro=p(1413),za=p(3557),uo=p(983),pr=p(7673),$a=p(8071);class To{constructor(h,a,_){this.kind=h,this.value=a,this.error=_,this.hasValue="N"===h}observe(h){return sl(this,h)}do(h,a,_){const{kind:F,value:ae,error:we}=this;return"N"===F?h?.(ae):"E"===F?a?.(we):_?.()}accept(h,a,_){var F;return(0,$a.T)(null===(F=h)||void 0===F?void 0:F.next)?this.observe(h):this.do(h,a,_)}toObservable(){const{kind:h,value:a,error:_}=this,F="N"===h?(0,pr.of)(a):"E"===h?(0,ta.$)(()=>_):"C"===h?uo.w:0;if(!F)throw new TypeError(`Unexpected notification kind ${h}`);return F}static createNext(h){return new To("N",h)}static createError(h){return new To("E",void 0,h)}static createComplete(){return To.completeNotification}}function sl(w,h){var a,_,F;const{kind:ae,value:we,error:Ce}=w;if("string"!=typeof ae)throw new TypeError('Invalid notification, missing "kind"');"N"===ae?null===(a=h.next)||void 0===a||a.call(h,we):"E"===ae?null===(_=h.error)||void 0===_||_.call(h,Ce):null===(F=h.complete)||void 0===F||F.call(h)}To.completeNotification=new To("C");var ha=p(9974),da=p(4360),ka=p(8750);function Xa(w,h,a,_){return(0,ha.N)((F,ae)=>{let we;h&&"function"!=typeof h?({duration:a,element:we,connector:_}=h):we=h;const Ce=new Map,ft=an=>{Ce.forEach(an),an(ae)},lt=an=>ft(xn=>xn.error(an));let wn=0,qt=!1;const $n=new da.H(ae,an=>{try{const xn=w(an);let Ui=Ce.get(xn);if(!Ui){Ce.set(xn,Ui=_?_():new Ro.B);const Xi=function En(an,xn){const Ui=new Pa.c(Xi=>{wn++;const rr=xn.subscribe(Xi);return()=>{rr.unsubscribe(),0==--wn&&qt&&$n.unsubscribe()}});return Ui.key=an,Ui}(xn,Ui);if(ae.next(Xi),a){const rr=(0,da._)(Ui,()=>{Ui.complete(),rr?.unsubscribe()},void 0,void 0,()=>Ce.delete(xn));$n.add((0,ka.Tg)(a(Xi)).subscribe(rr))}}Ui.next(we?we(an):an)}catch(xn){lt(xn)}},()=>ft(an=>an.complete()),lt,()=>Ce.clear(),()=>(qt=!0,0===wn));F.subscribe($n)})}var kl=p(1397);function al(w,h){return h?a=>a.pipe(al((_,F)=>(0,ka.Tg)(w(_,F)).pipe((0,xi.T)((ae,we)=>h(_,ae,F,we))))):(0,ha.N)((a,_)=>{let F=0,ae=null,we=!1;a.subscribe((0,da._)(_,Ce=>{ae||(ae=(0,da._)(_,void 0,()=>{ae=null,we&&_.complete()}),(0,ka.Tg)(w(Ce,F++)).subscribe(ae))},()=>{we=!0,!ae&&_.complete()}))})}var v=p(6697);const R={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},E="__@ngrx/effects_create__";function O(w,h={}){const a=h.functional?w:w(),_={...R,...h};return Object.defineProperty(a,E,{value:_}),a}function Pt(w){return Object.getPrototypeOf(w)}function Rn(w){return"function"==typeof w}function Si(w){return w.filter(Rn)}function Pr(w,h,a){const _=Pt(w),ae=_&&"Object"!==_.constructor.name?_.constructor.name:null,we=function Ue(w){return function z(w){return Object.getOwnPropertyNames(w).filter(_=>!(!w[_]||!w[_].hasOwnProperty(E))&&w[_][E].hasOwnProperty("dispatch")).map(_=>({propertyName:_,...w[_][E]}))}(w)}(w).map(({propertyName:Ce,dispatch:ft,useEffectsErrorHandler:lt})=>{const wn="function"==typeof w[Ce]?w[Ce]():w[Ce],qt=lt?a(wn,h):wn;return!1===ft?qt.pipe((0,za.w)()):qt.pipe(function ol(){return(0,ha.N)((w,h)=>{w.subscribe((0,da._)(h,a=>{h.next(To.createNext(a))},()=>{h.next(To.createComplete()),h.complete()},a=>{h.next(To.createError(a)),h.complete()}))})}()).pipe((0,xi.T)(En=>({effect:w[Ce],notification:En,propertyName:Ce,sourceName:ae,sourceInstance:w})))});return(0,Ra.h)(...we)}function Qs(w,h,a=10){return w.pipe((0,br.W)(_=>(h&&h.handleError(_),a<=1?w:Qs(w,h,a-1))))}let Do=(()=>{class w extends Pa.c{constructor(a){super(),a&&(this.source=a)}lift(a){const _=new w;return _.source=this,_.operator=a,_}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(f.sA))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function vi(...w){return(0,oo.p)(h=>w.some(a=>"string"==typeof a?a===h.type:a.type===h.type))}const ya=new d.nKC("@ngrx/effects Internal Root Guard"),Ia=new d.nKC("@ngrx/effects User Provided Effects"),ba=new d.nKC("@ngrx/effects Internal Root Effects"),Kl=new d.nKC("@ngrx/effects Internal Root Effects Instances"),hc=new d.nKC("@ngrx/effects Internal Feature Effects"),Il=new d.nKC("@ngrx/effects Internal Feature Effects Instance Groups"),dc=new d.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Qs}),fc="@ngrx/effects/init";(0,f.VP)(fc);function Ho(w){return qr(w,"ngrxOnInitEffects")}function qr(w,h){return w&&h in w&&"function"==typeof w[h]}let Na=(()=>{class w extends Ro.B{constructor(a,_){super(),this.errorHandler=a,this.effectsErrorHandler=_}addEffects(a){this.next(a)}toActions(){return this.pipe(Xa(a=>function Et(w){return!!w.constructor&&"Object"!==w.constructor.name&&"Function"!==w.constructor.name}(a)?Pt(a):a),(0,kl.Z)(a=>a.pipe(Xa(wa))),(0,kl.Z)(a=>{const _=a.pipe(al(ae=>function Qa(w,h){return a=>{const _=Pr(a,w,h);return function ll(w){return qr(w,"ngrxOnRunEffects")}(a)?a.ngrxOnRunEffects(_):_}}(this.errorHandler,this.effectsErrorHandler)(ae)),(0,xi.T)(ae=>(function Gl(w,h){if("N"===w.notification.kind){const a=w.notification.value;!function Ic(w){return"function"!=typeof w&&w&&w.type&&"string"==typeof w.type}(a)&&h.handleError(new Error(`Effect ${function zl({propertyName:w,sourceInstance:h,sourceName:a}){const _="function"==typeof h[w];return a?`"${a}.${String(w)}${_?"()":""}"`:`"${String(w)}()"`}(w)} dispatched an invalid action: ${function pc(w){try{return JSON.stringify(w)}catch{return w}}(a)}`))}}(ae,this.errorHandler),ae.notification)),(0,oo.p)(ae=>"N"===ae.kind&&null!=ae.value),function Wl(){return(0,ha.N)((w,h)=>{w.subscribe((0,da._)(h,a=>sl(a,h)))})}()),F=a.pipe((0,v.s)(1),(0,oo.p)(Ho),(0,xi.T)(ae=>ae.ngrxOnInitEffects()));return(0,Ra.h)(_,F)}))}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(d.zcH),d.KVO(dc))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})();function wa(w){return function mc(w){return qr(w,"ngrxOnIdentifyEffects")}(w)?w.ngrxOnIdentifyEffects():""}let vl=(()=>{class w{get isStarted(){return!!this.effectsSubscription}constructor(a,_){this.effectSources=a,this.store=_,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(Na),d.KVO(f.il))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}return w})(),Nl=(()=>{class w{constructor(a,_,F,ae,we,Ce,ft){this.sources=a,_.start();for(const lt of ae)a.addEffects(lt);F.dispatch({type:fc})}addEffects(a){this.sources.addEffects(a)}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(Na),d.KVO(vl),d.KVO(f.il),d.KVO(Kl),d.KVO(f.wc,8),d.KVO(f.ae,8),d.KVO(ya,8))};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({})}return w})(),yl=(()=>{class w{constructor(a,_,F,ae){const we=_.flat();for(const Ce of we)a.addEffects(Ce)}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(Nl),d.KVO(Il),d.KVO(f.wc,8),d.KVO(f.ae,8))};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({})}return w})(),yc=(()=>{class w{static forFeature(...a){const _=a.flat(),F=Si(_);return{ngModule:yl,providers:[F,{provide:hc,multi:!0,useValue:_},{provide:Ia,multi:!0,useValue:[]},{provide:Il,multi:!0,useFactory:Fa,deps:[hc,Ia]}]}}static forRoot(...a){const _=a.flat(),F=Si(_);return{ngModule:Nl,providers:[F,{provide:ba,useValue:[_]},{provide:ya,useFactory:cl},{provide:Ia,multi:!0,useValue:[]},{provide:Kl,useFactory:Fa,deps:[ba,Ia]}]}}static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({})}return w})();function Fa(w,h){const a=[];for(const _ of w)a.push(..._);for(const _ of h)a.push(..._);return a.map(_=>function Ai(w){return w instanceof d.nKC||Rn(w)}(_)?(0,d.WQX)(_):_)}function cl(){const w=(0,d.WQX)(vl,{optional:!0,skipSelf:!0}),h=(0,d.WQX)(ba,{self:!0});if((1!==h.length||0!==h[0].length)&&w)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var wl=p(7242),Xl=p(6129);class ul extends Ro.B{constructor(h=1/0,a=1/0,_=Xl.U){super(),this._bufferSize=h,this._windowTime=a,this._timestampProvider=_,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=a===1/0,this._bufferSize=Math.max(1,h),this._windowTime=Math.max(1,a)}next(h){const{isStopped:a,_buffer:_,_infiniteTimeWindow:F,_timestampProvider:ae,_windowTime:we}=this;a||(_.push(h),!F&&_.push(ae.now()+we)),this._trimBuffer(),super.next(h)}_subscribe(h){this._throwIfClosed(),this._trimBuffer();const a=this._innerSubscribe(h),{_infiniteTimeWindow:_,_buffer:F}=this,ae=F.slice();for(let we=0;we<ae.length&&!h.closed;we+=_?1:2)h.next(ae[we]);return this._checkFinalizedStatuses(h),a}_trimBuffer(){const{_bufferSize:h,_timestampProvider:a,_buffer:_,_infiniteTimeWindow:F}=this,ae=(F?1:2)*h;if(h<1/0&&ae<_.length&&_.splice(0,_.length-ae),!F){const we=a.now();let Ce=0;for(let ft=1;ft<_.length&&_[ft]<=we;ft+=2)Ce=ft;Ce&&_.splice(0,Ce+1)}}}var Po=p(7707);function Ea(w,h,...a){if(!0===h)return void w();if(!1===h)return;const _=new Po.Ms({next:()=>{_.unsubscribe(),w()}});return(0,ka.Tg)(h(...a)).subscribe(_)}var hl=p(274),Fl=p(2087),Ja=p(152),ia=p(6977),Fi=p(5558),Ql=p(5245),Jl=p(941),Yl=p(2816),ql=p(9079);const dl="PERFORM_ACTION",Bl="ROLLBACK",tc="TOGGLE_ACTION",ic="JUMP_TO_STATE",Ya="JUMP_TO_ACTION",El="IMPORT_STATE",Ca="LOCK_CHANGES",rc="PAUSE_RECORDING";class qa{constructor(h,a){if(this.action=h,this.timestamp=a,this.type=dl,typeof h.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class bc{constructor(){this.type="REFRESH"}}class Cl{constructor(h){this.timestamp=h,this.type="RESET"}}class sc{constructor(h){this.timestamp=h,this.type=Bl}}class wc{constructor(h){this.timestamp=h,this.type="COMMIT"}}class Ul{constructor(){this.type="SWEEP"}}class oc{constructor(h){this.id=h,this.type=tc}}class La{constructor(h){this.index=h,this.type=ic}}class Sc{constructor(h){this.actionId=h,this.type=Ya}}class Ec{constructor(h){this.nextLiftedState=h,this.type=El}}class s{constructor(h){this.status=h,this.type=Ca}}class C{constructor(h){this.status=h,this.type=rc}}const V=new d.nKC("@ngrx/store-devtools Options"),ce=new d.nKC("@ngrx/store-devtools Initial Config");function xe(){return null}const De="NgRx Store DevTools";function Qe(w){const h={maxAge:!1,monitor:xe,actionSanitizer:void 0,stateSanitizer:void 0,name:De,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},a="function"==typeof w?w():w,F=a.features||!!a.logOnly&&{pause:!0,export:!0,test:!0}||h.features;!0===F.import&&(F.import="custom");const ae=Object.assign({},h,{features:F},a);if(ae.maxAge&&ae.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${ae.maxAge}`);return ae}function Ze(w,h){return w.filter(a=>h.indexOf(a)<0)}function it(w){const{computedStates:h,currentStateIndex:a}=w;if(a>=h.length){const{state:F}=h[h.length-1];return F}const{state:_}=h[a];return _}function Zt(w){return new qa(w,+Date.now())}function zt(w,h){return Object.keys(h).reduce((a,_)=>{const F=Number(_);return a[F]=Dn(w,h[F],F),a},{})}function Dn(w,h,a){return{...h,action:w(h.action,a)}}function Wi(w,h){return h.map((a,_)=>({state:Sr(w,a.state,_),error:a.error}))}function Sr(w,h,a){return w(h,a)}function yn(w){return w.predicate||w.actionsSafelist||w.actionsBlocklist}function hi(w,h,a,_,F){const ae=a&&!a(w,h.action),we=_&&!h.action.type.match(_.map(ft=>Jn(ft)).join("|")),Ce=F&&h.action.type.match(F.map(ft=>Jn(ft)).join("|"));return ae||we||Ce}function Jn(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ri(w){return{ngZone:w?(0,d.WQX)(d.SKi):null,connectInZone:w}}let yi=(()=>{class w extends f.SS{static#e=this.\u0275fac=(()=>{let a;return function(F){return(a||(a=d.xGo(w)))(F||w)}})();static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})();const Xr=new d.nKC("@ngrx/store-devtools Redux Devtools Extension");let Dr=(()=>{class w{constructor(a,_,F){this.config=_,this.dispatcher=F,this.zoneConfig=Ri(this.config.connectInZone),this.devtoolsExtension=a,this.createActionStreams()}notify(a,_){if(this.devtoolsExtension)if(a.type===dl){if(_.isLocked||_.isPaused)return;const F=it(_);if(yn(this.config)&&hi(F,a,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const ae=this.config.stateSanitizer?Sr(this.config.stateSanitizer,F,_.currentStateIndex):F,we=this.config.actionSanitizer?Dn(this.config.actionSanitizer,a,_.nextActionId):a;this.sendToReduxDevtools(()=>this.extensionConnection.send(we,ae))}else{const F={..._,stagedActionIds:_.stagedActionIds,actionsById:this.config.actionSanitizer?zt(this.config.actionSanitizer,_.actionsById):_.actionsById,computedStates:this.config.stateSanitizer?Wi(this.config.stateSanitizer,_.computedStates):_.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,F,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new Pa.c(a=>{const _=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=_,_.init(),_.subscribe(F=>a.next(F)),_.unsubscribe}):uo.w}createActionStreams(){const a=this.createChangesObservable().pipe(function Sa(w={}){const{connector:h=(()=>new Ro.B),resetOnError:a=!0,resetOnComplete:_=!0,resetOnRefCountZero:F=!0}=w;return ae=>{let we,Ce,ft,lt=0,wn=!1,qt=!1;const $n=()=>{Ce?.unsubscribe(),Ce=void 0},En=()=>{$n(),we=ft=void 0,wn=qt=!1},an=()=>{const xn=we;En(),xn?.unsubscribe()};return(0,ha.N)((xn,Ui)=>{lt++,!qt&&!wn&&$n();const Xi=ft=ft??h();Ui.add(()=>{lt--,0===lt&&!qt&&!wn&&(Ce=Ea(an,F))}),Xi.subscribe(Ui),!we&&lt>0&&(we=new Po.Ms({next:rr=>Xi.next(rr),error:rr=>{qt=!0,$n(),Ce=Ea(En,a,rr),Xi.error(rr)},complete:()=>{wn=!0,$n(),Ce=Ea(En,_),Xi.complete()}}),(0,ka.Tg)(xn).subscribe(we))})(ae)}}()),_=a.pipe((0,oo.p)(lt=>"START"===lt.type)),F=a.pipe((0,oo.p)(lt=>"STOP"===lt.type)),ae=a.pipe((0,oo.p)(lt=>"DISPATCH"===lt.type),(0,xi.T)(lt=>this.unwrapAction(lt.payload)),(0,hl.H)(lt=>lt.type===El?this.dispatcher.pipe((0,oo.p)(wn=>wn.type===f.q6),(0,Fl.w)(1e3),(0,Ja.B)(1e3),(0,xi.T)(()=>lt),(0,br.W)(()=>(0,pr.of)(lt)),(0,v.s)(1)):(0,pr.of)(lt))),Ce=a.pipe((0,oo.p)(lt=>"ACTION"===lt.type),(0,xi.T)(lt=>this.unwrapAction(lt.payload))).pipe((0,ia.Q)(F)),ft=ae.pipe((0,ia.Q)(F));this.start$=_.pipe((0,ia.Q)(F)),this.actions$=this.start$.pipe((0,Fi.n)(()=>Ce)),this.liftedActions$=this.start$.pipe((0,Fi.n)(()=>ft))}unwrapAction(a){return"string"==typeof a?(0,eval)(`(${a})`):a}getExtensionConfig(a){const _={name:a.name,features:a.features,serialize:a.serialize,autoPause:a.autoPause??!1,trace:a.trace??!1,traceLimit:a.traceLimit??75};return!1!==a.maxAge&&(_.maxAge=a.maxAge),_}sendToReduxDevtools(a){try{a()}catch(_){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",_)}}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(Xr),d.KVO(V),d.KVO(yi))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})();const ms={type:f.Zz},pi={type:"@ngrx/store-devtools/recompute"};function jr(w,h,a,_,F){if(_)return{state:a,error:"Interrupted by an error up the chain"};let we,ae=a;try{ae=w(a,h)}catch(Ce){we=Ce.toString(),F.handleError(Ce)}return{state:ae,error:we}}function ir(w,h,a,_,F,ae,we,Ce,ft){if(h>=w.length&&w.length===ae.length)return w;const lt=w.slice(0,h),wn=ae.length-(ft?1:0);for(let qt=h;qt<wn;qt++){const $n=ae[qt],En=F[$n].action,an=lt[qt-1],xn=an?an.state:_,Ui=an?an.error:void 0,rr=we.indexOf($n)>-1?an:jr(a,En,xn,Ui,Ce);lt.push(rr)}return ft&&lt.push(w[w.length-1]),lt}let cn=(()=>{class w{constructor(a,_,F,ae,we,Ce,ft,lt){const wn=function Ft(w,h){return{monitorState:h(void 0,{}),nextActionId:1,actionsById:{0:Zt(ms)},stagedActionIds:[0],skippedActionIds:[],committedState:w,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}(ft,lt.monitor),qt=function qn(w,h,a,_,F={}){return ae=>(we,Ce)=>{let{monitorState:ft,actionsById:lt,nextActionId:wn,stagedActionIds:qt,skippedActionIds:$n,committedState:En,currentStateIndex:an,computedStates:xn,isLocked:Ui,isPaused:Xi}=we||h;function rr(ls){let Nr=ls,Ds=qt.slice(1,Nr+1);for(let vs=0;vs<Ds.length;vs++){if(xn[vs+1].error){Nr=vs,Ds=qt.slice(1,Nr+1);break}delete lt[Ds[vs]]}$n=$n.filter(vs=>-1===Ds.indexOf(vs)),qt=[0,...qt.slice(Nr+1)],En=xn[Nr].state,xn=xn.slice(Nr),an=an>Nr?an-Nr:0}function _s(){lt={0:Zt(ms)},wn=1,qt=[0],$n=[],En=xn[an].state,an=0,xn=[]}we||(lt=Object.create(lt));let sr=0;switch(Ce.type){case Ca:Ui=Ce.status,sr=1/0;break;case rc:Xi=Ce.status,Xi?(qt=[...qt,wn],lt[wn]=new qa({type:"@ngrx/devtools/pause"},+Date.now()),wn++,sr=qt.length-1,xn=xn.concat(xn[xn.length-1]),an===qt.length-2&&an++,sr=1/0):_s();break;case"RESET":lt={0:Zt(ms)},wn=1,qt=[0],$n=[],En=w,an=0,xn=[];break;case"COMMIT":_s();break;case Bl:lt={0:Zt(ms)},wn=1,qt=[0],$n=[],an=0,xn=[];break;case tc:{const{id:ls}=Ce;$n=-1===$n.indexOf(ls)?[ls,...$n]:$n.filter(Ds=>Ds!==ls),sr=qt.indexOf(ls);break}case"SET_ACTIONS_ACTIVE":{const{start:ls,end:Nr,active:Ds}=Ce,vs=[];for(let pa=ls;pa<Nr;pa++)vs.push(pa);$n=Ds?Ze($n,vs):[...$n,...vs],sr=qt.indexOf(ls);break}case ic:an=Ce.index,sr=1/0;break;case Ya:{const ls=qt.indexOf(Ce.actionId);-1!==ls&&(an=ls),sr=1/0;break}case"SWEEP":qt=Ze(qt,$n),$n=[],an=Math.min(an,qt.length-1);break;case dl:{if(Ui)return we||h;if(Xi||we&&hi(we.computedStates[an],Ce,F.predicate,F.actionsSafelist,F.actionsBlocklist)){const Nr=xn[xn.length-1];xn=[...xn.slice(0,-1),jr(ae,Ce.action,Nr.state,Nr.error,a)],sr=1/0;break}F.maxAge&&qt.length===F.maxAge&&rr(1),an===qt.length-1&&an++;const ls=wn++;lt[ls]=Ce,qt=[...qt,ls],sr=qt.length-1;break}case El:({monitorState:ft,actionsById:lt,nextActionId:wn,stagedActionIds:qt,skippedActionIds:$n,committedState:En,currentStateIndex:an,computedStates:xn,isLocked:Ui,isPaused:Xi}=Ce.nextLiftedState);break;case f.Zz:sr=0,F.maxAge&&qt.length>F.maxAge&&(xn=ir(xn,sr,ae,En,lt,qt,$n,a,Xi),rr(qt.length-F.maxAge),sr=1/0);break;case f.q6:if(xn.filter(Nr=>Nr.error).length>0)sr=0,F.maxAge&&qt.length>F.maxAge&&(xn=ir(xn,sr,ae,En,lt,qt,$n,a,Xi),rr(qt.length-F.maxAge),sr=1/0);else{if(!Xi&&!Ui){an===qt.length-1&&an++;const Nr=wn++;lt[Nr]=new qa(Ce,+Date.now()),qt=[...qt,Nr],sr=qt.length-1,xn=ir(xn,sr,ae,En,lt,qt,$n,a,Xi)}xn=xn.map(Nr=>({...Nr,state:ae(Nr.state,pi)})),an=qt.length-1,F.maxAge&&qt.length>F.maxAge&&rr(qt.length-F.maxAge),sr=1/0}break;default:sr=1/0}return xn=ir(xn,sr,ae,En,lt,qt,$n,a,Xi),ft=_(ft,Ce),{monitorState:ft,actionsById:lt,nextActionId:wn,stagedActionIds:qt,skippedActionIds:$n,committedState:En,currentStateIndex:an,computedStates:xn,isLocked:Ui,isPaused:Xi}}}(ft,wn,Ce,lt.monitor,lt),$n=(0,Ra.h)((0,Ra.h)(_.asObservable().pipe((0,Ql.i)(1)),ae.actions$).pipe((0,xi.T)(Zt)),a,ae.liftedActions$).pipe((0,Jl.Q)(wl.T)),En=F.pipe((0,xi.T)(qt)),an=Ri(lt.connectInZone),xn=new ul(1);this.liftedStateSubscription=$n.pipe((0,H.E)(En),Gn(an),(0,Yl.S)(({state:rr},[_s,sr])=>{let ls=sr(rr,_s);return _s.type!==dl&&yn(lt)&&(ls=function bn(w,h,a,_){const F=[],ae={},we=[];return w.stagedActionIds.forEach((Ce,ft)=>{const lt=w.actionsById[Ce];lt&&(ft&&hi(w.computedStates[ft],lt,h,a,_)||(ae[Ce]=lt,F.push(Ce),we.push(w.computedStates[ft])))}),{...w,stagedActionIds:F,actionsById:ae,computedStates:we}}(ls,lt.predicate,lt.actionsSafelist,lt.actionsBlocklist)),ae.notify(_s,ls),{state:ls,action:_s}},{state:wn,action:null})).subscribe(({state:rr,action:_s})=>{xn.next(rr),_s.type===dl&&we.next(_s.action)}),this.extensionStartSubscription=ae.start$.pipe(Gn(an)).subscribe(()=>{this.refresh()});const Ui=xn.asObservable(),Xi=Ui.pipe((0,xi.T)(it));Object.defineProperty(Xi,"state",{value:(0,ql.ot)(Xi,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=a,this.liftedState=Ui,this.state=Xi}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(a){this.dispatcher.next(a)}next(a){this.dispatcher.next(a)}error(a){}complete(){}performAction(a){this.dispatch(new qa(a,+Date.now()))}refresh(){this.dispatch(new bc)}reset(){this.dispatch(new Cl(+Date.now()))}rollback(){this.dispatch(new sc(+Date.now()))}commit(){this.dispatch(new wc(+Date.now()))}sweep(){this.dispatch(new Ul)}toggleAction(a){this.dispatch(new oc(a))}jumpToAction(a){this.dispatch(new Sc(a))}jumpToState(a){this.dispatch(new La(a))}importState(a){this.dispatch(new Ec(a))}lockChanges(a){this.dispatch(new s(a))}pauseRecording(a){this.dispatch(new C(a))}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(yi),d.KVO(f.SS),d.KVO(f.QU),d.KVO(Dr),d.KVO(f.sA),d.KVO(d.zcH),d.KVO(f.N_),d.KVO(V))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})();function Gn({ngZone:w,connectInZone:h}){return a=>h?new Pa.c(_=>a.subscribe({next:F=>w.run(()=>_.next(F)),error:F=>w.run(()=>_.error(F)),complete:()=>w.run(()=>_.complete())})):a}const bi=new d.nKC("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function ei(w,h){return!!w||h.monitor!==xe}function wi(){const w="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[w]<"u"?window[w]:null}function Li(w={}){return(0,d.EmA)([Dr,yi,cn,{provide:ce,useValue:w},{provide:bi,deps:[Xr,V],useFactory:ei},{provide:Xr,useFactory:wi},{provide:V,deps:[ce],useFactory:Qe},{provide:f.h1,deps:[cn],useFactory:qi},{provide:f.Bh,useExisting:yi}])}function qi(w){return w.state}let So=(()=>{class w{static instrument(a={}){return{ngModule:w,providers:[Li(a)]}}static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({})}return w})();var gr=p(6794);const xo=(0,f.vy)({profile:{}},(0,f.on)(gr.BI,(w,h)=>({profile:h.profile}))),as=(0,f.UX)("profile"),Ba=((0,f.Mz)(as,w=>w.profile),{notes:Co.W7,events:wo.c1,profile:xo,preference:Bo.w,router:function ue(w,h){const a=h;switch(a.type){case x:case se:case j:return{state:a.payload.routerState,navigationId:a.payload.event.id};default:return w}}}),Tl=vn.c.production?[]:[function Ua(w){return function(h,a){return w(h,a)}}];var Ir=p(1014),mi=p(3531);let Dl=(()=>{class w{constructor(a,_,F,ae){this.oauthService=a,this.router=_,this.actions$=F,this.store=ae,this.login=O(()=>this.actions$.pipe(vi(gr.Ek),(0,Fi.n)(we=>this.oauthService.fetchTokenUsingPasswordFlowAndLoadUserProfile(we.username,we.password).then(()=>this.store.dispatch(gr.du())).catch(Ce=>this.store.dispatch(gr.W$({payload:Ce}))))),{dispatch:!1}),this.loginEventSuccess=O(()=>this.actions$.pipe(vi(gr.du),(0,Fi.n)(()=>this.oauthService.loadUserProfile().then(we=>{this.store.dispatch(gr.BI({profile:we})),this.store.dispatch(Ir.y$()),this.store.dispatch(mi.GW()),this.store.dispatch(gr.Wi())}).catch(we=>this.store.dispatch(gr.W1({payload:we}))))),{dispatch:!1}),this.tokenExpire=O(()=>this.actions$.pipe(vi(gr.fp),(0,Fi.n)(we=>(this.store.dispatch(gr.ri({message:we.message})),uo.w))),{dispatch:!1}),this.logout=O(()=>this.actions$.pipe(vi(gr.ri),(0,Fi.n)(we=>(this.oauthService.logOut(),this.store.dispatch(Ir.J8()),this.store.dispatch(gr.oR({message:we.message})),uo.w))),{dispatch:!1}),this.routeToHome=O(()=>this.actions$.pipe(vi(gr.Wi),(0,Fi.n)(()=>this.router.navigate(["/"]))),{dispatch:!1}),this.routeToLogin=O(()=>this.actions$.pipe(vi(gr.oR),(0,Fi.n)(we=>this.router.navigate(["/login",{endsession:we.message,skipLocationChange:!0}]))),{dispatch:!1})}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO($s.TC),d.KVO(G.Ix),d.KVO(Do),d.KVO(f.il))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})(),Vl=(()=>{class w{constructor(a,_,F,ae){this.actions$=a,this.notesDataService=_,this.router=F,this.toastService=ae,this.save=O(()=>this.actions$.pipe(vi(mi.p4),(0,Fi.n)(we=>this.notesDataService.addNote(we.payload).pipe((0,xi.T)(Ce=>mi.CU({payload:Ce})),(0,br.W)(Ce=>(0,pr.of)(mi.z9({payload:Ce}))))))),this.updateNoteText=O(()=>this.actions$.pipe(vi(mi.lh),(0,Fi.n)(we=>this.notesDataService.updateNote(we.payload).pipe((0,xi.T)(Ce=>mi.KV({payload:Ce})),(0,br.W)(Ce=>(0,pr.of)(mi.$U({payload:Ce}))))))),this.updateNotePosition=O(()=>this.actions$.pipe(vi(mi.Fp),(0,Fi.n)(we=>this.notesDataService.updateNote(we.payload).pipe((0,xi.T)(Ce=>mi.Mw({payload:Ce})),(0,br.W)(Ce=>(0,pr.of)(mi.$C({payload:Ce}))))))),this.updateNoteSelection=O(()=>this.actions$.pipe(vi(mi.qV),(0,Fi.n)(we=>this.notesDataService.updateNote(we.payload).pipe((0,xi.T)(Ce=>mi.Vs({payload:Ce})),(0,br.W)(Ce=>(0,pr.of)(mi.Ym({payload:Ce}))))))),this.update=O(()=>this.actions$.pipe(vi(mi.w3),(0,Fi.n)(we=>this.notesDataService.updateNote(we.payload).pipe((0,xi.T)(Ce=>mi.Vh({payload:Ce})),(0,br.W)(Ce=>(0,pr.of)(mi.z9({payload:Ce}))))))),this.updatePinOrder=O(()=>this.actions$.pipe(vi(mi.$3),(0,Fi.n)(we=>this.notesDataService.updateNote(we.payload).pipe((0,xi.T)(Ce=>mi.gx({payload:Ce})),(0,br.W)(Ce=>(0,pr.of)(mi.zL({payload:Ce}))))))),this.fetchNotes=O(()=>this.actions$.pipe(vi(mi.GW),(0,Fi.n)(()=>(0,pr.of)(mi.Qp())))),this.fetchNotesStart=O(()=>this.actions$.pipe(vi(mi.Qp),(0,Fi.n)(()=>this.notesDataService.getNotes().pipe((0,xi.T)(we=>mi.pF({payload:we})),(0,br.W)(we=>(0,pr.of)({type:mi.D7.type,payload:we})))))),this.fetchNotesSuccess=O(()=>this.actions$.pipe(vi(mi.pF),(0,Fi.n)(()=>(0,pr.of)(mi.pP())))),this.delete=O(()=>this.actions$.pipe(vi(mi.Iy),(0,Fi.n)(we=>this.notesDataService.updateNote(we.payload).pipe((0,xi.T)(Ce=>mi.le({payload:Ce})),(0,br.W)(Ce=>(0,pr.of)(mi.Uw({payload:Ce}))))))),this.deleteSuccess=O(()=>this.actions$.pipe(vi(mi.le),(0,Fi.n)(()=>(this.toastService.showSuccess("Note Deleted","Info"),this.router.navigate(["/notes"]),uo.w))),{dispatch:!1}),this.archiveNote=O(()=>this.actions$.pipe(vi(mi.Dh),(0,Fi.n)(we=>this.notesDataService.updateNote(we.payload).pipe((0,xi.T)(Ce=>mi.cX({payload:Ce})),(0,br.W)(Ce=>(0,pr.of)(mi.$N({payload:Ce}))))))),this.toggleSpellCheck=O(()=>this.actions$.pipe(vi(mi.TM),(0,Fi.n)(we=>this.notesDataService.updateNote(we.payload).pipe((0,xi.T)(Ce=>mi.ws({payload:Ce})),(0,br.W)(Ce=>(0,pr.of)(mi.ne({payload:Ce}))))))),this.archiveNoteSuccess=O(()=>this.actions$.pipe(vi(mi.cX),(0,Fi.n)(()=>(this.toastService.showSuccess("Note successfully archived","Info"),uo.w))),{dispatch:!1}),this.restoreNote=O(()=>this.actions$.pipe(vi(mi.Vc),(0,Fi.n)(we=>this.notesDataService.updateNote({...we.payload,archived:!1}).pipe((0,xi.T)(Ce=>mi.UX({payload:Ce})),(0,br.W)(Ce=>(0,pr.of)(mi.n5({payload:Ce}))))))),this.restoreNoteSuccess=O(()=>this.actions$.pipe(vi(mi.UX),(0,Fi.n)(()=>(this.toastService.showSuccess("Note successfully restored","Info"),uo.w))),{dispatch:!1}),this.updateNoteColour=O(()=>this.actions$.pipe(vi(mi.sF),(0,Fi.n)(we=>this.notesDataService.updateNote(we.payload).pipe((0,xi.T)(Ce=>mi.Hs({payload:Ce})),(0,br.W)(Ce=>(0,pr.of)(mi._w({payload:Ce}))))))),this.updateNoteColourSuccess=O(()=>this.actions$.pipe(vi(mi.Hs),(0,Fi.n)(we=>this.notesDataService.updateNote(we.payload).pipe((0,xi.T)(Ce=>mi.e4({payload:Ce})),(0,br.W)(Ce=>(0,pr.of)(mi.Cq({payload:Ce}))))))),this.updateNoteHeader=O(()=>this.actions$.pipe(vi(mi.$F),(0,Fi.n)(we=>this.notesDataService.updateNote(we.payload).pipe((0,xi.T)(Ce=>mi.IL({payload:Ce})),(0,br.W)(Ce=>(0,pr.of)(mi.tM({payload:Ce})))))))}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(Do),d.KVO(Qo),d.KVO(G.Ix),d.KVO(Fo))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})(),jl=(()=>{class w{constructor(a,_,F){this.actions$=a,this.eventsDataService=_,this.toastService=F,this.createEvent=O(()=>this.actions$.pipe(vi(Ir.lh),(0,Fi.n)(ae=>this.eventsDataService.createEvent(ae.payload).pipe((0,xi.T)(we=>Ir.YQ({payload:we})),(0,br.W)(we=>(0,pr.of)(Ir.Zb({payload:we}))))))),this.createEventSuccess=O(()=>this.actions$.pipe(vi(Ir.YQ),(0,Fi.n)(ae=>(this.toastService.showSuccess(ae.payload.title,"Event Added"),uo.w))),{dispatch:!1}),this.updateEvent=O(()=>this.actions$.pipe(vi(Ir.qM),(0,Fi.n)(ae=>this.eventsDataService.updateEvent(ae.payload.newValue).pipe((0,xi.T)(we=>Ir.l$({payload:we})),(0,br.W)(we=>(0,pr.of)(Ir.sD({payload:we}))))))),this.updateEventSuccess=O(()=>this.actions$.pipe(vi(Ir.l$),(0,Fi.n)(ae=>(this.toastService.showSuccess(ae.payload.title,"Event Updated"),uo.w))),{dispatch:!1}),this.toggleEvent=O(()=>this.actions$.pipe(vi(Ir.bQ),(0,Fi.n)(ae=>this.eventsDataService.toggleEvent(ae.payload).pipe((0,xi.T)(we=>Ir.Ak({payload:we})),(0,br.W)(we=>(0,pr.of)(Ir.HG({payload:we}))))))),this.toggleEventSuccess=O(()=>this.actions$.pipe(vi(Ir.Ak),(0,Fi.n)(ae=>(this.toastService.showSuccess(ae.payload.title,"Event Updated"),uo.w))),{dispatch:!1}),this.fetchEvents=O(()=>this.actions$.pipe(vi(Ir.y$),(0,Fi.n)(()=>(0,pr.of)(Ir._f())))),this.fetchEventsStart=O(()=>this.actions$.pipe(vi(Ir._f),(0,Fi.n)(()=>this.eventsDataService.getAllEvents().pipe((0,xi.T)(ae=>Ir.Z({payload:ae})),(0,br.W)(ae=>(0,pr.of)({type:Ir.T8.type,payload:ae})))))),this.fetchEventsSuccess=O(()=>this.actions$.pipe(vi(Ir.Z),(0,Fi.n)(()=>(0,pr.of)(Ir.d_())))),this.deleteEvent=O(()=>this.actions$.pipe(vi(Ir.SX),(0,Fi.n)(ae=>this.eventsDataService.deleteEventById(ae.payload).pipe((0,xi.T)(we=>Ir.XJ({payload:we})),(0,br.W)(we=>(0,pr.of)(Ir.i3({payload:we}))))))),this.deleteEvents=O(()=>this.actions$.pipe(vi(Ir.VD),(0,Fi.n)(ae=>this.eventsDataService.deleteEvents(ae.payload).pipe((0,xi.T)(we=>Ir.qb({payload:we})),(0,br.W)(we=>(0,pr.of)(Ir.dL({payload:we})))))))}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(Do),d.KVO(nl),d.KVO(Fo))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})(),$i=(()=>{class w{constructor(a,_){this.actions$=a,this.themeService=_,this.toggleDarkMode=O(()=>this.actions$.pipe(vi(co._R),(0,Fi.n)(()=>(0,pr.of)(this.themeService.toggleDarkMode()).pipe((0,xi.T)(()=>co.DZ()))))),this.getIsLoggedIn=O(()=>this.actions$.pipe(vi(co.eP),(0,Fi.n)(()=>(0,pr.of)(co.l({isLoggedIn:"true"===localStorage.getItem("isLoggedIn")||!1}))))),this.setIsLoggedIn=O(()=>this.actions$.pipe(vi(co.sU),(0,Fi.n)(F=>(0,pr.of)(localStorage.setItem("isLoggedIn",F.isLoggedIn.toString())).pipe((0,xi.T)(()=>co.l({isLoggedIn:F.isLoggedIn})))))),this.getIsLoggedInSuccess=O(()=>this.actions$.pipe(vi(co.l),(0,Fi.n)(F=>(0,pr.of)(co.l({isLoggedIn:F.isLoggedIn}))))),this.logInSuccess=O(()=>this.actions$.pipe(vi(co.E8,co.X1),(0,Fi.n)(()=>(0,pr.of)(mi.GW(),Ir.y$()))))}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(Do),d.KVO(gl.F))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})(),eo=(()=>{class w{constructor(a){this.actions$=a,this.deleteSuccess=O(()=>this.actions$.pipe(vi(b),(0,Fi.n)(()=>uo.w)),{dispatch:!1})}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(Do))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})(),Va=(()=>{class w{static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({imports:[f.md.forRoot(Ba,{metaReducers:Tl}),yc.forRoot([Vl,jl,Dl,$i,eo]),So.instrument({connectInZone:!0})]})}return w})();var fa=p(467);const Fc={issuer:"http://esk-linux-u23:8080/realms/master",requireHttps:!1,redirectUri:window.location.origin,clientId:"Angular6",responseType:"code",disableAtHashCheck:!0,scope:"openid profile api2",showDebugInformation:!0};function Cc(w,h,a,_){return w.configure(Fc),(0,fa.A)(function*(){return yield w.loadDiscoveryDocumentAndTryLogin({onLoginError:F=>{_.error(`Error Code: ${F.error}, Error Description: ${F.error_description}`)}}),w.hasValidAccessToken()?h.dispatch((0,co.X1)()):a.showStandard("No valid access_token"),!0})}let Lc=(()=>{class w{constructor(){}intercept(a,_){return a.url.includes(vn.c.API)&&(a=a.clone({setHeaders:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}})),_.handle(a)}static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})(),Bc=(()=>{class w extends $s.ie{constructor(a){super(),this.logg=a}debug(a,..._){console.info(_),this.logg.showSuccess(a,"OAuth Debug")}info(a,..._){console.log(_),this.logg.showSuccess(a,"OAuth Info")}log(a,..._){console.log(_),this.logg.showSuccess(a,"OAuth Log")}warn(a,..._){console.log(_),this.logg.showSuccess(a,"OAuth Warn")}error(a,..._){console.log(_),this.logg.showSuccess(a,"OAuth Error")}static#e=this.\u0275fac=function(_){return new(_||w)(d.KVO(Fo))};static#t=this.\u0275prov=d.jDH({token:w,factory:w.\u0275fac})}return w})(),Uc=(()=>{class w{static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w});static#n=this.\u0275inj=d.G2t({providers:[{provide:e.a7,useClass:Lc,multi:!0},{provide:d.hnV,useFactory:Cc,deps:[$s.TC,f.il,Fo,Nt],multi:!0},{provide:$s.PD,useValue:localStorage},{provide:$s.ie,useClass:Bc}],imports:[$s.gn.forRoot()]})}return w})(),Vc=(()=>{class w{constructor(){}static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=d.$C({type:w,bootstrap:[mo]});static#n=this.\u0275inj=d.G2t({providers:[Qo,nl,Nt,Jo],imports:[Tn.Bb,e.q1,Uc,Ls,il,ar,Hi,Fs,Va,Gi.j.forRoot(),Ci.G.forRoot(),Cn.UN,ri,tn.forRoot({serializer:ml})]})}return w})()},3129:(_n,We,p)=>{"use strict";p.d(We,{D:()=>k});var e=p(3953),f=p(177),d=p(9968);const G=j=>({"font-size":j});function H(j,X){if(1&j&&(e.j41(0,"span",2),e.EFF(1,"\u2665"),e.k0s()),2&j){const se=e.XpG(2);e.Y8G("ngStyle",e.eq3(1,G,se.size+"rem"))}}function b(j,X){if(1&j&&(e.j41(0,"span",3),e.EFF(1,"\u2665"),e.k0s()),2&j){const se=e.XpG(2);e.Y8G("ngStyle",e.eq3(1,G,se.size+"rem"))}}function D(j,X){if(1&j&&(e.j41(0,"span",3)(1,"span",4),e.EFF(2,"\u2665"),e.k0s(),e.EFF(3,"\u2665 "),e.k0s()),2&j){const se=e.XpG().fill,q=e.XpG();e.Y8G("ngStyle",e.eq3(3,G,q.size+"rem")),e.R7$(),e.xc7("width",se,"%")}}function x(j,X){if(1&j&&e.DNE(0,H,2,3,"span",2)(1,b,2,3,"span",3)(2,D,4,5,"span",3),2&j){const se=X.fill;e.vxM(100===se?0:-1),e.R7$(),e.vxM(0===se?1:-1),e.R7$(),e.vxM(se<100&&se>0?2:-1)}}let k=(()=>{class j{constructor(){this.size=3}static#e=this.\u0275fac=function(q){return new(q||j)};static#t=this.\u0275cmp=e.VBU({type:j,selectors:[["app-ngbd-rating-decimal"]],inputs:{rating:"rating",currentRate:"currentRate",size:"size"},decls:3,vars:4,consts:[["t",""],[3,"rate","starTemplate","readonly","max"],[1,"star","full",3,"ngStyle"],[1,"star",3,"ngStyle"],[1,"half"]],template:function(q,oe){if(1&q&&(e.DNE(0,x,3,3,"ng-template",null,0,e.C5r),e.nrm(2,"ngb-rating",1)),2&q){const te=e.sdS(1);e.R7$(2),e.Y8G("rate",oe.currentRate)("starTemplate",te)("readonly",!0)("max",5)}},dependencies:[f.B3,d.hC],styles:[".star[_ngcontent-%COMP%]{position:relative;display:inline-block;color:#d3d3d3}.full[_ngcontent-%COMP%]{color:red}.half[_ngcontent-%COMP%]{position:absolute;display:inline-block;overflow:hidden;color:red}"]})}return j})()},2881:(_n,We,p)=>{"use strict";p.d(We,{I:()=>f});var e=p(3953);let f=(()=>{class d{transform(H){return new Date(H).toLocaleDateString("en-US",{month:"long",year:"numeric"})}static#e=this.\u0275fac=function(b){return new(b||d)};static#t=this.\u0275pipe=e.EJ8({name:"format",type:d,pure:!0})}return d})()},4445:(_n,We,p)=>{"use strict";p.d(We,{a:()=>f});var e=p(3953);let f=(()=>{class d{transform(H){if(H){const b=Math.floor((+new Date-+new Date(H))/1e3);if(b<29)return"just now";const D={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};let x;for(const k in D)if(x=Math.floor(b/D[k]),x>0)return 1===x?x+" "+k+" ago":x+" "+k+"s ago"}return H}static#e=this.\u0275fac=function(b){return new(b||d)};static#t=this.\u0275pipe=e.EJ8({name:"dateago",type:d,pure:!0})}return d})()},3390:(_n,We,p)=>{"use strict";p.d(We,{r:()=>G});var e=p(3953),f=p(1244),d=p(4559);let G=(()=>{class H{constructor(D,x){this.oauthService=D,this.router=x}canActivate(){return!!this.oauthService.hasValidAccessToken()||(this.router.navigate(["/"]),!1)}static#e=this.\u0275fac=function(x){return new(x||H)(e.KVO(f.TC),e.KVO(d.Ix))};static#t=this.\u0275prov=e.jDH({token:H,factory:H.\u0275fac})}return H})()},7823:(_n,We,p)=>{"use strict";p.d(We,{G:()=>tl});var e=p(177),f=p(4341),d=p(4559),G=p(9968),H=p(3390),b=p(3953),D=p(7673),x=p(1244),k=p(1626);let j=(()=>{class Me{constructor(L,ie,Te){this.oauthService=L,this.http=ie,this.route=Te,this.userLoadededEvent=new b.bkB,this.loggedIn=!1}isLoggedInObs(){return(0,D.of)(this.oauthService.hasValidAccessToken())}isLoggedIn(){return this.oauthService.hasValidAccessToken()}clearState(){}getUser(){this.oauthService.loadUserProfile().then(L=>{this.currentUser=L,console.log("got user",L),this.userLoadededEvent.emit(L)}).catch(function(L){console.log(L)})}getProfile(){return this.oauthService.getIdentityClaims()}removeUser(){}startSigninMainWindow(){}endSigninMainWindow(){}startSignoutMainWindow(){}logout(){this.oauthService.logOut()}endSignoutMainWindow(){}static#e=this.\u0275fac=function(ie){return new(ie||Me)(b.KVO(x.TC),b.KVO(k.Qq),b.KVO(d.Ix))};static#t=this.\u0275prov=b.jDH({token:Me,factory:Me.\u0275fac})}return Me})();var X=p(6535),se=p(6860),q=p(1413),oe=p(8359);p(8141),p(152),p(5964),p(6354),p(6697);var hr=p(4085),no=p(605),Ss=p(536),zr=p(1985),Mr=p(7786),fo=(p(4412),p(6977));function ro(Me){const U=Me.cloneNode(!0),L=U.querySelectorAll("[id]"),ie=Me.nodeName.toLowerCase();U.removeAttribute("id");for(let Te=0;Te<L.length;Te++)L[Te].removeAttribute("id");return"canvas"===ie?os(Me,U):("input"===ie||"select"===ie||"textarea"===ie)&&so(Me,U),po("canvas",Me,U,os),po("input, textarea, select",Me,U,so),U}function po(Me,U,L,ie){const Te=U.querySelectorAll(Me);if(Te.length){const ct=L.querySelectorAll(Me);for(let Lt=0;Lt<Te.length;Lt++)ie(Te[Lt],ct[Lt])}}p(5558),p(9172),p(8203);let tr=0;function so(Me,U){"file"!==U.type&&(U.value=Me.value),"radio"===U.type&&U.name&&(U.name=`mat-clone-${U.name}-${tr++}`)}function os(Me,U){const L=U.getContext("2d");if(L)try{L.drawImage(Me,0,0)}catch{}}function K(Me){const U=Me.getBoundingClientRect();return{top:U.top,right:U.right,bottom:U.bottom,left:U.left,width:U.width,height:U.height,x:U.x,y:U.y}}function Q(Me,U,L){const{top:ie,bottom:Te,left:ct,right:Lt}=Me;return L>=ie&&L<=Te&&U>=ct&&U<=Lt}function P(Me,U,L){Me.top+=U,Me.bottom=Me.top+Me.height,Me.left+=L,Me.right=Me.left+Me.width}function fe(Me,U,L,ie){const{top:Te,right:ct,bottom:Lt,left:Xt,width:An,height:li}=Me,nr=An*U,Jr=li*U;return ie>Te-Jr&&ie<Lt+Jr&&L>Xt-nr&&L<ct+nr}class He{constructor(U){this._document=U,this.positions=new Map}clear(){this.positions.clear()}cache(U){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),U.forEach(L=>{this.positions.set(L,{scrollPosition:{top:L.scrollTop,left:L.scrollLeft},clientRect:K(L)})})}handleScroll(U){const L=(0,se.Fb)(U),ie=this.positions.get(L);if(!ie)return null;const Te=ie.scrollPosition;let ct,Lt;if(L===this._document){const li=this.getViewportScrollPosition();ct=li.top,Lt=li.left}else ct=L.scrollTop,Lt=L.scrollLeft;const Xt=Te.top-ct,An=Te.left-Lt;return this.positions.forEach((li,nr)=>{li.clientRect&&L!==nr&&L.contains(nr)&&P(li.clientRect,Xt,An)}),Te.top=ct,Te.left=Lt,{top:Xt,left:An}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Fn(Me,U){const L=Me.rootNodes;if(1===L.length&&L[0].nodeType===U.ELEMENT_NODE)return L[0];const ie=U.createElement("div");return L.forEach(Te=>ie.appendChild(Te)),ie}function ni(Me,U,L){for(let ie in U)if(U.hasOwnProperty(ie)){const Te=U[ie];Te?Me.setProperty(ie,Te,L?.has(ie)?"important":""):Me.removeProperty(ie)}return Me}function Rr(Me,U){const L=U?"":"none";ni(Me.style,{"touch-action":U?"":"none","-webkit-user-drag":U?"":"none","-webkit-tap-highlight-color":U?"":"transparent","user-select":L,"-ms-user-select":L,"-webkit-user-select":L,"-moz-user-select":L})}function Ms(Me,U,L){ni(Me.style,{position:U?"":"fixed",top:U?"":"0",opacity:U?"":"0",left:U?"":"-999em"},L)}function Cs(Me,U){return U&&"none"!=U?Me+" "+U:Me}function zs(Me,U){Me.style.width=`${U.width}px`,Me.style.height=`${U.height}px`,Me.style.transform=Tr(U.left,U.top)}function Tr(Me,U){return`translate3d(${Math.round(Me)}px, ${Math.round(U)}px, 0)`}function Yo(Me){const U=Me.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Me)*U}function qo(Me,U){return Me.getPropertyValue(U).split(",").map(ie=>ie.trim())}const zo=new Set(["position"]);class No{constructor(U,L,ie,Te,ct,Lt,Xt,An,li){this._document=U,this._rootElement=L,this._direction=ie,this._initialDomRect=Te,this._previewTemplate=ct,this._previewClass=Lt,this._pickupPositionOnPage=Xt,this._initialTransform=An,this._zIndex=li}attach(U){this._preview=this._createPreview(),U.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(U){this._preview.style.transform=U}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(U){this._preview.classList.add(U)}getTransitionDuration(){return function Go(Me){const U=getComputedStyle(Me),L=qo(U,"transition-property"),ie=L.find(Xt=>"transform"===Xt||"all"===Xt);if(!ie)return 0;const Te=L.indexOf(ie),ct=qo(U,"transition-duration"),Lt=qo(U,"transition-delay");return Yo(ct[Te])+Yo(Lt[Te])}(this._preview)}addEventListener(U,L){this._preview.addEventListener(U,L)}removeEventListener(U,L){this._preview.removeEventListener(U,L)}_createPreview(){const U=this._previewTemplate,L=this._previewClass,ie=U?U.template:null;let Te;if(ie&&U){const ct=U.matchSize?this._initialDomRect:null,Lt=U.viewContainer.createEmbeddedView(ie,U.context);Lt.detectChanges(),Te=Fn(Lt,this._document),this._previewEmbeddedView=Lt,U.matchSize?zs(Te,ct):Te.style.transform=Tr(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else Te=ro(this._rootElement),zs(Te,this._initialDomRect),this._initialTransform&&(Te.style.transform=this._initialTransform);return ni(Te.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},zo),Rr(Te,!1),Te.classList.add("cdk-drag-preview"),Te.setAttribute("popover","manual"),Te.setAttribute("dir",this._direction),L&&(Array.isArray(L)?L.forEach(ct=>Te.classList.add(ct)):Te.classList.add(L)),Te}}const go=(0,se.BQ)({passive:!0}),Fs=(0,se.BQ)({passive:!1}),Ne=(0,se.BQ)({passive:!1,capture:!0}),St=new Set(["position"]);class Nt{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(U){U!==this._disabled&&(this._disabled=U,this._toggleNativeDragInteractions(),this._handles.forEach(L=>Rr(L,U)))}constructor(U,L,ie,Te,ct,Lt){this._config=L,this._document=ie,this._ngZone=Te,this._viewportRuler=ct,this._dragDropRegistry=Lt,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=(0,b.vPA)(!1),this._moveEvents=new q.B,this._pointerMoveSubscription=oe.yU.EMPTY,this._pointerUpSubscription=oe.yU.EMPTY,this._scrollSubscription=oe.yU.EMPTY,this._resizeSubscription=oe.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new q.B,this.started=new q.B,this.released=new q.B,this.ended=new q.B,this.entered=new q.B,this.exited=new q.B,this.dropped=new q.B,this.moved=this._moveEvents,this._pointerDown=Xt=>{if(this.beforeStarted.next(),this._handles.length){const An=this._getTargetHandle(Xt);An&&!this._disabledHandles.has(An)&&!this.disabled&&this._initializeDragSequence(An,Xt)}else this.disabled||this._initializeDragSequence(this._rootElement,Xt)},this._pointerMove=Xt=>{const An=this._getPointerPositionOnPage(Xt);if(!this._hasStartedDragging()){if(Math.abs(An.x-this._pickupPositionOnPage.x)+Math.abs(An.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Bs=Date.now()>=this._dragStartTime+this._getDragStartDelay(Xt),mo=this._dropContainer;if(!Bs)return void this._endDragSequence(Xt);(!mo||!mo.isDragging()&&!mo.isReceiving())&&(Xt.cancelable&&Xt.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(Xt)))}return}Xt.cancelable&&Xt.preventDefault();const li=this._getConstrainedPointerPosition(An);if(this._hasMoved=!0,this._lastKnownPointerPosition=An,this._updatePointerDirectionDelta(li),this._dropContainer)this._updateActiveDropContainer(li,An);else{const nr=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,Jr=this._activeTransform;Jr.x=li.x-nr.x+this._passiveTransform.x,Jr.y=li.y-nr.y+this._passiveTransform.y,this._applyRootElementTransform(Jr.x,Jr.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:li,event:Xt,distance:this._getDragDistance(li),delta:this._pointerDirectionDelta})})},this._pointerUp=Xt=>{this._endDragSequence(Xt)},this._nativeDragStart=Xt=>{if(this._handles.length){const An=this._getTargetHandle(Xt);An&&!this._disabledHandles.has(An)&&!this.disabled&&Xt.preventDefault()}else this.disabled||Xt.preventDefault()},this.withRootElement(U).withParent(L.parentDragRef||null),this._parentPositions=new He(ie),Lt.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(U){this._handles=U.map(ie=>(0,hr.i8)(ie)),this._handles.forEach(ie=>Rr(ie,this.disabled)),this._toggleNativeDragInteractions();const L=new Set;return this._disabledHandles.forEach(ie=>{this._handles.indexOf(ie)>-1&&L.add(ie)}),this._disabledHandles=L,this}withPreviewTemplate(U){return this._previewTemplate=U,this}withPlaceholderTemplate(U){return this._placeholderTemplate=U,this}withRootElement(U){const L=(0,hr.i8)(U);return L!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{L.addEventListener("mousedown",this._pointerDown,Fs),L.addEventListener("touchstart",this._pointerDown,go),L.addEventListener("dragstart",this._nativeDragStart,Fs)}),this._initialTransform=void 0,this._rootElement=L),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(U){return this._boundaryElement=U?(0,hr.i8)(U):null,this._resizeSubscription.unsubscribe(),U&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(U){return this._parentDragRef=U,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(U){!this._disabledHandles.has(U)&&this._handles.indexOf(U)>-1&&(this._disabledHandles.add(U),Rr(U,!0))}enableHandle(U){this._disabledHandles.has(U)&&(this._disabledHandles.delete(U),Rr(U,this.disabled))}withDirection(U){return this._direction=U,this}_withDropContainer(U){this._dropContainer=U}getFreeDragPosition(){const U=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:U.x,y:U.y}}setFreeDragPosition(U){return this._activeTransform={x:0,y:0},this._passiveTransform.x=U.x,this._passiveTransform.y=U.y,this._dropContainer||this._applyRootElementTransform(U.x,U.y),this}withPreviewContainer(U){return this._previewContainer=U,this}_sortFromLastPointerPosition(){const U=this._lastKnownPointerPosition;U&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(U),U)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",vn,Ne)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(U){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:U}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(U),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const L=this._getPointerPositionOnPage(U);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(L),dropPoint:L,event:U})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(U){Sn(U)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const L=this._getShadowRoot(),ie=this._dropContainer;if(L&&this._ngZone.runOutsideAngular(()=>{L.addEventListener("selectstart",vn,Ne)}),ie){const Te=this._rootElement,ct=Te.parentNode,Lt=this._placeholder=this._createPlaceholderElement(),Xt=this._anchor=this._anchor||this._document.createComment("");ct.insertBefore(Xt,Te),this._initialTransform=Te.style.transform||"",this._preview=new No(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(ct,L)),Ms(Te,!1,St),this._document.body.appendChild(ct.replaceChild(Lt,Te)),this.started.next({source:this,event:U}),ie.start(),this._initialContainer=ie,this._initialIndex=ie.getItemIndex(this)}else this.started.next({source:this,event:U}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(ie?ie.getScrollableParents():[])}_initializeDragSequence(U,L){this._parentDragRef&&L.stopPropagation();const ie=this.isDragging(),Te=Sn(L),ct=!Te&&0!==L.button,Lt=this._rootElement,Xt=(0,se.Fb)(L),An=!Te&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),li=Te?function Y(Me){const U=Me.touches&&Me.touches[0]||Me.changedTouches&&Me.changedTouches[0];return!(!U||-1!==U.identifier||null!=U.radiusX&&1!==U.radiusX||null!=U.radiusY&&1!==U.radiusY)}(L):function N(Me){return 0===Me.buttons||0===Me.detail}(L);if(Xt&&Xt.draggable&&"mousedown"===L.type&&L.preventDefault(),ie||ct||An||li)return;if(this._handles.length){const Xs=Lt.style;this._rootElementTapHighlight=Xs.webkitTapHighlightColor||"",Xs.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Xs=>this._updateOnScroll(Xs)),this._boundaryElement&&(this._boundaryRect=K(this._boundaryElement));const nr=this._previewTemplate;this._pickupPositionInElement=nr&&nr.template&&!nr.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,U,L);const Jr=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(L);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Jr.x,y:Jr.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,L)}_cleanupDragArtifacts(U){Ms(this._rootElement,!0,St),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const L=this._dropContainer,ie=L.getItemIndex(this),Te=this._getPointerPositionOnPage(U),ct=this._getDragDistance(Te),Lt=L._isOverContainer(Te.x,Te.y);this.ended.next({source:this,distance:ct,dropPoint:Te,event:U}),this.dropped.next({item:this,currentIndex:ie,previousIndex:this._initialIndex,container:L,previousContainer:this._initialContainer,isPointerOverContainer:Lt,distance:ct,dropPoint:Te,event:U}),L.drop(this,ie,this._initialIndex,this._initialContainer,Lt,ct,Te,U),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:U,y:L},{x:ie,y:Te}){let ct=this._initialContainer._getSiblingContainerFromPosition(this,U,L);!ct&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(U,L)&&(ct=this._initialContainer),ct&&ct!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=ct,this._dropContainer.enter(this,U,L,ct===this._initialContainer&&ct.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:ct,currentIndex:ct.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(ie,Te),this._dropContainer._sortItem(this,U,L,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(U,L):this._applyPreviewTransform(U-this._pickupPositionInElement.x,L-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const U=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(U.left,U.top);const L=this._preview.getTransitionDuration();return 0===L?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(ie=>{const Te=Lt=>{(!Lt||(0,se.Fb)(Lt)===this._preview&&"transform"===Lt.propertyName)&&(this._preview?.removeEventListener("transitionend",Te),ie(),clearTimeout(ct))},ct=setTimeout(Te,1.5*L);this._preview.addEventListener("transitionend",Te)}))}_createPlaceholderElement(){const U=this._placeholderTemplate,L=U?U.template:null;let ie;return L?(this._placeholderRef=U.viewContainer.createEmbeddedView(L,U.context),this._placeholderRef.detectChanges(),ie=Fn(this._placeholderRef,this._document)):ie=ro(this._rootElement),ie.style.pointerEvents="none",ie.classList.add("cdk-drag-placeholder"),ie}_getPointerPositionInElement(U,L,ie){const Te=L===this._rootElement?null:L,ct=Te?Te.getBoundingClientRect():U,Lt=Sn(ie)?ie.targetTouches[0]:ie,Xt=this._getViewportScrollPosition();return{x:ct.left-U.left+(Lt.pageX-ct.left-Xt.left),y:ct.top-U.top+(Lt.pageY-ct.top-Xt.top)}}_getPointerPositionOnPage(U){const L=this._getViewportScrollPosition(),ie=Sn(U)?U.touches[0]||U.changedTouches[0]||{pageX:0,pageY:0}:U,Te=ie.pageX-L.left,ct=ie.pageY-L.top;if(this._ownerSVGElement){const Lt=this._ownerSVGElement.getScreenCTM();if(Lt){const Xt=this._ownerSVGElement.createSVGPoint();return Xt.x=Te,Xt.y=ct,Xt.matrixTransform(Lt.inverse())}}return{x:Te,y:ct}}_getConstrainedPointerPosition(U){const L=this._dropContainer?this._dropContainer.lockAxis:null;let{x:ie,y:Te}=this.constrainPosition?this.constrainPosition(U,this,this._initialDomRect,this._pickupPositionInElement):U;if("x"===this.lockAxis||"x"===L?Te=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===L)&&(ie=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:ct,y:Lt}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,Xt=this._boundaryRect,{width:An,height:li}=this._getPreviewRect(),nr=Xt.top+Lt,Jr=Xt.bottom-(li-Lt);ie=Yt(ie,Xt.left+ct,Xt.right-(An-ct)),Te=Yt(Te,nr,Jr)}return{x:ie,y:Te}}_updatePointerDirectionDelta(U){const{x:L,y:ie}=U,Te=this._pointerDirectionDelta,ct=this._pointerPositionAtLastDirectionChange,Lt=Math.abs(L-ct.x),Xt=Math.abs(ie-ct.y);return Lt>this._config.pointerDirectionChangeThreshold&&(Te.x=L>ct.x?1:-1,ct.x=L),Xt>this._config.pointerDirectionChangeThreshold&&(Te.y=ie>ct.y?1:-1,ct.y=ie),Te}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const U=this._handles.length>0||!this.isDragging();U!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=U,Rr(this._rootElement,U))}_removeRootElementListeners(U){U.removeEventListener("mousedown",this._pointerDown,Fs),U.removeEventListener("touchstart",this._pointerDown,go),U.removeEventListener("dragstart",this._nativeDragStart,Fs)}_applyRootElementTransform(U,L){const ie=Tr(U,L),Te=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=Te.transform&&"none"!=Te.transform?Te.transform:""),Te.transform=Cs(ie,this._initialTransform)}_applyPreviewTransform(U,L){const ie=this._previewTemplate?.template?void 0:this._initialTransform,Te=Tr(U,L);this._preview.setTransform(Cs(Te,ie))}_getDragDistance(U){const L=this._pickupPositionOnPage;return L?{x:U.x-L.x,y:U.y-L.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:U,y:L}=this._passiveTransform;if(0===U&&0===L||this.isDragging()||!this._boundaryElement)return;const ie=this._rootElement.getBoundingClientRect(),Te=this._boundaryElement.getBoundingClientRect();if(0===Te.width&&0===Te.height||0===ie.width&&0===ie.height)return;const ct=Te.left-ie.left,Lt=ie.right-Te.right,Xt=Te.top-ie.top,An=ie.bottom-Te.bottom;Te.width>ie.width?(ct>0&&(U+=ct),Lt>0&&(U-=Lt)):U=0,Te.height>ie.height?(Xt>0&&(L+=Xt),An>0&&(L-=An)):L=0,(U!==this._passiveTransform.x||L!==this._passiveTransform.y)&&this.setFreeDragPosition({y:L,x:U})}_getDragStartDelay(U){const L=this.dragStartDelay;return"number"==typeof L?L:Sn(U)?L.touch:L?L.mouse:0}_updateOnScroll(U){const L=this._parentPositions.handleScroll(U);if(L){const ie=(0,se.Fb)(U);this._boundaryRect&&ie!==this._boundaryElement&&ie.contains(this._boundaryElement)&&P(this._boundaryRect,L.top,L.left),this._pickupPositionOnPage.x+=L.left,this._pickupPositionOnPage.y+=L.top,this._dropContainer||(this._activeTransform.x-=L.left,this._activeTransform.y-=L.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,se.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(U,L){const ie=this._previewContainer||"global";if("parent"===ie)return U;if("global"===ie){const Te=this._document;return L||Te.fullscreenElement||Te.webkitFullscreenElement||Te.mozFullScreenElement||Te.msFullscreenElement||Te.body}return(0,hr.i8)(ie)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(U){return this._handles.find(L=>U.target&&(U.target===L||L.contains(U.target)))}}function Yt(Me,U,L){return Math.max(U,Math.min(L,Me))}function Sn(Me){return"t"===Me.type[0]}function vn(Me){Me.preventDefault()}function fi(Me,U){return Math.max(0,Math.min(U,Me))}class Ci{constructor(U,L){this._element=U,this._dragDropRegistry=L,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(U){this.withItems(U)}sort(U,L,ie,Te){const ct=this._itemPositions,Lt=this._getItemIndexFromPointerPosition(U,L,ie,Te);if(-1===Lt&&ct.length>0)return null;const Xt="horizontal"===this.orientation,An=ct.findIndex(Yr=>Yr.drag===U),li=ct[Lt],Jr=li.clientRect,Xs=An>Lt?1:-1,Bs=this._getItemOffsetPx(ct[An].clientRect,Jr,Xs),mo=this._getSiblingOffsetPx(An,ct,Xs),xi=ct.slice();return function Vn(Me,U,L){const ie=fi(U,Me.length-1),Te=fi(L,Me.length-1);if(ie===Te)return;const ct=Me[ie],Lt=Te<ie?-1:1;for(let Xt=ie;Xt!==Te;Xt+=Lt)Me[Xt]=Me[Xt+Lt];Me[Te]=ct}(ct,An,Lt),ct.forEach((Yr,Uo)=>{if(xi[Uo]===Yr)return;const Qo=Yr.drag===U,br=Qo?Bs:mo,ta=Qo?U.getPlaceholderElement():Yr.drag.getRootElement();Yr.offset+=br,Xt?(ta.style.transform=Cs(`translate3d(${Math.round(Yr.offset)}px, 0, 0)`,Yr.initialTransform),P(Yr.clientRect,0,br)):(ta.style.transform=Cs(`translate3d(0, ${Math.round(Yr.offset)}px, 0)`,Yr.initialTransform),P(Yr.clientRect,br,0))}),this._previousSwap.overlaps=Q(Jr,L,ie),this._previousSwap.drag=li.drag,this._previousSwap.delta=Xt?Te.x:Te.y,{previousIndex:An,currentIndex:Lt}}enter(U,L,ie,Te){const ct=null==Te||Te<0?this._getItemIndexFromPointerPosition(U,L,ie):Te,Lt=this._activeDraggables,Xt=Lt.indexOf(U),An=U.getPlaceholderElement();let li=Lt[ct];if(li===U&&(li=Lt[ct+1]),!li&&(null==ct||-1===ct||ct<Lt.length-1)&&this._shouldEnterAsFirstChild(L,ie)&&(li=Lt[0]),Xt>-1&&Lt.splice(Xt,1),li&&!this._dragDropRegistry.isDragging(li)){const nr=li.getRootElement();nr.parentElement.insertBefore(An,nr),Lt.splice(ct,0,U)}else(0,hr.i8)(this._element).appendChild(An),Lt.push(U);An.style.transform="",this._cacheItemPositions()}withItems(U){this._activeDraggables=U.slice(),this._cacheItemPositions()}withSortPredicate(U){this._sortPredicate=U}reset(){this._activeDraggables.forEach(U=>{const L=U.getRootElement();if(L){const ie=this._itemPositions.find(Te=>Te.drag===U)?.initialTransform;L.style.transform=ie||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(U){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(ie=>ie.drag===U)}updateOnScroll(U,L){this._itemPositions.forEach(({clientRect:ie})=>{P(ie,U,L)}),this._itemPositions.forEach(({drag:ie})=>{this._dragDropRegistry.isDragging(ie)&&ie._sortFromLastPointerPosition()})}_cacheItemPositions(){const U="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(L=>{const ie=L.getVisibleElement();return{drag:L,offset:0,initialTransform:ie.style.transform||"",clientRect:K(ie)}}).sort((L,ie)=>U?L.clientRect.left-ie.clientRect.left:L.clientRect.top-ie.clientRect.top)}_getItemOffsetPx(U,L,ie){const Te="horizontal"===this.orientation;let ct=Te?L.left-U.left:L.top-U.top;return-1===ie&&(ct+=Te?L.width-U.width:L.height-U.height),ct}_getSiblingOffsetPx(U,L,ie){const Te="horizontal"===this.orientation,ct=L[U].clientRect,Lt=L[U+-1*ie];let Xt=ct[Te?"width":"height"]*ie;if(Lt){const An=Te?"left":"top",li=Te?"right":"bottom";-1===ie?Xt-=Lt.clientRect[An]-ct[li]:Xt+=ct[An]-Lt.clientRect[li]}return Xt}_shouldEnterAsFirstChild(U,L){if(!this._activeDraggables.length)return!1;const ie=this._itemPositions,Te="horizontal"===this.orientation;if(ie[0].drag!==this._activeDraggables[0]){const Lt=ie[ie.length-1].clientRect;return Te?U>=Lt.right:L>=Lt.bottom}{const Lt=ie[0].clientRect;return Te?U<=Lt.left:L<=Lt.top}}_getItemIndexFromPointerPosition(U,L,ie,Te){const ct="horizontal"===this.orientation,Lt=this._itemPositions.findIndex(({drag:Xt,clientRect:An})=>Xt!==U&&((!Te||Xt!==this._previousSwap.drag||!this._previousSwap.overlaps||(ct?Te.x:Te.y)!==this._previousSwap.delta)&&(ct?L>=Math.floor(An.left)&&L<Math.floor(An.right):ie>=Math.floor(An.top)&&ie<Math.floor(An.bottom))));return-1!==Lt&&this._sortPredicate(Lt,U)?Lt:-1}}var Gi=function(Me){return Me[Me.NONE=0]="NONE",Me[Me.UP=1]="UP",Me[Me.DOWN=2]="DOWN",Me}(Gi||{}),yr=function(Me){return Me[Me.NONE=0]="NONE",Me[Me.LEFT=1]="LEFT",Me[Me.RIGHT=2]="RIGHT",Me}(yr||{});class Ts{constructor(U,L,ie,Te,ct){this._dragDropRegistry=L,this._ngZone=Te,this._viewportRuler=ct,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new q.B,this.entered=new q.B,this.exited=new q.B,this.dropped=new q.B,this.sorted=new q.B,this.receivingStarted=new q.B,this.receivingStopped=new q.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=oe.yU.EMPTY,this._verticalScrollDirection=Gi.NONE,this._horizontalScrollDirection=yr.NONE,this._stopScrollTimers=new q.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,no.Y)(0,Ss.X).pipe((0,fo.Q)(this._stopScrollTimers)).subscribe(()=>{const Lt=this._scrollNode,Xt=this.autoScrollStep;this._verticalScrollDirection===Gi.UP?Lt.scrollBy(0,-Xt):this._verticalScrollDirection===Gi.DOWN&&Lt.scrollBy(0,Xt),this._horizontalScrollDirection===yr.LEFT?Lt.scrollBy(-Xt,0):this._horizontalScrollDirection===yr.RIGHT&&Lt.scrollBy(Xt,0)})},this.element=(0,hr.i8)(U),this._document=ie,this.withScrollableParents([this.element]),L.registerDropContainer(this),this._parentPositions=new He(ie),this._sortStrategy=new Ci(this.element,L),this._sortStrategy.withSortPredicate((Lt,Xt)=>this.sortPredicate(Lt,Xt,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(U,L,ie,Te){this._draggingStarted(),null==Te&&this.sortingDisabled&&(Te=this._draggables.indexOf(U)),this._sortStrategy.enter(U,L,ie,Te),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:U,container:this,currentIndex:this.getItemIndex(U)})}exit(U){this._reset(),this.exited.next({item:U,container:this})}drop(U,L,ie,Te,ct,Lt,Xt,An={}){this._reset(),this.dropped.next({item:U,currentIndex:L,previousIndex:ie,container:this,previousContainer:Te,isPointerOverContainer:ct,distance:Lt,dropPoint:Xt,event:An})}withItems(U){const L=this._draggables;return this._draggables=U,U.forEach(ie=>ie._withDropContainer(this)),this.isDragging()&&(L.filter(Te=>Te.isDragging()).every(Te=>-1===U.indexOf(Te))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(U){return this._sortStrategy.direction=U,this}connectedTo(U){return this._siblings=U.slice(),this}withOrientation(U){return this._sortStrategy.orientation=U,this}withScrollableParents(U){const L=(0,hr.i8)(this.element);return this._scrollableElements=-1===U.indexOf(L)?[L,...U]:U.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(U){return this._isDragging?this._sortStrategy.getItemIndex(U):this._draggables.indexOf(U)}isReceiving(){return this._activeSiblings.size>0}_sortItem(U,L,ie,Te){if(this.sortingDisabled||!this._domRect||!fe(this._domRect,.05,L,ie))return;const ct=this._sortStrategy.sort(U,L,ie,Te);ct&&this.sorted.next({previousIndex:ct.previousIndex,currentIndex:ct.currentIndex,container:this,item:U})}_startScrollingIfNecessary(U,L){if(this.autoScrollDisabled)return;let ie,Te=Gi.NONE,ct=yr.NONE;if(this._parentPositions.positions.forEach((Lt,Xt)=>{Xt===this._document||!Lt.clientRect||ie||fe(Lt.clientRect,.05,U,L)&&([Te,ct]=function lo(Me,U,L,ie,Te){const ct=Ls(U,Te),Lt=qs(U,ie);let Xt=Gi.NONE,An=yr.NONE;if(ct){const li=Me.scrollTop;ct===Gi.UP?li>0&&(Xt=Gi.UP):Me.scrollHeight-li>Me.clientHeight&&(Xt=Gi.DOWN)}if(Lt){const li=Me.scrollLeft;"rtl"===L?Lt===yr.RIGHT?li<0&&(An=yr.RIGHT):Me.scrollWidth+li>Me.clientWidth&&(An=yr.LEFT):Lt===yr.LEFT?li>0&&(An=yr.LEFT):Me.scrollWidth-li>Me.clientWidth&&(An=yr.RIGHT)}return[Xt,An]}(Xt,Lt.clientRect,this._sortStrategy.direction,U,L),(Te||ct)&&(ie=Xt))}),!Te&&!ct){const{width:Lt,height:Xt}=this._viewportRuler.getViewportSize(),An={width:Lt,height:Xt,top:0,right:Lt,bottom:Xt,left:0};Te=Ls(An,L),ct=qs(An,U),ie=window}ie&&(Te!==this._verticalScrollDirection||ct!==this._horizontalScrollDirection||ie!==this._scrollNode)&&(this._verticalScrollDirection=Te,this._horizontalScrollDirection=ct,this._scrollNode=ie,(Te||ct)&&ie?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const U=(0,hr.i8)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=U.msScrollSnapType||U.scrollSnapType||"",U.scrollSnapType=U.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const U=(0,hr.i8)(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(U).clientRect}_reset(){this._isDragging=!1;const U=(0,hr.i8)(this.element).style;U.scrollSnapType=U.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(L=>L._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(U,L){return null!=this._domRect&&Q(this._domRect,U,L)}_getSiblingContainerFromPosition(U,L,ie){return this._siblings.find(Te=>Te._canReceive(U,L,ie))}_canReceive(U,L,ie){if(!this._domRect||!Q(this._domRect,L,ie)||!this.enterPredicate(U,this))return!1;const Te=this._getShadowRoot().elementFromPoint(L,ie);if(!Te)return!1;const ct=(0,hr.i8)(this.element);return Te===ct||ct.contains(Te)}_startReceiving(U,L){const ie=this._activeSiblings;!ie.has(U)&&L.every(Te=>this.enterPredicate(Te,this)||this._draggables.indexOf(Te)>-1)&&(ie.add(U),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:U,receiver:this,items:L}))}_stopReceiving(U){this._activeSiblings.delete(U),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:U,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(U=>{if(this.isDragging()){const L=this._parentPositions.handleScroll(U);L&&this._sortStrategy.updateOnScroll(L.top,L.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const U=(0,se.KT)((0,hr.i8)(this.element));this._cachedShadowRoot=U||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const U=this._sortStrategy.getActiveItemsSnapshot().filter(L=>L.isDragging());this._siblings.forEach(L=>L._startReceiving(this,U))}}function Ls(Me,U){const{top:L,bottom:ie,height:Te}=Me,ct=.05*Te;return U>=L-ct&&U<=L+ct?Gi.UP:U>=ie-ct&&U<=ie+ct?Gi.DOWN:Gi.NONE}function qs(Me,U){const{left:L,right:ie,width:Te}=Me,ct=.05*Te;return U>=L-ct&&U<=L+ct?yr.LEFT:U>=ie-ct&&U<=ie+ct?yr.RIGHT:yr.NONE}const ar=(0,se.BQ)({passive:!1,capture:!0}),Zo=new Set;let Fo=(()=>{class Me{static#e=this.\u0275fac=function(ie){return new(ie||Me)};static#t=this.\u0275cmp=b.VBU({type:Me,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[b.aNF],decls:0,vars:0,template:function(ie,Te){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0})}return Me})(),Ha=(()=>{class Me{constructor(L,ie){this._ngZone=L,this._appRef=(0,b.WQX)(b.o8S),this._environmentInjector=(0,b.WQX)(b.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=(0,b.vPA)([]),this._globalListeners=new Map,this._draggingPredicate=Te=>Te.isDragging(),this.pointerMove=new q.B,this.pointerUp=new q.B,this.scroll=new q.B,this._preventDefaultWhileDragging=Te=>{this._activeDragInstances().length>0&&Te.preventDefault()},this._persistentTouchmoveListener=Te=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&Te.preventDefault(),this.pointerMove.next(Te))},this._document=ie}registerDropContainer(L){this._dropInstances.has(L)||this._dropInstances.add(L)}registerDragItem(L){this._dragInstances.add(L),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ar)})}removeDropContainer(L){this._dropInstances.delete(L)}removeDragItem(L){this._dragInstances.delete(L),this.stopDragging(L),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ar)}startDragging(L,ie){if(!(this._activeDragInstances().indexOf(L)>-1)&&(this._loadResets(),this._activeDragInstances.update(Te=>[...Te,L]),1===this._activeDragInstances().length)){const Te=ie.type.startsWith("touch");this._globalListeners.set(Te?"touchend":"mouseup",{handler:ct=>this.pointerUp.next(ct),options:!0}).set("scroll",{handler:ct=>this.scroll.next(ct),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ar}),Te||this._globalListeners.set("mousemove",{handler:ct=>this.pointerMove.next(ct),options:ar}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((ct,Lt)=>{this._document.addEventListener(Lt,ct.handler,ct.options)})})}}stopDragging(L){this._activeDragInstances.update(ie=>{const Te=ie.indexOf(L);return Te>-1?(ie.splice(Te,1),[...ie]):ie}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(L){return this._activeDragInstances().indexOf(L)>-1}scrolled(L){const ie=[this.scroll];return L&&L!==this._document&&ie.push(new zr.c(Te=>this._ngZone.runOutsideAngular(()=>{const Lt=Xt=>{this._activeDragInstances().length&&Te.next(Xt)};return L.addEventListener("scroll",Lt,!0),()=>{L.removeEventListener("scroll",Lt,!0)}}))),(0,Mr.h)(...ie)}ngOnDestroy(){this._dragInstances.forEach(L=>this.removeDragItem(L)),this._dropInstances.forEach(L=>this.removeDropContainer(L)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((L,ie)=>{this._document.removeEventListener(ie,L.handler,L.options)}),this._globalListeners.clear()}_loadResets(){if(!Zo.has(this._appRef)){Zo.add(this._appRef);const L=(0,b.a0P)(Fo,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Zo.delete(this._appRef),0===Zo.size&&L.destroy()})}}static#e=this.\u0275fac=function(ie){return new(ie||Me)(b.KVO(b.SKi),b.KVO(e.qQ))};static#t=this.\u0275prov=b.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})();const Wa={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Lo=(()=>{class Me{constructor(L,ie,Te,ct){this._document=L,this._ngZone=ie,this._viewportRuler=Te,this._dragDropRegistry=ct}createDrag(L,ie=Wa){return new Nt(L,ie,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(L){return new Ts(L,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(ie){return new(ie||Me)(b.KVO(e.qQ),b.KVO(b.SKi),b.KVO(X.Xj),b.KVO(Ha))};static#t=this.\u0275prov=b.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})(),la=(()=>{class Me{static#e=this.\u0275fac=function(ie){return new(ie||Me)};static#t=this.\u0275mod=b.$C({type:Me});static#n=this.\u0275inj=b.G2t({providers:[Lo],imports:[X.Gj]})}return Me})();var ca=p(7683);let tl=(()=>{class Me{static forRoot(){return{ngModule:Me,providers:[j,H.r]}}static#e=this.\u0275fac=function(ie){return new(ie||Me)};static#t=this.\u0275mod=b.$C({type:Me});static#n=this.\u0275inj=b.G2t({imports:[e.MD,d.iI,f.YN,f.X1,G.UN,ca.W,e.MD,f.YN,f.X1,d.iI,la]})}return Me})()},6067:(_n,We,p)=>{"use strict";p.d(We,{z:()=>G});var e=p(3953),f=p(177);const d=H=>({hide:H});let G=(()=>{class H{constructor(D){this.cd=D,this._loading=!0}set loading(D){this._loading=D,this.cd.detectChanges()}get loading(){return this._loading}static#e=this.\u0275fac=function(x){return new(x||H)(e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:H,selectors:[["app-loading"]],inputs:{loading:"loading"},decls:2,vars:3,consts:[[1,"progress",3,"ngClass"],[1,"loading"]],template:function(x,k){1&x&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.k0s()),2&x&&e.Y8G("ngClass",e.eq3(1,d,!k.loading))},dependencies:[f.YU],styles:['[_nghost-%COMP%]{position:fixed;width:100%;top:0;z-index:4}.hide[_ngcontent-%COMP%]{display:none!important}.progress[_ngcontent-%COMP%]{position:relative;height:4px;display:block;width:100%;background-color:#dc3545;border-radius:2px;background-clip:padding-box;overflow:hidden}.progress[_ngcontent-%COMP%]   .determinate[_ngcontent-%COMP%]{position:absolute;background-color:inherit;top:0;bottom:0;background-color:#198754;transition:width .3s linear}.progress[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{background-color:#198754}.progress[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:_ngcontent-%COMP%_indeterminate 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.progress[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:_ngcontent-%COMP%_indeterminate-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes _ngcontent-%COMP%_indeterminate{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes _ngcontent-%COMP%_indeterminate-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}'],changeDetection:0})}return H})()},7683:(_n,We,p)=>{"use strict";p.d(We,{W:()=>H});var e=p(177),f=p(3953);const d=["toggleOption"],G=b=>({"text-muted":b});let H=(()=>{class b{constructor(){this.themeToggleDark=new f.bkB}toggle(){this.toggleOption.nativeElement.blur(),this.themeToggleDark.emit()}static#e=this.\u0275fac=function(k){return new(k||b)};static#t=this.\u0275cmp=f.VBU({type:b,selectors:[["app-theme-option"]],viewQuery:function(k,j){if(1&k&&f.GBs(d,5),2&k){let X;f.mGM(X=f.lsd())&&(j.toggleOption=X.first)}},inputs:{darkMode:"darkMode",label:"label"},outputs:{themeToggleDark:"themeToggleDark"},standalone:!0,features:[f.aNF],decls:6,vars:5,consts:[["toggleOption",""],[1,"toggle-check","toggle-switch"],["for","flexSwitchCheckChecked",1,"form-check-label",3,"ngClass"],["type","checkbox","role","switch","id","flexSwitchCheckChecked",1,"toggle-input",3,"click","checked"]],template:function(k,j){if(1&k){const X=f.RV6();f.j41(0,"div",1)(1,"label",2),f.EFF(2),f.k0s(),f.EFF(3," \xa0 \xa0 "),f.j41(4,"input",3,0),f.bIt("click",function(){return f.eBV(X),f.Njj(j.toggle())}),f.k0s()()}2&k&&(f.R7$(),f.Y8G("ngClass",f.eq3(3,G,!j.darkMode)),f.R7$(),f.JRh(j.label),f.R7$(2),f.Y8G("checked",j.darkMode))},dependencies:[e.MD,e.YU],styles:["[_nghost-%COMP%]{padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);display:block}.toggle-switch[_ngcontent-%COMP%]   .toggle-input[_ngcontent-%COMP%]{--bs-form-switch-bg: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e\");width:2em;background-image:var(--bs-form-switch-bg);background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}.toggle-input[_ngcontent-%COMP%]{--bs-form-check-bg: var(--bs-body-bg);flex-shrink:0;width:1em;height:1em;margin-top:.25em;vertical-align:top;appearance:none;background-color:var(--bs-form-check-bg);background-image:var(--bs-form-check-bg-image);background-repeat:no-repeat;background-position:center;background-size:contain;border:var(--bs-border-width) solid var(--bs-border-color);-webkit-print-color-adjust:exact;print-color-adjust:exact}.toggle-switch[_ngcontent-%COMP%]   .toggle-input[_ngcontent-%COMP%]:checked{background-position:right center;--bs-form-switch-bg: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e\")}.toggle-input[_ngcontent-%COMP%]:checked[type=checkbox]{--bs-form-check-bg-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e\")}.toggle-switch[_ngcontent-%COMP%]   .toggle-input[_ngcontent-%COMP%]{--bs-form-switch-bg: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e\");width:2em;background-image:var(--bs-form-switch-bg);background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}.toggle-input[_ngcontent-%COMP%]:checked{background-color:#909dab1f;border-color:#909dab1f}.toggle-input[type=checkbox][_ngcontent-%COMP%]{border-radius:.25em}.toggle-switch[_ngcontent-%COMP%]{padding-left:0;display:flex;flex-direction:row;flex-wrap:nowrap}"]})}return b})()},1223:(_n,We,p)=>{"use strict";p.d(We,{d:()=>H});var e=p(1653),d=p(3953);const G=["baBackTop"];let H=(()=>{class b{constructor(){this.position=400,this.showSpeed=500,this.moveSpeed=1e3}ngAfterViewInit(){this._onWindowScroll()}_onClick(){return e("html, body").animate({scrollTop:0},{duration:this.moveSpeed}),!1}_onWindowScroll(){const x=this._selector.nativeElement;window.scrollY>this.position?e(x).fadeIn(this.showSpeed):e(x).fadeOut(this.showSpeed)}static#e=this.\u0275fac=function(k){return new(k||b)};static#t=this.\u0275cmp=d.VBU({type:b,selectors:[["app-back-top"]],viewQuery:function(k,j){if(1&k&&d.GBs(G,7),2&k){let X;d.mGM(X=d.lsd())&&(j._selector=X.first)}},hostBindings:function(k,j){1&k&&d.bIt("click",function(){return j._onClick()})("scroll",function(){return j._onWindowScroll()},!1,d.tSv)},inputs:{position:"position",showSpeed:"showSpeed",moveSpeed:"moveSpeed"},decls:2,vars:0,consts:[["baBackTop",""],["title","Back to Top",1,"fa","fa-circle-up","back-top","ba-back-top"]],template:function(k,j){1&k&&d.nrm(0,"i",1,0)},styles:[".ba-back-top[_ngcontent-%COMP%]{position:fixed;cursor:pointer;z-index:9999;display:none;text-decoration:none;right:40px;bottom:40px!important;font-size:45px;text-align:center;opacity:.4;color:#fff;border-radius:50%;line-height:40px;background:var(--bs-primary)}.ba-back-top[_ngcontent-%COMP%]:hover{opacity:.8}"]})}return b})()},2275:(_n,We,p)=>{"use strict";p.d(We,{$:()=>H});var e=p(3953);const f=["*"];function d(b,D){if(1&b&&(e.j41(0,"h4",3),e.EFF(1),e.k0s()),2&b){const x=e.XpG();e.R7$(),e.SpI(" ",x.title," ")}}function G(b,D){if(1&b&&(e.j41(0,"div",5),e.EFF(1),e.k0s()),2&b){const x=e.XpG();e.R7$(),e.SpI(" ",x.footer," ")}}let H=(()=>{class b{static#e=this.\u0275fac=function(k){return new(k||b)};static#t=this.\u0275cmp=e.VBU({type:b,selectors:[["app-ba-card"]],inputs:{title:"title",baCardClass:"baCardClass",cardType:"cardType",header:"header",footer:"footer",scrollBar:"scrollBar",margin:"margin",padding:"padding"},ngContentSelectors:f,decls:8,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"card-block"],[1,"card-title"],[1,"card-text"],[1,"card-footer"]],template:function(k,j){1&k&&(e.NAR(),e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.k0s(),e.j41(3,"div",2),e.DNE(4,d,2,1,"h4",3),e.j41(5,"p",4),e.SdG(6),e.k0s()(),e.DNE(7,G,2,1,"div",5),e.k0s()),2&k&&(e.R7$(2),e.SpI(" ",j.header," "),e.R7$(),e.xc7("margin",j.margin,"rem")("padding",j.padding,"rem"),e.R7$(),e.vxM(j.title?4:-1),e.R7$(3),e.vxM(j.footer?7:-1))},styles:[".card-block[_ngcontent-%COMP%]{margin:1rem}.panel-default[_ngcontent-%COMP%]{border-color:#ddd}.panel[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#fff;border:1px solid transparent;border-radius:4px;box-shadow:0 1px 1px #0000000d}.panel-default[_ngcontent-%COMP%] > .panel-heading[_ngcontent-%COMP%]{color:#333;background-color:#f5f5f5;border-color:#ddd}.panel-heading[_ngcontent-%COMP%]{padding:10px 15px;border-bottom:1px solid transparent;border-top-left-radius:3px;border-top-right-radius:3px}.panel-body[_ngcontent-%COMP%]{padding:15px}"]})}return b})()},5159:(_n,We,p)=>{"use strict";function e(s,C){let I;if(void 0===C)for(const V of s)null!=V&&(I<V||void 0===I&&V>=V)&&(I=V);else{let V=-1;for(let ce of s)null!=(ce=C(ce,++V,s))&&(I<ce||void 0===I&&ce>=ce)&&(I=ce)}return I}function f(s){return s}p.d(We,{h:()=>Ec});var d=1,G=2,H=3,b=4,D=1e-6;function x(s){return"translate("+s+",0)"}function k(s){return"translate(0,"+s+")"}function j(s){return C=>+s(C)}function X(s,C){return C=Math.max(0,s.bandwidth()-2*C)/2,s.round()&&(C=Math.round(C)),I=>+s(I)+C}function se(){return!this.__axis}function q(s,C){var I=[],V=null,ce=null,xe=6,De=6,Qe=3,Ze=typeof window<"u"&&window.devicePixelRatio>1?0:.5,it=s===d||s===b?-1:1,kt=s===b||s===G?"x":"y",Zt=s===d||s===H?x:k;function zt(Dn){var Wi=V??(C.ticks?C.ticks.apply(C,I):C.domain()),Sr=ce??(C.tickFormat?C.tickFormat.apply(C,I):f),yn=Math.max(xe,0)+Qe,bn=C.range(),hi=+bn[0]+Ze,Jn=+bn[bn.length-1]+Ze,Ri=(C.bandwidth?X:j)(C.copy(),Ze),yi=Dn.selection?Dn.selection():Dn,lr=yi.selectAll(".domain").data([null]),Xr=yi.selectAll(".tick").data(Wi,C).order(),Dr=Xr.exit(),ms=Xr.enter().append("g").attr("class","tick"),kr=Xr.select("line"),pi=Xr.select("text");lr=lr.merge(lr.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Xr=Xr.merge(ms),kr=kr.merge(ms.append("line").attr("stroke","currentColor").attr(kt+"2",it*xe)),pi=pi.merge(ms.append("text").attr("fill","currentColor").attr(kt,it*yn).attr("dy",s===d?"0em":s===H?"0.71em":"0.32em")),Dn!==yi&&(lr=lr.transition(Dn),Xr=Xr.transition(Dn),kr=kr.transition(Dn),pi=pi.transition(Dn),Dr=Dr.transition(Dn).attr("opacity",D).attr("transform",function(jr){return isFinite(jr=Ri(jr))?Zt(jr+Ze):this.getAttribute("transform")}),ms.attr("opacity",D).attr("transform",function(jr){var ir=this.parentNode.__axis;return Zt((ir&&isFinite(ir=ir(jr))?ir:Ri(jr))+Ze)})),Dr.remove(),lr.attr("d",s===b||s===G?De?"M"+it*De+","+hi+"H"+Ze+"V"+Jn+"H"+it*De:"M"+Ze+","+hi+"V"+Jn:De?"M"+hi+","+it*De+"V"+Ze+"H"+Jn+"V"+it*De:"M"+hi+","+Ze+"H"+Jn),Xr.attr("opacity",1).attr("transform",function(jr){return Zt(Ri(jr)+Ze)}),kr.attr(kt+"2",it*xe),pi.attr(kt,it*yn).text(Sr),yi.filter(se).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",s===G?"start":s===b?"end":"middle"),yi.each(function(){this.__axis=Ri})}return zt.scale=function(Dn){return arguments.length?(C=Dn,zt):C},zt.ticks=function(){return I=Array.from(arguments),zt},zt.tickArguments=function(Dn){return arguments.length?(I=null==Dn?[]:Array.from(Dn),zt):I.slice()},zt.tickValues=function(Dn){return arguments.length?(V=null==Dn?null:Array.from(Dn),zt):V&&V.slice()},zt.tickFormat=function(Dn){return arguments.length?(ce=Dn,zt):ce},zt.tickSize=function(Dn){return arguments.length?(xe=De=+Dn,zt):xe},zt.tickSizeInner=function(Dn){return arguments.length?(xe=+Dn,zt):xe},zt.tickSizeOuter=function(Dn){return arguments.length?(De=+Dn,zt):De},zt.tickPadding=function(Dn){return arguments.length?(Qe=+Dn,zt):Qe},zt.offset=function(Dn){return arguments.length?(Ze=+Dn,zt):Ze},zt}function ue(s){return q(H,s)}function Ge(s){return q(b,s)}function Ee(){}function Fe(s){return null==s?Ee:function(){return this.querySelector(s)}}function Ye(){return[]}function nt(s){return null==s?Ye:function(){return this.querySelectorAll(s)}}function It(s){return function(){return this.matches(s)}}function Bt(s){return function(C){return C.matches(s)}}var wt=Array.prototype.find;function tn(){return this.firstElementChild}var On=Array.prototype.filter;function Tn(){return Array.from(this.children)}function bt(s){return new Array(s.length)}function xt(s,C){this.ownerDocument=s.ownerDocument,this.namespaceURI=s.namespaceURI,this._next=null,this._parent=s,this.__data__=C}function $t(s,C,I,V,ce,xe){for(var Qe,De=0,Ze=C.length,it=xe.length;De<it;++De)(Qe=C[De])?(Qe.__data__=xe[De],V[De]=Qe):I[De]=new xt(s,xe[De]);for(;De<Ze;++De)(Qe=C[De])&&(ce[De]=Qe)}function Bn(s,C,I,V,ce,xe,De){var Qe,Ze,Dn,it=new Map,kt=C.length,Zt=xe.length,zt=new Array(kt);for(Qe=0;Qe<kt;++Qe)(Ze=C[Qe])&&(zt[Qe]=Dn=De.call(Ze,Ze.__data__,Qe,C)+"",it.has(Dn)?ce[Qe]=Ze:it.set(Dn,Ze));for(Qe=0;Qe<Zt;++Qe)Dn=De.call(s,xe[Qe],Qe,xe)+"",(Ze=it.get(Dn))?(V[Qe]=Ze,Ze.__data__=xe[Qe],it.delete(Dn)):I[Qe]=new xt(s,xe[Qe]);for(Qe=0;Qe<kt;++Qe)(Ze=C[Qe])&&it.get(zt[Qe])===Ze&&(ce[Qe]=Ze)}function Hn(s){return s.__data__}function B(s){return"object"==typeof s&&"length"in s?s:Array.from(s)}function un(s,C){return s<C?-1:s>C?1:s>=C?0:NaN}xt.prototype={constructor:xt,appendChild:function(s){return this._parent.insertBefore(s,this._next)},insertBefore:function(s,C){return this._parent.insertBefore(s,C)},querySelector:function(s){return this._parent.querySelector(s)},querySelectorAll:function(s){return this._parent.querySelectorAll(s)}};var gt="http://www.w3.org/1999/xhtml";const dt={svg:"http://www.w3.org/2000/svg",xhtml:gt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sn(s){var C=s+="",I=C.indexOf(":");return I>=0&&"xmlns"!==(C=s.slice(0,I))&&(s=s.slice(I+1)),dt.hasOwnProperty(C)?{space:dt[C],local:s}:s}function on(s){return function(){this.removeAttribute(s)}}function hn(s){return function(){this.removeAttributeNS(s.space,s.local)}}function _i(s,C){return function(){this.setAttribute(s,C)}}function _e(s,C){return function(){this.setAttributeNS(s.space,s.local,C)}}function ki(s,C){return function(){var I=C.apply(this,arguments);null==I?this.removeAttribute(s):this.setAttribute(s,I)}}function ci(s,C){return function(){var I=C.apply(this,arguments);null==I?this.removeAttributeNS(s.space,s.local):this.setAttributeNS(s.space,s.local,I)}}function cs(s){return s.ownerDocument&&s.ownerDocument.defaultView||s.document&&s||s.defaultView}function Cr(s){return function(){this.style.removeProperty(s)}}function wr(s,C,I){return function(){this.style.setProperty(s,C,I)}}function Ht(s,C,I){return function(){var V=C.apply(this,arguments);null==V?this.style.removeProperty(s):this.style.setProperty(s,V,I)}}function re(s,C){return s.style.getPropertyValue(C)||cs(s).getComputedStyle(s,null).getPropertyValue(C)}function Se(s){return function(){delete this[s]}}function rt(s,C){return function(){this[s]=C}}function yt(s,C){return function(){var I=C.apply(this,arguments);null==I?delete this[s]:this[s]=I}}function mt(s){return s.trim().split(/^|\s+/)}function Kt(s){return s.classList||new Un(s)}function Un(s){this._node=s,this._names=mt(s.getAttribute("class")||"")}function jn(s,C){for(var I=Kt(s),V=-1,ce=C.length;++V<ce;)I.add(C[V])}function Qt(s,C){for(var I=Kt(s),V=-1,ce=C.length;++V<ce;)I.remove(C[V])}function dn(s){return function(){jn(this,s)}}function Mn(s){return function(){Qt(this,s)}}function si(s,C){return function(){(C.apply(this,arguments)?jn:Qt)(this,s)}}function Ar(){this.textContent=""}function Zi(s){return function(){this.textContent=s}}function oi(s){return function(){var C=s.apply(this,arguments);this.textContent=C??""}}function us(){this.innerHTML=""}function Zr(s){return function(){this.innerHTML=s}}function ys(s){return function(){var C=s.apply(this,arguments);this.innerHTML=C??""}}function Hs(){this.nextSibling&&this.parentNode.appendChild(this)}function bs(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zn(s){return function(){var C=this.ownerDocument,I=this.namespaceURI;return I===gt&&C.documentElement.namespaceURI===gt?C.createElement(s):C.createElementNS(I,s)}}function Ve(s){return function(){return this.ownerDocument.createElementNS(s.space,s.local)}}function et(s){var C=sn(s);return(C.local?Ve:zn)(C)}function Wn(){return null}function Oi(){var s=this.parentNode;s&&s.removeChild(this)}function Ii(){var s=this.cloneNode(!1),C=this.parentNode;return C?C.insertBefore(s,this.nextSibling):s}function $r(){var s=this.cloneNode(!0),C=this.parentNode;return C?C.insertBefore(s,this.nextSibling):s}function i(s){return function(){var C=this.__on;if(C){for(var xe,I=0,V=-1,ce=C.length;I<ce;++I)xe=C[I],s.type&&xe.type!==s.type||xe.name!==s.name?C[++V]=xe:this.removeEventListener(xe.type,xe.listener,xe.options);++V?C.length=V:delete this.__on}}}function u(s,C,I){return function(){var ce,V=this.__on,xe=function Or(s){return function(C){s.call(this,C,this.__data__)}}(C);if(V)for(var De=0,Qe=V.length;De<Qe;++De)if((ce=V[De]).type===s.type&&ce.name===s.name)return this.removeEventListener(ce.type,ce.listener,ce.options),this.addEventListener(ce.type,ce.listener=xe,ce.options=I),void(ce.value=C);this.addEventListener(s.type,xe,I),ce={type:s.type,name:s.name,value:C,listener:xe,options:I},V?V.push(ce):this.__on=[ce]}}function S(s,C,I){var V=cs(s),ce=V.CustomEvent;"function"==typeof ce?ce=new ce(C,I):(ce=V.document.createEvent("Event"),I?(ce.initEvent(C,I.bubbles,I.cancelable),ce.detail=I.detail):ce.initEvent(C,!1,!1)),s.dispatchEvent(ce)}function A(s,C){return function(){return S(this,s,C)}}function W(s,C){return function(){return S(this,s,C.apply(this,arguments))}}Un.prototype={add:function(s){this._names.indexOf(s)<0&&(this._names.push(s),this._node.setAttribute("class",this._names.join(" ")))},remove:function(s){var C=this._names.indexOf(s);C>=0&&(this._names.splice(C,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(s){return this._names.indexOf(s)>=0}};var he=[null];function be(s,C){this._groups=s,this._parents=C}function ve(){return new be([[document.documentElement]],he)}be.prototype=ve.prototype={constructor:be,select:function ye(s){"function"!=typeof s&&(s=Fe(s));for(var C=this._groups,I=C.length,V=new Array(I),ce=0;ce<I;++ce)for(var Ze,it,xe=C[ce],De=xe.length,Qe=V[ce]=new Array(De),kt=0;kt<De;++kt)(Ze=xe[kt])&&(it=s.call(Ze,Ze.__data__,kt,xe))&&("__data__"in Ze&&(it.__data__=Ze.__data__),Qe[kt]=it);return new be(V,this._parents)},selectAll:function Tt(s){s="function"==typeof s?function m(s){return function(){return function ke(s){return null==s?[]:Array.isArray(s)?s:Array.from(s)}(s.apply(this,arguments))}}(s):nt(s);for(var C=this._groups,I=C.length,V=[],ce=[],xe=0;xe<I;++xe)for(var Ze,De=C[xe],Qe=De.length,it=0;it<Qe;++it)(Ze=De[it])&&(V.push(s.call(Ze,Ze.__data__,it,De)),ce.push(Ze));return new be(V,ce)},selectChild:function Pn(s){return this.select(null==s?tn:function mn(s){return function(){return wt.call(this.children,s)}}("function"==typeof s?s:Bt(s)))},selectChildren:function nn(s){return this.selectAll(null==s?Tn:function Cn(s){return function(){return On.call(this.children,s)}}("function"==typeof s?s:Bt(s)))},filter:function tt(s){"function"!=typeof s&&(s=It(s));for(var C=this._groups,I=C.length,V=new Array(I),ce=0;ce<I;++ce)for(var Ze,xe=C[ce],De=xe.length,Qe=V[ce]=[],it=0;it<De;++it)(Ze=xe[it])&&s.call(Ze,Ze.__data__,it,xe)&&Qe.push(Ze);return new be(V,this._parents)},data:function Le(s,C){if(!arguments.length)return Array.from(this,Hn);var I=C?Bn:$t,V=this._parents,ce=this._groups;"function"!=typeof s&&(s=function Jt(s){return function(){return s}}(s));for(var xe=ce.length,De=new Array(xe),Qe=new Array(xe),Ze=new Array(xe),it=0;it<xe;++it){var kt=V[it],Zt=ce[it],zt=Zt.length,Dn=B(s.call(kt,kt&&kt.__data__,it,V)),Wi=Dn.length,Sr=Qe[it]=new Array(Wi),yn=De[it]=new Array(Wi);I(kt,Zt,Sr,yn,Ze[it]=new Array(zt),Dn,C);for(var Ri,yi,hi=0,Jn=0;hi<Wi;++hi)if(Ri=Sr[hi]){for(hi>=Jn&&(Jn=hi+1);!(yi=yn[Jn])&&++Jn<Wi;);Ri._next=yi||null}}return(De=new be(De,V))._enter=Qe,De._exit=Ze,De},enter:function Rt(){return new be(this._enter||this._groups.map(bt),this._parents)},exit:function J(){return new be(this._exit||this._groups.map(bt),this._parents)},join:function Pe(s,C,I){var V=this.enter(),ce=this,xe=this.exit();return"function"==typeof s?(V=s(V))&&(V=V.selection()):V=V.append(s+""),null!=C&&(ce=C(ce))&&(ce=ce.selection()),null==I?xe.remove():I(xe),V&&ce?V.merge(ce).order():ce},merge:function $e(s){for(var C=s.selection?s.selection():s,I=this._groups,V=C._groups,ce=I.length,De=Math.min(ce,V.length),Qe=new Array(ce),Ze=0;Ze<De;++Ze)for(var Dn,it=I[Ze],kt=V[Ze],Zt=it.length,zt=Qe[Ze]=new Array(Zt),Wi=0;Wi<Zt;++Wi)(Dn=it[Wi]||kt[Wi])&&(zt[Wi]=Dn);for(;Ze<ce;++Ze)Qe[Ze]=I[Ze];return new be(Qe,this._parents)},selection:function Ie(){return this},order:function qe(){for(var s=this._groups,C=-1,I=s.length;++C<I;)for(var De,V=s[C],ce=V.length-1,xe=V[ce];--ce>=0;)(De=V[ce])&&(xe&&4^De.compareDocumentPosition(xe)&&xe.parentNode.insertBefore(De,xe),xe=De);return this},sort:function At(s){function C(Zt,zt){return Zt&&zt?s(Zt.__data__,zt.__data__):!Zt-!zt}s||(s=un);for(var I=this._groups,V=I.length,ce=new Array(V),xe=0;xe<V;++xe){for(var it,De=I[xe],Qe=De.length,Ze=ce[xe]=new Array(Qe),kt=0;kt<Qe;++kt)(it=De[kt])&&(Ze[kt]=it);Ze.sort(C)}return new be(ce,this._parents).order()},call:function kn(){var s=arguments[0];return arguments[0]=this,s.apply(null,arguments),this},nodes:function ti(){return Array.from(this)},node:function ii(){for(var s=this._groups,C=0,I=s.length;C<I;++C)for(var V=s[C],ce=0,xe=V.length;ce<xe;++ce){var De=V[ce];if(De)return De}return null},size:function gi(){let s=0;for(const C of this)++s;return s},empty:function pn(){return!this.node()},each:function rn(s){for(var C=this._groups,I=0,V=C.length;I<V;++I)for(var Qe,ce=C[I],xe=0,De=ce.length;xe<De;++xe)(Qe=ce[xe])&&s.call(Qe,Qe.__data__,xe,ce);return this},attr:function gn(s,C){var I=sn(s);if(arguments.length<2){var V=this.node();return I.local?V.getAttributeNS(I.space,I.local):V.getAttribute(I)}return this.each((null==C?I.local?hn:on:"function"==typeof C?I.local?ci:ki:I.local?_e:_i)(I,C))},style:function Ut(s,C,I){return arguments.length>1?this.each((null==C?Cr:"function"==typeof C?Ht:wr)(s,C,I??"")):re(this.node(),s)},property:function pt(s,C){return arguments.length>1?this.each((null==C?Se:"function"==typeof C?yt:rt)(s,C)):this.node()[s]},classed:function Vi(s,C){var I=mt(s+"");if(arguments.length<2){for(var V=Kt(this.node()),ce=-1,xe=I.length;++ce<xe;)if(!V.contains(I[ce]))return!1;return!0}return this.each(("function"==typeof C?si:C?dn:Mn)(I,C))},text:function Wr(s){return arguments.length?this.each(null==s?Ar:("function"==typeof s?oi:Zi)(s)):this.node().textContent},html:function hs(s){return arguments.length?this.each(null==s?us:("function"==typeof s?ys:Zr)(s)):this.node().innerHTML},raise:function ur(){return this.each(Hs)},lower:function ut(){return this.each(bs)},append:function jt(s){var C="function"==typeof s?s:et(s);return this.select(function(){return this.appendChild(C.apply(this,arguments))})},insert:function In(s,C){var I="function"==typeof s?s:et(s),V=null==C?Wn:"function"==typeof C?C:Fe(C);return this.select(function(){return this.insertBefore(I.apply(this,arguments),V.apply(this,arguments)||null)})},remove:function ai(){return this.each(Oi)},clone:function Kr(s){return this.select(s?$r:Ii)},datum:function es(s){return arguments.length?this.property("__data__",s):this.node().__data__},on:function c(s,C,I){var ce,De,V=function r(s){return s.trim().split(/^|\s+/).map(function(C){var I="",V=C.indexOf(".");return V>=0&&(I=C.slice(V+1),C=C.slice(0,V)),{type:C,name:I}})}(s+""),xe=V.length;if(!(arguments.length<2)){for(Qe=C?u:i,ce=0;ce<xe;++ce)this.each(Qe(V[ce],C,I));return this}var Qe=this.node().__on;if(Qe)for(var kt,Ze=0,it=Qe.length;Ze<it;++Ze)for(ce=0,kt=Qe[Ze];ce<xe;++ce)if((De=V[ce]).type===kt.type&&De.name===kt.name)return kt.value},dispatch:function ne(s,C){return this.each(("function"==typeof C?W:A)(s,C))},[Symbol.iterator]:function*le(){for(var s=this._groups,C=0,I=s.length;C<I;++C)for(var De,V=s[C],ce=0,xe=V.length;ce<xe;++ce)(De=V[ce])&&(yield De)}};const ze=ve;var st={value:()=>{}};function _t(){for(var V,s=0,C=arguments.length,I={};s<C;++s){if(!(V=arguments[s]+"")||V in I||/[\s.]/.test(V))throw new Error("illegal type: "+V);I[V]=[]}return new vt(I)}function vt(s){this._=s}function Oe(s,C){for(var ce,I=0,V=s.length;I<V;++I)if((ce=s[I]).name===C)return ce.value}function Re(s,C,I){for(var V=0,ce=s.length;V<ce;++V)if(s[V].name===C){s[V]=st,s=s.slice(0,V).concat(s.slice(V+1));break}return null!=I&&s.push({name:C,value:I}),s}vt.prototype=_t.prototype={constructor:vt,on:function(s,C){var ce,I=this._,V=function de(s,C){return s.trim().split(/^|\s+/).map(function(I){var V="",ce=I.indexOf(".");if(ce>=0&&(V=I.slice(ce+1),I=I.slice(0,ce)),I&&!C.hasOwnProperty(I))throw new Error("unknown type: "+I);return{type:I,name:V}})}(s+"",I),xe=-1,De=V.length;if(!(arguments.length<2)){if(null!=C&&"function"!=typeof C)throw new Error("invalid callback: "+C);for(;++xe<De;)if(ce=(s=V[xe]).type)I[ce]=Re(I[ce],s.name,C);else if(null==C)for(ce in I)I[ce]=Re(I[ce],s.name,null);return this}for(;++xe<De;)if((ce=(s=V[xe]).type)&&(ce=Oe(I[ce],s.name)))return ce},copy:function(){var s={},C=this._;for(var I in C)s[I]=C[I].slice();return new vt(s)},call:function(s,C){if((ce=arguments.length-2)>0)for(var ce,xe,I=new Array(ce),V=0;V<ce;++V)I[V]=arguments[V+2];if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(V=0,ce=(xe=this._[s]).length;V<ce;++V)xe[V].value.apply(C,I)},apply:function(s,C,I){if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(var V=this._[s],ce=0,xe=V.length;ce<xe;++ce)V[ce].value.apply(C,I)}};const je=_t;var Mt,Ct,ee=0,Ae=0,Ke=0,Be=1e3,ln=0,Xn=0,ui=0,Ei="object"==typeof performance&&performance.now?performance:Date,Ti="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(s){setTimeout(s,17)};function zi(){return Xn||(Ti(Gr),Xn=Ei.now()+ui)}function Gr(){Xn=0}function er(){this._call=this._time=this._next=null}function fr(s,C,I){var V=new er;return V.restart(s,C,I),V}function _r(){Xn=(ln=Ei.now())+ui,ee=Ae=0;try{!function or(){zi(),++ee;for(var C,s=Mt;s;)(C=Xn-s._time)>=0&&s._call.call(void 0,C),s=s._next;--ee}()}finally{ee=0,function Ws(){for(var s,I,C=Mt,V=1/0;C;)C._call?(V>C._time&&(V=C._time),s=C,C=C._next):(I=C._next,C._next=null,C=s?s._next=I:Mt=I);Ct=s,Ks(V)}(),Xn=0}}function ws(){var s=Ei.now(),C=s-ln;C>Be&&(ui-=C,ln=s)}function Ks(s){ee||(Ae&&(Ae=clearTimeout(Ae)),s-Xn>24?(s<1/0&&(Ae=setTimeout(_r,s-Ei.now()-ui)),Ke&&(Ke=clearInterval(Ke))):(Ke||(ln=Ei.now(),Ke=setInterval(ws,Be)),ee=1,Ti(_r)))}function ts(s,C,I){var V=new er;return V.restart(ce=>{V.stop(),s(ce+C)},C=null==C?0:+C,I),V}er.prototype=fr.prototype={constructor:er,restart:function(s,C,I){if("function"!=typeof s)throw new TypeError("callback is not a function");I=(null==I?zi():+I)+(null==C?0:+C),!this._next&&Ct!==this&&(Ct?Ct._next=this:Mt=this,Ct=this),this._call=s,this._time=I,Ks()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ks())}};var yo=je("start","end","cancel","interrupt"),to=[],ds=0,is=3;function Lr(s,C,I,V,ce,xe){var De=s.__transition;if(De){if(I in De)return}else s.__transition={};!function ji(s,C,I){var ce,V=s.__transition;function De(it){var kt,Zt,zt,Dn;if(1!==I.state)return Ze();for(kt in V)if((Dn=V[kt]).name===I.name){if(Dn.state===is)return ts(De);4===Dn.state?(Dn.state=6,Dn.timer.stop(),Dn.on.call("interrupt",s,s.__data__,Dn.index,Dn.group),delete V[kt]):+kt<C&&(Dn.state=6,Dn.timer.stop(),Dn.on.call("cancel",s,s.__data__,Dn.index,Dn.group),delete V[kt])}if(ts(function(){I.state===is&&(I.state=4,I.timer.restart(Qe,I.delay,I.time),Qe(it))}),I.state=2,I.on.call("start",s,s.__data__,I.index,I.group),2===I.state){for(I.state=is,ce=new Array(zt=I.tween.length),kt=0,Zt=-1;kt<zt;++kt)(Dn=I.tween[kt].value.call(s,s.__data__,I.index,I.group))&&(ce[++Zt]=Dn);ce.length=Zt+1}}function Qe(it){for(var kt=it<I.duration?I.ease.call(null,it/I.duration):(I.timer.restart(Ze),I.state=5,1),Zt=-1,zt=ce.length;++Zt<zt;)ce[Zt].call(s,kt);5===I.state&&(I.on.call("end",s,s.__data__,I.index,I.group),Ze())}function Ze(){for(var it in I.state=6,I.timer.stop(),delete V[C],V)return;delete s.__transition}V[C]=I,I.timer=fr(function xe(it){I.state=1,I.timer.restart(De,I.delay,I.time),I.delay<=it&&De(it-I.delay)},0,I.time)}(s,I,{name:C,index:V,group:ce,on:yo,tween:to,time:xe.time,delay:xe.delay,duration:xe.duration,ease:xe.ease,timer:null,state:ds})}function rs(s,C){var I=Ur(s,C);if(I.state>ds)throw new Error("too late; already scheduled");return I}function Br(s,C){var I=Ur(s,C);if(I.state>is)throw new Error("too late; already running");return I}function Ur(s,C){var I=s.__transition;if(!I||!(I=I[C]))throw new Error("transition not found");return I}function Qi(s,C){return s=+s,C=+C,function(I){return s*(1-I)+C*I}}var g,bo=180/Math.PI,gs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function o(s,C,I,V,ce,xe){var De,Qe,Ze;return(De=Math.sqrt(s*s+C*C))&&(s/=De,C/=De),(Ze=s*I+C*V)&&(I-=s*Ze,V-=C*Ze),(Qe=Math.sqrt(I*I+V*V))&&(I/=Qe,V/=Qe,Ze/=Qe),s*V<C*I&&(s=-s,C=-C,Ze=-Ze,De=-De),{translateX:ce,translateY:xe,rotate:Math.atan2(C,s)*bo,skewX:Math.atan(Ze)*bo,scaleX:De,scaleY:Qe}}function Y(s,C,I,V){function ce(it){return it.length?it.pop()+" ":""}return function(it,kt){var Zt=[],zt=[];return it=s(it),kt=s(kt),function xe(it,kt,Zt,zt,Dn,Wi){if(it!==Zt||kt!==zt){var Sr=Dn.push("translate(",null,C,null,I);Wi.push({i:Sr-4,x:Qi(it,Zt)},{i:Sr-2,x:Qi(kt,zt)})}else(Zt||zt)&&Dn.push("translate("+Zt+C+zt+I)}(it.translateX,it.translateY,kt.translateX,kt.translateY,Zt,zt),function De(it,kt,Zt,zt){it!==kt?(it-kt>180?kt+=360:kt-it>180&&(it+=360),zt.push({i:Zt.push(ce(Zt)+"rotate(",null,V)-2,x:Qi(it,kt)})):kt&&Zt.push(ce(Zt)+"rotate("+kt+V)}(it.rotate,kt.rotate,Zt,zt),function Qe(it,kt,Zt,zt){it!==kt?zt.push({i:Zt.push(ce(Zt)+"skewX(",null,V)-2,x:Qi(it,kt)}):kt&&Zt.push(ce(Zt)+"skewX("+kt+V)}(it.skewX,kt.skewX,Zt,zt),function Ze(it,kt,Zt,zt,Dn,Wi){if(it!==Zt||kt!==zt){var Sr=Dn.push(ce(Dn)+"scale(",null,",",null,")");Wi.push({i:Sr-4,x:Qi(it,Zt)},{i:Sr-2,x:Qi(kt,zt)})}else(1!==Zt||1!==zt)&&Dn.push(ce(Dn)+"scale("+Zt+","+zt+")")}(it.scaleX,it.scaleY,kt.scaleX,kt.scaleY,Zt,zt),it=kt=null,function(Dn){for(var yn,Wi=-1,Sr=zt.length;++Wi<Sr;)Zt[(yn=zt[Wi]).i]=yn.x(Dn);return Zt.join("")}}}var Z=Y(function M(s){const C=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(s+"");return C.isIdentity?gs:o(C.a,C.b,C.c,C.d,C.e,C.f)},"px, ","px)","deg)"),pe=Y(function N(s){return null!=s&&(g||(g=document.createElementNS("http://www.w3.org/2000/svg","g")),g.setAttribute("transform",s),s=g.transform.baseVal.consolidate())?o((s=s.matrix).a,s.b,s.c,s.d,s.e,s.f):gs},", ",")",")");function Je(s,C){var I,V;return function(){var ce=Br(this,s),xe=ce.tween;if(xe!==I)for(var De=0,Qe=(V=I=xe).length;De<Qe;++De)if(V[De].name===C){(V=V.slice()).splice(De,1);break}ce.tween=V}}function Xe(s,C,I){var V,ce;if("function"!=typeof I)throw new Error;return function(){var xe=Br(this,s),De=xe.tween;if(De!==V){ce=(V=De).slice();for(var Qe={name:C,value:I},Ze=0,it=ce.length;Ze<it;++Ze)if(ce[Ze].name===C){ce[Ze]=Qe;break}Ze===it&&ce.push(Qe)}xe.tween=ce}}function Vt(s,C,I){var V=s._id;return s.each(function(){var ce=Br(this,V);(ce.value||(ce.value={}))[C]=I.apply(this,arguments)}),function(ce){return Ur(ce,V).value[C]}}function Gt(s,C,I){s.prototype=C.prototype=I,I.constructor=s}function Ot(s,C){var I=Object.create(s.prototype);for(var V in C)I[V]=C[V];return I}function fn(){}var Bi=1/.7,Zn="\\s*([+-]?\\d+)\\s*",Vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Is=/^#([0-9a-f]{3,8})$/,Ys=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),Mi=new RegExp(`^rgb\\(${Ji},${Ji},${Ji}\\)$`),ao=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${Vr}\\)$`),Yi=new RegExp(`^rgba\\(${Ji},${Ji},${Ji},${Vr}\\)$`),vr=new RegExp(`^hsl\\(${Vr},${Ji},${Ji}\\)$`),Ns=new RegExp(`^hsla\\(${Vr},${Ji},${Ji},${Vr}\\)$`),Io={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hr(){return this.rgb().formatHex()}function zr(){return this.rgb().formatRgb()}function Mr(s){var C,I;return s=(s+"").trim().toLowerCase(),(C=Is.exec(s))?(I=C[1].length,C=parseInt(C[1],16),6===I?Es(C):3===I?new ss(C>>8&15|C>>4&240,C>>4&15|240&C,(15&C)<<4|15&C,1):8===I?fo(C>>24&255,C>>16&255,C>>8&255,(255&C)/255):4===I?fo(C>>12&15|C>>8&240,C>>8&15|C>>4&240,C>>4&15|240&C,((15&C)<<4|15&C)/255):null):(C=Ys.exec(s))?new ss(C[1],C[2],C[3],1):(C=Mi.exec(s))?new ss(255*C[1]/100,255*C[2]/100,255*C[3]/100,1):(C=ao.exec(s))?fo(C[1],C[2],C[3],C[4]):(C=Yi.exec(s))?fo(255*C[1]/100,255*C[2]/100,255*C[3]/100,C[4]):(C=vr.exec(s))?Q(C[1],C[2]/100,C[3]/100,1):(C=Ns.exec(s))?Q(C[1],C[2]/100,C[3]/100,C[4]):Io.hasOwnProperty(s)?Es(Io[s]):"transparent"===s?new ss(NaN,NaN,NaN,0):null}function Es(s){return new ss(s>>16&255,s>>8&255,255&s,1)}function fo(s,C,I,V){return V<=0&&(s=C=I=NaN),new ss(s,C,I,V)}function Os(s,C,I,V){return 1===arguments.length?function io(s){return s instanceof fn||(s=Mr(s)),s?new ss((s=s.rgb()).r,s.g,s.b,s.opacity):new ss}(s):new ss(s,C,I,V??1)}function ss(s,C,I,V){this.r=+s,this.g=+C,this.b=+I,this.opacity=+V}function ro(){return`#${K(this.r)}${K(this.g)}${K(this.b)}`}function tr(){const s=so(this.opacity);return`${1===s?"rgb(":"rgba("}${os(this.r)}, ${os(this.g)}, ${os(this.b)}${1===s?")":`, ${s})`}`}function so(s){return isNaN(s)?1:Math.max(0,Math.min(1,s))}function os(s){return Math.max(0,Math.min(255,Math.round(s)||0))}function K(s){return((s=os(s))<16?"0":"")+s.toString(16)}function Q(s,C,I,V){return V<=0?s=C=I=NaN:I<=0||I>=1?s=C=NaN:C<=0&&(s=NaN),new He(s,C,I,V)}function P(s){if(s instanceof He)return new He(s.h,s.s,s.l,s.opacity);if(s instanceof fn||(s=Mr(s)),!s)return new He;if(s instanceof He)return s;var C=(s=s.rgb()).r/255,I=s.g/255,V=s.b/255,ce=Math.min(C,I,V),xe=Math.max(C,I,V),De=NaN,Qe=xe-ce,Ze=(xe+ce)/2;return Qe?(De=C===xe?(I-V)/Qe+6*(I<V):I===xe?(V-C)/Qe+2:(C-I)/Qe+4,Qe/=Ze<.5?xe+ce:2-xe-ce,De*=60):Qe=Ze>0&&Ze<1?0:De,new He(De,Qe,Ze,s.opacity)}function He(s,C,I,V){this.h=+s,this.s=+C,this.l=+I,this.opacity=+V}function Fn(s){return(s=(s||0)%360)<0?s+360:s}function ni(s){return Math.max(0,Math.min(1,s||0))}function Rr(s,C,I){return 255*(s<60?C+(I-C)*s/60:s<180?I:s<240?C+(I-C)*(240-s)/60:C)}function Ms(s,C,I,V,ce){var xe=s*s,De=xe*s;return((1-3*s+3*xe-De)*C+(4-6*xe+3*De)*I+(1+3*s+3*xe-3*De)*V+De*ce)/6}Gt(fn,Mr,{copy(s){return Object.assign(new this.constructor,this,s)},displayable(){return this.rgb().displayable()},hex:hr,formatHex:hr,formatHex8:function no(){return this.rgb().formatHex8()},formatHsl:function Ss(){return P(this).formatHsl()},formatRgb:zr,toString:zr}),Gt(ss,Os,Ot(fn,{brighter(s){return s=null==s?Bi:Math.pow(Bi,s),new ss(this.r*s,this.g*s,this.b*s,this.opacity)},darker(s){return s=null==s?.7:Math.pow(.7,s),new ss(this.r*s,this.g*s,this.b*s,this.opacity)},rgb(){return this},clamp(){return new ss(os(this.r),os(this.g),os(this.b),so(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ro,formatHex:ro,formatHex8:function po(){return`#${K(this.r)}${K(this.g)}${K(this.b)}${K(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:tr,toString:tr})),Gt(He,function fe(s,C,I,V){return 1===arguments.length?P(s):new He(s,C,I,V??1)},Ot(fn,{brighter(s){return s=null==s?Bi:Math.pow(Bi,s),new He(this.h,this.s,this.l*s,this.opacity)},darker(s){return s=null==s?.7:Math.pow(.7,s),new He(this.h,this.s,this.l*s,this.opacity)},rgb(){var s=this.h%360+360*(this.h<0),C=isNaN(s)||isNaN(this.s)?0:this.s,I=this.l,V=I+(I<.5?I:1-I)*C,ce=2*I-V;return new ss(Rr(s>=240?s-240:s+120,ce,V),Rr(s,ce,V),Rr(s<120?s+240:s-120,ce,V),this.opacity)},clamp(){return new He(Fn(this.h),ni(this.s),ni(this.l),so(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const s=so(this.opacity);return`${1===s?"hsl(":"hsla("}${Fn(this.h)}, ${100*ni(this.s)}%, ${100*ni(this.l)}%${1===s?")":`, ${s})`}`}}));const Tr=s=>()=>s;function No(s,C){var I=C-s;return I?function Yo(s,C){return function(I){return s+I*C}}(s,I):Tr(isNaN(s)?C:s)}const go=function s(C){var I=function zo(s){return 1==(s=+s)?No:function(C,I){return I-C?function Go(s,C,I){return s=Math.pow(s,I),C=Math.pow(C,I)-s,I=1/I,function(V){return Math.pow(s+V*C,I)}}(C,I,s):Tr(isNaN(C)?I:C)}}(C);function V(ce,xe){var De=I((ce=Os(ce)).r,(xe=Os(xe)).r),Qe=I(ce.g,xe.g),Ze=I(ce.b,xe.b),it=No(ce.opacity,xe.opacity);return function(kt){return ce.r=De(kt),ce.g=Qe(kt),ce.b=Ze(kt),ce.opacity=it(kt),ce+""}}return V.gamma=s,V}(1);function Fs(s){return function(C){var De,Qe,I=C.length,V=new Array(I),ce=new Array(I),xe=new Array(I);for(De=0;De<I;++De)Qe=Os(C[De]),V[De]=Qe.r||0,ce[De]=Qe.g||0,xe[De]=Qe.b||0;return V=s(V),ce=s(ce),xe=s(xe),Qe.opacity=1,function(Ze){return Qe.r=V(Ze),Qe.g=ce(Ze),Qe.b=xe(Ze),Qe+""}}}Fs(function Cs(s){var C=s.length-1;return function(I){var V=I<=0?I=0:I>=1?(I=1,C-1):Math.floor(I*C),ce=s[V],xe=s[V+1];return Ms((I-V/C)*C,V>0?s[V-1]:2*ce-xe,ce,xe,V<C-1?s[V+2]:2*xe-ce)}}),Fs(function zs(s){var C=s.length;return function(I){var V=Math.floor(((I%=1)<0?++I:I)*C);return Ms((I-V/C)*C,s[(V+C-1)%C],s[V%C],s[(V+1)%C],s[(V+2)%C])}});var St=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nt=new RegExp(St.source,"g");function vn(s,C){var V,ce,xe,I=St.lastIndex=Nt.lastIndex=0,De=-1,Qe=[],Ze=[];for(s+="",C+="";(V=St.exec(s))&&(ce=Nt.exec(C));)(xe=ce.index)>I&&(xe=C.slice(I,xe),Qe[De]?Qe[De]+=xe:Qe[++De]=xe),(V=V[0])===(ce=ce[0])?Qe[De]?Qe[De]+=ce:Qe[++De]=ce:(Qe[++De]=null,Ze.push({i:De,x:Qi(V,ce)})),I=Nt.lastIndex;return I<C.length&&(xe=C.slice(I),Qe[De]?Qe[De]+=xe:Qe[++De]=xe),Qe.length<2?Ze[0]?function Sn(s){return function(C){return s(C)+""}}(Ze[0].x):function Yt(s){return function(){return s}}(C):(C=Ze.length,function(it){for(var Zt,kt=0;kt<C;++kt)Qe[(Zt=Ze[kt]).i]=Zt.x(it);return Qe.join("")})}function Vn(s,C){var I;return("number"==typeof C?Qi:C instanceof Mr?go:(I=Mr(C))?(C=I,go):vn)(s,C)}function Nn(s){return function(){this.removeAttribute(s)}}function Ki(s){return function(){this.removeAttributeNS(s.space,s.local)}}function fi(s,C,I){var V,xe,ce=I+"";return function(){var De=this.getAttribute(s);return De===ce?null:De===V?xe:xe=C(V=De,I)}}function Ci(s,C,I){var V,xe,ce=I+"";return function(){var De=this.getAttributeNS(s.space,s.local);return De===ce?null:De===V?xe:xe=C(V=De,I)}}function Hi(s,C,I){var V,ce,xe;return function(){var De,Ze,Qe=I(this);return null==Qe?void this.removeAttribute(s):(De=this.getAttribute(s))===(Ze=Qe+"")?null:De===V&&Ze===ce?xe:(ce=Ze,xe=C(V=De,Qe))}}function ri(s,C,I){var V,ce,xe;return function(){var De,Ze,Qe=I(this);return null==Qe?void this.removeAttributeNS(s.space,s.local):(De=this.getAttributeNS(s.space,s.local))===(Ze=Qe+"")?null:De===V&&Ze===ce?xe:(ce=Ze,xe=C(V=De,Qe))}}function Ls(s,C){var I,V;function ce(){var xe=C.apply(this,arguments);return xe!==V&&(I=(V=xe)&&function Ts(s,C){return function(I){this.setAttributeNS(s.space,s.local,C.call(this,I))}}(s,xe)),I}return ce._value=C,ce}function qs(s,C){var I,V;function ce(){var xe=C.apply(this,arguments);return xe!==V&&(I=(V=xe)&&function yr(s,C){return function(I){this.setAttribute(s,C.call(this,I))}}(s,xe)),I}return ce._value=C,ce}function ar(s,C){return function(){rs(this,s).delay=+C.apply(this,arguments)}}function Zo(s,C){return C=+C,function(){rs(this,s).delay=C}}function Ha(s,C){return function(){Br(this,s).duration=+C.apply(this,arguments)}}function Wa(s,C){return C=+C,function(){Br(this,s).duration=C}}var Oo=ze.prototype.constructor;function Xo(s){return function(){this.style.removeProperty(s)}}var Xs=0;function Bs(s,C,I,V){this._groups=s,this._parents=C,this._name=I,this._id=V}function xi(){return++Xs}var Yr=ze.prototype;Bs.prototype=function mo(s){return ze().transition(s)}.prototype={constructor:Bs,select:function Ga(s){var C=this._name,I=this._id;"function"!=typeof s&&(s=Fe(s));for(var V=this._groups,ce=V.length,xe=new Array(ce),De=0;De<ce;++De)for(var kt,Zt,Qe=V[De],Ze=Qe.length,it=xe[De]=new Array(Ze),zt=0;zt<Ze;++zt)(kt=Qe[zt])&&(Zt=s.call(kt,kt.__data__,zt,Qe))&&("__data__"in kt&&(Zt.__data__=kt.__data__),it[zt]=Zt,Lr(it[zt],C,I,zt,it,Ur(kt,I)));return new Bs(xe,this._parents,C,I)},selectAll:function el(s){var C=this._name,I=this._id;"function"!=typeof s&&(s=nt(s));for(var V=this._groups,ce=V.length,xe=[],De=[],Qe=0;Qe<ce;++Qe)for(var kt,Ze=V[Qe],it=Ze.length,Zt=0;Zt<it;++Zt)if(kt=Ze[Zt]){for(var Dn,zt=s.call(kt,kt.__data__,Zt,Ze),Wi=Ur(kt,I),Sr=0,yn=zt.length;Sr<yn;++Sr)(Dn=zt[Sr])&&Lr(Dn,C,I,Sr,zt,Wi);xe.push(zt),De.push(kt)}return new Bs(xe,De,C,I)},selectChild:Yr.selectChild,selectChildren:Yr.selectChildren,filter:function Bo(s){"function"!=typeof s&&(s=It(s));for(var C=this._groups,I=C.length,V=new Array(I),ce=0;ce<I;++ce)for(var Ze,xe=C[ce],De=xe.length,Qe=V[ce]=[],it=0;it<De;++it)(Ze=xe[it])&&s.call(Ze,Ze.__data__,it,xe)&&Qe.push(Ze);return new Bs(V,this._parents,this._name,this._id)},merge:function co(s){if(s._id!==this._id)throw new Error;for(var C=this._groups,I=s._groups,V=C.length,xe=Math.min(V,I.length),De=new Array(V),Qe=0;Qe<xe;++Qe)for(var zt,Ze=C[Qe],it=I[Qe],kt=Ze.length,Zt=De[Qe]=new Array(kt),Dn=0;Dn<kt;++Dn)(zt=Ze[Dn]||it[Dn])&&(Zt[Dn]=zt);for(;Qe<V;++Qe)De[Qe]=C[Qe];return new Bs(De,this._parents,this._name,this._id)},selection:function Oa(){return new Oo(this._groups,this._parents)},transition:function nr(){for(var s=this._name,C=this._id,I=xi(),V=this._groups,ce=V.length,xe=0;xe<ce;++xe)for(var Ze,De=V[xe],Qe=De.length,it=0;it<Qe;++it)if(Ze=De[it]){var kt=Ur(Ze,C);Lr(Ze,s,I,it,De,{time:kt.time+kt.delay+kt.duration,delay:0,duration:kt.duration,ease:kt.ease})}return new Bs(V,this._parents,s,I)},call:Yr.call,nodes:Yr.nodes,node:Yr.node,size:Yr.size,empty:Yr.empty,each:Yr.each,on:function ea(s,C){var I=this._id;return arguments.length<2?Ur(this.node(),I).on.on(s):this.each(function oa(s,C,I){var V,ce,xe=function $s(s){return(s+"").trim().split(/^|\s+/).every(function(C){var I=C.indexOf(".");return I>=0&&(C=C.slice(0,I)),!C||"start"===C})}(C)?rs:Br;return function(){var De=xe(this,s),Qe=De.on;Qe!==V&&(ce=(V=Qe).copy()).on(C,I),De.on=ce}}(I,s,C))},attr:function Gi(s,C){var I=sn(s),V="transform"===I?pe:Vn;return this.attrTween(s,"function"==typeof C?(I.local?ri:Hi)(I,V,Vt(this,"attr."+s,C)):null==C?(I.local?Ki:Nn)(I):(I.local?Ci:fi)(I,V,C))},attrTween:function lo(s,C){var I="attr."+s;if(arguments.length<2)return(I=this.tween(I))&&I._value;if(null==C)return this.tween(I,null);if("function"!=typeof C)throw new Error;var V=sn(s);return this.tween(I,(V.local?Ls:qs)(V,C))},style:function Me(s,C,I){var V="transform"==(s+="")?Z:Vn;return null==C?this.styleTween(s,function aa(s,C){var I,V,ce;return function(){var xe=re(this,s),De=(this.style.removeProperty(s),re(this,s));return xe===De?null:xe===I&&De===V?ce:ce=C(I=xe,V=De)}}(s,V)).on("end.style."+s,Xo(s)):"function"==typeof C?this.styleTween(s,function ca(s,C,I){var V,ce,xe;return function(){var De=re(this,s),Qe=I(this),Ze=Qe+"";return null==Qe&&(this.style.removeProperty(s),Ze=Qe=re(this,s)),De===Ze?null:De===V&&Ze===ce?xe:(ce=Ze,xe=C(V=De,Qe))}}(s,V,Vt(this,"style."+s,C))).each(function tl(s,C){var I,V,ce,Qe,xe="style."+C,De="end."+xe;return function(){var Ze=Br(this,s),it=Ze.on,kt=null==Ze.value[xe]?Qe||(Qe=Xo(C)):void 0;(it!==I||ce!==kt)&&(V=(I=it).copy()).on(De,ce=kt),Ze.on=V}}(this._id,s)):this.styleTween(s,function la(s,C,I){var V,xe,ce=I+"";return function(){var De=re(this,s);return De===ce?null:De===V?xe:xe=C(V=De,I)}}(s,V,C),I).on("end.style."+s,null)},styleTween:function ie(s,C,I){var V="style."+(s+="");if(arguments.length<2)return(V=this.tween(V))&&V._value;if(null==C)return this.tween(V,null);if("function"!=typeof C)throw new Error;return this.tween(V,function L(s,C,I){var V,ce;function xe(){var De=C.apply(this,arguments);return De!==ce&&(V=(ce=De)&&function U(s,C,I){return function(V){this.style.setProperty(s,C.call(this,V),I)}}(s,De,I)),V}return xe._value=C,xe}(s,C,I??""))},text:function Lt(s){return this.tween("text","function"==typeof s?function ct(s){return function(){var C=s(this);this.textContent=C??""}}(Vt(this,"text",s)):function Te(s){return function(){this.textContent=s}}(null==s?"":s+""))},textTween:function li(s){var C="text";if(arguments.length<1)return(C=this.tween(C))&&C._value;if(null==s)return this.tween(C,null);if("function"!=typeof s)throw new Error;return this.tween(C,function An(s){var C,I;function V(){var ce=s.apply(this,arguments);return ce!==I&&(C=(I=ce)&&function Xt(s){return function(C){this.textContent=s.call(this,C)}}(ce)),C}return V._value=s,V}(s))},remove:function Ka(){return this.on("end.remove",function Aa(s){return function(){var C=this.parentNode;for(var I in this.__transition)if(+I!==s)return;C&&C.removeChild(this)}}(this._id))},tween:function ht(s,C){var I=this._id;if(s+="",arguments.length<2){for(var De,V=Ur(this.node(),I).tween,ce=0,xe=V.length;ce<xe;++ce)if((De=V[ce]).name===s)return De.value;return null}return this.each((null==C?Je:Xe)(I,s,C))},delay:function Fo(s){var C=this._id;return arguments.length?this.each(("function"==typeof s?ar:Zo)(C,s)):Ur(this.node(),C).delay},duration:function Lo(s){var C=this._id;return arguments.length?this.each(("function"==typeof s?Ha:Wa)(C,s)):Ur(this.node(),C).duration},ease:function Za(s){var C=this._id;return arguments.length?this.each(function $o(s,C){if("function"!=typeof C)throw new Error;return function(){Br(this,s).ease=C}}(C,s)):Ur(this.node(),C).ease},easeVarying:function Co(s){if("function"!=typeof s)throw new Error;return this.each(function wo(s,C){return function(){var I=C.apply(this,arguments);if("function"!=typeof I)throw new Error;Br(this,s).ease=I}}(this._id,s))},end:function Jr(){var s,C,I=this,V=I._id,ce=I.size();return new Promise(function(xe,De){var Qe={value:De},Ze={value:function(){0==--ce&&xe()}};I.each(function(){var it=Br(this,V),kt=it.on;kt!==s&&((C=(s=kt).copy())._.cancel.push(Qe),C._.interrupt.push(Qe),C._.end.push(Ze)),it.on=C}),0===ce&&xe()})},[Symbol.iterator]:Yr[Symbol.iterator]};var ta={time:null,delay:0,duration:250,ease:function br(s){return((s*=2)<=1?s*s*s:(s-=2)*s*s+2)/2}};function Mo(s,C){for(var I;!(I=s.__transition)||!(I=I[C]);)if(!(s=s.parentNode))throw new Error(`transition ${C} not found`);return I}ze.prototype.interrupt=function Js(s){return this.each(function(){!function ps(s,C){var V,ce,De,I=s.__transition,xe=!0;if(I){for(De in C=null==C?null:C+"",I)(V=I[De]).name===C?(ce=V.state>2&&V.state<5,V.state=6,V.timer.stop(),V.on.call(ce?"interrupt":"cancel",s,s.__data__,V.index,V.group),delete I[De]):xe=!1;xe&&delete s.__transition}}(this,s)})},ze.prototype.transition=function na(s){var C,I;s instanceof Bs?(C=s._id,s=s._name):(C=xi(),(I=ta).time=zi(),s=null==s?null:s+"");for(var V=this._groups,ce=V.length,xe=0;xe<ce;++xe)for(var Ze,De=V[xe],Qe=De.length,it=0;it<Qe;++it)(Ze=De[it])&&Lr(Ze,s,C,it,De,I||Mo(Ze,C));return new Bs(V,this._parents,s,C)};Math;function Ro(s){return{type:s}}function Xa(s,C){switch(arguments.length){case 0:break;case 1:this.range(s);break;default:this.range(C).domain(s)}return this}["w","e"].map(Ro),["n","s"].map(Ro),["n","w","e","s","nw","ne","sw","se"].map(Ro);class al extends Map{constructor(C,I=O){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:I}}),null!=C)for(const[V,ce]of C)this.set(V,ce)}get(C){return super.get(v(this,C))}has(C){return super.has(v(this,C))}set(C,I){return super.set(function R({_intern:s,_key:C},I){const V=C(I);return s.has(V)?s.get(V):(s.set(V,I),I)}(this,C),I)}delete(C){return super.delete(function E({_intern:s,_key:C},I){const V=C(I);return s.has(V)&&(I=s.get(V),s.delete(V)),I}(this,C))}}function v({_intern:s,_key:C},I){const V=C(I);return s.has(V)?s.get(V):I}function O(s){return null!==s&&"object"==typeof s?s.valueOf():s}Set;const z=Symbol("implicit");function ge(){var s=new al,C=[],I=[],V=z;function ce(xe){let De=s.get(xe);if(void 0===De){if(V!==z)return V;s.set(xe,De=C.push(xe)-1)}return I[De%I.length]}return ce.domain=function(xe){if(!arguments.length)return C.slice();C=[],s=new al;for(const De of xe)s.has(De)||s.set(De,C.push(De)-1);return ce},ce.range=function(xe){return arguments.length?(I=Array.from(xe),ce):I.slice()},ce.unknown=function(xe){return arguments.length?(V=xe,ce):V},ce.copy=function(){return ge(C,I).unknown(V)},Xa.apply(ce,arguments),ce}function Ue(){var xe,De,s=ge().unknown(void 0),C=s.domain,I=s.range,V=0,ce=1,Qe=!1,Ze=0,it=0,kt=.5;function Zt(){var zt=C().length,Dn=ce<V,Wi=Dn?ce:V,Sr=Dn?V:ce;xe=(Sr-Wi)/Math.max(1,zt-Ze+2*it),Qe&&(xe=Math.floor(xe)),Wi+=(Sr-Wi-xe*(zt-Ze))*kt,De=xe*(1-Ze),Qe&&(Wi=Math.round(Wi),De=Math.round(De));var yn=function ka(s,C,I){s=+s,C=+C,I=(ce=arguments.length)<2?(C=s,s=0,1):ce<3?1:+I;for(var V=-1,ce=0|Math.max(0,Math.ceil((C-s)/I)),xe=new Array(ce);++V<ce;)xe[V]=s+V*I;return xe}(zt).map(function(bn){return Wi+xe*bn});return I(Dn?yn.reverse():yn)}return delete s.unknown,s.domain=function(zt){return arguments.length?(C(zt),Zt()):C()},s.range=function(zt){return arguments.length?([V,ce]=zt,V=+V,ce=+ce,Zt()):[V,ce]},s.rangeRound=function(zt){return[V,ce]=zt,V=+V,ce=+ce,Qe=!0,Zt()},s.bandwidth=function(){return De},s.step=function(){return xe},s.round=function(zt){return arguments.length?(Qe=!!zt,Zt()):Qe},s.padding=function(zt){return arguments.length?(Ze=Math.min(1,it=+zt),Zt()):Ze},s.paddingInner=function(zt){return arguments.length?(Ze=Math.min(1,zt),Zt()):Ze},s.paddingOuter=function(zt){return arguments.length?(it=+zt,Zt()):it},s.align=function(zt){return arguments.length?(kt=Math.max(0,Math.min(1,zt)),Zt()):kt},s.copy=function(){return Ue(C(),[V,ce]).round(Qe).paddingInner(Ze).paddingOuter(it).align(kt)},Xa.apply(Zt(),arguments)}const Rn=Math.sqrt(50),Si=Math.sqrt(10),Ai=Math.sqrt(2);function Pr(s,C,I){const V=(C-s)/Math.max(0,I),ce=Math.floor(Math.log10(V)),xe=V/Math.pow(10,ce),De=xe>=Rn?10:xe>=Si?5:xe>=Ai?2:1;let Qe,Ze,it;return ce<0?(it=Math.pow(10,-ce)/De,Qe=Math.round(s*it),Ze=Math.round(C*it),Qe/it<s&&++Qe,Ze/it>C&&--Ze,it=-it):(it=Math.pow(10,ce)*De,Qe=Math.round(s/it),Ze=Math.round(C/it),Qe*it<s&&++Qe,Ze*it>C&&--Ze),Ze<Qe&&.5<=I&&I<2?Pr(s,C,2*I):[Qe,Ze,it]}function Qs(s,C,I){return Pr(s=+s,C=+C,I=+I)[2]}function vi(s,C){return null==s||null==C?NaN:s<C?-1:s>C?1:s>=C?0:NaN}function ya(s,C){return null==s||null==C?NaN:C<s?-1:C>s?1:C>=s?0:NaN}function Ia(s){let C,I,V;function ce(Qe,Ze,it=0,kt=Qe.length){if(it<kt){if(0!==C(Ze,Ze))return kt;do{const Zt=it+kt>>>1;I(Qe[Zt],Ze)<0?it=Zt+1:kt=Zt}while(it<kt)}return it}return 2!==s.length?(C=vi,I=(Qe,Ze)=>vi(s(Qe),Ze),V=(Qe,Ze)=>s(Qe)-Ze):(C=s===vi||s===ya?s:ba,I=s,V=s),{left:ce,center:function De(Qe,Ze,it=0,kt=Qe.length){const Zt=ce(Qe,Ze,it,kt-1);return Zt>it&&V(Qe[Zt-1],Ze)>-V(Qe[Zt],Ze)?Zt-1:Zt},right:function xe(Qe,Ze,it=0,kt=Qe.length){if(it<kt){if(0!==C(Ze,Ze))return kt;do{const Zt=it+kt>>>1;I(Qe[Zt],Ze)<=0?it=Zt+1:kt=Zt}while(it<kt)}return it}}}function ba(){return 0}const dc=Ia(vi).right,Gl=(Ia(function Kl(s){return null===s?NaN:+s}),dc);function zl(s,C){var De,I=C?C.length:0,V=s?Math.min(I,s.length):0,ce=new Array(V),xe=new Array(I);for(De=0;De<V;++De)ce[De]=ll(s[De],C[De]);for(;De<I;++De)xe[De]=C[De];return function(Qe){for(De=0;De<V;++De)xe[De]=ce[De](Qe);return xe}}function pc(s,C){var I=new Date;return s=+s,C=+C,function(V){return I.setTime(s*(1-V)+C*V),I}}function gc(s,C){var ce,I={},V={};for(ce in(null===s||"object"!=typeof s)&&(s={}),(null===C||"object"!=typeof C)&&(C={}),C)ce in s?I[ce]=ll(s[ce],C[ce]):V[ce]=C[ce];return function(xe){for(ce in I)V[ce]=I[ce](xe);return V}}function mc(s,C){C||(C=[]);var ce,I=s?Math.min(C.length,s.length):0,V=C.slice();return function(xe){for(ce=0;ce<I;++ce)V[ce]=s[ce]*(1-xe)+C[ce]*xe;return V}}function ll(s,C){var V,I=typeof C;return null==C||"boolean"===I?Tr(C):("number"===I?Qi:"string"===I?(V=Mr(C))?(C=V,go):vn:C instanceof Mr?go:C instanceof Date?pc:function _c(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}(C)?mc:Array.isArray(C)?zl:"function"!=typeof C.valueOf&&"function"!=typeof C.toString||isNaN(C)?gc:Qi)(s,C)}function vc(s,C){return s=+s,C=+C,function(I){return Math.round(s*(1-I)+C*I)}}function qr(s){return+s}var Na=[0,1];function wa(s){return s}function Qa(s,C){return(C-=s=+s)?function(I){return(I-s)/C}:function Ho(s){return function(){return s}}(isNaN(C)?NaN:.5)}function Nl(s,C,I){var V=s[0],ce=s[1],xe=C[0],De=C[1];return ce<V?(V=Qa(ce,V),xe=I(De,xe)):(V=Qa(V,ce),xe=I(xe,De)),function(Qe){return xe(V(Qe))}}function yl(s,C,I){var V=Math.min(s.length,C.length)-1,ce=new Array(V),xe=new Array(V),De=-1;for(s[V]<s[0]&&(s=s.slice().reverse(),C=C.slice().reverse());++De<V;)ce[De]=Qa(s[De],s[De+1]),xe[De]=I(C[De],C[De+1]);return function(Qe){var Ze=Gl(s,Qe,1,V)-1;return xe[Ze](ce[Ze](Qe))}}var Ja,$l=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bl(s){if(!(C=$l.exec(s)))throw new Error("invalid format: "+s);var C;return new wl({fill:C[1],align:C[2],sign:C[3],symbol:C[4],zero:C[5],width:C[6],comma:C[7],precision:C[8]&&C[8].slice(1),trim:C[9],type:C[10]})}function wl(s){this.fill=void 0===s.fill?" ":s.fill+"",this.align=void 0===s.align?">":s.align+"",this.sign=void 0===s.sign?"-":s.sign+"",this.symbol=void 0===s.symbol?"":s.symbol+"",this.zero=!!s.zero,this.width=void 0===s.width?void 0:+s.width,this.comma=!!s.comma,this.precision=void 0===s.precision?void 0:+s.precision,this.trim=!!s.trim,this.type=void 0===s.type?"":s.type+""}function ul(s,C){if((I=(s=C?s.toExponential(C-1):s.toExponential()).indexOf("e"))<0)return null;var I,V=s.slice(0,I);return[V.length>1?V[0]+V.slice(2):V,+s.slice(I+1)]}function Po(s){return(s=ul(Math.abs(s)))?s[1]:NaN}function Fi(s,C){var I=ul(s,C);if(!I)return s+"";var V=I[0],ce=I[1];return ce<0?"0."+new Array(-ce).join("0")+V:V.length>ce+1?V.slice(0,ce+1)+"."+V.slice(ce+1):V+new Array(ce-V.length+2).join("0")}bl.prototype=wl.prototype,wl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ql={"%":(s,C)=>(100*s).toFixed(C),b:s=>Math.round(s).toString(2),c:s=>s+"",d:function Xl(s){return Math.abs(s=Math.round(s))>=1e21?s.toLocaleString("en").replace(/,/g,""):s.toString(10)},e:(s,C)=>s.toExponential(C),f:(s,C)=>s.toFixed(C),g:(s,C)=>s.toPrecision(C),o:s=>Math.round(s).toString(8),p:(s,C)=>Fi(100*s,C),r:Fi,s:function ia(s,C){var I=ul(s,C);if(!I)return s+"";var V=I[0],ce=I[1],xe=ce-(Ja=3*Math.max(-8,Math.min(8,Math.floor(ce/3))))+1,De=V.length;return xe===De?V:xe>De?V+new Array(xe-De+1).join("0"):xe>0?V.slice(0,xe)+"."+V.slice(xe):"0."+new Array(1-xe).join("0")+ul(s,Math.max(0,C+xe-1))[0]},X:s=>Math.round(s).toString(16).toUpperCase(),x:s=>Math.round(s).toString(16)};function Jl(s){return s}var Sl,Ll,Bl,Yl=Array.prototype.map,ql=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ic(s){var C=s.domain;return s.ticks=function(I){var V=C();return function jo(s,C,I){if(!((I=+I)>0))return[];if((s=+s)==(C=+C))return[s];const V=C<s,[ce,xe,De]=V?Pr(C,s,I):Pr(s,C,I);if(!(xe>=ce))return[];const Qe=xe-ce+1,Ze=new Array(Qe);if(V)if(De<0)for(let it=0;it<Qe;++it)Ze[it]=(xe-it)/-De;else for(let it=0;it<Qe;++it)Ze[it]=(xe-it)*De;else if(De<0)for(let it=0;it<Qe;++it)Ze[it]=(ce+it)/-De;else for(let it=0;it<Qe;++it)Ze[it]=(ce+it)*De;return Ze}(V[0],V[V.length-1],I??10)},s.tickFormat=function(I,V){var ce=C();return function nc(s,C,I,V){var xe,ce=function Do(s,C,I){I=+I;const V=(C=+C)<(s=+s),ce=V?Qs(C,s,I):Qs(s,C,I);return(V?-1:1)*(ce<0?1/-ce:ce)}(s,C,I);switch((V=bl(V??",f")).type){case"s":var De=Math.max(Math.abs(s),Math.abs(C));return null==V.precision&&!isNaN(xe=function Sa(s,C){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Po(C)/3)))-Po(Math.abs(s)))}(ce,De))&&(V.precision=xe),Bl(V,De);case"":case"e":case"g":case"p":case"r":null==V.precision&&!isNaN(xe=function ec(s,C){return s=Math.abs(s),C=Math.abs(C)-s,Math.max(0,Po(C)-Po(s))+1}(ce,Math.max(Math.abs(s),Math.abs(C))))&&(V.precision=xe-("e"===V.type));break;case"f":case"%":null==V.precision&&!isNaN(xe=function tc(s){return Math.max(0,-Po(Math.abs(s)))}(ce))&&(V.precision=xe-2*("%"===V.type))}return Ll(V)}(ce[0],ce[ce.length-1],I??10,V)},s.nice=function(I){null==I&&(I=10);var Ze,it,V=C(),ce=0,xe=V.length-1,De=V[ce],Qe=V[xe],kt=10;for(Qe<De&&(it=De,De=Qe,Qe=it,it=ce,ce=xe,xe=it);kt-- >0;){if((it=Qs(De,Qe,I))===Ze)return V[ce]=De,V[xe]=Qe,C(V);if(it>0)De=Math.floor(De/it)*it,Qe=Math.ceil(Qe/it)*it;else{if(!(it<0))break;De=Math.ceil(De*it)/it,Qe=Math.floor(Qe*it)/it}Ze=it}return s},s}function Ya(){var s=function cl(){return function Fa(){var V,ce,xe,Qe,Ze,it,s=Na,C=Na,I=ll,De=wa;function kt(){var zt=Math.min(s.length,C.length);return De!==wa&&(De=function vl(s,C){var I;return s>C&&(I=s,s=C,C=I),function(V){return Math.max(s,Math.min(C,V))}}(s[0],s[zt-1])),Qe=zt>2?yl:Nl,Ze=it=null,Zt}function Zt(zt){return null==zt||isNaN(zt=+zt)?xe:(Ze||(Ze=Qe(s.map(V),C,I)))(V(De(zt)))}return Zt.invert=function(zt){return De(ce((it||(it=Qe(C,s.map(V),Qi)))(zt)))},Zt.domain=function(zt){return arguments.length?(s=Array.from(zt,qr),kt()):s.slice()},Zt.range=function(zt){return arguments.length?(C=Array.from(zt),kt()):C.slice()},Zt.rangeRound=function(zt){return C=Array.from(zt),I=vc,kt()},Zt.clamp=function(zt){return arguments.length?(De=!!zt||wa,kt()):De!==wa},Zt.interpolate=function(zt){return arguments.length?(I=zt,kt()):I},Zt.unknown=function(zt){return arguments.length?(xe=zt,Zt):xe},function(zt,Dn){return V=zt,ce=Dn,kt()}}()(wa,wa)}();return s.copy=function(){return function yc(s,C){return C.domain(s.domain()).range(s.range()).interpolate(s.interpolate()).clamp(s.clamp()).unknown(s.unknown())}(s,Ya())},Xa.apply(s,arguments),ic(s)}function Ca(s,C,I){this.k=s,this.x=C,this.y=I}!function Zl(s){Sl=function dl(s){var C=void 0===s.grouping||void 0===s.thousands?Jl:function Ea(s,C){return function(I,V){for(var ce=I.length,xe=[],De=0,Qe=s[0],Ze=0;ce>0&&Qe>0&&(Ze+Qe+1>V&&(Qe=Math.max(1,V-Ze)),xe.push(I.substring(ce-=Qe,ce+Qe)),!((Ze+=Qe+1)>V));)Qe=s[De=(De+1)%s.length];return xe.reverse().join(C)}}(Yl.call(s.grouping,Number),s.thousands+""),I=void 0===s.currency?"":s.currency[0]+"",V=void 0===s.currency?"":s.currency[1]+"",ce=void 0===s.decimal?".":s.decimal+"",xe=void 0===s.numerals?Jl:function hl(s){return function(C){return C.replace(/[0-9]/g,function(I){return s[+I]})}}(Yl.call(s.numerals,String)),De=void 0===s.percent?"%":s.percent+"",Qe=void 0===s.minus?"\u2212":s.minus+"",Ze=void 0===s.nan?"NaN":s.nan+"";function it(Zt){var zt=(Zt=bl(Zt)).fill,Dn=Zt.align,Wi=Zt.sign,Sr=Zt.symbol,yn=Zt.zero,bn=Zt.width,hi=Zt.comma,Jn=Zt.precision,Ri=Zt.trim,yi=Zt.type;"n"===yi?(hi=!0,yi="g"):Ql[yi]||(void 0===Jn&&(Jn=12),Ri=!0,yi="g"),(yn||"0"===zt&&"="===Dn)&&(yn=!0,zt="0",Dn="=");var lr="$"===Sr?I:"#"===Sr&&/[boxX]/.test(yi)?"0"+yi.toLowerCase():"",Xr="$"===Sr?V:/[%p]/.test(yi)?De:"",Dr=Ql[yi],ms=/[defgprs%]/.test(yi);function kr(pi){var Ft,qn,cn,jr=lr,ir=Xr;if("c"===yi)ir=Dr(pi)+ir,pi="";else{var Gn=(pi=+pi)<0||1/pi<0;if(pi=isNaN(pi)?Ze:Dr(Math.abs(pi),Jn),Ri&&(pi=function Fl(s){e:for(var ce,C=s.length,I=1,V=-1;I<C;++I)switch(s[I]){case".":V=ce=I;break;case"0":0===V&&(V=I),ce=I;break;default:if(!+s[I])break e;V>0&&(V=0)}return V>0?s.slice(0,V)+s.slice(ce+1):s}(pi)),Gn&&0==+pi&&"+"!==Wi&&(Gn=!1),jr=(Gn?"("===Wi?Wi:Qe:"-"===Wi||"("===Wi?"":Wi)+jr,ir=("s"===yi?ql[8+Ja/3]:"")+ir+(Gn&&"("===Wi?")":""),ms)for(Ft=-1,qn=pi.length;++Ft<qn;)if(48>(cn=pi.charCodeAt(Ft))||cn>57){ir=(46===cn?ce+pi.slice(Ft+1):pi.slice(Ft))+ir,pi=pi.slice(0,Ft);break}}hi&&!yn&&(pi=C(pi,1/0));var bi=jr.length+pi.length+ir.length,ei=bi<bn?new Array(bn-bi+1).join(zt):"";switch(hi&&yn&&(pi=C(ei+pi,ei.length?bn-ir.length:1/0),ei=""),Dn){case"<":pi=jr+pi+ir+ei;break;case"=":pi=jr+ei+pi+ir;break;case"^":pi=ei.slice(0,bi=ei.length>>1)+jr+pi+ir+ei.slice(bi);break;default:pi=ei+jr+pi+ir}return xe(pi)}return Jn=void 0===Jn?6:/[gprs]/.test(yi)?Math.max(1,Math.min(21,Jn)):Math.max(0,Math.min(20,Jn)),kr.toString=function(){return Zt+""},kr}return{format:it,formatPrefix:function kt(Zt,zt){var Dn=it(((Zt=bl(Zt)).type="f",Zt)),Wi=3*Math.max(-8,Math.min(8,Math.floor(Po(zt)/3))),Sr=Math.pow(10,-Wi),yn=ql[8+Wi/3];return function(bn){return Dn(Sr*bn)+yn}}}}(s),Ll=Sl.format,Bl=Sl.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]}),Ca.prototype={constructor:Ca,scale:function(s){return 1===s?this:new Ca(this.k*s,this.x,this.y)},translate:function(s,C){return 0===s&0===C?this:new Ca(this.k,this.x+this.k*s,this.y+this.k*C)},apply:function(s){return[s[0]*this.k+this.x,s[1]*this.k+this.y]},applyX:function(s){return s*this.k+this.x},applyY:function(s){return s*this.k+this.y},invert:function(s){return[(s[0]-this.x)/this.k,(s[1]-this.y)/this.k]},invertX:function(s){return(s-this.x)/this.k},invertY:function(s){return(s-this.y)/this.k},rescaleX:function(s){return s.copy().domain(s.range().map(this.invertX,this).map(s.invert,s))},rescaleY:function(s){return s.copy().domain(s.range().map(this.invertY,this).map(s.invert,s))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Ca(1,0,0);var La=p(3953);const Sc=["chart"];let Ec=(()=>{class s{constructor(){this.data=this.generateSampleData(),this.margin={top:20,bottom:20,left:20,right:20}}ngOnInit(){this.createChart(),this.updateChart()}ngOnChanges(){this.chart&&this.updateChart()}generateSampleData(){const I=[];for(let V=0;V<8+Math.floor(10*Math.random());V++)I.push([`Index ${V}`,Math.floor(100*Math.random())]);return I}createChart(){const I=this.chartContainer.nativeElement;this.width=I.offsetWidth-this.margin.left-this.margin.right,this.height=I.offsetHeight-this.margin.top-this.margin.bottom;const V=function El(s){return"string"==typeof s?new be([[document.querySelector(s)]],[document.documentElement]):new be([[s]],he)}(I).append("svg").attr("width",I.offsetWidth).attr("height",I.offsetHeight);this.chart=V.append("g").attr("class","bars").attr("transform",`translate(${this.margin.left}, ${this.margin.top})`);const ce=this.data.map(De=>De[0]),xe=[0,e(this.data,De=>De[1])];this.xScale=Ue().padding(.1).domain(ce).rangeRound([0,this.width]),this.yScale=Ya().domain(xe).range([this.height,0]),this.colors=Ya().domain([0,this.data.length]).range(["green","yellow"]),this.xAxis=V.append("g").attr("class","axis axis-x").attr("transform",`translate(${this.margin.left}, ${this.margin.top+this.height})`).call(ue(this.xScale)),this.yAxis=V.append("g").attr("class","axis axis-y").attr("transform",`translate(${this.margin.left}, ${this.margin.top})`).call(Ge(this.yScale))}updateChart(){this.xScale.domain(this.data.map(V=>V[0])),this.yScale.domain([0,e(this.data,V=>V[1])]),this.colors.domain([0,this.data.length]),this.xAxis.transition().call(ue(this.xScale)),this.yAxis.transition().call(Ge(this.yScale));const I=this.chart.selectAll(".bar").data(this.data);I.exit().remove(),this.chart.selectAll(".bar").transition().attr("x",V=>this.xScale(V[0])).attr("y",V=>this.yScale(V[1])).attr("width",()=>this.xScale.bandwidth()).attr("height",V=>this.height-this.yScale(V[1])).style("fill",(V,ce)=>this.colors(ce)),I.enter().append("rect").attr("class","bar").attr("x",V=>this.xScale(V[0])).attr("y",()=>this.yScale(0)).attr("width",this.xScale.bandwidth()).attr("height",0).style("fill",(V,ce)=>this.colors(ce)).transition().delay((V,ce)=>10*ce).attr("y",V=>this.yScale(V[1])).attr("height",V=>this.height-this.yScale(V[1]))}static#e=this.\u0275fac=function(V){return new(V||s)};static#t=this.\u0275cmp=La.VBU({type:s,selectors:[["app-barchart"]],viewQuery:function(V,ce){if(1&V&&La.GBs(Sc,7),2&V){let xe;La.mGM(xe=La.lsd())&&(ce.chartContainer=xe.first)}},inputs:{data:"data"},features:[La.OA$],decls:2,vars:0,consts:[["chart",""],[1,"d3-chart"]],template:function(V,ce){1&V&&La.nrm(0,"div",1,0)},styles:[".d3-chart{width:100%;height:400px}.d3-chart .axis path,.d3-chart .axis line{stroke:#999}.d3-chart .axis text{fill:#999}\n"],encapsulation:2})}return s})()},1007:(_n,We,p)=>{"use strict";p.d(We,{F:()=>d});var e=p(3953),f=p(177);let d=(()=>{class G{constructor(){this.checked=!1,this.selectValue=new e.bkB}onClick(){this.checked=!this.checked,this.selectValue.emit(this.checked)}static#e=this.\u0275fac=function(D){return new(D||G)};static#t=this.\u0275cmp=e.VBU({type:G,selectors:[["app-check-mark"]],hostBindings:function(D,x){1&D&&e.bIt("click",function(j){return x.onClick(j.target)})},inputs:{checked:"checked"},outputs:{selectValue:"selectValue"},decls:1,vars:1,consts:[[3,"ngClass"]],template:function(D,x){1&D&&e.nrm(0,"span",0),2&D&&e.Y8G("ngClass",x.checked?"fa-checkmarkcomplete selected":"fa-checkmark")},dependencies:[f.YU],styles:["[_nghost-%COMP%]{padding:4px!important;cursor:pointer;margin:2px}span[_ngcontent-%COMP%]{color:var(--secondary);font-size:large;outline:1px solid var(--border);border-radius:20%;padding:4px}.selected[_ngcontent-%COMP%]{color:var(--b-active-link-color);outline:2px solid var(--border);font-weight:700}"]})}return G})()},9325:(_n,We,p)=>{"use strict";p.d(We,{I:()=>d});var e=p(3953),f=p(7089);let d=(()=>{class G{constructor(b,D){D.template=b}static#e=this.\u0275fac=function(D){return new(D||G)(e.rXU(e.C4Q),e.rXU(f.a))};static#t=this.\u0275dir=e.FsC({type:G,selectors:[["","appConfirm",""]]})}return G})()},3835:(_n,We,p)=>{"use strict";p.d(We,{G:()=>G});var e=p(3953),f=p(9968),d=p(7089);let G=(()=>{class H{constructor(D,x){this.dialogService=D,this.state=x}confirm(D){return this.state.options=D,this.state.dialog=this.dialogService.open(this.state.template,{backdrop:D.backdrop,centered:!0}),this.state.dialog.result}openInfoDialog(D){return this.state.options=D,this.state.dialog=this.dialogService.open(this.state.template,{backdrop:D.backdrop,scrollable:D.scrollable,centered:D.centered}),this.state.dialog.result}static#e=this.\u0275fac=function(x){return new(x||H)(e.KVO(f.Bq),e.KVO(d.a))};static#t=this.\u0275prov=e.jDH({token:H,factory:H.\u0275fac})}return H})()},7089:(_n,We,p)=>{"use strict";p.d(We,{a:()=>f});var e=p(3953);let f=(()=>{class d{static#e=this.\u0275fac=function(b){return new(b||d)};static#t=this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}return d})()},9374:(_n,We,p)=>{"use strict";p.d(We,{K:()=>d});var e=p(3953),f=p(7089);let d=(()=>{class G{constructor(b){this.state=b,this.options=b.options}close(){this.state.dialog.close("confirmed")}static#e=this.\u0275fac=function(D){return new(D||G)(e.rXU(f.a))};static#t=this.\u0275cmp=e.VBU({type:G,selectors:[["app-dialog-info-component"]],decls:9,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(D,x){1&D&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return x.close()}),e.k0s()(),e.j41(4,"div",3),e.EFF(5),e.k0s(),e.j41(6,"div",4)(7,"button",5),e.bIt("click",function(){return x.close()}),e.EFF(8,"Close"),e.k0s()()),2&D&&(e.R7$(2),e.JRh(x.options.title),e.R7$(3),e.SpI(" ",x.options.message,"\n"))},encapsulation:2})}return G})()},3450:(_n,We,p)=>{"use strict";p.d(We,{U:()=>f});var e=p(3953);let f=(()=>{class d{saveSelection(H){const b=window.getSelection().getRangeAt(0),D=b.cloneRange();D.selectNodeContents(H),D.setEnd(b.startContainer,b.startOffset);const x=D.toString().length;return{start:x,end:x+b.toString().length}}restoreSelection(H,b){let D=0,x=document.createRange();x.setStart(H,0),x.collapse(!0);let j,k=[H],X=!1,se=!1;for(;!se&&(j=k.pop());)if(3==j.nodeType){const oe=D+j.length;!X&&b.start>=D&&b.start<=oe&&(x.setStart(j,b.start-D),X=!0),X&&b.end>=D&&b.end<=oe&&(x.setEnd(j,b.end-D),se=!0),D=oe}else{let oe=j.childNodes.length;for(;oe--;)k.push(j.childNodes[oe])}const q=window.getSelection();q.removeAllRanges(),q.addRange(x)}doRestore(H,b){H&&this.restoreSelection(b,JSON.parse(H))}static#e=this.\u0275fac=function(b){return new(b||d)};static#t=this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac})}return d})()},7139:(_n,We,p)=>{"use strict";p.d(We,{Z:()=>se});var e=p(3953),f=p(4341),d=p(3726),G=p(5964),H=p(152),b=p(3294),D=p(8141),x=p(345),k=p(3450);const j=["textarea"],X={provide:f.kq,useExisting:(0,e.Rfq)(()=>se),multi:!0};let se=(()=>{class q{constructor(te,ue){this.htmlSafe=te,this.txtSelection=ue,this.textAreaTextChanged=new e.bkB(!1),this.textAreaUpdatedOpendNote=new e.bkB(!1),this.textAreaSelectionChange=new e.bkB(!1)}ngOnInit(){this.subscription=(0,d.R)(this.textarea.nativeElement,"input").pipe((0,G.p)(Boolean),(0,H.B)(450),(0,b.F)(),(0,D.M)(()=>{this.textAreaTextChanged.emit({...this.note,text:this.textarea.nativeElement.innerHTML})})).subscribe()}ngOnDestroy(){this.subscription.unsubscribe()}onFocusOut(te){this.textAreaSelectionChange.emit({...this.note,text:te.innerHTML,selection:JSON.stringify(this.txtSelection.saveSelection(te))}),this.textAreaUpdatedOpendNote.emit({...this.note,text:te.innerHTML,selection:JSON.stringify(this.txtSelection.saveSelection(te))})}ngOnChanges(te){te.note.currentValue.id===this.note.id&&null!==this.note.selection&&te.note.currentValue.id!==te.note.previousValue?.id&&setTimeout(()=>{this.txtSelection.doRestore(this.note.selection,this.textarea.nativeElement)},100)}static#e=this.\u0275fac=function(ue){return new(ue||q)(e.rXU(x.up),e.rXU(k.U))};static#t=this.\u0275cmp=e.VBU({type:q,selectors:[["app-textarea-expanded"]],viewQuery:function(ue,Ge){if(1&ue&&e.GBs(j,7),2&ue){let Ee;e.mGM(Ee=e.lsd())&&(Ge.textarea=Ee.first)}},hostBindings:function(ue,Ge){1&ue&&e.bIt("focusout",function(Fe){return Ge.onFocusOut(Fe.target)})},inputs:{note:"note"},outputs:{textAreaTextChanged:"textAreaTextChanged",textAreaUpdatedOpendNote:"textAreaUpdatedOpendNote",textAreaSelectionChange:"textAreaSelectionChange"},features:[e.Jv_([X]),e.OA$],decls:5,vars:4,consts:[["textarea",""],[1,"text-area-wrapper"],[1,"textArea"],["contenteditable","true","tabindex","1",1,"p-3","textInput",3,"innerHTML","autofocus","spellcheck"]],template:function(ue,Ge){1&ue&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3,0),e.EFF(4),e.k0s()()()),2&ue&&(e.R7$(2),e.Y8G("innerHTML",Ge.note.text,e.npT)("autofocus",!0)("spellcheck",Ge.note.spellCheck),e.R7$(2),e.SpI(" ",Ge.note.text," "))},styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto}.text-area-wrapper[_ngcontent-%COMP%]{position:relative;overflow-y:auto;overflow-x:hidden;display:flex;flex:1 1 auto;flex-direction:column;border-bottom:2px solid var(--border)}.textArea[_ngcontent-%COMP%]{flex:1 1 auto;position:relative;display:flex;flex-direction:column}.textArea[_ngcontent-%COMP%]::spelling-error{background-color:#ff000024;text-decoration-line:underline;text-decoration-style:solid;text-decoration-color:#add8e6}.textInput[_ngcontent-%COMP%]{position:absolute;font-size:.85rem}div.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}[contenteditable][_ngcontent-%COMP%]{outline:0px solid transparent;width:100%;height:100%}*[_ngcontent-%COMP%]::-webkit-scrollbar{width:.85rem}*[_ngcontent-%COMP%]::-webkit-scrollbar-button{position:absolute;display:none}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb-color);border-radius:.5rem}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover-color)}.custom-scroll[_ngcontent-%COMP%]{--scrollbar-size: 8px;--scrollbar-thumb-color: var(--bs-primary);--scrollbar-hover-size: 12px;--scrollbar-track-color: rgba(0, 0, 0, .05);--scrollbar-border-radius: 0px}"],changeDetection:0})}return q})()},5737:(_n,We,p)=>{"use strict";p.d(We,{j:()=>Bt});var e=p(177),f=p(3880),k=(p(1223),p(2275),p(6067),p(5159),p(7139),p(1007),p(3953)),j=p(7089);p(9374),p(9325);var oe=p(3835),ue=(p(3129),p(9968)),Ee=(p(2881),p(7823));p(4341),p(4445);const Tt=[oe.G,j.a],It=[];let Bt=(()=>{class wt{static forRoot(){return{ngModule:wt,providers:[...It,...Tt]}}static#e=this.\u0275fac=function(Pn){return new(Pn||wt)};static#t=this.\u0275mod=k.$C({type:wt});static#n=this.\u0275inj=k.G2t({imports:[e.MD,Ee.G,f.Id,ue.UN]})}return wt})()},7497:(_n,We,p)=>{"use strict";p.d(We,{L:()=>e});class e{constructor(d={}){Object.assign(this,d)}}},8722:(_n,We,p)=>{"use strict";p.d(We,{F:()=>d});var e=p(7673),f=p(3953);let d=(()=>{class G{static#e=this.isDarkMode=!1;get DarkMode(){return"true"===localStorage.getItem("darkmode")||G.isDarkMode}set DarkMode(b){localStorage.setItem("darkmode",b.toString()),this.style.href=this.getStyleName(this.DarkMode)}constructor(){this.style=document.createElement("link"),this.style.rel="stylesheet",this.style.type="text/css"}getStyleName(b){return b?"dark.css":"light.css"}toggleDarkMode(){return this.style.href=this.getStyleName(!this.DarkMode),localStorage.setItem("darkmode",(!this.DarkMode).toString()),this.DarkMode}initTheme(){return this.style.href=this.getStyleName(this.DarkMode),document.head.appendChild(this.style),(0,e.of)(!0)}static#t=this.\u0275fac=function(D){return new(D||G)};static#n=this.\u0275prov=f.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},6794:(_n,We,p)=>{"use strict";p.d(We,{BI:()=>X,Ek:()=>H,W$:()=>b,W1:()=>se,Wi:()=>G,du:()=>D,fp:()=>f,oR:()=>d,ri:()=>q});var e=p(9640);const f=(0,e.VP)("[AUTH] TOKEN_EXPIRE",(0,e.xk)()),d=(0,e.VP)("[AUTH] ROUTE_TO_LOGIN",(0,e.xk)()),G=(0,e.VP)("[AUTH] ROUTE_TO_HOME"),H=(0,e.VP)("[AUTH] LOGIN_EVENT",(0,e.xk)()),b=(0,e.VP)("[AUTH] LOGIN_EVENT_FAIL",(0,e.xk)()),D=(0,e.VP)("[AUTH] LOGIN_EVENT_SUCCESS"),X=((0,e.VP)("[AUTH] AUTH_INIT"),(0,e.VP)("[AUTH] AUTH_INIT_SUCCESS",(0,e.xk)()),(0,e.VP)("[AUTH] LOAD_PROFILE"),(0,e.VP)("[AUTH] LOAD_PROFILE_SUCCESS",(0,e.xk)())),se=(0,e.VP)("[AUTH] LOAD_PROFILE_FAIL",(0,e.xk)()),q=(0,e.VP)("[AUTH] LOGOUT",(0,e.xk)());(0,e.VP)("[AUTH] LOGOUT_SUCCESS"),(0,e.VP)("[AUTH] LOGOUT_FAIL")},1014:(_n,We,p)=>{"use strict";p.d(We,{Ak:()=>Fe,HG:()=>Ee,J8:()=>Ye,SX:()=>H,T8:()=>se,VD:()=>x,XJ:()=>D,YQ:()=>G,Z:()=>q,Zb:()=>d,_f:()=>ye,bQ:()=>Ge,dL:()=>k,d_:()=>ke,i3:()=>b,l$:()=>ue,lh:()=>f,qM:()=>oe,qb:()=>j,sD:()=>te,y$:()=>X});var e=p(9640);const f=(0,e.VP)("[EVENT] CREATE_EVENT",(0,e.xk)()),d=(0,e.VP)("[EVENT] CREATE_EVENT_FAIL",(0,e.xk)()),G=(0,e.VP)("[EVENT] CREATE_EVENT_SUCCESS",(0,e.xk)()),H=(0,e.VP)("[EVENT] DELETE_EVENT",(0,e.xk)()),b=(0,e.VP)("[EVENT] DELETE_EVENT_FAIL",(0,e.xk)()),D=(0,e.VP)("[EVENT] DELETE_EVENT_SUCCESS",(0,e.xk)()),x=(0,e.VP)("[EVENT] DELETE_EVENTS",(0,e.xk)()),k=(0,e.VP)("[EVENT] DELETE_EVENTS_FAIL",(0,e.xk)()),j=(0,e.VP)("[EVENT] DELETE_EVENTS_SUCCESS",(0,e.xk)()),X=(0,e.VP)("[EVENT] FETCH_EVENTS"),se=(0,e.VP)("[EVENT] FETCH_EVENTS_FAILURE",(0,e.xk)()),q=(0,e.VP)("[EVENT] FETCH_EVENTS_SUCCESS",(0,e.xk)()),oe=(0,e.VP)("[EVENT] UPDATE_EVENT",(0,e.xk)()),te=(0,e.VP)("[EVENT] UPDATE_EVENT_FAIL",(0,e.xk)()),ue=(0,e.VP)("[EVENT] UPDATE_EVENT_SUCCESS",(0,e.xk)()),Ge=(0,e.VP)("[EVENT] TOGGLE_EVENT",(0,e.xk)()),Ee=(0,e.VP)("[EVENT] TOGGLE_EVENT_FAIL",(0,e.xk)()),Fe=(0,e.VP)("[EVENT] TOGGLE_EVENT_SUCCESS",(0,e.xk)()),ye=(0,e.VP)("[EVENT] FETCH_EVENTS_START"),ke=(0,e.VP)("[EVENT] FETCH_EVENTS_COMPLETE"),Ye=(0,e.VP)("[EVENT] EVENTS_CLEAR")},3531:(_n,We,p)=>{"use strict";p.d(We,{$3:()=>nn,$C:()=>Tt,$F:()=>Ge,$N:()=>Hn,$U:()=>ue,CU:()=>D,Cq:()=>ke,D7:()=>se,Dh:()=>$t,Fp:()=>nt,GW:()=>X,Hs:()=>Pe,IL:()=>Ee,Iy:()=>x,KC:()=>Bt,KV:()=>te,Mw:()=>m,Qp:()=>At,RS:()=>It,TM:()=>ii,UX:()=>xt,Uw:()=>k,VA:()=>Tn,Vc:()=>Rt,Vh:()=>Ye,Vs:()=>kn,Ym:()=>ti,_w:()=>$e,cX:()=>Bn,e4:()=>B,gx:()=>tt,le:()=>j,lh:()=>oe,n5:()=>Jt,ne:()=>pn,p4:()=>H,pF:()=>q,pP:()=>qe,qV:()=>un,sF:()=>J,tM:()=>Fe,w3:()=>ye,ws:()=>gi,xC:()=>Le,z9:()=>b,zL:()=>bt});var e=p(9640);(0,e.VP)("[NOTE] CREATE_NEW_NOTE",(0,e.xk)()),(0,e.VP)("[NOTE] CREATE_NEW_NOTE_FAIL",(0,e.xk)()),(0,e.VP)("[NOTE] CREATE_NEW_NOTE_SUCCESS",(0,e.xk)());const H=(0,e.VP)("[NOTE] CREATE_NOTE",(0,e.xk)()),b=(0,e.VP)("[NOTE] CREATE_NOTE_FAIL",(0,e.xk)()),D=(0,e.VP)("[NOTE] CREATE_NOTE_SUCCESS",(0,e.xk)()),x=(0,e.VP)("[NOTE] DELETE_NOTE",(0,e.xk)()),k=(0,e.VP)("[NOTE] DELETE_NOTE_FAIL",(0,e.xk)()),j=(0,e.VP)("[NOTE] DELETE_NOTE_SUCCESS",(0,e.xk)()),X=(0,e.VP)("[NOTE] FETCH_NOTES"),se=(0,e.VP)("[NOTE] FETCH_NOTES_FAILURE",(0,e.xk)()),q=(0,e.VP)("[NOTE] FETCH_NOTES_SUCCESS",(0,e.xk)()),oe=(0,e.VP)("[NOTE] UPDATE_NOTE_TEXT",(0,e.xk)()),te=(0,e.VP)("[NOTE] UPDATE_NOTE_TEXT_SUCCESS",(0,e.xk)()),ue=(0,e.VP)("[NOTE] UPDATE_NOTE_TEXT_FAIL",(0,e.xk)()),Ge=(0,e.VP)("[NOTE] UPDATE_NOTE_HEADER",(0,e.xk)()),Ee=(0,e.VP)("[NOTE] UPDATE_NOTE_HEADER_SUCCESS",(0,e.xk)()),Fe=(0,e.VP)("[NOTE] UPDATE_NOTE_HEADER_FAIL",(0,e.xk)()),ye=(0,e.VP)("[NOTE] UPDATE_NOTE",(0,e.xk)()),ke=(0,e.VP)("[NOTE] UPDATE_NOTE_FAIL",(0,e.xk)()),Ye=(0,e.VP)("[NOTE] UPDATE_NOTE_SUCCESS",(0,e.xk)()),nt=(0,e.VP)("[NOTE] UPDATE_NOTE_POSITION",(0,e.xk)()),m=(0,e.VP)("[NOTE] UPDATE_NOTE_POSITION_SUCCESS",(0,e.xk)()),Tt=(0,e.VP)("[NOTE] UPDATE_NOTE_POSITION_FAIL",(0,e.xk)()),It=(0,e.VP)("[NOTE] UPDATE_NOTE_SIZE",(0,e.xk)()),Bt=(0,e.VP)("[NOTE] UPDATE_NOTE_SIZE_SUCCESS",(0,e.xk)()),Tn=((0,e.VP)("[NOTE] UPDATE_NOTE_SIZE_FAIL",(0,e.xk)()),(0,e.VP)("[NOTE] GET_NOTE",(0,e.xk)()),(0,e.VP)("[NOTE] GET_NOTE_FAIL",(0,e.xk)()),(0,e.VP)("[NOTE] GET_NOTE_SUCCESS",(0,e.xk)()),(0,e.VP)("[NOTE] GET_NOTE_UPDATED_TIMESTAMP",(0,e.xk)()),(0,e.VP)("[NOTE] GET_NOTE_UPDATED_TIMESTAMP_SUCCESS",(0,e.xk)())),nn=((0,e.VP)("[NOTE] GET_NOTE_UPDATED_TIMESTAMP_FAIL",(0,e.xk)()),(0,e.VP)("[NOTE] UPDATE_PIN_ORDER",(0,e.xk)())),tt=(0,e.VP)("[NOTE] UPDATE_PIN_ORDER_SUCCESS",(0,e.xk)()),bt=(0,e.VP)("[NOTE] UPDATE_PIN_ORDER_FAIL",(0,e.xk)()),Rt=(0,e.VP)("[NOTE] RESTORE_NOTE",(0,e.xk)()),xt=(0,e.VP)("[NOTE] RESTORE_NOTE_SUCCESS",(0,e.xk)()),Jt=(0,e.VP)("[NOTE] RESTORE_NOTE_FAIL",(0,e.xk)()),$t=(0,e.VP)("[NOTE] ARCHIVE_NOTE",(0,e.xk)()),Bn=(0,e.VP)("[NOTE] ARCHIVE_NOTE_SUCCESS",(0,e.xk)()),Hn=(0,e.VP)("[NOTE] ARCHIVE_NOTE_FAIL",(0,e.xk)()),Le=(0,e.VP)("[NOTE] SELECT",(0,e.xk)()),B=(0,e.VP)("[NOTE] UPDATE_OPEND_NOTE",(0,e.xk)()),J=(0,e.VP)("[NOTE] UPDATE_NOTE_COLOUR",(0,e.xk)()),Pe=(0,e.VP)("[NOTE] UPDATE_NOTE_COLOUR_SUCCESS",(0,e.xk)()),$e=(0,e.VP)("[NOTE] UPDATE_NOTE_COLOUR_FAIL",(0,e.xk)()),qe=(0,e.VP)("[NOTE] FETCH_NOTES_COMPLETE"),At=(0,e.VP)("[NOTE] FETCH_NOTES_START"),un=(0,e.VP)("[NOTE] UPDATE_NOTE_SELECTION",(0,e.xk)()),kn=(0,e.VP)("[NOTE] UPDATE_NOTE_SELECTION_SUCCESS",(0,e.xk)()),ti=(0,e.VP)("[NOTE] UPDATE_NOTE_SELECTION_FAIL",(0,e.xk)()),ii=(0,e.VP)("[NOTE] TOGGLE_SPELL_CHECK",(0,e.xk)()),gi=(0,e.VP)("[NOTE] TOGGLE_SPELL_CHECK_SUCCESS",(0,e.xk)()),pn=(0,e.VP)("[NOTE] TOGGLE_SPELL_CHECK_FAIL",(0,e.xk)())},5347:(_n,We,p)=>{"use strict";p.d(We,{DZ:()=>d,E8:()=>D,X1:()=>b,_R:()=>f,eP:()=>x,l:()=>k,sU:()=>j});var e=p(9640);const f=(0,e.VP)("[PREFERENCE] TOGGLE_DARK_MODE"),d=(0,e.VP)("[PREFERENCE] TOGGLE_DARK_MODE_SUCCESS"),b=((0,e.VP)("[PREFERENCE] GET_DARK_MODE"),(0,e.VP)("[PREFERENCE] GET_DARK_MODE_SUCCESS",(0,e.xk)()),(0,e.VP)("[PREFERENCE] LOG_IN_SUCCESS")),D=(0,e.VP)("[PREFERENCE] LOG_IN"),x=(0,e.VP)("[PREFERENCE] GET_IS_LOGGED_IN"),k=(0,e.VP)("[PREFERENCE] GET_IS_LOGGED_IN_SUCCESS",(0,e.xk)()),j=(0,e.VP)("[PREFERENCE] SET_IS_LOGGED_IN",(0,e.xk)());(0,e.VP)("[PREFERENCE] SET_IS_LOGGED_IN_SUCCESS",(0,e.xk)())},9809:(_n,We,p)=>{"use strict";p.d(We,{RQ:()=>x,WR:()=>D,c1:()=>G,kQ:()=>b});var e=p(9640),f=p(1014);const G=(0,e.vy)({events:[],isLoading:!1},(0,e.on)(f.J8,j=>({...j,events:[]})),(0,e.on)(f.YQ,(j,X)=>({...j,events:[X.payload,...j.events]})),(0,e.on)(f.Z,(j,X)=>({...j,events:X.payload.slice().reverse()||[]})),(0,e.on)(f.Ak,f.l$,(j,X)=>({...j,events:j.events.map(se=>se.id===X.payload.id?X.payload:se)})),(0,e.on)(f.XJ,(j,X)=>({...j,events:j.events.filter(se=>se.id!==X.payload.id)})),(0,e.on)(f._f,j=>({...j,isLoading:!0})),(0,e.on)(f.d_,j=>({...j,isLoading:!1})),(0,e.on)(f.qb,(j,X)=>({...j,events:j.events.filter(se=>X.payload.every(q=>q.id!==se.id))}))),H=(0,e.UX)("events"),b=(0,e.Mz)(H,j=>j.events),D=(0,e.Mz)(H,j=>j.events.length),x=(0,e.Mz)(H,j=>j.isLoading)},4410:(_n,We,p)=>{"use strict";p.d(We,{OF:()=>se,RQ:()=>Ge,jU:()=>Ee,X9:()=>Fe,CS:()=>X,NN:()=>oe,qi:()=>q,rT:()=>ue,sU:()=>te,W7:()=>D});var e=p(9640),f=p(3531),d=p(7497);const G=(0,e.UX)("router"),H=(0,e.Mz)(G,ye=>ye.state),D=(0,e.vy)({notes:[],selectedNote:null,opendNote:null,isLoading:!1,animate:{note:!1,date:!1}},(0,e.on)(f.xC,(ye,ke)=>({...ye,selectedNote:ke.payload,opendNote:ke.payload})),(0,e.on)(f.e4,(ye,ke)=>({...ye,opendNote:ke.payload})),(0,e.on)(f.CU,(ye,ke)=>({...ye,notes:k([ke.payload,...ye.notes]),selectedNote:ke.payload,opendNote:ke.payload,animate:{note:!0,date:!0}})),(0,e.on)(f.Qp,ye=>({...ye,isLoading:!0})),(0,e.on)(f.pP,ye=>({...ye,isLoading:!1})),(0,e.on)(f.pF,(ye,ke)=>({...ye,notes:ke.payload,selectedNote:ke.payload.filter(Ye=>!Ye.archived)[0]??null,opendNote:ke.payload.filter(Ye=>!Ye.archived)[0]??null,animate:{note:!0,date:!0}})),(0,e.on)(f.Vh,f.Mw,f.KC,f.IL,(ye,ke)=>({...ye,notes:ye.notes.map(Ye=>Ye.id===ke.payload.id||void 0===Ye.id?ke.payload:Ye),opendNote:ke.payload,selectedNote:ke.payload,animate:{note:!0,date:!0}})),(0,e.on)(f.ws,(ye,ke)=>({...ye,notes:ye.notes.map(Ye=>Ye.id===ke.payload.id||void 0===Ye.id?ke.payload:Ye),opendNote:ke.payload,selectedNote:ke.payload,animate:{note:!1,date:!1}})),(0,e.on)(f.Vs,(ye,ke)=>({...ye,notes:ye.notes.map(Ye=>Ye.id===ke.payload.id||void 0===Ye.id?ke.payload:Ye),animate:{note:!1,date:!1}})),(0,e.on)(f.UX,(ye,ke)=>{const nt=x(ye.notes.map(m=>m.id===ke.payload.id?ke.payload:m));return{...ye,notes:k(nt),animate:{...ye.animate,note:!1,date:!1}}}),(0,e.on)(f.Hs,(ye,ke)=>{const Ye=ye.notes.map(nt=>nt.id===ke.payload.id?ke.payload:nt);return{...ye,notes:Ye,animate:{...ye.animate,note:!1,date:!1}}}),(0,e.on)(f.KV,(ye,ke)=>{const Ye=ye.notes.map(m=>m.id===ke.payload.id?ke.payload:m),nt=[Ye.find(m=>m.id===ke.payload.id),...Ye.filter(m=>m.id!==ke.payload.id)];return{...ye,notes:k(nt),animate:{...ye.animate,note:!1,date:!1}}}),(0,e.on)(f.$3,(ye,ke)=>ke.payload.id===ye.opendNote?.id?{...ye,opendNote:{...ye.opendNote,pinOrder:ke.payload.pinOrder}}:ye),(0,e.on)(f.gx,(ye,ke)=>{const Ye=ye.notes.map(m=>m.id===ke.payload.id?ke.payload:m),nt=[Ye.find(m=>m.id===ke.payload.id),...Ye.filter(m=>m.id!==ke.payload.id)];return{...ye,notes:k(x(nt)),animate:{note:!0,date:!1}}}),(0,e.on)(f.VA,(ye,ke)=>({...ye,notes:ye.notes.map(Ye=>Ye.id===ke.payload.id?{...Ye,dateModified:ke.payload.dateModified}:Ye)})),(0,e.on)(f.cX,f.le,(ye,ke)=>{const Ye=ye.notes.map(nt=>nt.id===ke.payload.id?ke.payload:nt);return{...ye,notes:Ye,selectedNote:null,opendNote:null,animate:{note:!0,date:!0}}}));function x(ye){return ye.sort((ke,Ye)=>ke.dateModified>Ye.dateModified?-1:1)}function k(ye){return[...ye.filter(ke=>null!==ke.pinOrder),...ye.filter(ke=>null===ke.pinOrder)].sort((ke,Ye)=>ke.pinOrder>Ye.pinOrder?-1:1)}const j=(0,e.UX)("notes"),X=(0,e.Mz)(j,ye=>ye.notes.filter(ke=>!ke.archived)),se=(0,e.Mz)(j,ye=>ye.notes.filter(ke=>ke.archived).sort((ke,Ye)=>ke.dateArchived>Ye.dateArchived?-1:1)),q=(0,e.Mz)(j,ye=>ye.notes.filter(ke=>!ke.archived).length),oe=(0,e.Mz)(j,ye=>ye.animate),te=(0,e.Mz)(j,ye=>ye.selectedNote?ye.notes.find(ke=>ke.id===ye.selectedNote.id):new d.L),ue=(0,e.Mz)(j,ye=>ye.opendNote),Ge=(0,e.Mz)(j,ye=>ye.isLoading),Ee=ye=>(0,e.Mz)(j,ke=>ke.notes?ke.notes.find(Ye=>Ye.id===ye):{}),Fe=(0,e.Mz)(j,H,(ye,ke)=>ye.notes?ye.notes.find(Ye=>Ye.id===Number(ke.params.id)):{})},7225:(_n,We,p)=>{"use strict";p.d(We,{M3:()=>x,ud:()=>D,w:()=>H});var e=p(9640),f=p(5347),d=p(8722);const G={isDarkMode:"true"===localStorage.getItem("darkmode")||d.F.isDarkMode,isLoggedIn:!1},H=(0,e.vy)(G,(0,e.on)(f.DZ,k=>({...k,isDarkMode:!k.isDarkMode})),(0,e.on)(f.X1,k=>({...k,isLoggedIn:!0})),(0,e.on)(f.l,(k,j)=>({...k,isLoggedIn:j.isLoggedIn}))),b=(0,e.UX)("preference"),D=(0,e.Mz)(b,k=>k.isDarkMode),x=(0,e.Mz)(b,k=>k.isLoggedIn)},1653:function(_n,We){var e;!function(f,d){"use strict";"object"==typeof _n.exports?_n.exports=f.document?d(f,!0):function(G){if(!G.document)throw new Error("jQuery requires a window with a document");return d(G)}:d(f)}(typeof window<"u"?window:this,function(f,d){"use strict";var G=[],H=Object.getPrototypeOf,b=G.slice,D=G.flat?function(o){return G.flat.call(o)}:function(o){return G.concat.apply([],o)},x=G.push,k=G.indexOf,j={},X=j.toString,se=j.hasOwnProperty,q=se.toString,oe=q.call(Object),te={},ue=function(g){return"function"==typeof g&&"number"!=typeof g.nodeType&&"function"!=typeof g.item},Ge=function(g){return null!=g&&g===g.window},Ee=f.document,Fe={type:!0,src:!0,nonce:!0,noModule:!0};function ye(o,g,M){var N,Y,Z=(M=M||Ee).createElement("script");if(Z.text=o,g)for(N in Fe)(Y=g[N]||g.getAttribute&&g.getAttribute(N))&&Z.setAttribute(N,Y);M.head.appendChild(Z).parentNode.removeChild(Z)}function ke(o){return null==o?o+"":"object"==typeof o||"function"==typeof o?j[X.call(o)]||"object":typeof o}var nt=/HTML$/i,m=function(o,g){return new m.fn.init(o,g)};function Tt(o){var g=!!o&&"length"in o&&o.length,M=ke(o);return!ue(o)&&!Ge(o)&&("array"===M||0===g||"number"==typeof g&&g>0&&g-1 in o)}function It(o,g){return o.nodeName&&o.nodeName.toLowerCase()===g.toLowerCase()}m.fn=m.prototype={jquery:"3.7.1",constructor:m,length:0,toArray:function(){return b.call(this)},get:function(o){return null==o?b.call(this):o<0?this[o+this.length]:this[o]},pushStack:function(o){var g=m.merge(this.constructor(),o);return g.prevObject=this,g},each:function(o){return m.each(this,o)},map:function(o){return this.pushStack(m.map(this,function(g,M){return o.call(g,M,g)}))},slice:function(){return this.pushStack(b.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(m.grep(this,function(o,g){return(g+1)%2}))},odd:function(){return this.pushStack(m.grep(this,function(o,g){return g%2}))},eq:function(o){var g=this.length,M=+o+(o<0?g:0);return this.pushStack(M>=0&&M<g?[this[M]]:[])},end:function(){return this.prevObject||this.constructor()},push:x,sort:G.sort,splice:G.splice},m.extend=m.fn.extend=function(){var o,g,M,N,Y,Z,pe=arguments[0]||{},Je=1,Xe=arguments.length,ht=!1;for("boolean"==typeof pe&&(ht=pe,pe=arguments[Je]||{},Je++),"object"!=typeof pe&&!ue(pe)&&(pe={}),Je===Xe&&(pe=this,Je--);Je<Xe;Je++)if(null!=(o=arguments[Je]))for(g in o)N=o[g],"__proto__"!==g&&pe!==N&&(ht&&N&&(m.isPlainObject(N)||(Y=Array.isArray(N)))?(M=pe[g],Z=Y&&!Array.isArray(M)?[]:Y||m.isPlainObject(M)?M:{},Y=!1,pe[g]=m.extend(ht,Z,N)):void 0!==N&&(pe[g]=N));return pe},m.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(o){throw new Error(o)},noop:function(){},isPlainObject:function(o){var g,M;return!(!o||"[object Object]"!==X.call(o)||(g=H(o))&&("function"!=typeof(M=se.call(g,"constructor")&&g.constructor)||q.call(M)!==oe))},isEmptyObject:function(o){var g;for(g in o)return!1;return!0},globalEval:function(o,g,M){ye(o,{nonce:g&&g.nonce},M)},each:function(o,g){var M,N=0;if(Tt(o))for(M=o.length;N<M&&!1!==g.call(o[N],N,o[N]);N++);else for(N in o)if(!1===g.call(o[N],N,o[N]))break;return o},text:function(o){var g,M="",N=0,Y=o.nodeType;if(!Y)for(;g=o[N++];)M+=m.text(g);return 1===Y||11===Y?o.textContent:9===Y?o.documentElement.textContent:3===Y||4===Y?o.nodeValue:M},makeArray:function(o,g){var M=g||[];return null!=o&&(Tt(Object(o))?m.merge(M,"string"==typeof o?[o]:o):x.call(M,o)),M},inArray:function(o,g,M){return null==g?-1:k.call(g,o,M)},isXMLDoc:function(o){var M=o&&(o.ownerDocument||o).documentElement;return!nt.test(o&&o.namespaceURI||M&&M.nodeName||"HTML")},merge:function(o,g){for(var M=+g.length,N=0,Y=o.length;N<M;N++)o[Y++]=g[N];return o.length=Y,o},grep:function(o,g,M){for(var Y=[],Z=0,pe=o.length,Je=!M;Z<pe;Z++)!g(o[Z],Z)!==Je&&Y.push(o[Z]);return Y},map:function(o,g,M){var N,Y,Z=0,pe=[];if(Tt(o))for(N=o.length;Z<N;Z++)null!=(Y=g(o[Z],Z,M))&&pe.push(Y);else for(Z in o)null!=(Y=g(o[Z],Z,M))&&pe.push(Y);return D(pe)},guid:1,support:te}),"function"==typeof Symbol&&(m.fn[Symbol.iterator]=G[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(o,g){j["[object "+g+"]"]=g.toLowerCase()});var Bt=G.pop,wt=G.sort,mn=G.splice,tn="[\\x20\\t\\r\\n\\f]",Pn=new RegExp("^"+tn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tn+"+$","g");m.contains=function(o,g){var M=g&&g.parentNode;return o===M||!(!M||1!==M.nodeType||!(o.contains?o.contains(M):o.compareDocumentPosition&&16&o.compareDocumentPosition(M)))};var On=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Tn(o,g){return g?"\0"===o?"\ufffd":o.slice(0,-1)+"\\"+o.charCodeAt(o.length-1).toString(16)+" ":"\\"+o}m.escapeSelector=function(o){return(o+"").replace(On,Tn)};var Cn=Ee,nn=x;!function(){var o,g,M,N,Y,pe,Je,Xe,ht,Vt,Z=nn,Gt=m.expando,Ot=0,fn=0,Yn=so(),Bi=so(),Zn=so(),Vr=so(),Ji=function(Ne,ot){return Ne===ot&&(Y=!0),0},Is="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ys="(?:\\\\[\\da-fA-F]{1,6}"+tn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Mi="\\["+tn+"*("+Ys+")(?:"+tn+"*([*^$|!~]?=)"+tn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ys+"))|)"+tn+"*\\]",ao=":("+Ys+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Mi+")*)|.*)\\)|)",Yi=new RegExp(tn+"+","g"),vr=new RegExp("^"+tn+"*,"+tn+"*"),Ns=new RegExp("^"+tn+"*([>+~]|"+tn+")"+tn+"*"),Io=new RegExp(tn+"|>"),hr=new RegExp(ao),no=new RegExp("^"+Ys+"$"),Ss={ID:new RegExp("^#("+Ys+")"),CLASS:new RegExp("^\\.("+Ys+")"),TAG:new RegExp("^("+Ys+"|[*])"),ATTR:new RegExp("^"+Mi),PSEUDO:new RegExp("^"+ao),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tn+"*(even|odd|(([+-]|)(\\d*)n|)"+tn+"*(?:([+-]|)"+tn+"*(\\d+)|))"+tn+"*\\)|)","i"),bool:new RegExp("^(?:"+Is+")$","i"),needsContext:new RegExp("^"+tn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tn+"*((?:-\\d)?\\d*)"+tn+"*\\)|)(?=[^-]|$)","i")},zr=/^(?:input|select|textarea|button)$/i,Mr=/^h\d$/i,Es=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fo=/[+~]/,io=new RegExp("\\\\[\\da-fA-F]{1,6}"+tn+"?|\\\\([^\\r\\n\\f])","g"),Os=function(Ne,ot){var St="0x"+Ne.slice(1)-65536;return ot||(St<0?String.fromCharCode(St+65536):String.fromCharCode(St>>10|55296,1023&St|56320))},ss=function(){ni()},ro=zs(function(Ne){return!0===Ne.disabled&&It(Ne,"fieldset")},{dir:"parentNode",next:"legend"});try{Z.apply(G=b.call(Cn.childNodes),Cn.childNodes)}catch{Z={apply:function(ot,St){nn.apply(ot,b.call(St))},call:function(ot){nn.apply(ot,b.call(arguments,1))}}}function tr(Ne,ot,St,Nt){var Yt,Sn,vn,Vn,Nn,Ki,fi,Ci=ot&&ot.ownerDocument,Hi=ot?ot.nodeType:9;if(St=St||[],"string"!=typeof Ne||!Ne||1!==Hi&&9!==Hi&&11!==Hi)return St;if(!Nt&&(ni(ot),ot=ot||pe,Xe)){if(11!==Hi&&(Nn=Es.exec(Ne)))if(Yt=Nn[1]){if(9===Hi){if(!(vn=ot.getElementById(Yt)))return St;if(vn.id===Yt)return Z.call(St,vn),St}else if(Ci&&(vn=Ci.getElementById(Yt))&&tr.contains(ot,vn)&&vn.id===Yt)return Z.call(St,vn),St}else{if(Nn[2])return Z.apply(St,ot.getElementsByTagName(Ne)),St;if((Yt=Nn[3])&&ot.getElementsByClassName)return Z.apply(St,ot.getElementsByClassName(Yt)),St}if(!(Vr[Ne+" "]||ht&&ht.test(Ne))){if(fi=Ne,Ci=ot,1===Hi&&(Io.test(Ne)||Ns.test(Ne))){for(((Ci=fo.test(Ne)&&Fn(ot.parentNode)||ot)!=ot||!te.scope)&&((Vn=ot.getAttribute("id"))?Vn=m.escapeSelector(Vn):ot.setAttribute("id",Vn=Gt)),Sn=(Ki=Ms(Ne)).length;Sn--;)Ki[Sn]=(Vn?"#"+Vn:":scope")+" "+Cs(Ki[Sn]);fi=Ki.join(",")}try{return Z.apply(St,Ci.querySelectorAll(fi)),St}catch{Vr(Ne,!0)}finally{Vn===Gt&&ot.removeAttribute("id")}}}return Fs(Ne.replace(Pn,"$1"),ot,St,Nt)}function so(){var Ne=[];return function ot(St,Nt){return Ne.push(St+" ")>g.cacheLength&&delete ot[Ne.shift()],ot[St+" "]=Nt}}function os(Ne){return Ne[Gt]=!0,Ne}function K(Ne){var ot=pe.createElement("fieldset");try{return!!Ne(ot)}catch{return!1}finally{ot.parentNode&&ot.parentNode.removeChild(ot),ot=null}}function Q(Ne){return function(ot){return It(ot,"input")&&ot.type===Ne}}function P(Ne){return function(ot){return(It(ot,"input")||It(ot,"button"))&&ot.type===Ne}}function fe(Ne){return function(ot){return"form"in ot?ot.parentNode&&!1===ot.disabled?"label"in ot?"label"in ot.parentNode?ot.parentNode.disabled===Ne:ot.disabled===Ne:ot.isDisabled===Ne||ot.isDisabled!==!Ne&&ro(ot)===Ne:ot.disabled===Ne:"label"in ot&&ot.disabled===Ne}}function He(Ne){return os(function(ot){return ot=+ot,os(function(St,Nt){for(var Yt,Sn=Ne([],St.length,ot),vn=Sn.length;vn--;)St[Yt=Sn[vn]]&&(St[Yt]=!(Nt[Yt]=St[Yt]))})})}function Fn(Ne){return Ne&&typeof Ne.getElementsByTagName<"u"&&Ne}function ni(Ne){var ot,St=Ne?Ne.ownerDocument||Ne:Cn;return St==pe||9!==St.nodeType||!St.documentElement||(Je=(pe=St).documentElement,Xe=!m.isXMLDoc(pe),Vt=Je.matches||Je.webkitMatchesSelector||Je.msMatchesSelector,Je.msMatchesSelector&&Cn!=pe&&(ot=pe.defaultView)&&ot.top!==ot&&ot.addEventListener("unload",ss),te.getById=K(function(Nt){return Je.appendChild(Nt).id=m.expando,!pe.getElementsByName||!pe.getElementsByName(m.expando).length}),te.disconnectedMatch=K(function(Nt){return Vt.call(Nt,"*")}),te.scope=K(function(){return pe.querySelectorAll(":scope")}),te.cssHas=K(function(){try{return pe.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),te.getById?(g.filter.ID=function(Nt){var Yt=Nt.replace(io,Os);return function(Sn){return Sn.getAttribute("id")===Yt}},g.find.ID=function(Nt,Yt){if(typeof Yt.getElementById<"u"&&Xe){var Sn=Yt.getElementById(Nt);return Sn?[Sn]:[]}}):(g.filter.ID=function(Nt){var Yt=Nt.replace(io,Os);return function(Sn){var vn=typeof Sn.getAttributeNode<"u"&&Sn.getAttributeNode("id");return vn&&vn.value===Yt}},g.find.ID=function(Nt,Yt){if(typeof Yt.getElementById<"u"&&Xe){var Sn,vn,Vn,Nn=Yt.getElementById(Nt);if(Nn){if((Sn=Nn.getAttributeNode("id"))&&Sn.value===Nt)return[Nn];for(Vn=Yt.getElementsByName(Nt),vn=0;Nn=Vn[vn++];)if((Sn=Nn.getAttributeNode("id"))&&Sn.value===Nt)return[Nn]}return[]}}),g.find.TAG=function(Nt,Yt){return typeof Yt.getElementsByTagName<"u"?Yt.getElementsByTagName(Nt):Yt.querySelectorAll(Nt)},g.find.CLASS=function(Nt,Yt){if(typeof Yt.getElementsByClassName<"u"&&Xe)return Yt.getElementsByClassName(Nt)},ht=[],K(function(Nt){var Yt;Je.appendChild(Nt).innerHTML="<a id='"+Gt+"' href='' disabled='disabled'></a><select id='"+Gt+"-\r\\' disabled='disabled'><option selected=''></option></select>",Nt.querySelectorAll("[selected]").length||ht.push("\\["+tn+"*(?:value|"+Is+")"),Nt.querySelectorAll("[id~="+Gt+"-]").length||ht.push("~="),Nt.querySelectorAll("a#"+Gt+"+*").length||ht.push(".#.+[+~]"),Nt.querySelectorAll(":checked").length||ht.push(":checked"),(Yt=pe.createElement("input")).setAttribute("type","hidden"),Nt.appendChild(Yt).setAttribute("name","D"),Je.appendChild(Nt).disabled=!0,2!==Nt.querySelectorAll(":disabled").length&&ht.push(":enabled",":disabled"),(Yt=pe.createElement("input")).setAttribute("name",""),Nt.appendChild(Yt),Nt.querySelectorAll("[name='']").length||ht.push("\\["+tn+"*name"+tn+"*="+tn+"*(?:''|\"\")")}),te.cssHas||ht.push(":has"),ht=ht.length&&new RegExp(ht.join("|")),Ji=function(Nt,Yt){if(Nt===Yt)return Y=!0,0;var Sn=!Nt.compareDocumentPosition-!Yt.compareDocumentPosition;return Sn||(1&(Sn=(Nt.ownerDocument||Nt)==(Yt.ownerDocument||Yt)?Nt.compareDocumentPosition(Yt):1)||!te.sortDetached&&Yt.compareDocumentPosition(Nt)===Sn?Nt===pe||Nt.ownerDocument==Cn&&tr.contains(Cn,Nt)?-1:Yt===pe||Yt.ownerDocument==Cn&&tr.contains(Cn,Yt)?1:N?k.call(N,Nt)-k.call(N,Yt):0:4&Sn?-1:1)}),pe}for(o in tr.matches=function(Ne,ot){return tr(Ne,null,null,ot)},tr.matchesSelector=function(Ne,ot){if(ni(Ne),Xe&&!Vr[ot+" "]&&(!ht||!ht.test(ot)))try{var St=Vt.call(Ne,ot);if(St||te.disconnectedMatch||Ne.document&&11!==Ne.document.nodeType)return St}catch{Vr(ot,!0)}return tr(ot,pe,null,[Ne]).length>0},tr.contains=function(Ne,ot){return(Ne.ownerDocument||Ne)!=pe&&ni(Ne),m.contains(Ne,ot)},tr.attr=function(Ne,ot){(Ne.ownerDocument||Ne)!=pe&&ni(Ne);var St=g.attrHandle[ot.toLowerCase()],Nt=St&&se.call(g.attrHandle,ot.toLowerCase())?St(Ne,ot,!Xe):void 0;return void 0!==Nt?Nt:Ne.getAttribute(ot)},tr.error=function(Ne){throw new Error("Syntax error, unrecognized expression: "+Ne)},m.uniqueSort=function(Ne){var ot,St=[],Nt=0,Yt=0;if(Y=!te.sortStable,N=!te.sortStable&&b.call(Ne,0),wt.call(Ne,Ji),Y){for(;ot=Ne[Yt++];)ot===Ne[Yt]&&(Nt=St.push(Yt));for(;Nt--;)mn.call(Ne,St[Nt],1)}return N=null,Ne},m.fn.uniqueSort=function(){return this.pushStack(m.uniqueSort(b.apply(this)))},(g=m.expr={cacheLength:50,createPseudo:os,match:Ss,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ne){return Ne[1]=Ne[1].replace(io,Os),Ne[3]=(Ne[3]||Ne[4]||Ne[5]||"").replace(io,Os),"~="===Ne[2]&&(Ne[3]=" "+Ne[3]+" "),Ne.slice(0,4)},CHILD:function(Ne){return Ne[1]=Ne[1].toLowerCase(),"nth"===Ne[1].slice(0,3)?(Ne[3]||tr.error(Ne[0]),Ne[4]=+(Ne[4]?Ne[5]+(Ne[6]||1):2*("even"===Ne[3]||"odd"===Ne[3])),Ne[5]=+(Ne[7]+Ne[8]||"odd"===Ne[3])):Ne[3]&&tr.error(Ne[0]),Ne},PSEUDO:function(Ne){var ot,St=!Ne[6]&&Ne[2];return Ss.CHILD.test(Ne[0])?null:(Ne[3]?Ne[2]=Ne[4]||Ne[5]||"":St&&hr.test(St)&&(ot=Ms(St,!0))&&(ot=St.indexOf(")",St.length-ot)-St.length)&&(Ne[0]=Ne[0].slice(0,ot),Ne[2]=St.slice(0,ot)),Ne.slice(0,3))}},filter:{TAG:function(Ne){var ot=Ne.replace(io,Os).toLowerCase();return"*"===Ne?function(){return!0}:function(St){return It(St,ot)}},CLASS:function(Ne){var ot=Yn[Ne+" "];return ot||(ot=new RegExp("(^|"+tn+")"+Ne+"("+tn+"|$)"))&&Yn(Ne,function(St){return ot.test("string"==typeof St.className&&St.className||typeof St.getAttribute<"u"&&St.getAttribute("class")||"")})},ATTR:function(Ne,ot,St){return function(Nt){var Yt=tr.attr(Nt,Ne);return null==Yt?"!="===ot:!ot||(Yt+="","="===ot?Yt===St:"!="===ot?Yt!==St:"^="===ot?St&&0===Yt.indexOf(St):"*="===ot?St&&Yt.indexOf(St)>-1:"$="===ot?St&&Yt.slice(-St.length)===St:"~="===ot?(" "+Yt.replace(Yi," ")+" ").indexOf(St)>-1:"|="===ot&&(Yt===St||Yt.slice(0,St.length+1)===St+"-"))}},CHILD:function(Ne,ot,St,Nt,Yt){var Sn="nth"!==Ne.slice(0,3),vn="last"!==Ne.slice(-4),Vn="of-type"===ot;return 1===Nt&&0===Yt?function(Nn){return!!Nn.parentNode}:function(Nn,Ki,fi){var Ci,Hi,ri,Gi,yr,Ts=Sn!==vn?"nextSibling":"previousSibling",Ls=Nn.parentNode,qs=Vn&&Nn.nodeName.toLowerCase(),lo=!fi&&!Vn,ar=!1;if(Ls){if(Sn){for(;Ts;){for(ri=Nn;ri=ri[Ts];)if(Vn?It(ri,qs):1===ri.nodeType)return!1;yr=Ts="only"===Ne&&!yr&&"nextSibling"}return!0}if(yr=[vn?Ls.firstChild:Ls.lastChild],vn&&lo){for(ar=(Gi=(Ci=(Hi=Ls[Gt]||(Ls[Gt]={}))[Ne]||[])[0]===Ot&&Ci[1])&&Ci[2],ri=Gi&&Ls.childNodes[Gi];ri=++Gi&&ri&&ri[Ts]||(ar=Gi=0)||yr.pop();)if(1===ri.nodeType&&++ar&&ri===Nn){Hi[Ne]=[Ot,Gi,ar];break}}else if(lo&&(ar=Gi=(Ci=(Hi=Nn[Gt]||(Nn[Gt]={}))[Ne]||[])[0]===Ot&&Ci[1]),!1===ar)for(;(ri=++Gi&&ri&&ri[Ts]||(ar=Gi=0)||yr.pop())&&(!(Vn?It(ri,qs):1===ri.nodeType)||!++ar||(lo&&((Hi=ri[Gt]||(ri[Gt]={}))[Ne]=[Ot,ar]),ri!==Nn)););return(ar-=Yt)===Nt||ar%Nt==0&&ar/Nt>=0}}},PSEUDO:function(Ne,ot){var St,Nt=g.pseudos[Ne]||g.setFilters[Ne.toLowerCase()]||tr.error("unsupported pseudo: "+Ne);return Nt[Gt]?Nt(ot):Nt.length>1?(St=[Ne,Ne,"",ot],g.setFilters.hasOwnProperty(Ne.toLowerCase())?os(function(Yt,Sn){for(var vn,Vn=Nt(Yt,ot),Nn=Vn.length;Nn--;)Yt[vn=k.call(Yt,Vn[Nn])]=!(Sn[vn]=Vn[Nn])}):function(Yt){return Nt(Yt,0,St)}):Nt}},pseudos:{not:os(function(Ne){var ot=[],St=[],Nt=go(Ne.replace(Pn,"$1"));return Nt[Gt]?os(function(Yt,Sn,vn,Vn){for(var Nn,Ki=Nt(Yt,null,Vn,[]),fi=Yt.length;fi--;)(Nn=Ki[fi])&&(Yt[fi]=!(Sn[fi]=Nn))}):function(Yt,Sn,vn){return ot[0]=Yt,Nt(ot,null,vn,St),ot[0]=null,!St.pop()}}),has:os(function(Ne){return function(ot){return tr(Ne,ot).length>0}}),contains:os(function(Ne){return Ne=Ne.replace(io,Os),function(ot){return(ot.textContent||m.text(ot)).indexOf(Ne)>-1}}),lang:os(function(Ne){return no.test(Ne||"")||tr.error("unsupported lang: "+Ne),Ne=Ne.replace(io,Os).toLowerCase(),function(ot){var St;do{if(St=Xe?ot.lang:ot.getAttribute("xml:lang")||ot.getAttribute("lang"))return(St=St.toLowerCase())===Ne||0===St.indexOf(Ne+"-")}while((ot=ot.parentNode)&&1===ot.nodeType);return!1}}),target:function(Ne){var ot=f.location&&f.location.hash;return ot&&ot.slice(1)===Ne.id},root:function(Ne){return Ne===Je},focus:function(Ne){return Ne===function po(){try{return pe.activeElement}catch{}}()&&pe.hasFocus()&&!!(Ne.type||Ne.href||~Ne.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(Ne){return It(Ne,"input")&&!!Ne.checked||It(Ne,"option")&&!!Ne.selected},selected:function(Ne){return!0===Ne.selected},empty:function(Ne){for(Ne=Ne.firstChild;Ne;Ne=Ne.nextSibling)if(Ne.nodeType<6)return!1;return!0},parent:function(Ne){return!g.pseudos.empty(Ne)},header:function(Ne){return Mr.test(Ne.nodeName)},input:function(Ne){return zr.test(Ne.nodeName)},button:function(Ne){return It(Ne,"input")&&"button"===Ne.type||It(Ne,"button")},text:function(Ne){var ot;return It(Ne,"input")&&"text"===Ne.type&&(null==(ot=Ne.getAttribute("type"))||"text"===ot.toLowerCase())},first:He(function(){return[0]}),last:He(function(Ne,ot){return[ot-1]}),eq:He(function(Ne,ot,St){return[St<0?St+ot:St]}),even:He(function(Ne,ot){for(var St=0;St<ot;St+=2)Ne.push(St);return Ne}),odd:He(function(Ne,ot){for(var St=1;St<ot;St+=2)Ne.push(St);return Ne}),lt:He(function(Ne,ot,St){var Nt;for(Nt=St<0?St+ot:St>ot?ot:St;--Nt>=0;)Ne.push(Nt);return Ne}),gt:He(function(Ne,ot,St){for(var Nt=St<0?St+ot:St;++Nt<ot;)Ne.push(Nt);return Ne})}}).pseudos.nth=g.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})g.pseudos[o]=Q(o);for(o in{submit:!0,reset:!0})g.pseudos[o]=P(o);function Rr(){}function Ms(Ne,ot){var St,Nt,Yt,Sn,vn,Vn,Nn,Ki=Bi[Ne+" "];if(Ki)return ot?0:Ki.slice(0);for(vn=Ne,Vn=[],Nn=g.preFilter;vn;){for(Sn in(!St||(Nt=vr.exec(vn)))&&(Nt&&(vn=vn.slice(Nt[0].length)||vn),Vn.push(Yt=[])),St=!1,(Nt=Ns.exec(vn))&&(St=Nt.shift(),Yt.push({value:St,type:Nt[0].replace(Pn," ")}),vn=vn.slice(St.length)),g.filter)(Nt=Ss[Sn].exec(vn))&&(!Nn[Sn]||(Nt=Nn[Sn](Nt)))&&(St=Nt.shift(),Yt.push({value:St,type:Sn,matches:Nt}),vn=vn.slice(St.length));if(!St)break}return ot?vn.length:vn?tr.error(Ne):Bi(Ne,Vn).slice(0)}function Cs(Ne){for(var ot=0,St=Ne.length,Nt="";ot<St;ot++)Nt+=Ne[ot].value;return Nt}function zs(Ne,ot,St){var Nt=ot.dir,Yt=ot.next,Sn=Yt||Nt,vn=St&&"parentNode"===Sn,Vn=fn++;return ot.first?function(Nn,Ki,fi){for(;Nn=Nn[Nt];)if(1===Nn.nodeType||vn)return Ne(Nn,Ki,fi);return!1}:function(Nn,Ki,fi){var Ci,Hi,ri=[Ot,Vn];if(fi){for(;Nn=Nn[Nt];)if((1===Nn.nodeType||vn)&&Ne(Nn,Ki,fi))return!0}else for(;Nn=Nn[Nt];)if(1===Nn.nodeType||vn)if(Hi=Nn[Gt]||(Nn[Gt]={}),Yt&&It(Nn,Yt))Nn=Nn[Nt]||Nn;else{if((Ci=Hi[Sn])&&Ci[0]===Ot&&Ci[1]===Vn)return ri[2]=Ci[2];if(Hi[Sn]=ri,ri[2]=Ne(Nn,Ki,fi))return!0}return!1}}function Tr(Ne){return Ne.length>1?function(ot,St,Nt){for(var Yt=Ne.length;Yt--;)if(!Ne[Yt](ot,St,Nt))return!1;return!0}:Ne[0]}function Go(Ne,ot,St,Nt,Yt){for(var Sn,vn=[],Vn=0,Nn=Ne.length,Ki=null!=ot;Vn<Nn;Vn++)(Sn=Ne[Vn])&&(!St||St(Sn,Nt,Yt))&&(vn.push(Sn),Ki&&ot.push(Vn));return vn}function qo(Ne,ot,St,Nt,Yt,Sn){return Nt&&!Nt[Gt]&&(Nt=qo(Nt)),Yt&&!Yt[Gt]&&(Yt=qo(Yt,Sn)),os(function(vn,Vn,Nn,Ki){var fi,Ci,Hi,ri,Gi=[],yr=[],Ts=Vn.length,Ls=vn||function Yo(Ne,ot,St){for(var Nt=0,Yt=ot.length;Nt<Yt;Nt++)tr(Ne,ot[Nt],St);return St}(ot||"*",Nn.nodeType?[Nn]:Nn,[]),qs=!Ne||!vn&&ot?Ls:Go(Ls,Gi,Ne,Nn,Ki);if(St?St(qs,ri=Yt||(vn?Ne:Ts||Nt)?[]:Vn,Nn,Ki):ri=qs,Nt)for(fi=Go(ri,yr),Nt(fi,[],Nn,Ki),Ci=fi.length;Ci--;)(Hi=fi[Ci])&&(ri[yr[Ci]]=!(qs[yr[Ci]]=Hi));if(vn){if(Yt||Ne){if(Yt){for(fi=[],Ci=ri.length;Ci--;)(Hi=ri[Ci])&&fi.push(qs[Ci]=Hi);Yt(null,ri=[],fi,Ki)}for(Ci=ri.length;Ci--;)(Hi=ri[Ci])&&(fi=Yt?k.call(vn,Hi):Gi[Ci])>-1&&(vn[fi]=!(Vn[fi]=Hi))}}else ri=Go(ri===Vn?ri.splice(Ts,ri.length):ri),Yt?Yt(null,Vn,ri,Ki):Z.apply(Vn,ri)})}function zo(Ne){for(var ot,St,Nt,Yt=Ne.length,Sn=g.relative[Ne[0].type],vn=Sn||g.relative[" "],Vn=Sn?1:0,Nn=zs(function(Ci){return Ci===ot},vn,!0),Ki=zs(function(Ci){return k.call(ot,Ci)>-1},vn,!0),fi=[function(Ci,Hi,ri){var Gi=!Sn&&(ri||Hi!=M)||((ot=Hi).nodeType?Nn(Ci,Hi,ri):Ki(Ci,Hi,ri));return ot=null,Gi}];Vn<Yt;Vn++)if(St=g.relative[Ne[Vn].type])fi=[zs(Tr(fi),St)];else{if((St=g.filter[Ne[Vn].type].apply(null,Ne[Vn].matches))[Gt]){for(Nt=++Vn;Nt<Yt&&!g.relative[Ne[Nt].type];Nt++);return qo(Vn>1&&Tr(fi),Vn>1&&Cs(Ne.slice(0,Vn-1).concat({value:" "===Ne[Vn-2].type?"*":""})).replace(Pn,"$1"),St,Vn<Nt&&zo(Ne.slice(Vn,Nt)),Nt<Yt&&zo(Ne=Ne.slice(Nt)),Nt<Yt&&Cs(Ne))}fi.push(St)}return Tr(fi)}function go(Ne,ot){var St,Nt=[],Yt=[],Sn=Zn[Ne+" "];if(!Sn){for(ot||(ot=Ms(Ne)),St=ot.length;St--;)(Sn=zo(ot[St]))[Gt]?Nt.push(Sn):Yt.push(Sn);Sn=Zn(Ne,function No(Ne,ot){var St=ot.length>0,Nt=Ne.length>0,Yt=function(Sn,vn,Vn,Nn,Ki){var fi,Ci,Hi,ri=0,Gi="0",yr=Sn&&[],Ts=[],Ls=M,qs=Sn||Nt&&g.find.TAG("*",Ki),lo=Ot+=null==Ls?1:Math.random()||.1,ar=qs.length;for(Ki&&(M=vn==pe||vn||Ki);Gi!==ar&&null!=(fi=qs[Gi]);Gi++){if(Nt&&fi){for(Ci=0,!vn&&fi.ownerDocument!=pe&&(ni(fi),Vn=!Xe);Hi=Ne[Ci++];)if(Hi(fi,vn||pe,Vn)){Z.call(Nn,fi);break}Ki&&(Ot=lo)}St&&((fi=!Hi&&fi)&&ri--,Sn&&yr.push(fi))}if(ri+=Gi,St&&Gi!==ri){for(Ci=0;Hi=ot[Ci++];)Hi(yr,Ts,vn,Vn);if(Sn){if(ri>0)for(;Gi--;)yr[Gi]||Ts[Gi]||(Ts[Gi]=Bt.call(Nn));Ts=Go(Ts)}Z.apply(Nn,Ts),Ki&&!Sn&&Ts.length>0&&ri+ot.length>1&&m.uniqueSort(Nn)}return Ki&&(Ot=lo,M=Ls),yr};return St?os(Yt):Yt}(Yt,Nt)),Sn.selector=Ne}return Sn}function Fs(Ne,ot,St,Nt){var Yt,Sn,vn,Vn,Nn,Ki="function"==typeof Ne&&Ne,fi=!Nt&&Ms(Ne=Ki.selector||Ne);if(St=St||[],1===fi.length){if((Sn=fi[0]=fi[0].slice(0)).length>2&&"ID"===(vn=Sn[0]).type&&9===ot.nodeType&&Xe&&g.relative[Sn[1].type]){if(!(ot=(g.find.ID(vn.matches[0].replace(io,Os),ot)||[])[0]))return St;Ki&&(ot=ot.parentNode),Ne=Ne.slice(Sn.shift().value.length)}for(Yt=Ss.needsContext.test(Ne)?0:Sn.length;Yt--&&!g.relative[Vn=(vn=Sn[Yt]).type];)if((Nn=g.find[Vn])&&(Nt=Nn(vn.matches[0].replace(io,Os),fo.test(Sn[0].type)&&Fn(ot.parentNode)||ot))){if(Sn.splice(Yt,1),!(Ne=Nt.length&&Cs(Sn)))return Z.apply(St,Nt),St;break}}return(Ki||go(Ne,fi))(Nt,ot,!Xe,St,!ot||fo.test(Ne)&&Fn(ot.parentNode)||ot),St}Rr.prototype=g.filters=g.pseudos,g.setFilters=new Rr,te.sortStable=Gt.split("").sort(Ji).join("")===Gt,ni(),te.sortDetached=K(function(Ne){return 1&Ne.compareDocumentPosition(pe.createElement("fieldset"))}),m.find=tr,m.expr[":"]=m.expr.pseudos,m.unique=m.uniqueSort,tr.compile=go,tr.select=Fs,tr.setDocument=ni,tr.tokenize=Ms,tr.escape=m.escapeSelector,tr.getText=m.text,tr.isXML=m.isXMLDoc,tr.selectors=m.expr,tr.support=m.support,tr.uniqueSort=m.uniqueSort}();var tt=function(o,g,M){for(var N=[],Y=void 0!==M;(o=o[g])&&9!==o.nodeType;)if(1===o.nodeType){if(Y&&m(o).is(M))break;N.push(o)}return N},bt=function(o,g){for(var M=[];o;o=o.nextSibling)1===o.nodeType&&o!==g&&M.push(o);return M},Rt=m.expr.match.needsContext,xt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Jt(o,g,M){return ue(g)?m.grep(o,function(N,Y){return!!g.call(N,Y,N)!==M}):g.nodeType?m.grep(o,function(N){return N===g!==M}):"string"!=typeof g?m.grep(o,function(N){return k.call(g,N)>-1!==M}):m.filter(g,o,M)}m.filter=function(o,g,M){var N=g[0];return M&&(o=":not("+o+")"),1===g.length&&1===N.nodeType?m.find.matchesSelector(N,o)?[N]:[]:m.find.matches(o,m.grep(g,function(Y){return 1===Y.nodeType}))},m.fn.extend({find:function(o){var g,M,N=this.length,Y=this;if("string"!=typeof o)return this.pushStack(m(o).filter(function(){for(g=0;g<N;g++)if(m.contains(Y[g],this))return!0}));for(M=this.pushStack([]),g=0;g<N;g++)m.find(o,Y[g],M);return N>1?m.uniqueSort(M):M},filter:function(o){return this.pushStack(Jt(this,o||[],!1))},not:function(o){return this.pushStack(Jt(this,o||[],!0))},is:function(o){return!!Jt(this,"string"==typeof o&&Rt.test(o)?m(o):o||[],!1).length}});var $t,Bn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Hn=m.fn.init=function(o,g,M){var N,Y;if(!o)return this;if(M=M||$t,"string"==typeof o){if(!(N="<"===o[0]&&">"===o[o.length-1]&&o.length>=3?[null,o,null]:Bn.exec(o))||!N[1]&&g)return!g||g.jquery?(g||M).find(o):this.constructor(g).find(o);if(N[1]){if(m.merge(this,m.parseHTML(N[1],(g=g instanceof m?g[0]:g)&&g.nodeType?g.ownerDocument||g:Ee,!0)),xt.test(N[1])&&m.isPlainObject(g))for(N in g)ue(this[N])?this[N](g[N]):this.attr(N,g[N]);return this}return(Y=Ee.getElementById(N[2]))&&(this[0]=Y,this.length=1),this}return o.nodeType?(this[0]=o,this.length=1,this):ue(o)?void 0!==M.ready?M.ready(o):o(m):m.makeArray(o,this)};Hn.prototype=m.fn,$t=m(Ee);var Le=/^(?:parents|prev(?:Until|All))/,B={children:!0,contents:!0,next:!0,prev:!0};function J(o,g){for(;(o=o[g])&&1!==o.nodeType;);return o}m.fn.extend({has:function(o){var g=m(o,this),M=g.length;return this.filter(function(){for(var N=0;N<M;N++)if(m.contains(this,g[N]))return!0})},closest:function(o,g){var M,N=0,Y=this.length,Z=[],pe="string"!=typeof o&&m(o);if(!Rt.test(o))for(;N<Y;N++)for(M=this[N];M&&M!==g;M=M.parentNode)if(M.nodeType<11&&(pe?pe.index(M)>-1:1===M.nodeType&&m.find.matchesSelector(M,o))){Z.push(M);break}return this.pushStack(Z.length>1?m.uniqueSort(Z):Z)},index:function(o){return o?"string"==typeof o?k.call(m(o),this[0]):k.call(this,o.jquery?o[0]:o):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(o,g){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(o,g))))},addBack:function(o){return this.add(null==o?this.prevObject:this.prevObject.filter(o))}}),m.each({parent:function(o){var g=o.parentNode;return g&&11!==g.nodeType?g:null},parents:function(o){return tt(o,"parentNode")},parentsUntil:function(o,g,M){return tt(o,"parentNode",M)},next:function(o){return J(o,"nextSibling")},prev:function(o){return J(o,"previousSibling")},nextAll:function(o){return tt(o,"nextSibling")},prevAll:function(o){return tt(o,"previousSibling")},nextUntil:function(o,g,M){return tt(o,"nextSibling",M)},prevUntil:function(o,g,M){return tt(o,"previousSibling",M)},siblings:function(o){return bt((o.parentNode||{}).firstChild,o)},children:function(o){return bt(o.firstChild)},contents:function(o){return null!=o.contentDocument&&H(o.contentDocument)?o.contentDocument:(It(o,"template")&&(o=o.content||o),m.merge([],o.childNodes))}},function(o,g){m.fn[o]=function(M,N){var Y=m.map(this,g,M);return"Until"!==o.slice(-5)&&(N=M),N&&"string"==typeof N&&(Y=m.filter(N,Y)),this.length>1&&(B[o]||m.uniqueSort(Y),Le.test(o)&&Y.reverse()),this.pushStack(Y)}});var Pe=/[^\x20\t\r\n\f]+/g;function qe(o){return o}function At(o){throw o}function un(o,g,M,N){var Y;try{o&&ue(Y=o.promise)?Y.call(o).done(g).fail(M):o&&ue(Y=o.then)?Y.call(o,g,M):g.apply(void 0,[o].slice(N))}catch(Z){M.apply(void 0,[Z])}}m.Callbacks=function(o){o="string"==typeof o?function $e(o){var g={};return m.each(o.match(Pe)||[],function(M,N){g[N]=!0}),g}(o):m.extend({},o);var g,M,N,Y,Z=[],pe=[],Je=-1,Xe=function(){for(Y=Y||o.once,N=g=!0;pe.length;Je=-1)for(M=pe.shift();++Je<Z.length;)!1===Z[Je].apply(M[0],M[1])&&o.stopOnFalse&&(Je=Z.length,M=!1);o.memory||(M=!1),g=!1,Y&&(Z=M?[]:"")},ht={add:function(){return Z&&(M&&!g&&(Je=Z.length-1,pe.push(M)),function Vt(Gt){m.each(Gt,function(Ot,fn){ue(fn)?(!o.unique||!ht.has(fn))&&Z.push(fn):fn&&fn.length&&"string"!==ke(fn)&&Vt(fn)})}(arguments),M&&!g&&Xe()),this},remove:function(){return m.each(arguments,function(Vt,Gt){for(var Ot;(Ot=m.inArray(Gt,Z,Ot))>-1;)Z.splice(Ot,1),Ot<=Je&&Je--}),this},has:function(Vt){return Vt?m.inArray(Vt,Z)>-1:Z.length>0},empty:function(){return Z&&(Z=[]),this},disable:function(){return Y=pe=[],Z=M="",this},disabled:function(){return!Z},lock:function(){return Y=pe=[],!M&&!g&&(Z=M=""),this},locked:function(){return!!Y},fireWith:function(Vt,Gt){return Y||(Gt=[Vt,(Gt=Gt||[]).slice?Gt.slice():Gt],pe.push(Gt),g||Xe()),this},fire:function(){return ht.fireWith(this,arguments),this},fired:function(){return!!N}};return ht},m.extend({Deferred:function(o){var g=[["notify","progress",m.Callbacks("memory"),m.Callbacks("memory"),2],["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),0,"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),1,"rejected"]],M="pending",N={state:function(){return M},always:function(){return Y.done(arguments).fail(arguments),this},catch:function(Z){return N.then(null,Z)},pipe:function(){var Z=arguments;return m.Deferred(function(pe){m.each(g,function(Je,Xe){var ht=ue(Z[Xe[4]])&&Z[Xe[4]];Y[Xe[1]](function(){var Vt=ht&&ht.apply(this,arguments);Vt&&ue(Vt.promise)?Vt.promise().progress(pe.notify).done(pe.resolve).fail(pe.reject):pe[Xe[0]+"With"](this,ht?[Vt]:arguments)})}),Z=null}).promise()},then:function(Z,pe,Je){var Xe=0;function ht(Vt,Gt,Ot,fn){return function(){var Yn=this,Bi=arguments,Zn=function(){var Ji,Is;if(!(Vt<Xe)){if((Ji=Ot.apply(Yn,Bi))===Gt.promise())throw new TypeError("Thenable self-resolution");ue(Is=Ji&&("object"==typeof Ji||"function"==typeof Ji)&&Ji.then)?fn?Is.call(Ji,ht(Xe,Gt,qe,fn),ht(Xe,Gt,At,fn)):(Xe++,Is.call(Ji,ht(Xe,Gt,qe,fn),ht(Xe,Gt,At,fn),ht(Xe,Gt,qe,Gt.notifyWith))):(Ot!==qe&&(Yn=void 0,Bi=[Ji]),(fn||Gt.resolveWith)(Yn,Bi))}},Vr=fn?Zn:function(){try{Zn()}catch(Ji){m.Deferred.exceptionHook&&m.Deferred.exceptionHook(Ji,Vr.error),Vt+1>=Xe&&(Ot!==At&&(Yn=void 0,Bi=[Ji]),Gt.rejectWith(Yn,Bi))}};Vt?Vr():(m.Deferred.getErrorHook?Vr.error=m.Deferred.getErrorHook():m.Deferred.getStackHook&&(Vr.error=m.Deferred.getStackHook()),f.setTimeout(Vr))}}return m.Deferred(function(Vt){g[0][3].add(ht(0,Vt,ue(Je)?Je:qe,Vt.notifyWith)),g[1][3].add(ht(0,Vt,ue(Z)?Z:qe)),g[2][3].add(ht(0,Vt,ue(pe)?pe:At))}).promise()},promise:function(Z){return null!=Z?m.extend(Z,N):N}},Y={};return m.each(g,function(Z,pe){var Je=pe[2],Xe=pe[5];N[pe[1]]=Je.add,Xe&&Je.add(function(){M=Xe},g[3-Z][2].disable,g[3-Z][3].disable,g[0][2].lock,g[0][3].lock),Je.add(pe[3].fire),Y[pe[0]]=function(){return Y[pe[0]+"With"](this===Y?void 0:this,arguments),this},Y[pe[0]+"With"]=Je.fireWith}),N.promise(Y),o&&o.call(Y,Y),Y},when:function(o){var g=arguments.length,M=g,N=Array(M),Y=b.call(arguments),Z=m.Deferred(),pe=function(Je){return function(Xe){N[Je]=this,Y[Je]=arguments.length>1?b.call(arguments):Xe,--g||Z.resolveWith(N,Y)}};if(g<=1&&(un(o,Z.done(pe(M)).resolve,Z.reject,!g),"pending"===Z.state()||ue(Y[M]&&Y[M].then)))return Z.then();for(;M--;)un(Y[M],pe(M),Z.reject);return Z.promise()}});var kn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;m.Deferred.exceptionHook=function(o,g){f.console&&f.console.warn&&o&&kn.test(o.name)&&f.console.warn("jQuery.Deferred exception: "+o.message,o.stack,g)},m.readyException=function(o){f.setTimeout(function(){throw o})};var ti=m.Deferred();function ii(){Ee.removeEventListener("DOMContentLoaded",ii),f.removeEventListener("load",ii),m.ready()}m.fn.ready=function(o){return ti.then(o).catch(function(g){m.readyException(g)}),this},m.extend({isReady:!1,readyWait:1,ready:function(o){(!0===o?--m.readyWait:m.isReady)||(m.isReady=!0,!(!0!==o&&--m.readyWait>0)&&ti.resolveWith(Ee,[m]))}}),m.ready.then=ti.then,"complete"===Ee.readyState||"loading"!==Ee.readyState&&!Ee.documentElement.doScroll?f.setTimeout(m.ready):(Ee.addEventListener("DOMContentLoaded",ii),f.addEventListener("load",ii));var gi=function(o,g,M,N,Y,Z,pe){var Je=0,Xe=o.length,ht=null==M;if("object"===ke(M))for(Je in Y=!0,M)gi(o,g,Je,M[Je],!0,Z,pe);else if(void 0!==N&&(Y=!0,ue(N)||(pe=!0),ht&&(pe?(g.call(o,N),g=null):(ht=g,g=function(Vt,Gt,Ot){return ht.call(m(Vt),Ot)})),g))for(;Je<Xe;Je++)g(o[Je],M,pe?N:N.call(o[Je],Je,g(o[Je],M)));return Y?o:ht?g.call(o):Xe?g(o[0],M):Z},pn=/^-ms-/,rn=/-([a-z])/g;function gt(o,g){return g.toUpperCase()}function dt(o){return o.replace(pn,"ms-").replace(rn,gt)}var sn=function(o){return 1===o.nodeType||9===o.nodeType||!+o.nodeType};function on(){this.expando=m.expando+on.uid++}on.uid=1,on.prototype={cache:function(o){var g=o[this.expando];return g||(g={},sn(o)&&(o.nodeType?o[this.expando]=g:Object.defineProperty(o,this.expando,{value:g,configurable:!0}))),g},set:function(o,g,M){var N,Y=this.cache(o);if("string"==typeof g)Y[dt(g)]=M;else for(N in g)Y[dt(N)]=g[N];return Y},get:function(o,g){return void 0===g?this.cache(o):o[this.expando]&&o[this.expando][dt(g)]},access:function(o,g,M){return void 0===g||g&&"string"==typeof g&&void 0===M?this.get(o,g):(this.set(o,g,M),void 0!==M?M:g)},remove:function(o,g){var M,N=o[this.expando];if(void 0!==N){if(void 0!==g)for((M=(g=Array.isArray(g)?g.map(dt):(g=dt(g))in N?[g]:g.match(Pe)||[]).length);M--;)delete N[g[M]];(void 0===g||m.isEmptyObject(N))&&(o.nodeType?o[this.expando]=void 0:delete o[this.expando])}},hasData:function(o){var g=o[this.expando];return void 0!==g&&!m.isEmptyObject(g)}};var hn=new on,_i=new on,_e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ki=/[A-Z]/g;function gn(o,g,M){var N;if(void 0===M&&1===o.nodeType)if(N="data-"+g.replace(ki,"-$&").toLowerCase(),"string"==typeof(M=o.getAttribute(N))){try{M=function ci(o){return"true"===o||"false"!==o&&("null"===o?null:o===+o+""?+o:_e.test(o)?JSON.parse(o):o)}(M)}catch{}_i.set(o,g,M)}else M=void 0;return M}m.extend({hasData:function(o){return _i.hasData(o)||hn.hasData(o)},data:function(o,g,M){return _i.access(o,g,M)},removeData:function(o,g){_i.remove(o,g)},_data:function(o,g,M){return hn.access(o,g,M)},_removeData:function(o,g){hn.remove(o,g)}}),m.fn.extend({data:function(o,g){var M,N,Y,Z=this[0],pe=Z&&Z.attributes;if(void 0===o){if(this.length&&(Y=_i.get(Z),1===Z.nodeType&&!hn.get(Z,"hasDataAttrs"))){for(M=pe.length;M--;)pe[M]&&0===(N=pe[M].name).indexOf("data-")&&(N=dt(N.slice(5)),gn(Z,N,Y[N]));hn.set(Z,"hasDataAttrs",!0)}return Y}return"object"==typeof o?this.each(function(){_i.set(this,o)}):gi(this,function(Je){var Xe;if(Z&&void 0===Je)return void 0!==(Xe=_i.get(Z,o))||void 0!==(Xe=gn(Z,o))?Xe:void 0;this.each(function(){_i.set(this,o,Je)})},null,g,arguments.length>1,null,!0)},removeData:function(o){return this.each(function(){_i.remove(this,o)})}}),m.extend({queue:function(o,g,M){var N;if(o)return N=hn.get(o,g=(g||"fx")+"queue"),M&&(!N||Array.isArray(M)?N=hn.access(o,g,m.makeArray(M)):N.push(M)),N||[]},dequeue:function(o,g){var M=m.queue(o,g=g||"fx"),N=M.length,Y=M.shift(),Z=m._queueHooks(o,g);"inprogress"===Y&&(Y=M.shift(),N--),Y&&("fx"===g&&M.unshift("inprogress"),delete Z.stop,Y.call(o,function(){m.dequeue(o,g)},Z)),!N&&Z&&Z.empty.fire()},_queueHooks:function(o,g){var M=g+"queueHooks";return hn.get(o,M)||hn.access(o,M,{empty:m.Callbacks("once memory").add(function(){hn.remove(o,[g+"queue",M])})})}}),m.fn.extend({queue:function(o,g){var M=2;return"string"!=typeof o&&(g=o,o="fx",M--),arguments.length<M?m.queue(this[0],o):void 0===g?this:this.each(function(){var N=m.queue(this,o,g);m._queueHooks(this,o),"fx"===o&&"inprogress"!==N[0]&&m.dequeue(this,o)})},dequeue:function(o){return this.each(function(){m.dequeue(this,o)})},clearQueue:function(o){return this.queue(o||"fx",[])},promise:function(o,g){var M,N=1,Y=m.Deferred(),Z=this,pe=this.length,Je=function(){--N||Y.resolveWith(Z,[Z])};for("string"!=typeof o&&(g=o,o=void 0),o=o||"fx";pe--;)(M=hn.get(Z[pe],o+"queueHooks"))&&M.empty&&(N++,M.empty.add(Je));return Je(),Y.promise(g)}});var cs=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Cr=new RegExp("^(?:([+-])=|)("+cs+")([a-z%]*)$","i"),wr=["Top","Right","Bottom","Left"],Ht=Ee.documentElement,Ut=function(o){return m.contains(o.ownerDocument,o)},re={composed:!0};Ht.getRootNode&&(Ut=function(o){return m.contains(o.ownerDocument,o)||o.getRootNode(re)===o.ownerDocument});var Se=function(o,g){return"none"===(o=g||o).style.display||""===o.style.display&&Ut(o)&&"none"===m.css(o,"display")};function rt(o,g,M,N){var Y,Z,pe=20,Je=N?function(){return N.cur()}:function(){return m.css(o,g,"")},Xe=Je(),ht=M&&M[3]||(m.cssNumber[g]?"":"px"),Vt=o.nodeType&&(m.cssNumber[g]||"px"!==ht&&+Xe)&&Cr.exec(m.css(o,g));if(Vt&&Vt[3]!==ht){for(ht=ht||Vt[3],Vt=+(Xe/=2)||1;pe--;)m.style(o,g,Vt+ht),(1-Z)*(1-(Z=Je()/Xe||.5))<=0&&(pe=0),Vt/=Z;m.style(o,g,(Vt*=2)+ht),M=M||[]}return M&&(Vt=+Vt||+Xe||0,Y=M[1]?Vt+(M[1]+1)*M[2]:+M[2],N&&(N.unit=ht,N.start=Vt,N.end=Y)),Y}var yt={};function pt(o){var g,M=o.ownerDocument,N=o.nodeName,Y=yt[N];return Y||(g=M.body.appendChild(M.createElement(N)),Y=m.css(g,"display"),g.parentNode.removeChild(g),"none"===Y&&(Y="block"),yt[N]=Y,Y)}function mt(o,g){for(var M,N,Y=[],Z=0,pe=o.length;Z<pe;Z++)(N=o[Z]).style&&(M=N.style.display,g?("none"===M&&(Y[Z]=hn.get(N,"display")||null,Y[Z]||(N.style.display="")),""===N.style.display&&Se(N)&&(Y[Z]=pt(N))):"none"!==M&&(Y[Z]="none",hn.set(N,"display",M)));for(Z=0;Z<pe;Z++)null!=Y[Z]&&(o[Z].style.display=Y[Z]);return o}m.fn.extend({show:function(){return mt(this,!0)},hide:function(){return mt(this)},toggle:function(o){return"boolean"==typeof o?o?this.show():this.hide():this.each(function(){Se(this)?m(this).show():m(this).hide()})}});var g,M,Kt=/^(?:checkbox|radio)$/i,Un=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,jn=/^$|^module$|\/(?:java|ecma)script/i;g=Ee.createDocumentFragment().appendChild(Ee.createElement("div")),(M=Ee.createElement("input")).setAttribute("type","radio"),M.setAttribute("checked","checked"),M.setAttribute("name","t"),g.appendChild(M),te.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,g.innerHTML="<textarea>x</textarea>",te.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue,g.innerHTML="<option></option>",te.option=!!g.lastChild;var Qt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function dn(o,g){var M;return M=typeof o.getElementsByTagName<"u"?o.getElementsByTagName(g||"*"):typeof o.querySelectorAll<"u"?o.querySelectorAll(g||"*"):[],void 0===g||g&&It(o,g)?m.merge([o],M):M}function Mn(o,g){for(var M=0,N=o.length;M<N;M++)hn.set(o[M],"globalEval",!g||hn.get(g[M],"globalEval"))}Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td,te.option||(Qt.optgroup=Qt.option=[1,"<select multiple='multiple'>","</select>"]);var si=/<|&#?\w+;/;function Vi(o,g,M,N,Y){for(var Z,pe,Je,Xe,ht,Vt,Gt=g.createDocumentFragment(),Ot=[],fn=0,Yn=o.length;fn<Yn;fn++)if((Z=o[fn])||0===Z)if("object"===ke(Z))m.merge(Ot,Z.nodeType?[Z]:Z);else if(si.test(Z)){for(pe=pe||Gt.appendChild(g.createElement("div")),Je=(Un.exec(Z)||["",""])[1].toLowerCase(),pe.innerHTML=(Xe=Qt[Je]||Qt._default)[1]+m.htmlPrefilter(Z)+Xe[2],Vt=Xe[0];Vt--;)pe=pe.lastChild;m.merge(Ot,pe.childNodes),(pe=Gt.firstChild).textContent=""}else Ot.push(g.createTextNode(Z));for(Gt.textContent="",fn=0;Z=Ot[fn++];)if(N&&m.inArray(Z,N)>-1)Y&&Y.push(Z);else if(ht=Ut(Z),pe=dn(Gt.appendChild(Z),"script"),ht&&Mn(pe),M)for(Vt=0;Z=pe[Vt++];)jn.test(Z.type||"")&&M.push(Z);return Gt}var Ar=/^([^.]*)(?:\.(.+)|)/;function Zi(){return!0}function oi(){return!1}function Wr(o,g,M,N,Y,Z){var pe,Je;if("object"==typeof g){for(Je in"string"!=typeof M&&(N=N||M,M=void 0),g)Wr(o,Je,M,N,g[Je],Z);return o}if(null==N&&null==Y?(Y=M,N=M=void 0):null==Y&&("string"==typeof M?(Y=N,N=void 0):(Y=N,N=M,M=void 0)),!1===Y)Y=oi;else if(!Y)return o;return 1===Z&&(pe=Y,Y=function(Xe){return m().off(Xe),pe.apply(this,arguments)},Y.guid=pe.guid||(pe.guid=m.guid++)),o.each(function(){m.event.add(this,g,Y,N,M)})}function us(o,g,M){M?(hn.set(o,g,!1),m.event.add(o,g,{namespace:!1,handler:function(N){var Y,Z=hn.get(this,g);if(1&N.isTrigger&&this[g]){if(Z)(m.event.special[g]||{}).delegateType&&N.stopPropagation();else if(Z=b.call(arguments),hn.set(this,g,Z),this[g](),Y=hn.get(this,g),hn.set(this,g,!1),Z!==Y)return N.stopImmediatePropagation(),N.preventDefault(),Y}else Z&&(hn.set(this,g,m.event.trigger(Z[0],Z.slice(1),this)),N.stopPropagation(),N.isImmediatePropagationStopped=Zi)}})):void 0===hn.get(o,g)&&m.event.add(o,g,Zi)}m.event={global:{},add:function(o,g,M,N,Y){var Z,pe,Je,Xe,ht,Vt,Gt,Ot,fn,Yn,Bi,Zn=hn.get(o);if(sn(o))for(M.handler&&(M=(Z=M).handler,Y=Z.selector),Y&&m.find.matchesSelector(Ht,Y),M.guid||(M.guid=m.guid++),(Xe=Zn.events)||(Xe=Zn.events=Object.create(null)),(pe=Zn.handle)||(pe=Zn.handle=function(Vr){return typeof m<"u"&&m.event.triggered!==Vr.type?m.event.dispatch.apply(o,arguments):void 0}),ht=(g=(g||"").match(Pe)||[""]).length;ht--;)fn=Bi=(Je=Ar.exec(g[ht])||[])[1],Yn=(Je[2]||"").split(".").sort(),fn&&(Gt=m.event.special[fn]||{},Gt=m.event.special[fn=(Y?Gt.delegateType:Gt.bindType)||fn]||{},Vt=m.extend({type:fn,origType:Bi,data:N,handler:M,guid:M.guid,selector:Y,needsContext:Y&&m.expr.match.needsContext.test(Y),namespace:Yn.join(".")},Z),(Ot=Xe[fn])||((Ot=Xe[fn]=[]).delegateCount=0,(!Gt.setup||!1===Gt.setup.call(o,N,Yn,pe))&&o.addEventListener&&o.addEventListener(fn,pe)),Gt.add&&(Gt.add.call(o,Vt),Vt.handler.guid||(Vt.handler.guid=M.guid)),Y?Ot.splice(Ot.delegateCount++,0,Vt):Ot.push(Vt),m.event.global[fn]=!0)},remove:function(o,g,M,N,Y){var Z,pe,Je,Xe,ht,Vt,Gt,Ot,fn,Yn,Bi,Zn=hn.hasData(o)&&hn.get(o);if(Zn&&(Xe=Zn.events)){for(ht=(g=(g||"").match(Pe)||[""]).length;ht--;)if(fn=Bi=(Je=Ar.exec(g[ht])||[])[1],Yn=(Je[2]||"").split(".").sort(),fn){for(Gt=m.event.special[fn]||{},Ot=Xe[fn=(N?Gt.delegateType:Gt.bindType)||fn]||[],Je=Je[2]&&new RegExp("(^|\\.)"+Yn.join("\\.(?:.*\\.|)")+"(\\.|$)"),pe=Z=Ot.length;Z--;)Vt=Ot[Z],(Y||Bi===Vt.origType)&&(!M||M.guid===Vt.guid)&&(!Je||Je.test(Vt.namespace))&&(!N||N===Vt.selector||"**"===N&&Vt.selector)&&(Ot.splice(Z,1),Vt.selector&&Ot.delegateCount--,Gt.remove&&Gt.remove.call(o,Vt));pe&&!Ot.length&&((!Gt.teardown||!1===Gt.teardown.call(o,Yn,Zn.handle))&&m.removeEvent(o,fn,Zn.handle),delete Xe[fn])}else for(fn in Xe)m.event.remove(o,fn+g[ht],M,N,!0);m.isEmptyObject(Xe)&&hn.remove(o,"handle events")}},dispatch:function(o){var g,M,N,Y,Z,pe,Je=new Array(arguments.length),Xe=m.event.fix(o),ht=(hn.get(this,"events")||Object.create(null))[Xe.type]||[],Vt=m.event.special[Xe.type]||{};for(Je[0]=Xe,g=1;g<arguments.length;g++)Je[g]=arguments[g];if(Xe.delegateTarget=this,!Vt.preDispatch||!1!==Vt.preDispatch.call(this,Xe)){for(pe=m.event.handlers.call(this,Xe,ht),g=0;(Y=pe[g++])&&!Xe.isPropagationStopped();)for(Xe.currentTarget=Y.elem,M=0;(Z=Y.handlers[M++])&&!Xe.isImmediatePropagationStopped();)(!Xe.rnamespace||!1===Z.namespace||Xe.rnamespace.test(Z.namespace))&&(Xe.handleObj=Z,Xe.data=Z.data,void 0!==(N=((m.event.special[Z.origType]||{}).handle||Z.handler).apply(Y.elem,Je))&&!1===(Xe.result=N)&&(Xe.preventDefault(),Xe.stopPropagation()));return Vt.postDispatch&&Vt.postDispatch.call(this,Xe),Xe.result}},handlers:function(o,g){var M,N,Y,Z,pe,Je=[],Xe=g.delegateCount,ht=o.target;if(Xe&&ht.nodeType&&!("click"===o.type&&o.button>=1))for(;ht!==this;ht=ht.parentNode||this)if(1===ht.nodeType&&("click"!==o.type||!0!==ht.disabled)){for(Z=[],pe={},M=0;M<Xe;M++)void 0===pe[Y=(N=g[M]).selector+" "]&&(pe[Y]=N.needsContext?m(Y,this).index(ht)>-1:m.find(Y,this,null,[ht]).length),pe[Y]&&Z.push(N);Z.length&&Je.push({elem:ht,handlers:Z})}return ht=this,Xe<g.length&&Je.push({elem:ht,handlers:g.slice(Xe)}),Je},addProp:function(o,g){Object.defineProperty(m.Event.prototype,o,{enumerable:!0,configurable:!0,get:ue(g)?function(){if(this.originalEvent)return g(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[o]},set:function(M){Object.defineProperty(this,o,{enumerable:!0,configurable:!0,writable:!0,value:M})}})},fix:function(o){return o[m.expando]?o:new m.Event(o)},special:{load:{noBubble:!0},click:{setup:function(o){var g=this||o;return Kt.test(g.type)&&g.click&&It(g,"input")&&us(g,"click",!0),!1},trigger:function(o){var g=this||o;return Kt.test(g.type)&&g.click&&It(g,"input")&&us(g,"click"),!0},_default:function(o){var g=o.target;return Kt.test(g.type)&&g.click&&It(g,"input")&&hn.get(g,"click")||It(g,"a")}},beforeunload:{postDispatch:function(o){void 0!==o.result&&o.originalEvent&&(o.originalEvent.returnValue=o.result)}}}},m.removeEvent=function(o,g,M){o.removeEventListener&&o.removeEventListener(g,M)},m.Event=function(o,g){if(!(this instanceof m.Event))return new m.Event(o,g);o&&o.type?(this.originalEvent=o,this.type=o.type,this.isDefaultPrevented=o.defaultPrevented||void 0===o.defaultPrevented&&!1===o.returnValue?Zi:oi,this.target=o.target&&3===o.target.nodeType?o.target.parentNode:o.target,this.currentTarget=o.currentTarget,this.relatedTarget=o.relatedTarget):this.type=o,g&&m.extend(this,g),this.timeStamp=o&&o.timeStamp||Date.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:oi,isPropagationStopped:oi,isImmediatePropagationStopped:oi,isSimulated:!1,preventDefault:function(){var o=this.originalEvent;this.isDefaultPrevented=Zi,o&&!this.isSimulated&&o.preventDefault()},stopPropagation:function(){var o=this.originalEvent;this.isPropagationStopped=Zi,o&&!this.isSimulated&&o.stopPropagation()},stopImmediatePropagation:function(){var o=this.originalEvent;this.isImmediatePropagationStopped=Zi,o&&!this.isSimulated&&o.stopImmediatePropagation(),this.stopPropagation()}},m.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},m.event.addProp),m.each({focus:"focusin",blur:"focusout"},function(o,g){function M(N){if(Ee.documentMode){var Y=hn.get(this,"handle"),Z=m.event.fix(N);Z.type="focusin"===N.type?"focus":"blur",Z.isSimulated=!0,Y(N),Z.target===Z.currentTarget&&Y(Z)}else m.event.simulate(g,N.target,m.event.fix(N))}m.event.special[o]={setup:function(){var N;if(us(this,o,!0),!Ee.documentMode)return!1;(N=hn.get(this,g))||this.addEventListener(g,M),hn.set(this,g,(N||0)+1)},trigger:function(){return us(this,o),!0},teardown:function(){var N;if(!Ee.documentMode)return!1;(N=hn.get(this,g)-1)?hn.set(this,g,N):(this.removeEventListener(g,M),hn.remove(this,g))},_default:function(N){return hn.get(N.target,o)},delegateType:g},m.event.special[g]={setup:function(){var N=this.ownerDocument||this.document||this,Y=Ee.documentMode?this:N,Z=hn.get(Y,g);Z||(Ee.documentMode?this.addEventListener(g,M):N.addEventListener(o,M,!0)),hn.set(Y,g,(Z||0)+1)},teardown:function(){var N=this.ownerDocument||this.document||this,Y=Ee.documentMode?this:N,Z=hn.get(Y,g)-1;Z?hn.set(Y,g,Z):(Ee.documentMode?this.removeEventListener(g,M):N.removeEventListener(o,M,!0),hn.remove(Y,g))}}}),m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(o,g){m.event.special[o]={delegateType:g,bindType:g,handle:function(M){var N,Z=M.relatedTarget,pe=M.handleObj;return(!Z||Z!==this&&!m.contains(this,Z))&&(M.type=pe.origType,N=pe.handler.apply(this,arguments),M.type=g),N}}}),m.fn.extend({on:function(o,g,M,N){return Wr(this,o,g,M,N)},one:function(o,g,M,N){return Wr(this,o,g,M,N,1)},off:function(o,g,M){var N,Y;if(o&&o.preventDefault&&o.handleObj)return N=o.handleObj,m(o.delegateTarget).off(N.namespace?N.origType+"."+N.namespace:N.origType,N.selector,N.handler),this;if("object"==typeof o){for(Y in o)this.off(Y,g,o[Y]);return this}return(!1===g||"function"==typeof g)&&(M=g,g=void 0),!1===M&&(M=oi),this.each(function(){m.event.remove(this,o,M,g)})}});var Zr=/<script|<style|<link/i,ys=/checked\s*(?:[^=]|=\s*.checked.)/i,hs=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Hs(o,g){return It(o,"table")&&It(11!==g.nodeType?g:g.firstChild,"tr")&&m(o).children("tbody")[0]||o}function ur(o){return o.type=(null!==o.getAttribute("type"))+"/"+o.type,o}function bs(o){return"true/"===(o.type||"").slice(0,5)?o.type=o.type.slice(5):o.removeAttribute("type"),o}function ut(o,g){var M,N,Y,pe,Je,Xe;if(1===g.nodeType){if(hn.hasData(o)&&(Xe=hn.get(o).events))for(Y in hn.remove(g,"handle events"),Xe)for(M=0,N=Xe[Y].length;M<N;M++)m.event.add(g,Y,Xe[Y][M]);_i.hasData(o)&&(pe=_i.access(o),Je=m.extend({},pe),_i.set(g,Je))}}function zn(o,g){var M=g.nodeName.toLowerCase();"input"===M&&Kt.test(o.type)?g.checked=o.checked:("input"===M||"textarea"===M)&&(g.defaultValue=o.defaultValue)}function Ve(o,g,M,N){g=D(g);var Y,Z,pe,Je,Xe,ht,Vt=0,Gt=o.length,Ot=Gt-1,fn=g[0],Yn=ue(fn);if(Yn||Gt>1&&"string"==typeof fn&&!te.checkClone&&ys.test(fn))return o.each(function(Bi){var Zn=o.eq(Bi);Yn&&(g[0]=fn.call(this,Bi,Zn.html())),Ve(Zn,g,M,N)});if(Gt&&(Z=(Y=Vi(g,o[0].ownerDocument,!1,o,N)).firstChild,1===Y.childNodes.length&&(Y=Z),Z||N)){for(Je=(pe=m.map(dn(Y,"script"),ur)).length;Vt<Gt;Vt++)Xe=Y,Vt!==Ot&&(Xe=m.clone(Xe,!0,!0),Je&&m.merge(pe,dn(Xe,"script"))),M.call(o[Vt],Xe,Vt);if(Je)for(ht=pe[pe.length-1].ownerDocument,m.map(pe,bs),Vt=0;Vt<Je;Vt++)jn.test((Xe=pe[Vt]).type||"")&&!hn.access(Xe,"globalEval")&&m.contains(ht,Xe)&&(Xe.src&&"module"!==(Xe.type||"").toLowerCase()?m._evalUrl&&!Xe.noModule&&m._evalUrl(Xe.src,{nonce:Xe.nonce||Xe.getAttribute("nonce")},ht):ye(Xe.textContent.replace(hs,""),Xe,ht))}return o}function et(o,g,M){for(var N,Y=g?m.filter(g,o):o,Z=0;null!=(N=Y[Z]);Z++)!M&&1===N.nodeType&&m.cleanData(dn(N)),N.parentNode&&(M&&Ut(N)&&Mn(dn(N,"script")),N.parentNode.removeChild(N));return o}m.extend({htmlPrefilter:function(o){return o},clone:function(o,g,M){var N,Y,Z,pe,Je=o.cloneNode(!0),Xe=Ut(o);if(!(te.noCloneChecked||1!==o.nodeType&&11!==o.nodeType||m.isXMLDoc(o)))for(pe=dn(Je),N=0,Y=(Z=dn(o)).length;N<Y;N++)zn(Z[N],pe[N]);if(g)if(M)for(Z=Z||dn(o),pe=pe||dn(Je),N=0,Y=Z.length;N<Y;N++)ut(Z[N],pe[N]);else ut(o,Je);return(pe=dn(Je,"script")).length>0&&Mn(pe,!Xe&&dn(o,"script")),Je},cleanData:function(o){for(var g,M,N,Y=m.event.special,Z=0;void 0!==(M=o[Z]);Z++)if(sn(M)){if(g=M[hn.expando]){if(g.events)for(N in g.events)Y[N]?m.event.remove(M,N):m.removeEvent(M,N,g.handle);M[hn.expando]=void 0}M[_i.expando]&&(M[_i.expando]=void 0)}}}),m.fn.extend({detach:function(o){return et(this,o,!0)},remove:function(o){return et(this,o)},text:function(o){return gi(this,function(g){return void 0===g?m.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=g)})},null,o,arguments.length)},append:function(){return Ve(this,arguments,function(o){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Hs(this,o).appendChild(o)})},prepend:function(){return Ve(this,arguments,function(o){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var g=Hs(this,o);g.insertBefore(o,g.firstChild)}})},before:function(){return Ve(this,arguments,function(o){this.parentNode&&this.parentNode.insertBefore(o,this)})},after:function(){return Ve(this,arguments,function(o){this.parentNode&&this.parentNode.insertBefore(o,this.nextSibling)})},empty:function(){for(var o,g=0;null!=(o=this[g]);g++)1===o.nodeType&&(m.cleanData(dn(o,!1)),o.textContent="");return this},clone:function(o,g){return o=o??!1,g=g??o,this.map(function(){return m.clone(this,o,g)})},html:function(o){return gi(this,function(g){var M=this[0]||{},N=0,Y=this.length;if(void 0===g&&1===M.nodeType)return M.innerHTML;if("string"==typeof g&&!Zr.test(g)&&!Qt[(Un.exec(g)||["",""])[1].toLowerCase()]){g=m.htmlPrefilter(g);try{for(;N<Y;N++)1===(M=this[N]||{}).nodeType&&(m.cleanData(dn(M,!1)),M.innerHTML=g);M=0}catch{}}M&&this.empty().append(g)},null,o,arguments.length)},replaceWith:function(){var o=[];return Ve(this,arguments,function(g){var M=this.parentNode;m.inArray(this,o)<0&&(m.cleanData(dn(this)),M&&M.replaceChild(g,this))},o)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(o,g){m.fn[o]=function(M){for(var N,Y=[],Z=m(M),pe=Z.length-1,Je=0;Je<=pe;Je++)N=Je===pe?this:this.clone(!0),m(Z[Je])[g](N),x.apply(Y,N.get());return this.pushStack(Y)}});var jt=new RegExp("^("+cs+")(?!px)[a-z%]+$","i"),Wn=/^--/,In=function(o){var g=o.ownerDocument.defaultView;return(!g||!g.opener)&&(g=f),g.getComputedStyle(o)},Oi=function(o,g,M){var N,Y,Z={};for(Y in g)Z[Y]=o.style[Y],o.style[Y]=g[Y];for(Y in N=M.call(o),g)o.style[Y]=Z[Y];return N},ai=new RegExp(wr.join("|"),"i");function Ii(o,g,M){var N,Y,Z,pe,Je=Wn.test(g),Xe=o.style;return(M=M||In(o))&&(pe=M.getPropertyValue(g)||M[g],Je&&pe&&(pe=pe.replace(Pn,"$1")||void 0),""===pe&&!Ut(o)&&(pe=m.style(o,g)),!te.pixelBoxStyles()&&jt.test(pe)&&ai.test(g)&&(N=Xe.width,Y=Xe.minWidth,Z=Xe.maxWidth,Xe.minWidth=Xe.maxWidth=Xe.width=pe,pe=M.width,Xe.width=N,Xe.minWidth=Y,Xe.maxWidth=Z)),void 0!==pe?pe+"":pe}function $r(o,g){return{get:function(){if(!o())return(this.get=g).apply(this,arguments);delete this.get}}}!function(){function o(){if(ht){Xe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",ht.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ht.appendChild(Xe).appendChild(ht);var Vt=f.getComputedStyle(ht);M="1%"!==Vt.top,Je=12===g(Vt.marginLeft),ht.style.right="60%",Z=36===g(Vt.right),N=36===g(Vt.width),ht.style.position="absolute",Y=12===g(ht.offsetWidth/3),Ht.removeChild(Xe),ht=null}}function g(Vt){return Math.round(parseFloat(Vt))}var M,N,Y,Z,pe,Je,Xe=Ee.createElement("div"),ht=Ee.createElement("div");ht.style&&(ht.style.backgroundClip="content-box",ht.cloneNode(!0).style.backgroundClip="",te.clearCloneStyle="content-box"===ht.style.backgroundClip,m.extend(te,{boxSizingReliable:function(){return o(),N},pixelBoxStyles:function(){return o(),Z},pixelPosition:function(){return o(),M},reliableMarginLeft:function(){return o(),Je},scrollboxSize:function(){return o(),Y},reliableTrDimensions:function(){var Vt,Gt,Ot,fn;return null==pe&&(Vt=Ee.createElement("table"),Gt=Ee.createElement("tr"),Ot=Ee.createElement("div"),Vt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Gt.style.cssText="box-sizing:content-box;border:1px solid",Gt.style.height="1px",Ot.style.height="9px",Ot.style.display="block",Ht.appendChild(Vt).appendChild(Gt).appendChild(Ot),fn=f.getComputedStyle(Gt),pe=parseInt(fn.height,10)+parseInt(fn.borderTopWidth,10)+parseInt(fn.borderBottomWidth,10)===Gt.offsetHeight,Ht.removeChild(Vt)),pe}}))}();var Kr=["Webkit","Moz","ms"],es=Ee.createElement("div").style,Or={};function i(o){return m.cssProps[o]||Or[o]||(o in es?o:Or[o]=function r(o){for(var g=o[0].toUpperCase()+o.slice(1),M=Kr.length;M--;)if((o=Kr[M]+g)in es)return o}(o)||o)}var u=/^(none|table(?!-c[ea]).+)/,c={position:"absolute",visibility:"hidden",display:"block"},S={letterSpacing:"0",fontWeight:"400"};function A(o,g,M){var N=Cr.exec(g);return N?Math.max(0,N[2]-(M||0))+(N[3]||"px"):g}function W(o,g,M,N,Y,Z){var pe="width"===g?1:0,Je=0,Xe=0,ht=0;if(M===(N?"border":"content"))return 0;for(;pe<4;pe+=2)"margin"===M&&(ht+=m.css(o,M+wr[pe],!0,Y)),N?("content"===M&&(Xe-=m.css(o,"padding"+wr[pe],!0,Y)),"margin"!==M&&(Xe-=m.css(o,"border"+wr[pe]+"Width",!0,Y))):(Xe+=m.css(o,"padding"+wr[pe],!0,Y),"padding"!==M?Xe+=m.css(o,"border"+wr[pe]+"Width",!0,Y):Je+=m.css(o,"border"+wr[pe]+"Width",!0,Y));return!N&&Z>=0&&(Xe+=Math.max(0,Math.ceil(o["offset"+g[0].toUpperCase()+g.slice(1)]-Z-Xe-Je-.5))||0),Xe+ht}function ne(o,g,M){var N=In(o),Z=(!te.boxSizingReliable()||M)&&"border-box"===m.css(o,"boxSizing",!1,N),pe=Z,Je=Ii(o,g,N),Xe="offset"+g[0].toUpperCase()+g.slice(1);if(jt.test(Je)){if(!M)return Je;Je="auto"}return(!te.boxSizingReliable()&&Z||!te.reliableTrDimensions()&&It(o,"tr")||"auto"===Je||!parseFloat(Je)&&"inline"===m.css(o,"display",!1,N))&&o.getClientRects().length&&(Z="border-box"===m.css(o,"boxSizing",!1,N),(pe=Xe in o)&&(Je=o[Xe])),(Je=parseFloat(Je)||0)+W(o,g,M||(Z?"border":"content"),pe,N,Je)+"px"}function le(o,g,M,N,Y){return new le.prototype.init(o,g,M,N,Y)}m.extend({cssHooks:{opacity:{get:function(o,g){if(g){var M=Ii(o,"opacity");return""===M?"1":M}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(o,g,M,N){if(o&&3!==o.nodeType&&8!==o.nodeType&&o.style){var Y,Z,pe,Je=dt(g),Xe=Wn.test(g),ht=o.style;if(Xe||(g=i(Je)),pe=m.cssHooks[g]||m.cssHooks[Je],void 0===M)return pe&&"get"in pe&&void 0!==(Y=pe.get(o,!1,N))?Y:ht[g];if("string"==(Z=typeof M)&&(Y=Cr.exec(M))&&Y[1]&&(M=rt(o,g,Y),Z="number"),null==M||M!=M)return;"number"===Z&&!Xe&&(M+=Y&&Y[3]||(m.cssNumber[Je]?"":"px")),!te.clearCloneStyle&&""===M&&0===g.indexOf("background")&&(ht[g]="inherit"),(!pe||!("set"in pe)||void 0!==(M=pe.set(o,M,N)))&&(Xe?ht.setProperty(g,M):ht[g]=M)}},css:function(o,g,M,N){var Y,Z,pe,Je=dt(g);return Wn.test(g)||(g=i(Je)),(pe=m.cssHooks[g]||m.cssHooks[Je])&&"get"in pe&&(Y=pe.get(o,!0,M)),void 0===Y&&(Y=Ii(o,g,N)),"normal"===Y&&g in S&&(Y=S[g]),""===M||M?(Z=parseFloat(Y),!0===M||isFinite(Z)?Z||0:Y):Y}}),m.each(["height","width"],function(o,g){m.cssHooks[g]={get:function(M,N,Y){if(N)return!u.test(m.css(M,"display"))||M.getClientRects().length&&M.getBoundingClientRect().width?ne(M,g,Y):Oi(M,c,function(){return ne(M,g,Y)})},set:function(M,N,Y){var Z,pe=In(M),Je=!te.scrollboxSize()&&"absolute"===pe.position,ht=(Je||Y)&&"border-box"===m.css(M,"boxSizing",!1,pe),Vt=Y?W(M,g,Y,ht,pe):0;return ht&&Je&&(Vt-=Math.ceil(M["offset"+g[0].toUpperCase()+g.slice(1)]-parseFloat(pe[g])-W(M,g,"border",!1,pe)-.5)),Vt&&(Z=Cr.exec(N))&&"px"!==(Z[3]||"px")&&(M.style[g]=N,N=m.css(M,g)),A(0,N,Vt)}}}),m.cssHooks.marginLeft=$r(te.reliableMarginLeft,function(o,g){if(g)return(parseFloat(Ii(o,"marginLeft"))||o.getBoundingClientRect().left-Oi(o,{marginLeft:0},function(){return o.getBoundingClientRect().left}))+"px"}),m.each({margin:"",padding:"",border:"Width"},function(o,g){m.cssHooks[o+g]={expand:function(M){for(var N=0,Y={},Z="string"==typeof M?M.split(" "):[M];N<4;N++)Y[o+wr[N]+g]=Z[N]||Z[N-2]||Z[0];return Y}},"margin"!==o&&(m.cssHooks[o+g].set=A)}),m.fn.extend({css:function(o,g){return gi(this,function(M,N,Y){var Z,pe,Je={},Xe=0;if(Array.isArray(N)){for(Z=In(M),pe=N.length;Xe<pe;Xe++)Je[N[Xe]]=m.css(M,N[Xe],!1,Z);return Je}return void 0!==Y?m.style(M,N,Y):m.css(M,N)},o,g,arguments.length>1)}}),m.Tween=le,le.prototype={constructor:le,init:function(o,g,M,N,Y,Z){this.elem=o,this.prop=M,this.easing=Y||m.easing._default,this.options=g,this.start=this.now=this.cur(),this.end=N,this.unit=Z||(m.cssNumber[M]?"":"px")},cur:function(){var o=le.propHooks[this.prop];return o&&o.get?o.get(this):le.propHooks._default.get(this)},run:function(o){var g,M=le.propHooks[this.prop];return this.pos=g=this.options.duration?m.easing[this.easing](o,this.options.duration*o,0,1,this.options.duration):o,this.now=(this.end-this.start)*g+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),M&&M.set?M.set(this):le.propHooks._default.set(this),this}},le.prototype.init.prototype=le.prototype,le.propHooks={_default:{get:function(o){var g;return 1!==o.elem.nodeType||null!=o.elem[o.prop]&&null==o.elem.style[o.prop]?o.elem[o.prop]:(g=m.css(o.elem,o.prop,""))&&"auto"!==g?g:0},set:function(o){m.fx.step[o.prop]?m.fx.step[o.prop](o):1!==o.elem.nodeType||!m.cssHooks[o.prop]&&null==o.elem.style[i(o.prop)]?o.elem[o.prop]=o.now:m.style(o.elem,o.prop,o.now+o.unit)}}},le.propHooks.scrollTop=le.propHooks.scrollLeft={set:function(o){o.elem.nodeType&&o.elem.parentNode&&(o.elem[o.prop]=o.now)}},m.easing={linear:function(o){return o},swing:function(o){return.5-Math.cos(o*Math.PI)/2},_default:"swing"},m.fx=le.prototype.init,m.fx.step={};var he,be,ve=/^(?:toggle|show|hide)$/,Ie=/queueHooks$/;function ze(){be&&(!1===Ee.hidden&&f.requestAnimationFrame?f.requestAnimationFrame(ze):f.setTimeout(ze,m.fx.interval),m.fx.tick())}function st(){return f.setTimeout(function(){he=void 0}),he=Date.now()}function _t(o,g){var M,N=0,Y={height:o};for(g=g?1:0;N<4;N+=2-g)Y["margin"+(M=wr[N])]=Y["padding"+M]=o;return g&&(Y.opacity=Y.width=o),Y}function vt(o,g,M){for(var N,Y=(Re.tweeners[g]||[]).concat(Re.tweeners["*"]),Z=0,pe=Y.length;Z<pe;Z++)if(N=Y[Z].call(M,g,o))return N}function Re(o,g,M){var N,Y,Z=0,pe=Re.prefilters.length,Je=m.Deferred().always(function(){delete Xe.elem}),Xe=function(){if(Y)return!1;for(var Gt=he||st(),Ot=Math.max(0,ht.startTime+ht.duration-Gt),Yn=1-(Ot/ht.duration||0),Bi=0,Zn=ht.tweens.length;Bi<Zn;Bi++)ht.tweens[Bi].run(Yn);return Je.notifyWith(o,[ht,Yn,Ot]),Yn<1&&Zn?Ot:(Zn||Je.notifyWith(o,[ht,1,0]),Je.resolveWith(o,[ht]),!1)},ht=Je.promise({elem:o,props:m.extend({},g),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},M),originalProperties:g,originalOptions:M,startTime:he||st(),duration:M.duration,tweens:[],createTween:function(Gt,Ot){var fn=m.Tween(o,ht.opts,Gt,Ot,ht.opts.specialEasing[Gt]||ht.opts.easing);return ht.tweens.push(fn),fn},stop:function(Gt){var Ot=0,fn=Gt?ht.tweens.length:0;if(Y)return this;for(Y=!0;Ot<fn;Ot++)ht.tweens[Ot].run(1);return Gt?(Je.notifyWith(o,[ht,1,0]),Je.resolveWith(o,[ht,Gt])):Je.rejectWith(o,[ht,Gt]),this}}),Vt=ht.props;for(function Oe(o,g){var M,N,Y,Z,pe;for(M in o)if(Y=g[N=dt(M)],Z=o[M],Array.isArray(Z)&&(Y=Z[1],Z=o[M]=Z[0]),M!==N&&(o[N]=Z,delete o[M]),(pe=m.cssHooks[N])&&"expand"in pe)for(M in Z=pe.expand(Z),delete o[N],Z)M in o||(o[M]=Z[M],g[M]=Y);else g[N]=Y}(Vt,ht.opts.specialEasing);Z<pe;Z++)if(N=Re.prefilters[Z].call(ht,o,Vt,ht.opts))return ue(N.stop)&&(m._queueHooks(ht.elem,ht.opts.queue).stop=N.stop.bind(N)),N;return m.map(Vt,vt,ht),ue(ht.opts.start)&&ht.opts.start.call(o,ht),ht.progress(ht.opts.progress).done(ht.opts.done,ht.opts.complete).fail(ht.opts.fail).always(ht.opts.always),m.fx.timer(m.extend(Xe,{elem:o,anim:ht,queue:ht.opts.queue})),ht}m.Animation=m.extend(Re,{tweeners:{"*":[function(o,g){var M=this.createTween(o,g);return rt(M.elem,o,Cr.exec(g),M),M}]},tweener:function(o,g){ue(o)?(g=o,o=["*"]):o=o.match(Pe);for(var M,N=0,Y=o.length;N<Y;N++)(Re.tweeners[M=o[N]]=Re.tweeners[M]||[]).unshift(g)},prefilters:[function de(o,g,M){var N,Y,Z,pe,Je,Xe,ht,Vt,Gt="width"in g||"height"in g,Ot=this,fn={},Yn=o.style,Bi=o.nodeType&&Se(o),Zn=hn.get(o,"fxshow");for(N in M.queue||(null==(pe=m._queueHooks(o,"fx")).unqueued&&(pe.unqueued=0,Je=pe.empty.fire,pe.empty.fire=function(){pe.unqueued||Je()}),pe.unqueued++,Ot.always(function(){Ot.always(function(){pe.unqueued--,m.queue(o,"fx").length||pe.empty.fire()})})),g)if(ve.test(Y=g[N])){if(delete g[N],Z=Z||"toggle"===Y,Y===(Bi?"hide":"show")){if("show"!==Y||!Zn||void 0===Zn[N])continue;Bi=!0}fn[N]=Zn&&Zn[N]||m.style(o,N)}if((Xe=!m.isEmptyObject(g))||!m.isEmptyObject(fn))for(N in Gt&&1===o.nodeType&&(M.overflow=[Yn.overflow,Yn.overflowX,Yn.overflowY],null==(ht=Zn&&Zn.display)&&(ht=hn.get(o,"display")),"none"===(Vt=m.css(o,"display"))&&(ht?Vt=ht:(mt([o],!0),ht=o.style.display||ht,Vt=m.css(o,"display"),mt([o]))),("inline"===Vt||"inline-block"===Vt&&null!=ht)&&"none"===m.css(o,"float")&&(Xe||(Ot.done(function(){Yn.display=ht}),null==ht&&(ht="none"===(Vt=Yn.display)?"":Vt)),Yn.display="inline-block")),M.overflow&&(Yn.overflow="hidden",Ot.always(function(){Yn.overflow=M.overflow[0],Yn.overflowX=M.overflow[1],Yn.overflowY=M.overflow[2]})),Xe=!1,fn)Xe||(Zn?"hidden"in Zn&&(Bi=Zn.hidden):Zn=hn.access(o,"fxshow",{display:ht}),Z&&(Zn.hidden=!Bi),Bi&&mt([o],!0),Ot.done(function(){for(N in Bi||mt([o]),hn.remove(o,"fxshow"),fn)m.style(o,N,fn[N])})),Xe=vt(Bi?Zn[N]:0,N,Ot),N in Zn||(Zn[N]=Xe.start,Bi&&(Xe.end=Xe.start,Xe.start=0))}],prefilter:function(o,g){g?Re.prefilters.unshift(o):Re.prefilters.push(o)}}),m.speed=function(o,g,M){var N=o&&"object"==typeof o?m.extend({},o):{complete:M||!M&&g||ue(o)&&o,duration:o,easing:M&&g||g&&!ue(g)&&g};return m.fx.off?N.duration=0:"number"!=typeof N.duration&&(N.duration=N.duration in m.fx.speeds?m.fx.speeds[N.duration]:m.fx.speeds._default),(null==N.queue||!0===N.queue)&&(N.queue="fx"),N.old=N.complete,N.complete=function(){ue(N.old)&&N.old.call(this),N.queue&&m.dequeue(this,N.queue)},N},m.fn.extend({fadeTo:function(o,g,M,N){return this.filter(Se).css("opacity",0).show().end().animate({opacity:g},o,M,N)},animate:function(o,g,M,N){var Y=m.isEmptyObject(o),Z=m.speed(g,M,N),pe=function(){var Je=Re(this,m.extend({},o),Z);(Y||hn.get(this,"finish"))&&Je.stop(!0)};return pe.finish=pe,Y||!1===Z.queue?this.each(pe):this.queue(Z.queue,pe)},stop:function(o,g,M){var N=function(Y){var Z=Y.stop;delete Y.stop,Z(M)};return"string"!=typeof o&&(M=g,g=o,o=void 0),g&&this.queue(o||"fx",[]),this.each(function(){var Y=!0,Z=null!=o&&o+"queueHooks",pe=m.timers,Je=hn.get(this);if(Z)Je[Z]&&Je[Z].stop&&N(Je[Z]);else for(Z in Je)Je[Z]&&Je[Z].stop&&Ie.test(Z)&&N(Je[Z]);for(Z=pe.length;Z--;)pe[Z].elem===this&&(null==o||pe[Z].queue===o)&&(pe[Z].anim.stop(M),Y=!1,pe.splice(Z,1));(Y||!M)&&m.dequeue(this,o)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var g,M=hn.get(this),N=M[o+"queue"],Y=M[o+"queueHooks"],Z=m.timers,pe=N?N.length:0;for(M.finish=!0,m.queue(this,o,[]),Y&&Y.stop&&Y.stop.call(this,!0),g=Z.length;g--;)Z[g].elem===this&&Z[g].queue===o&&(Z[g].anim.stop(!0),Z.splice(g,1));for(g=0;g<pe;g++)N[g]&&N[g].finish&&N[g].finish.call(this);delete M.finish})}}),m.each(["toggle","show","hide"],function(o,g){var M=m.fn[g];m.fn[g]=function(N,Y,Z){return null==N||"boolean"==typeof N?M.apply(this,arguments):this.animate(_t(g,!0),N,Y,Z)}}),m.each({slideDown:_t("show"),slideUp:_t("hide"),slideToggle:_t("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(o,g){m.fn[o]=function(M,N,Y){return this.animate(g,M,N,Y)}}),m.timers=[],m.fx.tick=function(){var o,g=0,M=m.timers;for(he=Date.now();g<M.length;g++)!(o=M[g])()&&M[g]===o&&M.splice(g--,1);M.length||m.fx.stop(),he=void 0},m.fx.timer=function(o){m.timers.push(o),m.fx.start()},m.fx.interval=13,m.fx.start=function(){be||(be=!0,ze())},m.fx.stop=function(){be=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(o,g){return o=m.fx&&m.fx.speeds[o]||o,this.queue(g=g||"fx",function(M,N){var Y=f.setTimeout(M,o);N.stop=function(){f.clearTimeout(Y)}})},function(){var o=Ee.createElement("input"),M=Ee.createElement("select").appendChild(Ee.createElement("option"));o.type="checkbox",te.checkOn=""!==o.value,te.optSelected=M.selected,(o=Ee.createElement("input")).value="t",o.type="radio",te.radioValue="t"===o.value}();var je,ee=m.expr.attrHandle;m.fn.extend({attr:function(o,g){return gi(this,m.attr,o,g,arguments.length>1)},removeAttr:function(o){return this.each(function(){m.removeAttr(this,o)})}}),m.extend({attr:function(o,g,M){var N,Y,Z=o.nodeType;if(3!==Z&&8!==Z&&2!==Z)return typeof o.getAttribute>"u"?m.prop(o,g,M):((1!==Z||!m.isXMLDoc(o))&&(Y=m.attrHooks[g.toLowerCase()]||(m.expr.match.bool.test(g)?je:void 0)),void 0!==M?null===M?void m.removeAttr(o,g):Y&&"set"in Y&&void 0!==(N=Y.set(o,M,g))?N:(o.setAttribute(g,M+""),M):Y&&"get"in Y&&null!==(N=Y.get(o,g))?N:(N=m.find.attr(o,g))??void 0)},attrHooks:{type:{set:function(o,g){if(!te.radioValue&&"radio"===g&&It(o,"input")){var M=o.value;return o.setAttribute("type",g),M&&(o.value=M),g}}}},removeAttr:function(o,g){var M,N=0,Y=g&&g.match(Pe);if(Y&&1===o.nodeType)for(;M=Y[N++];)o.removeAttribute(M)}}),je={set:function(o,g,M){return!1===g?m.removeAttr(o,M):o.setAttribute(M,M),M}},m.each(m.expr.match.bool.source.match(/\w+/g),function(o,g){var M=ee[g]||m.find.attr;ee[g]=function(N,Y,Z){var pe,Je,Xe=Y.toLowerCase();return Z||(Je=ee[Xe],ee[Xe]=pe,pe=null!=M(N,Y,Z)?Xe:null,ee[Xe]=Je),pe}});var Ae=/^(?:input|select|textarea|button)$/i,Ke=/^(?:a|area)$/i;function Be(o){return(o.match(Pe)||[]).join(" ")}function Mt(o){return o.getAttribute&&o.getAttribute("class")||""}function Ct(o){return Array.isArray(o)?o:"string"==typeof o&&o.match(Pe)||[]}m.fn.extend({prop:function(o,g){return gi(this,m.prop,o,g,arguments.length>1)},removeProp:function(o){return this.each(function(){delete this[m.propFix[o]||o]})}}),m.extend({prop:function(o,g,M){var N,Y,Z=o.nodeType;if(3!==Z&&8!==Z&&2!==Z)return(1!==Z||!m.isXMLDoc(o))&&(Y=m.propHooks[g=m.propFix[g]||g]),void 0!==M?Y&&"set"in Y&&void 0!==(N=Y.set(o,M,g))?N:o[g]=M:Y&&"get"in Y&&null!==(N=Y.get(o,g))?N:o[g]},propHooks:{tabIndex:{get:function(o){var g=m.find.attr(o,"tabindex");return g?parseInt(g,10):Ae.test(o.nodeName)||Ke.test(o.nodeName)&&o.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),te.optSelected||(m.propHooks.selected={get:function(o){return null},set:function(o){}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),m.fn.extend({addClass:function(o){var g,M,N,Y,Z,pe;return ue(o)?this.each(function(Je){m(this).addClass(o.call(this,Je,Mt(this)))}):(g=Ct(o)).length?this.each(function(){if(N=Mt(this),M=1===this.nodeType&&" "+Be(N)+" "){for(Z=0;Z<g.length;Z++)M.indexOf(" "+(Y=g[Z])+" ")<0&&(M+=Y+" ");pe=Be(M),N!==pe&&this.setAttribute("class",pe)}}):this},removeClass:function(o){var g,M,N,Y,Z,pe;return ue(o)?this.each(function(Je){m(this).removeClass(o.call(this,Je,Mt(this)))}):arguments.length?(g=Ct(o)).length?this.each(function(){if(N=Mt(this),M=1===this.nodeType&&" "+Be(N)+" "){for(Z=0;Z<g.length;Z++)for(Y=g[Z];M.indexOf(" "+Y+" ")>-1;)M=M.replace(" "+Y+" "," ");pe=Be(M),N!==pe&&this.setAttribute("class",pe)}}):this:this.attr("class","")},toggleClass:function(o,g){var M,N,Y,Z,pe=typeof o,Je="string"===pe||Array.isArray(o);return ue(o)?this.each(function(Xe){m(this).toggleClass(o.call(this,Xe,Mt(this),g),g)}):"boolean"==typeof g&&Je?g?this.addClass(o):this.removeClass(o):(M=Ct(o),this.each(function(){if(Je)for(Z=m(this),Y=0;Y<M.length;Y++)Z.hasClass(N=M[Y])?Z.removeClass(N):Z.addClass(N);else(void 0===o||"boolean"===pe)&&((N=Mt(this))&&hn.set(this,"__className__",N),this.setAttribute&&this.setAttribute("class",N||!1===o?"":hn.get(this,"__className__")||""))}))},hasClass:function(o){var g,M,N=0;for(g=" "+o+" ";M=this[N++];)if(1===M.nodeType&&(" "+Be(Mt(M))+" ").indexOf(g)>-1)return!0;return!1}});var ln=/\r/g;m.fn.extend({val:function(o){var g,M,N,Y=this[0];return arguments.length?(N=ue(o),this.each(function(Z){var pe;1===this.nodeType&&(null==(pe=N?o.call(this,Z,m(this).val()):o)?pe="":"number"==typeof pe?pe+="":Array.isArray(pe)&&(pe=m.map(pe,function(Je){return null==Je?"":Je+""})),(!(g=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])||!("set"in g)||void 0===g.set(this,pe,"value"))&&(this.value=pe))})):Y?(g=m.valHooks[Y.type]||m.valHooks[Y.nodeName.toLowerCase()])&&"get"in g&&void 0!==(M=g.get(Y,"value"))?M:"string"==typeof(M=Y.value)?M.replace(ln,""):M??"":void 0}}),m.extend({valHooks:{option:{get:function(o){return m.find.attr(o,"value")??Be(m.text(o))}},select:{get:function(o){var g,M,N,Y=o.options,Z=o.selectedIndex,pe="select-one"===o.type,Je=pe?null:[],Xe=pe?Z+1:Y.length;for(N=Z<0?Xe:pe?Z:0;N<Xe;N++)if(((M=Y[N]).selected||N===Z)&&!M.disabled&&(!M.parentNode.disabled||!It(M.parentNode,"optgroup"))){if(g=m(M).val(),pe)return g;Je.push(g)}return Je},set:function(o,g){for(var M,N,Y=o.options,Z=m.makeArray(g),pe=Y.length;pe--;)((N=Y[pe]).selected=m.inArray(m.valHooks.option.get(N),Z)>-1)&&(M=!0);return M||(o.selectedIndex=-1),Z}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(o,g){if(Array.isArray(g))return o.checked=m.inArray(m(o).val(),g)>-1}},te.checkOn||(m.valHooks[this].get=function(o){return null===o.getAttribute("value")?"on":o.value})});var Xn=f.location,ui={guid:Date.now()},Ei=/\?/;m.parseXML=function(o){var g,M;if(!o||"string"!=typeof o)return null;try{g=(new f.DOMParser).parseFromString(o,"text/xml")}catch{}return M=g&&g.getElementsByTagName("parsererror")[0],(!g||M)&&m.error("Invalid XML: "+(M?m.map(M.childNodes,function(N){return N.textContent}).join("\n"):o)),g};var Ti=/^(?:focusinfocus|focusoutblur)$/,zi=function(o){o.stopPropagation()};m.extend(m.event,{trigger:function(o,g,M,N){var Y,Z,pe,Je,Xe,ht,Vt,Gt,Ot=[M||Ee],fn=se.call(o,"type")?o.type:o,Yn=se.call(o,"namespace")?o.namespace.split("."):[];if(Z=Gt=pe=M=M||Ee,3!==M.nodeType&&8!==M.nodeType&&!Ti.test(fn+m.event.triggered)&&(fn.indexOf(".")>-1&&(Yn=fn.split("."),fn=Yn.shift(),Yn.sort()),Xe=fn.indexOf(":")<0&&"on"+fn,(o=o[m.expando]?o:new m.Event(fn,"object"==typeof o&&o)).isTrigger=N?2:3,o.namespace=Yn.join("."),o.rnamespace=o.namespace?new RegExp("(^|\\.)"+Yn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,o.result=void 0,o.target||(o.target=M),g=null==g?[o]:m.makeArray(g,[o]),Vt=m.event.special[fn]||{},N||!Vt.trigger||!1!==Vt.trigger.apply(M,g))){if(!N&&!Vt.noBubble&&!Ge(M)){for(Ti.test((Je=Vt.delegateType||fn)+fn)||(Z=Z.parentNode);Z;Z=Z.parentNode)Ot.push(Z),pe=Z;pe===(M.ownerDocument||Ee)&&Ot.push(pe.defaultView||pe.parentWindow||f)}for(Y=0;(Z=Ot[Y++])&&!o.isPropagationStopped();)Gt=Z,o.type=Y>1?Je:Vt.bindType||fn,(ht=(hn.get(Z,"events")||Object.create(null))[o.type]&&hn.get(Z,"handle"))&&ht.apply(Z,g),(ht=Xe&&Z[Xe])&&ht.apply&&sn(Z)&&(o.result=ht.apply(Z,g),!1===o.result&&o.preventDefault());return o.type=fn,!N&&!o.isDefaultPrevented()&&(!Vt._default||!1===Vt._default.apply(Ot.pop(),g))&&sn(M)&&Xe&&ue(M[fn])&&!Ge(M)&&((pe=M[Xe])&&(M[Xe]=null),m.event.triggered=fn,o.isPropagationStopped()&&Gt.addEventListener(fn,zi),M[fn](),o.isPropagationStopped()&&Gt.removeEventListener(fn,zi),m.event.triggered=void 0,pe&&(M[Xe]=pe)),o.result}},simulate:function(o,g,M){var N=m.extend(new m.Event,M,{type:o,isSimulated:!0});m.event.trigger(N,null,g)}}),m.fn.extend({trigger:function(o,g){return this.each(function(){m.event.trigger(o,g,this)})},triggerHandler:function(o,g){var M=this[0];if(M)return m.event.trigger(o,g,M,!0)}});var Gr=/\[\]$/,er=/\r?\n/g,fr=/^(?:submit|button|image|reset|file)$/i,or=/^(?:input|select|textarea|keygen)/i;function _r(o,g,M,N){var Y;if(Array.isArray(g))m.each(g,function(Z,pe){M||Gr.test(o)?N(o,pe):_r(o+"["+("object"==typeof pe&&null!=pe?Z:"")+"]",pe,M,N)});else if(M||"object"!==ke(g))N(o,g);else for(Y in g)_r(o+"["+Y+"]",g[Y],M,N)}m.param=function(o,g){var M,N=[],Y=function(Z,pe){var Je=ue(pe)?pe():pe;N[N.length]=encodeURIComponent(Z)+"="+encodeURIComponent(Je??"")};if(null==o)return"";if(Array.isArray(o)||o.jquery&&!m.isPlainObject(o))m.each(o,function(){Y(this.name,this.value)});else for(M in o)_r(M,o[M],g,Y);return N.join("&")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var o=m.prop(this,"elements");return o?m.makeArray(o):this}).filter(function(){var o=this.type;return this.name&&!m(this).is(":disabled")&&or.test(this.nodeName)&&!fr.test(o)&&(this.checked||!Kt.test(o))}).map(function(o,g){var M=m(this).val();return null==M?null:Array.isArray(M)?m.map(M,function(N){return{name:g.name,value:N.replace(er,"\r\n")}}):{name:g.name,value:M.replace(er,"\r\n")}}).get()}});var ws=/%20/g,Ws=/#.*$/,Ks=/([?&])_=[^&]*/,ts=/^(.*?):[ \t]*([^\r\n]*)$/gm,to=/^(?:GET|HEAD)$/,ds=/^\/\//,ns={},ks={},is="*/".concat("*"),Gs=Ee.createElement("a");function fs(o){return function(g,M){"string"!=typeof g&&(M=g,g="*");var N,Y=0,Z=g.toLowerCase().match(Pe)||[];if(ue(M))for(;N=Z[Y++];)"+"===N[0]?(N=N.slice(1)||"*",(o[N]=o[N]||[]).unshift(M)):(o[N]=o[N]||[]).push(M)}}function As(o,g,M,N){var Y={},Z=o===ks;function pe(Je){var Xe;return Y[Je]=!0,m.each(o[Je]||[],function(ht,Vt){var Gt=Vt(g,M,N);return"string"!=typeof Gt||Z||Y[Gt]?Z?!(Xe=Gt):void 0:(g.dataTypes.unshift(Gt),pe(Gt),!1)}),Xe}return pe(g.dataTypes[0])||!Y["*"]&&pe("*")}function Lr(o,g){var M,N,Y=m.ajaxSettings.flatOptions||{};for(M in g)void 0!==g[M]&&((Y[M]?o:N||(N={}))[M]=g[M]);return N&&m.extend(!0,o,N),o}Gs.href=Xn.href,m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Xn.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Xn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":is,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(o,g){return g?Lr(Lr(o,m.ajaxSettings),g):Lr(m.ajaxSettings,o)},ajaxPrefilter:fs(ns),ajaxTransport:fs(ks),ajax:function(o,g){"object"==typeof o&&(g=o,o=void 0);var M,N,Y,Z,pe,Je,Xe,ht,Vt,Gt,Ot=m.ajaxSetup({},g=g||{}),fn=Ot.context||Ot,Yn=Ot.context&&(fn.nodeType||fn.jquery)?m(fn):m.event,Bi=m.Deferred(),Zn=m.Callbacks("once memory"),Vr=Ot.statusCode||{},Ji={},Is={},Ys="canceled",Mi={readyState:0,getResponseHeader:function(Yi){var vr;if(Xe){if(!Z)for(Z={};vr=ts.exec(Y);)Z[vr[1].toLowerCase()+" "]=(Z[vr[1].toLowerCase()+" "]||[]).concat(vr[2]);vr=Z[Yi.toLowerCase()+" "]}return null==vr?null:vr.join(", ")},getAllResponseHeaders:function(){return Xe?Y:null},setRequestHeader:function(Yi,vr){return null==Xe&&(Yi=Is[Yi.toLowerCase()]=Is[Yi.toLowerCase()]||Yi,Ji[Yi]=vr),this},overrideMimeType:function(Yi){return null==Xe&&(Ot.mimeType=Yi),this},statusCode:function(Yi){var vr;if(Yi)if(Xe)Mi.always(Yi[Mi.status]);else for(vr in Yi)Vr[vr]=[Vr[vr],Yi[vr]];return this},abort:function(Yi){var vr=Yi||Ys;return M&&M.abort(vr),ao(0,vr),this}};if(Bi.promise(Mi),Ot.url=((o||Ot.url||Xn.href)+"").replace(ds,Xn.protocol+"//"),Ot.type=g.method||g.type||Ot.method||Ot.type,Ot.dataTypes=(Ot.dataType||"*").toLowerCase().match(Pe)||[""],null==Ot.crossDomain){Je=Ee.createElement("a");try{Je.href=Ot.url,Je.href=Je.href,Ot.crossDomain=Gs.protocol+"//"+Gs.host!=Je.protocol+"//"+Je.host}catch{Ot.crossDomain=!0}}if(Ot.data&&Ot.processData&&"string"!=typeof Ot.data&&(Ot.data=m.param(Ot.data,Ot.traditional)),As(ns,Ot,g,Mi),Xe)return Mi;for(Vt in(ht=m.event&&Ot.global)&&0==m.active++&&m.event.trigger("ajaxStart"),Ot.type=Ot.type.toUpperCase(),Ot.hasContent=!to.test(Ot.type),N=Ot.url.replace(Ws,""),Ot.hasContent?Ot.data&&Ot.processData&&0===(Ot.contentType||"").indexOf("application/x-www-form-urlencoded")&&(Ot.data=Ot.data.replace(ws,"+")):(Gt=Ot.url.slice(N.length),Ot.data&&(Ot.processData||"string"==typeof Ot.data)&&(N+=(Ei.test(N)?"&":"?")+Ot.data,delete Ot.data),!1===Ot.cache&&(N=N.replace(Ks,"$1"),Gt=(Ei.test(N)?"&":"?")+"_="+ui.guid+++Gt),Ot.url=N+Gt),Ot.ifModified&&(m.lastModified[N]&&Mi.setRequestHeader("If-Modified-Since",m.lastModified[N]),m.etag[N]&&Mi.setRequestHeader("If-None-Match",m.etag[N])),(Ot.data&&Ot.hasContent&&!1!==Ot.contentType||g.contentType)&&Mi.setRequestHeader("Content-Type",Ot.contentType),Mi.setRequestHeader("Accept",Ot.dataTypes[0]&&Ot.accepts[Ot.dataTypes[0]]?Ot.accepts[Ot.dataTypes[0]]+("*"!==Ot.dataTypes[0]?", "+is+"; q=0.01":""):Ot.accepts["*"]),Ot.headers)Mi.setRequestHeader(Vt,Ot.headers[Vt]);if(Ot.beforeSend&&(!1===Ot.beforeSend.call(fn,Mi,Ot)||Xe))return Mi.abort();if(Ys="abort",Zn.add(Ot.complete),Mi.done(Ot.success),Mi.fail(Ot.error),M=As(ks,Ot,g,Mi)){if(Mi.readyState=1,ht&&Yn.trigger("ajaxSend",[Mi,Ot]),Xe)return Mi;Ot.async&&Ot.timeout>0&&(pe=f.setTimeout(function(){Mi.abort("timeout")},Ot.timeout));try{Xe=!1,M.send(Ji,ao)}catch(Yi){if(Xe)throw Yi;ao(-1,Yi)}}else ao(-1,"No Transport");function ao(Yi,vr,Ns,Io){var hr,no,Ss,zr,Mr,Es=vr;Xe||(Xe=!0,pe&&f.clearTimeout(pe),M=void 0,Y=Io||"",Mi.readyState=Yi>0?4:0,hr=Yi>=200&&Yi<300||304===Yi,Ns&&(zr=function rs(o,g,M){for(var N,Y,Z,pe,Je=o.contents,Xe=o.dataTypes;"*"===Xe[0];)Xe.shift(),void 0===N&&(N=o.mimeType||g.getResponseHeader("Content-Type"));if(N)for(Y in Je)if(Je[Y]&&Je[Y].test(N)){Xe.unshift(Y);break}if(Xe[0]in M)Z=Xe[0];else{for(Y in M){if(!Xe[0]||o.converters[Y+" "+Xe[0]]){Z=Y;break}pe||(pe=Y)}Z=Z||pe}if(Z)return Z!==Xe[0]&&Xe.unshift(Z),M[Z]}(Ot,Mi,Ns)),!hr&&m.inArray("script",Ot.dataTypes)>-1&&m.inArray("json",Ot.dataTypes)<0&&(Ot.converters["text script"]=function(){}),zr=function Br(o,g,M,N){var Y,Z,pe,Je,Xe,ht={},Vt=o.dataTypes.slice();if(Vt[1])for(pe in o.converters)ht[pe.toLowerCase()]=o.converters[pe];for(Z=Vt.shift();Z;)if(o.responseFields[Z]&&(M[o.responseFields[Z]]=g),!Xe&&N&&o.dataFilter&&(g=o.dataFilter(g,o.dataType)),Xe=Z,Z=Vt.shift())if("*"===Z)Z=Xe;else if("*"!==Xe&&Xe!==Z){if(!(pe=ht[Xe+" "+Z]||ht["* "+Z]))for(Y in ht)if((Je=Y.split(" "))[1]===Z&&(pe=ht[Xe+" "+Je[0]]||ht["* "+Je[0]])){!0===pe?pe=ht[Y]:!0!==ht[Y]&&(Z=Je[0],Vt.unshift(Je[1]));break}if(!0!==pe)if(pe&&o.throws)g=pe(g);else try{g=pe(g)}catch(Gt){return{state:"parsererror",error:pe?Gt:"No conversion from "+Xe+" to "+Z}}}return{state:"success",data:g}}(Ot,zr,Mi,hr),hr?(Ot.ifModified&&((Mr=Mi.getResponseHeader("Last-Modified"))&&(m.lastModified[N]=Mr),(Mr=Mi.getResponseHeader("etag"))&&(m.etag[N]=Mr)),204===Yi||"HEAD"===Ot.type?Es="nocontent":304===Yi?Es="notmodified":(Es=zr.state,no=zr.data,hr=!(Ss=zr.error))):(Ss=Es,(Yi||!Es)&&(Es="error",Yi<0&&(Yi=0))),Mi.status=Yi,Mi.statusText=(vr||Es)+"",hr?Bi.resolveWith(fn,[no,Es,Mi]):Bi.rejectWith(fn,[Mi,Es,Ss]),Mi.statusCode(Vr),Vr=void 0,ht&&Yn.trigger(hr?"ajaxSuccess":"ajaxError",[Mi,Ot,hr?no:Ss]),Zn.fireWith(fn,[Mi,Es]),ht&&(Yn.trigger("ajaxComplete",[Mi,Ot]),--m.active||m.event.trigger("ajaxStop")))}return Mi},getJSON:function(o,g,M){return m.get(o,g,M,"json")},getScript:function(o,g){return m.get(o,void 0,g,"script")}}),m.each(["get","post"],function(o,g){m[g]=function(M,N,Y,Z){return ue(N)&&(Z=Z||Y,Y=N,N=void 0),m.ajax(m.extend({url:M,type:g,dataType:Z,data:N,success:Y},m.isPlainObject(M)&&M))}}),m.ajaxPrefilter(function(o){var g;for(g in o.headers)"content-type"===g.toLowerCase()&&(o.contentType=o.headers[g]||"")}),m._evalUrl=function(o,g,M){return m.ajax({url:o,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(N){m.globalEval(N,g,M)}})},m.fn.extend({wrapAll:function(o){var g;return this[0]&&(ue(o)&&(o=o.call(this[0])),g=m(o,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&g.insertBefore(this[0]),g.map(function(){for(var M=this;M.firstElementChild;)M=M.firstElementChild;return M}).append(this)),this},wrapInner:function(o){return ue(o)?this.each(function(g){m(this).wrapInner(o.call(this,g))}):this.each(function(){var g=m(this),M=g.contents();M.length?M.wrapAll(o):g.append(o)})},wrap:function(o){var g=ue(o);return this.each(function(M){m(this).wrapAll(g?o.call(this,M):o)})},unwrap:function(o){return this.parent(o).not("body").each(function(){m(this).replaceWith(this.childNodes)}),this}}),m.expr.pseudos.hidden=function(o){return!m.expr.pseudos.visible(o)},m.expr.pseudos.visible=function(o){return!!(o.offsetWidth||o.offsetHeight||o.getClientRects().length)},m.ajaxSettings.xhr=function(){try{return new f.XMLHttpRequest}catch{}};var Ur={0:200,1223:204},ji=m.ajaxSettings.xhr();te.cors=!!ji&&"withCredentials"in ji,te.ajax=ji=!!ji,m.ajaxTransport(function(o){var g,M;if(te.cors||ji&&!o.crossDomain)return{send:function(N,Y){var Z,pe=o.xhr();if(pe.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(Z in o.xhrFields)pe[Z]=o.xhrFields[Z];for(Z in o.mimeType&&pe.overrideMimeType&&pe.overrideMimeType(o.mimeType),!o.crossDomain&&!N["X-Requested-With"]&&(N["X-Requested-With"]="XMLHttpRequest"),N)pe.setRequestHeader(Z,N[Z]);g=function(Je){return function(){g&&(g=M=pe.onload=pe.onerror=pe.onabort=pe.ontimeout=pe.onreadystatechange=null,"abort"===Je?pe.abort():"error"===Je?"number"!=typeof pe.status?Y(0,"error"):Y(pe.status,pe.statusText):Y(Ur[pe.status]||pe.status,pe.statusText,"text"!==(pe.responseType||"text")||"string"!=typeof pe.responseText?{binary:pe.response}:{text:pe.responseText},pe.getAllResponseHeaders()))}},pe.onload=g(),M=pe.onerror=pe.ontimeout=g("error"),void 0!==pe.onabort?pe.onabort=M:pe.onreadystatechange=function(){4===pe.readyState&&f.setTimeout(function(){g&&M()})},g=g("abort");try{pe.send(o.hasContent&&o.data||null)}catch(Je){if(g)throw Je}},abort:function(){g&&g()}}}),m.ajaxPrefilter(function(o){o.crossDomain&&(o.contents.script=!1)}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(o){return m.globalEval(o),o}}}),m.ajaxPrefilter("script",function(o){void 0===o.cache&&(o.cache=!1),o.crossDomain&&(o.type="GET")}),m.ajaxTransport("script",function(o){var g,M;if(o.crossDomain||o.scriptAttrs)return{send:function(N,Y){g=m("<script>").attr(o.scriptAttrs||{}).prop({charset:o.scriptCharset,src:o.url}).on("load error",M=function(Z){g.remove(),M=null,Z&&Y("error"===Z.type?404:200,Z.type)}),Ee.head.appendChild(g[0])},abort:function(){M&&M()}}});var o,ps=[],Js=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var o=ps.pop()||m.expando+"_"+ui.guid++;return this[o]=!0,o}}),m.ajaxPrefilter("json jsonp",function(o,g,M){var N,Y,Z,pe=!1!==o.jsonp&&(Js.test(o.url)?"url":"string"==typeof o.data&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&Js.test(o.data)&&"data");if(pe||"jsonp"===o.dataTypes[0])return N=o.jsonpCallback=ue(o.jsonpCallback)?o.jsonpCallback():o.jsonpCallback,pe?o[pe]=o[pe].replace(Js,"$1"+N):!1!==o.jsonp&&(o.url+=(Ei.test(o.url)?"&":"?")+o.jsonp+"="+N),o.converters["script json"]=function(){return Z||m.error(N+" was not called"),Z[0]},o.dataTypes[0]="json",Y=f[N],f[N]=function(){Z=arguments},M.always(function(){void 0===Y?m(f).removeProp(N):f[N]=Y,o[N]&&(o.jsonpCallback=g.jsonpCallback,ps.push(N)),Z&&ue(Y)&&Y(Z[0]),Z=Y=void 0}),"script"}),te.createHTMLDocument=((o=Ee.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===o.childNodes.length),m.parseHTML=function(o,g,M){return"string"!=typeof o?[]:("boolean"==typeof g&&(M=g,g=!1),g||(te.createHTMLDocument?((N=(g=Ee.implementation.createHTMLDocument("")).createElement("base")).href=Ee.location.href,g.head.appendChild(N)):g=Ee),Z=!M&&[],(Y=xt.exec(o))?[g.createElement(Y[1])]:(Y=Vi([o],g,Z),Z&&Z.length&&m(Z).remove(),m.merge([],Y.childNodes)));var N,Y,Z},m.fn.load=function(o,g,M){var N,Y,Z,pe=this,Je=o.indexOf(" ");return Je>-1&&(N=Be(o.slice(Je)),o=o.slice(0,Je)),ue(g)?(M=g,g=void 0):g&&"object"==typeof g&&(Y="POST"),pe.length>0&&m.ajax({url:o,type:Y||"GET",dataType:"html",data:g}).done(function(Xe){Z=arguments,pe.html(N?m("<div>").append(m.parseHTML(Xe)).find(N):Xe)}).always(M&&function(Xe,ht){pe.each(function(){M.apply(this,Z||[Xe.responseText,ht,Xe])})}),this},m.expr.pseudos.animated=function(o){return m.grep(m.timers,function(g){return o===g.elem}).length},m.offset={setOffset:function(o,g,M){var N,Y,Z,pe,Je,Xe,Vt=m.css(o,"position"),Gt=m(o),Ot={};"static"===Vt&&(o.style.position="relative"),Je=Gt.offset(),Z=m.css(o,"top"),Xe=m.css(o,"left"),("absolute"===Vt||"fixed"===Vt)&&(Z+Xe).indexOf("auto")>-1?(pe=(N=Gt.position()).top,Y=N.left):(pe=parseFloat(Z)||0,Y=parseFloat(Xe)||0),ue(g)&&(g=g.call(o,M,m.extend({},Je))),null!=g.top&&(Ot.top=g.top-Je.top+pe),null!=g.left&&(Ot.left=g.left-Je.left+Y),"using"in g?g.using.call(o,Ot):Gt.css(Ot)}},m.fn.extend({offset:function(o){if(arguments.length)return void 0===o?this:this.each(function(Y){m.offset.setOffset(this,o,Y)});var g,M,N=this[0];return N?N.getClientRects().length?{top:(g=N.getBoundingClientRect()).top+(M=N.ownerDocument.defaultView).pageYOffset,left:g.left+M.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var o,g,M,N=this[0],Y={top:0,left:0};if("fixed"===m.css(N,"position"))g=N.getBoundingClientRect();else{for(g=this.offset(),M=N.ownerDocument,o=N.offsetParent||M.documentElement;o&&(o===M.body||o===M.documentElement)&&"static"===m.css(o,"position");)o=o.parentNode;o&&o!==N&&1===o.nodeType&&((Y=m(o).offset()).top+=m.css(o,"borderTopWidth",!0),Y.left+=m.css(o,"borderLeftWidth",!0))}return{top:g.top-Y.top-m.css(N,"marginTop",!0),left:g.left-Y.left-m.css(N,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var o=this.offsetParent;o&&"static"===m.css(o,"position");)o=o.offsetParent;return o||Ht})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(o,g){var M="pageYOffset"===g;m.fn[o]=function(N){return gi(this,function(Y,Z,pe){var Je;if(Ge(Y)?Je=Y:9===Y.nodeType&&(Je=Y.defaultView),void 0===pe)return Je?Je[g]:Y[Z];Je?Je.scrollTo(M?Je.pageXOffset:pe,M?pe:Je.pageYOffset):Y[Z]=pe},o,N,arguments.length)}}),m.each(["top","left"],function(o,g){m.cssHooks[g]=$r(te.pixelPosition,function(M,N){if(N)return N=Ii(M,g),jt.test(N)?m(M).position()[g]+"px":N})}),m.each({Height:"height",Width:"width"},function(o,g){m.each({padding:"inner"+o,content:g,"":"outer"+o},function(M,N){m.fn[N]=function(Y,Z){var pe=arguments.length&&(M||"boolean"!=typeof Y),Je=M||(!0===Y||!0===Z?"margin":"border");return gi(this,function(Xe,ht,Vt){var Gt;return Ge(Xe)?0===N.indexOf("outer")?Xe["inner"+o]:Xe.document.documentElement["client"+o]:9===Xe.nodeType?(Gt=Xe.documentElement,Math.max(Xe.body["scroll"+o],Gt["scroll"+o],Xe.body["offset"+o],Gt["offset"+o],Gt["client"+o])):void 0===Vt?m.css(Xe,ht,Je):m.style(Xe,ht,Vt,Je)},g,pe?Y:void 0,pe)}})}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(o,g){m.fn[g]=function(M){return this.on(g,M)}}),m.fn.extend({bind:function(o,g,M){return this.on(o,null,g,M)},unbind:function(o,g){return this.off(o,null,g)},delegate:function(o,g,M,N){return this.on(g,o,M,N)},undelegate:function(o,g,M){return 1===arguments.length?this.off(o,"**"):this.off(g,o||"**",M)},hover:function(o,g){return this.on("mouseenter",o).on("mouseleave",g||o)}}),m.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(o,g){m.fn[g]=function(M,N){return arguments.length>0?this.on(g,null,M,N):this.trigger(g)}});var Qi=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;m.proxy=function(o,g){var M,N,Y;if("string"==typeof g&&(M=o[g],g=o,o=M),ue(o))return N=b.call(arguments,2),Y=function(){return o.apply(g||this,N.concat(b.call(arguments)))},Y.guid=o.guid=o.guid||m.guid++,Y},m.holdReady=function(o){o?m.readyWait++:m.ready(!0)},m.isArray=Array.isArray,m.parseJSON=JSON.parse,m.nodeName=It,m.isFunction=ue,m.isWindow=Ge,m.camelCase=dt,m.type=ke,m.now=Date.now,m.isNumeric=function(o){var g=m.type(o);return("number"===g||"string"===g)&&!isNaN(o-parseFloat(o))},m.trim=function(o){return null==o?"":(o+"").replace(Qi,"$1")},void 0!==(e=function(){return m}.apply(We,[]))&&(_n.exports=e);var bo=f.jQuery,gs=f.$;return m.noConflict=function(o){return f.$===m&&(f.$=gs),o&&f.jQuery===m&&(f.jQuery=bo),m},typeof d>"u"&&(f.jQuery=f.$=m),m})},5166:function(_n){_n.exports=function(We){var p={};function e(f){if(p[f])return p[f].exports;var d=p[f]={i:f,l:!1,exports:{}};return We[f].call(d.exports,d,d.exports,e),d.l=!0,d.exports}return e.m=We,e.c=p,e.d=function(f,d,G){e.o(f,d)||Object.defineProperty(f,d,{enumerable:!0,get:G})},e.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},e.t=function(f,d){if(1&d&&(f=e(f)),8&d||4&d&&"object"==typeof f&&f&&f.__esModule)return f;var G=Object.create(null);if(e.r(G),Object.defineProperty(G,"default",{enumerable:!0,value:f}),2&d&&"string"!=typeof f)for(var H in f)e.d(G,H,function(b){return f[b]}.bind(null,H));return G},e.n=function(f){var d=f&&f.__esModule?function(){return f.default}:function(){return f};return e.d(d,"a",d),d},e.o=function(f,d){return Object.prototype.hasOwnProperty.call(f,d)},e.p="",e(e.s=22)}([function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=function(){function b(D,x){for(var k=0;k<x.length;k++){var j=x[k];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(D,j.key,j)}}return function(D,x,k){return x&&b(D.prototype,x),k&&b(D,k),D}}(),d={debug:function(){},info:function(){},warn:function(){},error:function(){}},G=void 0,H=void 0;(p.Log=function(){function b(){!function(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}(this,b)}return b.reset=function(){H=3,G=d},b.debug=function(){if(H>=4){for(var x=arguments.length,k=Array(x),j=0;j<x;j++)k[j]=arguments[j];G.debug.apply(G,Array.from(k))}},b.info=function(){if(H>=3){for(var x=arguments.length,k=Array(x),j=0;j<x;j++)k[j]=arguments[j];G.info.apply(G,Array.from(k))}},b.warn=function(){if(H>=2){for(var x=arguments.length,k=Array(x),j=0;j<x;j++)k[j]=arguments[j];G.warn.apply(G,Array.from(k))}},b.error=function(){if(H>=1){for(var x=arguments.length,k=Array(x),j=0;j<x;j++)k[j]=arguments[j];G.error.apply(G,Array.from(k))}},f(b,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return H},set:function(x){if(!(0<=x&&x<=4))throw new Error("Invalid log level");H=x}},{key:"logger",get:function(){return G},set:function(x){if(!x.debug&&x.info&&(x.debug=x.info),!(x.debug&&x.info&&x.warn&&x.error))throw new Error("Invalid logger");G=x}}]),b}()).reset()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=function(){function b(D,x){for(var k=0;k<x.length;k++){var j=x[k];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(D,j.key,j)}}return function(D,x,k){return x&&b(D.prototype,x),k&&b(D,k),D}}(),d={setInterval:function(b){function D(x,k){return b.apply(this,arguments)}return D.toString=function(){return b.toString()},D}(function(b,D){return setInterval(b,D)}),clearInterval:function(b){function D(x){return b.apply(this,arguments)}return D.toString=function(){return b.toString()},D}(function(b){return clearInterval(b)})},G=!1,H=null;p.Global=function(){function b(){!function(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}(this,b)}return b._testing=function(){G=!0},b.setXMLHttpRequest=function(x){H=x},f(b,null,[{key:"location",get:function(){if(!G)return location}},{key:"localStorage",get:function(){if(!G&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!G&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!G&&typeof window<"u")return H||XMLHttpRequest}},{key:"timer",get:function(){if(!G)return d}}]),b}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.MetadataService=void 0;var f=function(){function D(x,k){for(var j=0;j<k.length;j++){var X=k[j];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(x,X.key,X)}}return function(x,k,j){return k&&D(x.prototype,k),j&&D(x,j),x}}(),d=e(0),G=e(7);var b=".well-known/openid-configuration";p.MetadataService=function(){function D(x){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.JsonService;if(function H(D,x){if(!(D instanceof x))throw new TypeError("Cannot call a class as a function")}(this,D),!x)throw d.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=x,this._jsonService=new k(["application/jwk-set+json"])}return D.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},D.prototype.getMetadata=function(){var k=this;return this._settings.metadata?(d.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(d.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(j){return d.Log.debug("MetadataService.getMetadata: json received"),k._settings.metadata=Object.assign({},k._settings.metadataSeed||{},j),k._settings.metadata})):(d.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},D.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},D.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},D.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},D.prototype.getTokenEndpoint=function(){return this._getMetadataProperty("token_endpoint",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])},D.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},D.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},D.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},D.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},D.prototype._getMetadataProperty=function(k){var j=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return d.Log.debug("MetadataService.getMetadataProperty for: "+k),this.getMetadata().then(function(X){if(d.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===X[k]){if(!0===j)return void d.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+k);throw d.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+k),new Error("Metadata does not contain property "+k)}return X[k]})},D.prototype.getSigningKeys=function(){var k=this;return this._settings.signingKeys?(d.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(j){return d.Log.debug("MetadataService.getSigningKeys: jwks_uri received",j),k._jsonService.getJson(j).then(function(X){if(d.Log.debug("MetadataService.getSigningKeys: key set received",X),!X.keys)throw d.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return k._settings.signingKeys=X.keys,k._settings.signingKeys})})},f(D,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(b)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=b))),this._metadataUrl}}]),D}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.UrlUtility=void 0;var f=e(0),d=e(1);p.UrlUtility=function(){function G(){!function(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}(this,G)}return G.addQueryParam=function(b,D,x){return b.indexOf("?")<0&&(b+="?"),"?"!==b[b.length-1]&&(b+="&"),b+=encodeURIComponent(D),(b+="=")+encodeURIComponent(x)},G.parseUrlFragment=function(b){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";"string"!=typeof b&&(b=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.Global).location.href);var k=b.lastIndexOf(D);k>=0&&(b=b.substr(k+1)),"?"===D&&(k=b.indexOf("#"))>=0&&(b=b.substr(0,k));for(var j,X={},se=/([^&=]+)=([^&]*)/g,q=0;j=se.exec(b);)if(X[decodeURIComponent(j[1])]=decodeURIComponent(j[2].replace(/\+/g," ")),q++>50)return f.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",b),{error:"Response exceeded expected number of parameters"};for(var oe in X)return X;return{}},G}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.JoseUtil=void 0;var H,f=e(26),d=(H=e(33))&&H.__esModule?H:{default:H};p.JoseUtil=(0,d.default)({jws:f.jws,KeyUtil:f.KeyUtil,X509:f.X509,crypto:f.crypto,hextob64u:f.hextob64u,b64tohex:f.b64tohex,AllowedSigningAlgs:f.AllowedSigningAlgs})},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.OidcClientSettings=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(oe){return typeof oe}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},d=function(){function oe(te,ue){for(var Ge=0;Ge<ue.length;Ge++){var Ee=ue[Ge];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(te,Ee.key,Ee)}}return function(te,ue,Ge){return ue&&oe(te.prototype,ue),Ge&&oe(te,Ge),te}}(),G=e(0),H=e(23),b=e(6),D=e(24),x=e(2);var j=".well-known/openid-configuration";p.OidcClientSettings=function(){function oe(){var te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ue=te.authority,Ge=te.metadataUrl,Ee=te.metadata,Fe=te.signingKeys,ye=te.metadataSeed,ke=te.client_id,Ye=te.client_secret,nt=te.response_type,m=void 0===nt?"id_token":nt,Tt=te.scope,It=void 0===Tt?"openid":Tt,Bt=te.redirect_uri,wt=te.post_logout_redirect_uri,mn=te.client_authentication,tn=void 0===mn?"client_secret_post":mn,Pn=te.prompt,On=te.display,Tn=te.max_age,Cn=te.ui_locales,nn=te.acr_values,tt=te.resource,bt=te.response_mode,Rt=te.filterProtocolClaims,xt=void 0===Rt||Rt,Jt=te.loadUserInfo,$t=void 0===Jt||Jt,Bn=te.staleStateAge,Hn=void 0===Bn?900:Bn,Le=te.clockSkew,B=void 0===Le?300:Le,J=te.clockService,Pe=void 0===J?new H.ClockService:J,$e=te.userInfoJwtIssuer,qe=void 0===$e?"OP":$e,At=te.mergeClaims,un=void 0!==At&&At,kn=te.stateStore,ti=void 0===kn?new b.WebStorageStateStore:kn,ii=te.ResponseValidatorCtor,gi=void 0===ii?D.ResponseValidator:ii,pn=te.MetadataServiceCtor,rn=void 0===pn?x.MetadataService:pn,gt=te.extraQueryParams,dt=void 0===gt?{}:gt,sn=te.extraTokenParams,on=void 0===sn?{}:sn;(function k(oe,te){if(!(oe instanceof te))throw new TypeError("Cannot call a class as a function")})(this,oe),this._authority=ue,this._metadataUrl=Ge,this._metadata=Ee,this._metadataSeed=ye,this._signingKeys=Fe,this._client_id=ke,this._client_secret=Ye,this._response_type=m,this._scope=It,this._redirect_uri=Bt,this._post_logout_redirect_uri=wt,this._client_authentication=tn,this._prompt=Pn,this._display=On,this._max_age=Tn,this._ui_locales=Cn,this._acr_values=nn,this._resource=tt,this._response_mode=bt,this._filterProtocolClaims=!!xt,this._loadUserInfo=!!$t,this._staleStateAge=Hn,this._clockSkew=B,this._clockService=Pe,this._userInfoJwtIssuer=qe,this._mergeClaims=!!un,this._stateStore=ti,this._validator=new gi(this),this._metadataService=new rn(this),this._extraQueryParams="object"===(void 0===dt?"undefined":f(dt))?dt:{},this._extraTokenParams="object"===(void 0===on?"undefined":f(on))?on:{}}return oe.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},d(oe,[{key:"client_id",get:function(){return this._client_id},set:function(ue){if(this._client_id)throw G.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=ue}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(ue){if(this._authority)throw G.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=ue}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(j)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=j)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(ue){this._metadata=ue}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(ue){this._metadataSeed=ue}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(ue){this._signingKeys=ue}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(ue){this._extraQueryParams="object"===(void 0===ue?"undefined":f(ue))?ue:{}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(ue){this._extraTokenParams="object"===(void 0===ue?"undefined":f(ue))?ue:{}}}]),oe}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.WebStorageStateStore=void 0;var f=e(0),d=e(1);p.WebStorageStateStore=function(){function H(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},D=b.prefix,x=void 0===D?"oidc.":D,k=b.store,j=void 0===k?d.Global.localStorage:k;(function G(H,b){if(!(H instanceof b))throw new TypeError("Cannot call a class as a function")})(this,H),this._store=j,this._prefix=x}return H.prototype.set=function(D,x){return f.Log.debug("WebStorageStateStore.set",D),this._store.setItem(D=this._prefix+D,x),Promise.resolve()},H.prototype.get=function(D){f.Log.debug("WebStorageStateStore.get",D);var x=this._store.getItem(D=this._prefix+D);return Promise.resolve(x)},H.prototype.remove=function(D){f.Log.debug("WebStorageStateStore.remove",D);var x=this._store.getItem(D=this._prefix+D);return this._store.removeItem(D),Promise.resolve(x)},H.prototype.getAllKeys=function(){f.Log.debug("WebStorageStateStore.getAllKeys");for(var D=[],x=0;x<this._store.length;x++){var k=this._store.key(x);0===k.indexOf(this._prefix)&&D.push(k.substr(this._prefix.length))}return Promise.resolve(D)},H}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.JsonService=void 0;var f=e(0),d=e(1);p.JsonService=function(){function H(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Global.XMLHttpRequest,x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function G(H,b){if(!(H instanceof b))throw new TypeError("Cannot call a class as a function")})(this,H),this._contentTypes=b&&Array.isArray(b)?b.slice():[],this._contentTypes.push("application/json"),x&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=D,this._jwtHandler=x}return H.prototype.getJson=function(D,x){var k=this;if(!D)throw f.Log.error("JsonService.getJson: No url passed"),new Error("url");return f.Log.debug("JsonService.getJson, url: ",D),new Promise(function(j,X){var se=new k._XMLHttpRequest;se.open("GET",D);var q=k._contentTypes,oe=k._jwtHandler;se.onload=function(){if(f.Log.debug("JsonService.getJson: HTTP response received, status",se.status),200===se.status){var te=se.getResponseHeader("Content-Type");if(te){var ue=q.find(function(Ge){if(te.startsWith(Ge))return!0});if("application/jwt"==ue)return void oe(se).then(j,X);if(ue)try{return void j(JSON.parse(se.responseText))}catch(Ge){return f.Log.error("JsonService.getJson: Error parsing JSON response",Ge.message),void X(Ge)}}X(Error("Invalid response Content-Type: "+te+", from URL: "+D))}else X(Error(se.statusText+" ("+se.status+")"))},se.onerror=function(){f.Log.error("JsonService.getJson: network error"),X(Error("Network Error"))},x&&(f.Log.debug("JsonService.getJson: token passed, setting Authorization header"),se.setRequestHeader("Authorization","Bearer "+x)),se.send()})},H.prototype.postForm=function(D,x,k){var j=this;if(!D)throw f.Log.error("JsonService.postForm: No url passed"),new Error("url");return f.Log.debug("JsonService.postForm, url: ",D),new Promise(function(X,se){var q=new j._XMLHttpRequest;q.open("POST",D);var oe=j._contentTypes;q.onload=function(){if(f.Log.debug("JsonService.postForm: HTTP response received, status",q.status),200!==q.status){if(400===q.status&&(Fe=q.getResponseHeader("Content-Type"))&&oe.find(function(ye){if(Fe.startsWith(ye))return!0}))try{var Ee=JSON.parse(q.responseText);if(Ee&&Ee.error)return f.Log.error("JsonService.postForm: Error from server: ",Ee.error),void se(new Error(Ee.error))}catch(ye){return f.Log.error("JsonService.postForm: Error parsing JSON response",ye.message),void se(ye)}se(Error(q.statusText+" ("+q.status+")"))}else{var Fe;if((Fe=q.getResponseHeader("Content-Type"))&&oe.find(function(ye){if(Fe.startsWith(ye))return!0}))try{return void X(JSON.parse(q.responseText))}catch(ye){return f.Log.error("JsonService.postForm: Error parsing JSON response",ye.message),void se(ye)}se(Error("Invalid response Content-Type: "+Fe+", from URL: "+D))}},q.onerror=function(){f.Log.error("JsonService.postForm: network error"),se(Error("Network Error"))};var te="";for(var ue in x){var Ge=x[ue];Ge&&(te.length>0&&(te+="&"),te+=encodeURIComponent(ue),te+="=",te+=encodeURIComponent(Ge))}q.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==k&&q.setRequestHeader("Authorization","Basic "+btoa(k)),q.send(te)})},H}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.SigninRequest=void 0;var f=e(0),d=e(3),G=e(13);p.SigninRequest=function(){function H(b){var D=b.url,x=b.client_id,k=b.redirect_uri,j=b.response_type,X=b.scope,se=b.authority,q=b.data,oe=b.prompt,te=b.display,ue=b.max_age,Ge=b.ui_locales,Ee=b.id_token_hint,Fe=b.login_hint,ye=b.acr_values,ke=b.resource,Ye=b.response_mode,nt=b.request,m=b.request_uri,Tt=b.extraQueryParams,It=b.request_type,Bt=b.client_secret,wt=b.extraTokenParams,mn=b.skipUserInfo;if(function(tt,bt){if(!(tt instanceof bt))throw new TypeError("Cannot call a class as a function")}(this,H),!D)throw f.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!x)throw f.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!k)throw f.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!j)throw f.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!X)throw f.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!se)throw f.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var tn=H.isOidc(j),Pn=H.isCode(j);Ye||(Ye=H.isCode(j)?"query":null),this.state=new G.SigninState({nonce:tn,data:q,client_id:x,authority:se,redirect_uri:k,code_verifier:Pn,request_type:It,response_mode:Ye,client_secret:Bt,scope:X,extraTokenParams:wt,skipUserInfo:mn}),D=d.UrlUtility.addQueryParam(D,"client_id",x),D=d.UrlUtility.addQueryParam(D,"redirect_uri",k),D=d.UrlUtility.addQueryParam(D,"response_type",j),D=d.UrlUtility.addQueryParam(D,"scope",X),D=d.UrlUtility.addQueryParam(D,"state",this.state.id),tn&&(D=d.UrlUtility.addQueryParam(D,"nonce",this.state.nonce)),Pn&&(D=d.UrlUtility.addQueryParam(D,"code_challenge",this.state.code_challenge),D=d.UrlUtility.addQueryParam(D,"code_challenge_method","S256"));var On={prompt:oe,display:te,max_age:ue,ui_locales:Ge,id_token_hint:Ee,login_hint:Fe,acr_values:ye,resource:ke,request:nt,request_uri:m,response_mode:Ye};for(var Tn in On)On[Tn]&&(D=d.UrlUtility.addQueryParam(D,Tn,On[Tn]));for(var Cn in Tt)D=d.UrlUtility.addQueryParam(D,Cn,Tt[Cn]);this.url=D}return H.isOidc=function(D){return!!D.split(/\s+/g).filter(function(x){return"id_token"===x})[0]},H.isOAuth=function(D){return!!D.split(/\s+/g).filter(function(x){return"token"===x})[0]},H.isCode=function(D){return!!D.split(/\s+/g).filter(function(x){return"code"===x})[0]},H}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.State=void 0;var D,f=function(){function b(D,x){for(var k=0;k<x.length;k++){var j=x[k];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(D,j.key,j)}}return function(D,x,k){return x&&b(D.prototype,x),k&&b(D,k),D}}(),d=e(0),G=(D=e(14))&&D.__esModule?D:{default:D};p.State=function(){function b(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},x=D.id,k=D.data,j=D.created,X=D.request_type;(function H(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")})(this,b),this._id=x||(0,G.default)(),this._data=k,this._created="number"==typeof j&&j>0?j:parseInt(Date.now()/1e3),this._request_type=X}return b.prototype.toStorageString=function(){return d.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},b.fromStorageString=function(x){return d.Log.debug("State.fromStorageString"),new b(JSON.parse(x))},b.clearStaleState=function(x,k){var j=Date.now()/1e3-k;return x.getAllKeys().then(function(X){d.Log.debug("State.clearStaleState: got keys",X);for(var se=[],q=function(Ge){var Ee=X[Ge];te=x.get(Ee).then(function(Fe){var ye=!1;if(Fe)try{var ke=b.fromStorageString(Fe);d.Log.debug("State.clearStaleState: got item from key: ",Ee,ke.created),ke.created<=j&&(ye=!0)}catch(Ye){d.Log.error("State.clearStaleState: Error parsing state for key",Ee,Ye.message),ye=!0}else d.Log.debug("State.clearStaleState: no item in storage for key: ",Ee),ye=!0;if(ye)return d.Log.debug("State.clearStaleState: removed item for key: ",Ee),x.remove(Ee)}),se.push(te)},oe=0;oe<X.length;oe++){var te;q(oe)}return d.Log.debug("State.clearStaleState: waiting on promise count:",se.length),Promise.all(se)})},f(b,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),b}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.OidcClient=void 0;var f=function(){function q(oe,te){for(var ue=0;ue<te.length;ue++){var Ge=te[ue];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Object.defineProperty(oe,Ge.key,Ge)}}return function(oe,te,ue){return te&&q(oe.prototype,te),ue&&q(oe,ue),oe}}(),d=e(0),G=e(5),H=e(12),b=e(8),D=e(34),x=e(35),k=e(36),j=e(13),X=e(9);p.OidcClient=function(){function q(){var oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function se(q,oe){if(!(q instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,q),this._settings=oe instanceof G.OidcClientSettings?oe:new G.OidcClientSettings(oe)}return q.prototype.createSigninRequest=function(){var te=this,ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ge=ue.response_type,Ee=ue.scope,Fe=ue.redirect_uri,ye=ue.data,ke=ue.state,Ye=ue.prompt,nt=ue.display,m=ue.max_age,Tt=ue.ui_locales,It=ue.id_token_hint,Bt=ue.login_hint,wt=ue.acr_values,mn=ue.resource,tn=ue.request,Pn=ue.request_uri,On=ue.response_mode,Tn=ue.extraQueryParams,Cn=ue.extraTokenParams,nn=ue.request_type,tt=ue.skipUserInfo,bt=arguments[1];d.Log.debug("OidcClient.createSigninRequest");var Rt=this._settings.client_id;Ee=Ee||this._settings.scope,Fe=Fe||this._settings.redirect_uri,Ye=Ye||this._settings.prompt,nt=nt||this._settings.display,m=m||this._settings.max_age,Tt=Tt||this._settings.ui_locales,wt=wt||this._settings.acr_values,mn=mn||this._settings.resource,On=On||this._settings.response_mode,Tn=Tn||this._settings.extraQueryParams,Cn=Cn||this._settings.extraTokenParams;var xt=this._settings.authority;return b.SigninRequest.isCode(Ge=Ge||this._settings.response_type)&&"code"!==Ge?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Jt){d.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Jt);var $t=new b.SigninRequest({url:Jt,client_id:Rt,redirect_uri:Fe,response_type:Ge,scope:Ee,data:ye||ke,authority:xt,prompt:Ye,display:nt,max_age:m,ui_locales:Tt,id_token_hint:It,login_hint:Bt,acr_values:wt,resource:mn,request:tn,request_uri:Pn,extraQueryParams:Tn,extraTokenParams:Cn,request_type:nn,response_mode:On,client_secret:te._settings.client_secret,skipUserInfo:tt}),Bn=$t.state;return(bt=bt||te._stateStore).set(Bn.id,Bn.toStorageString()).then(function(){return $t})})},q.prototype.readSigninResponseState=function(te,ue){var Ge=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d.Log.debug("OidcClient.readSigninResponseState");var Ee="query"===this._settings.response_mode||!this._settings.response_mode&&b.SigninRequest.isCode(this._settings.response_type),ye=new D.SigninResponse(te,Ee?"?":"#");return ye.state?(ue=ue||this._stateStore,(Ge?ue.remove.bind(ue):ue.get.bind(ue))(ye.state).then(function(Ye){if(!Ye)throw d.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:j.SigninState.fromStorageString(Ye),response:ye}})):(d.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},q.prototype.processSigninResponse=function(te,ue){var Ge=this;return d.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(te,ue,!0).then(function(Ee){var Fe=Ee.state,ye=Ee.response;return d.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),Ge._validator.validateSigninResponse(Fe,ye)})},q.prototype.createSignoutRequest=function(){var te=this,ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ge=ue.id_token_hint,Ee=ue.data,Fe=ue.state,ye=ue.post_logout_redirect_uri,ke=ue.extraQueryParams,Ye=ue.request_type,nt=arguments[1];return d.Log.debug("OidcClient.createSignoutRequest"),ye=ye||this._settings.post_logout_redirect_uri,ke=ke||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(m){if(!m)throw d.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");d.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",m);var Tt=new x.SignoutRequest({url:m,id_token_hint:Ge,post_logout_redirect_uri:ye,data:Ee||Fe,extraQueryParams:ke,request_type:Ye}),It=Tt.state;return It&&(d.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(nt=nt||te._stateStore).set(It.id,It.toStorageString())),Tt})},q.prototype.readSignoutResponseState=function(te,ue){var Ge=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d.Log.debug("OidcClient.readSignoutResponseState");var Ee=new k.SignoutResponse(te);if(!Ee.state)return d.Log.debug("OidcClient.readSignoutResponseState: No state in response"),Ee.error?(d.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",Ee.error),Promise.reject(new H.ErrorResponse(Ee))):Promise.resolve({state:void 0,response:Ee});var Fe=Ee.state;return ue=ue||this._stateStore,(Ge?ue.remove.bind(ue):ue.get.bind(ue))(Fe).then(function(ke){if(!ke)throw d.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:X.State.fromStorageString(ke),response:Ee}})},q.prototype.processSignoutResponse=function(te,ue){var Ge=this;return d.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(te,ue,!0).then(function(Ee){var Fe=Ee.state,ye=Ee.response;return Fe?(d.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),Ge._validator.validateSignoutResponse(Fe,ye)):(d.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),ye)})},q.prototype.clearStaleState=function(te){return d.Log.debug("OidcClient.clearStaleState"),X.State.clearStaleState(te=te||this._stateStore,this.settings.staleStateAge)},f(q,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),q}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.TokenClient=void 0;var f=e(7),d=e(2),G=e(0);p.TokenClient=function(){function b(D){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.JsonService,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.MetadataService;if(function H(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}(this,b),!D)throw G.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=D,this._jsonService=new x,this._metadataService=new k(this._settings)}return b.prototype.exchangeCode=function(){var x=this,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(k=Object.assign({},k)).grant_type=k.grant_type||"authorization_code",k.client_id=k.client_id||this._settings.client_id,k.client_secret=k.client_secret||this._settings.client_secret,k.redirect_uri=k.redirect_uri||this._settings.redirect_uri;var j=void 0,X=k._client_authentication||this._settings._client_authentication;return delete k._client_authentication,k.code?k.redirect_uri?k.code_verifier?k.client_id?k.client_secret||"client_secret_basic"!=X?("client_secret_basic"==X&&(j=k.client_id+":"+k.client_secret,delete k.client_id,delete k.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(se){return G.Log.debug("TokenClient.exchangeCode: Received token endpoint"),x._jsonService.postForm(se,k,j).then(function(q){return G.Log.debug("TokenClient.exchangeCode: response received"),q})})):(G.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(G.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(G.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(G.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(G.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},b.prototype.exchangeRefreshToken=function(){var x=this,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(k=Object.assign({},k)).grant_type=k.grant_type||"refresh_token",k.client_id=k.client_id||this._settings.client_id,k.client_secret=k.client_secret||this._settings.client_secret;var j=void 0,X=k._client_authentication||this._settings._client_authentication;return delete k._client_authentication,k.refresh_token?k.client_id?("client_secret_basic"==X&&(j=k.client_id+":"+k.client_secret,delete k.client_id,delete k.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(se){return G.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),x._jsonService.postForm(se,k,j).then(function(q){return G.Log.debug("TokenClient.exchangeRefreshToken: response received"),q})})):(G.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(G.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},b}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ErrorResponse=void 0;var f=e(0);p.ErrorResponse=function(H){function b(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},x=D.error,k=D.error_description,j=D.error_uri,X=D.state,se=D.session_state;if(function d(H,b){if(!(H instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),!x)throw f.Log.error("No error passed to ErrorResponse"),new Error("error");var q=function G(H,b){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?H:b}(this,H.call(this,k||x));return q.name="ErrorResponse",q.error=x,q.error_description=k,q.error_uri=j,q.state=X,q.session_state=se,q}return function(x,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(x,k):x.__proto__=k)}(b,H),b}(Error)},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.SigninState=void 0;var j,f=function(){function k(j,X){for(var se=0;se<X.length;se++){var q=X[se];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(j,q.key,q)}}return function(j,X,se){return X&&k(j.prototype,X),se&&k(j,se),j}}(),d=e(0),G=e(9),H=e(4),b=(j=e(14))&&j.__esModule?j:{default:j};p.SigninState=function(k){function j(){var X=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},se=X.nonce,q=X.authority,oe=X.client_id,te=X.redirect_uri,ue=X.code_verifier,Ge=X.response_mode,Ee=X.client_secret,Fe=X.scope,ye=X.extraTokenParams,ke=X.skipUserInfo;!function D(k,j){if(!(k instanceof j))throw new TypeError("Cannot call a class as a function")}(this,j);var Ye=function x(k,j){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!j||"object"!=typeof j&&"function"!=typeof j?k:j}(this,k.call(this,arguments[0]));if(!0===se?Ye._nonce=(0,b.default)():se&&(Ye._nonce=se),!0===ue?Ye._code_verifier=(0,b.default)()+(0,b.default)()+(0,b.default)():ue&&(Ye._code_verifier=ue),Ye.code_verifier){var nt=H.JoseUtil.hashString(Ye.code_verifier,"SHA256");Ye._code_challenge=H.JoseUtil.hexToBase64Url(nt)}return Ye._redirect_uri=te,Ye._authority=q,Ye._client_id=oe,Ye._response_mode=Ge,Ye._client_secret=Ee,Ye._scope=Fe,Ye._extraTokenParams=ye,Ye._skipUserInfo=ke,Ye}return function(se,q){if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function, not "+typeof q);se.prototype=Object.create(q&&q.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(se,q):se.__proto__=q)}(j,k),j.prototype.toStorageString=function(){return d.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},j.fromStorageString=function(se){return d.Log.debug("SigninState.fromStorageString"),new j(JSON.parse(se))},f(j,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),j}(G.State)},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=function(){return("undefined"!=f&&null!==f&&void 0!==f.getRandomValues?d:G)().replace(/-/g,"")};var f=typeof window<"u"?window.crypto||window.msCrypto:null;function d(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(H){return(H^f.getRandomValues(new Uint8Array(1))[0]&15>>H/4).toString(16)})}function G(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(H){return(H^16*Math.random()>>H/4).toString(16)})}We.exports=p.default},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.User=void 0;var f=function(){function G(H,b){for(var D=0;D<b.length;D++){var x=b[D];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(H,x.key,x)}}return function(H,b,D){return b&&G(H.prototype,b),D&&G(H,D),H}}(),d=e(0);p.User=function(){function G(H){var b=H.id_token,D=H.session_state,x=H.access_token,k=H.refresh_token,j=H.token_type,X=H.scope,se=H.profile,q=H.expires_at,oe=H.state;(function(ue,Ge){if(!(ue instanceof Ge))throw new TypeError("Cannot call a class as a function")})(this,G),this.id_token=b,this.session_state=D,this.access_token=x,this.refresh_token=k,this.token_type=j,this.scope=X,this.profile=se,this.expires_at=q,this.state=oe}return G.prototype.toStorageString=function(){return d.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},G.fromStorageString=function(b){return d.Log.debug("User.fromStorageString"),new G(JSON.parse(b))},f(G,[{key:"expires_in",get:function(){if(this.expires_at){var b=parseInt(Date.now()/1e3);return this.expires_at-b}},set:function(b){var D=parseInt(b);if("number"==typeof D&&D>0){var x=parseInt(Date.now()/1e3);this.expires_at=x+D}}},{key:"expired",get:function(){var b=this.expires_in;if(void 0!==b)return b<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),G}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.AccessTokenEvents=void 0;var f=e(0),d=e(46);p.AccessTokenEvents=function(){function H(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},D=b.accessTokenExpiringNotificationTime,x=void 0===D?60:D,k=b.accessTokenExpiringTimer,j=void 0===k?new d.Timer("Access token expiring"):k,X=b.accessTokenExpiredTimer,se=void 0===X?new d.Timer("Access token expired"):X;(function G(H,b){if(!(H instanceof b))throw new TypeError("Cannot call a class as a function")})(this,H),this._accessTokenExpiringNotificationTime=x,this._accessTokenExpiring=j,this._accessTokenExpired=se}return H.prototype.load=function(D){if(D.access_token&&void 0!==D.expires_in){var x=D.expires_in;if(f.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",x),x>0){var k=x-this._accessTokenExpiringNotificationTime;k<=0&&(k=1),f.Log.debug("AccessTokenEvents.load: registering expiring timer in:",k),this._accessTokenExpiring.init(k)}else f.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var j=x+1;f.Log.debug("AccessTokenEvents.load: registering expired timer in:",j),this._accessTokenExpired.init(j)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},H.prototype.unload=function(){f.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},H.prototype.addAccessTokenExpiring=function(D){this._accessTokenExpiring.addHandler(D)},H.prototype.removeAccessTokenExpiring=function(D){this._accessTokenExpiring.removeHandler(D)},H.prototype.addAccessTokenExpired=function(D){this._accessTokenExpired.addHandler(D)},H.prototype.removeAccessTokenExpired=function(D){this._accessTokenExpired.removeHandler(D)},H}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.Event=void 0;var f=e(0);p.Event=function(){function d(G){(function(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")})(this,d),this._name=G,this._callbacks=[]}return d.prototype.addHandler=function(H){this._callbacks.push(H)},d.prototype.removeHandler=function(H){var b=this._callbacks.findIndex(function(D){return D===H});b>=0&&this._callbacks.splice(b,1)},d.prototype.raise=function(){f.Log.debug("Event: Raising event: "+this._name);for(var H=0;H<this._callbacks.length;H++){var b;(b=this._callbacks)[H].apply(b,arguments)}},d}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.SessionMonitor=void 0;var f=function(){function D(x,k){for(var j=0;j<k.length;j++){var X=k[j];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(x,X.key,X)}}return function(x,k,j){return k&&D(x.prototype,k),j&&D(x,j),x}}(),d=e(0),G=e(19),H=e(1);p.SessionMonitor=function(){function D(x){var k=this,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.CheckSessionIFrame,X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.Global.timer;if(function b(D,x){if(!(D instanceof x))throw new TypeError("Cannot call a class as a function")}(this,D),!x)throw d.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=x,this._CheckSessionIFrameCtor=j,this._timer=X,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(se){se?k._start(se):k._settings.monitorAnonymousSession&&k._userManager.querySessionStatus().then(function(q){var oe={session_state:q.session_state};q.sub&&q.sid&&(oe.profile={sub:q.sub,sid:q.sid}),k._start(oe)}).catch(function(q){d.Log.error("SessionMonitor ctor: error from querySessionStatus:",q.message)})}).catch(function(se){d.Log.error("SessionMonitor ctor: error from getUser:",se.message)}))}return D.prototype._start=function(k){var j=this,X=k.session_state;X&&(k.profile?(this._sub=k.profile.sub,this._sid=k.profile.sid,d.Log.debug("SessionMonitor._start: session_state:",X,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,d.Log.debug("SessionMonitor._start: session_state:",X,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(X):this._metadataService.getCheckSessionIframe().then(function(se){if(se){d.Log.debug("SessionMonitor._start: Initializing check session iframe");var q=j._client_id,oe=j._checkSessionInterval,te=j._stopCheckSessionOnError;j._checkSessionIFrame=new j._CheckSessionIFrameCtor(j._callback.bind(j),q,se,oe,te),j._checkSessionIFrame.load().then(function(){j._checkSessionIFrame.start(X)})}else d.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(se){d.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",se.message)}))},D.prototype._stop=function(){var k=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(d.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var j=this._timer.setInterval(function(){k._timer.clearInterval(j),k._userManager.querySessionStatus().then(function(X){var se={session_state:X.session_state};X.sub&&X.sid&&(se.profile={sub:X.sub,sid:X.sid}),k._start(se)}).catch(function(X){d.Log.error("SessionMonitor: error from querySessionStatus:",X.message)})},1e3)},D.prototype._callback=function(){var k=this;this._userManager.querySessionStatus().then(function(j){var X=!0;j?j.sub===k._sub?(X=!1,k._checkSessionIFrame.start(j.session_state),j.sid===k._sid?d.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",j.session_state):(d.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",j.session_state),k._userManager.events._raiseUserSessionChanged())):d.Log.debug("SessionMonitor._callback: Different subject signed into OP:",j.sub):d.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),X&&(k._sub?(d.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),k._userManager.events._raiseUserSignedOut()):(d.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),k._userManager.events._raiseUserSignedIn()))}).catch(function(j){k._sub&&(d.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",j.message),k._userManager.events._raiseUserSignedOut())})},f(D,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),D}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.CheckSessionIFrame=void 0;var f=e(0);p.CheckSessionIFrame=function(){function G(H,b,D,x){var k=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];(function d(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")})(this,G),this._callback=H,this._client_id=b,this._url=D,this._interval=x||2e3,this._stopOnError=k;var j=D.indexOf("/",D.indexOf("//")+2);this._frame_origin=D.substr(0,j),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=D}return G.prototype.load=function(){var b=this;return new Promise(function(D){b._frame.onload=function(){D()},window.document.body.appendChild(b._frame),b._boundMessageEvent=b._message.bind(b),window.addEventListener("message",b._boundMessageEvent,!1)})},G.prototype._message=function(b){b.origin===this._frame_origin&&b.source===this._frame.contentWindow&&("error"===b.data?(f.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===b.data?(f.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):f.Log.debug("CheckSessionIFrame: "+b.data+" message from check session op iframe"))},G.prototype.start=function(b){var D=this;if(this._session_state!==b){f.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=b;var x=function(){D._frame.contentWindow.postMessage(D._client_id+" "+D._session_state,D._frame_origin)};x(),this._timer=window.setInterval(x,this._interval)}},G.prototype.stop=function(){this._session_state=null,this._timer&&(f.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},G}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.TokenRevocationClient=void 0;var f=e(0),d=e(2),G=e(1);p.TokenRevocationClient=function(){function x(k){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.Global.XMLHttpRequest,X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.MetadataService;if(function H(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}(this,x),!k)throw f.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=k,this._XMLHttpRequestCtor=j,this._metadataService=new X(this._settings)}return x.prototype.revoke=function(j,X){var se=this,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!j)throw f.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==q&&"refresh_token"!=q)throw f.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(oe){if(oe)return f.Log.debug("TokenRevocationClient.revoke: Revoking "+q),se._revoke(oe,se._settings.client_id,se._settings.client_secret,j,q);if(X)throw f.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},x.prototype._revoke=function(j,X,se,q,oe){var te=this;return new Promise(function(ue,Ge){var Ee=new te._XMLHttpRequestCtor;Ee.open("POST",j),Ee.onload=function(){f.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",Ee.status),200===Ee.status?ue():Ge(Error(Ee.statusText+" ("+Ee.status+")"))},Ee.onerror=function(){f.Log.debug("TokenRevocationClient.revoke: Network Error."),Ge("Network Error")};var Fe="client_id="+encodeURIComponent(X);se&&(Fe+="&client_secret="+encodeURIComponent(se)),Fe+="&token_type_hint="+encodeURIComponent(oe),Fe+="&token="+encodeURIComponent(q),Ee.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),Ee.send(Fe)})},x}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.CordovaPopupWindow=void 0;var f=function(){function G(H,b){for(var D=0;D<b.length;D++){var x=b[D];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(H,x.key,x)}}return function(H,b,D){return b&&G(H.prototype,b),D&&G(H,D),H}}(),d=e(0);p.CordovaPopupWindow=function(){function G(H){var b=this;(function(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")})(this,G),this._promise=new Promise(function(D,x){b._resolve=D,b._reject=x}),this.features=H.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=H.popupWindowTarget||"_blank",this.redirect_uri=H.startUrl,d.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return G.prototype._isInAppBrowserInstalled=function(b){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(D){return b.hasOwnProperty(D)})},G.prototype.navigate=function(b){if(b&&b.url){if(!window.cordova)return this._error("cordova is undefined");var D=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(D))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(b.url,this.target,this.features),this._popup?(d.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},G.prototype._loadStartCallback=function(b){0===b.url.indexOf(this.redirect_uri)&&this._success({url:b.url})},G.prototype._exitCallback=function(b){this._error(b)},G.prototype._success=function(b){this._cleanup(),d.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(b)},G.prototype._error=function(b){this._cleanup(),d.Log.error(b),this._reject(new Error(b))},G.prototype.close=function(){this._cleanup()},G.prototype._cleanup=function(){this._popup&&(d.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},f(G,[{key:"promise",get:function(){return this._promise}}]),G}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var f=e(0),d=e(10),G=e(5),H=e(6),b=e(37),D=e(38),x=e(16),k=e(2),j=e(48),X=e(49),se=e(19),q=e(20),oe=e(18),te=e(1),ue=e(15),Ge=e(50);p.default={Version:Ge.Version,Log:f.Log,OidcClient:d.OidcClient,OidcClientSettings:G.OidcClientSettings,WebStorageStateStore:H.WebStorageStateStore,InMemoryWebStorage:b.InMemoryWebStorage,UserManager:D.UserManager,AccessTokenEvents:x.AccessTokenEvents,MetadataService:k.MetadataService,CordovaPopupNavigator:j.CordovaPopupNavigator,CordovaIFrameNavigator:X.CordovaIFrameNavigator,CheckSessionIFrame:se.CheckSessionIFrame,TokenRevocationClient:q.TokenRevocationClient,SessionMonitor:oe.SessionMonitor,Global:te.Global,User:ue.User},We.exports=p.default},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ClockService=function(){function f(){!function(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}(this,f)}return f.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},f}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.ResponseValidator=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(X){return typeof X}:function(X){return X&&"function"==typeof Symbol&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},d=e(0),G=e(2),H=e(25),b=e(11),D=e(12),x=e(4);var j=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];p.ResponseValidator=function(){function X(se){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.MetadataService,oe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H.UserInfoService,te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x.JoseUtil,ue=arguments.length>4&&void 0!==arguments[4]?arguments[4]:b.TokenClient;if(function k(X,se){if(!(X instanceof se))throw new TypeError("Cannot call a class as a function")}(this,X),!se)throw d.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=se,this._metadataService=new q(this._settings),this._userInfoService=new oe(this._settings),this._joseUtil=te,this._tokenClient=new ue(this._settings)}return X.prototype.validateSigninResponse=function(q,oe){var te=this;return d.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(q,oe).then(function(ue){return d.Log.debug("ResponseValidator.validateSigninResponse: state processed"),te._validateTokens(q,ue).then(function(Ge){return d.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),te._processClaims(q,Ge).then(function(Ee){return d.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),Ee})})})},X.prototype.validateSignoutResponse=function(q,oe){return q.id!==oe.state?(d.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(d.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),oe.state=q.data,oe.error?(d.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",oe.error),Promise.reject(new D.ErrorResponse(oe))):Promise.resolve(oe))},X.prototype._processSigninParams=function(q,oe){if(q.id!==oe.state)return d.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!q.client_id)return d.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!q.authority)return d.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==q.authority)return d.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=q.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==q.client_id)return d.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=q.client_id;return d.Log.debug("ResponseValidator._processSigninParams: state validated"),oe.state=q.data,oe.error?(d.Log.warn("ResponseValidator._processSigninParams: Response was error",oe.error),Promise.reject(new D.ErrorResponse(oe))):q.nonce&&!oe.id_token?(d.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!q.nonce&&oe.id_token?(d.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):q.code_verifier&&!oe.code?(d.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!q.code_verifier&&oe.code?(d.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(oe.scope||(oe.scope=q.scope),Promise.resolve(oe))},X.prototype._processClaims=function(q,oe){var te=this;if(oe.isOpenIdConnect){if(d.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),oe.profile=this._filterProtocolClaims(oe.profile),!0!==q.skipUserInfo&&this._settings.loadUserInfo&&oe.access_token)return d.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(oe.access_token).then(function(ue){return d.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),ue.sub!==oe.profile.sub?(d.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(oe.profile=te._mergeClaims(oe.profile,ue),d.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",oe.profile),oe)});d.Log.debug("ResponseValidator._processClaims: not loading user info")}else d.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(oe)},X.prototype._mergeClaims=function(q,oe){var te=Object.assign({},q);for(var ue in oe){var Ge=oe[ue];Array.isArray(Ge)||(Ge=[Ge]);for(var Ee=0;Ee<Ge.length;Ee++){var Fe=Ge[Ee];te[ue]?Array.isArray(te[ue])?te[ue].indexOf(Fe)<0&&te[ue].push(Fe):te[ue]!==Fe&&(te[ue]="object"===(void 0===Fe?"undefined":f(Fe))&&this._settings.mergeClaims?this._mergeClaims(te[ue],Fe):[te[ue],Fe]):te[ue]=Fe}}return te},X.prototype._filterProtocolClaims=function(q){d.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",q);var oe=Object.assign({},q);return this._settings._filterProtocolClaims?(j.forEach(function(te){delete oe[te]}),d.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",oe)):d.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),oe},X.prototype._validateTokens=function(q,oe){return oe.code?(d.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(q,oe)):oe.id_token?oe.access_token?(d.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(q,oe)):(d.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(q,oe)):(d.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(oe))},X.prototype._processCode=function(q,oe){var te=this,ue={client_id:q.client_id,client_secret:q.client_secret,code:oe.code,redirect_uri:q.redirect_uri,code_verifier:q.code_verifier};return q.extraTokenParams&&"object"===f(q.extraTokenParams)&&Object.assign(ue,q.extraTokenParams),this._tokenClient.exchangeCode(ue).then(function(Ge){for(var Ee in Ge)oe[Ee]=Ge[Ee];return oe.id_token?(d.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),te._validateIdTokenAttributes(q,oe)):(d.Log.debug("ResponseValidator._processCode: token response successful, returning response"),oe)})},X.prototype._validateIdTokenAttributes=function(q,oe){var te=this;return this._metadataService.getIssuer().then(function(ue){var Ge=q.client_id,Ee=te._settings.clockSkew;return d.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",Ee),te._settings.getEpochTime().then(function(Fe){return te._joseUtil.validateJwtAttributes(oe.id_token,ue,Ge,Ee,Fe).then(function(ye){return q.nonce&&q.nonce!==ye.nonce?(d.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):ye.sub?(oe.profile=ye,oe):(d.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},X.prototype._validateIdTokenAndAccessToken=function(q,oe){var te=this;return this._validateIdToken(q,oe).then(function(ue){return te._validateAccessToken(ue)})},X.prototype._getSigningKeyForJwt=function(q){var oe=this;return this._metadataService.getSigningKeys().then(function(te){var ue=q.header.kid;if(!te)return d.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));d.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var Ge=void 0;if(ue)Ge=te.filter(function(Ee){return Ee.kid===ue})[0];else{if((te=oe._filterByAlg(te,q.header.alg)).length>1)return d.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));Ge=te[0]}return Promise.resolve(Ge)})},X.prototype._getSigningKeyForJwtWithSingleRetry=function(q){var oe=this;return this._getSigningKeyForJwt(q).then(function(te){return te?Promise.resolve(te):(oe._metadataService.resetSigningKeys(),oe._getSigningKeyForJwt(q))})},X.prototype._validateIdToken=function(q,oe){var te=this;if(!q.nonce)return d.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var ue=this._joseUtil.parseJwt(oe.id_token);return ue&&ue.header&&ue.payload?q.nonce!==ue.payload.nonce?(d.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(Ge){return d.Log.debug("ResponseValidator._validateIdToken: Received issuer"),te._getSigningKeyForJwtWithSingleRetry(ue).then(function(Ee){if(!Ee)return d.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var Fe=q.client_id,ye=te._settings.clockSkew;return d.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",ye),te._joseUtil.validateJwt(oe.id_token,Ee,Ge,Fe,ye).then(function(){return d.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),ue.payload.sub?(oe.profile=ue.payload,oe):(d.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(d.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",ue),Promise.reject(new Error("Failed to parse id_token")))},X.prototype._filterByAlg=function(q,oe){var te=null;if(oe.startsWith("RS"))te="RSA";else if(oe.startsWith("PS"))te="PS";else{if(!oe.startsWith("ES"))return d.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",oe),[];te="EC"}return d.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",te),q=q.filter(function(ue){return ue.kty===te}),d.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",te,q.length),q},X.prototype._validateAccessToken=function(q){if(!q.profile)return d.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!q.profile.at_hash)return d.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!q.id_token)return d.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var oe=this._joseUtil.parseJwt(q.id_token);if(!oe||!oe.header)return d.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",oe),Promise.reject(new Error("Failed to parse id_token"));var te=oe.header.alg;if(!te||5!==te.length)return d.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",te),Promise.reject(new Error("Unsupported alg: "+te));var ue=te.substr(2,3);if(!ue)return d.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",te,ue),Promise.reject(new Error("Unsupported alg: "+te));if(256!==(ue=parseInt(ue))&&384!==ue&&512!==ue)return d.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",te,ue),Promise.reject(new Error("Unsupported alg: "+te));var Ge="sha"+ue,Ee=this._joseUtil.hashString(q.access_token,Ge);if(!Ee)return d.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",Ge),Promise.reject(new Error("Failed to validate at_hash"));var Fe=Ee.substr(0,Ee.length/2),ye=this._joseUtil.hexToBase64Url(Fe);return ye!==q.profile.at_hash?(d.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",ye,q.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(d.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(q))},X}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.UserInfoService=void 0;var f=e(7),d=e(2),G=e(0),H=e(4);p.UserInfoService=function(){function D(x){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.JsonService,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.MetadataService,X=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H.JoseUtil;if(function b(D,x){if(!(D instanceof x))throw new TypeError("Cannot call a class as a function")}(this,D),!x)throw G.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=x,this._jsonService=new k(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new j(this._settings),this._joseUtil=X}return D.prototype.getClaims=function(k){var j=this;return k?this._metadataService.getUserInfoEndpoint().then(function(X){return G.Log.debug("UserInfoService.getClaims: received userinfo url",X),j._jsonService.getJson(X,k).then(function(se){return G.Log.debug("UserInfoService.getClaims: claims received",se),se})}):(G.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},D.prototype._getClaimsFromJwt=function(k){var j=this;try{var X=this._joseUtil.parseJwt(k.responseText);if(!X||!X.header||!X.payload)return G.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",X),Promise.reject(new Error("Failed to parse id_token"));var se=X.header.kid,q=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":q=this._metadataService.getIssuer();break;case"ANY":q=Promise.resolve(X.payload.iss);break;default:q=Promise.resolve(this._settings.userInfoJwtIssuer)}return q.then(function(oe){return G.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+oe),j._metadataService.getSigningKeys().then(function(te){if(!te)return G.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));G.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var ue=void 0;if(se)ue=te.filter(function(Fe){return Fe.kid===se})[0];else{if((te=j._filterByAlg(te,X.header.alg)).length>1)return G.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));ue=te[0]}if(!ue)return G.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var Ge=j._settings.client_id,Ee=j._settings.clockSkew;return G.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",Ee),j._joseUtil.validateJwt(k.responseText,ue,oe,Ge,Ee,void 0,!0).then(function(){return G.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),X.payload})})})}catch(oe){return G.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",oe.message),void reject(oe)}},D.prototype._filterByAlg=function(k,j){var X=null;if(j.startsWith("RS"))X="RSA";else if(j.startsWith("PS"))X="PS";else{if(!j.startsWith("ES"))return G.Log.debug("UserInfoService._filterByAlg: alg not supported: ",j),[];X="EC"}return G.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",X),k=k.filter(function(se){return se.kty===X}),G.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",X,k.length),k},D}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.AllowedSigningAlgs=p.b64tohex=p.hextob64u=p.crypto=p.X509=p.KeyUtil=p.jws=void 0;var f=e(27);p.jws=f.jws,p.KeyUtil=f.KEYUTIL,p.X509=f.X509,p.crypto=f.crypto,p.hextob64u=f.hextob64u,p.b64tohex=f.b64tohex,p.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(We,p,e){"use strict";(function(f){Object.defineProperty(p,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},G={userAgent:!1},H={};if(void 0===b)var b={};b.lang={extend:function(i,u,c){if(!u||!i)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var S=function(){};if(S.prototype=u.prototype,i.prototype=new S,i.prototype.constructor=i,i.superclass=u.prototype,u.prototype.constructor==Object.prototype.constructor&&(u.prototype.constructor=u),c){var A;for(A in c)i.prototype[A]=c[A];var W=function(){},ne=["toString","valueOf"];try{/MSIE/.test(G.userAgent)&&(W=function(he,be){for(A=0;A<ne.length;A+=1){var ve=ne[A],Ie=be[ve];"function"==typeof Ie&&Ie!=Object.prototype[ve]&&(he[ve]=Ie)}})}catch{}W(i.prototype,c)}}};var D,x,k,j,X,se,q,oe,te,ue,Ge,i,u,c,S,Ee=Ee||(D=Math,k=(x={}).lib={},j=k.Base=function(){function r(){}return{extend:function(u){r.prototype=this;var c=new r;return u&&c.mixIn(u),c.hasOwnProperty("init")||(c.init=function(){c.$super.init.apply(this,arguments)}),c.init.prototype=c,c.$super=this,c},create:function(){var u=this.extend();return u.init.apply(u,arguments),u},init:function(){},mixIn:function(u){for(var c in u)u.hasOwnProperty(c)&&(this[c]=u[c]);u.hasOwnProperty("toString")&&(this.toString=u.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),X=k.WordArray=j.extend({init:function(i,u){i=this.words=i||[],this.sigBytes=u??4*i.length},toString:function(i){return(i||q).stringify(this)},concat:function(i){var u=this.words,c=i.words,S=this.sigBytes,A=i.sigBytes;if(this.clamp(),S%4)for(var W=0;W<A;W++)u[S+W>>>2]|=(c[W>>>2]>>>24-W%4*8&255)<<24-(S+W)%4*8;else for(W=0;W<A;W+=4)u[S+W>>>2]=c[W>>>2];return this.sigBytes+=A,this},clamp:function(){var i=this.words,u=this.sigBytes;i[u>>>2]&=4294967295<<32-u%4*8,i.length=D.ceil(u/4)},clone:function(){var i=j.clone.call(this);return i.words=this.words.slice(0),i},random:function(i){for(var u=[],c=0;c<i;c+=4)u.push(4294967296*D.random()|0);return new X.init(u,i)}}),se=x.enc={},q=se.Hex={stringify:function(i){for(var u=i.words,c=i.sigBytes,S=[],A=0;A<c;A++){var W=u[A>>>2]>>>24-A%4*8&255;S.push((W>>>4).toString(16)),S.push((15&W).toString(16))}return S.join("")},parse:function(i){for(var u=i.length,c=[],S=0;S<u;S+=2)c[S>>>3]|=parseInt(i.substr(S,2),16)<<24-S%8*4;return new X.init(c,u/2)}},oe=se.Latin1={stringify:function(i){for(var u=i.words,c=i.sigBytes,S=[],A=0;A<c;A++)S.push(String.fromCharCode(u[A>>>2]>>>24-A%4*8&255));return S.join("")},parse:function(i){for(var u=i.length,c=[],S=0;S<u;S++)c[S>>>2]|=(255&i.charCodeAt(S))<<24-S%4*8;return new X.init(c,u)}},te=se.Utf8={stringify:function(i){try{return decodeURIComponent(escape(oe.stringify(i)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(i){return oe.parse(unescape(encodeURIComponent(i)))}},ue=k.BufferedBlockAlgorithm=j.extend({reset:function(){this._data=new X.init,this._nDataBytes=0},_append:function(i){"string"==typeof i&&(i=te.parse(i)),this._data.concat(i),this._nDataBytes+=i.sigBytes},_process:function(i){var u=this._data,c=u.words,S=u.sigBytes,A=this.blockSize,W=S/(4*A),ne=(W=i?D.ceil(W):D.max((0|W)-this._minBufferSize,0))*A,le=D.min(4*ne,S);if(ne){for(var he=0;he<ne;he+=A)this._doProcessBlock(c,he);var be=c.splice(0,ne);u.sigBytes-=le}return new X.init(be,le)},clone:function(){var i=j.clone.call(this);return i._data=this._data.clone(),i},_minBufferSize:0}),k.Hasher=ue.extend({cfg:j.extend(),init:function(i){this.cfg=this.cfg.extend(i),this.reset()},reset:function(){ue.reset.call(this),this._doReset()},update:function(i){return this._append(i),this._process(),this},finalize:function(i){return i&&this._append(i),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(u,c){return new i.init(c).finalize(u)}},_createHmacHelper:function(i){return function(u,c){return new Ge.HMAC.init(i,c).finalize(u)}}}),Ge=x.algo={},x);u=(i=Ee).lib,c=u.Base,S=u.WordArray,(i=i.x64={}).Word=c.extend({init:function(W,ne){this.high=W,this.low=ne}}),i.WordArray=c.extend({init:function(W,ne){W=this.words=W||[],this.sigBytes=ne??8*W.length},toX32:function(){for(var W=this.words,ne=W.length,le=[],he=0;he<ne;he++){var be=W[he];le.push(be.high),le.push(be.low)}return S.create(le,this.sigBytes)},clone:function(){for(var W=c.clone.call(this),ne=W.words=this.words.slice(0),le=ne.length,he=0;he<le;he++)ne[he]=ne[he].clone();return W}}),function(){var i=Ee.lib.WordArray;Ee.enc.Base64={stringify:function(c){var S=c.words,A=c.sigBytes,W=this._map;c.clamp(),c=[];for(var ne=0;ne<A;ne+=3)for(var le=(S[ne>>>2]>>>24-ne%4*8&255)<<16|(S[ne+1>>>2]>>>24-(ne+1)%4*8&255)<<8|S[ne+2>>>2]>>>24-(ne+2)%4*8&255,he=0;4>he&&ne+.75*he<A;he++)c.push(W.charAt(le>>>6*(3-he)&63));if(S=W.charAt(64))for(;c.length%4;)c.push(S);return c.join("")},parse:function(c){var S=c.length,A=this._map;(W=A.charAt(64))&&-1!=(W=c.indexOf(W))&&(S=W);for(var W=[],ne=0,le=0;le<S;le++)if(le%4){var he=A.indexOf(c.charAt(le-1))<<le%4*2,be=A.indexOf(c.charAt(le))>>>6-le%4*2;W[ne>>>2]|=(he|be)<<24-ne%4*8,ne++}return i.create(W,ne)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(r){for(var i=Ee,u=(S=i.lib).WordArray,c=S.Hasher,S=i.algo,A=[],W=[],ne=function(_t){return 4294967296*(_t-(0|_t))|0},le=2,he=0;64>he;){var be;e:{for(var ve=r.sqrt(be=le),Ie=2;Ie<=ve;Ie++)if(!(be%Ie)){be=!1;break e}be=!0}be&&(8>he&&(A[he]=ne(r.pow(le,.5))),W[he]=ne(r.pow(le,1/3)),he++),le++}var ze=[];S=S.SHA256=c.extend({_doReset:function(){this._hash=new u.init(A.slice(0))},_doProcessBlock:function(_t,vt){for(var de=this._hash.words,Oe=de[0],Re=de[1],je=de[2],ee=de[3],Ae=de[4],Ke=de[5],Be=de[6],Mt=de[7],Ct=0;64>Ct;Ct++){if(16>Ct)ze[Ct]=0|_t[vt+Ct];else{var ln=ze[Ct-15],Xn=ze[Ct-2];ze[Ct]=((ln<<25|ln>>>7)^(ln<<14|ln>>>18)^ln>>>3)+ze[Ct-7]+((Xn<<15|Xn>>>17)^(Xn<<13|Xn>>>19)^Xn>>>10)+ze[Ct-16]}ln=Mt+((Ae<<26|Ae>>>6)^(Ae<<21|Ae>>>11)^(Ae<<7|Ae>>>25))+(Ae&Ke^~Ae&Be)+W[Ct]+ze[Ct],Xn=((Oe<<30|Oe>>>2)^(Oe<<19|Oe>>>13)^(Oe<<10|Oe>>>22))+(Oe&Re^Oe&je^Re&je),Mt=Be,Be=Ke,Ke=Ae,Ae=ee+ln|0,ee=je,je=Re,Re=Oe,Oe=ln+Xn|0}de[0]=de[0]+Oe|0,de[1]=de[1]+Re|0,de[2]=de[2]+je|0,de[3]=de[3]+ee|0,de[4]=de[4]+Ae|0,de[5]=de[5]+Ke|0,de[6]=de[6]+Be|0,de[7]=de[7]+Mt|0},_doFinalize:function(){var _t=this._data,vt=_t.words,de=8*this._nDataBytes,Oe=8*_t.sigBytes;return vt[Oe>>>5]|=128<<24-Oe%32,vt[14+(Oe+64>>>9<<4)]=r.floor(de/4294967296),vt[15+(Oe+64>>>9<<4)]=de,_t.sigBytes=4*vt.length,this._process(),this._hash},clone:function(){var _t=c.clone.call(this);return _t._hash=this._hash.clone(),_t}}),i.SHA256=c._createHelper(S),i.HmacSHA256=c._createHmacHelper(S)}(Math),function(){function r(){return c.create.apply(c,arguments)}for(var i=Ee,u=i.lib.Hasher,c=(A=i.x64).Word,S=A.WordArray,A=i.algo,W=[r(1116352408,3609767458),r(1899447441,602891725),r(3049323471,3964484399),r(3921009573,2173295548),r(961987163,4081628472),r(1508970993,3053834265),r(2453635748,2937671579),r(2870763221,3664609560),r(3624381080,2734883394),r(310598401,1164996542),r(607225278,1323610764),r(1426881987,3590304994),r(1925078388,4068182383),r(2162078206,991336113),r(2614888103,633803317),r(3248222580,3479774868),r(3835390401,2666613458),r(4022224774,944711139),r(264347078,2341262773),r(604807628,2007800933),r(770255983,1495990901),r(1249150122,1856431235),r(1555081692,3175218132),r(1996064986,2198950837),r(2554220882,3999719339),r(2821834349,766784016),r(2952996808,2566594879),r(3210313671,3203337956),r(3336571891,1034457026),r(3584528711,2466948901),r(113926993,3758326383),r(338241895,168717936),r(666307205,1188179964),r(773529912,1546045734),r(1294757372,1522805485),r(1396182291,2643833823),r(1695183700,2343527390),r(1986661051,1014477480),r(2177026350,1206759142),r(2456956037,344077627),r(2730485921,1290863460),r(2820302411,3158454273),r(3259730800,3505952657),r(3345764771,106217008),r(3516065817,3606008344),r(3600352804,1432725776),r(4094571909,1467031594),r(275423344,851169720),r(430227734,3100823752),r(506948616,1363258195),r(659060556,3750685593),r(883997877,3785050280),r(958139571,3318307427),r(1322822218,3812723403),r(1537002063,2003034995),r(1747873779,3602036899),r(1955562222,1575990012),r(2024104815,1125592928),r(2227730452,2716904306),r(2361852424,442776044),r(2428436474,593698344),r(2756734187,3733110249),r(3204031479,2999351573),r(3329325298,3815920427),r(3391569614,3928383900),r(3515267271,566280711),r(3940187606,3454069534),r(4118630271,4000239992),r(116418474,1914138554),r(174292421,2731055270),r(289380356,3203993006),r(460393269,320620315),r(685471733,587496836),r(852142971,1086792851),r(1017036298,365543100),r(1126000580,2618297676),r(1288033470,3409855158),r(1501505948,4234509866),r(1607167915,987167468),r(1816402316,1246189591)],ne=[],le=0;80>le;le++)ne[le]=r();A=A.SHA512=u.extend({_doReset:function(){this._hash=new S.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(be,ve){for(var Ie=(Re=this._hash.words)[0],ze=Re[1],st=Re[2],_t=Re[3],vt=Re[4],de=Re[5],Oe=Re[6],Re=Re[7],je=Ie.high,ee=Ie.low,Ae=ze.high,Ke=ze.low,Be=st.high,Mt=st.low,Ct=_t.high,ln=_t.low,Xn=vt.high,ui=vt.low,Ei=de.high,Ti=de.low,zi=Oe.high,Gr=Oe.low,er=Re.high,fr=Re.low,or=je,_r=ee,ws=Ae,Ws=Ke,Ks=Be,ts=Mt,yo=Ct,to=ln,ds=Xn,ns=ui,ks=Ei,is=Ti,Gs=zi,fs=Gr,As=er,Lr=fr,rs=0;80>rs;rs++){var Br=ne[rs];if(16>rs)var Ur=Br.high=0|be[ve+2*rs],ji=Br.low=0|be[ve+2*rs+1];else{Ur=((ji=(Ur=ne[rs-15]).high)>>>1|(ps=Ur.low)<<31)^(ji>>>8|ps<<24)^ji>>>7;var ps=(ps>>>1|ji<<31)^(ps>>>8|ji<<24)^(ps>>>7|ji<<25),Js=((ji=(Js=ne[rs-2]).high)>>>19|(Qi=Js.low)<<13)^(ji<<3|Qi>>>29)^ji>>>6,Qi=(Qi>>>19|ji<<13)^(Qi<<3|ji>>>29)^(Qi>>>6|ji<<26),bo=(ji=ne[rs-7]).high,gs=(o=ne[rs-16]).high,o=o.low;Ur=(Ur=(Ur=Ur+bo+((ji=ps+ji.low)>>>0<ps>>>0?1:0))+Js+((ji+=Qi)>>>0<Qi>>>0?1:0))+gs+((ji+=o)>>>0<o>>>0?1:0),Br.high=Ur,Br.low=ji}bo=ds&ks^~ds&Gs,o=ns&is^~ns&fs,Br=or&ws^or&Ks^ws&Ks;var g=_r&Ws^_r&ts^Ws&ts,M=(ps=(or>>>28|_r<<4)^(or<<30|_r>>>2)^(or<<25|_r>>>7),Js=(_r>>>28|or<<4)^(_r<<30|or>>>2)^(_r<<25|or>>>7),(Qi=W[rs]).high),N=Qi.low;gs=As+((ds>>>14|ns<<18)^(ds>>>18|ns<<14)^(ds<<23|ns>>>9))+((Qi=Lr+((ns>>>14|ds<<18)^(ns>>>18|ds<<14)^(ns<<23|ds>>>9)))>>>0<Lr>>>0?1:0),As=Gs,Lr=fs,Gs=ks,fs=is,ks=ds,is=ns,ds=yo+(gs=(gs=(gs=gs+bo+((Qi+=o)>>>0<o>>>0?1:0))+M+((Qi+=N)>>>0<N>>>0?1:0))+Ur+((Qi+=ji)>>>0<ji>>>0?1:0))+((ns=to+Qi|0)>>>0<to>>>0?1:0)|0,yo=Ks,to=ts,Ks=ws,ts=Ws,ws=or,Ws=_r,or=gs+(Br=ps+Br+((ji=Js+g)>>>0<Js>>>0?1:0))+((_r=Qi+ji|0)>>>0<Qi>>>0?1:0)|0}ee=Ie.low=ee+_r,Ie.high=je+or+(ee>>>0<_r>>>0?1:0),Ke=ze.low=Ke+Ws,ze.high=Ae+ws+(Ke>>>0<Ws>>>0?1:0),Mt=st.low=Mt+ts,st.high=Be+Ks+(Mt>>>0<ts>>>0?1:0),ln=_t.low=ln+to,_t.high=Ct+yo+(ln>>>0<to>>>0?1:0),ui=vt.low=ui+ns,vt.high=Xn+ds+(ui>>>0<ns>>>0?1:0),Ti=de.low=Ti+is,de.high=Ei+ks+(Ti>>>0<is>>>0?1:0),Gr=Oe.low=Gr+fs,Oe.high=zi+Gs+(Gr>>>0<fs>>>0?1:0),fr=Re.low=fr+Lr,Re.high=er+As+(fr>>>0<Lr>>>0?1:0)},_doFinalize:function(){var be=this._data,ve=be.words,Ie=8*this._nDataBytes,ze=8*be.sigBytes;return ve[ze>>>5]|=128<<24-ze%32,ve[30+(ze+128>>>10<<5)]=Math.floor(Ie/4294967296),ve[31+(ze+128>>>10<<5)]=Ie,be.sigBytes=4*ve.length,this._process(),this._hash.toX32()},clone:function(){var be=u.clone.call(this);return be._hash=this._hash.clone(),be},blockSize:32}),i.SHA512=u._createHelper(A),i.HmacSHA512=u._createHmacHelper(A)}(),function(){var r=Ee,i=(S=r.x64).Word,u=S.WordArray,c=(S=r.algo).SHA512,S=S.SHA384=c.extend({_doReset:function(){this._hash=new u.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var W=c._doFinalize.call(this);return W.sigBytes-=16,W}});r.SHA384=c._createHelper(S),r.HmacSHA384=c._createHmacHelper(S)}();var Fe,ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function ke(r){var i,u,c="";for(i=0;i+3<=r.length;i+=3)u=parseInt(r.substring(i,i+3),16),c+=ye.charAt(u>>6)+ye.charAt(63&u);for(i+1==r.length?(u=parseInt(r.substring(i,i+1),16),c+=ye.charAt(u<<2)):i+2==r.length&&(u=parseInt(r.substring(i,i+2),16),c+=ye.charAt(u>>2)+ye.charAt((3&u)<<4));(3&c.length)>0;)c+="=";return c}function Ye(r){var i,u,c,S="",A=0;for(i=0;i<r.length&&"="!=r.charAt(i);++i)(c=ye.indexOf(r.charAt(i)))<0||(0==A?(S+=mn(c>>2),u=3&c,A=1):1==A?(S+=mn(u<<2|c>>4),u=15&c,A=2):2==A?(S+=mn(u),S+=mn(c>>2),u=3&c,A=3):(S+=mn(u<<2|c>>4),S+=mn(15&c),A=0));return 1==A&&(S+=mn(u<<2)),S}function nt(r){var i,u=Ye(r),c=new Array;for(i=0;2*i<u.length;++i)c[i]=parseInt(u.substring(2*i,2*i+2),16);return c}function m(r,i,u){null!=r&&("number"==typeof r?this.fromNumber(r,i,u):this.fromString(r,null==i&&"string"!=typeof r?256:i))}function Tt(){return new m(null)}"Microsoft Internet Explorer"==G.appName?(m.prototype.am=function(i,u,c,S,A,W){for(var ne=32767&u,le=u>>15;--W>=0;){var he=32767&this[i],be=this[i++]>>15,ve=le*he+be*ne;A=((he=ne*he+((32767&ve)<<15)+c[S]+(1073741823&A))>>>30)+(ve>>>15)+le*be+(A>>>30),c[S++]=1073741823&he}return A},Fe=30):"Netscape"!=G.appName?(m.prototype.am=function(i,u,c,S,A,W){for(;--W>=0;){var ne=u*this[i++]+c[S]+A;A=Math.floor(ne/67108864),c[S++]=67108863&ne}return A},Fe=26):(m.prototype.am=function(i,u,c,S,A,W){for(var ne=16383&u,le=u>>14;--W>=0;){var he=16383&this[i],be=this[i++]>>14,ve=le*he+be*ne;A=((he=ne*he+((16383&ve)<<14)+c[S]+A)>>28)+(ve>>14)+le*be,c[S++]=268435455&he}return A},Fe=28),m.prototype.DB=Fe,m.prototype.DM=(1<<Fe)-1,m.prototype.DV=1<<Fe,m.prototype.FV=Math.pow(2,52),m.prototype.F1=52-Fe,m.prototype.F2=2*Fe-52;var It,Bt,wt=new Array;for(It=48,Bt=0;Bt<=9;++Bt)wt[It++]=Bt;for(It=97,Bt=10;Bt<36;++Bt)wt[It++]=Bt;for(It=65,Bt=10;Bt<36;++Bt)wt[It++]=Bt;function mn(r){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(r)}function tn(r,i){return wt[r.charCodeAt(i)]??-1}function Pn(r){var i=Tt();return i.fromInt(r),i}function On(r){var i,u=1;return 0!=(i=r>>>16)&&(r=i,u+=16),0!=(i=r>>8)&&(r=i,u+=8),0!=(i=r>>4)&&(r=i,u+=4),0!=(i=r>>2)&&(r=i,u+=2),0!=(i=r>>1)&&(r=i,u+=1),u}function Tn(r){this.m=r}function Cn(r){this.m=r,this.mp=r.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<r.DB-15)-1,this.mt2=2*r.t}function nn(r,i){return r&i}function tt(r,i){return r|i}function bt(r,i){return r^i}function Rt(r,i){return r&~i}function xt(r){if(0==r)return-1;var i=0;return!(65535&r)&&(r>>=16,i+=16),!(255&r)&&(r>>=8,i+=8),!(15&r)&&(r>>=4,i+=4),!(3&r)&&(r>>=2,i+=2),!(1&r)&&++i,i}function Jt(r){for(var i=0;0!=r;)r&=r-1,++i;return i}function $t(){}function Bn(r){return r}function Hn(r){this.r2=Tt(),this.q3=Tt(),m.ONE.dlShiftTo(2*r.t,this.r2),this.mu=this.r2.divide(r),this.m=r}Tn.prototype.convert=function(i){return i.s<0||i.compareTo(this.m)>=0?i.mod(this.m):i},Tn.prototype.revert=function(i){return i},Tn.prototype.reduce=function(i){i.divRemTo(this.m,null,i)},Tn.prototype.mulTo=function(i,u,c){i.multiplyTo(u,c),this.reduce(c)},Tn.prototype.sqrTo=function(i,u){i.squareTo(u),this.reduce(u)},Cn.prototype.convert=function(i){var u=Tt();return i.abs().dlShiftTo(this.m.t,u),u.divRemTo(this.m,null,u),i.s<0&&u.compareTo(m.ZERO)>0&&this.m.subTo(u,u),u},Cn.prototype.revert=function(i){var u=Tt();return i.copyTo(u),this.reduce(u),u},Cn.prototype.reduce=function(i){for(;i.t<=this.mt2;)i[i.t++]=0;for(var u=0;u<this.m.t;++u){var c=32767&i[u],S=c*this.mpl+((c*this.mph+(i[u]>>15)*this.mpl&this.um)<<15)&i.DM;for(i[c=u+this.m.t]+=this.m.am(0,S,i,u,0,this.m.t);i[c]>=i.DV;)i[c]-=i.DV,i[++c]++}i.clamp(),i.drShiftTo(this.m.t,i),i.compareTo(this.m)>=0&&i.subTo(this.m,i)},Cn.prototype.mulTo=function(i,u,c){i.multiplyTo(u,c),this.reduce(c)},Cn.prototype.sqrTo=function(i,u){i.squareTo(u),this.reduce(u)},m.prototype.copyTo=function(i){for(var u=this.t-1;u>=0;--u)i[u]=this[u];i.t=this.t,i.s=this.s},m.prototype.fromInt=function(i){this.t=1,this.s=i<0?-1:0,i>0?this[0]=i:i<-1?this[0]=i+this.DV:this.t=0},m.prototype.fromString=function(i,u){var c;if(16==u)c=4;else if(8==u)c=3;else if(256==u)c=8;else if(2==u)c=1;else if(32==u)c=5;else{if(4!=u)return void this.fromRadix(i,u);c=2}this.t=0,this.s=0;for(var S=i.length,A=!1,W=0;--S>=0;){var ne=8==c?255&i[S]:tn(i,S);ne<0?"-"==i.charAt(S)&&(A=!0):(A=!1,0==W?this[this.t++]=ne:W+c>this.DB?(this[this.t-1]|=(ne&(1<<this.DB-W)-1)<<W,this[this.t++]=ne>>this.DB-W):this[this.t-1]|=ne<<W,(W+=c)>=this.DB&&(W-=this.DB))}8==c&&128&i[0]&&(this.s=-1,W>0&&(this[this.t-1]|=(1<<this.DB-W)-1<<W)),this.clamp(),A&&m.ZERO.subTo(this,this)},m.prototype.clamp=function(){for(var i=this.s&this.DM;this.t>0&&this[this.t-1]==i;)--this.t},m.prototype.dlShiftTo=function(i,u){var c;for(c=this.t-1;c>=0;--c)u[c+i]=this[c];for(c=i-1;c>=0;--c)u[c]=0;u.t=this.t+i,u.s=this.s},m.prototype.drShiftTo=function(i,u){for(var c=i;c<this.t;++c)u[c-i]=this[c];u.t=Math.max(this.t-i,0),u.s=this.s},m.prototype.lShiftTo=function(i,u){var c,S=i%this.DB,A=this.DB-S,W=(1<<A)-1,ne=Math.floor(i/this.DB),le=this.s<<S&this.DM;for(c=this.t-1;c>=0;--c)u[c+ne+1]=this[c]>>A|le,le=(this[c]&W)<<S;for(c=ne-1;c>=0;--c)u[c]=0;u[ne]=le,u.t=this.t+ne+1,u.s=this.s,u.clamp()},m.prototype.rShiftTo=function(i,u){u.s=this.s;var c=Math.floor(i/this.DB);if(c>=this.t)u.t=0;else{var S=i%this.DB,A=this.DB-S,W=(1<<S)-1;u[0]=this[c]>>S;for(var ne=c+1;ne<this.t;++ne)u[ne-c-1]|=(this[ne]&W)<<A,u[ne-c]=this[ne]>>S;S>0&&(u[this.t-c-1]|=(this.s&W)<<A),u.t=this.t-c,u.clamp()}},m.prototype.subTo=function(i,u){for(var c=0,S=0,A=Math.min(i.t,this.t);c<A;)S+=this[c]-i[c],u[c++]=S&this.DM,S>>=this.DB;if(i.t<this.t){for(S-=i.s;c<this.t;)S+=this[c],u[c++]=S&this.DM,S>>=this.DB;S+=this.s}else{for(S+=this.s;c<i.t;)S-=i[c],u[c++]=S&this.DM,S>>=this.DB;S-=i.s}u.s=S<0?-1:0,S<-1?u[c++]=this.DV+S:S>0&&(u[c++]=S),u.t=c,u.clamp()},m.prototype.multiplyTo=function(i,u){var c=this.abs(),S=i.abs(),A=c.t;for(u.t=A+S.t;--A>=0;)u[A]=0;for(A=0;A<S.t;++A)u[A+c.t]=c.am(0,S[A],u,A,0,c.t);u.s=0,u.clamp(),this.s!=i.s&&m.ZERO.subTo(u,u)},m.prototype.squareTo=function(i){for(var u=this.abs(),c=i.t=2*u.t;--c>=0;)i[c]=0;for(c=0;c<u.t-1;++c){var S=u.am(c,u[c],i,2*c,0,1);(i[c+u.t]+=u.am(c+1,2*u[c],i,2*c+1,S,u.t-c-1))>=u.DV&&(i[c+u.t]-=u.DV,i[c+u.t+1]=1)}i.t>0&&(i[i.t-1]+=u.am(c,u[c],i,2*c,0,1)),i.s=0,i.clamp()},m.prototype.divRemTo=function(i,u,c){var S=i.abs();if(!(S.t<=0)){var A=this.abs();if(A.t<S.t)return u?.fromInt(0),void(null!=c&&this.copyTo(c));null==c&&(c=Tt());var W=Tt(),ne=this.s,le=i.s,he=this.DB-On(S[S.t-1]);he>0?(S.lShiftTo(he,W),A.lShiftTo(he,c)):(S.copyTo(W),A.copyTo(c));var be=W.t,ve=W[be-1];if(0!=ve){var Ie=ve*(1<<this.F1)+(be>1?W[be-2]>>this.F2:0),ze=this.FV/Ie,st=(1<<this.F1)/Ie,_t=1<<this.F2,vt=c.t,de=vt-be,Oe=u??Tt();for(W.dlShiftTo(de,Oe),c.compareTo(Oe)>=0&&(c[c.t++]=1,c.subTo(Oe,c)),m.ONE.dlShiftTo(be,Oe),Oe.subTo(W,W);W.t<be;)W[W.t++]=0;for(;--de>=0;){var Re=c[--vt]==ve?this.DM:Math.floor(c[vt]*ze+(c[vt-1]+_t)*st);if((c[vt]+=W.am(0,Re,c,de,0,be))<Re)for(W.dlShiftTo(de,Oe),c.subTo(Oe,c);c[vt]<--Re;)c.subTo(Oe,c)}null!=u&&(c.drShiftTo(be,u),ne!=le&&m.ZERO.subTo(u,u)),c.t=be,c.clamp(),he>0&&c.rShiftTo(he,c),ne<0&&m.ZERO.subTo(c,c)}}},m.prototype.invDigit=function(){if(this.t<1)return 0;var i=this[0];if(!(1&i))return 0;var u=3&i;return(u=(u=(u=(u=u*(2-(15&i)*u)&15)*(2-(255&i)*u)&255)*(2-((65535&i)*u&65535))&65535)*(2-i*u%this.DV)%this.DV)>0?this.DV-u:-u},m.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},m.prototype.exp=function(i,u){if(i>4294967295||i<1)return m.ONE;var c=Tt(),S=Tt(),A=u.convert(this),W=On(i)-1;for(A.copyTo(c);--W>=0;)if(u.sqrTo(c,S),(i&1<<W)>0)u.mulTo(S,A,c);else{var ne=c;c=S,S=ne}return u.revert(c)},m.prototype.toString=function(i){if(this.s<0)return"-"+this.negate().toString(i);var u;if(16==i)u=4;else if(8==i)u=3;else if(2==i)u=1;else if(32==i)u=5;else{if(4!=i)return this.toRadix(i);u=2}var c,S=(1<<u)-1,A=!1,W="",ne=this.t,le=this.DB-ne*this.DB%u;if(ne-- >0)for(le<this.DB&&(c=this[ne]>>le)>0&&(A=!0,W=mn(c));ne>=0;)le<u?(c=(this[ne]&(1<<le)-1)<<u-le,c|=this[--ne]>>(le+=this.DB-u)):(c=this[ne]>>(le-=u)&S,le<=0&&(le+=this.DB,--ne)),c>0&&(A=!0),A&&(W+=mn(c));return A?W:"0"},m.prototype.negate=function(){var i=Tt();return m.ZERO.subTo(this,i),i},m.prototype.abs=function(){return this.s<0?this.negate():this},m.prototype.compareTo=function(i){var u=this.s-i.s;if(0!=u)return u;var c=this.t;if(0!=(u=c-i.t))return this.s<0?-u:u;for(;--c>=0;)if(0!=(u=this[c]-i[c]))return u;return 0},m.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+On(this[this.t-1]^this.s&this.DM)},m.prototype.mod=function(i){var u=Tt();return this.abs().divRemTo(i,null,u),this.s<0&&u.compareTo(m.ZERO)>0&&i.subTo(u,u),u},m.prototype.modPowInt=function(i,u){var c;return c=i<256||u.isEven()?new Tn(u):new Cn(u),this.exp(i,c)},m.ZERO=Pn(0),m.ONE=Pn(1),$t.prototype.convert=Bn,$t.prototype.revert=Bn,$t.prototype.mulTo=function(i,u,c){i.multiplyTo(u,c)},$t.prototype.sqrTo=function(i,u){i.squareTo(u)},Hn.prototype.convert=function(i){if(i.s<0||i.t>2*this.m.t)return i.mod(this.m);if(i.compareTo(this.m)<0)return i;var u=Tt();return i.copyTo(u),this.reduce(u),u},Hn.prototype.revert=function(i){return i},Hn.prototype.reduce=function(i){for(i.drShiftTo(this.m.t-1,this.r2),i.t>this.m.t+1&&(i.t=this.m.t+1,i.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);i.compareTo(this.r2)<0;)i.dAddOffset(1,this.m.t+1);for(i.subTo(this.r2,i);i.compareTo(this.m)>=0;)i.subTo(this.m,i)},Hn.prototype.mulTo=function(i,u,c){i.multiplyTo(u,c),this.reduce(c)},Hn.prototype.sqrTo=function(i,u){i.squareTo(u),this.reduce(u)};var Pe,$e,qe,Le=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],B=(1<<26)/Le[Le.length-1];function J(){this.i=0,this.j=0,this.S=new Array}function At(){!function(i){$e[qe++]^=255&i,$e[qe++]^=i>>8&255,$e[qe++]^=i>>16&255,$e[qe++]^=i>>24&255,qe>=256&&(qe-=256)}((new Date).getTime())}if(m.prototype.chunkSize=function(i){return Math.floor(Math.LN2*this.DB/Math.log(i))},m.prototype.toRadix=function(i){if(null==i&&(i=10),0==this.signum()||i<2||i>36)return"0";var u=this.chunkSize(i),c=Math.pow(i,u),S=Pn(c),A=Tt(),W=Tt(),ne="";for(this.divRemTo(S,A,W);A.signum()>0;)ne=(c+W.intValue()).toString(i).substr(1)+ne,A.divRemTo(S,A,W);return W.intValue().toString(i)+ne},m.prototype.fromRadix=function(i,u){this.fromInt(0),null==u&&(u=10);for(var c=this.chunkSize(u),S=Math.pow(u,c),A=!1,W=0,ne=0,le=0;le<i.length;++le){var he=tn(i,le);he<0?"-"==i.charAt(le)&&0==this.signum()&&(A=!0):(ne=u*ne+he,++W>=c&&(this.dMultiply(S),this.dAddOffset(ne,0),W=0,ne=0))}W>0&&(this.dMultiply(Math.pow(u,W)),this.dAddOffset(ne,0)),A&&m.ZERO.subTo(this,this)},m.prototype.fromNumber=function(i,u,c){if("number"==typeof u)if(i<2)this.fromInt(1);else for(this.fromNumber(i,c),this.testBit(i-1)||this.bitwiseTo(m.ONE.shiftLeft(i-1),tt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(u);)this.dAddOffset(2,0),this.bitLength()>i&&this.subTo(m.ONE.shiftLeft(i-1),this);else{var S=new Array,A=7&i;S.length=1+(i>>3),u.nextBytes(S),A>0?S[0]&=(1<<A)-1:S[0]=0,this.fromString(S,256)}},m.prototype.bitwiseTo=function(i,u,c){var S,A,W=Math.min(i.t,this.t);for(S=0;S<W;++S)c[S]=u(this[S],i[S]);if(i.t<this.t){for(A=i.s&this.DM,S=W;S<this.t;++S)c[S]=u(this[S],A);c.t=this.t}else{for(A=this.s&this.DM,S=W;S<i.t;++S)c[S]=u(A,i[S]);c.t=i.t}c.s=u(this.s,i.s),c.clamp()},m.prototype.changeBit=function(i,u){var c=m.ONE.shiftLeft(i);return this.bitwiseTo(c,u,c),c},m.prototype.addTo=function(i,u){for(var c=0,S=0,A=Math.min(i.t,this.t);c<A;)S+=this[c]+i[c],u[c++]=S&this.DM,S>>=this.DB;if(i.t<this.t){for(S+=i.s;c<this.t;)S+=this[c],u[c++]=S&this.DM,S>>=this.DB;S+=this.s}else{for(S+=this.s;c<i.t;)S+=i[c],u[c++]=S&this.DM,S>>=this.DB;S+=i.s}u.s=S<0?-1:0,S>0?u[c++]=S:S<-1&&(u[c++]=this.DV+S),u.t=c,u.clamp()},m.prototype.dMultiply=function(i){this[this.t]=this.am(0,i-1,this,0,0,this.t),++this.t,this.clamp()},m.prototype.dAddOffset=function(i,u){if(0!=i){for(;this.t<=u;)this[this.t++]=0;for(this[u]+=i;this[u]>=this.DV;)this[u]-=this.DV,++u>=this.t&&(this[this.t++]=0),++this[u]}},m.prototype.multiplyLowerTo=function(i,u,c){var S,A=Math.min(this.t+i.t,u);for(c.s=0,c.t=A;A>0;)c[--A]=0;for(S=c.t-this.t;A<S;++A)c[A+this.t]=this.am(0,i[A],c,A,0,this.t);for(S=Math.min(i.t,u);A<S;++A)this.am(0,i[A],c,A,0,u-A);c.clamp()},m.prototype.multiplyUpperTo=function(i,u,c){--u;var S=c.t=this.t+i.t-u;for(c.s=0;--S>=0;)c[S]=0;for(S=Math.max(u-this.t,0);S<i.t;++S)c[this.t+S-u]=this.am(u-S,i[S],c,0,0,this.t+S-u);c.clamp(),c.drShiftTo(1,c)},m.prototype.modInt=function(i){if(i<=0)return 0;var u=this.DV%i,c=this.s<0?i-1:0;if(this.t>0)if(0==u)c=this[0]%i;else for(var S=this.t-1;S>=0;--S)c=(u*c+this[S])%i;return c},m.prototype.millerRabin=function(i){var u=this.subtract(m.ONE),c=u.getLowestSetBit();if(c<=0)return!1;var S=u.shiftRight(c);(i=i+1>>1)>Le.length&&(i=Le.length);for(var A=Tt(),W=0;W<i;++W){A.fromInt(Le[Math.floor(Math.random()*Le.length)]);var ne=A.modPow(S,this);if(0!=ne.compareTo(m.ONE)&&0!=ne.compareTo(u)){for(var le=1;le++<c&&0!=ne.compareTo(u);)if(0==(ne=ne.modPowInt(2,this)).compareTo(m.ONE))return!1;if(0!=ne.compareTo(u))return!1}}return!0},m.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
             */
function(){var i=Tt();return this.copyTo(i),i},m.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},m.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},m.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},m.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},m.prototype.toByteArray=function(){var i=this.t,u=new Array;u[0]=this.s;var c,S=this.DB-i*this.DB%8,A=0;if(i-- >0)for(S<this.DB&&(c=this[i]>>S)!=(this.s&this.DM)>>S&&(u[A++]=c|this.s<<this.DB-S);i>=0;)S<8?(c=(this[i]&(1<<S)-1)<<8-S,c|=this[--i]>>(S+=this.DB-8)):(c=this[i]>>(S-=8)&255,S<=0&&(S+=this.DB,--i)),128&c&&(c|=-256),0==A&&(128&this.s)!=(128&c)&&++A,(A>0||c!=this.s)&&(u[A++]=c);return u},m.prototype.equals=function(i){return 0==this.compareTo(i)},m.prototype.min=function(i){return this.compareTo(i)<0?this:i},m.prototype.max=function(i){return this.compareTo(i)>0?this:i},m.prototype.and=function(i){var u=Tt();return this.bitwiseTo(i,nn,u),u},m.prototype.or=function(i){var u=Tt();return this.bitwiseTo(i,tt,u),u},m.prototype.xor=function(i){var u=Tt();return this.bitwiseTo(i,bt,u),u},m.prototype.andNot=function(i){var u=Tt();return this.bitwiseTo(i,Rt,u),u},m.prototype.not=function(){for(var i=Tt(),u=0;u<this.t;++u)i[u]=this.DM&~this[u];return i.t=this.t,i.s=~this.s,i},m.prototype.shiftLeft=function(i){var u=Tt();return i<0?this.rShiftTo(-i,u):this.lShiftTo(i,u),u},m.prototype.shiftRight=function(i){var u=Tt();return i<0?this.lShiftTo(-i,u):this.rShiftTo(i,u),u},m.prototype.getLowestSetBit=function(){for(var i=0;i<this.t;++i)if(0!=this[i])return i*this.DB+xt(this[i]);return this.s<0?this.t*this.DB:-1},m.prototype.bitCount=function(){for(var i=0,u=this.s&this.DM,c=0;c<this.t;++c)i+=Jt(this[c]^u);return i},m.prototype.testBit=function(i){var u=Math.floor(i/this.DB);return u>=this.t?0!=this.s:!!(this[u]&1<<i%this.DB)},m.prototype.setBit=function(i){return this.changeBit(i,tt)},m.prototype.clearBit=function(i){return this.changeBit(i,Rt)},m.prototype.flipBit=function(i){return this.changeBit(i,bt)},m.prototype.add=function(i){var u=Tt();return this.addTo(i,u),u},m.prototype.subtract=function(i){var u=Tt();return this.subTo(i,u),u},m.prototype.multiply=function(i){var u=Tt();return this.multiplyTo(i,u),u},m.prototype.divide=function(i){var u=Tt();return this.divRemTo(i,u,null),u},m.prototype.remainder=function(i){var u=Tt();return this.divRemTo(i,null,u),u},m.prototype.divideAndRemainder=function(i){var u=Tt(),c=Tt();return this.divRemTo(i,u,c),new Array(u,c)},m.prototype.modPow=function(i,u){var c,S,A=i.bitLength(),W=Pn(1);if(A<=0)return W;c=A<18?1:A<48?3:A<144?4:A<768?5:6,S=A<8?new Tn(u):u.isEven()?new Hn(u):new Cn(u);var ne=new Array,le=3,he=c-1,be=(1<<c)-1;if(ne[1]=S.convert(this),c>1){var ve=Tt();for(S.sqrTo(ne[1],ve);le<=be;)ne[le]=Tt(),S.mulTo(ve,ne[le-2],ne[le]),le+=2}var Ie,ze,st=i.t-1,_t=!0,vt=Tt();for(A=On(i[st])-1;st>=0;){for(A>=he?Ie=i[st]>>A-he&be:(Ie=(i[st]&(1<<A+1)-1)<<he-A,st>0&&(Ie|=i[st-1]>>this.DB+A-he)),le=c;!(1&Ie);)Ie>>=1,--le;if((A-=le)<0&&(A+=this.DB,--st),_t)ne[Ie].copyTo(W),_t=!1;else{for(;le>1;)S.sqrTo(W,vt),S.sqrTo(vt,W),le-=2;le>0?S.sqrTo(W,vt):(ze=W,W=vt,vt=ze),S.mulTo(vt,ne[Ie],W)}for(;st>=0&&!(i[st]&1<<A);)S.sqrTo(W,vt),ze=W,W=vt,vt=ze,--A<0&&(A=this.DB-1,--st)}return S.revert(W)},m.prototype.modInverse=function(i){var u=i.isEven();if(this.isEven()&&u||0==i.signum())return m.ZERO;for(var c=i.clone(),S=this.clone(),A=Pn(1),W=Pn(0),ne=Pn(0),le=Pn(1);0!=c.signum();){for(;c.isEven();)c.rShiftTo(1,c),u?(A.isEven()&&W.isEven()||(A.addTo(this,A),W.subTo(i,W)),A.rShiftTo(1,A)):W.isEven()||W.subTo(i,W),W.rShiftTo(1,W);for(;S.isEven();)S.rShiftTo(1,S),u?(ne.isEven()&&le.isEven()||(ne.addTo(this,ne),le.subTo(i,le)),ne.rShiftTo(1,ne)):le.isEven()||le.subTo(i,le),le.rShiftTo(1,le);c.compareTo(S)>=0?(c.subTo(S,c),u&&A.subTo(ne,A),W.subTo(le,W)):(S.subTo(c,S),u&&ne.subTo(A,ne),le.subTo(W,le))}return 0!=S.compareTo(m.ONE)?m.ZERO:le.compareTo(i)>=0?le.subtract(i):le.signum()<0?(le.addTo(i,le),le.signum()<0?le.add(i):le):le},m.prototype.pow=function(i){return this.exp(i,new $t)},m.prototype.gcd=function(i){var u=this.s<0?this.negate():this.clone(),c=i.s<0?i.negate():i.clone();if(u.compareTo(c)<0){var S=u;u=c,c=S}var A=u.getLowestSetBit(),W=c.getLowestSetBit();if(W<0)return u;for(A<W&&(W=A),W>0&&(u.rShiftTo(W,u),c.rShiftTo(W,c));u.signum()>0;)(A=u.getLowestSetBit())>0&&u.rShiftTo(A,u),(A=c.getLowestSetBit())>0&&c.rShiftTo(A,c),u.compareTo(c)>=0?(u.subTo(c,u),u.rShiftTo(1,u)):(c.subTo(u,c),c.rShiftTo(1,c));return W>0&&c.lShiftTo(W,c),c},m.prototype.isProbablePrime=function(i){var u,c=this.abs();if(1==c.t&&c[0]<=Le[Le.length-1]){for(u=0;u<Le.length;++u)if(c[0]==Le[u])return!0;return!1}if(c.isEven())return!1;for(u=1;u<Le.length;){for(var S=Le[u],A=u+1;A<Le.length&&S<B;)S*=Le[A++];for(S=c.modInt(S);u<A;)if(S%Le[u++]==0)return!1}return c.millerRabin(i)},m.prototype.square=function(){var i=Tt();return this.squareTo(i),i},J.prototype.init=function(i){var u,c,S;for(u=0;u<256;++u)this.S[u]=u;for(c=0,u=0;u<256;++u)S=this.S[u],this.S[u]=this.S[c=c+this.S[u]+i[u%i.length]&255],this.S[c]=S;this.i=0,this.j=0},J.prototype.next=function(){var i;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,i=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=i,this.S[i+this.S[this.i]&255]},null==$e){var un;if($e=new Array,qe=0,void 0!==H&&(void 0!==H.crypto||void 0!==H.msCrypto)){var kn=H.crypto||H.msCrypto;if(kn.getRandomValues){var ti=new Uint8Array(32);for(kn.getRandomValues(ti),un=0;un<32;++un)$e[qe++]=ti[un]}else if("Netscape"==G.appName&&G.appVersion<"5"){var ii=H.crypto.random(32);for(un=0;un<ii.length;++un)$e[qe++]=255&ii.charCodeAt(un)}}for(;qe<256;)un=Math.floor(65536*Math.random()),$e[qe++]=un>>>8,$e[qe++]=255&un;qe=0,At()}function gi(){if(null==Pe){for(At(),(Pe=new J).init($e),qe=0;qe<$e.length;++qe)$e[qe]=0;qe=0}return Pe.next()}function pn(){}function rn(r,i){return new m(r,i)}function gt(r,i,u){for(var c="",S=0;c.length<i;)c+=u(String.fromCharCode.apply(String,r.concat([(4278190080&S)>>24,(16711680&S)>>16,(65280&S)>>8,255&S]))),S+=1;return c}function dt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function sn(r,i){this.x=i,this.q=r}function on(r,i,u,c){this.curve=r,this.x=i,this.y=u,this.z=c??m.ONE,this.zinv=null}function hn(r,i,u){this.q=r,this.a=this.fromBigInteger(i),this.b=this.fromBigInteger(u),this.infinity=new on(this,null,null)}pn.prototype.nextBytes=function(i){var u;for(u=0;u<i.length;++u)i[u]=gi()},dt.prototype.doPublic=function(i){return i.modPowInt(this.e,this.n)},dt.prototype.setPublic=function(i,u){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof i)this.n=i,this.e=u;else{if(!(null!=i&&null!=u&&i.length>0&&u.length>0))throw"Invalid RSA public key";this.n=rn(i,16),this.e=parseInt(u,16)}},dt.prototype.encrypt=function(i){var u=function(W,ne){if(ne<W.length+11)throw"Message too long for RSA";for(var le=new Array,he=W.length-1;he>=0&&ne>0;){var be=W.charCodeAt(he--);be<128?le[--ne]=be:be>127&&be<2048?(le[--ne]=63&be|128,le[--ne]=be>>6|192):(le[--ne]=63&be|128,le[--ne]=be>>6&63|128,le[--ne]=be>>12|224)}le[--ne]=0;for(var ve=new pn,Ie=new Array;ne>2;){for(Ie[0]=0;0==Ie[0];)ve.nextBytes(Ie);le[--ne]=Ie[0]}return le[--ne]=2,le[--ne]=0,new m(le)}(i,this.n.bitLength()+7>>3);if(null==u)return null;var c=this.doPublic(u);if(null==c)return null;var S=c.toString(16);return 1&S.length?"0"+S:S},dt.prototype.encryptOAEP=function(i,u,c){var S=function(le,he,be,ve){var Ie=_e.crypto.MessageDigest,ze=_e.crypto.Util,st=null;if(be||(be="sha1"),"string"==typeof be&&(st=Ie.getCanonicalAlgName(be),ve=Ie.getHashLength(st),be=function(Be){return mt(ze.hashHex(Kt(Be),st))}),le.length+2*ve+2>he)throw"Message too long for RSA";var _t,vt="";for(_t=0;_t<he-le.length-2*ve-2;_t+=1)vt+="\0";var de=be("")+vt+"\x01"+le,Oe=new Array(ve);(new pn).nextBytes(Oe);var Re=gt(Oe,de.length,be),je=[];for(_t=0;_t<de.length;_t+=1)je[_t]=de.charCodeAt(_t)^Re.charCodeAt(_t);var ee=gt(je,Oe.length,be),Ae=[0];for(_t=0;_t<Oe.length;_t+=1)Ae[_t+1]=Oe[_t]^ee.charCodeAt(_t);return new m(Ae.concat(je))}(i,this.n.bitLength()+7>>3,u,c);if(null==S)return null;var A=this.doPublic(S);if(null==A)return null;var W=A.toString(16);return 1&W.length?"0"+W:W},dt.prototype.type="RSA",sn.prototype.equals=function(i){return i==this||this.q.equals(i.q)&&this.x.equals(i.x)},sn.prototype.toBigInteger=function(){return this.x},sn.prototype.negate=function(){return new sn(this.q,this.x.negate().mod(this.q))},sn.prototype.add=function(i){return new sn(this.q,this.x.add(i.toBigInteger()).mod(this.q))},sn.prototype.subtract=function(i){return new sn(this.q,this.x.subtract(i.toBigInteger()).mod(this.q))},sn.prototype.multiply=function(i){return new sn(this.q,this.x.multiply(i.toBigInteger()).mod(this.q))},sn.prototype.square=function(){return new sn(this.q,this.x.square().mod(this.q))},sn.prototype.divide=function(i){return new sn(this.q,this.x.multiply(i.toBigInteger().modInverse(this.q)).mod(this.q))},on.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},on.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},on.prototype.equals=function(i){return i==this||(this.isInfinity()?i.isInfinity():i.isInfinity()?this.isInfinity():!!i.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(i.z)).mod(this.curve.q).equals(m.ZERO)&&i.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(i.z)).mod(this.curve.q).equals(m.ZERO))},on.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(m.ZERO)&&!this.y.toBigInteger().equals(m.ZERO)},on.prototype.negate=function(){return new on(this.curve,this.x,this.y.negate(),this.z)},on.prototype.add=function(i){if(this.isInfinity())return i;if(i.isInfinity())return this;var u=i.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(i.z)).mod(this.curve.q),c=i.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(i.z)).mod(this.curve.q);if(m.ZERO.equals(c))return m.ZERO.equals(u)?this.twice():this.curve.getInfinity();var S=new m("3"),A=this.x.toBigInteger(),W=this.y.toBigInteger(),ne=(i.x.toBigInteger(),i.y.toBigInteger(),c.square()),le=ne.multiply(c),he=A.multiply(ne),be=u.square().multiply(this.z),ve=be.subtract(he.shiftLeft(1)).multiply(i.z).subtract(le).multiply(c).mod(this.curve.q),Ie=he.multiply(S).multiply(u).subtract(W.multiply(le)).subtract(be.multiply(u)).multiply(i.z).add(u.multiply(le)).mod(this.curve.q),ze=le.multiply(this.z).multiply(i.z).mod(this.curve.q);return new on(this.curve,this.curve.fromBigInteger(ve),this.curve.fromBigInteger(Ie),ze)},on.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var i=new m("3"),u=this.x.toBigInteger(),c=this.y.toBigInteger(),S=c.multiply(this.z),A=S.multiply(c).mod(this.curve.q),W=this.curve.a.toBigInteger(),ne=u.square().multiply(i);m.ZERO.equals(W)||(ne=ne.add(this.z.square().multiply(W)));var le=(ne=ne.mod(this.curve.q)).square().subtract(u.shiftLeft(3).multiply(A)).shiftLeft(1).multiply(S).mod(this.curve.q),he=ne.multiply(i).multiply(u).subtract(A.shiftLeft(1)).shiftLeft(2).multiply(A).subtract(ne.square().multiply(ne)).mod(this.curve.q),be=S.square().multiply(S).shiftLeft(3).mod(this.curve.q);return new on(this.curve,this.curve.fromBigInteger(le),this.curve.fromBigInteger(he),be)},on.prototype.multiply=function(i){if(this.isInfinity())return this;if(0==i.signum())return this.curve.getInfinity();var u,c=i,S=c.multiply(new m("3")),A=this.negate(),W=this,ne=this.curve.q.subtract(i),le=ne.multiply(new m("3")),he=new on(this.curve,this.x,this.y),be=he.negate();for(u=S.bitLength()-2;u>0;--u){W=W.twice();var ve=S.testBit(u);ve!=c.testBit(u)&&(W=W.add(ve?this:A))}for(u=le.bitLength()-2;u>0;--u){he=he.twice();var Ie=le.testBit(u);Ie!=ne.testBit(u)&&(he=he.add(Ie?he:be))}return W},on.prototype.multiplyTwo=function(i,u,c){var S;S=i.bitLength()>c.bitLength()?i.bitLength()-1:c.bitLength()-1;for(var A=this.curve.getInfinity(),W=this.add(u);S>=0;)A=A.twice(),i.testBit(S)?A=c.testBit(S)?A.add(W):A.add(this):c.testBit(S)&&(A=A.add(u)),--S;return A},hn.prototype.getQ=function(){return this.q},hn.prototype.getA=function(){return this.a},hn.prototype.getB=function(){return this.b},hn.prototype.equals=function(i){return i==this||this.q.equals(i.q)&&this.a.equals(i.a)&&this.b.equals(i.b)},hn.prototype.getInfinity=function(){return this.infinity},hn.prototype.fromBigInteger=function(i){return new sn(this.q,i)},hn.prototype.decodePointHex=function(i){switch(parseInt(i.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var u=(i.length-2)/2,c=i.substr(2,u),S=i.substr(u+2,u);return new on(this,this.fromBigInteger(new m(c,16)),this.fromBigInteger(new m(S,16)))}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
             */
sn.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},on.prototype.getEncoded=function(r){var i=function(W,ne){var le=W.toByteArrayUnsigned();if(ne<le.length)le=le.slice(le.length-ne);else for(;ne>le.length;)le.unshift(0);return le},u=this.getX().toBigInteger(),c=this.getY().toBigInteger(),S=i(u,32);return r?c.isEven()?S.unshift(2):S.unshift(3):(S.unshift(4),S=S.concat(i(c,32))),S},on.decodeFrom=function(r,i){var u=i.length-1,c=i.slice(1,1+u/2),S=i.slice(1+u/2,1+u);c.unshift(0),S.unshift(0);var A=new m(c),W=new m(S);return new on(r,r.fromBigInteger(A),r.fromBigInteger(W))},on.decodeFromHex=function(r,i){i.substr(0,2);var u=i.length-2,c=i.substr(2,u/2),S=i.substr(2+u/2,u/2),A=new m(c,16),W=new m(S,16);return new on(r,r.fromBigInteger(A),r.fromBigInteger(W))},on.prototype.add2D=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;if(this.x.equals(r.x))return this.y.equals(r.y)?this.twice():this.curve.getInfinity();var i=r.x.subtract(this.x),u=r.y.subtract(this.y).divide(i),c=u.square().subtract(this.x).subtract(r.x),S=u.multiply(this.x.subtract(c)).subtract(this.y);return new on(this.curve,c,S)},on.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var r=this.curve.fromBigInteger(m.valueOf(2)),i=this.curve.fromBigInteger(m.valueOf(3)),u=this.x.square().multiply(i).add(this.curve.a).divide(this.y.multiply(r)),c=u.square().subtract(this.x.multiply(r)),S=u.multiply(this.x.subtract(c)).subtract(this.y);return new on(this.curve,c,S)},on.prototype.multiply2D=function(r){if(this.isInfinity())return this;if(0==r.signum())return this.curve.getInfinity();var i,u=r,c=u.multiply(new m("3")),S=this.negate(),A=this;for(i=c.bitLength()-2;i>0;--i){A=A.twice();var W=c.testBit(i);W!=u.testBit(i)&&(A=A.add2D(W?this:S))}return A},on.prototype.isOnCurve=function(){var r=this.getX().toBigInteger(),i=this.getY().toBigInteger(),u=this.curve.getA().toBigInteger(),c=this.curve.getB().toBigInteger(),S=this.curve.getQ(),A=i.multiply(i).mod(S),W=r.multiply(r).multiply(r).add(u.multiply(r)).add(c).mod(S);return A.equals(W)},on.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},on.prototype.validate=function(){var r=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var i=this.getX().toBigInteger(),u=this.getY().toBigInteger();if(i.compareTo(m.ONE)<0||i.compareTo(r.subtract(m.ONE))>0)throw new Error("x coordinate out of bounds");if(u.compareTo(m.ONE)<0||u.compareTo(r.subtract(m.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(r).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var _i=function(){var r=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),i=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),u={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function c(W,ne,le){return ne?u[ne]:String.fromCharCode(parseInt(le,16))}var S=new String(""),A=Object.hasOwnProperty;return function(W,ne){var le,he,be=W.match(r),ve=be[0],Ie=!1;"{"===ve?le={}:"["===ve?le=[]:(le=[],Ie=!0);for(var ze=[le],st=1-Ie,_t=be.length;st<_t;++st){var vt;switch((ve=be[st]).charCodeAt(0)){default:(vt=ze[0])[he||vt.length]=+ve,he=void 0;break;case 34:if(-1!==(ve=ve.substring(1,ve.length-1)).indexOf("\\")&&(ve=ve.replace(i,c)),vt=ze[0],!he){if(!(vt instanceof Array)){he=ve||S;break}he=vt.length}vt[he]=ve,he=void 0;break;case 91:ze.unshift((vt=ze[0])[he||vt.length]=[]),he=void 0;break;case 93:case 125:ze.shift();break;case 102:(vt=ze[0])[he||vt.length]=!1,he=void 0;break;case 110:(vt=ze[0])[he||vt.length]=null,he=void 0;break;case 116:(vt=ze[0])[he||vt.length]=!0,he=void 0;break;case 123:ze.unshift((vt=ze[0])[he||vt.length]={}),he=void 0}}if(Ie){if(1!==ze.length)throw new Error;le=le[0]}else if(ze.length)throw new Error;return ne&&(le=function de(Oe,Re){var je=Oe[Re];if(je&&"object"===(void 0===je?"undefined":d(je))){var ee=null;for(var Ae in je)if(A.call(je,Ae)&&je!==Oe){var Ke=de(je,Ae);void 0!==Ke?je[Ae]=Ke:(ee||(ee=[]),ee.push(Ae))}if(ee)for(var Be=ee.length;--Be>=0;)delete je[ee[Be]]}return ne.call(Oe,Re,je)}({"":le},"")),le}}();void 0!==_e&&_e||(p.KJUR=_e={}),void 0!==_e.asn1&&_e.asn1||(_e.asn1={}),_e.asn1.ASN1Util=new function(){this.integerToByteHex=function(r){var i=r.toString(16);return i.length%2==1&&(i="0"+i),i},this.bigIntToMinTwosComplementsHex=function(r){var i=r.toString(16);if("-"!=i.substr(0,1))i.length%2==1?i="0"+i:i.match(/^[0-7]/)||(i="00"+i);else{var u=i.substr(1).length;u%2==1?u+=1:i.match(/^[0-7]/)||(u+=2);for(var c="",S=0;S<u;S++)c+="f";i=new m(c,16).xor(r).add(m.ONE).toString(16).replace(/^-/,"")}return i},this.getPEMStringFromHex=function(r,i){return dn(r,i)},this.newObject=function(r){var i=_e.asn1,u=i.ASN1Object,c=i.DERBoolean,S=i.DERInteger,A=i.DERBitString,W=i.DEROctetString,ne=i.DERNull,le=i.DERObjectIdentifier,he=i.DEREnumerated,be=i.DERUTF8String,ve=i.DERNumericString,Ie=i.DERPrintableString,ze=i.DERTeletexString,st=i.DERIA5String,_t=i.DERUTCTime,vt=i.DERGeneralizedTime,de=i.DERVisibleString,Oe=i.DERBMPString,Re=i.DERSequence,je=i.DERSet,ee=i.DERTaggedObject,Ae=i.ASN1Util.newObject;if(r instanceof i.ASN1Object)return r;var Ke=Object.keys(r);if(1!=Ke.length)throw new Error("key of param shall be only one.");var Be=Ke[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Be+":"))throw new Error("undefined key: "+Be);if("bool"==Be)return new c(r[Be]);if("int"==Be)return new S(r[Be]);if("bitstr"==Be)return new A(r[Be]);if("octstr"==Be)return new W(r[Be]);if("null"==Be)return new ne(r[Be]);if("oid"==Be)return new le(r[Be]);if("enum"==Be)return new he(r[Be]);if("utf8str"==Be)return new be(r[Be]);if("numstr"==Be)return new ve(r[Be]);if("prnstr"==Be)return new Ie(r[Be]);if("telstr"==Be)return new ze(r[Be]);if("ia5str"==Be)return new st(r[Be]);if("utctime"==Be)return new _t(r[Be]);if("gentime"==Be)return new vt(r[Be]);if("visstr"==Be)return new de(r[Be]);if("bmpstr"==Be)return new Oe(r[Be]);if("asn1"==Be)return new u(r[Be]);if("seq"==Be){for(var Mt=r[Be],Ct=[],ln=0;ln<Mt.length;ln++){var Xn=Ae(Mt[ln]);Ct.push(Xn)}return new Re({array:Ct})}if("set"==Be){for(Mt=r[Be],Ct=[],ln=0;ln<Mt.length;ln++)Xn=Ae(Mt[ln]),Ct.push(Xn);return new je({array:Ct})}if("tag"==Be){var ui=r[Be];if("[object Array]"===Object.prototype.toString.call(ui)&&3==ui.length){var Ei=Ae(ui[2]);return new ee({tag:ui[0],explicit:ui[1],obj:Ei})}return new ee(ui)}},this.jsonToASN1HEX=function(r){return this.newObject(r).getEncodedHex()}},_e.asn1.ASN1Util.oidHexToInt=function(r){for(var i="",u=parseInt(r.substr(0,2),16),c=(i=Math.floor(u/40)+"."+u%40,""),S=2;S<r.length;S+=2){var A=("00000000"+parseInt(r.substr(S,2),16).toString(2)).slice(-8);c+=A.substr(1,7),"0"==A.substr(0,1)&&(i=i+"."+new m(c,2).toString(10),c="")}return i},_e.asn1.ASN1Util.oidIntToHex=function(r){var i=function(le){var he=le.toString(16);return 1==he.length&&(he="0"+he),he},u=function(le){var he="",be=new m(le,10).toString(2),ve=7-be.length%7;7==ve&&(ve=0);for(var Ie="",ze=0;ze<ve;ze++)Ie+="0";for(be=Ie+be,ze=0;ze<be.length-1;ze+=7){var st=be.substr(ze,7);ze!=be.length-7&&(st="1"+st),he+=i(parseInt(st,2))}return he};if(!r.match(/^[0-9.]+$/))throw"malformed oid string: "+r;var c="",S=r.split("."),A=40*parseInt(S[0])+parseInt(S[1]);c+=i(A),S.splice(0,2);for(var W=0;W<S.length;W++)c+=u(S[W]);return c},_e.asn1.ASN1Object=function(r){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var i=this.hV.length/2,u=i.toString(16);if(u.length%2==1&&(u="0"+u),i<128)return u;var c=u.length/2;if(c>15)throw"ASN.1 length too long to represent by 8x: n = "+i.toString(16);return(128+c).toString(16)+u},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(i){this.params=i},null!=r&&null!=r.tlv&&(this.hTLV=r.tlv,this.isModified=!1)},_e.asn1.DERAbstractString=function(r){_e.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(i){this.hTLV=null,this.isModified=!0,this.s=i,this.hV=yt(this.s).toLowerCase()},this.setStringHex=function(i){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.getFreshValueHex=function(){return this.hV},void 0!==r&&("string"==typeof r?this.setString(r):void 0!==r.str?this.setString(r.str):void 0!==r.hex&&this.setStringHex(r.hex))},b.lang.extend(_e.asn1.DERAbstractString,_e.asn1.ASN1Object),_e.asn1.DERAbstractTime=function(r){_e.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(i){var u=i.getTime()+6e4*i.getTimezoneOffset();return new Date(u)},this.formatDate=function(i,u,c){var S=this.zeroPadding,A=this.localDateToUTC(i),W=String(A.getFullYear());"utc"==u&&(W=W.substr(2,2));var ne=W+S(String(A.getMonth()+1),2)+S(String(A.getDate()),2)+S(String(A.getHours()),2)+S(String(A.getMinutes()),2)+S(String(A.getSeconds()),2);if(!0===c){var le=A.getMilliseconds();if(0!=le){var he=S(String(le),3);ne=ne+"."+(he=he.replace(/[0]+$/,""))}}return ne+"Z"},this.zeroPadding=function(i,u){return i.length>=u?i:new Array(u-i.length+1).join("0")+i},this.getString=function(){return this.s},this.setString=function(i){this.hTLV=null,this.isModified=!0,this.s=i,this.hV=Ht(i)},this.setByDateValue=function(i,u,c,S,A,W){var ne=new Date(Date.UTC(i,u-1,c,S,A,W,0));this.setByDate(ne)},this.getFreshValueHex=function(){return this.hV}},b.lang.extend(_e.asn1.DERAbstractTime,_e.asn1.ASN1Object),_e.asn1.DERAbstractStructured=function(r){_e.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(i){this.hTLV=null,this.isModified=!0,this.asn1Array=i},this.appendASN1Object=function(i){this.hTLV=null,this.isModified=!0,this.asn1Array.push(i)},this.asn1Array=new Array,void 0!==r&&void 0!==r.array&&(this.asn1Array=r.array)},b.lang.extend(_e.asn1.DERAbstractStructured,_e.asn1.ASN1Object),_e.asn1.DERBoolean=function(r){_e.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==r?"010100":"0101ff"},b.lang.extend(_e.asn1.DERBoolean,_e.asn1.ASN1Object),_e.asn1.DERInteger=function(r){_e.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(i){this.hTLV=null,this.isModified=!0,this.hV=_e.asn1.ASN1Util.bigIntToMinTwosComplementsHex(i)},this.setByInteger=function(i){var u=new m(String(i),10);this.setByBigInteger(u)},this.setValueHex=function(i){this.hV=i},this.getFreshValueHex=function(){return this.hV},void 0!==r&&(void 0!==r.bigint?this.setByBigInteger(r.bigint):void 0!==r.int?this.setByInteger(r.int):"number"==typeof r?this.setByInteger(r):void 0!==r.hex&&this.setValueHex(r.hex))},b.lang.extend(_e.asn1.DERInteger,_e.asn1.ASN1Object),_e.asn1.DERBitString=function(r){if(void 0!==r&&void 0!==r.obj){var i=_e.asn1.ASN1Util.newObject(r.obj);r.hex="00"+i.getEncodedHex()}_e.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(u){this.hTLV=null,this.isModified=!0,this.hV=u},this.setUnusedBitsAndHexValue=function(u,c){if(u<0||7<u)throw"unused bits shall be from 0 to 7: u = "+u;var S="0"+u;this.hTLV=null,this.isModified=!0,this.hV=S+c},this.setByBinaryString=function(u){var c=8-(u=u.replace(/0+$/,"")).length%8;8==c&&(c=0);for(var S=0;S<=c;S++)u+="0";var A="";for(S=0;S<u.length-1;S+=8){var W=u.substr(S,8),ne=parseInt(W,2).toString(16);1==ne.length&&(ne="0"+ne),A+=ne}this.hTLV=null,this.isModified=!0,this.hV="0"+c+A},this.setByBooleanArray=function(u){for(var c="",S=0;S<u.length;S++)c+=1==u[S]?"1":"0";this.setByBinaryString(c)},this.newFalseArray=function(u){for(var c=new Array(u),S=0;S<u;S++)c[S]=!1;return c},this.getFreshValueHex=function(){return this.hV},void 0!==r&&("string"==typeof r&&r.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(r):void 0!==r.hex?this.setHexValueIncludingUnusedBits(r.hex):void 0!==r.bin?this.setByBinaryString(r.bin):void 0!==r.array&&this.setByBooleanArray(r.array))},b.lang.extend(_e.asn1.DERBitString,_e.asn1.ASN1Object),_e.asn1.DEROctetString=function(r){if(void 0!==r&&void 0!==r.obj){var i=_e.asn1.ASN1Util.newObject(r.obj);r.hex=i.getEncodedHex()}_e.asn1.DEROctetString.superclass.constructor.call(this,r),this.hT="04"},b.lang.extend(_e.asn1.DEROctetString,_e.asn1.DERAbstractString),_e.asn1.DERNull=function(){_e.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},b.lang.extend(_e.asn1.DERNull,_e.asn1.ASN1Object),_e.asn1.DERObjectIdentifier=function(r){_e.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(i){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueOidString=function(i){var u=function(S){var A=function(Ie){var ze=Ie.toString(16);return 1==ze.length&&(ze="0"+ze),ze},W=function(Ie){var ze="",st=parseInt(Ie,10).toString(2),_t=7-st.length%7;7==_t&&(_t=0);for(var vt="",de=0;de<_t;de++)vt+="0";for(st=vt+st,de=0;de<st.length-1;de+=7){var Oe=st.substr(de,7);de!=st.length-7&&(Oe="1"+Oe),ze+=A(parseInt(Oe,2))}return ze};try{if(!S.match(/^[0-9.]+$/))return null;var ne="",le=S.split("."),he=40*parseInt(le[0],10)+parseInt(le[1],10);ne+=A(he),le.splice(0,2);for(var be=0;be<le.length;be++)ne+=W(le[be]);return ne}catch{return null}}(i);if(null==u)throw new Error("malformed oid string: "+i);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=u},this.setValueName=function(i){var u=_e.asn1.x509.OID.name2oid(i);if(""===u)throw new Error("DERObjectIdentifier oidName undefined: "+i);this.setValueOidString(u)},this.setValueNameOrOid=function(i){i.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(i):this.setValueName(i)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(i){"string"==typeof i?this.setValueNameOrOid(i):void 0!==i.oid?this.setValueNameOrOid(i.oid):void 0!==i.name?this.setValueNameOrOid(i.name):void 0!==i.hex&&this.setValueHex(i.hex)},void 0!==r&&this.setByParam(r)},b.lang.extend(_e.asn1.DERObjectIdentifier,_e.asn1.ASN1Object),_e.asn1.DEREnumerated=function(r){_e.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(i){this.hTLV=null,this.isModified=!0,this.hV=_e.asn1.ASN1Util.bigIntToMinTwosComplementsHex(i)},this.setByInteger=function(i){var u=new m(String(i),10);this.setByBigInteger(u)},this.setValueHex=function(i){this.hV=i},this.getFreshValueHex=function(){return this.hV},void 0!==r&&(void 0!==r.int?this.setByInteger(r.int):"number"==typeof r?this.setByInteger(r):void 0!==r.hex&&this.setValueHex(r.hex))},b.lang.extend(_e.asn1.DEREnumerated,_e.asn1.ASN1Object),_e.asn1.DERUTF8String=function(r){_e.asn1.DERUTF8String.superclass.constructor.call(this,r),this.hT="0c"},b.lang.extend(_e.asn1.DERUTF8String,_e.asn1.DERAbstractString),_e.asn1.DERNumericString=function(r){_e.asn1.DERNumericString.superclass.constructor.call(this,r),this.hT="12"},b.lang.extend(_e.asn1.DERNumericString,_e.asn1.DERAbstractString),_e.asn1.DERPrintableString=function(r){_e.asn1.DERPrintableString.superclass.constructor.call(this,r),this.hT="13"},b.lang.extend(_e.asn1.DERPrintableString,_e.asn1.DERAbstractString),_e.asn1.DERTeletexString=function(r){_e.asn1.DERTeletexString.superclass.constructor.call(this,r),this.hT="14"},b.lang.extend(_e.asn1.DERTeletexString,_e.asn1.DERAbstractString),_e.asn1.DERIA5String=function(r){_e.asn1.DERIA5String.superclass.constructor.call(this,r),this.hT="16"},b.lang.extend(_e.asn1.DERIA5String,_e.asn1.DERAbstractString),_e.asn1.DERVisibleString=function(r){_e.asn1.DERIA5String.superclass.constructor.call(this,r),this.hT="1a"},b.lang.extend(_e.asn1.DERVisibleString,_e.asn1.DERAbstractString),_e.asn1.DERBMPString=function(r){_e.asn1.DERBMPString.superclass.constructor.call(this,r),this.hT="1e"},b.lang.extend(_e.asn1.DERBMPString,_e.asn1.DERAbstractString),_e.asn1.DERUTCTime=function(r){_e.asn1.DERUTCTime.superclass.constructor.call(this,r),this.hT="17",this.setByDate=function(i){this.hTLV=null,this.isModified=!0,this.date=i,this.s=this.formatDate(this.date,"utc"),this.hV=Ht(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Ht(this.s)),this.hV},void 0!==r&&(void 0!==r.str?this.setString(r.str):"string"==typeof r&&r.match(/^[0-9]{12}Z$/)?this.setString(r):void 0!==r.hex?this.setStringHex(r.hex):void 0!==r.date&&this.setByDate(r.date))},b.lang.extend(_e.asn1.DERUTCTime,_e.asn1.DERAbstractTime),_e.asn1.DERGeneralizedTime=function(r){_e.asn1.DERGeneralizedTime.superclass.constructor.call(this,r),this.hT="18",this.withMillis=!1,this.setByDate=function(i){this.hTLV=null,this.isModified=!0,this.date=i,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ht(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ht(this.s)),this.hV},void 0!==r&&(void 0!==r.str?this.setString(r.str):"string"==typeof r&&r.match(/^[0-9]{14}Z$/)?this.setString(r):void 0!==r.hex?this.setStringHex(r.hex):void 0!==r.date&&this.setByDate(r.date),!0===r.millis&&(this.withMillis=!0))},b.lang.extend(_e.asn1.DERGeneralizedTime,_e.asn1.DERAbstractTime),_e.asn1.DERSequence=function(r){_e.asn1.DERSequence.superclass.constructor.call(this,r),this.hT="30",this.getFreshValueHex=function(){for(var i="",u=0;u<this.asn1Array.length;u++)i+=this.asn1Array[u].getEncodedHex();return this.hV=i,this.hV}},b.lang.extend(_e.asn1.DERSequence,_e.asn1.DERAbstractStructured),_e.asn1.DERSet=function(r){_e.asn1.DERSet.superclass.constructor.call(this,r),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var i=new Array,u=0;u<this.asn1Array.length;u++)i.push(this.asn1Array[u].getEncodedHex());return 1==this.sortFlag&&i.sort(),this.hV=i.join(""),this.hV},void 0!==r&&void 0!==r.sortflag&&0==r.sortflag&&(this.sortFlag=!1)},b.lang.extend(_e.asn1.DERSet,_e.asn1.DERAbstractStructured),_e.asn1.DERTaggedObject=function(r){_e.asn1.DERTaggedObject.superclass.constructor.call(this);var i=_e.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(u,c,S){this.hT=c,this.isExplicit=u,this.asn1Object=S,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=S.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,c),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(u){null!=u.tag&&(this.hT=u.tag),null!=u.explicit&&(this.isExplicit=u.explicit),null!=u.tage&&(this.hT=u.tage,this.isExplicit=!0),null!=u.tagi&&(this.hT=u.tagi,this.isExplicit=!1),null!=u.obj&&(u.obj instanceof i.ASN1Object?(this.asn1Object=u.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==d(u.obj)&&(this.asn1Object=i.ASN1Util.newObject(u.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=r&&this.setByParam(r)},b.lang.extend(_e.asn1.DERTaggedObject,_e.asn1.ASN1Object);var _e,ki,ci,gn=new function(){};function cs(r){for(var i=new Array,u=0;u<r.length;u++)i[u]=r.charCodeAt(u);return i}function Cr(r){for(var i="",u=0;u<r.length;u++)i+=String.fromCharCode(r[u]);return i}function wr(r){for(var i="",u=0;u<r.length;u++){var c=r[u].toString(16);1==c.length&&(c="0"+c),i+=c}return i}function Ht(r){return wr(cs(r))}function Ut(r){return(r=(r=r.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function re(r){return r.length%4==2?r+="==":r.length%4==3&&(r+="="),(r=r.replace(/-/g,"+")).replace(/_/g,"/")}function Se(r){return r.length%2==1&&(r="0"+r),Ut(ke(r))}function rt(r){return Ye(re(r))}function yt(r){return Ar(Zr(r))}function pt(r){return decodeURIComponent(Zi(r))}function mt(r){for(var i="",u=0;u<r.length-1;u+=2)i+=String.fromCharCode(parseInt(r.substr(u,2),16));return i}function Kt(r){for(var i="",u=0;u<r.length;u++)i+=("0"+r.charCodeAt(u).toString(16)).slice(-2);return i}function Un(r){return ke(r)}function jn(r){return Un(r).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Qt(r){return Ye(r.replace(/[^0-9A-Za-z\/+=]*/g,""))}function dn(r,i){return"-----BEGIN "+i+"-----\r\n"+jn(r)+"\r\n-----END "+i+"-----\r\n"}function Mn(r,i){if(-1==r.indexOf("-----BEGIN "))throw"can't find PEM header: "+i;return Qt(r=void 0!==i?(r=r.replace(new RegExp("^[^]*-----BEGIN "+i+"-----"),"")).replace(new RegExp("-----END "+i+"-----[^]*$"),""):(r=r.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function si(r){var i,u,c,S,A,W,ne,le,he,be,ve;if(ve=r.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return le=ve[1],i=parseInt(le),2===le.length&&(50<=i&&i<100?i=1900+i:0<=i&&i<50&&(i=2e3+i)),u=parseInt(ve[2])-1,c=parseInt(ve[3]),S=parseInt(ve[4]),A=parseInt(ve[5]),W=parseInt(ve[6]),ne=0,""!==(he=ve[7])&&(be=(he.substr(1)+"00").substr(0,3),ne=parseInt(be)),Date.UTC(i,u,c,S,A,W,ne);throw"unsupported zulu format: "+r}function Vi(r){return~~(si(r)/1e3)}function Ar(r){return r.replace(/%/g,"")}function Zi(r){return r.replace(/(..)/g,"%$1")}function oi(r){var i="malformed IPv6 address";if(!r.match(/^[0-9A-Fa-f:]+$/))throw i;var u=(r=r.toLowerCase()).split(":").length-1;if(u<2)throw i;var c=":".repeat(7-u+2),S=(r=r.replace("::",c)).split(":");if(8!=S.length)throw i;for(var A=0;A<8;A++)S[A]=("0000"+S[A]).slice(-4);return S.join("")}function Wr(r){if(!r.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var i=(r=r.toLowerCase()).match(/.{1,4}/g),u=0;u<8;u++)i[u]=i[u].replace(/^0+/,""),""==i[u]&&(i[u]="0");var c=(r=":"+i.join(":")+":").match(/:(0:){2,}/g);if(null===c)return r.slice(1,-1);var S="";for(u=0;u<c.length;u++)c[u].length>S.length&&(S=c[u]);return(r=r.replace(S,"::")).slice(1,-1)}function us(r){var i="malformed hex value";if(!r.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw i;if(8!=r.length)return 32==r.length?Wr(r):r;try{return parseInt(r.substr(0,2),16)+"."+parseInt(r.substr(2,2),16)+"."+parseInt(r.substr(4,2),16)+"."+parseInt(r.substr(6,2),16)}catch{throw i}}function Zr(r){for(var i=encodeURIComponent(r),u="",c=0;c<i.length;c++)"%"==i[c]?(u+=i.substr(c,3),c+=2):u=u+"%"+Ht(i[c]);return u}function ys(r){return!(r.length%2!=0||!r.match(/^[0-9a-f]+$/)&&!r.match(/^[0-9A-F]+$/))}function hs(r){return r.length%2==1?"0"+r:r.substr(0,1)>"7"?"00"+r:r}gn.getLblen=function(r,i){if("8"!=r.substr(i+2,1))return 1;var u=parseInt(r.substr(i+3,1));return 0==u?-1:0<u&&u<10?u+1:-2},gn.getL=function(r,i){var u=gn.getLblen(r,i);return u<1?"":r.substr(i+2,2*u)},gn.getVblen=function(r,i){var u;return""==(u=gn.getL(r,i))?-1:("8"===u.substr(0,1)?new m(u.substr(2),16):new m(u,16)).intValue()},gn.getVidx=function(r,i){var u=gn.getLblen(r,i);return u<0?u:i+2*(u+1)},gn.getV=function(r,i){var u=gn.getVidx(r,i),c=gn.getVblen(r,i);return r.substr(u,2*c)},gn.getTLV=function(r,i){return r.substr(i,2)+gn.getL(r,i)+gn.getV(r,i)},gn.getTLVblen=function(r,i){return 2+2*gn.getLblen(r,i)+2*gn.getVblen(r,i)},gn.getNextSiblingIdx=function(r,i){return gn.getVidx(r,i)+2*gn.getVblen(r,i)},gn.getChildIdx=function(r,i){var u,c,S,A=gn,W=[];u=A.getVidx(r,i),c=2*A.getVblen(r,i),"03"==r.substr(i,2)&&(u+=2,c-=2),S=0;for(var ne=u;S<=c;){var le=A.getTLVblen(r,ne);if((S+=le)<=c&&W.push(ne),ne+=le,S>=c)break}return W},gn.getNthChildIdx=function(r,i,u){return gn.getChildIdx(r,i)[u]},gn.getIdxbyList=function(r,i,u,c){var S,A,W=gn;return 0==u.length?void 0!==c&&r.substr(i,2)!==c?-1:i:(S=u.shift())>=(A=W.getChildIdx(r,i)).length?-1:W.getIdxbyList(r,A[S],u,c)},gn.getIdxbyListEx=function(r,i,u,c){var S,A,W=gn;if(0==u.length)return void 0!==c&&r.substr(i,2)!==c?-1:i;S=u.shift(),A=W.getChildIdx(r,i);for(var ne=0,le=0;le<A.length;le++){var he=r.substr(A[le],2);if("number"==typeof S&&!W.isContextTag(he)&&ne==S||"string"==typeof S&&W.isContextTag(he,S))return W.getIdxbyListEx(r,A[le],u,c);W.isContextTag(he)||ne++}return-1},gn.getTLVbyList=function(r,i,u,c){var S=gn,A=S.getIdxbyList(r,i,u,c);return-1==A||A>=r.length?null:S.getTLV(r,A)},gn.getTLVbyListEx=function(r,i,u,c){var S=gn,A=S.getIdxbyListEx(r,i,u,c);return-1==A?null:S.getTLV(r,A)},gn.getVbyList=function(r,i,u,c,S){var A,W,ne=gn;return-1==(A=ne.getIdxbyList(r,i,u,c))||A>=r.length?null:(W=ne.getV(r,A),!0===S&&(W=W.substr(2)),W)},gn.getVbyListEx=function(r,i,u,c,S){var A,W,ne=gn;return-1==(A=ne.getIdxbyListEx(r,i,u,c))?null:(W=ne.getV(r,A),"03"==r.substr(A,2)&&!1!==S&&(W=W.substr(2)),W)},gn.getInt=function(r,i,u){null==u&&(u=-1);try{var c=r.substr(i,2);if("02"!=c&&"03"!=c)return u;var S=gn.getV(r,i);return"02"==c?parseInt(S,16):function(W){try{var ne=W.substr(0,2);if("00"==ne)return parseInt(W.substr(2),16);var le=parseInt(ne,16),he=W.substr(2),be=parseInt(he,16).toString(2);return"0"==be&&(be="00000000"),be=be.slice(0,0-le),parseInt(be,2)}catch{return-1}}(S)}catch{return u}},gn.getOID=function(r,i,u){null==u&&(u=null);try{return"06"!=r.substr(i,2)?u:function(S){if(!ys(S))return null;try{var A=[],W=S.substr(0,2),ne=parseInt(W,16);A[0]=new String(Math.floor(ne/40)),A[1]=new String(ne%40);for(var le=S.substr(2),he=[],be=0;be<le.length/2;be++)he.push(parseInt(le.substr(2*be,2),16));var ve=[],Ie="";for(be=0;be<he.length;be++)128&he[be]?Ie+=Hs((127&he[be]).toString(2),7):(Ie+=Hs((127&he[be]).toString(2),7),ve.push(new String(parseInt(Ie,2))),Ie="");var ze=A.join(".");return ve.length>0&&(ze=ze+"."+ve.join(".")),ze}catch{return null}}(gn.getV(r,i))}catch{return u}},gn.getOIDName=function(r,i,u){null==u&&(u=null);try{var c=gn.getOID(r,i,u);if(c==u)return u;var S=_e.asn1.x509.OID.oid2name(c);return""==S?c:S}catch{return u}},gn.getString=function(r,i,u){null==u&&(u=null);try{return mt(gn.getV(r,i))}catch{return u}},gn.hextooidstr=function(r){var i=function(Ie,ze){return Ie.length>=ze?Ie:new Array(ze-Ie.length+1).join("0")+Ie},u=[],c=r.substr(0,2),S=parseInt(c,16);u[0]=new String(Math.floor(S/40)),u[1]=new String(S%40);for(var A=r.substr(2),W=[],ne=0;ne<A.length/2;ne++)W.push(parseInt(A.substr(2*ne,2),16));var le=[],he="";for(ne=0;ne<W.length;ne++)128&W[ne]?he+=i((127&W[ne]).toString(2),7):(he+=i((127&W[ne]).toString(2),7),le.push(new String(parseInt(he,2))),he="");var be=u.join(".");return le.length>0&&(be=be+"."+le.join(".")),be},gn.dump=function(r,i,u,c){var S=gn,A=S.getV,W=S.dump,ne=S.getChildIdx,le=r;r instanceof _e.asn1.ASN1Object&&(le=r.getEncodedHex());var he=function(Be,Mt){return Be.length<=2*Mt?Be:Be.substr(0,Mt)+"..(total "+Be.length/2+"bytes).."+Be.substr(Be.length-Mt,Mt)};void 0===i&&(i={ommit_long_octet:32}),void 0===u&&(u=0),void 0===c&&(c="");var be,ve=i.ommit_long_octet;if("01"==(be=le.substr(u,2)))return"00"==(Ie=A(le,u))?c+"BOOLEAN FALSE\n":c+"BOOLEAN TRUE\n";if("02"==be)return c+"INTEGER "+he(Ie=A(le,u),ve)+"\n";if("03"==be){var Ie=A(le,u);return S.isASN1HEX(Ie.substr(2))?(ze=c+"BITSTRING, encapsulates\n")+W(Ie.substr(2),i,0,c+"  "):c+"BITSTRING "+he(Ie,ve)+"\n"}if("04"==be)return Ie=A(le,u),S.isASN1HEX(Ie)?(ze=c+"OCTETSTRING, encapsulates\n",ze+=W(Ie,i,0,c+"  ")):c+"OCTETSTRING "+he(Ie,ve)+"\n";if("05"==be)return c+"NULL\n";if("06"==be){var st=A(le,u),_t=_e.asn1.ASN1Util.oidHexToInt(st),vt=_e.asn1.x509.OID.oid2name(_t),de=_t.replace(/\./g," ");return""!=vt?c+"ObjectIdentifier "+vt+" ("+de+")\n":c+"ObjectIdentifier ("+de+")\n"}if("0a"==be)return c+"ENUMERATED "+parseInt(A(le,u))+"\n";if("0c"==be)return c+"UTF8String '"+pt(A(le,u))+"'\n";if("13"==be)return c+"PrintableString '"+pt(A(le,u))+"'\n";if("14"==be)return c+"TeletexString '"+pt(A(le,u))+"'\n";if("16"==be)return c+"IA5String '"+pt(A(le,u))+"'\n";if("17"==be)return c+"UTCTime "+pt(A(le,u))+"\n";if("18"==be)return c+"GeneralizedTime "+pt(A(le,u))+"\n";if("1a"==be)return c+"VisualString '"+pt(A(le,u))+"'\n";if("1e"==be)return c+"BMPString '"+pt(A(le,u))+"'\n";if("30"==be){if("3000"==le.substr(u,4))return c+"SEQUENCE {}\n";ze=c+"SEQUENCE\n";var Oe=i;if((2==(ee=ne(le,u)).length||3==ee.length)&&"06"==le.substr(ee[0],2)&&"04"==le.substr(ee[ee.length-1],2)){vt=S.oidname(A(le,ee[0]));var Re=JSON.parse(JSON.stringify(i));Re.x509ExtName=vt,Oe=Re}for(var je=0;je<ee.length;je++)ze+=W(le,Oe,ee[je],c+"  ");return ze}if("31"==be){ze=c+"SET\n";var ee=ne(le,u);for(je=0;je<ee.length;je++)ze+=W(le,i,ee[je],c+"  ");return ze}if(128&(be=parseInt(be,16))){var ze,Ae=31&be;if(32&be){for(ze=c+"["+Ae+"]\n",ee=ne(le,u),je=0;je<ee.length;je++)ze+=W(le,i,ee[je],c+"  ");return ze}return Ie=A(le,u),gn.isASN1HEX(Ie)?(ze=c+"["+Ae+"]\n")+W(Ie,i,0,c+"  "):(("68747470"==Ie.substr(0,8)||"subjectAltName"===i.x509ExtName&&2==Ae)&&(Ie=pt(Ie)),c+"["+Ae+"] "+Ie+"\n")}return c+"UNKNOWN("+be+") "+A(le,u)+"\n"},gn.isContextTag=function(r,i){var u,c;r=r.toLowerCase();try{u=parseInt(r,16)}catch{return-1}if(void 0===i)return 128==(192&u);try{return null!=i.match(/^\[[0-9]+\]$/)&&!((c=parseInt(i.substr(1,i.length-1),10))>31)&&128==(192&u)&&(31&u)==c}catch{return!1}},gn.isASN1HEX=function(r){var i=gn;if(r.length%2==1)return!1;var u=i.getVblen(r,0),c=r.substr(0,2),S=i.getL(r,0);return r.length-c.length-S.length==2*u},gn.checkStrictDER=function(r,i,u,c,S){var A=gn;if(void 0===u){if("string"!=typeof r)throw new Error("not hex string");if(r=r.toLowerCase(),!_e.lang.String.isHex(r))throw new Error("not hex string");u=r.length,S=(c=r.length/2)<128?1:Math.ceil(c.toString(16))+1}if(A.getL(r,i).length>2*S)throw new Error("L of TLV too long: idx="+i);var W=A.getVblen(r,i);if(W>c)throw new Error("value of L too long than hex: idx="+i);var ne=A.getTLV(r,i),le=ne.length-2-A.getL(r,i).length;if(le!==2*W)throw new Error("V string length and L's value not the same:"+le+"/"+2*W);if(0===i&&r.length!=ne.length)throw new Error("total length and TLV length unmatch:"+r.length+"!="+ne.length);var he=r.substr(i,2);if("02"===he){var be=A.getVidx(r,i);if("00"==r.substr(be,2)&&r.charCodeAt(be+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(he,16)){for(var ve=A.getVblen(r,i),Ie=0,ze=A.getChildIdx(r,i),st=0;st<ze.length;st++)Ie+=A.getTLV(r,ze[st]).length,A.checkStrictDER(r,ze[st],u,c,S);if(2*ve!=Ie)throw new Error("sum of children's TLV length and L unmatch: "+2*ve+"!="+Ie)}},gn.oidname=function(r){var i=_e.asn1;_e.lang.String.isHex(r)&&(r=i.ASN1Util.oidHexToInt(r));var u=i.x509.OID.oid2name(r);return""===u&&(u=r),u},void 0!==_e&&_e||(p.KJUR=_e={}),void 0!==_e.lang&&_e.lang||(_e.lang={}),_e.lang.String=function(){},"function"==typeof f?(p.utf8tob64u=ki=function(i){return Ut(f.from(i,"utf8").toString("base64"))},p.b64utoutf8=ci=function(i){return f.from(re(i),"base64").toString("utf8")}):(p.utf8tob64u=ki=function(i){return Se(Ar(Zr(i)))},p.b64utoutf8=ci=function(i){return decodeURIComponent(Zi(rt(i)))}),_e.lang.String.isInteger=function(r){return!!r.match(/^[0-9]+$/)||!!r.match(/^-[0-9]+$/)},_e.lang.String.isHex=function(r){return ys(r)},_e.lang.String.isBase64=function(r){return!(!(r=r.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||r.length%4!=0)},_e.lang.String.isBase64URL=function(r){return!r.match(/[+/=]/)&&(r=re(r),_e.lang.String.isBase64(r))},_e.lang.String.isIntegerArray=function(r){return!!(r=r.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},_e.lang.String.isPrintable=function(r){return null!==r.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},_e.lang.String.isIA5=function(r){return null!==r.match(/^[\x20-\x21\x23-\x7f]*$/)},_e.lang.String.isMail=function(r){return null!==r.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Hs=function(i,u,c){return null==c&&(c="0"),i.length>=u?i:new Array(u-i.length+1).join(c)+i};void 0!==_e&&_e||(p.KJUR=_e={}),void 0!==_e.crypto&&_e.crypto||(_e.crypto={}),_e.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:Ee.algo.MD5,sha1:Ee.algo.SHA1,sha224:Ee.algo.SHA224,sha256:Ee.algo.SHA256,sha384:Ee.algo.SHA384,sha512:Ee.algo.SHA512,ripemd160:Ee.algo.RIPEMD160},this.getDigestInfoHex=function(r,i){if(void 0===this.DIGESTINFOHEAD[i])throw"alg not supported in Util.DIGESTINFOHEAD: "+i;return this.DIGESTINFOHEAD[i]+r},this.getPaddedDigestInfoHex=function(r,i,u){var c=this.getDigestInfoHex(r,i),S=u/4;if(c.length+22>S)throw"key is too short for SigAlg: keylen="+u+","+i;for(var A="0001",W="00"+c,ne="",le=S-4-W.length,he=0;he<le;he+=2)ne+="ff";return A+ne+W},this.hashString=function(r,i){return new _e.crypto.MessageDigest({alg:i}).digestString(r)},this.hashHex=function(r,i){return new _e.crypto.MessageDigest({alg:i}).digestHex(r)},this.sha1=function(r){return this.hashString(r,"sha1")},this.sha256=function(r){return this.hashString(r,"sha256")},this.sha256Hex=function(r){return this.hashHex(r,"sha256")},this.sha512=function(r){return this.hashString(r,"sha512")},this.sha512Hex=function(r){return this.hashHex(r,"sha512")},this.isKey=function(r){return r instanceof dt||r instanceof _e.crypto.DSA||r instanceof _e.crypto.ECDSA}},_e.crypto.Util.md5=function(r){return new _e.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(r)},_e.crypto.Util.ripemd160=function(r){return new _e.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(r)},_e.crypto.Util.SECURERANDOMGEN=new pn,_e.crypto.Util.getRandomHexOfNbytes=function(r){var i=new Array(r);return _e.crypto.Util.SECURERANDOMGEN.nextBytes(i),wr(i)},_e.crypto.Util.getRandomBigIntegerOfNbytes=function(r){return new m(_e.crypto.Util.getRandomHexOfNbytes(r),16)},_e.crypto.Util.getRandomHexOfNbits=function(r){var i=r%8,u=new Array((r-i)/8+1);return _e.crypto.Util.SECURERANDOMGEN.nextBytes(u),u[0]=(255<<i&255^255)&u[0],wr(u)},_e.crypto.Util.getRandomBigIntegerOfNbits=function(r){return new m(_e.crypto.Util.getRandomHexOfNbits(r),16)},_e.crypto.Util.getRandomBigIntegerZeroToMax=function(r){for(var i=r.bitLength();;){var u=_e.crypto.Util.getRandomBigIntegerOfNbits(i);if(-1!=r.compareTo(u))return u}},_e.crypto.Util.getRandomBigIntegerMinToMax=function(r,i){var u=r.compareTo(i);if(1==u)throw"biMin is greater than biMax";if(0==u)return r;var c=i.subtract(r);return _e.crypto.Util.getRandomBigIntegerZeroToMax(c).add(r)},_e.crypto.MessageDigest=function(r){this.setAlgAndProvider=function(i,u){if(null!==(i=_e.crypto.MessageDigest.getCanonicalAlgName(i))&&void 0===u&&(u=_e.crypto.Util.DEFAULTPROVIDER[i]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(i)&&"cryptojs"==u){try{this.md=_e.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[i].create()}catch(c){throw"setAlgAndProvider hash alg set fail alg="+i+"/"+c}this.updateString=function(c){this.md.update(c)},this.updateHex=function(c){var S=Ee.enc.Hex.parse(c);this.md.update(S)},this.digest=function(){return this.md.finalize().toString(Ee.enc.Hex)},this.digestString=function(c){return this.updateString(c),this.digest()},this.digestHex=function(c){return this.updateHex(c),this.digest()}}if(-1!=":sha256:".indexOf(i)&&"sjcl"==u){try{this.md=new sjcl.hash.sha256}catch(c){throw"setAlgAndProvider hash alg set fail alg="+i+"/"+c}this.updateString=function(c){this.md.update(c)},this.updateHex=function(c){var S=sjcl.codec.hex.toBits(c);this.md.update(S)},this.digest=function(){var c=this.md.finalize();return sjcl.codec.hex.fromBits(c)},this.digestString=function(c){return this.updateString(c),this.digest()},this.digestHex=function(c){return this.updateHex(c),this.digest()}}},this.updateString=function(i){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(i){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(i){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(i){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==r&&void 0!==r.alg&&(this.algName=r.alg,void 0===r.prov&&(this.provName=_e.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},_e.crypto.MessageDigest.getCanonicalAlgName=function(r){return"string"==typeof r&&(r=(r=r.toLowerCase()).replace(/-/,"")),r},_e.crypto.MessageDigest.getHashLength=function(r){var i=_e.crypto.MessageDigest,u=i.getCanonicalAlgName(r);if(void 0===i.HASHLENGTH[u])throw"not supported algorithm: "+r;return i.HASHLENGTH[u]},_e.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},_e.crypto.Mac=function(r){this.setAlgAndProvider=function(i,u){if(null==(i=i.toLowerCase())&&(i="hmacsha1"),"hmac"!=(i=i.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+i;void 0===u&&(u=_e.crypto.Util.DEFAULTPROVIDER[i]),this.algProv=i+"/"+u;var c=i.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(c)&&"cryptojs"==u){try{this.mac=Ee.algo.HMAC.create(_e.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[c],this.pass)}catch(A){throw"setAlgAndProvider hash alg set fail hashAlg="+c+"/"+A}this.updateString=function(A){this.mac.update(A)},this.updateHex=function(A){var W=Ee.enc.Hex.parse(A);this.mac.update(W)},this.doFinal=function(){return this.mac.finalize().toString(Ee.enc.Hex)},this.doFinalString=function(A){return this.updateString(A),this.doFinal()},this.doFinalHex=function(A){return this.updateHex(A),this.doFinal()}}},this.updateString=function(i){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(i){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(i){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(i){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(i){if("string"==typeof i){var u=i;return i.length%2!=1&&i.match(/^[0-9A-Fa-f]+$/)||(u=Kt(i)),void(this.pass=Ee.enc.Hex.parse(u))}if("object"!=(void 0===i?"undefined":d(i)))throw"KJUR.crypto.Mac unsupported password type: "+i;if(u=null,void 0!==i.hex){if(i.hex.length%2!=0||!i.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+i.hex;u=i.hex}if(void 0!==i.utf8&&(u=yt(i.utf8)),void 0!==i.rstr&&(u=Kt(i.rstr)),void 0!==i.b64&&(u=Ye(i.b64)),void 0!==i.b64u&&(u=rt(i.b64u)),null==u)throw"KJUR.crypto.Mac unsupported password type: "+i;this.pass=Ee.enc.Hex.parse(u)},void 0!==r&&(void 0!==r.pass&&this.setPassword(r.pass),void 0!==r.alg&&(this.algName=r.alg,void 0===r.prov&&(this.provName=_e.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},_e.crypto.Signature=function(r){var i=null;if(this._setAlgNames=function(){var u=this.algName.match(/^(.+)with(.+)$/);u&&(this.mdAlgName=u[1].toLowerCase(),this.pubkeyAlgName=u[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(u,c){for(var S="",A=c/4-u.length,W=0;W<A;W++)S+="0";return S+u},this.setAlgAndProvider=function(u,c){if(this._setAlgNames(),"cryptojs/jsrsa"!=c)throw new Error("provider not supported: "+c);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new _e.crypto.MessageDigest({alg:this.mdAlgName})}catch(S){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+S)}this.init=function(S,A){var W=null;try{W=void 0===A?ur.getKey(S):ur.getKey(S,A)}catch(ne){throw"init failed:"+ne}if(!0===W.isPrivate)this.prvKey=W,this.state="SIGN";else{if(!0!==W.isPublic)throw"init failed.:"+W;this.pubKey=W,this.state="VERIFY"}},this.updateString=function(S){this.md.updateString(S)},this.updateHex=function(S){this.md.updateHex(S)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==_e.crypto.ECDSA&&(this.prvKey=new _e.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof dt&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof dt&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof _e.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof _e.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(S){return this.updateString(S),this.sign()},this.signHex=function(S){return this.updateHex(S),this.sign()},this.verify=function(S){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==_e.crypto.ECDSA&&(this.pubKey=new _e.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof dt&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,S,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof dt&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,S);if(void 0!==_e.crypto.ECDSA&&this.pubKey instanceof _e.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,S);if(void 0!==_e.crypto.DSA&&this.pubKey instanceof _e.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,S);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(u,c){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(u){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(u){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(u){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(u){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(u){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=r,void 0!==r&&(void 0!==r.alg&&(this.algName=r.alg,this.provName=void 0===r.prov?_e.crypto.Util.DEFAULTPROVIDER[this.algName]:r.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==r.psssaltlen&&(this.pssSaltLen=r.psssaltlen),void 0!==r.prvkeypem)){if(void 0!==r.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{i=ur.getKey(r.prvkeypem),this.init(i)}catch(u){throw"fatal error to load pem private key: "+u}}},_e.crypto.Cipher=function(r){},_e.crypto.Cipher.encrypt=function(r,i,u){if(i instanceof dt&&i.isPublic){var c=_e.crypto.Cipher.getAlgByKeyAndName(i,u);if("RSA"===c)return i.encrypt(r);if("RSAOAEP"===c)return i.encryptOAEP(r,"sha1");var S=c.match(/^RSAOAEP(\d+)$/);if(null!==S)return i.encryptOAEP(r,"sha"+S[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+u}throw"Cipher.encrypt: unsupported key or algorithm"},_e.crypto.Cipher.decrypt=function(r,i,u){if(i instanceof dt&&i.isPrivate){var c=_e.crypto.Cipher.getAlgByKeyAndName(i,u);if("RSA"===c)return i.decrypt(r);if("RSAOAEP"===c)return i.decryptOAEP(r,"sha1");var S=c.match(/^RSAOAEP(\d+)$/);if(null!==S)return i.decryptOAEP(r,"sha"+S[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+u}throw"Cipher.decrypt: unsupported key or algorithm"},_e.crypto.Cipher.getAlgByKeyAndName=function(r,i){if(r instanceof dt){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(i))return i;if(null==i)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+i}throw"getAlgByKeyAndName: not supported algorithm name: "+i},_e.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==_e&&_e||(p.KJUR=_e={}),void 0!==_e.crypto&&_e.crypto||(_e.crypto={}),_e.crypto.ECDSA=function(r){var i=Error,u=m,c=on,S=_e.crypto.ECDSA,A=_e.crypto.ECParameterDB,W=S.getName,le=gn.getVbyListEx,he=gn.isASN1HEX,be=new pn;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(ve){return new u(ve.bitLength(),be).mod(ve.subtract(u.ONE)).add(u.ONE)},this.setNamedCurve=function(ve){this.ecparams=A.getByName(ve),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=ve},this.setPrivateKeyHex=function(ve){this.isPrivate=!0,this.prvKeyHex=ve},this.setPublicKeyHex=function(ve){this.isPublic=!0,this.pubKeyHex=ve},this.getPublicKeyXYHex=function(){var ve=this.pubKeyHex;if("04"!==ve.substr(0,2))throw"this method supports uncompressed format(04) only";var Ie=this.ecparams.keylen/4;if(ve.length!==2+2*Ie)throw"malformed public key hex length";var ze={};return ze.x=ve.substr(2,Ie),ze.y=ve.substr(2+Ie),ze},this.getShortNISTPCurveName=function(){var ve=this.curveName;return"secp256r1"===ve||"NIST P-256"===ve||"P-256"===ve||"prime256v1"===ve?"P-256":"secp384r1"===ve||"NIST P-384"===ve||"P-384"===ve?"P-384":null},this.generateKeyPairHex=function(){var Ie=this.getBigRandom(this.ecparams.n),ze=this.ecparams.G.multiply(Ie),st=ze.getX().toBigInteger(),_t=ze.getY().toBigInteger(),vt=this.ecparams.keylen/4,de=("0000000000"+Ie.toString(16)).slice(-vt),Oe="04"+("0000000000"+st.toString(16)).slice(-vt)+("0000000000"+_t.toString(16)).slice(-vt);return this.setPrivateKeyHex(de),this.setPublicKeyHex(Oe),{ecprvhex:de,ecpubhex:Oe}},this.signWithMessageHash=function(ve){return this.signHex(ve,this.prvKeyHex)},this.signHex=function(ve,Ie){var ze=new u(Ie,16),st=this.ecparams.n,_t=new u(ve.substring(0,this.ecparams.keylen/4),16);do{var vt=this.getBigRandom(st),de=this.ecparams.G.multiply(vt).getX().toBigInteger().mod(st)}while(de.compareTo(u.ZERO)<=0);var Oe=vt.modInverse(st).multiply(_t.add(ze.multiply(de))).mod(st);return S.biRSSigToASN1Sig(de,Oe)},this.sign=function(ve,Ie){var ze=Ie,st=this.ecparams.n,_t=u.fromByteArrayUnsigned(ve);do{var vt=this.getBigRandom(st),de=this.ecparams.G.multiply(vt).getX().toBigInteger().mod(st)}while(de.compareTo(m.ZERO)<=0);var Oe=vt.modInverse(st).multiply(_t.add(ze.multiply(de))).mod(st);return this.serializeSig(de,Oe)},this.verifyWithMessageHash=function(ve,Ie){return this.verifyHex(ve,Ie,this.pubKeyHex)},this.verifyHex=function(ve,Ie,ze){try{var st,_t,vt=S.parseSigHex(Ie);st=vt.r,_t=vt.s;var de=c.decodeFromHex(this.ecparams.curve,ze),Oe=new u(ve.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(Oe,st,_t,de)}catch{return!1}},this.verify=function(ve,Ie,ze){var st,_t,vt;if(Bitcoin.Util.isArray(Ie)){var de=this.parseSig(Ie);st=de.r,_t=de.s}else{if("object"!==(void 0===Ie?"undefined":d(Ie))||!Ie.r||!Ie.s)throw"Invalid value for signature";st=Ie.r,_t=Ie.s}if(ze instanceof on)vt=ze;else{if(!Bitcoin.Util.isArray(ze))throw"Invalid format for pubkey value, must be byte array or ECPointFp";vt=c.decodeFrom(this.ecparams.curve,ze)}var Oe=u.fromByteArrayUnsigned(ve);return this.verifyRaw(Oe,st,_t,vt)},this.verifyRaw=function(ve,Ie,ze,st){var _t=this.ecparams.n,vt=this.ecparams.G;if(Ie.compareTo(u.ONE)<0||Ie.compareTo(_t)>=0||ze.compareTo(u.ONE)<0||ze.compareTo(_t)>=0)return!1;var de=ze.modInverse(_t),Oe=ve.multiply(de).mod(_t),Re=Ie.multiply(de).mod(_t);return vt.multiply(Oe).add(st.multiply(Re)).getX().toBigInteger().mod(_t).equals(Ie)},this.serializeSig=function(ve,Ie){var ze=ve.toByteArraySigned(),st=Ie.toByteArraySigned(),_t=[];return _t.push(2),_t.push(ze.length),(_t=_t.concat(ze)).push(2),_t.push(st.length),(_t=_t.concat(st)).unshift(_t.length),_t.unshift(48),_t},this.parseSig=function(ve){var Ie;if(48!=ve[0])throw new Error("Signature not a valid DERSequence");if(2!=ve[Ie=2])throw new Error("First element in signature must be a DERInteger");var ze=ve.slice(Ie+2,Ie+2+ve[Ie+1]);if(2!=ve[Ie+=2+ve[Ie+1]])throw new Error("Second element in signature must be a DERInteger");var st=ve.slice(Ie+2,Ie+2+ve[Ie+1]);return Ie+=2+ve[Ie+1],{r:u.fromByteArrayUnsigned(ze),s:u.fromByteArrayUnsigned(st)}},this.parseSigCompact=function(ve){if(65!==ve.length)throw"Signature has the wrong length";var Ie=ve[0]-27;if(Ie<0||Ie>7)throw"Invalid signature type";var ze=this.ecparams.n;return{r:u.fromByteArrayUnsigned(ve.slice(1,33)).mod(ze),s:u.fromByteArrayUnsigned(ve.slice(33,65)).mod(ze),i:Ie}},this.readPKCS5PrvKeyHex=function(ve){if(!1===he(ve))throw new Error("not ASN.1 hex string");var Ie,ze,st;try{Ie=le(ve,0,["[0]",0],"06"),ze=le(ve,0,[1],"04");try{st=le(ve,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=W(Ie),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(ze),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(ve){if(!1===he(ve))throw new i("not ASN.1 hex string");var Ie,ze,st;try{le(ve,0,[1,0],"06"),Ie=le(ve,0,[1,1],"06"),ze=le(ve,0,[2,0,1],"04");try{st=le(ve,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new i("malformed PKCS#8 plain ECC private key")}if(this.curveName=W(Ie),void 0===this.curveName)throw new i("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(ze),this.isPublic=!1},this.readPKCS8PubKeyHex=function(ve){if(!1===he(ve))throw new i("not ASN.1 hex string");var Ie,ze;try{le(ve,0,[0,0],"06"),Ie=le(ve,0,[0,1],"06"),ze=le(ve,0,[1],"03")}catch{throw new i("malformed PKCS#8 ECC public key")}if(this.curveName=W(Ie),null===this.curveName)throw new i("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ze)},this.readCertPubKeyHex=function(ve,Ie){if(!1===he(ve))throw new i("not ASN.1 hex string");var ze,st;try{ze=le(ve,0,[0,5,0,1],"06"),st=le(ve,0,[0,5,1],"03")}catch{throw new i("malformed X.509 certificate ECC public key")}if(this.curveName=W(ze),null===this.curveName)throw new i("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st)},void 0!==r&&void 0!==r.curve&&(this.curveName=r.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==r&&(void 0!==r.prv&&this.setPrivateKeyHex(r.prv),void 0!==r.pub&&this.setPublicKeyHex(r.pub))},_e.crypto.ECDSA.parseSigHex=function(r){var i=_e.crypto.ECDSA.parseSigHexInHexRS(r);return{r:new m(i.r,16),s:new m(i.s,16)}},_e.crypto.ECDSA.parseSigHexInHexRS=function(r){var u=gn.getChildIdx,c=gn.getV;if(gn.checkStrictDER(r,0),"30"!=r.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var S=u(r,0);if(2!=S.length)throw new Error("signature shall have two elements");var A=S[0],W=S[1];if("02"!=r.substr(A,2))throw new Error("1st item not ASN.1 integer");if("02"!=r.substr(W,2))throw new Error("2nd item not ASN.1 integer");return{r:c(r,A),s:c(r,W)}},_e.crypto.ECDSA.asn1SigToConcatSig=function(r){var i=_e.crypto.ECDSA.parseSigHexInHexRS(r),u=i.r,c=i.s;if("00"==u.substr(0,2)&&u.length%32==2&&(u=u.substr(2)),"00"==c.substr(0,2)&&c.length%32==2&&(c=c.substr(2)),u.length%32==30&&(u="00"+u),c.length%32==30&&(c="00"+c),u.length%32!=0)throw"unknown ECDSA sig r length error";if(c.length%32!=0)throw"unknown ECDSA sig s length error";return u+c},_e.crypto.ECDSA.concatSigToASN1Sig=function(r){if(r.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var i=r.substr(0,r.length/2),u=r.substr(r.length/2);return _e.crypto.ECDSA.hexRSSigToASN1Sig(i,u)},_e.crypto.ECDSA.hexRSSigToASN1Sig=function(r,i){var u=new m(r,16),c=new m(i,16);return _e.crypto.ECDSA.biRSSigToASN1Sig(u,c)},_e.crypto.ECDSA.biRSSigToASN1Sig=function(r,i){var u=_e.asn1,c=new u.DERInteger({bigint:r}),S=new u.DERInteger({bigint:i});return new u.DERSequence({array:[c,S]}).getEncodedHex()},_e.crypto.ECDSA.getName=function(r){return"2b8104001f"===r?"secp192k1":"2a8648ce3d030107"===r?"secp256r1":"2b8104000a"===r?"secp256k1":"2b81040021"===r?"secp224r1":"2b81040022"===r?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(r)?"secp256r1":-1!=="|secp256k1|".indexOf(r)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(r)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(r)?"secp384r1":null},void 0!==_e&&_e||(p.KJUR=_e={}),void 0!==_e.crypto&&_e.crypto||(_e.crypto={}),_e.crypto.ECParameterDB=new function(){var r={},i={};function u(c){return new m(c,16)}this.getByName=function(c){var S=c;if(void 0!==i[S]&&(S=i[c]),void 0!==r[S])return r[S];throw"unregistered EC curve name: "+S},this.regist=function(c,S,A,W,ne,le,he,be,ve,Ie,ze,st){r[c]={};var _t=u(A),vt=u(W),de=u(ne),Oe=u(le),Re=u(he),je=new hn(_t,vt,de),ee=je.decodePointHex("04"+be+ve);r[c].name=c,r[c].keylen=S,r[c].curve=je,r[c].G=ee,r[c].n=Oe,r[c].h=Re,r[c].oid=ze,r[c].info=st;for(var Ae=0;Ae<Ie.length;Ae++)i[Ie[Ae]]=c}},_e.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),_e.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),_e.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),_e.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),_e.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),_e.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),_e.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),_e.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),_e.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),_e.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var ur=function(){var r=function(he,be,ve){return i(Ee.AES,he,be,ve)},i=function(he,be,ve,Ie){var ze=Ee.enc.Hex.parse(be),st=Ee.enc.Hex.parse(ve),_t=Ee.enc.Hex.parse(Ie),vt={};vt.key=st,vt.iv=_t,vt.ciphertext=ze;var de=he.decrypt(vt,st,{iv:_t});return Ee.enc.Hex.stringify(de)},u=function(he,be,ve){return c(Ee.AES,he,be,ve)},c=function(he,be,ve,Ie){var ze=Ee.enc.Hex.parse(be),st=Ee.enc.Hex.parse(ve),_t=Ee.enc.Hex.parse(Ie),vt=he.encrypt(ze,st,{iv:_t}),de=Ee.enc.Hex.parse(vt.toString());return Ee.enc.Base64.stringify(de)},S={"AES-256-CBC":{proc:r,eproc:u,keylen:32,ivlen:16},"AES-192-CBC":{proc:r,eproc:u,keylen:24,ivlen:16},"AES-128-CBC":{proc:r,eproc:u,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(he,be,ve){return i(Ee.TripleDES,he,be,ve)},eproc:function(he,be,ve){return c(Ee.TripleDES,he,be,ve)},keylen:24,ivlen:8},"DES-CBC":{proc:function(he,be,ve){return i(Ee.DES,he,be,ve)},eproc:function(he,be,ve){return c(Ee.DES,he,be,ve)},keylen:8,ivlen:8}},A=function(he){var be={},ve=he.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));ve&&(be.cipher=ve[1],be.ivsalt=ve[2]);var Ie=he.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));Ie&&(be.type=Ie[1]);var ze=-1,st=0;-1!=he.indexOf("\r\n\r\n")&&(ze=he.indexOf("\r\n\r\n"),st=2),-1!=he.indexOf("\n\n")&&(ze=he.indexOf("\n\n"),st=1);var _t=he.indexOf("-----END");if(-1!=ze&&-1!=_t){var vt=he.substring(ze+2*st,_t-st);vt=vt.replace(/\s+/g,""),be.data=vt}return be},W=function(he,be,ve){for(var Ie=ve.substring(0,16),ze=Ee.enc.Hex.parse(Ie),st=Ee.enc.Utf8.parse(be),_t=S[he].keylen+S[he].ivlen,vt="",de=null;;){var Oe=Ee.algo.MD5.create();if(null!=de&&Oe.update(de),Oe.update(st),Oe.update(ze),de=Oe.finalize(),(vt+=Ee.enc.Hex.stringify(de)).length>=2*_t)break}var Re={};return Re.keyhex=vt.substr(0,2*S[he].keylen),Re.ivhex=vt.substr(2*S[he].keylen,2*S[he].ivlen),Re},ne=function(he,be,ve,Ie){var ze=Ee.enc.Base64.parse(he),st=Ee.enc.Hex.stringify(ze);return(0,S[be].proc)(st,ve,Ie)};return{version:"1.0.0",parsePKCS5PEM:function(he){return A(he)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(he,be,ve){return W(he,be,ve)},decryptKeyB64:function(he,be,ve,Ie){return ne(he,be,ve,Ie)},getDecryptedKeyHex:function(he,be){var ve=A(he),Ie=ve.cipher,ze=ve.ivsalt,st=ve.data,_t=W(Ie,be,ze).keyhex;return ne(st,Ie,_t,ze)},getEncryptedPKCS5PEMFromPrvKeyHex:function(he,be,ve,Ie,ze){var de,Oe,st="";if(void 0!==Ie&&null!=Ie||(Ie="AES-256-CBC"),void 0===S[Ie])throw"KEYUTIL unsupported algorithm: "+Ie;void 0!==ze&&null!=ze||(ze=(de=S[Ie].ivlen,Oe=Ee.lib.WordArray.random(de),Ee.enc.Hex.stringify(Oe)).toUpperCase());var _t=function(de,Oe,Re,je){return(0,S[Oe].eproc)(de,Re,je)}(be,Ie,W(Ie,ve,ze).keyhex,ze);return st="-----BEGIN "+he+" PRIVATE KEY-----\r\n",st+="Proc-Type: 4,ENCRYPTED\r\n",st+="DEK-Info: "+Ie+","+ze+"\r\n",st+="\r\n",(st+=_t.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+he+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(he){var ve=gn.getChildIdx,Ie=gn.getV,ze={},st=ve(he,0);if(2!=st.length)throw"malformed format: SEQUENCE(0).items != 2: "+st.length;ze.ciphertext=Ie(he,st[1]);var _t=ve(he,st[0]);if(2!=_t.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+_t.length;if("2a864886f70d01050d"!=Ie(he,_t[0]))throw"this only supports pkcs5PBES2";var vt=ve(he,_t[1]);if(2!=_t.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+vt.length;var de=ve(he,vt[1]);if(2!=de.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+de.length;if("2a864886f70d0307"!=Ie(he,de[0]))throw"this only supports TripleDES";ze.encryptionSchemeAlg="TripleDES",ze.encryptionSchemeIV=Ie(he,de[1]);var Oe=ve(he,vt[0]);if(2!=Oe.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+Oe.length;if("2a864886f70d01050c"!=Ie(he,Oe[0]))throw"this only supports pkcs5PBKDF2";var Re=ve(he,Oe[1]);if(Re.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Re.length;ze.pbkdf2Salt=Ie(he,Re[0]);var je=Ie(he,Re[1]);try{ze.pbkdf2Iter=parseInt(je,16)}catch{throw"malformed format pbkdf2Iter: "+je}return ze},getPBKDF2KeyHexFromParam:function(he,be){var ve=Ee.enc.Hex.parse(he.pbkdf2Salt),ze=Ee.PBKDF2(be,ve,{keySize:6,iterations:he.pbkdf2Iter});return Ee.enc.Hex.stringify(ze)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(he,be){var ve=Mn(he,"ENCRYPTED PRIVATE KEY"),Ie=this.parseHexOfEncryptedPKCS8(ve),ze=ur.getPBKDF2KeyHexFromParam(Ie,be),st={};st.ciphertext=Ee.enc.Hex.parse(Ie.ciphertext);var _t=Ee.enc.Hex.parse(ze),vt=Ee.enc.Hex.parse(Ie.encryptionSchemeIV),de=Ee.TripleDES.decrypt(st,_t,{iv:vt});return Ee.enc.Hex.stringify(de)},getKeyFromEncryptedPKCS8PEM:function(he,be){var ve=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(he,be);return this.getKeyFromPlainPrivatePKCS8Hex(ve)},parsePlainPrivatePKCS8Hex:function(he){var be=gn,ve=be.getChildIdx,Ie=be.getV,ze={algparam:null};if("30"!=he.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var st=ve(he,0);if(3!=st.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=he.substr(st[1],2))throw"malformed PKCS8 private key(code:003)";var _t=ve(he,st[1]);if(2!=_t.length)throw"malformed PKCS8 private key(code:004)";if("06"!=he.substr(_t[0],2))throw"malformed PKCS8 private key(code:005)";if(ze.algoid=Ie(he,_t[0]),"06"==he.substr(_t[1],2)&&(ze.algparam=Ie(he,_t[1])),"04"!=he.substr(st[2],2))throw"malformed PKCS8 private key(code:006)";return ze.keyidx=be.getVidx(he,st[2]),ze},getKeyFromPlainPrivatePKCS8PEM:function(he){var be=Mn(he,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(be)},getKeyFromPlainPrivatePKCS8Hex:function(he){var be,ve=this.parsePlainPrivatePKCS8Hex(he);if("2a864886f70d010101"==ve.algoid)be=new dt;else if("2a8648ce380401"==ve.algoid)be=new _e.crypto.DSA;else{if("2a8648ce3d0201"!=ve.algoid)throw"unsupported private key algorithm";be=new _e.crypto.ECDSA}return be.readPKCS8PrvKeyHex(he),be},_getKeyFromPublicPKCS8Hex:function(he){var be,ve=gn.getVbyList(he,0,[0,0],"06");if("2a864886f70d010101"===ve)be=new dt;else if("2a8648ce380401"===ve)be=new _e.crypto.DSA;else{if("2a8648ce3d0201"!==ve)throw"unsupported PKCS#8 public key hex";be=new _e.crypto.ECDSA}return be.readPKCS8PubKeyHex(he),be},parsePublicRawRSAKeyHex:function(he){var ve=gn.getChildIdx,Ie=gn.getV,ze={};if("30"!=he.substr(0,2))throw"malformed RSA key(code:001)";var st=ve(he,0);if(2!=st.length)throw"malformed RSA key(code:002)";if("02"!=he.substr(st[0],2))throw"malformed RSA key(code:003)";if(ze.n=Ie(he,st[0]),"02"!=he.substr(st[1],2))throw"malformed RSA key(code:004)";return ze.e=Ie(he,st[1]),ze},parsePublicPKCS8Hex:function(he){var be=gn,ve=be.getChildIdx,Ie=be.getV,ze={algparam:null},st=ve(he,0);if(2!=st.length)throw"outer DERSequence shall have 2 elements: "+st.length;var _t=st[0];if("30"!=he.substr(_t,2))throw"malformed PKCS8 public key(code:001)";var vt=ve(he,_t);if(2!=vt.length)throw"malformed PKCS8 public key(code:002)";if("06"!=he.substr(vt[0],2))throw"malformed PKCS8 public key(code:003)";if(ze.algoid=Ie(he,vt[0]),"06"==he.substr(vt[1],2)?ze.algparam=Ie(he,vt[1]):"30"==he.substr(vt[1],2)&&(ze.algparam={},ze.algparam.p=be.getVbyList(he,vt[1],[0],"02"),ze.algparam.q=be.getVbyList(he,vt[1],[1],"02"),ze.algparam.g=be.getVbyList(he,vt[1],[2],"02")),"03"!=he.substr(st[1],2))throw"malformed PKCS8 public key(code:004)";return ze.key=Ie(he,st[1]).substr(2),ze}}}();ur.getKey=function(r,i,u){var Ei,c=(vt=gn).getChildIdx,S=vt.getVbyList,A=_e.crypto,W=A.ECDSA,ne=A.DSA,le=dt,he=Mn,be=ur;if(void 0!==le&&r instanceof le||void 0!==W&&r instanceof W||void 0!==ne&&r instanceof ne)return r;if(void 0!==r.curve&&void 0!==r.xy&&void 0===r.d)return new W({pub:r.xy,curve:r.curve});if(void 0!==r.curve&&void 0!==r.d)return new W({prv:r.d,curve:r.curve});if(void 0===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0===r.d)return(ln=new le).setPublic(r.n,r.e),ln;if(void 0===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0!==r.d&&void 0!==r.p&&void 0!==r.q&&void 0!==r.dp&&void 0!==r.dq&&void 0!==r.co&&void 0===r.qi)return(ln=new le).setPrivateEx(r.n,r.e,r.d,r.p,r.q,r.dp,r.dq,r.co),ln;if(void 0===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0!==r.d&&void 0===r.p)return(ln=new le).setPrivate(r.n,r.e,r.d),ln;if(void 0!==r.p&&void 0!==r.q&&void 0!==r.g&&void 0!==r.y&&void 0===r.x)return(ln=new ne).setPublic(r.p,r.q,r.g,r.y),ln;if(void 0!==r.p&&void 0!==r.q&&void 0!==r.g&&void 0!==r.y&&void 0!==r.x)return(ln=new ne).setPrivate(r.p,r.q,r.g,r.y,r.x),ln;if("RSA"===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0===r.d)return(ln=new le).setPublic(rt(r.n),rt(r.e)),ln;if("RSA"===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0!==r.d&&void 0!==r.p&&void 0!==r.q&&void 0!==r.dp&&void 0!==r.dq&&void 0!==r.qi)return(ln=new le).setPrivateEx(rt(r.n),rt(r.e),rt(r.d),rt(r.p),rt(r.q),rt(r.dp),rt(r.dq),rt(r.qi)),ln;if("RSA"===r.kty&&void 0!==r.n&&void 0!==r.e&&void 0!==r.d)return(ln=new le).setPrivate(rt(r.n),rt(r.e),rt(r.d)),ln;if("EC"===r.kty&&void 0!==r.crv&&void 0!==r.x&&void 0!==r.y&&void 0===r.d){var ve=(Ct=new W({curve:r.crv})).ecparams.keylen/4,Ie="04"+("0000000000"+rt(r.x)).slice(-ve)+("0000000000"+rt(r.y)).slice(-ve);return Ct.setPublicKeyHex(Ie),Ct}if("EC"===r.kty&&void 0!==r.crv&&void 0!==r.x&&void 0!==r.y&&void 0!==r.d){ve=(Ct=new W({curve:r.crv})).ecparams.keylen/4,Ie="04"+("0000000000"+rt(r.x)).slice(-ve)+("0000000000"+rt(r.y)).slice(-ve);var ze=("0000000000"+rt(r.d)).slice(-ve);return Ct.setPublicKeyHex(Ie),Ct.setPrivateKeyHex(ze),Ct}if("pkcs5prv"===u){var st,_t=r,vt=gn;if(9===(st=c(_t,0)).length)(ln=new le).readPKCS5PrvKeyHex(_t);else if(6===st.length)(ln=new ne).readPKCS5PrvKeyHex(_t);else{if(!(st.length>2&&"04"===_t.substr(st[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(ln=new W).readPKCS5PrvKeyHex(_t)}return ln}if("pkcs8prv"===u)return be.getKeyFromPlainPrivatePKCS8Hex(r);if("pkcs8pub"===u)return be._getKeyFromPublicPKCS8Hex(r);if("x509pub"===u)return et.getPublicKeyFromCertHex(r);if(-1!=r.indexOf("-END CERTIFICATE-",0)||-1!=r.indexOf("-END X509 CERTIFICATE-",0)||-1!=r.indexOf("-END TRUSTED CERTIFICATE-",0))return et.getPublicKeyFromCertPEM(r);if(-1!=r.indexOf("-END PUBLIC KEY-")){var de=Mn(r,"PUBLIC KEY");return be._getKeyFromPublicPKCS8Hex(de)}if(-1!=r.indexOf("-END RSA PRIVATE KEY-")&&-1==r.indexOf("4,ENCRYPTED")){var Oe=he(r,"RSA PRIVATE KEY");return be.getKey(Oe,null,"pkcs5prv")}if(-1!=r.indexOf("-END DSA PRIVATE KEY-")&&-1==r.indexOf("4,ENCRYPTED")){var Re=S(Ei=he(r,"DSA PRIVATE KEY"),0,[1],"02"),je=S(Ei,0,[2],"02"),ee=S(Ei,0,[3],"02"),Ae=S(Ei,0,[4],"02"),Ke=S(Ei,0,[5],"02");return(ln=new ne).setPrivate(new m(Re,16),new m(je,16),new m(ee,16),new m(Ae,16),new m(Ke,16)),ln}if(-1!=r.indexOf("-END EC PRIVATE KEY-")&&-1==r.indexOf("4,ENCRYPTED"))return Oe=he(r,"EC PRIVATE KEY"),be.getKey(Oe,null,"pkcs5prv");if(-1!=r.indexOf("-END PRIVATE KEY-"))return be.getKeyFromPlainPrivatePKCS8PEM(r);if(-1!=r.indexOf("-END RSA PRIVATE KEY-")&&-1!=r.indexOf("4,ENCRYPTED")){var Be=be.getDecryptedKeyHex(r,i),Mt=new dt;return Mt.readPKCS5PrvKeyHex(Be),Mt}if(-1!=r.indexOf("-END EC PRIVATE KEY-")&&-1!=r.indexOf("4,ENCRYPTED")){var Ct,ln=S(Ei=be.getDecryptedKeyHex(r,i),0,[1],"04"),Xn=S(Ei,0,[2,0],"06"),ui=S(Ei,0,[3,0],"03").substr(2);if(void 0===_e.crypto.OID.oidhex2name[Xn])throw"undefined OID(hex) in KJUR.crypto.OID: "+Xn;return(Ct=new W({curve:_e.crypto.OID.oidhex2name[Xn]})).setPublicKeyHex(ui),Ct.setPrivateKeyHex(ln),Ct.isPublic=!1,Ct}if(-1!=r.indexOf("-END DSA PRIVATE KEY-")&&-1!=r.indexOf("4,ENCRYPTED"))return Re=S(Ei=be.getDecryptedKeyHex(r,i),0,[1],"02"),je=S(Ei,0,[2],"02"),ee=S(Ei,0,[3],"02"),Ae=S(Ei,0,[4],"02"),Ke=S(Ei,0,[5],"02"),(ln=new ne).setPrivate(new m(Re,16),new m(je,16),new m(ee,16),new m(Ae,16),new m(Ke,16)),ln;if(-1!=r.indexOf("-END ENCRYPTED PRIVATE KEY-"))return be.getKeyFromEncryptedPKCS8PEM(r,i);throw new Error("not supported argument")},ur.generateKeypair=function(r,i){if("RSA"==r){var u=i;(W=new dt).generate(u,"10001"),W.isPrivate=!0,W.isPublic=!0;var c=new dt,S=W.n.toString(16),A=W.e.toString(16);return c.setPublic(S,A),c.isPrivate=!1,c.isPublic=!0,(ne={}).prvKeyObj=W,ne.pubKeyObj=c,ne}if("EC"==r){var W,ne,le=i,he=new _e.crypto.ECDSA({curve:le}).generateKeyPairHex();return(W=new _e.crypto.ECDSA({curve:le})).setPublicKeyHex(he.ecpubhex),W.setPrivateKeyHex(he.ecprvhex),W.isPrivate=!0,W.isPublic=!1,(c=new _e.crypto.ECDSA({curve:le})).setPublicKeyHex(he.ecpubhex),c.isPrivate=!1,c.isPublic=!0,(ne={}).prvKeyObj=W,ne.pubKeyObj=c,ne}throw"unknown algorithm: "+r},ur.getPEM=function(r,i,u,c,S,A){var ne=_e.asn1,le=ne.DERObjectIdentifier,he=ne.DERInteger,be=ne.ASN1Util.newObject,Ie=_e.crypto,ze=Ie.DSA,st=Ie.ECDSA,_t=dt;function vt(Ct){return be({seq:[{int:0},{int:{bigint:Ct.n}},{int:Ct.e},{int:{bigint:Ct.d}},{int:{bigint:Ct.p}},{int:{bigint:Ct.q}},{int:{bigint:Ct.dmp1}},{int:{bigint:Ct.dmq1}},{int:{bigint:Ct.coeff}}]})}function de(Ct){return be({seq:[{int:1},{octstr:{hex:Ct.prvKeyHex}},{tag:["a0",!0,{oid:{name:Ct.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Ct.pubKeyHex}}]}]})}function Oe(Ct){return be({seq:[{int:0},{int:{bigint:Ct.p}},{int:{bigint:Ct.q}},{int:{bigint:Ct.g}},{int:{bigint:Ct.y}},{int:{bigint:Ct.x}}]})}if((void 0!==_t&&r instanceof _t||void 0!==ze&&r instanceof ze||void 0!==st&&r instanceof st)&&1==r.isPublic&&(void 0===i||"PKCS8PUB"==i))return dn(Ae=new(0,ne.x509.SubjectPublicKeyInfo)(r).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==i&&void 0!==_t&&r instanceof _t&&(void 0===u||null==u)&&1==r.isPrivate)return dn(Ae=vt(r).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==i&&void 0!==st&&r instanceof st&&(void 0===u||null==u)&&1==r.isPrivate){var Re=new le({name:r.curveName}).getEncodedHex(),je=de(r).getEncodedHex(),ee="";return(ee+=dn(Re,"EC PARAMETERS"))+dn(je,"EC PRIVATE KEY")}if("PKCS1PRV"==i&&void 0!==ze&&r instanceof ze&&(void 0===u||null==u)&&1==r.isPrivate)return dn(Ae=Oe(r).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==i&&void 0!==_t&&r instanceof _t&&void 0!==u&&null!=u&&1==r.isPrivate){var Ae=vt(r).getEncodedHex();return void 0===c&&(c="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",Ae,u,c,A)}if("PKCS5PRV"==i&&void 0!==st&&r instanceof st&&void 0!==u&&null!=u&&1==r.isPrivate)return Ae=de(r).getEncodedHex(),void 0===c&&(c="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",Ae,u,c,A);if("PKCS5PRV"==i&&void 0!==ze&&r instanceof ze&&void 0!==u&&null!=u&&1==r.isPrivate)return Ae=Oe(r).getEncodedHex(),void 0===c&&(c="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",Ae,u,c,A);var Ke=function(ln,Xn){var ui=Be(ln,Xn);return new be({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:ui.pbkdf2Salt}},{int:ui.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:ui.encryptionSchemeIV}}]}]}]},{octstr:{hex:ui.ciphertext}}]}).getEncodedHex()},Be=function(ln,Xn){var ui=Ee.lib.WordArray.random(8),Ei=Ee.lib.WordArray.random(8),Ti=Ee.PBKDF2(Xn,ui,{keySize:6,iterations:100}),zi=Ee.enc.Hex.parse(ln),Gr=Ee.TripleDES.encrypt(zi,Ti,{iv:Ei})+"",er={};return er.ciphertext=Gr,er.pbkdf2Salt=Ee.enc.Hex.stringify(ui),er.pbkdf2Iter=100,er.encryptionSchemeAlg="DES-EDE3-CBC",er.encryptionSchemeIV=Ee.enc.Hex.stringify(Ei),er};if("PKCS8PRV"==i&&null!=_t&&r instanceof _t&&1==r.isPrivate){var Mt=vt(r).getEncodedHex();return Ae=be({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:Mt}}]}).getEncodedHex(),void 0===u||null==u?dn(Ae,"PRIVATE KEY"):dn(je=Ke(Ae,u),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==i&&void 0!==st&&r instanceof st&&1==r.isPrivate)return Mt=new be({seq:[{int:1},{octstr:{hex:r.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+r.pubKeyHex}}]}]}).getEncodedHex(),Ae=be({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:r.curveName}}]},{octstr:{hex:Mt}}]}).getEncodedHex(),void 0===u||null==u?dn(Ae,"PRIVATE KEY"):dn(je=Ke(Ae,u),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==i&&void 0!==ze&&r instanceof ze&&1==r.isPrivate)return Mt=new he({bigint:r.x}).getEncodedHex(),Ae=be({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:r.p}},{int:{bigint:r.q}},{int:{bigint:r.g}}]}]},{octstr:{hex:Mt}}]}).getEncodedHex(),void 0===u||null==u?dn(Ae,"PRIVATE KEY"):dn(je=Ke(Ae,u),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},ur.getKeyFromCSRPEM=function(r){var i=Mn(r,"CERTIFICATE REQUEST");return ur.getKeyFromCSRHex(i)},ur.getKeyFromCSRHex=function(r){var i=ur.parseCSRHex(r);return ur.getKey(i.p8pubkeyhex,null,"pkcs8pub")},ur.parseCSRHex=function(r){var u=gn.getChildIdx,c=gn.getTLV,S={},A=r;if("30"!=A.substr(0,2))throw"malformed CSR(code:001)";var W=u(A,0);if(W.length<1)throw"malformed CSR(code:002)";if("30"!=A.substr(W[0],2))throw"malformed CSR(code:003)";var ne=u(A,W[0]);if(ne.length<3)throw"malformed CSR(code:004)";return S.p8pubkeyhex=c(A,ne[2]),S},ur.getKeyID=function(r){var i=ur,u=gn;"string"==typeof r&&-1!=r.indexOf("BEGIN ")&&(r=i.getKey(r));var c=Mn(i.getPEM(r)),S=u.getIdxbyList(c,0,[1]),A=u.getV(c,S).substring(2);return _e.crypto.Util.hashHex(A,"sha1")},ur.getJWKFromKey=function(r){var i={};if(r instanceof dt&&r.isPrivate)return i.kty="RSA",i.n=Se(r.n.toString(16)),i.e=Se(r.e.toString(16)),i.d=Se(r.d.toString(16)),i.p=Se(r.p.toString(16)),i.q=Se(r.q.toString(16)),i.dp=Se(r.dmp1.toString(16)),i.dq=Se(r.dmq1.toString(16)),i.qi=Se(r.coeff.toString(16)),i;if(r instanceof dt&&r.isPublic)return i.kty="RSA",i.n=Se(r.n.toString(16)),i.e=Se(r.e.toString(16)),i;if(r instanceof _e.crypto.ECDSA&&r.isPrivate){if("P-256"!==(c=r.getShortNISTPCurveName())&&"P-384"!==c)throw"unsupported curve name for JWT: "+c;var u=r.getPublicKeyXYHex();return i.kty="EC",i.crv=c,i.x=Se(u.x),i.y=Se(u.y),i.d=Se(r.prvKeyHex),i}if(r instanceof _e.crypto.ECDSA&&r.isPublic){var c;if("P-256"!==(c=r.getShortNISTPCurveName())&&"P-384"!==c)throw"unsupported curve name for JWT: "+c;return u=r.getPublicKeyXYHex(),i.kty="EC",i.crv=c,i.x=Se(u.x),i.y=Se(u.y),i}throw"not supported key object"},dt.getPosArrayOfChildrenFromHex=function(r){return gn.getChildIdx(r,0)},dt.getHexValueArrayOfChildrenFromHex=function(r){var i,u=gn.getV,c=u(r,(i=dt.getPosArrayOfChildrenFromHex(r))[0]),S=u(r,i[1]),A=u(r,i[2]),W=u(r,i[3]),ne=u(r,i[4]),le=u(r,i[5]),he=u(r,i[6]),be=u(r,i[7]),ve=u(r,i[8]);return(i=new Array).push(c,S,A,W,ne,le,he,be,ve),i},dt.prototype.readPrivateKeyFromPEMString=function(r){var i=Mn(r),u=dt.getHexValueArrayOfChildrenFromHex(i);this.setPrivateEx(u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8])},dt.prototype.readPKCS5PrvKeyHex=function(r){var i=dt.getHexValueArrayOfChildrenFromHex(r);this.setPrivateEx(i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8])},dt.prototype.readPKCS8PrvKeyHex=function(r){var i,u,c,S,A,W,ne,le,be=gn.getVbyListEx;if(!1===gn.isASN1HEX(r))throw new Error("not ASN.1 hex string");try{i=be(r,0,[2,0,1],"02"),u=be(r,0,[2,0,2],"02"),c=be(r,0,[2,0,3],"02"),S=be(r,0,[2,0,4],"02"),A=be(r,0,[2,0,5],"02"),W=be(r,0,[2,0,6],"02"),ne=be(r,0,[2,0,7],"02"),le=be(r,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(i,u,c,S,A,W,ne,le)},dt.prototype.readPKCS5PubKeyHex=function(r){var i=gn,u=i.getV;if(!1===i.isASN1HEX(r))throw new Error("keyHex is not ASN.1 hex string");var c=i.getChildIdx(r,0);if(2!==c.length||"02"!==r.substr(c[0],2)||"02"!==r.substr(c[1],2))throw new Error("wrong hex for PKCS#5 public key");var S=u(r,c[0]),A=u(r,c[1]);this.setPublic(S,A)},dt.prototype.readPKCS8PubKeyHex=function(r){var i=gn;if(!1===i.isASN1HEX(r))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==i.getTLVbyListEx(r,0,[0,0]))throw new Error("not PKCS8 RSA public key");var u=i.getTLVbyListEx(r,0,[1,0]);this.readPKCS5PubKeyHex(u)},dt.prototype.readCertPubKeyHex=function(r,i){var u,c;(u=new et).readCertHex(r),c=u.getPublicKeyHex(),this.readPKCS8PubKeyHex(c)};var bs=new RegExp("[^0-9a-f]","gi");function ut(r,i){for(var u="",c=i/4-r.length,S=0;S<c;S++)u+="0";return u+r}function zn(r,i,u){for(var c="",S=0;c.length<i;)c+=mt(u(Kt(r+String.fromCharCode.apply(String,[(4278190080&S)>>24,(16711680&S)>>16,(65280&S)>>8,255&S])))),S+=1;return c}function Ve(r){for(var i in _e.crypto.Util.DIGESTINFOHEAD){var u=_e.crypto.Util.DIGESTINFOHEAD[i],c=u.length;if(r.substring(0,c)==u)return[i,r.substring(c)]}return[]}function et(r){var i,u=gn,c=u.getChildIdx,S=u.getV,A=u.getTLV,W=u.getVbyList,ne=u.getVbyListEx,le=u.getTLVbyList,he=u.getTLVbyListEx,be=u.getIdxbyList,ve=u.getIdxbyListEx,Ie=u.getVidx,ze=u.oidname,st=u.hextooidstr,_t=et,vt=Mn;try{i=_e.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==le(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return ne(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var de=he(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(de)},this.getAlgorithmIdentifierName=function(de){for(var Oe in i)if(de===i[Oe])return Oe;return ze(ne(de,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return le(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return _t.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return le(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return _t.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var de=W(this.hex,0,[0,4+this.foffset,0]);return de=de.replace(/(..)/g,"%$1"),decodeURIComponent(de)},this.getNotAfter=function(){var de=W(this.hex,0,[0,4+this.foffset,1]);return de=de.replace(/(..)/g,"%$1"),decodeURIComponent(de)},this.getPublicKeyHex=function(){return u.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return be(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var de=this.getPublicKeyIdx();return be(this.hex,de,[1,0],"30")},this.getPublicKey=function(){return ur.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var de=le(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(de)},this.getSignatureValueHex=function(){return W(this.hex,0,[2],"03",!0)},this.verifySignature=function(de){var Oe=this.getSignatureAlgorithmField(),Re=this.getSignatureValueHex(),je=le(this.hex,0,[0],"30"),ee=new _e.crypto.Signature({alg:Oe});return ee.init(de),ee.updateHex(je),ee.verify(Re)},this.parseExt=function(de){var Oe,Re,je;if(void 0===de){if(3!==this.version)return-1;Oe=be(je=this.hex,0,[0,7,0],"30"),Re=c(je,Oe)}else{je=Mn(de);var ee=be(je,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=S(je,ee))return void(this.aExtInfo=new Array);Oe=be(je,0,[0,3,0,1,0],"30"),Re=c(je,Oe),this.hex=je}this.aExtInfo=new Array;for(var Ae=0;Ae<Re.length;Ae++){var Ke={critical:!1},Be=0;3===c(je,Re[Ae]).length&&(Ke.critical=!0,Be=1),Ke.oid=u.hextooidstr(W(je,Re[Ae],[0],"06"));var Mt=be(je,Re[Ae],[1+Be]);Ke.vidx=Ie(je,Mt),this.aExtInfo.push(Ke)}},this.getExtInfo=function(de){var Oe=this.aExtInfo,Re=de;if(de.match(/^[0-9.]+$/)||(Re=_e.asn1.x509.OID.name2oid(de)),""!==Re)for(var je=0;je<Oe.length;je++)if(Oe[je].oid===Re)return Oe[je]},this.getExtBasicConstraints=function(de,Oe){if(void 0===de&&void 0===Oe){var Re=this.getExtInfo("basicConstraints");if(void 0===Re)return;de=A(this.hex,Re.vidx),Oe=Re.critical}var je={extname:"basicConstraints"};if(Oe&&(je.critical=!0),"3000"===de)return je;if("30030101ff"===de)return je.cA=!0,je;if("30060101ff02"===de.substr(0,12)){var ee=S(de,10),Ae=parseInt(ee,16);return je.cA=!0,je.pathLen=Ae,je}throw new Error("hExtV parse error: "+de)},this.getExtKeyUsage=function(de,Oe){if(void 0===de&&void 0===Oe){var Re=this.getExtInfo("keyUsage");if(void 0===Re)return;de=A(this.hex,Re.vidx),Oe=Re.critical}var je={extname:"keyUsage"};return Oe&&(je.critical=!0),je.names=this.getExtKeyUsageString(de).split(","),je},this.getExtKeyUsageBin=function(de){if(void 0===de){var Oe=this.getExtInfo("keyUsage");if(void 0===Oe)return"";de=A(this.hex,Oe.vidx)}if(8!=de.length&&10!=de.length)throw new Error("malformed key usage value: "+de);var Re="000000000000000"+parseInt(de.substr(6),16).toString(2);return 8==de.length&&(Re=Re.slice(-8)),10==de.length&&(Re=Re.slice(-16)),""==(Re=Re.replace(/0+$/,""))&&(Re="0"),Re},this.getExtKeyUsageString=function(de){for(var Oe=this.getExtKeyUsageBin(de),Re=new Array,je=0;je<Oe.length;je++)"1"==Oe.substr(je,1)&&Re.push(et.KEYUSAGE_NAME[je]);return Re.join(",")},this.getExtSubjectKeyIdentifier=function(de,Oe){if(void 0===de&&void 0===Oe){var Re=this.getExtInfo("subjectKeyIdentifier");if(void 0===Re)return;de=A(this.hex,Re.vidx),Oe=Re.critical}var je={extname:"subjectKeyIdentifier"};Oe&&(je.critical=!0);var ee=S(de,0);return je.kid={hex:ee},je},this.getExtAuthorityKeyIdentifier=function(de,Oe){if(void 0===de&&void 0===Oe){var Re=this.getExtInfo("authorityKeyIdentifier");if(void 0===Re)return;de=A(this.hex,Re.vidx),Oe=Re.critical}var je={extname:"authorityKeyIdentifier"};Oe&&(je.critical=!0);for(var ee=c(de,0),Ae=0;Ae<ee.length;Ae++){var Ke=de.substr(ee[Ae],2);if("80"===Ke&&(je.kid={hex:S(de,ee[Ae])}),"a1"===Ke){var Be=A(de,ee[Ae]),Mt=this.getGeneralNames(Be);je.issuer=Mt[0].dn}"82"===Ke&&(je.sn={hex:S(de,ee[Ae])})}return je},this.getExtExtKeyUsage=function(de,Oe){if(void 0===de&&void 0===Oe){var Re=this.getExtInfo("extKeyUsage");if(void 0===Re)return;de=A(this.hex,Re.vidx),Oe=Re.critical}var je={extname:"extKeyUsage",array:[]};Oe&&(je.critical=!0);for(var ee=c(de,0),Ae=0;Ae<ee.length;Ae++)je.array.push(ze(S(de,ee[Ae])));return je},this.getExtExtKeyUsageName=function(){var de=this.getExtInfo("extKeyUsage");if(void 0===de)return de;var Oe=new Array,Re=A(this.hex,de.vidx);if(""===Re)return Oe;for(var je=c(Re,0),ee=0;ee<je.length;ee++)Oe.push(ze(S(Re,je[ee])));return Oe},this.getExtSubjectAltName=function(de,Oe){if(void 0===de&&void 0===Oe){var Re=this.getExtInfo("subjectAltName");if(void 0===Re)return;de=A(this.hex,Re.vidx),Oe=Re.critical}var je={extname:"subjectAltName",array:[]};return Oe&&(je.critical=!0),je.array=this.getGeneralNames(de),je},this.getExtIssuerAltName=function(de,Oe){if(void 0===de&&void 0===Oe){var Re=this.getExtInfo("issuerAltName");if(void 0===Re)return;de=A(this.hex,Re.vidx),Oe=Re.critical}var je={extname:"issuerAltName",array:[]};return Oe&&(je.critical=!0),je.array=this.getGeneralNames(de),je},this.getGeneralNames=function(de){for(var Oe=c(de,0),Re=[],je=0;je<Oe.length;je++){var ee=this.getGeneralName(A(de,Oe[je]));void 0!==ee&&Re.push(ee)}return Re},this.getGeneralName=function(de){var Oe=de.substr(0,2),Re=S(de,0),je=mt(Re);return"81"==Oe?{rfc822:je}:"82"==Oe?{dns:je}:"86"==Oe?{uri:je}:"87"==Oe?{ip:us(Re)}:"a4"==Oe?{dn:this.getX500Name(Re)}:void 0},this.getExtSubjectAltName2=function(){var de,Oe,Re,je=this.getExtInfo("subjectAltName");if(void 0===je)return je;for(var ee=new Array,Ae=A(this.hex,je.vidx),Ke=c(Ae,0),Be=0;Be<Ke.length;Be++)Re=Ae.substr(Ke[Be],2),de=S(Ae,Ke[Be]),"81"===Re&&(Oe=pt(de),ee.push(["MAIL",Oe])),"82"===Re&&(Oe=pt(de),ee.push(["DNS",Oe])),"84"===Re&&(Oe=et.hex2dn(de,0),ee.push(["DN",Oe])),"86"===Re&&(Oe=pt(de),ee.push(["URI",Oe])),"87"===Re&&(Oe=us(de),ee.push(["IP",Oe]));return ee},this.getExtCRLDistributionPoints=function(de,Oe){if(void 0===de&&void 0===Oe){var Re=this.getExtInfo("cRLDistributionPoints");if(void 0===Re)return;de=A(this.hex,Re.vidx),Oe=Re.critical}var je={extname:"cRLDistributionPoints",array:[]};Oe&&(je.critical=!0);for(var ee=c(de,0),Ae=0;Ae<ee.length;Ae++){var Ke=A(de,ee[Ae]);je.array.push(this.getDistributionPoint(Ke))}return je},this.getDistributionPoint=function(de){for(var Oe={},Re=c(de,0),je=0;je<Re.length;je++){var ee=de.substr(Re[je],2),Ae=A(de,Re[je]);"a0"==ee&&(Oe.dpname=this.getDistributionPointName(Ae))}return Oe},this.getDistributionPointName=function(de){for(var Oe={},Re=c(de,0),je=0;je<Re.length;je++){var ee=de.substr(Re[je],2),Ae=A(de,Re[je]);"a0"==ee&&(Oe.full=this.getGeneralNames(Ae))}return Oe},this.getExtCRLDistributionPointsURI=function(){var de=this.getExtInfo("cRLDistributionPoints");if(void 0===de)return de;for(var Oe=new Array,Re=c(this.hex,de.vidx),je=0;je<Re.length;je++)try{var ee=pt(W(this.hex,Re[je],[0,0,0],"86"));Oe.push(ee)}catch{}return Oe},this.getExtAIAInfo=function(){var de=this.getExtInfo("authorityInfoAccess");if(void 0===de)return de;for(var Oe={ocsp:[],caissuer:[]},Re=c(this.hex,de.vidx),je=0;je<Re.length;je++){var ee=W(this.hex,Re[je],[0],"06"),Ae=W(this.hex,Re[je],[1],"86");"2b06010505073001"===ee&&Oe.ocsp.push(pt(Ae)),"2b06010505073002"===ee&&Oe.caissuer.push(pt(Ae))}return Oe},this.getExtAuthorityInfoAccess=function(de,Oe){if(void 0===de&&void 0===Oe){var Re=this.getExtInfo("authorityInfoAccess");if(void 0===Re)return;de=A(this.hex,Re.vidx),Oe=Re.critical}var je={extname:"authorityInfoAccess",array:[]};Oe&&(je.critical=!0);for(var ee=c(de,0),Ae=0;Ae<ee.length;Ae++){var Ke=ne(de,ee[Ae],[0],"06"),Be=pt(W(de,ee[Ae],[1],"86"));if("2b06010505073001"==Ke)je.array.push({ocsp:Be});else{if("2b06010505073002"!=Ke)throw new Error("unknown method: "+Ke);je.array.push({caissuer:Be})}}return je},this.getExtCertificatePolicies=function(de,Oe){if(void 0===de&&void 0===Oe){var Re=this.getExtInfo("certificatePolicies");if(void 0===Re)return;de=A(this.hex,Re.vidx),Oe=Re.critical}var je={extname:"certificatePolicies",array:[]};Oe&&(je.critical=!0);for(var ee=c(de,0),Ae=0;Ae<ee.length;Ae++){var Ke=A(de,ee[Ae]),Be=this.getPolicyInformation(Ke);je.array.push(Be)}return je},this.getPolicyInformation=function(de){var Oe={},Re=W(de,0,[0],"06");Oe.policyoid=ze(Re);var je=ve(de,0,[1],"30");if(-1!=je){Oe.array=[];for(var ee=c(de,je),Ae=0;Ae<ee.length;Ae++){var Ke=A(de,ee[Ae]),Be=this.getPolicyQualifierInfo(Ke);Oe.array.push(Be)}}return Oe},this.getPolicyQualifierInfo=function(de){var Oe={},Re=W(de,0,[0],"06");if("2b06010505070201"===Re){var je=ne(de,0,[1],"16");Oe.cps=mt(je)}else if("2b06010505070202"===Re){var ee=le(de,0,[1],"30");Oe.unotice=this.getUserNotice(ee)}return Oe},this.getUserNotice=function(de){for(var Oe={},Re=c(de,0),je=0;je<Re.length;je++){var ee=A(de,Re[je]);"30"!=ee.substr(0,2)&&(Oe.exptext=this.getDisplayText(ee))}return Oe},this.getDisplayText=function(de){var Oe={};return Oe.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[de.substr(0,2)],Oe.str=mt(S(de,0)),Oe},this.getExtCRLNumber=function(de,Oe){var Re={extname:"cRLNumber"};if(Oe&&(Re.critical=!0),"02"==de.substr(0,2))return Re.num={hex:S(de,0)},Re;throw new Error("hExtV parse error: "+de)},this.getExtCRLReason=function(de,Oe){var Re={extname:"cRLReason"};if(Oe&&(Re.critical=!0),"0a"==de.substr(0,2))return Re.code=parseInt(S(de,0),16),Re;throw new Error("hExtV parse error: "+de)},this.getExtOcspNonce=function(de,Oe){var Re={extname:"ocspNonce"};Oe&&(Re.critical=!0);var je=S(de,0);return Re.hex=je,Re},this.getExtOcspNoCheck=function(de,Oe){var Re={extname:"ocspNoCheck"};return Oe&&(Re.critical=!0),Re},this.getExtAdobeTimeStamp=function(de,Oe){if(void 0===de&&void 0===Oe){var Re=this.getExtInfo("adobeTimeStamp");if(void 0===Re)return;de=A(this.hex,Re.vidx),Oe=Re.critical}var je={extname:"adobeTimeStamp"};Oe&&(je.critical=!0);var ee=c(de,0);if(ee.length>1){var Ae=A(de,ee[1]),Ke=this.getGeneralName(Ae);null!=Ke.uri&&(je.uri=Ke.uri)}if(ee.length>2){var Be=A(de,ee[2]);"0101ff"==Be&&(je.reqauth=!0),"010100"==Be&&(je.reqauth=!1)}return je},this.getX500NameRule=function(de){for(var Oe=null,Re=[],je=0;je<de.length;je++)for(var ee=de[je],Ae=0;Ae<ee.length;Ae++)Re.push(ee[Ae]);for(je=0;je<Re.length;je++){var Ke=Re[je],Be=Ke.ds,Ct=Ke.type;if("prn"!=Be&&"utf8"!=Be&&"ia5"!=Be)return"mixed";if("ia5"==Be){if("CN"!=Ct)return"mixed";if(_e.lang.String.isMail(Ke.value))continue;return"mixed"}if("C"==Ct){if("prn"==Be)continue;return"mixed"}if(null==Oe)Oe=Be;else if(Oe!==Be)return"mixed"}return Oe??"prn"},this.getX500Name=function(de){var Oe=this.getX500NameArray(de);return{array:Oe,str:this.dnarraytostr(Oe)}},this.getX500NameArray=function(de){for(var Oe=[],Re=c(de,0),je=0;je<Re.length;je++)Oe.push(this.getRDN(A(de,Re[je])));return Oe},this.getRDN=function(de){for(var Oe=[],Re=c(de,0),je=0;je<Re.length;je++)Oe.push(this.getAttrTypeAndValue(A(de,Re[je])));return Oe},this.getAttrTypeAndValue=function(de){var Oe={type:null,value:null,ds:null},Re=c(de,0),je=W(de,Re[0],[],"06"),ee=W(de,Re[1],[]),Ae=_e.asn1.ASN1Util.oidHexToInt(je);return Oe.type=_e.asn1.x509.OID.oid2atype(Ae),Oe.value=mt(ee),Oe.ds=this.HEX2STAG[de.substr(Re[1],2)],Oe},this.readCertPEM=function(de){this.readCertHex(vt(de))},this.readCertHex=function(de){this.hex=de,this.getVersion();try{be(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var de={};return de.version=this.getVersion(),de.serial={hex:this.getSerialNumberHex()},de.sigalg=this.getSignatureAlgorithmField(),de.issuer=this.getIssuer(),de.notbefore=this.getNotBefore(),de.notafter=this.getNotAfter(),de.subject=this.getSubject(),de.sbjpubkey=dn(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(de.ext=this.getExtParamArray()),de.sighex=this.getSignatureValueHex(),de},this.getExtParamArray=function(de){null==de&&-1!=ve(this.hex,0,[0,"[3]"])&&(de=he(this.hex,0,[0,"[3]",0],"30"));for(var Oe=[],Re=c(de,0),je=0;je<Re.length;je++){var ee=A(de,Re[je]),Ae=this.getExtParam(ee);null!=Ae&&Oe.push(Ae)}return Oe},this.getExtParam=function(de){var Oe=c(de,0).length;if(2!=Oe&&3!=Oe)throw new Error("wrong number elements in Extension: "+Oe+" "+de);var Re=st(W(de,0,[0],"06")),je=!1;3==Oe&&"0101ff"==le(de,0,[1])&&(je=!0);var ee=le(de,0,[Oe-1,0]),Ae=void 0;if("2.5.29.14"==Re?Ae=this.getExtSubjectKeyIdentifier(ee,je):"2.5.29.15"==Re?Ae=this.getExtKeyUsage(ee,je):"2.5.29.17"==Re?Ae=this.getExtSubjectAltName(ee,je):"2.5.29.18"==Re?Ae=this.getExtIssuerAltName(ee,je):"2.5.29.19"==Re?Ae=this.getExtBasicConstraints(ee,je):"2.5.29.31"==Re?Ae=this.getExtCRLDistributionPoints(ee,je):"2.5.29.32"==Re?Ae=this.getExtCertificatePolicies(ee,je):"2.5.29.35"==Re?Ae=this.getExtAuthorityKeyIdentifier(ee,je):"2.5.29.37"==Re?Ae=this.getExtExtKeyUsage(ee,je):"1.3.6.1.5.5.7.1.1"==Re?Ae=this.getExtAuthorityInfoAccess(ee,je):"2.5.29.20"==Re?Ae=this.getExtCRLNumber(ee,je):"2.5.29.21"==Re?Ae=this.getExtCRLReason(ee,je):"1.3.6.1.5.5.7.48.1.2"==Re?Ae=this.getExtOcspNonce(ee,je):"1.3.6.1.5.5.7.48.1.5"==Re?Ae=this.getExtOcspNoCheck(ee,je):"1.2.840.113583.1.1.9.1"==Re&&(Ae=this.getExtAdobeTimeStamp(ee,je)),null!=Ae)return Ae;var Ke={extname:Re,extn:ee};return je&&(Ke.critical=!0),Ke},this.findExt=function(de,Oe){for(var Re=0;Re<de.length;Re++)if(de[Re].extname==Oe)return de[Re];return null},this.updateExtCDPFullURI=function(de,Oe){var Re=this.findExt(de,"cRLDistributionPoints");if(null!=Re&&null!=Re.array)for(var je=Re.array,ee=0;ee<je.length;ee++)if(null!=je[ee].dpname&&null!=je[ee].dpname.full)for(var Ae=je[ee].dpname.full,Ke=0;Ke<Ae.length;Ke++){var Be=Ae[ee];null!=Be.uri&&(Be.uri=Oe)}},this.updateExtAIAOCSP=function(de,Oe){var Re=this.findExt(de,"authorityInfoAccess");if(null!=Re&&null!=Re.array)for(var je=Re.array,ee=0;ee<je.length;ee++)null!=je[ee].ocsp&&(je[ee].ocsp=Oe)},this.updateExtAIACAIssuer=function(de,Oe){var Re=this.findExt(de,"authorityInfoAccess");if(null!=Re&&null!=Re.array)for(var je=Re.array,ee=0;ee<je.length;ee++)null!=je[ee].caissuer&&(je[ee].caissuer=Oe)},this.dnarraytostr=function(de){return"/"+de.map(function(Oe){return Oe.map(function(ee){return(Ke=ee).type+"="+Ke.value;var Ke}).join("+")}).join("/")},this.getInfo=function(){var de,Oe,Re,Ti,ee=function(Ti){for(var zi="",Gr=Ti.array,er=0;er<Gr.length;er++){var fr=Gr[er];if(zi+="    policy oid: "+fr.policyoid+"\n",void 0!==fr.array)for(var or=0;or<fr.array.length;or++){var _r=fr.array[or];void 0!==_r.cps&&(zi+="    cps: "+_r.cps+"\n")}}return zi},Ae=function(Ti){for(var zi="",Gr=Ti.array,er=0;er<Gr.length;er++){var fr=Gr[er];try{void 0!==fr.dpname.full[0].uri&&(zi+="    "+fr.dpname.full[0].uri+"\n")}catch{}try{void 0!==fr.dname.full[0].dn.hex&&(zi+="    "+et.hex2dn(fr.dpname.full[0].dn.hex)+"\n")}catch{}}return zi},Ke=function(Ti){for(var zi="",Gr=Ti.array,er=0;er<Gr.length;er++){var fr=Gr[er];void 0!==fr.caissuer&&(zi+="    caissuer: "+fr.caissuer+"\n"),void 0!==fr.ocsp&&(zi+="    ocsp: "+fr.ocsp+"\n")}return zi};if(de="Basic Fields\n",de+="  serial number: "+this.getSerialNumberHex()+"\n",de+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",de+="  issuer: "+this.getIssuerString()+"\n",de+="  notBefore: "+this.getNotBefore()+"\n",de+="  notAfter: "+this.getNotAfter()+"\n",de+="  subject: "+this.getSubjectString()+"\n",de+="  subject public key info: \n",de+="    key algorithm: "+(Oe=this.getPublicKey()).type+"\n","RSA"===Oe.type&&(de+="    n="+hs(Oe.n.toString(16)).substr(0,16)+"...\n",de+="    e="+hs(Oe.e.toString(16))+"\n"),null!=(Re=this.aExtInfo)){de+="X509v3 Extensions:\n";for(var Be=0;Be<Re.length;Be++){var Mt=Re[Be],Ct=_e.asn1.x509.OID.oid2name(Mt.oid);""===Ct&&(Ct=Mt.oid);var ln="";if(!0===Mt.critical&&(ln="CRITICAL"),de+="  "+Ct+" "+ln+":\n","basicConstraints"===Ct){var Xn=this.getExtBasicConstraints();void 0===Xn.cA?de+="    {}\n":(de+="    cA=true",void 0!==Xn.pathLen&&(de+=", pathLen="+Xn.pathLen),de+="\n")}else if("keyUsage"===Ct)de+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===Ct)de+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===Ct){var ui=this.getExtAuthorityKeyIdentifier();void 0!==ui.kid&&(de+="    kid="+ui.kid.hex+"\n")}else"extKeyUsage"===Ct?de+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===Ct?de+="    "+(Ti=this.getExtSubjectAltName(),JSON.stringify(Ti.array).replace(/[\[\]\{\}\"]/g,"")+"\n"):"cRLDistributionPoints"===Ct?de+=Ae(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===Ct?de+=Ke(this.getExtAuthorityInfoAccess()):"certificatePolicies"===Ct&&(de+=ee(this.getExtCertificatePolicies()))}}return(de+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof r&&(-1!=r.indexOf("-----BEGIN")?this.readCertPEM(r):_e.lang.String.isHex(r)&&this.readCertHex(r))}dt.prototype.sign=function(r,i){var u=function(S){return _e.crypto.Util.hashString(S,i)}(r);return this.signWithMessageHash(u,i)},dt.prototype.signWithMessageHash=function(r,i){var u=rn(_e.crypto.Util.getPaddedDigestInfoHex(r,i,this.n.bitLength()),16);return ut(this.doPrivate(u).toString(16),this.n.bitLength())},dt.prototype.signPSS=function(r,i,u){var A,c=(A=Kt(r),_e.crypto.Util.hashHex(A,i));return void 0===u&&(u=-1),this.signWithMessageHashPSS(c,i,u)},dt.prototype.signWithMessageHashPSS=function(r,i,u){var c,S=mt(r),A=S.length,W=this.n.bitLength()-1,ne=Math.ceil(W/8),le=function(de){return _e.crypto.Util.hashHex(de,i)};if(-1===u||void 0===u)u=A;else if(-2===u)u=ne-A-2;else if(u<-2)throw new Error("invalid salt length");if(ne<A+u+2)throw new Error("data too long");var he="";u>0&&(he=new Array(u),(new pn).nextBytes(he),he=String.fromCharCode.apply(String,he));var be=mt(le(Kt("\0\0\0\0\0\0\0\0"+S+he))),ve=[];for(c=0;c<ne-u-A-2;c+=1)ve[c]=0;var Ie=String.fromCharCode.apply(String,ve)+"\x01"+he,ze=zn(be,Ie.length,le),st=[];for(c=0;c<Ie.length;c+=1)st[c]=Ie.charCodeAt(c)^ze.charCodeAt(c);for(st[0]&=~(65280>>8*ne-W&255),c=0;c<A;c++)st.push(be.charCodeAt(c));return st.push(188),ut(this.doPrivate(new m(st)).toString(16),this.n.bitLength())},dt.prototype.verify=function(r,i){var u=rn(i=(i=i.replace(bs,"")).replace(/[ \n]+/g,""),16);if(u.bitLength()>this.n.bitLength())return 0;var c=Ve(this.doPublic(u).toString(16).replace(/^1f+00/,""));return 0!=c.length&&c[1]==_e.crypto.Util.hashString(r,c[0])},dt.prototype.verifyWithMessageHash=function(r,i){if(i.length!=Math.ceil(this.n.bitLength()/4))return!1;var u=rn(i,16);if(u.bitLength()>this.n.bitLength())return 0;var c=Ve(this.doPublic(u).toString(16).replace(/^1f+00/,""));return 0!=c.length&&c[1]==r},dt.prototype.verifyPSS=function(r,i,u,c){var W,S=(W=Kt(r),_e.crypto.Util.hashHex(W,u));return void 0===c&&(c=-1),this.verifyWithMessageHashPSS(S,i,u,c)},dt.prototype.verifyWithMessageHashPSS=function(r,i,u,c){if(i.length!=Math.ceil(this.n.bitLength()/4))return!1;var S,A=new m(i,16),W=function(Re){return _e.crypto.Util.hashHex(Re,u)},ne=mt(r),le=ne.length,he=this.n.bitLength()-1,be=Math.ceil(he/8);if(-1===c||void 0===c)c=le;else if(-2===c)c=be-le-2;else if(c<-2)throw new Error("invalid salt length");if(be<le+c+2)throw new Error("data too long");var ve=this.doPublic(A).toByteArray();for(S=0;S<ve.length;S+=1)ve[S]&=255;for(;ve.length<be;)ve.unshift(0);if(188!==ve[be-1])throw new Error("encoded message does not end in 0xbc");var Ie=(ve=String.fromCharCode.apply(String,ve)).substr(0,be-le-1),ze=ve.substr(Ie.length,le),st=65280>>8*be-he&255;if(Ie.charCodeAt(0)&st)throw new Error("bits beyond keysize not zero");var _t=zn(ze,Ie.length,W),vt=[];for(S=0;S<Ie.length;S+=1)vt[S]=Ie.charCodeAt(S)^_t.charCodeAt(S);vt[0]&=~st;var de=be-le-c-2;for(S=0;S<de;S+=1)if(0!==vt[S])throw new Error("leftmost octets not zero");if(1!==vt[de])throw new Error("0x01 marker not found");return ze===mt(W(Kt("\0\0\0\0\0\0\0\0"+ne+String.fromCharCode.apply(String,vt.slice(-c)))))},dt.SALT_LEN_HLEN=-1,dt.SALT_LEN_MAX=-2,dt.SALT_LEN_RECOVER=-2,et.hex2dn=function(r,i){if(void 0===i&&(i=0),"30"!==r.substr(i,2))throw new Error("malformed DN");for(var u=new Array,c=gn.getChildIdx(r,i),S=0;S<c.length;S++)u.push(et.hex2rdn(r,c[S]));return"/"+(u=u.map(function(A){return A.replace("/","\\/")})).join("/")},et.hex2rdn=function(r,i){if(void 0===i&&(i=0),"31"!==r.substr(i,2))throw new Error("malformed RDN");for(var u=new Array,c=gn.getChildIdx(r,i),S=0;S<c.length;S++)u.push(et.hex2attrTypeValue(r,c[S]));return(u=u.map(function(A){return A.replace("+","\\+")})).join("+")},et.hex2attrTypeValue=function(r,i){var u=gn,c=u.getV;if(void 0===i&&(i=0),"30"!==r.substr(i,2))throw new Error("malformed attribute type and value");var S=u.getChildIdx(r,i);2!==S.length||r.substr(S[0],2);var A=c(r,S[0]),W=_e.asn1.ASN1Util.oidHexToInt(A);return _e.asn1.x509.OID.oid2atype(W)+"="+mt(c(r,S[1]))},et.getPublicKeyFromCertHex=function(r){var i=new et;return i.readCertHex(r),i.getPublicKey()},et.getPublicKeyFromCertPEM=function(r){var i=new et;return i.readCertPEM(r),i.getPublicKey()},et.getPublicKeyInfoPropOfCertPEM=function(r){var i,u,c=gn.getVbyList,S={algparam:null};return(i=new et).readCertPEM(r),u=i.getPublicKeyHex(),S.keyhex=c(u,0,[1],"03").substr(2),S.algoid=c(u,0,[0,0],"06"),"2a8648ce3d0201"===S.algoid&&(S.algparam=c(u,0,[0,1],"06")),S},et.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==_e&&_e||(p.KJUR=_e={}),void 0!==_e.jws&&_e.jws||(_e.jws={}),_e.jws.JWS=function(){var r=_e.jws.JWS.isSafeJSONString;this.parseJWS=function(i,u){if(void 0===this.parsedJWS||!u&&void 0===this.parsedJWS.sigvalH){var c=i.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==c)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var S=c[1],A=c[2],W=c[3],ne=S+"."+A;if(this.parsedJWS={},this.parsedJWS.headB64U=S,this.parsedJWS.payloadB64U=A,this.parsedJWS.sigvalB64U=W,this.parsedJWS.si=ne,!u){var le=rt(W),he=rn(le,16);this.parsedJWS.sigvalH=le,this.parsedJWS.sigvalBI=he}var be=ci(S),ve=ci(A);if(this.parsedJWS.headS=be,this.parsedJWS.payloadS=ve,!r(be,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+be}}},_e.jws.JWS.sign=function(r,i,u,c,S){var A,W,ne,he=_e.jws.JWS,be=he.readSafeJSONString,ve=he.isSafeJSONString,Ie=_e.crypto,ze=Ie.Mac,st=Ie.Signature,_t=JSON;if("string"!=typeof i&&"object"!=(void 0===i?"undefined":d(i)))throw"spHeader must be JSON string or object: "+i;if("object"==(void 0===i?"undefined":d(i))&&(A=_t.stringify(W=i)),"string"==typeof i){if(!ve(A=i))throw"JWS Head is not safe JSON string: "+A;W=be(A)}if(ne=u,"object"==(void 0===u?"undefined":d(u))&&(ne=_t.stringify(u)),""!=r&&null!=r||void 0===W.alg||(r=W.alg),""!=r&&null!=r&&void 0===W.alg&&(W.alg=r,A=_t.stringify(W)),r!==W.alg)throw"alg and sHeader.alg doesn't match: "+r+"!="+W.alg;var vt=null;if(void 0===he.jwsalg2sigalg[r])throw"unsupported alg name: "+r;vt=he.jwsalg2sigalg[r];var de=ki(A)+"."+ki(ne),Oe="";if("Hmac"==vt.substr(0,4)){if(void 0===c)throw"mac key shall be specified for HS* alg";var Re=new ze({alg:vt,prov:"cryptojs",pass:c});Re.updateString(de),Oe=Re.doFinal()}else if(-1!=vt.indexOf("withECDSA")){(ee=new st({alg:vt})).init(c,S),ee.updateString(de);var je=ee.sign();Oe=_e.crypto.ECDSA.asn1SigToConcatSig(je)}else{var ee;"none"!=vt&&((ee=new st({alg:vt})).init(c,S),ee.updateString(de),Oe=ee.sign())}return de+"."+Se(Oe)},_e.jws.JWS.verify=function(r,i,u){var c,A=_e.jws.JWS,W=A.readSafeJSONString,ne=_e.crypto,le=ne.ECDSA,he=ne.Mac,be=ne.Signature;void 0!==d(dt)&&(c=dt);var ve=r.split(".");if(3!==ve.length)return!1;var vt,Ie=ve[0]+"."+ve[1],ze=rt(ve[2]),st=W(ci(ve[0])),_t=null;if(void 0===st.alg)throw"algorithm not specified in header";if(vt=(_t=st.alg).substr(0,2),null!=u&&"[object Array]"===Object.prototype.toString.call(u)&&u.length>0&&-1==(":"+u.join(":")+":").indexOf(":"+_t+":"))throw"algorithm '"+_t+"' not accepted in the list";if("none"!=_t&&null===i)throw"key shall be specified to verify.";if("string"==typeof i&&-1!=i.indexOf("-----BEGIN ")&&(i=ur.getKey(i)),!("RS"!=vt&&"PS"!=vt||i instanceof c))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==vt&&!(i instanceof le))throw"key shall be a ECDSA obj for ES* algs";var de=null;if(void 0===A.jwsalg2sigalg[st.alg])throw"unsupported alg name: "+_t;if("none"==(de=A.jwsalg2sigalg[_t]))throw"not supported";if("Hmac"==de.substr(0,4)){if(void 0===i)throw"hexadecimal key shall be specified for HMAC";var Oe=new he({alg:de,pass:i});return Oe.updateString(Ie),ze==Oe.doFinal()}if(-1!=de.indexOf("withECDSA")){var Re,je=null;try{je=le.concatSigToASN1Sig(ze)}catch{return!1}return(Re=new be({alg:de})).init(i),Re.updateString(Ie),Re.verify(je)}return(Re=new be({alg:de})).init(i),Re.updateString(Ie),Re.verify(ze)},_e.jws.JWS.parse=function(r){var u,c,S=r.split("."),A={};if(2!=S.length&&3!=S.length)throw"malformed sJWS: wrong number of '.' splitted elements";return u=S[1],3==S.length&&(c=S[2]),A.headerObj=_e.jws.JWS.readSafeJSONString(ci(S[0])),A.payloadObj=_e.jws.JWS.readSafeJSONString(ci(u)),A.headerPP=JSON.stringify(A.headerObj,null,"  "),A.payloadPP=null==A.payloadObj?ci(u):JSON.stringify(A.payloadObj,null,"  "),void 0!==c&&(A.sigHex=rt(c)),A},_e.jws.JWS.verifyJWT=function(r,i,u){var c=_e.jws,S=c.JWS,A=S.readSafeJSONString,W=S.inArray,ne=S.includedArray,le=r.split("."),he=le[0],be=le[1],ve=(rt(le[2]),A(ci(he))),Ie=A(ci(be));if(void 0===ve.alg)return!1;if(void 0===u.alg)throw"acceptField.alg shall be specified";if(!W(ve.alg,u.alg)||void 0!==Ie.iss&&"object"===d(u.iss)&&!W(Ie.iss,u.iss)||void 0!==Ie.sub&&"object"===d(u.sub)&&!W(Ie.sub,u.sub))return!1;if(void 0!==Ie.aud&&"object"===d(u.aud))if("string"==typeof Ie.aud){if(!W(Ie.aud,u.aud))return!1}else if("object"==d(Ie.aud)&&!ne(Ie.aud,u.aud))return!1;var ze=c.IntDate.getNow();return void 0!==u.verifyAt&&"number"==typeof u.verifyAt&&(ze=u.verifyAt),void 0!==u.gracePeriod&&"number"==typeof u.gracePeriod||(u.gracePeriod=0),!(void 0!==Ie.exp&&"number"==typeof Ie.exp&&Ie.exp+u.gracePeriod<ze||void 0!==Ie.nbf&&"number"==typeof Ie.nbf&&ze<Ie.nbf-u.gracePeriod||void 0!==Ie.iat&&"number"==typeof Ie.iat&&ze<Ie.iat-u.gracePeriod||void 0!==Ie.jti&&void 0!==u.jti&&Ie.jti!==u.jti||!S.verify(r,i,u.alg))},_e.jws.JWS.includedArray=function(r,i){var u=_e.jws.JWS.inArray;if(null===r||"object"!==(void 0===r?"undefined":d(r))||"number"!=typeof r.length)return!1;for(var c=0;c<r.length;c++)if(!u(r[c],i))return!1;return!0},_e.jws.JWS.inArray=function(r,i){if(null===i||"object"!==(void 0===i?"undefined":d(i))||"number"!=typeof i.length)return!1;for(var u=0;u<i.length;u++)if(i[u]==r)return!0;return!1},_e.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},_e.jws.JWS.isSafeJSONString=function(r,i,u){var c=null;try{return"object"!=(void 0===(c=_i(r))?"undefined":d(c))||c.constructor===Array?0:(i&&(i[u]=c),1)}catch{return 0}},_e.jws.JWS.readSafeJSONString=function(r){var i=null;try{return"object"!=(void 0===(i=_i(r))?"undefined":d(i))||i.constructor===Array?null:i}catch{return null}},_e.jws.JWS.getEncodedSignatureValueFromJWS=function(r){var i=r.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==i)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return i[1]},_e.jws.JWS.getJWKthumbprint=function(r){if("RSA"!==r.kty&&"EC"!==r.kty&&"oct"!==r.kty)throw"unsupported algorithm for JWK Thumprint";var i="{";if("RSA"===r.kty){if("string"!=typeof r.n||"string"!=typeof r.e)throw"wrong n and e value for RSA key";i+='"e":"'+r.e+'",',i+='"kty":"'+r.kty+'",',i+='"n":"'+r.n+'"}'}else if("EC"===r.kty){if("string"!=typeof r.crv||"string"!=typeof r.x||"string"!=typeof r.y)throw"wrong crv, x and y value for EC key";i+='"crv":"'+r.crv+'",',i+='"kty":"'+r.kty+'",',i+='"x":"'+r.x+'",',i+='"y":"'+r.y+'"}'}else if("oct"===r.kty){if("string"!=typeof r.k)throw"wrong k value for oct(symmetric) key";i+='"kty":"'+r.kty+'",',i+='"k":"'+r.k+'"}'}var u=Kt(i);return Se(_e.crypto.Util.hashHex(u,"sha256"))},_e.jws.IntDate={},_e.jws.IntDate.get=function(r){var i=_e.jws.IntDate,u=i.getNow,c=i.getZulu;if("now"==r)return u();if("now + 1hour"==r)return u()+3600;if("now + 1day"==r)return u()+86400;if("now + 1month"==r)return u()+2592e3;if("now + 1year"==r)return u()+31536e3;if(r.match(/Z$/))return c(r);if(r.match(/^[0-9]+$/))return parseInt(r);throw"unsupported format: "+r},_e.jws.IntDate.getZulu=function(r){return Vi(r)},_e.jws.IntDate.getNow=function(){return~~(new Date/1e3)},_e.jws.IntDate.intDate2UTCString=function(r){return new Date(1e3*r).toUTCString()},_e.jws.IntDate.intDate2Zulu=function(r){var i=new Date(1e3*r);return("0000"+i.getUTCFullYear()).slice(-4)+("00"+(i.getUTCMonth()+1)).slice(-2)+("00"+i.getUTCDate()).slice(-2)+("00"+i.getUTCHours()).slice(-2)+("00"+i.getUTCMinutes()).slice(-2)+("00"+i.getUTCSeconds()).slice(-2)+"Z"},p.SecureRandom=pn,p.rng_seed_time=At,p.BigInteger=m,p.RSAKey=dt,p.EDSA=_e.crypto.EDSA,p.DSA=_e.crypto.DSA,p.Signature=_e.crypto.Signature,p.MessageDigest=_e.crypto.MessageDigest,p.Mac=_e.crypto.Mac,p.Cipher=_e.crypto.Cipher,p.KEYUTIL=ur,p.ASN1HEX=gn,p.X509=et,p.CryptoJS=Ee,p.b64tohex=Ye,p.b64toBA=nt,p.stoBA=cs,p.BAtos=Cr,p.BAtohex=wr,p.stohex=Ht,p.stob64=function(i){return ke(Ht(i))},p.stob64u=function(i){return Ut(ke(Ht(i)))},p.b64utos=function(i){return Cr(nt(re(i)))},p.b64tob64u=Ut,p.b64utob64=re,p.hex2b64=ke,p.hextob64u=Se,p.b64utohex=rt,p.utf8tob64u=ki,p.b64utoutf8=ci,p.utf8tob64=function(i){return ke(Ar(Zr(i)))},p.b64toutf8=function(i){return decodeURIComponent(Zi(Ye(i)))},p.utf8tohex=yt,p.hextoutf8=pt,p.hextorstr=mt,p.rstrtohex=Kt,p.hextob64=Un,p.hextob64nl=jn,p.b64nltohex=Qt,p.hextopem=dn,p.pemtohex=Mn,p.hextoArrayBuffer=function(i){if(i.length%2!=0)throw"input is not even length";if(null==i.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var u=new ArrayBuffer(i.length/2),c=new DataView(u),S=0;S<i.length/2;S++)c.setUint8(S,parseInt(i.substr(2*S,2),16));return u},p.ArrayBuffertohex=function(i){for(var u="",c=new DataView(i),S=0;S<i.byteLength;S++)u+=("00"+c.getUint8(S).toString(16)).slice(-2);return u},p.zulutomsec=si,p.zulutosec=Vi,p.zulutodate=function(i){return new Date(si(i))},p.datetozulu=function(i,u,c){var S,A=i.getUTCFullYear();if(u){if(A<1950||2049<A)throw"not proper year for UTCTime: "+A;S=(""+A).slice(-2)}else S=("000"+A).slice(-4);if(S+=("0"+(i.getUTCMonth()+1)).slice(-2),S+=("0"+i.getUTCDate()).slice(-2),S+=("0"+i.getUTCHours()).slice(-2),S+=("0"+i.getUTCMinutes()).slice(-2),S+=("0"+i.getUTCSeconds()).slice(-2),c){var W=i.getUTCMilliseconds();0!==W&&(S+="."+(W=(W=("00"+W).slice(-3)).replace(/0+$/g,"")))}return S+"Z"},p.uricmptohex=Ar,p.hextouricmp=Zi,p.ipv6tohex=oi,p.hextoipv6=Wr,p.hextoip=us,p.iptohex=function(i){var u="malformed IP address";if(!(i=i.toLowerCase(i)).match(/^[0-9.]+$/)){if(i.match(/^[0-9a-f:]+$/)&&-1!==i.indexOf(":"))return oi(i);throw u}var c=i.split(".");if(4!==c.length)throw u;var S="";try{for(var A=0;A<4;A++)S+=("0"+parseInt(c[A]).toString(16)).slice(-2);return S}catch{throw u}},p.encodeURIComponentAll=Zr,p.newline_toUnix=function(i){return i.replace(/\r\n/gm,"\n")},p.newline_toDos=function(i){return(i=i.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},p.hextoposhex=hs,p.intarystrtohex=function(i){i=(i=(i=i.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return i.split(/,/).map(function(u,c,S){var A=parseInt(u);if(A<0||255<A)throw"integer not in range 0-255";return("00"+A.toString(16)).slice(-2)}).join("")}catch(u){throw"malformed integer array string: "+u}},p.strdiffidx=function(i,u){var c=i.length;i.length>u.length&&(c=u.length);for(var S=0;S<c;S++)if(i.charCodeAt(S)!=u.charCodeAt(S))return S;return i.length!=u.length?c:-1},p.KJUR=_e,p.crypto=_e.crypto,p.asn1=_e.asn1,p.jws=_e.jws,p.lang=_e.lang}).call(this,e(28).Buffer)},function(We,p,e){"use strict";(function(f){var d=e(30),G=e(31),H=e(32);function b(){return x.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function D(Le,B){if(b()<B)throw new RangeError("Invalid typed array length");return x.TYPED_ARRAY_SUPPORT?(Le=new Uint8Array(B)).__proto__=x.prototype:(null===Le&&(Le=new x(B)),Le.length=B),Le}function x(Le,B,J){if(!(x.TYPED_ARRAY_SUPPORT||this instanceof x))return new x(Le,B,J);if("number"==typeof Le){if("string"==typeof B)throw new Error("If encoding is specified then the first argument must be a string");return X(this,Le)}return k(this,Le,B,J)}function k(Le,B,J,Pe){if("number"==typeof B)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&B instanceof ArrayBuffer?function(qe,At,un,kn){if(un<0||At.byteLength<un)throw new RangeError("'offset' is out of bounds");if(At.byteLength<un+(kn||0))throw new RangeError("'length' is out of bounds");return At=void 0===un&&void 0===kn?new Uint8Array(At):void 0===kn?new Uint8Array(At,un):new Uint8Array(At,un,kn),x.TYPED_ARRAY_SUPPORT?(qe=At).__proto__=x.prototype:qe=se(qe,At),qe}(Le,B,J,Pe):"string"==typeof B?function(qe,At,un){if("string"==typeof un&&""!==un||(un="utf8"),!x.isEncoding(un))throw new TypeError('"encoding" must be a valid string encoding');var kn=0|oe(At,un),ti=(qe=D(qe,kn)).write(At,un);return ti!==kn&&(qe=qe.slice(0,ti)),qe}(Le,B,J):function(qe,At){if(x.isBuffer(At)){var un=0|q(At.length);return 0===(qe=D(qe,un)).length||At.copy(qe,0,0,un),qe}if(At){if(typeof ArrayBuffer<"u"&&At.buffer instanceof ArrayBuffer||"length"in At)return"number"!=typeof At.length||(ti=At.length)!=ti?D(qe,0):se(qe,At);if("Buffer"===At.type&&H(At.data))return se(qe,At.data)}var ti;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Le,B)}function j(Le){if("number"!=typeof Le)throw new TypeError('"size" argument must be a number');if(Le<0)throw new RangeError('"size" argument must not be negative')}function X(Le,B){if(j(B),Le=D(Le,B<0?0:0|q(B)),!x.TYPED_ARRAY_SUPPORT)for(var J=0;J<B;++J)Le[J]=0;return Le}function se(Le,B){var J=B.length<0?0:0|q(B.length);Le=D(Le,J);for(var Pe=0;Pe<J;Pe+=1)Le[Pe]=255&B[Pe];return Le}function q(Le){if(Le>=b())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b().toString(16)+" bytes");return 0|Le}function oe(Le,B){if(x.isBuffer(Le))return Le.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Le)||Le instanceof ArrayBuffer))return Le.byteLength;"string"!=typeof Le&&(Le=""+Le);var J=Le.length;if(0===J)return 0;for(var Pe=!1;;)switch(B){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":case void 0:return $t(Le).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*J;case"hex":return J>>>1;case"base64":return Bn(Le).length;default:if(Pe)return $t(Le).length;B=(""+B).toLowerCase(),Pe=!0}}function te(Le,B,J){var Pe=!1;if((void 0===B||B<0)&&(B=0),B>this.length||((void 0===J||J>this.length)&&(J=this.length),J<=0)||(J>>>=0)<=(B>>>=0))return"";for(Le||(Le="utf8");;)switch(Le){case"hex":return tn(this,B,J);case"utf8":case"utf-8":return It(this,B,J);case"ascii":return wt(this,B,J);case"latin1":case"binary":return mn(this,B,J);case"base64":return Tt(this,B,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pn(this,B,J);default:if(Pe)throw new TypeError("Unknown encoding: "+Le);Le=(Le+"").toLowerCase(),Pe=!0}}function ue(Le,B,J){var Pe=Le[B];Le[B]=Le[J],Le[J]=Pe}function Ge(Le,B,J,Pe,$e){if(0===Le.length)return-1;if("string"==typeof J?(Pe=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,isNaN(J)&&(J=$e?0:Le.length-1),J<0&&(J=Le.length+J),J>=Le.length){if($e)return-1;J=Le.length-1}else if(J<0){if(!$e)return-1;J=0}if("string"==typeof B&&(B=x.from(B,Pe)),x.isBuffer(B))return 0===B.length?-1:Ee(Le,B,J,Pe,$e);if("number"==typeof B)return B&=255,x.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?$e?Uint8Array.prototype.indexOf.call(Le,B,J):Uint8Array.prototype.lastIndexOf.call(Le,B,J):Ee(Le,[B],J,Pe,$e);throw new TypeError("val must be string, number or Buffer")}function Ee(Le,B,J,Pe,$e){var qe,At=1,un=Le.length,kn=B.length;if(void 0!==Pe&&("ucs2"===(Pe=String(Pe).toLowerCase())||"ucs-2"===Pe||"utf16le"===Pe||"utf-16le"===Pe)){if(Le.length<2||B.length<2)return-1;At=2,un/=2,kn/=2,J/=2}function ti(rn,gt){return 1===At?rn[gt]:rn.readUInt16BE(gt*At)}if($e){var ii=-1;for(qe=J;qe<un;qe++)if(ti(Le,qe)===ti(B,-1===ii?0:qe-ii)){if(-1===ii&&(ii=qe),qe-ii+1===kn)return ii*At}else-1!==ii&&(qe-=qe-ii),ii=-1}else for(J+kn>un&&(J=un-kn),qe=J;qe>=0;qe--){for(var gi=!0,pn=0;pn<kn;pn++)if(ti(Le,qe+pn)!==ti(B,pn)){gi=!1;break}if(gi)return qe}return-1}function Fe(Le,B,J,Pe){J=Number(J)||0;var $e=Le.length-J;Pe?(Pe=Number(Pe))>$e&&(Pe=$e):Pe=$e;var qe=B.length;if(qe%2!=0)throw new TypeError("Invalid hex string");Pe>qe/2&&(Pe=qe/2);for(var At=0;At<Pe;++At){var un=parseInt(B.substr(2*At,2),16);if(isNaN(un))return At;Le[J+At]=un}return At}function ye(Le,B,J,Pe){return Hn($t(B,Le.length-J),Le,J,Pe)}function ke(Le,B,J,Pe){return Hn(function(qe){for(var At=[],un=0;un<qe.length;++un)At.push(255&qe.charCodeAt(un));return At}(B),Le,J,Pe)}function Ye(Le,B,J,Pe){return ke(Le,B,J,Pe)}function nt(Le,B,J,Pe){return Hn(Bn(B),Le,J,Pe)}function m(Le,B,J,Pe){return Hn(function(qe,At){for(var un,kn,ii=[],gi=0;gi<qe.length&&!((At-=2)<0);++gi)kn=(un=qe.charCodeAt(gi))>>8,ii.push(un%256),ii.push(kn);return ii}(B,Le.length-J),Le,J,Pe)}function Tt(Le,B,J){return d.fromByteArray(0===B&&J===Le.length?Le:Le.slice(B,J))}function It(Le,B,J){J=Math.min(Le.length,J);for(var Pe=[],$e=B;$e<J;){var qe,At,un,kn,ti=Le[$e],ii=null,gi=ti>239?4:ti>223?3:ti>191?2:1;if($e+gi<=J)switch(gi){case 1:ti<128&&(ii=ti);break;case 2:128==(192&(qe=Le[$e+1]))&&(kn=(31&ti)<<6|63&qe)>127&&(ii=kn);break;case 3:At=Le[$e+2],128==(192&(qe=Le[$e+1]))&&128==(192&At)&&(kn=(15&ti)<<12|(63&qe)<<6|63&At)>2047&&(kn<55296||kn>57343)&&(ii=kn);break;case 4:At=Le[$e+2],un=Le[$e+3],128==(192&(qe=Le[$e+1]))&&128==(192&At)&&128==(192&un)&&(kn=(15&ti)<<18|(63&qe)<<12|(63&At)<<6|63&un)>65535&&kn<1114112&&(ii=kn)}null===ii?(ii=65533,gi=1):ii>65535&&(Pe.push((ii-=65536)>>>10&1023|55296),ii=56320|1023&ii),Pe.push(ii),$e+=gi}return function(rn){var gt=rn.length;if(gt<=Bt)return String.fromCharCode.apply(String,rn);for(var dt="",sn=0;sn<gt;)dt+=String.fromCharCode.apply(String,rn.slice(sn,sn+=Bt));return dt}(Pe)}p.Buffer=x,p.SlowBuffer=function(B){return+B!=B&&(B=0),x.alloc(+B)},p.INSPECT_MAX_BYTES=50,x.TYPED_ARRAY_SUPPORT=void 0!==f.TYPED_ARRAY_SUPPORT?f.TYPED_ARRAY_SUPPORT:function(){try{var B=new Uint8Array(1);return B.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===B.foo()&&"function"==typeof B.subarray&&0===B.subarray(1,1).byteLength}catch{return!1}}(),p.kMaxLength=b(),x.poolSize=8192,x._augment=function(Le){return Le.__proto__=x.prototype,Le},x.from=function(Le,B,J){return k(null,Le,B,J)},x.TYPED_ARRAY_SUPPORT&&(x.prototype.__proto__=Uint8Array.prototype,x.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&x[Symbol.species]===x&&Object.defineProperty(x,Symbol.species,{value:null,configurable:!0})),x.alloc=function(Le,B,J){return null,At=B,un=J,j(qe=Le),qe<=0?D(null,qe):void 0!==At?"string"==typeof un?D(null,qe).fill(At,un):D(null,qe).fill(At):D(null,qe);var qe,At,un},x.allocUnsafe=function(Le){return X(null,Le)},x.allocUnsafeSlow=function(Le){return X(null,Le)},x.isBuffer=function(B){return!(null==B||!B._isBuffer)},x.compare=function(B,J){if(!x.isBuffer(B)||!x.isBuffer(J))throw new TypeError("Arguments must be Buffers");if(B===J)return 0;for(var Pe=B.length,$e=J.length,qe=0,At=Math.min(Pe,$e);qe<At;++qe)if(B[qe]!==J[qe]){Pe=B[qe],$e=J[qe];break}return Pe<$e?-1:$e<Pe?1:0},x.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},x.concat=function(B,J){if(!H(B))throw new TypeError('"list" argument must be an Array of Buffers');if(0===B.length)return x.alloc(0);var Pe;if(void 0===J)for(J=0,Pe=0;Pe<B.length;++Pe)J+=B[Pe].length;var $e=x.allocUnsafe(J),qe=0;for(Pe=0;Pe<B.length;++Pe){var At=B[Pe];if(!x.isBuffer(At))throw new TypeError('"list" argument must be an Array of Buffers');At.copy($e,qe),qe+=At.length}return $e},x.byteLength=oe,x.prototype._isBuffer=!0,x.prototype.swap16=function(){var B=this.length;if(B%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var J=0;J<B;J+=2)ue(this,J,J+1);return this},x.prototype.swap32=function(){var B=this.length;if(B%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var J=0;J<B;J+=4)ue(this,J,J+3),ue(this,J+1,J+2);return this},x.prototype.swap64=function(){var B=this.length;if(B%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var J=0;J<B;J+=8)ue(this,J,J+7),ue(this,J+1,J+6),ue(this,J+2,J+5),ue(this,J+3,J+4);return this},x.prototype.toString=function(){var B=0|this.length;return 0===B?"":0===arguments.length?It(this,0,B):te.apply(this,arguments)},x.prototype.equals=function(B){if(!x.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B||0===x.compare(this,B)},x.prototype.inspect=function(){var B="",J=p.INSPECT_MAX_BYTES;return this.length>0&&(B=this.toString("hex",0,J).match(/.{2}/g).join(" "),this.length>J&&(B+=" ... ")),"<Buffer "+B+">"},x.prototype.compare=function(B,J,Pe,$e,qe){if(!x.isBuffer(B))throw new TypeError("Argument must be a Buffer");if(void 0===J&&(J=0),void 0===Pe&&(Pe=B?B.length:0),void 0===$e&&($e=0),void 0===qe&&(qe=this.length),J<0||Pe>B.length||$e<0||qe>this.length)throw new RangeError("out of range index");if($e>=qe&&J>=Pe)return 0;if($e>=qe)return-1;if(J>=Pe)return 1;if(this===B)return 0;for(var At=(qe>>>=0)-($e>>>=0),un=(Pe>>>=0)-(J>>>=0),kn=Math.min(At,un),ti=this.slice($e,qe),ii=B.slice(J,Pe),gi=0;gi<kn;++gi)if(ti[gi]!==ii[gi]){At=ti[gi],un=ii[gi];break}return At<un?-1:un<At?1:0},x.prototype.includes=function(B,J,Pe){return-1!==this.indexOf(B,J,Pe)},x.prototype.indexOf=function(B,J,Pe){return Ge(this,B,J,Pe,!0)},x.prototype.lastIndexOf=function(B,J,Pe){return Ge(this,B,J,Pe,!1)},x.prototype.write=function(B,J,Pe,$e){if(void 0===J)$e="utf8",Pe=this.length,J=0;else if(void 0===Pe&&"string"==typeof J)$e=J,Pe=this.length,J=0;else{if(!isFinite(J))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");J|=0,isFinite(Pe)?(Pe|=0,void 0===$e&&($e="utf8")):($e=Pe,Pe=void 0)}var qe=this.length-J;if((void 0===Pe||Pe>qe)&&(Pe=qe),B.length>0&&(Pe<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");$e||($e="utf8");for(var At=!1;;)switch($e){case"hex":return Fe(this,B,J,Pe);case"utf8":case"utf-8":return ye(this,B,J,Pe);case"ascii":return ke(this,B,J,Pe);case"latin1":case"binary":return Ye(this,B,J,Pe);case"base64":return nt(this,B,J,Pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,B,J,Pe);default:if(At)throw new TypeError("Unknown encoding: "+$e);$e=(""+$e).toLowerCase(),At=!0}},x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Bt=4096;function wt(Le,B,J){var Pe="";J=Math.min(Le.length,J);for(var $e=B;$e<J;++$e)Pe+=String.fromCharCode(127&Le[$e]);return Pe}function mn(Le,B,J){var Pe="";J=Math.min(Le.length,J);for(var $e=B;$e<J;++$e)Pe+=String.fromCharCode(Le[$e]);return Pe}function tn(Le,B,J){var Pe=Le.length;(!B||B<0)&&(B=0),(!J||J<0||J>Pe)&&(J=Pe);for(var $e="",qe=B;qe<J;++qe)$e+=Jt(Le[qe]);return $e}function Pn(Le,B,J){for(var Pe=Le.slice(B,J),$e="",qe=0;qe<Pe.length;qe+=2)$e+=String.fromCharCode(Pe[qe]+256*Pe[qe+1]);return $e}function On(Le,B,J){if(Le%1!=0||Le<0)throw new RangeError("offset is not uint");if(Le+B>J)throw new RangeError("Trying to access beyond buffer length")}function Tn(Le,B,J,Pe,$e,qe){if(!x.isBuffer(Le))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>$e||B<qe)throw new RangeError('"value" argument is out of bounds');if(J+Pe>Le.length)throw new RangeError("Index out of range")}function Cn(Le,B,J,Pe){B<0&&(B=65535+B+1);for(var $e=0,qe=Math.min(Le.length-J,2);$e<qe;++$e)Le[J+$e]=(B&255<<8*(Pe?$e:1-$e))>>>8*(Pe?$e:1-$e)}function nn(Le,B,J,Pe){B<0&&(B=4294967295+B+1);for(var $e=0,qe=Math.min(Le.length-J,4);$e<qe;++$e)Le[J+$e]=B>>>8*(Pe?$e:3-$e)&255}function tt(Le,B,J,Pe,$e,qe){if(J+Pe>Le.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function bt(Le,B,J,Pe,$e){return $e||tt(Le,0,J,4),G.write(Le,B,J,Pe,23,4),J+4}function Rt(Le,B,J,Pe,$e){return $e||tt(Le,0,J,8),G.write(Le,B,J,Pe,52,8),J+8}x.prototype.slice=function(B,J){var Pe,$e=this.length;if((B=~~B)<0?(B+=$e)<0&&(B=0):B>$e&&(B=$e),(J=void 0===J?$e:~~J)<0?(J+=$e)<0&&(J=0):J>$e&&(J=$e),J<B&&(J=B),x.TYPED_ARRAY_SUPPORT)(Pe=this.subarray(B,J)).__proto__=x.prototype;else{var qe=J-B;Pe=new x(qe,void 0);for(var At=0;At<qe;++At)Pe[At]=this[At+B]}return Pe},x.prototype.readUIntLE=function(B,J,Pe){B|=0,J|=0,Pe||On(B,J,this.length);for(var $e=this[B],qe=1,At=0;++At<J&&(qe*=256);)$e+=this[B+At]*qe;return $e},x.prototype.readUIntBE=function(B,J,Pe){B|=0,J|=0,Pe||On(B,J,this.length);for(var $e=this[B+--J],qe=1;J>0&&(qe*=256);)$e+=this[B+--J]*qe;return $e},x.prototype.readUInt8=function(B,J){return J||On(B,1,this.length),this[B]},x.prototype.readUInt16LE=function(B,J){return J||On(B,2,this.length),this[B]|this[B+1]<<8},x.prototype.readUInt16BE=function(B,J){return J||On(B,2,this.length),this[B]<<8|this[B+1]},x.prototype.readUInt32LE=function(B,J){return J||On(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+16777216*this[B+3]},x.prototype.readUInt32BE=function(B,J){return J||On(B,4,this.length),16777216*this[B]+(this[B+1]<<16|this[B+2]<<8|this[B+3])},x.prototype.readIntLE=function(B,J,Pe){B|=0,J|=0,Pe||On(B,J,this.length);for(var $e=this[B],qe=1,At=0;++At<J&&(qe*=256);)$e+=this[B+At]*qe;return $e>=(qe*=128)&&($e-=Math.pow(2,8*J)),$e},x.prototype.readIntBE=function(B,J,Pe){B|=0,J|=0,Pe||On(B,J,this.length);for(var $e=J,qe=1,At=this[B+--$e];$e>0&&(qe*=256);)At+=this[B+--$e]*qe;return At>=(qe*=128)&&(At-=Math.pow(2,8*J)),At},x.prototype.readInt8=function(B,J){return J||On(B,1,this.length),128&this[B]?-1*(255-this[B]+1):this[B]},x.prototype.readInt16LE=function(B,J){J||On(B,2,this.length);var Pe=this[B]|this[B+1]<<8;return 32768&Pe?4294901760|Pe:Pe},x.prototype.readInt16BE=function(B,J){J||On(B,2,this.length);var Pe=this[B+1]|this[B]<<8;return 32768&Pe?4294901760|Pe:Pe},x.prototype.readInt32LE=function(B,J){return J||On(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},x.prototype.readInt32BE=function(B,J){return J||On(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},x.prototype.readFloatLE=function(B,J){return J||On(B,4,this.length),G.read(this,B,!0,23,4)},x.prototype.readFloatBE=function(B,J){return J||On(B,4,this.length),G.read(this,B,!1,23,4)},x.prototype.readDoubleLE=function(B,J){return J||On(B,8,this.length),G.read(this,B,!0,52,8)},x.prototype.readDoubleBE=function(B,J){return J||On(B,8,this.length),G.read(this,B,!1,52,8)},x.prototype.writeUIntLE=function(B,J,Pe,$e){B=+B,J|=0,Pe|=0,$e||Tn(this,B,J,Pe,Math.pow(2,8*Pe)-1,0);var qe=1,At=0;for(this[J]=255&B;++At<Pe&&(qe*=256);)this[J+At]=B/qe&255;return J+Pe},x.prototype.writeUIntBE=function(B,J,Pe,$e){B=+B,J|=0,Pe|=0,$e||Tn(this,B,J,Pe,Math.pow(2,8*Pe)-1,0);var qe=Pe-1,At=1;for(this[J+qe]=255&B;--qe>=0&&(At*=256);)this[J+qe]=B/At&255;return J+Pe},x.prototype.writeUInt8=function(B,J,Pe){return B=+B,J|=0,Pe||Tn(this,B,J,1,255,0),x.TYPED_ARRAY_SUPPORT||(B=Math.floor(B)),this[J]=255&B,J+1},x.prototype.writeUInt16LE=function(B,J,Pe){return B=+B,J|=0,Pe||Tn(this,B,J,2,65535,0),x.TYPED_ARRAY_SUPPORT?(this[J]=255&B,this[J+1]=B>>>8):Cn(this,B,J,!0),J+2},x.prototype.writeUInt16BE=function(B,J,Pe){return B=+B,J|=0,Pe||Tn(this,B,J,2,65535,0),x.TYPED_ARRAY_SUPPORT?(this[J]=B>>>8,this[J+1]=255&B):Cn(this,B,J,!1),J+2},x.prototype.writeUInt32LE=function(B,J,Pe){return B=+B,J|=0,Pe||Tn(this,B,J,4,4294967295,0),x.TYPED_ARRAY_SUPPORT?(this[J+3]=B>>>24,this[J+2]=B>>>16,this[J+1]=B>>>8,this[J]=255&B):nn(this,B,J,!0),J+4},x.prototype.writeUInt32BE=function(B,J,Pe){return B=+B,J|=0,Pe||Tn(this,B,J,4,4294967295,0),x.TYPED_ARRAY_SUPPORT?(this[J]=B>>>24,this[J+1]=B>>>16,this[J+2]=B>>>8,this[J+3]=255&B):nn(this,B,J,!1),J+4},x.prototype.writeIntLE=function(B,J,Pe,$e){if(B=+B,J|=0,!$e){var qe=Math.pow(2,8*Pe-1);Tn(this,B,J,Pe,qe-1,-qe)}var At=0,un=1,kn=0;for(this[J]=255&B;++At<Pe&&(un*=256);)B<0&&0===kn&&0!==this[J+At-1]&&(kn=1),this[J+At]=(B/un|0)-kn&255;return J+Pe},x.prototype.writeIntBE=function(B,J,Pe,$e){if(B=+B,J|=0,!$e){var qe=Math.pow(2,8*Pe-1);Tn(this,B,J,Pe,qe-1,-qe)}var At=Pe-1,un=1,kn=0;for(this[J+At]=255&B;--At>=0&&(un*=256);)B<0&&0===kn&&0!==this[J+At+1]&&(kn=1),this[J+At]=(B/un|0)-kn&255;return J+Pe},x.prototype.writeInt8=function(B,J,Pe){return B=+B,J|=0,Pe||Tn(this,B,J,1,127,-128),x.TYPED_ARRAY_SUPPORT||(B=Math.floor(B)),B<0&&(B=255+B+1),this[J]=255&B,J+1},x.prototype.writeInt16LE=function(B,J,Pe){return B=+B,J|=0,Pe||Tn(this,B,J,2,32767,-32768),x.TYPED_ARRAY_SUPPORT?(this[J]=255&B,this[J+1]=B>>>8):Cn(this,B,J,!0),J+2},x.prototype.writeInt16BE=function(B,J,Pe){return B=+B,J|=0,Pe||Tn(this,B,J,2,32767,-32768),x.TYPED_ARRAY_SUPPORT?(this[J]=B>>>8,this[J+1]=255&B):Cn(this,B,J,!1),J+2},x.prototype.writeInt32LE=function(B,J,Pe){return B=+B,J|=0,Pe||Tn(this,B,J,4,2147483647,-2147483648),x.TYPED_ARRAY_SUPPORT?(this[J]=255&B,this[J+1]=B>>>8,this[J+2]=B>>>16,this[J+3]=B>>>24):nn(this,B,J,!0),J+4},x.prototype.writeInt32BE=function(B,J,Pe){return B=+B,J|=0,Pe||Tn(this,B,J,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),x.TYPED_ARRAY_SUPPORT?(this[J]=B>>>24,this[J+1]=B>>>16,this[J+2]=B>>>8,this[J+3]=255&B):nn(this,B,J,!1),J+4},x.prototype.writeFloatLE=function(B,J,Pe){return bt(this,B,J,!0,Pe)},x.prototype.writeFloatBE=function(B,J,Pe){return bt(this,B,J,!1,Pe)},x.prototype.writeDoubleLE=function(B,J,Pe){return Rt(this,B,J,!0,Pe)},x.prototype.writeDoubleBE=function(B,J,Pe){return Rt(this,B,J,!1,Pe)},x.prototype.copy=function(B,J,Pe,$e){if(Pe||(Pe=0),$e||0===$e||($e=this.length),J>=B.length&&(J=B.length),J||(J=0),$e>0&&$e<Pe&&($e=Pe),$e===Pe||0===B.length||0===this.length)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(Pe<0||Pe>=this.length)throw new RangeError("sourceStart out of bounds");if($e<0)throw new RangeError("sourceEnd out of bounds");$e>this.length&&($e=this.length),B.length-J<$e-Pe&&($e=B.length-J+Pe);var qe,At=$e-Pe;if(this===B&&Pe<J&&J<$e)for(qe=At-1;qe>=0;--qe)B[qe+J]=this[qe+Pe];else if(At<1e3||!x.TYPED_ARRAY_SUPPORT)for(qe=0;qe<At;++qe)B[qe+J]=this[qe+Pe];else Uint8Array.prototype.set.call(B,this.subarray(Pe,Pe+At),J);return At},x.prototype.fill=function(B,J,Pe,$e){if("string"==typeof B){if("string"==typeof J?($e=J,J=0,Pe=this.length):"string"==typeof Pe&&($e=Pe,Pe=this.length),1===B.length){var qe=B.charCodeAt(0);qe<256&&(B=qe)}if(void 0!==$e&&"string"!=typeof $e)throw new TypeError("encoding must be a string");if("string"==typeof $e&&!x.isEncoding($e))throw new TypeError("Unknown encoding: "+$e)}else"number"==typeof B&&(B&=255);if(J<0||this.length<J||this.length<Pe)throw new RangeError("Out of range index");if(Pe<=J)return this;var At;if(J>>>=0,Pe=void 0===Pe?this.length:Pe>>>0,B||(B=0),"number"==typeof B)for(At=J;At<Pe;++At)this[At]=B;else{var un=x.isBuffer(B)?B:$t(new x(B,$e).toString()),kn=un.length;for(At=0;At<Pe-J;++At)this[At+J]=un[At%kn]}return this};var xt=/[^+\/0-9A-Za-z-_]/g;function Jt(Le){return Le<16?"0"+Le.toString(16):Le.toString(16)}function $t(Le,B){var J;B=B||1/0;for(var Pe=Le.length,$e=null,qe=[],At=0;At<Pe;++At){if((J=Le.charCodeAt(At))>55295&&J<57344){if(!$e){if(J>56319){(B-=3)>-1&&qe.push(239,191,189);continue}if(At+1===Pe){(B-=3)>-1&&qe.push(239,191,189);continue}$e=J;continue}if(J<56320){(B-=3)>-1&&qe.push(239,191,189),$e=J;continue}J=65536+($e-55296<<10|J-56320)}else $e&&(B-=3)>-1&&qe.push(239,191,189);if($e=null,J<128){if((B-=1)<0)break;qe.push(J)}else if(J<2048){if((B-=2)<0)break;qe.push(J>>6|192,63&J|128)}else if(J<65536){if((B-=3)<0)break;qe.push(J>>12|224,J>>6&63|128,63&J|128)}else{if(!(J<1114112))throw new Error("Invalid code point");if((B-=4)<0)break;qe.push(J>>18|240,J>>12&63|128,J>>6&63|128,63&J|128)}}return qe}function Bn(Le){return d.toByteArray(function(J){if((J=($e=J,$e.trim?$e.trim():$e.replace(/^\s+|\s+$/g,"")).replace(xt,"")).length<2)return"";for(var $e;J.length%4!=0;)J+="=";return J}(Le))}function Hn(Le,B,J,Pe){for(var $e=0;$e<Pe&&!($e+J>=B.length||$e>=Le.length);++$e)B[$e+J]=Le[$e];return $e}}).call(this,e(29))},function(We,p){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{"object"==typeof window&&(e=window)}We.exports=e},function(We,p,e){"use strict";p.byteLength=function(X){var se=x(X),oe=se[1];return 3*(se[0]+oe)/4-oe},p.toByteArray=function(X){var se,q,nt,oe=x(X),te=oe[0],ue=oe[1],Ge=new G(3*(te+(nt=ue))/4-nt),Ee=0,Fe=ue>0?te-4:te;for(q=0;q<Fe;q+=4)se=d[X.charCodeAt(q)]<<18|d[X.charCodeAt(q+1)]<<12|d[X.charCodeAt(q+2)]<<6|d[X.charCodeAt(q+3)],Ge[Ee++]=se>>16&255,Ge[Ee++]=se>>8&255,Ge[Ee++]=255&se;return 2===ue&&(se=d[X.charCodeAt(q)]<<2|d[X.charCodeAt(q+1)]>>4,Ge[Ee++]=255&se),1===ue&&(se=d[X.charCodeAt(q)]<<10|d[X.charCodeAt(q+1)]<<4|d[X.charCodeAt(q+2)]>>2,Ge[Ee++]=se>>8&255,Ge[Ee++]=255&se),Ge},p.fromByteArray=function(X){for(var se,q=X.length,oe=q%3,te=[],Ge=0,Ee=q-oe;Ge<Ee;Ge+=16383)te.push(k(X,Ge,Ge+16383>Ee?Ee:Ge+16383));return 1===oe?te.push(f[(se=X[q-1])>>2]+f[se<<4&63]+"=="):2===oe&&te.push(f[(se=(X[q-2]<<8)+X[q-1])>>10]+f[se>>4&63]+f[se<<2&63]+"="),te.join("")};for(var f=[],d=[],G=typeof Uint8Array<"u"?Uint8Array:Array,H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0;b<64;++b)f[b]=H[b],d[H.charCodeAt(b)]=b;function x(j){var X=j.length;if(X%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var se=j.indexOf("=");return-1===se&&(se=X),[se,se===X?0:4-se%4]}function k(j,X,se){for(var oe,te=[],ue=X;ue<se;ue+=3)te.push(f[(oe=(j[ue]<<16&16711680)+(j[ue+1]<<8&65280)+(255&j[ue+2]))>>18&63]+f[oe>>12&63]+f[oe>>6&63]+f[63&oe]);return te.join("")}d[45]=62,d[95]=63},function(We,p){p.read=function(e,f,d,G,H){var b,D,x=8*H-G-1,k=(1<<x)-1,j=k>>1,X=-7,se=d?H-1:0,q=d?-1:1,oe=e[f+se];for(se+=q,b=oe&(1<<-X)-1,oe>>=-X,X+=x;X>0;b=256*b+e[f+se],se+=q,X-=8);for(D=b&(1<<-X)-1,b>>=-X,X+=G;X>0;D=256*D+e[f+se],se+=q,X-=8);if(0===b)b=1-j;else{if(b===k)return D?NaN:1/0*(oe?-1:1);D+=Math.pow(2,G),b-=j}return(oe?-1:1)*D*Math.pow(2,b-G)},p.write=function(e,f,d,G,H,b){var D,x,k,j=8*b-H-1,X=(1<<j)-1,se=X>>1,q=23===H?Math.pow(2,-24)-Math.pow(2,-77):0,oe=G?0:b-1,te=G?1:-1,ue=f<0||0===f&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(x=isNaN(f)?1:0,D=X):(D=Math.floor(Math.log(f)/Math.LN2),f*(k=Math.pow(2,-D))<1&&(D--,k*=2),(f+=D+se>=1?q/k:q*Math.pow(2,1-se))*k>=2&&(D++,k/=2),D+se>=X?(x=0,D=X):D+se>=1?(x=(f*k-1)*Math.pow(2,H),D+=se):(x=f*Math.pow(2,se-1)*Math.pow(2,H),D=0));H>=8;e[d+oe]=255&x,oe+=te,x/=256,H-=8);for(D=D<<H|x,j+=H;j>0;e[d+oe]=255&D,oe+=te,D/=256,j-=8);e[d+oe-te]|=128*ue}},function(We,p){var e={}.toString;We.exports=Array.isArray||function(f){return"[object Array]"==e.call(f)}},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=function(G){var H=G.jws,b=G.KeyUtil,D=G.X509,x=G.crypto,k=G.hextob64u,j=G.b64tohex,X=G.AllowedSigningAlgs;return function(){function se(){!function(oe,te){if(!(oe instanceof te))throw new TypeError("Cannot call a class as a function")}(this,se)}return se.parseJwt=function(oe){f.Log.debug("JoseUtil.parseJwt");try{var te=H.JWS.parse(oe);return{header:te.headerObj,payload:te.payloadObj}}catch(ue){f.Log.error(ue)}},se.validateJwt=function(oe,te,ue,Ge,Ee,Fe,ye){f.Log.debug("JoseUtil.validateJwt");try{if("RSA"===te.kty)if(te.e&&te.n)te=b.getKey(te);else{if(!te.x5c||!te.x5c.length)return f.Log.error("JoseUtil.validateJwt: RSA key missing key material",te),Promise.reject(new Error("RSA key missing key material"));var ke=j(te.x5c[0]);te=D.getPublicKeyFromCertHex(ke)}else{if("EC"!==te.kty)return f.Log.error("JoseUtil.validateJwt: Unsupported key type",te&&te.kty),Promise.reject(new Error(te.kty));if(!(te.crv&&te.x&&te.y))return f.Log.error("JoseUtil.validateJwt: EC key missing key material",te),Promise.reject(new Error("EC key missing key material"));te=b.getKey(te)}return se._validateJwt(oe,te,ue,Ge,Ee,Fe,ye)}catch(Ye){return f.Log.error(Ye&&Ye.message||Ye),Promise.reject("JWT validation failed")}},se.validateJwtAttributes=function(oe,te,ue,Ge,Ee,Fe){Ge||(Ge=0),Ee||(Ee=parseInt(Date.now()/1e3));var ye=se.parseJwt(oe).payload;if(!ye.iss)return f.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(ye.iss!==te)return f.Log.error("JoseUtil._validateJwt: Invalid issuer in token",ye.iss),Promise.reject(new Error("Invalid issuer in token: "+ye.iss));if(!ye.aud)return f.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(ye.aud===ue||Array.isArray(ye.aud)&&ye.aud.indexOf(ue)>=0))return f.Log.error("JoseUtil._validateJwt: Invalid audience in token",ye.aud),Promise.reject(new Error("Invalid audience in token: "+ye.aud));if(ye.azp&&ye.azp!==ue)return f.Log.error("JoseUtil._validateJwt: Invalid azp in token",ye.azp),Promise.reject(new Error("Invalid azp in token: "+ye.azp));if(!Fe){var ke=Ee+Ge,Ye=Ee-Ge;if(!ye.iat)return f.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(ke<ye.iat)return f.Log.error("JoseUtil._validateJwt: iat is in the future",ye.iat),Promise.reject(new Error("iat is in the future: "+ye.iat));if(ye.nbf&&ke<ye.nbf)return f.Log.error("JoseUtil._validateJwt: nbf is in the future",ye.nbf),Promise.reject(new Error("nbf is in the future: "+ye.nbf));if(!ye.exp)return f.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(ye.exp<Ye)return f.Log.error("JoseUtil._validateJwt: exp is in the past",ye.exp),Promise.reject(new Error("exp is in the past:"+ye.exp))}return Promise.resolve(ye)},se._validateJwt=function(oe,te,ue,Ge,Ee,Fe,ye){return se.validateJwtAttributes(oe,ue,Ge,Ee,Fe,ye).then(function(ke){try{return H.JWS.verify(oe,te,X)?ke:(f.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Ye){return f.Log.error(Ye&&Ye.message||Ye),Promise.reject(new Error("signature validation failed"))}})},se.hashString=function(oe,te){try{return x.Util.hashString(oe,te)}catch(ue){f.Log.error(ue)}},se.hexToBase64Url=function(oe){try{return k(oe)}catch(te){f.Log.error(te)}},se}()};var f=e(0);We.exports=p.default},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.SigninResponse=void 0;var f=function(){function H(b,D){for(var x=0;x<D.length;x++){var k=D[x];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,D,x){return D&&H(b.prototype,D),x&&H(b,x),b}}(),d=e(3);p.SigninResponse=function(){function H(b){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function G(H,b){if(!(H instanceof b))throw new TypeError("Cannot call a class as a function")}(this,H);var x=d.UrlUtility.parseUrlFragment(b,D);this.error=x.error,this.error_description=x.error_description,this.error_uri=x.error_uri,this.code=x.code,this.state=x.state,this.id_token=x.id_token,this.session_state=x.session_state,this.access_token=x.access_token,this.token_type=x.token_type,this.scope=x.scope,this.profile=void 0,this.expires_in=x.expires_in}return f(H,[{key:"expires_in",get:function(){if(this.expires_at){var D=parseInt(Date.now()/1e3);return this.expires_at-D}},set:function(D){var x=parseInt(D);if("number"==typeof x&&x>0){var k=parseInt(Date.now()/1e3);this.expires_at=k+x}}},{key:"expired",get:function(){var D=this.expires_in;if(void 0!==D)return D<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),H}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.SignoutRequest=void 0;var f=e(0),d=e(3),G=e(9);p.SignoutRequest=function H(b){var D=b.url,x=b.id_token_hint,k=b.post_logout_redirect_uri,j=b.data,X=b.extraQueryParams,se=b.request_type;if(function(te,ue){if(!(te instanceof ue))throw new TypeError("Cannot call a class as a function")}(this,H),!D)throw f.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var q in x&&(D=d.UrlUtility.addQueryParam(D,"id_token_hint",x)),k&&(D=d.UrlUtility.addQueryParam(D,"post_logout_redirect_uri",k),j&&(this.state=new G.State({data:j,request_type:se}),D=d.UrlUtility.addQueryParam(D,"state",this.state.id))),X)D=d.UrlUtility.addQueryParam(D,q,X[q]);this.url=D}},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.SignoutResponse=void 0;var f=e(3);p.SignoutResponse=function d(G){!function(D,x){if(!(D instanceof x))throw new TypeError("Cannot call a class as a function")}(this,d);var H=f.UrlUtility.parseUrlFragment(G,"?");this.error=H.error,this.error_description=H.error_description,this.error_uri=H.error_uri,this.state=H.state}},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.InMemoryWebStorage=void 0;var f=function(){function G(H,b){for(var D=0;D<b.length;D++){var x=b[D];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(H,x.key,x)}}return function(H,b,D){return b&&G(H.prototype,b),D&&G(H,D),H}}(),d=e(0);p.InMemoryWebStorage=function(){function G(){(function(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")})(this,G),this._data={}}return G.prototype.getItem=function(b){return d.Log.debug("InMemoryWebStorage.getItem",b),this._data[b]},G.prototype.setItem=function(b,D){d.Log.debug("InMemoryWebStorage.setItem",b),this._data[b]=D},G.prototype.removeItem=function(b){d.Log.debug("InMemoryWebStorage.removeItem",b),delete this._data[b]},G.prototype.key=function(b){return Object.getOwnPropertyNames(this._data)[b]},f(G,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),G}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.UserManager=void 0;var f=function(){function ue(Ge,Ee){for(var Fe=0;Fe<Ee.length;Fe++){var ye=Ee[Fe];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(Ge,ye.key,ye)}}return function(Ge,Ee,Fe){return Ee&&ue(Ge.prototype,Ee),Fe&&ue(Ge,Fe),Ge}}(),d=e(0),G=e(10),H=e(39),b=e(15),D=e(45),x=e(47),k=e(18),j=e(8),X=e(20),se=e(11),q=e(4);p.UserManager=function(ue){function Ge(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.SilentRenewService,ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.SessionMonitor,ke=arguments.length>3&&void 0!==arguments[3]?arguments[3]:X.TokenRevocationClient,Ye=arguments.length>4&&void 0!==arguments[4]?arguments[4]:se.TokenClient,nt=arguments.length>5&&void 0!==arguments[5]?arguments[5]:q.JoseUtil;(function oe(ue,Ge){if(!(ue instanceof Ge))throw new TypeError("Cannot call a class as a function")})(this,Ge),Ee instanceof H.UserManagerSettings||(Ee=new H.UserManagerSettings(Ee));var m=function te(ue,Ge){if(!ue)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ge||"object"!=typeof Ge&&"function"!=typeof Ge?ue:Ge}(this,ue.call(this,Ee));return m._events=new D.UserManagerEvents(Ee),m._silentRenewService=new Fe(m),m.settings.automaticSilentRenew&&(d.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),m.startSilentRenew()),m.settings.monitorSession&&(d.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),m._sessionMonitor=new ye(m)),m._tokenRevocationClient=new ke(m._settings),m._tokenClient=new Ye(m._settings),m._joseUtil=nt,m}return function(Fe,ye){if("function"!=typeof ye&&null!==ye)throw new TypeError("Super expression must either be null or a function, not "+typeof ye);Fe.prototype=Object.create(ye&&ye.prototype,{constructor:{value:Fe,enumerable:!1,writable:!0,configurable:!0}}),ye&&(Object.setPrototypeOf?Object.setPrototypeOf(Fe,ye):Fe.__proto__=ye)}(Ge,ue),Ge.prototype.getUser=function(){var Fe=this;return this._loadUser().then(function(ye){return ye?(d.Log.info("UserManager.getUser: user loaded"),Fe._events.load(ye,!1),ye):(d.Log.info("UserManager.getUser: user not found in storage"),null)})},Ge.prototype.removeUser=function(){var Fe=this;return this.storeUser(null).then(function(){d.Log.info("UserManager.removeUser: user removed from storage"),Fe._events.unload()})},Ge.prototype.signinRedirect=function(){var Fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(Fe=Object.assign({},Fe)).request_type="si:r",this._signinStart(Fe,this._redirectNavigator,{useReplaceToNavigate:Fe.useReplaceToNavigate}).then(function(){d.Log.info("UserManager.signinRedirect: successful")})},Ge.prototype.signinRedirectCallback=function(Fe){return this._signinEnd(Fe||this._redirectNavigator.url).then(function(ye){return ye.profile&&ye.profile.sub?d.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",ye.profile.sub):d.Log.info("UserManager.signinRedirectCallback: no sub"),ye})},Ge.prototype.signinPopup=function(){var Fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(Fe=Object.assign({},Fe)).request_type="si:p";var ye=Fe.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return ye?(Fe.redirect_uri=ye,Fe.display="popup",this._signin(Fe,this._popupNavigator,{startUrl:ye,popupWindowFeatures:Fe.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:Fe.popupWindowTarget||this.settings.popupWindowTarget}).then(function(ke){return ke&&(ke.profile&&ke.profile.sub?d.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",ke.profile.sub):d.Log.info("UserManager.signinPopup: no sub")),ke})):(d.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},Ge.prototype.signinPopupCallback=function(Fe){return this._signinCallback(Fe,this._popupNavigator).then(function(ye){return ye&&(ye.profile&&ye.profile.sub?d.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",ye.profile.sub):d.Log.info("UserManager.signinPopupCallback: no sub")),ye}).catch(function(ye){d.Log.error(ye.message)})},Ge.prototype.signinSilent=function(){var Fe=this,ye=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ye=Object.assign({},ye),this._loadUser().then(function(ke){return ke&&ke.refresh_token?(ye.refresh_token=ke.refresh_token,Fe._useRefreshToken(ye)):(ye.request_type="si:s",ye.id_token_hint=ye.id_token_hint||Fe.settings.includeIdTokenInSilentRenew&&ke&&ke.id_token,ke&&Fe._settings.validateSubOnSilentRenew&&(d.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",ke.profile.sub),ye.current_sub=ke.profile.sub),Fe._signinSilentIframe(ye))})},Ge.prototype._useRefreshToken=function(){var Fe=this;return this._tokenClient.exchangeRefreshToken(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).then(function(ke){return ke?ke.access_token?Fe._loadUser().then(function(Ye){if(Ye){var nt=Promise.resolve();return ke.id_token&&(nt=Fe._validateIdTokenFromTokenRefreshToken(Ye.profile,ke.id_token)),nt.then(function(){return d.Log.debug("UserManager._useRefreshToken: refresh token response success"),Ye.id_token=ke.id_token||Ye.id_token,Ye.access_token=ke.access_token,Ye.refresh_token=ke.refresh_token||Ye.refresh_token,Ye.expires_in=ke.expires_in,Fe.storeUser(Ye).then(function(){return Fe._events.load(Ye),Ye})})}return null}):(d.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(d.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},Ge.prototype._validateIdTokenFromTokenRefreshToken=function(Fe,ye){var ke=this;return this._metadataService.getIssuer().then(function(Ye){return ke.settings.getEpochTime().then(function(nt){return ke._joseUtil.validateJwtAttributes(ye,Ye,ke._settings.client_id,ke._settings.clockSkew,nt).then(function(m){return m?m.sub!==Fe.sub?(d.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):m.auth_time&&m.auth_time!==Fe.auth_time?(d.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):m.azp&&m.azp!==Fe.azp?(d.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!m.azp&&Fe.azp?(d.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(d.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},Ge.prototype._signinSilentIframe=function(){var Fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ye=Fe.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return ye?(Fe.redirect_uri=ye,Fe.prompt=Fe.prompt||"none",this._signin(Fe,this._iframeNavigator,{startUrl:ye,silentRequestTimeout:Fe.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(ke){return ke&&(ke.profile&&ke.profile.sub?d.Log.info("UserManager.signinSilent: successful, signed in sub: ",ke.profile.sub):d.Log.info("UserManager.signinSilent: no sub")),ke})):(d.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},Ge.prototype.signinSilentCallback=function(Fe){return this._signinCallback(Fe,this._iframeNavigator).then(function(ye){return ye&&(ye.profile&&ye.profile.sub?d.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",ye.profile.sub):d.Log.info("UserManager.signinSilentCallback: no sub")),ye})},Ge.prototype.signinCallback=function(Fe){var ye=this;return this.readSigninResponseState(Fe).then(function(ke){var Ye=ke.state;return"si:r"===Ye.request_type?ye.signinRedirectCallback(Fe):"si:p"===Ye.request_type?ye.signinPopupCallback(Fe):"si:s"===Ye.request_type?ye.signinSilentCallback(Fe):Promise.reject(new Error("invalid response_type in state"))})},Ge.prototype.signoutCallback=function(Fe,ye){var ke=this;return this.readSignoutResponseState(Fe).then(function(Ye){var nt=Ye.state,m=Ye.response;return nt?"so:r"===nt.request_type?ke.signoutRedirectCallback(Fe):"so:p"===nt.request_type?ke.signoutPopupCallback(Fe,ye):Promise.reject(new Error("invalid response_type in state")):m})},Ge.prototype.querySessionStatus=function(){var Fe=this,ye=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(ye=Object.assign({},ye)).request_type="si:s";var ke=ye.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return ke?(ye.redirect_uri=ke,ye.prompt="none",ye.response_type=ye.response_type||this.settings.query_status_response_type,ye.scope=ye.scope||"openid",ye.skipUserInfo=!0,this._signinStart(ye,this._iframeNavigator,{startUrl:ke,silentRequestTimeout:ye.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Ye){return Fe.processSigninResponse(Ye.url).then(function(nt){if(d.Log.debug("UserManager.querySessionStatus: got signin response"),nt.session_state&&nt.profile.sub)return d.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",nt.profile.sub),{session_state:nt.session_state,sub:nt.profile.sub,sid:nt.profile.sid};d.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(nt){if(nt.session_state&&Fe.settings.monitorAnonymousSession&&("login_required"==nt.message||"consent_required"==nt.message||"interaction_required"==nt.message||"account_selection_required"==nt.message))return d.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:nt.session_state};throw nt})})):(d.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},Ge.prototype._signin=function(Fe,ye){var ke=this;return this._signinStart(Fe,ye,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(nt){return ke._signinEnd(nt.url,Fe)})},Ge.prototype._signinStart=function(Fe,ye){var ke=this,Ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ye.prepare(Ye).then(function(nt){return d.Log.debug("UserManager._signinStart: got navigator window handle"),ke.createSigninRequest(Fe).then(function(m){return d.Log.debug("UserManager._signinStart: got signin request"),Ye.url=m.url,Ye.id=m.state.id,nt.navigate(Ye)}).catch(function(m){throw nt.close&&(d.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),nt.close()),m})})},Ge.prototype._signinEnd=function(Fe){var ye=this,ke=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(Fe).then(function(Ye){d.Log.debug("UserManager._signinEnd: got signin response");var nt=new b.User(Ye);if(ke.current_sub){if(ke.current_sub!==nt.profile.sub)return d.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",nt.profile.sub),Promise.reject(new Error("login_required"));d.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return ye.storeUser(nt).then(function(){return d.Log.debug("UserManager._signinEnd: user stored"),ye._events.load(nt),nt})})},Ge.prototype._signinCallback=function(Fe,ye){d.Log.debug("UserManager._signinCallback");var ke="query"===this._settings.response_mode||!this._settings.response_mode&&j.SigninRequest.isCode(this._settings.response_type)?"?":"#";return ye.callback(Fe,void 0,ke)},Ge.prototype.signoutRedirect=function(){var Fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(Fe=Object.assign({},Fe)).request_type="so:r";var ye=Fe.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return ye&&(Fe.post_logout_redirect_uri=ye),this._signoutStart(Fe,this._redirectNavigator,{useReplaceToNavigate:Fe.useReplaceToNavigate}).then(function(){d.Log.info("UserManager.signoutRedirect: successful")})},Ge.prototype.signoutRedirectCallback=function(Fe){return this._signoutEnd(Fe||this._redirectNavigator.url).then(function(ye){return d.Log.info("UserManager.signoutRedirectCallback: successful"),ye})},Ge.prototype.signoutPopup=function(){var Fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(Fe=Object.assign({},Fe)).request_type="so:p";var ye=Fe.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return Fe.post_logout_redirect_uri=ye,Fe.display="popup",Fe.post_logout_redirect_uri&&(Fe.state=Fe.state||{}),this._signout(Fe,this._popupNavigator,{startUrl:ye,popupWindowFeatures:Fe.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:Fe.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){d.Log.info("UserManager.signoutPopup: successful")})},Ge.prototype.signoutPopupCallback=function(Fe,ye){return void 0===ye&&"boolean"==typeof Fe&&(ye=Fe,Fe=null),this._popupNavigator.callback(Fe,ye,"?").then(function(){d.Log.info("UserManager.signoutPopupCallback: successful")})},Ge.prototype._signout=function(Fe,ye){var ke=this;return this._signoutStart(Fe,ye,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(nt){return ke._signoutEnd(nt.url)})},Ge.prototype._signoutStart=function(){var Fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ye=this,Ye=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(Ye).then(function(nt){return d.Log.debug("UserManager._signoutStart: got navigator window handle"),ye._loadUser().then(function(m){return d.Log.debug("UserManager._signoutStart: loaded current user from storage"),(ye._settings.revokeAccessTokenOnSignout?ye._revokeInternal(m):Promise.resolve()).then(function(){var Tt=Fe.id_token_hint||m&&m.id_token;return Tt&&(d.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),Fe.id_token_hint=Tt),ye.removeUser().then(function(){return d.Log.debug("UserManager._signoutStart: user removed, creating signout request"),ye.createSignoutRequest(Fe).then(function(It){return d.Log.debug("UserManager._signoutStart: got signout request"),Ye.url=It.url,It.state&&(Ye.id=It.state.id),nt.navigate(Ye)})})})}).catch(function(m){throw nt.close&&(d.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),nt.close()),m})})},Ge.prototype._signoutEnd=function(Fe){return this.processSignoutResponse(Fe).then(function(ye){return d.Log.debug("UserManager._signoutEnd: got signout response"),ye})},Ge.prototype.revokeAccessToken=function(){var Fe=this;return this._loadUser().then(function(ye){return Fe._revokeInternal(ye,!0).then(function(ke){if(ke)return d.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),ye.access_token=null,ye.refresh_token=null,ye.expires_at=null,ye.token_type=null,Fe.storeUser(ye).then(function(){d.Log.debug("UserManager.revokeAccessToken: user stored"),Fe._events.load(ye)})})}).then(function(){d.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},Ge.prototype._revokeInternal=function(Fe,ye){var ke=this;if(Fe){var nt=Fe.refresh_token;return this._revokeAccessTokenInternal(Fe.access_token,ye).then(function(m){return ke._revokeRefreshTokenInternal(nt,ye).then(function(Tt){return m||Tt||d.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),m||Tt})})}return Promise.resolve(!1)},Ge.prototype._revokeAccessTokenInternal=function(Fe,ye){return!Fe||Fe.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(Fe,ye).then(function(){return!0})},Ge.prototype._revokeRefreshTokenInternal=function(Fe,ye){return Fe?this._tokenRevocationClient.revoke(Fe,ye,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},Ge.prototype.startSilentRenew=function(){this._silentRenewService.start()},Ge.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},Ge.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(Fe){return Fe?(d.Log.debug("UserManager._loadUser: user storageString loaded"),b.User.fromStorageString(Fe)):(d.Log.debug("UserManager._loadUser: no user storageString"),null)})},Ge.prototype.storeUser=function(Fe){if(Fe){d.Log.debug("UserManager.storeUser: storing user");var ye=Fe.toStorageString();return this._userStore.set(this._userStoreKey,ye)}return d.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},f(Ge,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),Ge}(G.OidcClient)},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.UserManagerSettings=void 0;var f=function(){function se(q,oe){for(var te=0;te<oe.length;te++){var ue=oe[te];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(q,ue.key,ue)}}return function(q,oe,te){return oe&&se(q.prototype,oe),te&&se(q,te),q}}(),d=(e(0),e(5)),G=e(40),H=e(41),b=e(43),D=e(6),x=e(1),k=e(8);p.UserManagerSettings=function(se){function q(){var oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},te=oe.popup_redirect_uri,ue=oe.popup_post_logout_redirect_uri,Ge=oe.popupWindowFeatures,Ee=oe.popupWindowTarget,Fe=oe.silent_redirect_uri,ye=oe.silentRequestTimeout,ke=oe.automaticSilentRenew,Ye=void 0!==ke&&ke,nt=oe.validateSubOnSilentRenew,m=void 0!==nt&&nt,Tt=oe.includeIdTokenInSilentRenew,It=void 0===Tt||Tt,Bt=oe.monitorSession,wt=void 0===Bt||Bt,mn=oe.monitorAnonymousSession,tn=void 0!==mn&&mn,Pn=oe.checkSessionInterval,On=void 0===Pn?2e3:Pn,Tn=oe.stopCheckSessionOnError,Cn=void 0===Tn||Tn,nn=oe.query_status_response_type,tt=oe.revokeAccessTokenOnSignout,bt=void 0!==tt&&tt,Rt=oe.accessTokenExpiringNotificationTime,xt=void 0===Rt?60:Rt,Jt=oe.redirectNavigator,$t=void 0===Jt?new G.RedirectNavigator:Jt,Bn=oe.popupNavigator,Hn=void 0===Bn?new H.PopupNavigator:Bn,Le=oe.iframeNavigator,B=void 0===Le?new b.IFrameNavigator:Le,J=oe.userStore,Pe=void 0===J?new D.WebStorageStateStore({store:x.Global.sessionStorage}):J;!function j(se,q){if(!(se instanceof q))throw new TypeError("Cannot call a class as a function")}(this,q);var $e=function X(se,q){if(!se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!q||"object"!=typeof q&&"function"!=typeof q?se:q}(this,se.call(this,arguments[0]));return $e._popup_redirect_uri=te,$e._popup_post_logout_redirect_uri=ue,$e._popupWindowFeatures=Ge,$e._popupWindowTarget=Ee,$e._silent_redirect_uri=Fe,$e._silentRequestTimeout=ye,$e._automaticSilentRenew=Ye,$e._validateSubOnSilentRenew=m,$e._includeIdTokenInSilentRenew=It,$e._accessTokenExpiringNotificationTime=xt,$e._monitorSession=wt,$e._monitorAnonymousSession=tn,$e._checkSessionInterval=On,$e._stopCheckSessionOnError=Cn,$e._query_status_response_type=nn||(arguments[0]&&arguments[0].response_type?k.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),$e._revokeAccessTokenOnSignout=bt,$e._redirectNavigator=$t,$e._popupNavigator=Hn,$e._iframeNavigator=B,$e._userStore=Pe,$e}return function(te,ue){if("function"!=typeof ue&&null!==ue)throw new TypeError("Super expression must either be null or a function, not "+typeof ue);te.prototype=Object.create(ue&&ue.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),ue&&(Object.setPrototypeOf?Object.setPrototypeOf(te,ue):te.__proto__=ue)}(q,se),f(q,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),q}(d.OidcClientSettings)},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.RedirectNavigator=void 0;var f=function(){function G(H,b){for(var D=0;D<b.length;D++){var x=b[D];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(H,x.key,x)}}return function(H,b,D){return b&&G(H.prototype,b),D&&G(H,D),H}}(),d=e(0);p.RedirectNavigator=function(){function G(){!function(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}(this,G)}return G.prototype.prepare=function(){return Promise.resolve(this)},G.prototype.navigate=function(b){return b&&b.url?(b.useReplaceToNavigate?window.location.replace(b.url):window.location=b.url,Promise.resolve()):(d.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},f(G,[{key:"url",get:function(){return window.location.href}}]),G}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.PopupNavigator=void 0;var f=e(0),d=e(42);p.PopupNavigator=function(){function G(){!function(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}(this,G)}return G.prototype.prepare=function(b){var D=new d.PopupWindow(b);return Promise.resolve(D)},G.prototype.callback=function(b,D,x){f.Log.debug("PopupNavigator.callback");try{return d.PopupWindow.notifyOpener(b,D,x),Promise.resolve()}catch(k){return Promise.reject(k)}},G}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.PopupWindow=void 0;var f=function(){function H(b,D){for(var x=0;x<D.length;x++){var k=D[x];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,D,x){return D&&H(b.prototype,D),x&&H(b,x),b}}(),d=e(0),G=e(3);p.PopupWindow=function(){function H(b){var D=this;(function(X,se){if(!(X instanceof se))throw new TypeError("Cannot call a class as a function")})(this,H),this._promise=new Promise(function(j,X){D._resolve=j,D._reject=X}),this._popup=window.open("",b.popupWindowTarget||"_blank",b.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;"),this._popup&&(d.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return H.prototype.navigate=function(D){return this._popup?D&&D.url?(d.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=D.id,this._id&&(window["popupCallback_"+D.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=D.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},H.prototype._success=function(D){d.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(D)},H.prototype._error=function(D){d.Log.error("PopupWindow.error: ",D),this._cleanup(),this._reject(new Error(D))},H.prototype.close=function(){this._cleanup(!1)},H.prototype._cleanup=function(D){d.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!D&&this._popup.close(),this._popup=null},H.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},H.prototype._callback=function(D,x){this._cleanup(x),D?(d.Log.debug("PopupWindow.callback success"),this._success({url:D})):(d.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},H.notifyOpener=function(D,x,k){if(window.opener){if(D=D||window.location.href){var j=G.UrlUtility.parseUrlFragment(D,k);if(j.state){var se=window.opener["popupCallback_"+j.state];se?(d.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),se(D,x)):d.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else d.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else d.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},f(H,[{key:"promise",get:function(){return this._promise}}]),H}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.IFrameNavigator=void 0;var f=e(0),d=e(44);p.IFrameNavigator=function(){function G(){!function(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}(this,G)}return G.prototype.prepare=function(b){var D=new d.IFrameWindow(b);return Promise.resolve(D)},G.prototype.callback=function(b){f.Log.debug("IFrameNavigator.callback");try{return d.IFrameWindow.notifyParent(b),Promise.resolve()}catch(D){return Promise.reject(D)}},G}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.IFrameWindow=void 0;var f=function(){function G(H,b){for(var D=0;D<b.length;D++){var x=b[D];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(H,x.key,x)}}return function(H,b,D){return b&&G(H.prototype,b),D&&G(H,D),H}}(),d=e(0);p.IFrameWindow=function(){function G(H){var b=this;(function(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")})(this,G),this._promise=new Promise(function(D,x){b._resolve=D,b._reject=x}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return G.prototype.navigate=function(b){if(b&&b.url){var D=b.silentRequestTimeout||1e4;d.Log.debug("IFrameWindow.navigate: Using timeout of:",D),this._timer=window.setTimeout(this._timeout.bind(this),D),this._frame.src=b.url}else this._error("No url provided");return this.promise},G.prototype._success=function(b){this._cleanup(),d.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(b)},G.prototype._error=function(b){this._cleanup(),d.Log.error(b),this._reject(new Error(b))},G.prototype.close=function(){this._cleanup()},G.prototype._cleanup=function(){this._frame&&(d.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},G.prototype._timeout=function(){d.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},G.prototype._message=function(b){if(d.Log.debug("IFrameWindow.message"),this._timer&&b.origin===this._origin&&b.source===this._frame.contentWindow&&"string"==typeof b.data&&(b.data.startsWith("http://")||b.data.startsWith("https://"))){var D=b.data;D?this._success({url:D}):this._error("Invalid response from frame")}},G.notifyParent=function(b){d.Log.debug("IFrameWindow.notifyParent"),(b=b||window.location.href)&&(d.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(b,location.protocol+"//"+location.host))},f(G,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),G}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.UserManagerEvents=void 0;var f=e(0),d=e(16),G=e(17);p.UserManagerEvents=function(H){function b(D){!function(j,X){if(!(j instanceof X))throw new TypeError("Cannot call a class as a function")}(this,b);var x=function(j,X){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!X||"object"!=typeof X&&"function"!=typeof X?j:X}(this,H.call(this,D));return x._userLoaded=new G.Event("User loaded"),x._userUnloaded=new G.Event("User unloaded"),x._silentRenewError=new G.Event("Silent renew error"),x._userSignedIn=new G.Event("User signed in"),x._userSignedOut=new G.Event("User signed out"),x._userSessionChanged=new G.Event("User session changed"),x}return function(x,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(x,k):x.__proto__=k)}(b,H),b.prototype.load=function(x){var k=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];f.Log.debug("UserManagerEvents.load"),H.prototype.load.call(this,x),k&&this._userLoaded.raise(x)},b.prototype.unload=function(){f.Log.debug("UserManagerEvents.unload"),H.prototype.unload.call(this),this._userUnloaded.raise()},b.prototype.addUserLoaded=function(x){this._userLoaded.addHandler(x)},b.prototype.removeUserLoaded=function(x){this._userLoaded.removeHandler(x)},b.prototype.addUserUnloaded=function(x){this._userUnloaded.addHandler(x)},b.prototype.removeUserUnloaded=function(x){this._userUnloaded.removeHandler(x)},b.prototype.addSilentRenewError=function(x){this._silentRenewError.addHandler(x)},b.prototype.removeSilentRenewError=function(x){this._silentRenewError.removeHandler(x)},b.prototype._raiseSilentRenewError=function(x){f.Log.debug("UserManagerEvents._raiseSilentRenewError",x.message),this._silentRenewError.raise(x)},b.prototype.addUserSignedIn=function(x){this._userSignedIn.addHandler(x)},b.prototype.removeUserSignedIn=function(x){this._userSignedIn.removeHandler(x)},b.prototype._raiseUserSignedIn=function(){f.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},b.prototype.addUserSignedOut=function(x){this._userSignedOut.addHandler(x)},b.prototype.removeUserSignedOut=function(x){this._userSignedOut.removeHandler(x)},b.prototype._raiseUserSignedOut=function(){f.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},b.prototype.addUserSessionChanged=function(x){this._userSessionChanged.addHandler(x)},b.prototype.removeUserSessionChanged=function(x){this._userSessionChanged.removeHandler(x)},b.prototype._raiseUserSessionChanged=function(){f.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},b}(d.AccessTokenEvents)},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.Timer=void 0;var f=function(){function x(k,j){for(var X=0;X<j.length;X++){var se=j[X];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(k,se.key,se)}}return function(k,j,X){return j&&x(k.prototype,j),X&&x(k,X),k}}(),d=e(0),G=e(1),H=e(17);p.Timer=function(x){function k(j){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.Global.timer,se=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function b(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}(this,k);var q=function D(x,k){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?x:k}(this,x.call(this,j));return q._timer=X,q._nowFunc=se||function(){return Date.now()/1e3},q}return function(X,se){if("function"!=typeof se&&null!==se)throw new TypeError("Super expression must either be null or a function, not "+typeof se);X.prototype=Object.create(se&&se.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),se&&(Object.setPrototypeOf?Object.setPrototypeOf(X,se):X.__proto__=se)}(k,x),k.prototype.init=function(X){X<=0&&(X=1),X=parseInt(X);var se=this.now+X;if(this.expiration===se&&this._timerHandle)d.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),d.Log.debug("Timer.init timer "+this._name+" for duration:",X),this._expiration=se;var q=5;X<q&&(q=X),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*q)}},k.prototype.cancel=function(){this._timerHandle&&(d.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},k.prototype._callback=function(){d.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),x.prototype.raise.call(this))},f(k,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),k}(H.Event)},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.SilentRenewService=void 0;var f=e(0);p.SilentRenewService=function(){function d(G){(function(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")})(this,d),this._userManager=G}return d.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(H){}).catch(function(H){f.Log.error("SilentRenewService.start: Error from getUser:",H.message)}))},d.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},d.prototype._tokenExpiring=function(){var H=this;this._userManager.signinSilent().then(function(b){f.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(b){f.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",b.message),H._userManager.events._raiseSilentRenewError(b)})},d}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.CordovaPopupNavigator=void 0;var f=e(21);p.CordovaPopupNavigator=function(){function d(){!function(H,b){if(!(H instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d)}return d.prototype.prepare=function(H){var b=new f.CordovaPopupWindow(H);return Promise.resolve(b)},d}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.CordovaIFrameNavigator=void 0;var f=e(21);p.CordovaIFrameNavigator=function(){function d(){!function(H,b){if(!(H instanceof b))throw new TypeError("Cannot call a class as a function")}(this,d)}return d.prototype.prepare=function(H){H.popupWindowFeatures="hidden=yes";var b=new f.CordovaPopupWindow(H);return Promise.resolve(b)},d}()},function(We,p,e){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.Version="1.11.5"}])},4572:(_n,We,p)=>{"use strict";p.d(We,{z:()=>j});var e=p(1985),f=p(3073),d=p(2806),G=p(3669),H=p(6450),b=p(9326),D=p(8496),x=p(4360),k=p(5225);function j(...q){const oe=(0,b.lI)(q),te=(0,b.ms)(q),{args:ue,keys:Ge}=(0,f.D)(q);if(0===ue.length)return(0,d.H)([],oe);const Ee=new e.c(function X(q,oe,te=G.D){return ue=>{se(oe,()=>{const{length:Ge}=q,Ee=new Array(Ge);let Fe=Ge,ye=Ge;for(let ke=0;ke<Ge;ke++)se(oe,()=>{const Ye=(0,d.H)(q[ke],oe);let nt=!1;Ye.subscribe((0,x._)(ue,m=>{Ee[ke]=m,nt||(nt=!0,ye--),ye||ue.next(te(Ee.slice()))},()=>{--Fe||ue.complete()}))},ue)},ue)}}(ue,oe,Ge?Fe=>(0,D.e)(Ge,Fe):G.D));return te?Ee.pipe((0,H.I)(te)):Ee}function se(q,oe,te){q?(0,k.N)(te,q,oe):oe()}},8793:(_n,We,p)=>{"use strict";p.d(We,{x:()=>H});var e=p(6365),d=p(9326),G=p(2806);function H(...b){return function f(){return(0,e.U)(1)}()((0,G.H)(b,(0,d.lI)(b)))}},983:(_n,We,p)=>{"use strict";p.d(We,{I:()=>d,w:()=>f});var e=p(1985);const f=new e.c(H=>H.complete());function d(H){return H?function G(H){return new e.c(b=>H.schedule(()=>b.complete()))}(H):f}},2806:(_n,We,p)=>{"use strict";p.d(We,{H:()=>nt});var e=p(8750),f=p(941),d=p(9974);function G(m,Tt=0){return(0,d.N)((It,Bt)=>{Bt.add(m.schedule(()=>It.subscribe(Bt),Tt))})}var D=p(1985),k=p(4761),j=p(8071),X=p(5225);function q(m,Tt){if(!m)throw new Error("Iterable cannot be null");return new D.c(It=>{(0,X.N)(It,Tt,()=>{const Bt=m[Symbol.asyncIterator]();(0,X.N)(It,Tt,()=>{Bt.next().then(wt=>{wt.done?It.complete():It.next(wt.value)})},0,!0)})})}var oe=p(5055),te=p(9858),ue=p(7441),Ge=p(5397),Ee=p(7953),Fe=p(591),ye=p(5196);function nt(m,Tt){return Tt?function Ye(m,Tt){if(null!=m){if((0,oe.l)(m))return function H(m,Tt){return(0,e.Tg)(m).pipe(G(Tt),(0,f.Q)(Tt))}(m,Tt);if((0,ue.X)(m))return function x(m,Tt){return new D.c(It=>{let Bt=0;return Tt.schedule(function(){Bt===m.length?It.complete():(It.next(m[Bt++]),It.closed||this.schedule())})})}(m,Tt);if((0,te.y)(m))return function b(m,Tt){return(0,e.Tg)(m).pipe(G(Tt),(0,f.Q)(Tt))}(m,Tt);if((0,Ee.T)(m))return q(m,Tt);if((0,Ge.x)(m))return function se(m,Tt){return new D.c(It=>{let Bt;return(0,X.N)(It,Tt,()=>{Bt=m[k.l](),(0,X.N)(It,Tt,()=>{let wt,mn;try{({value:wt,done:mn}=Bt.next())}catch(tn){return void It.error(tn)}mn?It.complete():It.next(wt)},0,!0)}),()=>(0,j.T)(Bt?.return)&&Bt.return()})}(m,Tt);if((0,ye.U)(m))return function ke(m,Tt){return q((0,ye.C)(m),Tt)}(m,Tt)}throw(0,Fe.L)(m)}(m,Tt):(0,e.Tg)(m)}},3726:(_n,We,p)=>{"use strict";p.d(We,{R:()=>j});var e=p(8750),f=p(1985),d=p(1397),G=p(7441),H=p(8071),b=p(6450);const D=["addListener","removeListener"],x=["addEventListener","removeEventListener"],k=["on","off"];function j(te,ue,Ge,Ee){if((0,H.T)(Ge)&&(Ee=Ge,Ge=void 0),Ee)return j(te,ue,Ge).pipe((0,b.I)(Ee));const[Fe,ye]=function oe(te){return(0,H.T)(te.addEventListener)&&(0,H.T)(te.removeEventListener)}(te)?x.map(ke=>Ye=>te[ke](ue,Ye,Ge)):function se(te){return(0,H.T)(te.addListener)&&(0,H.T)(te.removeListener)}(te)?D.map(X(te,ue)):function q(te){return(0,H.T)(te.on)&&(0,H.T)(te.off)}(te)?k.map(X(te,ue)):[];if(!Fe&&(0,G.X)(te))return(0,d.Z)(ke=>j(ke,ue,Ge))((0,e.Tg)(te));if(!Fe)throw new TypeError("Invalid event target");return new f.c(ke=>{const Ye=(...nt)=>ke.next(1<nt.length?nt:nt[0]);return Fe(Ye),()=>ye(Ye)})}function X(te,ue){return Ge=>Ee=>te[Ge](ue,Ee)}},8750:(_n,We,p)=>{"use strict";p.d(We,{Sx:()=>ue,Tg:()=>q});var e=p(1635),f=p(7441),d=p(9858),G=p(1985),H=p(5055),b=p(7953),D=p(591),x=p(5397),k=p(5196),j=p(8071),X=p(5334),se=p(3494);function q(ke){if(ke instanceof G.c)return ke;if(null!=ke){if((0,H.l)(ke))return function oe(ke){return new G.c(Ye=>{const nt=ke[se.s]();if((0,j.T)(nt.subscribe))return nt.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,f.X)(ke))return function te(ke){return new G.c(Ye=>{for(let nt=0;nt<ke.length&&!Ye.closed;nt++)Ye.next(ke[nt]);Ye.complete()})}(ke);if((0,d.y)(ke))return ue(ke);if((0,b.T)(ke))return Ee(ke);if((0,x.x)(ke))return function Ge(ke){return new G.c(Ye=>{for(const nt of ke)if(Ye.next(nt),Ye.closed)return;Ye.complete()})}(ke);if((0,k.U)(ke))return function Fe(ke){return Ee((0,k.C)(ke))}(ke)}throw(0,D.L)(ke)}function ue(ke){return new G.c(Ye=>{ke.then(nt=>{Ye.closed||(Ye.next(nt),Ye.complete())},nt=>Ye.error(nt)).then(null,X.m)})}function Ee(ke){return new G.c(Ye=>{(function ye(ke,Ye){var nt,m,Tt,It;return(0,e.sH)(this,void 0,void 0,function*(){try{for(nt=(0,e.xN)(ke);!(m=yield nt.next()).done;)if(Ye.next(m.value),Ye.closed)return}catch(Bt){Tt={error:Bt}}finally{try{m&&!m.done&&(It=nt.return)&&(yield It.call(nt))}finally{if(Tt)throw Tt.error}}Ye.complete()})})(ke,Ye).catch(nt=>Ye.error(nt))})}},605:(_n,We,p)=>{"use strict";p.d(We,{Y:()=>d});var e=p(3236),f=p(1807);function d(G=0,H=e.E){return G<0&&(G=0),(0,f.O)(G,G,H)}},7786:(_n,We,p)=>{"use strict";p.d(We,{h:()=>b});var e=p(6365),f=p(8750),d=p(983),G=p(9326),H=p(2806);function b(...D){const x=(0,G.lI)(D),k=(0,G.R0)(D,1/0),j=D;return j.length?1===j.length?(0,f.Tg)(j[0]):(0,e.U)(k)((0,H.H)(j,x)):d.w}},7673:(_n,We,p)=>{"use strict";p.d(We,{of:()=>d});var e=p(9326),f=p(2806);function d(...G){const H=(0,e.lI)(G);return(0,f.H)(G,H)}},1033:(_n,We,p)=>{"use strict";p.d(We,{O:()=>H});var e=p(1985),f=p(8750),d=p(2326),G=p(4360);function H(...D){return 1===(D=(0,d.K)(D)).length?(0,f.Tg)(D[0]):new e.c(function b(D){return x=>{let k=[];for(let j=0;k&&!x.closed&&j<D.length;j++)k.push((0,f.Tg)(D[j]).subscribe((0,G._)(x,X=>{if(k){for(let se=0;se<k.length;se++)se!==j&&k[se].unsubscribe();k=null}x.next(X)})))}}(D))}},8810:(_n,We,p)=>{"use strict";p.d(We,{$:()=>d});var e=p(1985),f=p(8071);function d(G,H){const b=(0,f.T)(G)?G:()=>G,D=x=>x.error(b());return new e.c(H?x=>H.schedule(D,0,x):D)}},1807:(_n,We,p)=>{"use strict";p.d(We,{O:()=>H});var e=p(1985),f=p(3236),d=p(9470),G=p(8211);function H(b=0,D,x=f.b){let k=-1;return null!=D&&((0,d.m)(D)?x=D:k=D),new e.c(j=>{let X=(0,G.v)(b)?+b-x.now():b;X<0&&(X=0);let se=0;return x.schedule(function(){j.closed||(j.next(se++),0<=k?this.schedule(void 0,k):j.complete())},X)})}},4437:(_n,We,p)=>{"use strict";p.d(We,{y:()=>D});var e=p(1985),f=p(8750),d=p(2326),G=p(983),H=p(4360),b=p(9326);function D(...x){const k=(0,b.ms)(x),j=(0,d.K)(x);return j.length?new e.c(X=>{let se=j.map(()=>[]),q=j.map(()=>!1);X.add(()=>{se=q=null});for(let oe=0;!X.closed&&oe<j.length;oe++)(0,f.Tg)(j[oe]).subscribe((0,H._)(X,te=>{if(se[oe].push(te),se.every(ue=>ue.length)){const ue=se.map(Ge=>Ge.shift());X.next(k?k(...ue):ue),se.some((Ge,Ee)=>!Ge.length&&q[Ee])&&X.complete()}},()=>{q[oe]=!0,!se[oe].length&&X.complete()}));return()=>{se=q=null}}):G.w}},9437:(_n,We,p)=>{"use strict";p.d(We,{W:()=>G});var e=p(8750),f=p(4360),d=p(9974);function G(H){return(0,d.N)((b,D)=>{let j,x=null,k=!1;x=b.subscribe((0,f._)(D,void 0,void 0,X=>{j=(0,e.Tg)(H(X,G(H)(b))),x?(x.unsubscribe(),x=null,j.subscribe(D)):k=!0})),k&&(x.unsubscribe(),x=null,j.subscribe(D))})}},274:(_n,We,p)=>{"use strict";p.d(We,{H:()=>d});var e=p(1397),f=p(8071);function d(G,H){return(0,f.T)(H)?(0,e.Z)(G,H,1):(0,e.Z)(G,1)}},152:(_n,We,p)=>{"use strict";p.d(We,{B:()=>G});var e=p(3236),f=p(9974),d=p(4360);function G(H,b=e.E){return(0,f.N)((D,x)=>{let k=null,j=null,X=null;const se=()=>{if(k){k.unsubscribe(),k=null;const oe=j;j=null,x.next(oe)}};function q(){const oe=X+H,te=b.now();if(te<oe)return k=this.schedule(void 0,oe-te),void x.add(k);se()}D.subscribe((0,d._)(x,oe=>{j=oe,X=b.now(),k||(k=b.schedule(q,H),x.add(k))},()=>{se(),x.complete()},void 0,()=>{j=k=null}))})}},9901:(_n,We,p)=>{"use strict";p.d(We,{U:()=>d});var e=p(9974),f=p(4360);function d(G){return(0,e.N)((H,b)=>{let D=!1;H.subscribe((0,f._)(b,x=>{D=!0,b.next(x)},()=>{D||b.next(G),b.complete()}))})}},5335:(_n,We,p)=>{"use strict";p.d(We,{c:()=>j});var e=p(3236),f=p(8793),d=p(6697),G=p(3557),H=p(3703),b=p(1397),D=p(8750);function x(X,se){return se?q=>(0,f.x)(se.pipe((0,d.s)(1),(0,G.w)()),q.pipe(x(X))):(0,b.Z)((q,oe)=>(0,D.Tg)(X(q,oe)).pipe((0,d.s)(1),(0,H.u)(q)))}var k=p(1807);function j(X,se=e.E){const q=(0,k.O)(X,se);return x(()=>q)}},3294:(_n,We,p)=>{"use strict";p.d(We,{F:()=>G});var e=p(3669),f=p(9974),d=p(4360);function G(b,D=e.D){return b=b??H,(0,f.N)((x,k)=>{let j,X=!0;x.subscribe((0,d._)(k,se=>{const q=D(se);(X||!b(j,q))&&(X=!1,j=q,k.next(se))}))})}function H(b,D){return b===D}},5964:(_n,We,p)=>{"use strict";p.d(We,{p:()=>d});var e=p(9974),f=p(4360);function d(G,H){return(0,e.N)((b,D)=>{let x=0;b.subscribe((0,f._)(D,k=>G.call(H,k,x++)&&D.next(k)))})}},980:(_n,We,p)=>{"use strict";p.d(We,{j:()=>f});var e=p(9974);function f(d){return(0,e.N)((G,H)=>{try{G.subscribe(H)}finally{H.add(d)}})}},1594:(_n,We,p)=>{"use strict";p.d(We,{$:()=>D});var e=p(9350),f=p(5964),d=p(6697),G=p(9901),H=p(3774),b=p(3669);function D(x,k){const j=arguments.length>=2;return X=>X.pipe(x?(0,f.p)((se,q)=>x(se,q,X)):b.D,(0,d.s)(1),j?(0,G.U)(k):(0,H.v)(()=>new e.G))}},3557:(_n,We,p)=>{"use strict";p.d(We,{w:()=>G});var e=p(9974),f=p(4360),d=p(5343);function G(){return(0,e.N)((H,b)=>{H.subscribe((0,f._)(b,d.l))})}},3703:(_n,We,p)=>{"use strict";p.d(We,{u:()=>f});var e=p(6354);function f(d){return(0,e.T)(()=>d)}},6365:(_n,We,p)=>{"use strict";p.d(We,{U:()=>d});var e=p(1397),f=p(3669);function d(G=1/0){return(0,e.Z)(f.D,G)}},1397:(_n,We,p)=>{"use strict";p.d(We,{Z:()=>x});var e=p(6354),f=p(8750),d=p(9974),G=p(5225),H=p(4360),D=p(8071);function x(k,j,X=1/0){return(0,D.T)(j)?x((se,q)=>(0,e.T)((oe,te)=>j(se,oe,q,te))((0,f.Tg)(k(se,q))),X):("number"==typeof j&&(X=j),(0,d.N)((se,q)=>function b(k,j,X,se,q,oe,te,ue){const Ge=[];let Ee=0,Fe=0,ye=!1;const ke=()=>{ye&&!Ge.length&&!Ee&&j.complete()},Ye=m=>Ee<se?nt(m):Ge.push(m),nt=m=>{oe&&j.next(m),Ee++;let Tt=!1;(0,f.Tg)(X(m,Fe++)).subscribe((0,H._)(j,It=>{q?.(It),oe?Ye(It):j.next(It)},()=>{Tt=!0},void 0,()=>{if(Tt)try{for(Ee--;Ge.length&&Ee<se;){const It=Ge.shift();te?(0,G.N)(j,te,()=>nt(It)):nt(It)}ke()}catch(It){j.error(It)}}))};return k.subscribe((0,H._)(j,Ye,()=>{ye=!0,ke()})),()=>{ue?.()}}(se,q,k,X)))}},941:(_n,We,p)=>{"use strict";p.d(We,{Q:()=>G});var e=p(5225),f=p(9974),d=p(4360);function G(H,b=0){return(0,f.N)((D,x)=>{D.subscribe((0,d._)(x,k=>(0,e.N)(x,H,()=>x.next(k),b),()=>(0,e.N)(x,H,()=>x.complete(),b),k=>(0,e.N)(x,H,()=>x.error(k),b)))})}},2816:(_n,We,p)=>{"use strict";p.d(We,{S:()=>G});var e=p(9974),f=p(4360);function G(H,b){return(0,e.N)(function d(H,b,D,x,k){return(j,X)=>{let se=D,q=b,oe=0;j.subscribe((0,f._)(X,te=>{const ue=oe++;q=se?H(q,te,ue):(se=!0,te),x&&X.next(q)},k&&(()=>{se&&X.next(q),X.complete()})))}}(H,b,arguments.length>=2,!0))}},5245:(_n,We,p)=>{"use strict";p.d(We,{i:()=>f});var e=p(5964);function f(d){return(0,e.p)((G,H)=>d<=H)}},9172:(_n,We,p)=>{"use strict";p.d(We,{Z:()=>G});var e=p(8793),f=p(9326),d=p(9974);function G(...H){const b=(0,f.lI)(H);return(0,d.N)((D,x)=>{(b?(0,e.x)(H,D,b):(0,e.x)(H,D)).subscribe(x)})}},5558:(_n,We,p)=>{"use strict";p.d(We,{n:()=>G});var e=p(8750),f=p(9974),d=p(4360);function G(H,b){return(0,f.N)((D,x)=>{let k=null,j=0,X=!1;const se=()=>X&&!k&&x.complete();D.subscribe((0,d._)(x,q=>{k?.unsubscribe();let oe=0;const te=j++;(0,e.Tg)(H(q,te)).subscribe(k=(0,d._)(x,ue=>x.next(b?b(q,ue,te,oe++):ue),()=>{k=null,se()}))},()=>{X=!0,se()}))})}},6697:(_n,We,p)=>{"use strict";p.d(We,{s:()=>G});var e=p(983),f=p(9974),d=p(4360);function G(H){return H<=0?()=>e.w:(0,f.N)((b,D)=>{let x=0;b.subscribe((0,d._)(D,k=>{++x<=H&&(D.next(k),H<=x&&D.complete())}))})}},6977:(_n,We,p)=>{"use strict";p.d(We,{Q:()=>H});var e=p(9974),f=p(4360),d=p(8750),G=p(5343);function H(b){return(0,e.N)((D,x)=>{(0,d.Tg)(b).subscribe((0,f._)(x,()=>x.complete(),G.l)),!x.closed&&D.subscribe(x)})}},8141:(_n,We,p)=>{"use strict";p.d(We,{M:()=>H});var e=p(8071),f=p(9974),d=p(4360),G=p(3669);function H(b,D,x){const k=(0,e.T)(b)||D||x?{next:b,error:D,complete:x}:b;return k?(0,f.N)((j,X)=>{var se;null===(se=k.subscribe)||void 0===se||se.call(k);let q=!0;j.subscribe((0,d._)(X,oe=>{var te;null===(te=k.next)||void 0===te||te.call(k,oe),X.next(oe)},()=>{var oe;q=!1,null===(oe=k.complete)||void 0===oe||oe.call(k),X.complete()},oe=>{var te;q=!1,null===(te=k.error)||void 0===te||te.call(k,oe),X.error(oe)},()=>{var oe,te;q&&(null===(oe=k.unsubscribe)||void 0===oe||oe.call(k)),null===(te=k.finalize)||void 0===te||te.call(k)}))}):G.D}},3774:(_n,We,p)=>{"use strict";p.d(We,{v:()=>G});var e=p(9350),f=p(9974),d=p(4360);function G(b=H){return(0,f.N)((D,x)=>{let k=!1;D.subscribe((0,d._)(x,j=>{k=!0,x.next(j)},()=>k?x.complete():x.error(b())))})}function H(){return new e.G}},2087:(_n,We,p)=>{"use strict";p.d(We,{w:()=>k});var e=p(3236),f=p(8211),d=p(9974),G=p(8750),H=p(1853),b=p(4360),D=p(5225);const x=(0,H.L)(X=>function(q=null){X(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=q});function k(X,se){const{first:q,each:oe,with:te=j,scheduler:ue=se??e.E,meta:Ge=null}=(0,f.v)(X)?{first:X}:"number"==typeof X?{each:X}:X;if(null==q&&null==oe)throw new TypeError("No timeout provided.");return(0,d.N)((Ee,Fe)=>{let ye,ke,Ye=null,nt=0;const m=Tt=>{ke=(0,D.N)(Fe,ue,()=>{try{ye.unsubscribe(),(0,G.Tg)(te({meta:Ge,lastValue:Ye,seen:nt})).subscribe(Fe)}catch(It){Fe.error(It)}},Tt)};ye=Ee.subscribe((0,b._)(Fe,Tt=>{ke?.unsubscribe(),nt++,Fe.next(Ye=Tt),oe>0&&m(oe)},void 0,void 0,()=>{ke?.closed||ke?.unsubscribe(),Ye=null})),!nt&&m(null!=q?"number"==typeof q?q:+q-ue.now():oe)})}function j(X){throw new x(X)}},3993:(_n,We,p)=>{"use strict";p.d(We,{E:()=>D});var e=p(9974),f=p(4360),d=p(8750),G=p(3669),H=p(5343),b=p(9326);function D(...x){const k=(0,b.ms)(x);return(0,e.N)((j,X)=>{const se=x.length,q=new Array(se);let oe=x.map(()=>!1),te=!1;for(let ue=0;ue<se;ue++)(0,d.Tg)(x[ue]).subscribe((0,f._)(X,Ge=>{q[ue]=Ge,!te&&!oe[ue]&&(oe[ue]=!0,(te=oe.every(G.D))&&(oe=null))},H.l));j.subscribe((0,f._)(X,ue=>{if(te){const Ge=[ue,...q];X.next(k?k(...Ge):Ge)}}))})}},6780:(_n,We,p)=>{"use strict";p.d(We,{R:()=>H});var e=p(8359);class f extends e.yU{constructor(D,x){super()}schedule(D,x=0){return this}}const d={setInterval(b,D,...x){const{delegate:k}=d;return k?.setInterval?k.setInterval(b,D,...x):setInterval(b,D,...x)},clearInterval(b){const{delegate:D}=d;return(D?.clearInterval||clearInterval)(b)},delegate:void 0};var G=p(7908);class H extends f{constructor(D,x){super(D,x),this.scheduler=D,this.work=x,this.pending=!1}schedule(D,x=0){var k;if(this.closed)return this;this.state=D;const j=this.id,X=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(X,j,x)),this.pending=!0,this.delay=x,this.id=null!==(k=this.id)&&void 0!==k?k:this.requestAsyncId(X,this.id,x),this}requestAsyncId(D,x,k=0){return d.setInterval(D.flush.bind(D,this),k)}recycleAsyncId(D,x,k=0){if(null!=k&&this.delay===k&&!1===this.pending)return x;null!=x&&d.clearInterval(x)}execute(D,x){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const k=this._execute(D,x);if(k)return k;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(D,x){let j,k=!1;try{this.work(D)}catch(X){k=!0,j=X||new Error("Scheduled action threw falsy error")}if(k)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:D,scheduler:x}=this,{actions:k}=x;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.o)(k,this),null!=D&&(this.id=this.recycleAsyncId(x,D,null)),this.delay=null,super.unsubscribe()}}}},9687:(_n,We,p)=>{"use strict";p.d(We,{q:()=>d});var e=p(6129);class f{constructor(H,b=f.now){this.schedulerActionCtor=H,this.now=b}schedule(H,b=0,D){return new this.schedulerActionCtor(this,H).schedule(D,b)}}f.now=e.U.now;class d extends f{constructor(H,b=f.now){super(H,b),this.actions=[],this._active=!1}flush(H){const{actions:b}=this;if(this._active)return void b.push(H);let D;this._active=!0;do{if(D=H.execute(H.state,H.delay))break}while(H=b.shift());if(this._active=!1,D){for(;H=b.shift();)H.unsubscribe();throw D}}}},536:(_n,We,p)=>{"use strict";p.d(We,{X:()=>D});var e=p(6780),f=p(8359);const d={schedule(k){let j=requestAnimationFrame,X=cancelAnimationFrame;const{delegate:se}=d;se&&(j=se.requestAnimationFrame,X=se.cancelAnimationFrame);const q=j(oe=>{X=void 0,k(oe)});return new f.yU(()=>X?.(q))},requestAnimationFrame(...k){const{delegate:j}=d;return(j?.requestAnimationFrame||requestAnimationFrame)(...k)},cancelAnimationFrame(...k){const{delegate:j}=d;return(j?.cancelAnimationFrame||cancelAnimationFrame)(...k)},delegate:void 0};var H=p(9687);const D=new class b extends H.q{flush(j){this._active=!0;const X=this._scheduled;this._scheduled=void 0;const{actions:se}=this;let q;j=j||se.shift();do{if(q=j.execute(j.state,j.delay))break}while((j=se[0])&&j.id===X&&se.shift());if(this._active=!1,q){for(;(j=se[0])&&j.id===X&&se.shift();)j.unsubscribe();throw q}}}(class G extends e.R{constructor(j,X){super(j,X),this.scheduler=j,this.work=X}requestAsyncId(j,X,se=0){return null!==se&&se>0?super.requestAsyncId(j,X,se):(j.actions.push(this),j._scheduled||(j._scheduled=d.requestAnimationFrame(()=>j.flush(void 0))))}recycleAsyncId(j,X,se=0){var q;if(null!=se?se>0:this.delay>0)return super.recycleAsyncId(j,X,se);const{actions:oe}=j;null!=X&&(null===(q=oe[oe.length-1])||void 0===q?void 0:q.id)!==X&&(d.cancelAnimationFrame(X),j._scheduled=void 0)}})},3236:(_n,We,p)=>{"use strict";p.d(We,{E:()=>d,b:()=>G});var e=p(6780);const d=new(p(9687).q)(e.R),G=d},6129:(_n,We,p)=>{"use strict";p.d(We,{U:()=>e});const e={now:()=>(e.delegate||Date).now(),delegate:void 0}},7242:(_n,We,p)=>{"use strict";p.d(We,{T:()=>H});var e=p(6780),d=p(9687);const H=new class G extends d.q{}(class f extends e.R{constructor(x,k){super(x,k),this.scheduler=x,this.work=k}schedule(x,k=0){return k>0?super.schedule(x,k):(this.delay=k,this.state=x,this.scheduler.flush(this),this)}execute(x,k){return k>0||this.closed?super.execute(x,k):this._execute(x,k)}requestAsyncId(x,k,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(x,k,j):(x.flush(this),0)}})},4761:(_n,We,p)=>{"use strict";p.d(We,{l:()=>f});const f=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},9350:(_n,We,p)=>{"use strict";p.d(We,{G:()=>f});const f=(0,p(1853).L)(d=>function(){d(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(_n,We,p)=>{"use strict";p.d(We,{R0:()=>b,lI:()=>H,ms:()=>G});var e=p(8071),f=p(9470);function d(D){return D[D.length-1]}function G(D){return(0,e.T)(d(D))?D.pop():void 0}function H(D){return(0,f.m)(d(D))?D.pop():void 0}function b(D,x){return"number"==typeof d(D)?D.pop():x}},3073:(_n,We,p)=>{"use strict";p.d(We,{D:()=>H});const{isArray:e}=Array,{getPrototypeOf:f,prototype:d,keys:G}=Object;function H(D){if(1===D.length){const x=D[0];if(e(x))return{args:x,keys:null};if(function b(D){return D&&"object"==typeof D&&f(D)===d}(x)){const k=G(x);return{args:k.map(j=>x[j]),keys:k}}}return{args:D,keys:null}}},2326:(_n,We,p)=>{"use strict";p.d(We,{K:()=>f});const{isArray:e}=Array;function f(d){return 1===d.length&&e(d[0])?d[0]:d}},8496:(_n,We,p)=>{"use strict";function e(f,d){return f.reduce((G,H,b)=>(G[H]=d[b],G),{})}p.d(We,{e:()=>e})},5225:(_n,We,p)=>{"use strict";function e(f,d,G,H=0,b=!1){const D=d.schedule(function(){G(),b?f.add(this.schedule(null,H)):this.unsubscribe()},H);if(f.add(D),!b)return D}p.d(We,{N:()=>e})},7441:(_n,We,p)=>{"use strict";p.d(We,{X:()=>e});const e=f=>f&&"number"==typeof f.length&&"function"!=typeof f},7953:(_n,We,p)=>{"use strict";p.d(We,{T:()=>f});var e=p(8071);function f(d){return Symbol.asyncIterator&&(0,e.T)(d?.[Symbol.asyncIterator])}},8211:(_n,We,p)=>{"use strict";function e(f){return f instanceof Date&&!isNaN(f)}p.d(We,{v:()=>e})},5055:(_n,We,p)=>{"use strict";p.d(We,{l:()=>d});var e=p(3494),f=p(8071);function d(G){return(0,f.T)(G[e.s])}},5397:(_n,We,p)=>{"use strict";p.d(We,{x:()=>d});var e=p(4761),f=p(8071);function d(G){return(0,f.T)(G?.[e.l])}},9858:(_n,We,p)=>{"use strict";p.d(We,{y:()=>f});var e=p(8071);function f(d){return(0,e.T)(d?.then)}},5196:(_n,We,p)=>{"use strict";p.d(We,{C:()=>d,U:()=>G});var e=p(1635),f=p(8071);function d(H){return(0,e.AQ)(this,arguments,function*(){const D=H.getReader();try{for(;;){const{value:x,done:k}=yield(0,e.N3)(D.read());if(k)return yield(0,e.N3)(void 0);yield yield(0,e.N3)(x)}}finally{D.releaseLock()}})}function G(H){return(0,f.T)(H?.getReader)}},9470:(_n,We,p)=>{"use strict";p.d(We,{m:()=>f});var e=p(8071);function f(d){return d&&(0,e.T)(d.schedule)}},6450:(_n,We,p)=>{"use strict";p.d(We,{I:()=>G});var e=p(6354);const{isArray:f}=Array;function G(H){return(0,e.T)(b=>function d(H,b){return f(b)?H(...b):H(b)}(H,b))}},591:(_n,We,p)=>{"use strict";function e(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}p.d(We,{L:()=>e})},9969:(_n,We,p)=>{"use strict";p.d(We,{FX:()=>It,If:()=>e,K2:()=>b,hZ:()=>d,i0:()=>G,iF:()=>D,kY:()=>j,kp:()=>f,sf:()=>m,ui:()=>Tt});var e=function(Bt){return Bt[Bt.State=0]="State",Bt[Bt.Transition=1]="Transition",Bt[Bt.Sequence=2]="Sequence",Bt[Bt.Group=3]="Group",Bt[Bt.Animate=4]="Animate",Bt[Bt.Keyframes=5]="Keyframes",Bt[Bt.Style=6]="Style",Bt[Bt.Trigger=7]="Trigger",Bt[Bt.Reference=8]="Reference",Bt[Bt.AnimateChild=9]="AnimateChild",Bt[Bt.AnimateRef=10]="AnimateRef",Bt[Bt.Query=11]="Query",Bt[Bt.Stagger=12]="Stagger",Bt}(e||{});const f="*";function d(Bt,wt){return{type:e.Trigger,name:Bt,definitions:wt,options:{}}}function G(Bt,wt=null){return{type:e.Animate,styles:wt,timings:Bt}}function b(Bt,wt=null){return{type:e.Sequence,steps:Bt,options:wt}}function D(Bt){return{type:e.Style,styles:Bt,offset:null}}function j(Bt,wt,mn=null){return{type:e.Transition,expr:Bt,animation:wt,options:mn}}class m{constructor(wt=0,mn=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=wt+mn}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(wt=>wt()),this._onDoneFns=[])}onStart(wt){this._originalOnStartFns.push(wt),this._onStartFns.push(wt)}onDone(wt){this._originalOnDoneFns.push(wt),this._onDoneFns.push(wt)}onDestroy(wt){this._onDestroyFns.push(wt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(wt=>wt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(wt=>wt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(wt){this._position=this.totalTime?wt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(wt){const mn="start"==wt?this._onStartFns:this._onDoneFns;mn.forEach(tn=>tn()),mn.length=0}}class Tt{constructor(wt){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=wt;let mn=0,tn=0,Pn=0;const On=this.players.length;0==On?queueMicrotask(()=>this._onFinish()):this.players.forEach(Tn=>{Tn.onDone(()=>{++mn==On&&this._onFinish()}),Tn.onDestroy(()=>{++tn==On&&this._onDestroy()}),Tn.onStart(()=>{++Pn==On&&this._onStart()})}),this.totalTime=this.players.reduce((Tn,Cn)=>Math.max(Tn,Cn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(wt=>wt()),this._onDoneFns=[])}init(){this.players.forEach(wt=>wt.init())}onStart(wt){this._onStartFns.push(wt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(wt=>wt()),this._onStartFns=[])}onDone(wt){this._onDoneFns.push(wt)}onDestroy(wt){this._onDestroyFns.push(wt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(wt=>wt.play())}pause(){this.players.forEach(wt=>wt.pause())}restart(){this.players.forEach(wt=>wt.restart())}finish(){this._onFinish(),this.players.forEach(wt=>wt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(wt=>wt.destroy()),this._onDestroyFns.forEach(wt=>wt()),this._onDestroyFns=[])}reset(){this.players.forEach(wt=>wt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(wt){const mn=wt*this.totalTime;this.players.forEach(tn=>{const Pn=tn.totalTime?Math.min(1,mn/tn.totalTime):1;tn.setPosition(Pn)})}getPosition(){const wt=this.players.reduce((mn,tn)=>null===mn||tn.totalTime>mn.totalTime?tn:mn,null);return null!=wt?wt.getPosition():0}beforeDestroy(){this.players.forEach(wt=>{wt.beforeDestroy&&wt.beforeDestroy()})}triggerCallback(wt){const mn="start"==wt?this._onStartFns:this._onDoneFns;mn.forEach(tn=>tn()),mn.length=0}}const It="!"},8203:(_n,We,p)=>{"use strict";p.d(We,{dS:()=>D,jI:()=>k});var e=p(3953),f=p(177);const d=new e.nKC("cdk-dir-doc",{providedIn:"root",factory:function G(){return(0,e.WQX)(f.qQ)}}),H=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let D=(()=>{class j{constructor(se){this.value="ltr",this.change=new e.bkB,se&&(this.value=function b(j){const X=j?.toLowerCase()||"";return"auto"===X&&typeof navigator<"u"&&navigator?.language?H.test(navigator.language)?"rtl":"ltr":"rtl"===X?"rtl":"ltr"}((se.body?se.body.dir:null)||(se.documentElement?se.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(q){return new(q||j)(e.KVO(d,8))};static#t=this.\u0275prov=e.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),k=(()=>{class j{static#e=this.\u0275fac=function(q){return new(q||j)};static#t=this.\u0275mod=e.$C({type:j});static#n=this.\u0275inj=e.G2t({})}return j})()},4085:(_n,We,p)=>{"use strict";p.d(We,{FG:()=>H,OE:()=>d,a1:()=>b,i8:()=>D});var e=p(3953);function d(k,j=0){return function G(k){return!isNaN(parseFloat(k))&&!isNaN(Number(k))}(k)?Number(k):j}function H(k){return Array.isArray(k)?k:[k]}function b(k){return null==k?"":"string"==typeof k?k:`${k}px`}function D(k){return k instanceof e.aKT?k.nativeElement:k}},6860:(_n,We,p)=>{"use strict";p.d(We,{BQ:()=>X,CZ:()=>te,Fb:()=>ke,KT:()=>Fe,OD:()=>G,v8:()=>Ye});var e=p(3953),f=p(177);let d;try{d=typeof Intl<"u"&&Intl.v8BreakIterator}catch{d=!1}let k,oe,Ge,G=(()=>{class nt{constructor(Tt){this._platformId=Tt,this.isBrowser=this._platformId?(0,f.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!d)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(It){return new(It||nt)(e.KVO(e.Agw))};static#t=this.\u0275prov=e.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();function X(nt){return function j(){if(null==k&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>k=!0}))}finally{k=k||!1}return k}()?nt:!!nt.capture}function te(){if(null==oe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return oe=!1,oe;if("scrollBehavior"in document.documentElement.style)oe=!0;else{const nt=Element.prototype.scrollTo;oe=!!nt&&!/\{\s*\[native code\]\s*\}/.test(nt.toString())}}return oe}function Fe(nt){if(function Ee(){if(null==Ge){const nt=typeof document<"u"?document.head:null;Ge=!(!nt||!nt.createShadowRoot&&!nt.attachShadow)}return Ge}()){const m=nt.getRootNode?nt.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&m instanceof ShadowRoot)return m}return null}function ke(nt){return nt.composedPath?nt.composedPath()[0]:nt.target}function Ye(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6535:(_n,We,p)=>{"use strict";p.d(We,{Gj:()=>ii,R:()=>$t,E9:()=>gi,Xj:()=>Le});var e=p(4085),f=p(3953),d=p(1413),G=p(7673),H=p(1985),b=p(3726),x=(p(536),p(6780));let j,k=1;const X={};function se(pn){return pn in X&&(delete X[pn],!0)}const q={setImmediate(pn){const rn=k++;return X[rn]=!0,j||(j=Promise.resolve()),j.then(()=>se(rn)&&pn()),rn},clearImmediate(pn){se(pn)}},{setImmediate:te,clearImmediate:ue}=q,Ge={setImmediate(...pn){const{delegate:rn}=Ge;return(rn?.setImmediate||te)(...pn)},clearImmediate(pn){const{delegate:rn}=Ge;return(rn?.clearImmediate||ue)(pn)},delegate:void 0};var Fe=p(9687);new class ye extends Fe.q{flush(rn){this._active=!0;const gt=this._scheduled;this._scheduled=void 0;const{actions:dt}=this;let sn;rn=rn||dt.shift();do{if(sn=rn.execute(rn.state,rn.delay))break}while((rn=dt[0])&&rn.id===gt&&dt.shift());if(this._active=!1,sn){for(;(rn=dt[0])&&rn.id===gt&&dt.shift();)rn.unsubscribe();throw sn}}}(class Ee extends x.R{constructor(rn,gt){super(rn,gt),this.scheduler=rn,this.work=gt}requestAsyncId(rn,gt,dt=0){return null!==dt&&dt>0?super.requestAsyncId(rn,gt,dt):(rn.actions.push(this),rn._scheduled||(rn._scheduled=Ge.setImmediate(rn.flush.bind(rn,void 0))))}recycleAsyncId(rn,gt,dt=0){var sn;if(null!=dt?dt>0:this.delay>0)return super.recycleAsyncId(rn,gt,dt);const{actions:on}=rn;null!=gt&&(null===(sn=on[on.length-1])||void 0===sn?void 0:sn.id)!==gt&&(Ge.clearImmediate(gt),rn._scheduled===gt&&(rn._scheduled=void 0))}});var nt=p(3236),m=p(9974),Tt=p(8750),It=p(4360),wt=p(1807);function mn(pn,rn=nt.E){return function Bt(pn){return(0,m.N)((rn,gt)=>{let dt=!1,sn=null,on=null,hn=!1;const _i=()=>{if(on?.unsubscribe(),on=null,dt){dt=!1;const ki=sn;sn=null,gt.next(ki)}hn&&gt.complete()},_e=()=>{on=null,hn&&gt.complete()};rn.subscribe((0,It._)(gt,ki=>{dt=!0,sn=ki,on||(0,Tt.Tg)(pn(ki)).subscribe(on=(0,It._)(gt,_i,_e))},()=>{hn=!0,(!dt||!on||on.closed)&&gt.complete()}))})}(()=>(0,wt.O)(pn,rn))}var tn=p(5964),Pn=p(6860),On=p(177),Tn=p(8203);let $t=(()=>{class pn{constructor(gt,dt,sn){this._ngZone=gt,this._platform=dt,this._scrolled=new d.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=sn}register(gt){this.scrollContainers.has(gt)||this.scrollContainers.set(gt,gt.elementScrolled().subscribe(()=>this._scrolled.next(gt)))}deregister(gt){const dt=this.scrollContainers.get(gt);dt&&(dt.unsubscribe(),this.scrollContainers.delete(gt))}scrolled(gt=20){return this._platform.isBrowser?new H.c(dt=>{this._globalSubscription||this._addGlobalListener();const sn=gt>0?this._scrolled.pipe(mn(gt)).subscribe(dt):this._scrolled.subscribe(dt);return this._scrolledCount++,()=>{sn.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,G.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((gt,dt)=>this.deregister(dt)),this._scrolled.complete()}ancestorScrolled(gt,dt){const sn=this.getAncestorScrollContainers(gt);return this.scrolled(dt).pipe((0,tn.p)(on=>!on||sn.indexOf(on)>-1))}getAncestorScrollContainers(gt){const dt=[];return this.scrollContainers.forEach((sn,on)=>{this._scrollableContainsElement(on,gt)&&dt.push(on)}),dt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(gt,dt){let sn=(0,e.i8)(dt),on=gt.getElementRef().nativeElement;do{if(sn==on)return!0}while(sn=sn.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const gt=this._getWindow();return(0,b.R)(gt.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(dt){return new(dt||pn)(f.KVO(f.SKi),f.KVO(Pn.OD),f.KVO(On.qQ,8))};static#t=this.\u0275prov=f.jDH({token:pn,factory:pn.\u0275fac,providedIn:"root"})}return pn})(),Le=(()=>{class pn{constructor(gt,dt,sn){this._platform=gt,this._change=new d.B,this._changeListener=on=>{this._change.next(on)},this._document=sn,dt.runOutsideAngular(()=>{if(gt.isBrowser){const on=this._getWindow();on.addEventListener("resize",this._changeListener),on.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const gt=this._getWindow();gt.removeEventListener("resize",this._changeListener),gt.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const gt={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),gt}getViewportRect(){const gt=this.getViewportScrollPosition(),{width:dt,height:sn}=this.getViewportSize();return{top:gt.top,left:gt.left,bottom:gt.top+sn,right:gt.left+dt,height:sn,width:dt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const gt=this._document,dt=this._getWindow(),sn=gt.documentElement,on=sn.getBoundingClientRect();return{top:-on.top||gt.body.scrollTop||dt.scrollY||sn.scrollTop||0,left:-on.left||gt.body.scrollLeft||dt.scrollX||sn.scrollLeft||0}}change(gt=20){return gt>0?this._change.pipe(mn(gt)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const gt=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:gt.innerWidth,height:gt.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(dt){return new(dt||pn)(f.KVO(Pn.OD),f.KVO(f.SKi),f.KVO(On.qQ,8))};static#t=this.\u0275prov=f.jDH({token:pn,factory:pn.\u0275fac,providedIn:"root"})}return pn})(),ii=(()=>{class pn{static#e=this.\u0275fac=function(dt){return new(dt||pn)};static#t=this.\u0275mod=f.$C({type:pn});static#n=this.\u0275inj=f.G2t({})}return pn})(),gi=(()=>{class pn{static#e=this.\u0275fac=function(dt){return new(dt||pn)};static#t=this.\u0275mod=f.$C({type:pn});static#n=this.\u0275inj=f.G2t({imports:[Tn.jI,ii,Tn.jI,ii]})}return pn})()},1626:(_n,We,p)=>{"use strict";p.d(We,{Lr:()=>oe,Nl:()=>Ye,Qq:()=>Jt,a7:()=>un,q1:()=>hs,uA:()=>Hs});var e=p(467),f=p(3953),d=p(7673),G=p(1985),H=p(2806),b=p(274),D=p(5964),x=p(6354),k=p(980),j=p(5558),X=p(177);class se{}class q{}class oe{constructor(S){this.normalizedNames=new Map,this.lazyUpdate=null,S?"string"==typeof S?this.lazyInit=()=>{this.headers=new Map,S.split("\n").forEach(A=>{const W=A.indexOf(":");if(W>0){const ne=A.slice(0,W),le=ne.toLowerCase(),he=A.slice(W+1).trim();this.maybeSetNormalizedName(ne,le),this.headers.has(le)?this.headers.get(le).push(he):this.headers.set(le,[he])}})}:typeof Headers<"u"&&S instanceof Headers?(this.headers=new Map,S.forEach((A,W)=>{this.setHeaderEntries(W,A)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(S).forEach(([A,W])=>{this.setHeaderEntries(A,W)})}:this.headers=new Map}has(S){return this.init(),this.headers.has(S.toLowerCase())}get(S){this.init();const A=this.headers.get(S.toLowerCase());return A&&A.length>0?A[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(S){return this.init(),this.headers.get(S.toLowerCase())||null}append(S,A){return this.clone({name:S,value:A,op:"a"})}set(S,A){return this.clone({name:S,value:A,op:"s"})}delete(S,A){return this.clone({name:S,value:A,op:"d"})}maybeSetNormalizedName(S,A){this.normalizedNames.has(A)||this.normalizedNames.set(A,S)}init(){this.lazyInit&&(this.lazyInit instanceof oe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(S=>this.applyUpdate(S)),this.lazyUpdate=null))}copyFrom(S){S.init(),Array.from(S.headers.keys()).forEach(A=>{this.headers.set(A,S.headers.get(A)),this.normalizedNames.set(A,S.normalizedNames.get(A))})}clone(S){const A=new oe;return A.lazyInit=this.lazyInit&&this.lazyInit instanceof oe?this.lazyInit:this,A.lazyUpdate=(this.lazyUpdate||[]).concat([S]),A}applyUpdate(S){const A=S.name.toLowerCase();switch(S.op){case"a":case"s":let W=S.value;if("string"==typeof W&&(W=[W]),0===W.length)return;this.maybeSetNormalizedName(S.name,A);const ne=("a"===S.op?this.headers.get(A):void 0)||[];ne.push(...W),this.headers.set(A,ne);break;case"d":const le=S.value;if(le){let he=this.headers.get(A);if(!he)return;he=he.filter(be=>-1===le.indexOf(be)),0===he.length?(this.headers.delete(A),this.normalizedNames.delete(A)):this.headers.set(A,he)}else this.headers.delete(A),this.normalizedNames.delete(A)}}setHeaderEntries(S,A){const W=(Array.isArray(A)?A:[A]).map(le=>le.toString()),ne=S.toLowerCase();this.headers.set(ne,W),this.maybeSetNormalizedName(S,ne)}forEach(S){this.init(),Array.from(this.normalizedNames.keys()).forEach(A=>S(this.normalizedNames.get(A),this.headers.get(A)))}}class ue{encodeKey(S){return ye(S)}encodeValue(S){return ye(S)}decodeKey(S){return decodeURIComponent(S)}decodeValue(S){return decodeURIComponent(S)}}const Ee=/%(\d[a-f0-9])/gi,Fe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ye(c){return encodeURIComponent(c).replace(Ee,(S,A)=>Fe[A]??S)}function ke(c){return`${c}`}class Ye{constructor(S={}){if(this.updates=null,this.cloneFrom=null,this.encoder=S.encoder||new ue,S.fromString){if(S.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ge(c,S){const A=new Map;return c.length>0&&c.replace(/^\?/,"").split("&").forEach(ne=>{const le=ne.indexOf("="),[he,be]=-1==le?[S.decodeKey(ne),""]:[S.decodeKey(ne.slice(0,le)),S.decodeValue(ne.slice(le+1))],ve=A.get(he)||[];ve.push(be),A.set(he,ve)}),A}(S.fromString,this.encoder)}else S.fromObject?(this.map=new Map,Object.keys(S.fromObject).forEach(A=>{const W=S.fromObject[A],ne=Array.isArray(W)?W.map(ke):[ke(W)];this.map.set(A,ne)})):this.map=null}has(S){return this.init(),this.map.has(S)}get(S){this.init();const A=this.map.get(S);return A?A[0]:null}getAll(S){return this.init(),this.map.get(S)||null}keys(){return this.init(),Array.from(this.map.keys())}append(S,A){return this.clone({param:S,value:A,op:"a"})}appendAll(S){const A=[];return Object.keys(S).forEach(W=>{const ne=S[W];Array.isArray(ne)?ne.forEach(le=>{A.push({param:W,value:le,op:"a"})}):A.push({param:W,value:ne,op:"a"})}),this.clone(A)}set(S,A){return this.clone({param:S,value:A,op:"s"})}delete(S,A){return this.clone({param:S,value:A,op:"d"})}toString(){return this.init(),this.keys().map(S=>{const A=this.encoder.encodeKey(S);return this.map.get(S).map(W=>A+"="+this.encoder.encodeValue(W)).join("&")}).filter(S=>""!==S).join("&")}clone(S){const A=new Ye({encoder:this.encoder});return A.cloneFrom=this.cloneFrom||this,A.updates=(this.updates||[]).concat(S),A}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(S=>this.map.set(S,this.cloneFrom.map.get(S))),this.updates.forEach(S=>{switch(S.op){case"a":case"s":const A=("a"===S.op?this.map.get(S.param):void 0)||[];A.push(ke(S.value)),this.map.set(S.param,A);break;case"d":if(void 0===S.value){this.map.delete(S.param);break}{let W=this.map.get(S.param)||[];const ne=W.indexOf(ke(S.value));-1!==ne&&W.splice(ne,1),W.length>0?this.map.set(S.param,W):this.map.delete(S.param)}}}),this.cloneFrom=this.updates=null)}}class m{constructor(){this.map=new Map}set(S,A){return this.map.set(S,A),this}get(S){return this.map.has(S)||this.map.set(S,S.defaultValue()),this.map.get(S)}delete(S){return this.map.delete(S),this}has(S){return this.map.has(S)}keys(){return this.map.keys()}}function It(c){return typeof ArrayBuffer<"u"&&c instanceof ArrayBuffer}function Bt(c){return typeof Blob<"u"&&c instanceof Blob}function wt(c){return typeof FormData<"u"&&c instanceof FormData}class tn{constructor(S,A,W,ne){let le;if(this.url=A,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=S.toUpperCase(),function Tt(c){switch(c){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ne?(this.body=void 0!==W?W:null,le=ne):le=W,le&&(this.reportProgress=!!le.reportProgress,this.withCredentials=!!le.withCredentials,le.responseType&&(this.responseType=le.responseType),le.headers&&(this.headers=le.headers),le.context&&(this.context=le.context),le.params&&(this.params=le.params),this.transferCache=le.transferCache),this.headers??=new oe,this.context??=new m,this.params){const he=this.params.toString();if(0===he.length)this.urlWithParams=A;else{const be=A.indexOf("?");this.urlWithParams=A+(-1===be?"?":be<A.length-1?"&":"")+he}}else this.params=new Ye,this.urlWithParams=A}serializeBody(){return null===this.body?null:"string"==typeof this.body||It(this.body)||Bt(this.body)||wt(this.body)||function mn(c){return typeof URLSearchParams<"u"&&c instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ye?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wt(this.body)?null:Bt(this.body)?this.body.type||null:It(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ye?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(S={}){const A=S.method||this.method,W=S.url||this.url,ne=S.responseType||this.responseType,le=S.transferCache??this.transferCache,he=void 0!==S.body?S.body:this.body,be=S.withCredentials??this.withCredentials,ve=S.reportProgress??this.reportProgress;let Ie=S.headers||this.headers,ze=S.params||this.params;const st=S.context??this.context;return void 0!==S.setHeaders&&(Ie=Object.keys(S.setHeaders).reduce((_t,vt)=>_t.set(vt,S.setHeaders[vt]),Ie)),S.setParams&&(ze=Object.keys(S.setParams).reduce((_t,vt)=>_t.set(vt,S.setParams[vt]),ze)),new tn(A,W,he,{params:ze,headers:Ie,context:st,reportProgress:ve,responseType:ne,withCredentials:be,transferCache:le})}}var Pn=function(c){return c[c.Sent=0]="Sent",c[c.UploadProgress=1]="UploadProgress",c[c.ResponseHeader=2]="ResponseHeader",c[c.DownloadProgress=3]="DownloadProgress",c[c.Response=4]="Response",c[c.User=5]="User",c}(Pn||{});class On{constructor(S,A=200,W="OK"){this.headers=S.headers||new oe,this.status=void 0!==S.status?S.status:A,this.statusText=S.statusText||W,this.url=S.url||null,this.ok=this.status>=200&&this.status<300}}class Tn extends On{constructor(S={}){super(S),this.type=Pn.ResponseHeader}clone(S={}){return new Tn({headers:S.headers||this.headers,status:void 0!==S.status?S.status:this.status,statusText:S.statusText||this.statusText,url:S.url||this.url||void 0})}}class Cn extends On{constructor(S={}){super(S),this.type=Pn.Response,this.body=void 0!==S.body?S.body:null}clone(S={}){return new Cn({body:void 0!==S.body?S.body:this.body,headers:S.headers||this.headers,status:void 0!==S.status?S.status:this.status,statusText:S.statusText||this.statusText,url:S.url||this.url||void 0})}}class nn extends On{constructor(S){super(S,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${S.url||"(unknown url)"}`:`Http failure response for ${S.url||"(unknown url)"}: ${S.status} ${S.statusText}`,this.error=S.error||null}}function xt(c,S){return{body:S,headers:c.headers,context:c.context,observe:c.observe,params:c.params,reportProgress:c.reportProgress,responseType:c.responseType,withCredentials:c.withCredentials,transferCache:c.transferCache}}let Jt=(()=>{class c{constructor(A){this.handler=A}request(A,W,ne={}){let le;if(A instanceof tn)le=A;else{let ve,Ie;ve=ne.headers instanceof oe?ne.headers:new oe(ne.headers),ne.params&&(Ie=ne.params instanceof Ye?ne.params:new Ye({fromObject:ne.params})),le=new tn(A,W,void 0!==ne.body?ne.body:null,{headers:ve,context:ne.context,params:Ie,reportProgress:ne.reportProgress,responseType:ne.responseType||"json",withCredentials:ne.withCredentials,transferCache:ne.transferCache})}const he=(0,d.of)(le).pipe((0,b.H)(ve=>this.handler.handle(ve)));if(A instanceof tn||"events"===ne.observe)return he;const be=he.pipe((0,D.p)(ve=>ve instanceof Cn));switch(ne.observe||"body"){case"body":switch(le.responseType){case"arraybuffer":return be.pipe((0,x.T)(ve=>{if(null!==ve.body&&!(ve.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ve.body}));case"blob":return be.pipe((0,x.T)(ve=>{if(null!==ve.body&&!(ve.body instanceof Blob))throw new Error("Response is not a Blob.");return ve.body}));case"text":return be.pipe((0,x.T)(ve=>{if(null!==ve.body&&"string"!=typeof ve.body)throw new Error("Response is not a string.");return ve.body}));default:return be.pipe((0,x.T)(ve=>ve.body))}case"response":return be;default:throw new Error(`Unreachable: unhandled observe type ${ne.observe}}`)}}delete(A,W={}){return this.request("DELETE",A,W)}get(A,W={}){return this.request("GET",A,W)}head(A,W={}){return this.request("HEAD",A,W)}jsonp(A,W){return this.request("JSONP",A,{params:(new Ye).append(W,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(A,W={}){return this.request("OPTIONS",A,W)}patch(A,W,ne={}){return this.request("PATCH",A,xt(ne,W))}post(A,W,ne={}){return this.request("POST",A,xt(ne,W))}put(A,W,ne={}){return this.request("PUT",A,xt(ne,W))}static#e=this.\u0275fac=function(W){return new(W||c)(f.KVO(se))};static#t=this.\u0275prov=f.jDH({token:c,factory:c.\u0275fac})}return c})();const $t=/^\)\]\}',?\n/;function Hn(c){if(c.url)return c.url;const S="X-Request-URL".toLocaleLowerCase();return c.headers.get(S)}let Le=(()=>{class c{constructor(){this.fetchImpl=(0,f.WQX)(B,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,f.WQX)(f.SKi)}handle(A){return new G.c(W=>{const ne=new AbortController;return this.doRequest(A,ne.signal,W).then(J,le=>W.error(new nn({error:le}))),()=>ne.abort()})}doRequest(A,W,ne){var le=this;return(0,e.A)(function*(){const he=le.createRequestInit(A);let be;try{const de=le.fetchImpl(A.urlWithParams,{signal:W,...he});(function Pe(c){c.then(J,J)})(de),ne.next({type:Pn.Sent}),be=yield de}catch(de){return void ne.error(new nn({error:de,status:de.status??0,statusText:de.statusText,url:A.urlWithParams,headers:de.headers}))}const ve=new oe(be.headers),Ie=be.statusText,ze=Hn(be)??A.urlWithParams;let st=be.status,_t=null;if(A.reportProgress&&ne.next(new Tn({headers:ve,status:st,statusText:Ie,url:ze})),be.body){const de=be.headers.get("content-length"),Oe=[],Re=be.body.getReader();let ee,Ae,je=0;const Ke=typeof Zone<"u"&&Zone.current;yield le.ngZone.runOutsideAngular((0,e.A)(function*(){for(;;){const{done:Mt,value:Ct}=yield Re.read();if(Mt)break;if(Oe.push(Ct),je+=Ct.length,A.reportProgress){Ae="text"===A.responseType?(Ae??"")+(ee??=new TextDecoder).decode(Ct,{stream:!0}):void 0;const ln=()=>ne.next({type:Pn.DownloadProgress,total:de?+de:void 0,loaded:je,partialText:Ae});Ke?Ke.run(ln):ln()}}}));const Be=le.concatChunks(Oe,je);try{const Mt=be.headers.get("Content-Type")??"";_t=le.parseBody(A,Be,Mt)}catch(Mt){return void ne.error(new nn({error:Mt,headers:new oe(be.headers),status:be.status,statusText:be.statusText,url:Hn(be)??A.urlWithParams}))}}0===st&&(st=_t?200:0),st>=200&&st<300?(ne.next(new Cn({body:_t,headers:ve,status:st,statusText:Ie,url:ze})),ne.complete()):ne.error(new nn({error:_t,headers:ve,status:st,statusText:Ie,url:ze}))})()}parseBody(A,W,ne){switch(A.responseType){case"json":const le=(new TextDecoder).decode(W).replace($t,"");return""===le?null:JSON.parse(le);case"text":return(new TextDecoder).decode(W);case"blob":return new Blob([W],{type:ne});case"arraybuffer":return W.buffer}}createRequestInit(A){const W={},ne=A.withCredentials?"include":void 0;if(A.headers.forEach((le,he)=>W[le]=he.join(",")),W.Accept??="application/json, text/plain, */*",!W["Content-Type"]){const le=A.detectContentTypeHeader();null!==le&&(W["Content-Type"]=le)}return{body:A.serializeBody(),method:A.method,headers:W,credentials:ne}}concatChunks(A,W){const ne=new Uint8Array(W);let le=0;for(const he of A)ne.set(he,le),le+=he.length;return ne}static#e=this.\u0275fac=function(W){return new(W||c)};static#t=this.\u0275prov=f.jDH({token:c,factory:c.\u0275fac})}return c})();class B{}function J(){}function $e(c,S){return S(c)}function qe(c,S){return(A,W)=>S.intercept(A,{handle:ne=>c(ne,W)})}const un=new f.nKC(""),kn=new f.nKC(""),ti=new f.nKC(""),ii=new f.nKC("",{providedIn:"root",factory:()=>!0});function gi(){let c=null;return(S,A)=>{null===c&&(c=((0,f.WQX)(un,{optional:!0})??[]).reduceRight(qe,$e));const W=(0,f.WQX)(f.TgB);if((0,f.WQX)(ii)){const le=W.add();return c(S,A).pipe((0,k.j)(()=>W.remove(le)))}return c(S,A)}}let sn,gt=(()=>{class c extends se{constructor(A,W){super(),this.backend=A,this.injector=W,this.chain=null,this.pendingTasks=(0,f.WQX)(f.TgB),this.contributeToStability=(0,f.WQX)(ii)}handle(A){if(null===this.chain){const W=Array.from(new Set([...this.injector.get(kn),...this.injector.get(ti,[])]));this.chain=W.reduceRight((ne,le)=>function At(c,S,A){return(W,ne)=>(0,f.N4e)(A,()=>S(W,le=>c(le,ne)))}(ne,le,this.injector),$e)}if(this.contributeToStability){const W=this.pendingTasks.add();return this.chain(A,ne=>this.backend.handle(ne)).pipe((0,k.j)(()=>this.pendingTasks.remove(W)))}return this.chain(A,W=>this.backend.handle(W))}static#e=this.\u0275fac=function(W){return new(W||c)(f.KVO(q),f.KVO(f.uvJ))};static#t=this.\u0275prov=f.jDH({token:c,factory:c.\u0275fac})}return c})(),dt=0;class ki{}function ci(){return"object"==typeof window?window:{}}let gn=(()=>{class c{constructor(A,W){this.callbackMap=A,this.document=W,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+dt++}handle(A){if("JSONP"!==A.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==A.responseType)throw new Error("JSONP requests must use Json response type.");if(A.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new G.c(W=>{const ne=this.nextCallback(),le=A.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${ne}$1`),he=this.document.createElement("script");he.src=le;let be=null,ve=!1;this.callbackMap[ne]=_t=>{delete this.callbackMap[ne],be=_t,ve=!0};const Ie=()=>{he.parentNode&&he.parentNode.removeChild(he),delete this.callbackMap[ne]};return he.addEventListener("load",_t=>{this.resolvedPromise.then(()=>{Ie(),ve?(W.next(new Cn({body:be,status:200,statusText:"OK",url:le})),W.complete()):W.error(new nn({url:le,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})}),he.addEventListener("error",_t=>{Ie(),W.error(new nn({error:_t,status:0,statusText:"JSONP Error",url:le}))}),this.document.body.appendChild(he),W.next({type:Pn.Sent}),()=>{ve||this.removeListeners(he),Ie()}})}removeListeners(A){sn??=this.document.implementation.createHTMLDocument(),sn.adoptNode(A)}static#e=this.\u0275fac=function(W){return new(W||c)(f.KVO(ki),f.KVO(X.qQ))};static#t=this.\u0275prov=f.jDH({token:c,factory:c.\u0275fac})}return c})();function cs(c,S){return"JSONP"===c.method?(0,f.WQX)(gn).handle(c):S(c)}const wr=/^\)\]\}',?\n/;let Ut=(()=>{class c{constructor(A){this.xhrFactory=A}handle(A){if("JSONP"===A.method)throw new f.wOt(-2800,!1);const W=this.xhrFactory;return(W.\u0275loadImpl?(0,H.H)(W.\u0275loadImpl()):(0,d.of)(null)).pipe((0,j.n)(()=>new G.c(le=>{const he=W.build();if(he.open(A.method,A.urlWithParams),A.withCredentials&&(he.withCredentials=!0),A.headers.forEach((Oe,Re)=>he.setRequestHeader(Oe,Re.join(","))),A.headers.has("Accept")||he.setRequestHeader("Accept","application/json, text/plain, */*"),!A.headers.has("Content-Type")){const Oe=A.detectContentTypeHeader();null!==Oe&&he.setRequestHeader("Content-Type",Oe)}if(A.responseType){const Oe=A.responseType.toLowerCase();he.responseType="json"!==Oe?Oe:"text"}const be=A.serializeBody();let ve=null;const Ie=()=>{if(null!==ve)return ve;const Oe=he.statusText||"OK",Re=new oe(he.getAllResponseHeaders()),je=function Ht(c){return"responseURL"in c&&c.responseURL?c.responseURL:/^X-Request-URL:/m.test(c.getAllResponseHeaders())?c.getResponseHeader("X-Request-URL"):null}(he)||A.url;return ve=new Tn({headers:Re,status:he.status,statusText:Oe,url:je}),ve},ze=()=>{let{headers:Oe,status:Re,statusText:je,url:ee}=Ie(),Ae=null;204!==Re&&(Ae=typeof he.response>"u"?he.responseText:he.response),0===Re&&(Re=Ae?200:0);let Ke=Re>=200&&Re<300;if("json"===A.responseType&&"string"==typeof Ae){const Be=Ae;Ae=Ae.replace(wr,"");try{Ae=""!==Ae?JSON.parse(Ae):null}catch(Mt){Ae=Be,Ke&&(Ke=!1,Ae={error:Mt,text:Ae})}}Ke?(le.next(new Cn({body:Ae,headers:Oe,status:Re,statusText:je,url:ee||void 0})),le.complete()):le.error(new nn({error:Ae,headers:Oe,status:Re,statusText:je,url:ee||void 0}))},st=Oe=>{const{url:Re}=Ie(),je=new nn({error:Oe,status:he.status||0,statusText:he.statusText||"Unknown Error",url:Re||void 0});le.error(je)};let _t=!1;const vt=Oe=>{_t||(le.next(Ie()),_t=!0);let Re={type:Pn.DownloadProgress,loaded:Oe.loaded};Oe.lengthComputable&&(Re.total=Oe.total),"text"===A.responseType&&he.responseText&&(Re.partialText=he.responseText),le.next(Re)},de=Oe=>{let Re={type:Pn.UploadProgress,loaded:Oe.loaded};Oe.lengthComputable&&(Re.total=Oe.total),le.next(Re)};return he.addEventListener("load",ze),he.addEventListener("error",st),he.addEventListener("timeout",st),he.addEventListener("abort",st),A.reportProgress&&(he.addEventListener("progress",vt),null!==be&&he.upload&&he.upload.addEventListener("progress",de)),he.send(be),le.next({type:Pn.Sent}),()=>{he.removeEventListener("error",st),he.removeEventListener("abort",st),he.removeEventListener("load",ze),he.removeEventListener("timeout",st),A.reportProgress&&(he.removeEventListener("progress",vt),null!==be&&he.upload&&he.upload.removeEventListener("progress",de)),he.readyState!==he.DONE&&he.abort()}})))}static#e=this.\u0275fac=function(W){return new(W||c)(f.KVO(X.N0))};static#t=this.\u0275prov=f.jDH({token:c,factory:c.\u0275fac})}return c})();const re=new f.nKC(""),rt=new f.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),pt=new f.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mt{}let Kt=(()=>{class c{constructor(A,W,ne){this.doc=A,this.platform=W,this.cookieName=ne,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const A=this.doc.cookie||"";return A!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,X._b)(A,this.cookieName),this.lastCookieString=A),this.lastToken}static#e=this.\u0275fac=function(W){return new(W||c)(f.KVO(X.qQ),f.KVO(f.Agw),f.KVO(rt))};static#t=this.\u0275prov=f.jDH({token:c,factory:c.\u0275fac})}return c})();function Un(c,S){const A=c.url.toLowerCase();if(!(0,f.WQX)(re)||"GET"===c.method||"HEAD"===c.method||A.startsWith("http://")||A.startsWith("https://"))return S(c);const W=(0,f.WQX)(mt).getToken(),ne=(0,f.WQX)(pt);return null!=W&&!c.headers.has(ne)&&(c=c.clone({headers:c.headers.set(ne,W)})),S(c)}var Qt=function(c){return c[c.Interceptors=0]="Interceptors",c[c.LegacyInterceptors=1]="LegacyInterceptors",c[c.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",c[c.NoXsrfProtection=3]="NoXsrfProtection",c[c.JsonpSupport=4]="JsonpSupport",c[c.RequestsMadeViaParent=5]="RequestsMadeViaParent",c[c.Fetch=6]="Fetch",c}(Qt||{});function dn(c,S){return{\u0275kind:c,\u0275providers:S}}function Mn(...c){const S=[Jt,Ut,gt,{provide:se,useExisting:gt},{provide:q,useFactory:()=>(0,f.WQX)(Le,{optional:!0})??(0,f.WQX)(Ut)},{provide:kn,useValue:Un,multi:!0},{provide:re,useValue:!0},{provide:mt,useClass:Kt}];for(const A of c)S.push(...A.\u0275providers);return(0,f.EmA)(S)}const Vi=new f.nKC("");function Ar(){return dn(Qt.LegacyInterceptors,[{provide:Vi,useFactory:gi},{provide:kn,useExisting:Vi,multi:!0}])}function Wr(){return dn(Qt.JsonpSupport,[gn,{provide:ki,useFactory:ci},{provide:kn,useValue:cs,multi:!0}])}let hs=(()=>{class c{static#e=this.\u0275fac=function(W){return new(W||c)};static#t=this.\u0275mod=f.$C({type:c});static#n=this.\u0275inj=f.G2t({providers:[Mn(Ar())]})}return c})(),Hs=(()=>{class c{static#e=this.\u0275fac=function(W){return new(W||c)};static#t=this.\u0275mod=f.$C({type:c});static#n=this.\u0275inj=f.G2t({providers:[Wr().\u0275providers]})}return c})()},9079:(_n,We,p)=>{"use strict";p.d(We,{ot:()=>k,pQ:()=>G});var e=p(3953),f=p(1985),d=p(6977);function G(j){j||((0,e.Af3)(G),j=(0,e.WQX)(e.abz));const X=new f.c(se=>j.onDestroy(se.next.bind(se)));return se=>se.pipe((0,d.Q)(X))}function k(j,X){const se=!X?.manualCleanup;se&&!X?.injector&&(0,e.Af3)(k);const q=se?X?.injector?.get(e.abz)??(0,e.WQX)(e.abz):null;let oe;oe=(0,e.vPA)(X?.requireSync?{kind:0}:{kind:1,value:X?.initialValue});const te=j.subscribe({next:ue=>oe.set({kind:1,value:ue}),error:ue=>{if(X?.rejectErrors)throw ue;oe.set({kind:2,error:ue})}});return q?.onDestroy(te.unsubscribe.bind(te)),(0,e.EWP)(()=>{const ue=oe();switch(ue.kind){case 1:return ue.value;case 2:throw ue.error;case 0:throw new e.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}},4341:(_n,We,p)=>{"use strict";p.d(We,{me:()=>Ye,JD:()=>Qi,j4:()=>Lr,YN:()=>so,cz:()=>Tt,kq:()=>ue,BC:()=>on,cb:()=>hn,cV:()=>Ae,vS:()=>_r,X1:()=>os,ze:()=>po,hs:()=>Ct,J3:()=>jt,k0:()=>wt,qT:()=>ws});var e=p(3953),f=p(177),d=p(2806),G=p(1985),H=p(3073),b=p(8750),D=p(9326),x=p(4360),k=p(6450),j=p(8496),se=p(1413),q=p(6354);let oe=(()=>{class K{constructor(P,fe){this._renderer=P,this._elementRef=fe,this.onChange=He=>{},this.onTouched=()=>{}}setProperty(P,fe){this._renderer.setProperty(this._elementRef.nativeElement,P,fe)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static#e=this.\u0275fac=function(fe){return new(fe||K)(e.rXU(e.sFG),e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:K})}return K})(),te=(()=>{class K extends oe{static#e=this.\u0275fac=(()=>{let P;return function(He){return(P||(P=e.xGo(K)))(He||K)}})();static#t=this.\u0275dir=e.FsC({type:K,features:[e.Vt3]})}return K})();const ue=new e.nKC(""),Fe={provide:ue,useExisting:(0,e.Rfq)(()=>Ye),multi:!0},ke=new e.nKC("");let Ye=(()=>{class K extends oe{constructor(P,fe,He){super(P,fe),this._compositionMode=He,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ye(){const K=(0,f.QT)()?(0,f.QT)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static#e=this.\u0275fac=function(fe){return new(fe||K)(e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(ke,8))};static#t=this.\u0275dir=e.FsC({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(fe,He){1&fe&&e.bIt("input",function(ni){return He._handleInput(ni.target.value)})("blur",function(){return He.onTouched()})("compositionstart",function(){return He._compositionStart()})("compositionend",function(ni){return He._compositionEnd(ni.target.value)})},features:[e.Jv_([Fe]),e.Vt3]})}return K})();function nt(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function m(K){return null!=K&&"number"==typeof K.length}const Tt=new e.nKC(""),It=new e.nKC(""),Bt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wt{static min(Q){return function mn(K){return Q=>{if(nt(Q.value)||nt(K))return null;const P=parseFloat(Q.value);return!isNaN(P)&&P<K?{min:{min:K,actual:Q.value}}:null}}(Q)}static max(Q){return function tn(K){return Q=>{if(nt(Q.value)||nt(K))return null;const P=parseFloat(Q.value);return!isNaN(P)&&P>K?{max:{max:K,actual:Q.value}}:null}}(Q)}static required(Q){return function Pn(K){return nt(K.value)?{required:!0}:null}(Q)}static requiredTrue(Q){return function On(K){return!0===K.value?null:{required:!0}}(Q)}static email(Q){return function Tn(K){return nt(K.value)||Bt.test(K.value)?null:{email:!0}}(Q)}static minLength(Q){return function Cn(K){return Q=>nt(Q.value)||!m(Q.value)?null:Q.value.length<K?{minlength:{requiredLength:K,actualLength:Q.value.length}}:null}(Q)}static maxLength(Q){return function nn(K){return Q=>m(Q.value)&&Q.value.length>K?{maxlength:{requiredLength:K,actualLength:Q.value.length}}:null}(Q)}static pattern(Q){return function tt(K){if(!K)return bt;let Q,P;return"string"==typeof K?(P="","^"!==K.charAt(0)&&(P+="^"),P+=K,"$"!==K.charAt(K.length-1)&&(P+="$"),Q=new RegExp(P)):(P=K.toString(),Q=K),fe=>{if(nt(fe.value))return null;const He=fe.value;return Q.test(He)?null:{pattern:{requiredPattern:P,actualValue:He}}}}(Q)}static nullValidator(Q){return null}static compose(Q){return Le(Q)}static composeAsync(Q){return J(Q)}}function bt(K){return null}function Rt(K){return null!=K}function xt(K){return(0,e.jNT)(K)?(0,d.H)(K):K}function Jt(K){let Q={};return K.forEach(P=>{Q=null!=P?{...Q,...P}:Q}),0===Object.keys(Q).length?null:Q}function $t(K,Q){return Q.map(P=>P(K))}function Hn(K){return K.map(Q=>function Bn(K){return!K.validate}(Q)?Q:P=>Q.validate(P))}function Le(K){if(!K)return null;const Q=K.filter(Rt);return 0==Q.length?null:function(P){return Jt($t(P,Q))}}function B(K){return null!=K?Le(Hn(K)):null}function J(K){if(!K)return null;const Q=K.filter(Rt);return 0==Q.length?null:function(P){return function X(...K){const Q=(0,D.ms)(K),{args:P,keys:fe}=(0,H.D)(K),He=new G.c(Fn=>{const{length:ni}=P;if(!ni)return void Fn.complete();const Rr=new Array(ni);let Ms=ni,Cs=ni;for(let zs=0;zs<ni;zs++){let Tr=!1;(0,b.Tg)(P[zs]).subscribe((0,x._)(Fn,Yo=>{Tr||(Tr=!0,Cs--),Rr[zs]=Yo},()=>Ms--,void 0,()=>{(!Ms||!Tr)&&(Cs||Fn.next(fe?(0,j.e)(fe,Rr):Rr),Fn.complete())}))}});return Q?He.pipe((0,k.I)(Q)):He}($t(P,Q).map(xt)).pipe((0,q.T)(Jt))}}function Pe(K){return null!=K?J(Hn(K)):null}function $e(K,Q){return null===K?[Q]:Array.isArray(K)?[...K,Q]:[K,Q]}function qe(K){return K._rawValidators}function At(K){return K._rawAsyncValidators}function un(K){return K?Array.isArray(K)?K:[K]:[]}function kn(K,Q){return Array.isArray(K)?K.includes(Q):K===Q}function ti(K,Q){const P=un(Q);return un(K).forEach(He=>{kn(P,He)||P.push(He)}),P}function ii(K,Q){return un(Q).filter(P=>!kn(K,P))}class gi{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Q){this._rawValidators=Q||[],this._composedValidatorFn=B(this._rawValidators)}_setAsyncValidators(Q){this._rawAsyncValidators=Q||[],this._composedAsyncValidatorFn=Pe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Q){this._onDestroyCallbacks.push(Q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Q=>Q()),this._onDestroyCallbacks=[]}reset(Q=void 0){this.control&&this.control.reset(Q)}hasError(Q,P){return!!this.control&&this.control.hasError(Q,P)}getError(Q,P){return this.control?this.control.getError(Q,P):null}}class pn extends gi{get formDirective(){return null}get path(){return null}}class rn extends gi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gt{constructor(Q){this._cd=Q}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let on=(()=>{class K extends gt{constructor(P){super(P)}static#e=this.\u0275fac=function(fe){return new(fe||K)(e.rXU(rn,2))};static#t=this.\u0275dir=e.FsC({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(fe,He){2&fe&&e.AVh("ng-untouched",He.isUntouched)("ng-touched",He.isTouched)("ng-pristine",He.isPristine)("ng-dirty",He.isDirty)("ng-valid",He.isValid)("ng-invalid",He.isInvalid)("ng-pending",He.isPending)},features:[e.Vt3]})}return K})(),hn=(()=>{class K extends gt{constructor(P){super(P)}static#e=this.\u0275fac=function(fe){return new(fe||K)(e.rXU(pn,10))};static#t=this.\u0275dir=e.FsC({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(fe,He){2&fe&&e.AVh("ng-untouched",He.isUntouched)("ng-touched",He.isTouched)("ng-pristine",He.isPristine)("ng-dirty",He.isDirty)("ng-valid",He.isValid)("ng-invalid",He.isInvalid)("ng-pending",He.isPending)("ng-submitted",He.isSubmitted)},features:[e.Vt3]})}return K})();const jn="VALID",Qt="INVALID",dn="PENDING",Mn="DISABLED";class si{}class Vi extends si{constructor(Q,P){super(),this.value=Q,this.source=P}}class Ar extends si{constructor(Q,P){super(),this.pristine=Q,this.source=P}}class Zi extends si{constructor(Q,P){super(),this.touched=Q,this.source=P}}class oi extends si{constructor(Q,P){super(),this.status=Q,this.source=P}}class Wr extends si{constructor(Q){super(),this.source=Q}}class us extends si{constructor(Q){super(),this.source=Q}}function Zr(K){return(ur(K)?K.validators:K)||null}function hs(K,Q){return(ur(Q)?Q.asyncValidators:K)||null}function ur(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function bs(K,Q,P){const fe=K.controls;if(!(Q?Object.keys(fe):fe).length)throw new e.wOt(1e3,"");if(!fe[P])throw new e.wOt(1001,"")}function ut(K,Q,P){K._forEachChild((fe,He)=>{if(void 0===P[He])throw new e.wOt(1002,"")})}class zn{constructor(Q,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new se.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(Q),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(Q){this._rawValidators=this._composedValidatorFn=Q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Q){this._rawAsyncValidators=this._composedAsyncValidatorFn=Q}get parent(){return this._parent}get valid(){return this.status===jn}get invalid(){return this.status===Qt}get pending(){return this.status==dn}get disabled(){return this.status===Mn}get enabled(){return this.status!==Mn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Q){this._assignValidators(Q)}setAsyncValidators(Q){this._assignAsyncValidators(Q)}addValidators(Q){this.setValidators(ti(Q,this._rawValidators))}addAsyncValidators(Q){this.setAsyncValidators(ti(Q,this._rawAsyncValidators))}removeValidators(Q){this.setValidators(ii(Q,this._rawValidators))}removeAsyncValidators(Q){this.setAsyncValidators(ii(Q,this._rawAsyncValidators))}hasValidator(Q){return kn(this._rawValidators,Q)}hasAsyncValidator(Q){return kn(this._rawAsyncValidators,Q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Q={}){const P=!1===this.touched;this.touched=!0;const fe=Q.sourceControl??this;this._parent&&!Q.onlySelf&&this._parent.markAsTouched({...Q,sourceControl:fe}),P&&!1!==Q.emitEvent&&this._events.next(new Zi(!0,fe))}markAllAsTouched(Q={}){this.markAsTouched({onlySelf:!0,emitEvent:Q.emitEvent,sourceControl:this}),this._forEachChild(P=>P.markAllAsTouched(Q))}markAsUntouched(Q={}){const P=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const fe=Q.sourceControl??this;this._forEachChild(He=>{He.markAsUntouched({onlySelf:!0,emitEvent:Q.emitEvent,sourceControl:fe})}),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q,fe),P&&!1!==Q.emitEvent&&this._events.next(new Zi(!1,fe))}markAsDirty(Q={}){const P=!0===this.pristine;this.pristine=!1;const fe=Q.sourceControl??this;this._parent&&!Q.onlySelf&&this._parent.markAsDirty({...Q,sourceControl:fe}),P&&!1!==Q.emitEvent&&this._events.next(new Ar(!1,fe))}markAsPristine(Q={}){const P=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const fe=Q.sourceControl??this;this._forEachChild(He=>{He.markAsPristine({onlySelf:!0,emitEvent:Q.emitEvent})}),this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q,fe),P&&!1!==Q.emitEvent&&this._events.next(new Ar(!0,fe))}markAsPending(Q={}){this.status=dn;const P=Q.sourceControl??this;!1!==Q.emitEvent&&(this._events.next(new oi(this.status,P)),this.statusChanges.emit(this.status)),this._parent&&!Q.onlySelf&&this._parent.markAsPending({...Q,sourceControl:P})}disable(Q={}){const P=this._parentMarkedDirty(Q.onlySelf);this.status=Mn,this.errors=null,this._forEachChild(He=>{He.disable({...Q,onlySelf:!0})}),this._updateValue();const fe=Q.sourceControl??this;!1!==Q.emitEvent&&(this._events.next(new Vi(this.value,fe)),this._events.next(new oi(this.status,fe)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Q,skipPristineCheck:P},this),this._onDisabledChange.forEach(He=>He(!0))}enable(Q={}){const P=this._parentMarkedDirty(Q.onlySelf);this.status=jn,this._forEachChild(fe=>{fe.enable({...Q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent}),this._updateAncestors({...Q,skipPristineCheck:P},this),this._onDisabledChange.forEach(fe=>fe(!1))}_updateAncestors(Q,P){this._parent&&!Q.onlySelf&&(this._parent.updateValueAndValidity(Q),Q.skipPristineCheck||this._parent._updatePristine({},P),this._parent._updateTouched({},P))}setParent(Q){this._parent=Q}getRawValue(){return this.value}updateValueAndValidity(Q={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const fe=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jn||this.status===dn)&&this._runAsyncValidator(fe,Q.emitEvent)}const P=Q.sourceControl??this;!1!==Q.emitEvent&&(this._events.next(new Vi(this.value,P)),this._events.next(new oi(this.status,P)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Q.onlySelf&&this._parent.updateValueAndValidity({...Q,sourceControl:P})}_updateTreeValidity(Q={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(Q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mn:jn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Q,P){if(this.asyncValidator){this.status=dn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==P};const fe=xt(this.asyncValidator(this));this._asyncValidationSubscription=fe.subscribe(He=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(He,{emitEvent:P,shouldHaveEmitted:Q})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const Q=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,Q}return!1}setErrors(Q,P={}){this.errors=Q,this._updateControlsErrors(!1!==P.emitEvent,this,P.shouldHaveEmitted)}get(Q){let P=Q;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((fe,He)=>fe&&fe._find(He),this)}getError(Q,P){const fe=P?this.get(P):this;return fe&&fe.errors?fe.errors[Q]:null}hasError(Q,P){return!!this.getError(Q,P)}get root(){let Q=this;for(;Q._parent;)Q=Q._parent;return Q}_updateControlsErrors(Q,P,fe){this.status=this._calculateStatus(),Q&&this.statusChanges.emit(this.status),(Q||fe)&&this._events.next(new oi(this.status,P)),this._parent&&this._parent._updateControlsErrors(Q,P,fe)}_initObservables(){this.valueChanges=new e.bkB,this.statusChanges=new e.bkB}_calculateStatus(){return this._allControlsDisabled()?Mn:this.errors?Qt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dn)?dn:this._anyControlsHaveStatus(Qt)?Qt:jn}_anyControlsHaveStatus(Q){return this._anyControls(P=>P.status===Q)}_anyControlsDirty(){return this._anyControls(Q=>Q.dirty)}_anyControlsTouched(){return this._anyControls(Q=>Q.touched)}_updatePristine(Q,P){const fe=!this._anyControlsDirty(),He=this.pristine!==fe;this.pristine=fe,this._parent&&!Q.onlySelf&&this._parent._updatePristine(Q,P),He&&this._events.next(new Ar(this.pristine,P))}_updateTouched(Q={},P){this.touched=this._anyControlsTouched(),this._events.next(new Zi(this.touched,P)),this._parent&&!Q.onlySelf&&this._parent._updateTouched(Q,P)}_registerOnCollectionChange(Q){this._onCollectionChange=Q}_setUpdateStrategy(Q){ur(Q)&&null!=Q.updateOn&&(this._updateOn=Q.updateOn)}_parentMarkedDirty(Q){return!Q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Q){return null}_assignValidators(Q){this._rawValidators=Array.isArray(Q)?Q.slice():Q,this._composedValidatorFn=function ys(K){return Array.isArray(K)?B(K):K||null}(this._rawValidators)}_assignAsyncValidators(Q){this._rawAsyncValidators=Array.isArray(Q)?Q.slice():Q,this._composedAsyncValidatorFn=function Hs(K){return Array.isArray(K)?Pe(K):K||null}(this._rawAsyncValidators)}}class Ve extends zn{constructor(Q,P,fe){super(Zr(P),hs(fe,P)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Q,P){return this.controls[Q]?this.controls[Q]:(this.controls[Q]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(Q,P,fe={}){this.registerControl(Q,P),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}removeControl(Q,P={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(Q,P,fe={}){this.controls[Q]&&this.controls[Q]._registerOnCollectionChange(()=>{}),delete this.controls[Q],P&&this.registerControl(Q,P),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}contains(Q){return this.controls.hasOwnProperty(Q)&&this.controls[Q].enabled}setValue(Q,P={}){ut(this,0,Q),Object.keys(Q).forEach(fe=>{bs(this,!0,fe),this.controls[fe].setValue(Q[fe],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(Q,P={}){null!=Q&&(Object.keys(Q).forEach(fe=>{const He=this.controls[fe];He&&He.patchValue(Q[fe],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(Q={},P={}){this._forEachChild((fe,He)=>{fe.reset(Q?Q[He]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P,this),this._updateTouched(P,this),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(Q,P,fe)=>(Q[fe]=P.getRawValue(),Q))}_syncPendingControls(){let Q=this._reduceChildren(!1,(P,fe)=>!!fe._syncPendingControls()||P);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){Object.keys(this.controls).forEach(P=>{const fe=this.controls[P];fe&&Q(fe,P)})}_setUpControls(){this._forEachChild(Q=>{Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Q){for(const[P,fe]of Object.entries(this.controls))if(this.contains(P)&&Q(fe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,fe,He)=>((fe.enabled||this.disabled)&&(P[He]=fe.value),P))}_reduceChildren(Q,P){let fe=Q;return this._forEachChild((He,Fn)=>{fe=P(fe,He,Fn)}),fe}_allControlsDisabled(){for(const Q of Object.keys(this.controls))if(this.controls[Q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Q){return this.controls.hasOwnProperty(Q)?this.controls[Q]:null}}const jt=Ve;class In extends Ve{}const ai=new e.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ii}),Ii="always";function $r(K,Q){return[...Q.path,K]}function Kr(K,Q,P=Ii){i(K,Q),Q.valueAccessor.writeValue(K.value),(K.disabled||"always"===P)&&Q.valueAccessor.setDisabledState?.(K.disabled),function c(K,Q){Q.valueAccessor.registerOnChange(P=>{K._pendingValue=P,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&A(K,Q)})}(K,Q),function W(K,Q){const P=(fe,He)=>{Q.valueAccessor.writeValue(fe),He&&Q.viewToModelUpdate(fe)};K.registerOnChange(P),Q._registerOnDestroy(()=>{K._unregisterOnChange(P)})}(K,Q),function S(K,Q){Q.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&A(K,Q),"submit"!==K.updateOn&&K.markAsTouched()})}(K,Q),function r(K,Q){if(Q.valueAccessor.setDisabledState){const P=fe=>{Q.valueAccessor.setDisabledState(fe)};K.registerOnDisabledChange(P),Q._registerOnDestroy(()=>{K._unregisterOnDisabledChange(P)})}}(K,Q)}function es(K,Q,P=!0){const fe=()=>{};Q.valueAccessor&&(Q.valueAccessor.registerOnChange(fe),Q.valueAccessor.registerOnTouched(fe)),u(K,Q),K&&(Q._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function Or(K,Q){K.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(Q)})}function i(K,Q){const P=qe(K);null!==Q.validator?K.setValidators($e(P,Q.validator)):"function"==typeof P&&K.setValidators([P]);const fe=At(K);null!==Q.asyncValidator?K.setAsyncValidators($e(fe,Q.asyncValidator)):"function"==typeof fe&&K.setAsyncValidators([fe]);const He=()=>K.updateValueAndValidity();Or(Q._rawValidators,He),Or(Q._rawAsyncValidators,He)}function u(K,Q){let P=!1;if(null!==K){if(null!==Q.validator){const He=qe(K);if(Array.isArray(He)&&He.length>0){const Fn=He.filter(ni=>ni!==Q.validator);Fn.length!==He.length&&(P=!0,K.setValidators(Fn))}}if(null!==Q.asyncValidator){const He=At(K);if(Array.isArray(He)&&He.length>0){const Fn=He.filter(ni=>ni!==Q.asyncValidator);Fn.length!==He.length&&(P=!0,K.setAsyncValidators(Fn))}}}const fe=()=>{};return Or(Q._rawValidators,fe),Or(Q._rawAsyncValidators,fe),P}function A(K,Q){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),Q.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function ne(K,Q){i(K,Q)}function st(K,Q){if(!K.hasOwnProperty("model"))return!1;const P=K.model;return!!P.isFirstChange()||!Object.is(Q,P.currentValue)}function vt(K,Q){K._syncPendingControls(),Q.forEach(P=>{const fe=P.control;"submit"===fe.updateOn&&fe._pendingChange&&(P.viewToModelUpdate(fe._pendingValue),fe._pendingChange=!1)})}function de(K,Q){if(!Q)return null;let P,fe,He;return Array.isArray(Q),Q.forEach(Fn=>{Fn.constructor===Ye?P=Fn:function _t(K){return Object.getPrototypeOf(K.constructor)===te}(Fn)?fe=Fn:He=Fn}),He||fe||P||null}const je={provide:pn,useExisting:(0,e.Rfq)(()=>Ae)},ee=Promise.resolve();let Ae=(()=>{class K extends pn{constructor(P,fe,He){super(),this.callSetDisabledState=He,this.submitted=!1,this._directives=new Set,this.ngSubmit=new e.bkB,this.form=new Ve({},B(P),Pe(fe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(P){ee.then(()=>{const fe=this._findContainer(P.path);P.control=fe.registerControl(P.name,P.control),Kr(P.control,P,this.callSetDisabledState),P.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(P)})}getControl(P){return this.form.get(P.path)}removeControl(P){ee.then(()=>{const fe=this._findContainer(P.path);fe&&fe.removeControl(P.name),this._directives.delete(P)})}addFormGroup(P){ee.then(()=>{const fe=this._findContainer(P.path),He=new Ve({});ne(He,P),fe.registerControl(P.name,He),He.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(P){ee.then(()=>{const fe=this._findContainer(P.path);fe&&fe.removeControl(P.name)})}getFormGroup(P){return this.form.get(P.path)}updateModel(P,fe){ee.then(()=>{this.form.get(P.path).setValue(fe)})}setValue(P){this.control.setValue(P)}onSubmit(P){return this.submitted=!0,vt(this.form,this._directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(P){return P.pop(),P.length?this.form.get(P):this.form}static#e=this.\u0275fac=function(fe){return new(fe||K)(e.rXU(Tt,10),e.rXU(It,10),e.rXU(ai,8))};static#t=this.\u0275dir=e.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(fe,He){1&fe&&e.bIt("submit",function(ni){return He.onSubmit(ni)})("reset",function(){return He.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e.Jv_([je]),e.Vt3]})}return K})();function Ke(K,Q){const P=K.indexOf(Q);P>-1&&K.splice(P,1)}function Be(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const Mt=class extends zn{constructor(Q=null,P,fe){super(Zr(P),hs(fe,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Q),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ur(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=Be(Q)?Q.value:Q)}setValue(Q,P={}){this.value=this._pendingValue=Q,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(fe=>fe(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(Q,P={}){this.setValue(Q,P)}reset(Q=this.defaultValue,P={}){this._applyFormState(Q),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(Q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Q){this._onChange.push(Q)}_unregisterOnChange(Q){Ke(this._onChange,Q)}registerOnDisabledChange(Q){this._onDisabledChange.push(Q)}_unregisterOnDisabledChange(Q){Ke(this._onDisabledChange,Q)}_forEachChild(Q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Q){Be(Q)?(this.value=this._pendingValue=Q.value,Q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Q}},Ct=Mt,fr={provide:rn,useExisting:(0,e.Rfq)(()=>_r)},or=Promise.resolve();let _r=(()=>{class K extends rn{constructor(P,fe,He,Fn,ni,Rr){super(),this._changeDetectorRef=ni,this.callSetDisabledState=Rr,this.control=new Mt,this._registered=!1,this.name="",this.update=new e.bkB,this._parent=P,this._setValidators(fe),this._setAsyncValidators(He),this.valueAccessor=de(0,Fn)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const fe=P.name.previousValue;this.formDirective.removeControl({name:fe,path:this._getPath(fe)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),st(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){or.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const fe=P.isDisabled.currentValue,He=0!==fe&&(0,e.L39)(fe);or.then(()=>{He&&!this.control.disabled?this.control.disable():!He&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?$r(P,this._parent):[P]}static#e=this.\u0275fac=function(fe){return new(fe||K)(e.rXU(pn,9),e.rXU(Tt,10),e.rXU(It,10),e.rXU(ue,10),e.rXU(e.gRc,8),e.rXU(ai,8))};static#t=this.\u0275dir=e.FsC({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e.Jv_([fr]),e.Vt3,e.OA$]})}return K})(),ws=(()=>{class K{static#e=this.\u0275fac=function(fe){return new(fe||K)};static#t=this.\u0275dir=e.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return K})();const is=new e.nKC(""),As={provide:pn,useExisting:(0,e.Rfq)(()=>Lr)};let Lr=(()=>{class K extends pn{constructor(P,fe,He){super(),this.callSetDisabledState=He,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.bkB,this._setValidators(P),this._setAsyncValidators(fe)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(u(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const fe=this.form.get(P.path);return Kr(fe,P,this.callSetDisabledState),fe.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),fe}getControl(P){return this.form.get(P.path)}removeControl(P){es(P.control||null,P,!1),function Oe(K,Q){const P=K.indexOf(Q);P>-1&&K.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,fe){this.form.get(P.path).setValue(fe)}onSubmit(P){return this.submitted=!0,vt(this.form,this.directives),this.ngSubmit.emit(P),this.form._events.next(new Wr(this.control)),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1,this.form._events.next(new us(this.form))}_updateDomValue(){this.directives.forEach(P=>{const fe=P.control,He=this.form.get(P.path);fe!==He&&(es(fe||null,P),(K=>K instanceof Mt)(He)&&(Kr(He,P,this.callSetDisabledState),P.control=He))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const fe=this.form.get(P.path);ne(fe,P),fe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const fe=this.form.get(P.path);fe&&function le(K,Q){return u(K,Q)}(fe,P)&&fe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){i(this.form,this),this._oldForm&&u(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(fe){return new(fe||K)(e.rXU(Tt,10),e.rXU(It,10),e.rXU(ai,8))};static#t=this.\u0275dir=e.FsC({type:K,selectors:[["","formGroup",""]],hostBindings:function(fe,He){1&fe&&e.bIt("submit",function(ni){return He.onSubmit(ni)})("reset",function(){return He.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e.Jv_([As]),e.Vt3,e.OA$]})}return K})();const Js={provide:rn,useExisting:(0,e.Rfq)(()=>Qi)};let Qi=(()=>{class K extends rn{set isDisabled(P){}static#e=this._ngModelWarningSentOnce=!1;constructor(P,fe,He,Fn,ni){super(),this._ngModelWarningConfig=ni,this._added=!1,this.name=null,this.update=new e.bkB,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(fe),this._setAsyncValidators(He),this.valueAccessor=de(0,Fn)}ngOnChanges(P){this._added||this._setUpControl(),st(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return $r(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(fe){return new(fe||K)(e.rXU(pn,13),e.rXU(Tt,10),e.rXU(It,10),e.rXU(ue,10),e.rXU(is,8))};static#n=this.\u0275dir=e.FsC({type:K,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[e.Jv_([Js]),e.Vt3,e.OA$]})}return K})(),Mr=(()=>{class K{static#e=this.\u0275fac=function(fe){return new(fe||K)};static#t=this.\u0275mod=e.$C({type:K});static#n=this.\u0275inj=e.G2t({})}return K})();class Es extends zn{constructor(Q,P,fe){super(Zr(P),hs(fe,P)),this.controls=Q,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Q){return this.controls[this._adjustIndex(Q)]}push(Q,P={}){this.controls.push(Q),this._registerControl(Q),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(Q,P,fe={}){this.controls.splice(Q,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:fe.emitEvent})}removeAt(Q,P={}){let fe=this._adjustIndex(Q);fe<0&&(fe=0),this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),this.controls.splice(fe,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(Q,P,fe={}){let He=this._adjustIndex(Q);He<0&&(He=0),this.controls[He]&&this.controls[He]._registerOnCollectionChange(()=>{}),this.controls.splice(He,1),P&&(this.controls.splice(He,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Q,P={}){ut(this,0,Q),Q.forEach((fe,He)=>{bs(this,!1,He),this.at(He).setValue(fe,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(Q,P={}){null!=Q&&(Q.forEach((fe,He)=>{this.at(He)&&this.at(He).patchValue(fe,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(Q=[],P={}){this._forEachChild((fe,He)=>{fe.reset(Q[He],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P,this),this._updateTouched(P,this),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(Q=>Q.getRawValue())}clear(Q={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Q.emitEvent}))}_adjustIndex(Q){return Q<0?Q+this.length:Q}_syncPendingControls(){let Q=this.controls.reduce((P,fe)=>!!fe._syncPendingControls()||P,!1);return Q&&this.updateValueAndValidity({onlySelf:!0}),Q}_forEachChild(Q){this.controls.forEach((P,fe)=>{Q(P,fe)})}_updateValue(){this.value=this.controls.filter(Q=>Q.enabled||this.disabled).map(Q=>Q.value)}_anyControls(Q){return this.controls.some(P=>P.enabled&&Q(P))}_setUpControls(){this._forEachChild(Q=>this._registerControl(Q))}_allControlsDisabled(){for(const Q of this.controls)if(Q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Q){Q.setParent(this),Q._registerOnCollectionChange(this._onCollectionChange)}_find(Q){return this.at(Q)??null}}function Os(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let ss=(()=>{class K{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new K;return P.useNonNullable=!0,P}group(P,fe=null){const He=this._reduceControls(P);let Fn={};return Os(fe)?Fn=fe:null!==fe&&(Fn.validators=fe.validator,Fn.asyncValidators=fe.asyncValidator),new Ve(He,Fn)}record(P,fe=null){const He=this._reduceControls(P);return new In(He,fe)}control(P,fe,He){let Fn={};return this.useNonNullable?(Os(fe)?Fn=fe:(Fn.validators=fe,Fn.asyncValidators=He),new Mt(P,{...Fn,nonNullable:!0})):new Mt(P,fe,He)}array(P,fe,He){const Fn=P.map(ni=>this._createControl(ni));return new Es(Fn,fe,He)}_reduceControls(P){const fe={};return Object.keys(P).forEach(He=>{fe[He]=this._createControl(P[He])}),fe}_createControl(P){return P instanceof Mt||P instanceof zn?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}static#e=this.\u0275fac=function(fe){return new(fe||K)};static#t=this.\u0275prov=e.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})(),po=(()=>{class K extends ss{group(P,fe=null){return super.group(P,fe)}control(P,fe,He){return super.control(P,fe,He)}array(P,fe,He){return super.array(P,fe,He)}static#e=this.\u0275fac=(()=>{let P;return function(He){return(P||(P=e.xGo(K)))(He||K)}})();static#t=this.\u0275prov=e.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})(),so=(()=>{class K{static withConfig(P){return{ngModule:K,providers:[{provide:ai,useValue:P.callSetDisabledState??Ii}]}}static#e=this.\u0275fac=function(fe){return new(fe||K)};static#t=this.\u0275mod=e.$C({type:K});static#n=this.\u0275inj=e.G2t({imports:[Mr]})}return K})(),os=(()=>{class K{static withConfig(P){return{ngModule:K,providers:[{provide:is,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:ai,useValue:P.callSetDisabledState??Ii}]}}static#e=this.\u0275fac=function(fe){return new(fe||K)};static#t=this.\u0275mod=e.$C({type:K});static#n=this.\u0275inj=e.G2t({imports:[Mr]})}return K})()},4559:(_n,We,p)=>{"use strict";p.d(We,{nX:()=>ts,j5:()=>ze,wF:()=>be,L6:()=>_t,Z:()=>he,b:()=>la,Ix:()=>Xt,ys:()=>le,Wk:()=>nr,wQ:()=>Jr,iI:()=>uo,n3:()=>As,ld:()=>vt});var e=p(467),f=p(3953),d=p(1985),G=p(8071),b=p(2806),D=p(7673),x=p(4412),k=p(4572),j=p(9350),X=p(8793),se=p(8750);function q(v){return new d.c(R=>{(0,se.Tg)(v()).subscribe(R)})}var oe=p(1203),te=p(8810),ue=p(983),Ge=p(8359),Ee=p(9974),Fe=p(4360);function ye(){return(0,Ee.N)((v,R)=>{let E=null;v._refCount++;const O=(0,Fe._)(R,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(E=null);const z=v._connection,ge=E;E=null,z&&(!ge||z===ge)&&z.unsubscribe(),R.unsubscribe()});v.subscribe(O),O.closed||(E=v.connect())})}class ke extends d.c{constructor(R,E){super(),this.source=R,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,Ee.S)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new Ge.yU;const E=this.getSubject();R.add(this.source.subscribe((0,Fe._)(E,void 0,()=>{this._teardown(),E.complete()},O=>{this._teardown(),E.error(O)},()=>this._teardown()))),R.closed&&(this._connection=null,R=Ge.yU.EMPTY)}return R}refCount(){return ye()(this)}}var Ye=p(1413),nt=p(177),m=p(6354),Tt=p(5558),It=p(6697),Bt=p(9172),wt=p(5964),mn=p(1397),tn=p(1594),Pn=p(274),On=p(8141),Tn=p(9437),Cn=p(2816),nn=p(9901);function tt(v){return v<=0?()=>ue.w:(0,Ee.N)((R,E)=>{let O=[];R.subscribe((0,Fe._)(E,z=>{O.push(z),v<O.length&&O.shift()},()=>{for(const z of O)E.next(z);E.complete()},void 0,()=>{O=null}))})}var bt=p(3774),Rt=p(3669),Jt=p(3703),$t=p(980),Bn=p(6977),Hn=p(6365),Le=p(345);const B="primary",J=Symbol("RouteTitle");class Pe{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const E=this.params[R];return Array.isArray(E)?E[0]:E}return null}getAll(R){if(this.has(R)){const E=this.params[R];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function $e(v){return new Pe(v)}function qe(v,R,E){const O=E.path.split("/");if(O.length>v.length||"full"===E.pathMatch&&(R.hasChildren()||O.length<v.length))return null;const z={};for(let ge=0;ge<O.length;ge++){const Ue=O[ge],Pt=v[ge];if(":"===Ue[0])z[Ue.substring(1)]=Pt;else if(Ue!==Pt.path)return null}return{consumed:v.slice(0,O.length),posParams:z}}function un(v,R){const E=v?kn(v):void 0,O=R?kn(R):void 0;if(!E||!O||E.length!=O.length)return!1;let z;for(let ge=0;ge<E.length;ge++)if(z=E[ge],!ti(v[z],R[z]))return!1;return!0}function kn(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}function ti(v,R){if(Array.isArray(v)&&Array.isArray(R)){if(v.length!==R.length)return!1;const E=[...v].sort(),O=[...R].sort();return E.every((z,ge)=>O[ge]===z)}return v===R}function ii(v){return v.length>0?v[v.length-1]:null}function gi(v){return function H(v){return!!v&&(v instanceof d.c||(0,G.T)(v.lift)&&(0,G.T)(v.subscribe))}(v)?v:(0,f.jNT)(v)?(0,b.H)(Promise.resolve(v)):(0,D.of)(v)}const pn={exact:function sn(v,R,E){if(!Cr(v.segments,R.segments)||!_e(v.segments,R.segments,E)||v.numberOfChildren!==R.numberOfChildren)return!1;for(const O in R.children)if(!v.children[O]||!sn(v.children[O],R.children[O],E))return!1;return!0},subset:hn},rn={exact:function dt(v,R){return un(v,R)},subset:function on(v,R){return Object.keys(R).length<=Object.keys(v).length&&Object.keys(R).every(E=>ti(v[E],R[E]))},ignored:()=>!0};function gt(v,R,E){return pn[E.paths](v.root,R.root,E.matrixParams)&&rn[E.queryParams](v.queryParams,R.queryParams)&&!("exact"===E.fragment&&v.fragment!==R.fragment)}function hn(v,R,E){return _i(v,R,R.segments,E)}function _i(v,R,E,O){if(v.segments.length>E.length){const z=v.segments.slice(0,E.length);return!(!Cr(z,E)||R.hasChildren()||!_e(z,E,O))}if(v.segments.length===E.length){if(!Cr(v.segments,E)||!_e(v.segments,E,O))return!1;for(const z in R.children)if(!v.children[z]||!hn(v.children[z],R.children[z],O))return!1;return!0}{const z=E.slice(0,v.segments.length),ge=E.slice(v.segments.length);return!!(Cr(v.segments,z)&&_e(v.segments,z,O)&&v.children[B])&&_i(v.children[B],R,ge,O)}}function _e(v,R,E){return R.every((O,z)=>rn[E](v[z].parameters,O.parameters))}class ki{constructor(R=new ci([],{}),E={},O=null){this.root=R,this.queryParams=E,this.fragment=O}get queryParamMap(){return this._queryParamMap??=$e(this.queryParams),this._queryParamMap}toString(){return re.serialize(this)}}class ci{constructor(R,E){this.segments=R,this.children=E,this.parent=null,Object.values(E).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Se(this)}}class gn{constructor(R,E){this.path=R,this.parameters=E}get parameterMap(){return this._parameterMap??=$e(this.parameters),this._parameterMap}toString(){return Qt(this)}}function Cr(v,R){return v.length===R.length&&v.every((E,O)=>E.path===R[O].path)}let Ht=(()=>{class v{static#e=this.\u0275fac=function(O){return new(O||v)};static#t=this.\u0275prov=f.jDH({token:v,factory:()=>new Ut,providedIn:"root"})}return v})();class Ut{parse(R){const E=new ys(R);return new ki(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(R){const E=`/${rt(R.root,!0)}`,O=function Mn(v){const R=Object.entries(v).map(([E,O])=>Array.isArray(O)?O.map(z=>`${pt(E)}=${pt(z)}`).join("&"):`${pt(E)}=${pt(O)}`).filter(E=>E);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${E}${O}${"string"==typeof R.fragment?`#${function mt(v){return encodeURI(v)}(R.fragment)}`:""}`}}const re=new Ut;function Se(v){return v.segments.map(R=>Qt(R)).join("/")}function rt(v,R){if(!v.hasChildren())return Se(v);if(R){const E=v.children[B]?rt(v.children[B],!1):"",O=[];return Object.entries(v.children).forEach(([z,ge])=>{z!==B&&O.push(`${z}:${rt(ge,!1)}`)}),O.length>0?`${E}(${O.join("//")})`:E}{const E=function wr(v,R){let E=[];return Object.entries(v.children).forEach(([O,z])=>{O===B&&(E=E.concat(R(z,O)))}),Object.entries(v.children).forEach(([O,z])=>{O!==B&&(E=E.concat(R(z,O)))}),E}(v,(O,z)=>z===B?[rt(v.children[B],!1)]:[`${z}:${rt(O,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[B]?`${Se(v)}/${E[0]}`:`${Se(v)}/(${E.join("//")})`}}function yt(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pt(v){return yt(v).replace(/%3B/gi,";")}function Kt(v){return yt(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Un(v){return decodeURIComponent(v)}function jn(v){return Un(v.replace(/\+/g,"%20"))}function Qt(v){return`${Kt(v.path)}${function dn(v){return Object.entries(v).map(([R,E])=>`;${Kt(R)}=${Kt(E)}`).join("")}(v.parameters)}`}const si=/^[^\/()?;#]+/;function Vi(v){const R=v.match(si);return R?R[0]:""}const Ar=/^[^\/()?;=#]+/,oi=/^[^=?&#]+/,us=/^[^&#]+/;class ys{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ci([],{}):new ci([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(R.length>0||Object.keys(E).length>0)&&(O[B]=new ci(R,E)),O}parseSegment(){const R=Vi(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new f.wOt(4009,!1);return this.capture(R),new gn(Un(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const E=function Zi(v){const R=v.match(Ar);return R?R[0]:""}(this.remaining);if(!E)return;this.capture(E);let O="";if(this.consumeOptional("=")){const z=Vi(this.remaining);z&&(O=z,this.capture(O))}R[Un(E)]=Un(O)}parseQueryParam(R){const E=function Wr(v){const R=v.match(oi);return R?R[0]:""}(this.remaining);if(!E)return;this.capture(E);let O="";if(this.consumeOptional("=")){const Ue=function Zr(v){const R=v.match(us);return R?R[0]:""}(this.remaining);Ue&&(O=Ue,this.capture(O))}const z=jn(E),ge=jn(O);if(R.hasOwnProperty(z)){let Ue=R[z];Array.isArray(Ue)||(Ue=[Ue],R[z]=Ue),Ue.push(ge)}else R[z]=ge}parseParens(R){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=Vi(this.remaining),z=this.remaining[O.length];if("/"!==z&&")"!==z&&";"!==z)throw new f.wOt(4010,!1);let ge;O.indexOf(":")>-1?(ge=O.slice(0,O.indexOf(":")),this.capture(ge),this.capture(":")):R&&(ge=B);const Ue=this.parseChildren();E[ge]=1===Object.keys(Ue).length?Ue[B]:new ci([],Ue),this.consumeOptional("//")}return E}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new f.wOt(4011,!1)}}function hs(v){return v.segments.length>0?new ci([],{[B]:v}):v}function Hs(v){const R={};for(const[O,z]of Object.entries(v.children)){const ge=Hs(z);if(O===B&&0===ge.segments.length&&ge.hasChildren())for(const[Ue,Pt]of Object.entries(ge.children))R[Ue]=Pt;else(ge.segments.length>0||ge.hasChildren())&&(R[O]=ge)}return function ur(v){if(1===v.numberOfChildren&&v.children[B]){const R=v.children[B];return new ci(v.segments.concat(R.segments),R.children)}return v}(new ci(v.segments,R))}function bs(v){return v instanceof ki}function zn(v){let R;const z=hs(function E(ge){const Ue={};for(const Et of ge.children){const Rn=E(Et);Ue[Et.outlet]=Rn}const Pt=new ci(ge.url,Ue);return ge===v&&(R=Pt),Pt}(v.root));return R??z}function Ve(v,R,E,O){let z=v;for(;z.parent;)z=z.parent;if(0===R.length)return Wn(z,z,z,E,O);const ge=function ai(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Oi(!0,0,v);let R=0,E=!1;const O=v.reduce((z,ge,Ue)=>{if("object"==typeof ge&&null!=ge){if(ge.outlets){const Pt={};return Object.entries(ge.outlets).forEach(([Et,Rn])=>{Pt[Et]="string"==typeof Rn?Rn.split("/"):Rn}),[...z,{outlets:Pt}]}if(ge.segmentPath)return[...z,ge.segmentPath]}return"string"!=typeof ge?[...z,ge]:0===Ue?(ge.split("/").forEach((Pt,Et)=>{0==Et&&"."===Pt||(0==Et&&""===Pt?E=!0:".."===Pt?R++:""!=Pt&&z.push(Pt))}),z):[...z,ge]},[]);return new Oi(E,R,O)}(R);if(ge.toRoot())return Wn(z,z,new ci([],{}),E,O);const Ue=function $r(v,R,E){if(v.isAbsolute)return new Ii(R,!0,0);if(!E)return new Ii(R,!1,NaN);if(null===E.parent)return new Ii(E,!0,0);const O=et(v.commands[0])?0:1;return function Kr(v,R,E){let O=v,z=R,ge=E;for(;ge>z;){if(ge-=z,O=O.parent,!O)throw new f.wOt(4005,!1);z=O.segments.length}return new Ii(O,!1,z-ge)}(E,E.segments.length-1+O,v.numberOfDoubleDots)}(ge,z,v),Pt=Ue.processChildren?r(Ue.segmentGroup,Ue.index,ge.commands):Or(Ue.segmentGroup,Ue.index,ge.commands);return Wn(z,Ue.segmentGroup,Pt,E,O)}function et(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function jt(v){return"object"==typeof v&&null!=v&&v.outlets}function Wn(v,R,E,O,z){let Ue,ge={};O&&Object.entries(O).forEach(([Et,Rn])=>{ge[Et]=Array.isArray(Rn)?Rn.map(Si=>`${Si}`):`${Rn}`}),Ue=v===R?E:In(v,R,E);const Pt=hs(Hs(Ue));return new ki(Pt,ge,z)}function In(v,R,E){const O={};return Object.entries(v.children).forEach(([z,ge])=>{O[z]=ge===R?E:In(ge,R,E)}),new ci(v.segments,O)}class Oi{constructor(R,E,O){if(this.isAbsolute=R,this.numberOfDoubleDots=E,this.commands=O,R&&O.length>0&&et(O[0]))throw new f.wOt(4003,!1);const z=O.find(jt);if(z&&z!==ii(O))throw new f.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ii{constructor(R,E,O){this.segmentGroup=R,this.processChildren=E,this.index=O}}function Or(v,R,E){if(v??=new ci([],{}),0===v.segments.length&&v.hasChildren())return r(v,R,E);const O=function i(v,R,E){let O=0,z=R;const ge={match:!1,pathIndex:0,commandIndex:0};for(;z<v.segments.length;){if(O>=E.length)return ge;const Ue=v.segments[z],Pt=E[O];if(jt(Pt))break;const Et=`${Pt}`,Rn=O<E.length-1?E[O+1]:null;if(z>0&&void 0===Et)break;if(Et&&Rn&&"object"==typeof Rn&&void 0===Rn.outlets){if(!A(Et,Rn,Ue))return ge;O+=2}else{if(!A(Et,{},Ue))return ge;O++}z++}return{match:!0,pathIndex:z,commandIndex:O}}(v,R,E),z=E.slice(O.commandIndex);if(O.match&&O.pathIndex<v.segments.length){const ge=new ci(v.segments.slice(0,O.pathIndex),{});return ge.children[B]=new ci(v.segments.slice(O.pathIndex),v.children),r(ge,0,z)}return O.match&&0===z.length?new ci(v.segments,{}):O.match&&!v.hasChildren()?u(v,R,E):O.match?r(v,0,z):u(v,R,E)}function r(v,R,E){if(0===E.length)return new ci(v.segments,{});{const O=function es(v){return jt(v[0])?v[0].outlets:{[B]:v}}(E),z={};if(Object.keys(O).some(ge=>ge!==B)&&v.children[B]&&1===v.numberOfChildren&&0===v.children[B].segments.length){const ge=r(v.children[B],R,E);return new ci(v.segments,ge.children)}return Object.entries(O).forEach(([ge,Ue])=>{"string"==typeof Ue&&(Ue=[Ue]),null!==Ue&&(z[ge]=Or(v.children[ge],R,Ue))}),Object.entries(v.children).forEach(([ge,Ue])=>{void 0===O[ge]&&(z[ge]=Ue)}),new ci(v.segments,z)}}function u(v,R,E){const O=v.segments.slice(0,R);let z=0;for(;z<E.length;){const ge=E[z];if(jt(ge)){const Et=c(ge.outlets);return new ci(O,Et)}if(0===z&&et(E[0])){O.push(new gn(v.segments[R].path,S(E[0]))),z++;continue}const Ue=jt(ge)?ge.outlets[B]:`${ge}`,Pt=z<E.length-1?E[z+1]:null;Ue&&Pt&&et(Pt)?(O.push(new gn(Ue,S(Pt))),z+=2):(O.push(new gn(Ue,{})),z++)}return new ci(O,{})}function c(v){const R={};return Object.entries(v).forEach(([E,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(R[E]=u(new ci([],{}),0,O))}),R}function S(v){const R={};return Object.entries(v).forEach(([E,O])=>R[E]=`${O}`),R}function A(v,R,E){return v==E.path&&un(R,E.parameters)}const W="imperative";var ne=function(v){return v[v.NavigationStart=0]="NavigationStart",v[v.NavigationEnd=1]="NavigationEnd",v[v.NavigationCancel=2]="NavigationCancel",v[v.NavigationError=3]="NavigationError",v[v.RoutesRecognized=4]="RoutesRecognized",v[v.ResolveStart=5]="ResolveStart",v[v.ResolveEnd=6]="ResolveEnd",v[v.GuardsCheckStart=7]="GuardsCheckStart",v[v.GuardsCheckEnd=8]="GuardsCheckEnd",v[v.RouteConfigLoadStart=9]="RouteConfigLoadStart",v[v.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",v[v.ChildActivationStart=11]="ChildActivationStart",v[v.ChildActivationEnd=12]="ChildActivationEnd",v[v.ActivationStart=13]="ActivationStart",v[v.ActivationEnd=14]="ActivationEnd",v[v.Scroll=15]="Scroll",v[v.NavigationSkipped=16]="NavigationSkipped",v}(ne||{});class le{constructor(R,E){this.id=R,this.url=E}}class he extends le{constructor(R,E,O="imperative",z=null){super(R,E),this.type=ne.NavigationStart,this.navigationTrigger=O,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class be extends le{constructor(R,E,O){super(R,E),this.urlAfterRedirects=O,this.type=ne.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ve=function(v){return v[v.Redirect=0]="Redirect",v[v.SupersededByNewNavigation=1]="SupersededByNewNavigation",v[v.NoDataFromResolver=2]="NoDataFromResolver",v[v.GuardRejected=3]="GuardRejected",v}(ve||{}),Ie=function(v){return v[v.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",v[v.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",v}(Ie||{});class ze extends le{constructor(R,E,O,z){super(R,E),this.reason=O,this.code=z,this.type=ne.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class st extends le{constructor(R,E,O,z){super(R,E),this.reason=O,this.code=z,this.type=ne.NavigationSkipped}}class _t extends le{constructor(R,E,O,z){super(R,E),this.error=O,this.target=z,this.type=ne.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vt extends le{constructor(R,E,O,z){super(R,E),this.urlAfterRedirects=O,this.state=z,this.type=ne.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class de extends le{constructor(R,E,O,z){super(R,E),this.urlAfterRedirects=O,this.state=z,this.type=ne.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oe extends le{constructor(R,E,O,z,ge){super(R,E),this.urlAfterRedirects=O,this.state=z,this.shouldActivate=ge,this.type=ne.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Re extends le{constructor(R,E,O,z){super(R,E),this.urlAfterRedirects=O,this.state=z,this.type=ne.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je extends le{constructor(R,E,O,z){super(R,E),this.urlAfterRedirects=O,this.state=z,this.type=ne.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ee{constructor(R){this.route=R,this.type=ne.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ae{constructor(R){this.route=R,this.type=ne.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ke{constructor(R){this.snapshot=R,this.type=ne.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Be{constructor(R){this.snapshot=R,this.type=ne.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mt{constructor(R){this.snapshot=R,this.type=ne.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ct{constructor(R){this.snapshot=R,this.type=ne.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ln{constructor(R,E,O){this.routerEvent=R,this.position=E,this.anchor=O,this.type=ne.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xn{}class ui{constructor(R,E){this.url=R,this.navigationBehaviorOptions=E}}class Ti{constructor(R){this.injector=R,this.outlet=null,this.route=null,this.children=new zi(this.injector),this.attachRef=null}}let zi=(()=>{class v{constructor(E){this.parentInjector=E,this.contexts=new Map}onChildOutletCreated(E,O){const z=this.getOrCreateContext(E);z.outlet=O,this.contexts.set(E,z)}onChildOutletDestroyed(E){const O=this.getContext(E);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let O=this.getContext(E);return O||(O=new Ti(this.parentInjector),this.contexts.set(E,O)),O}getContext(E){return this.contexts.get(E)||null}static#e=this.\u0275fac=function(O){return new(O||v)(f.KVO(f.uvJ))};static#t=this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();class Gr{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const E=this.pathFromRoot(R);return E.length>1?E[E.length-2]:null}children(R){const E=er(R,this._root);return E?E.children.map(O=>O.value):[]}firstChild(R){const E=er(R,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(R){const E=fr(R,this._root);return E.length<2?[]:E[E.length-2].children.map(z=>z.value).filter(z=>z!==R)}pathFromRoot(R){return fr(R,this._root).map(E=>E.value)}}function er(v,R){if(v===R.value)return R;for(const E of R.children){const O=er(v,E);if(O)return O}return null}function fr(v,R){if(v===R.value)return[R];for(const E of R.children){const O=fr(v,E);if(O.length)return O.unshift(R),O}return[]}class or{constructor(R,E){this.value=R,this.children=E}toString(){return`TreeNode(${this.value})`}}function _r(v){const R={};return v&&v.children.forEach(E=>R[E.value.outlet]=E),R}class ws extends Gr{constructor(R,E){super(R),this.snapshot=E,ns(this,R)}toString(){return this.snapshot.toString()}}function Ws(v){const R=function Ks(v){const ge=new to([],{},{},"",{},B,v,null,{});return new ds("",new or(ge,[]))}(v),E=new x.t([new gn("",{})]),O=new x.t({}),z=new x.t({}),ge=new x.t({}),Ue=new x.t(""),Pt=new ts(E,O,ge,Ue,z,B,v,R.root);return Pt.snapshot=R.root,new ws(new or(Pt,[]),R)}class ts{constructor(R,E,O,z,ge,Ue,Pt,Et){this.urlSubject=R,this.paramsSubject=E,this.queryParamsSubject=O,this.fragmentSubject=z,this.dataSubject=ge,this.outlet=Ue,this.component=Pt,this._futureSnapshot=Et,this.title=this.dataSubject?.pipe((0,m.T)(Rn=>Rn[J]))??(0,D.of)(void 0),this.url=R,this.params=E,this.queryParams=O,this.fragment=z,this.data=ge}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,m.T)(R=>$e(R))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,m.T)(R=>$e(R))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yo(v,R,E="emptyOnly"){let O;const{routeConfig:z}=v;return O=null===R||"always"!==E&&""!==z?.path&&(R.component||R.routeConfig?.loadComponent)?{params:{...v.params},data:{...v.data},resolve:{...v.data,...v._resolvedData??{}}}:{params:{...R.params,...v.params},data:{...R.data,...v.data},resolve:{...v.data,...R.data,...z?.data,...v._resolvedData}},z&&fs(z)&&(O.resolve[J]=z.title),O}class to{get title(){return this.data?.[J]}constructor(R,E,O,z,ge,Ue,Pt,Et,Rn){this.url=R,this.params=E,this.queryParams=O,this.fragment=z,this.data=ge,this.outlet=Ue,this.component=Pt,this.routeConfig=Et,this._resolve=Rn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$e(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$e(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ds extends Gr{constructor(R,E){super(E),this.url=R,ns(this,E)}toString(){return ks(this._root)}}function ns(v,R){R.value._routerState=v,R.children.forEach(E=>ns(v,E))}function ks(v){const R=v.children.length>0?` { ${v.children.map(ks).join(", ")} } `:"";return`${v.value}${R}`}function is(v){if(v.snapshot){const R=v.snapshot,E=v._futureSnapshot;v.snapshot=E,un(R.queryParams,E.queryParams)||v.queryParamsSubject.next(E.queryParams),R.fragment!==E.fragment&&v.fragmentSubject.next(E.fragment),un(R.params,E.params)||v.paramsSubject.next(E.params),function At(v,R){if(v.length!==R.length)return!1;for(let E=0;E<v.length;++E)if(!un(v[E],R[E]))return!1;return!0}(R.url,E.url)||v.urlSubject.next(E.url),un(R.data,E.data)||v.dataSubject.next(E.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function Gs(v,R){const E=un(v.params,R.params)&&function cs(v,R){return Cr(v,R)&&v.every((E,O)=>un(E.parameters,R[O].parameters))}(v.url,R.url);return E&&!(!v.parent!=!R.parent)&&(!v.parent||Gs(v.parent,R.parent))}function fs(v){return"string"==typeof v.title||null===v.title}let As=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=B,this.activateEvents=new f.bkB,this.deactivateEvents=new f.bkB,this.attachEvents=new f.bkB,this.detachEvents=new f.bkB,this.parentContexts=(0,f.WQX)(zi),this.location=(0,f.WQX)(f.c1b),this.changeDetector=(0,f.WQX)(f.gRc),this.inputBinder=(0,f.WQX)(rs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(E){if(E.name){const{firstChange:O,previousValue:z}=E.name;if(O)return;this.isTrackedInParentContexts(z)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(z)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(E){return this.parentContexts.getContext(E)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const E=this.parentContexts.getContext(this.name);E?.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.wOt(4012,!1);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,O){this.activated=E,this._activatedRoute=O,this.location.insert(E.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,O){if(this.isActivated)throw new f.wOt(4013,!1);this._activatedRoute=E;const z=this.location,Ue=E.snapshot.component,Pt=this.parentContexts.getOrCreateContext(this.name).children,Et=new Lr(E,Pt,z.injector);this.activated=z.createComponent(Ue,{index:z.length,injector:Et,environmentInjector:O}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(O){return new(O||v)};static#t=this.\u0275dir=f.FsC({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.OA$]})}return v})();class Lr{__ngOutletInjector(R){return new Lr(this.route,this.childContexts,R)}constructor(R,E,O){this.route=R,this.childContexts=E,this.parent=O}get(R,E){return R===ts?this.route:R===zi?this.childContexts:this.parent.get(R,E)}}const rs=new f.nKC("");let Br=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(E){this.unsubscribeFromRouteData(E),this.subscribeToRouteData(E)}unsubscribeFromRouteData(E){this.outletDataSubscriptions.get(E)?.unsubscribe(),this.outletDataSubscriptions.delete(E)}subscribeToRouteData(E){const{activatedRoute:O}=E,z=(0,k.z)([O.queryParams,O.params,O.data]).pipe((0,Tt.n)(([ge,Ue,Pt],Et)=>(Pt={...ge,...Ue,...Pt},0===Et?(0,D.of)(Pt):Promise.resolve(Pt)))).subscribe(ge=>{if(!E.isActivated||!E.activatedComponentRef||E.activatedRoute!==O||null===O.component)return void this.unsubscribeFromRouteData(E);const Ue=(0,f.HJs)(O.component);if(Ue)for(const{templateName:Pt}of Ue.inputs)E.activatedComponentRef.setInput(Pt,ge[Pt]);else this.unsubscribeFromRouteData(E)});this.outletDataSubscriptions.set(E,z)}static#e=this.\u0275fac=function(O){return new(O||v)};static#t=this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac})}return v})();function ji(v,R,E){if(E&&v.shouldReuseRoute(R.value,E.value.snapshot)){const O=E.value;O._futureSnapshot=R.value;const z=function ps(v,R,E){return R.children.map(O=>{for(const z of E.children)if(v.shouldReuseRoute(O.value,z.value.snapshot))return ji(v,O,z);return ji(v,O)})}(v,R,E);return new or(O,z)}{if(v.shouldAttach(R.value)){const ge=v.retrieve(R.value);if(null!==ge){const Ue=ge.route;return Ue.value._futureSnapshot=R.value,Ue.children=R.children.map(Pt=>ji(v,Pt)),Ue}}const O=function Js(v){return new ts(new x.t(v.url),new x.t(v.params),new x.t(v.queryParams),new x.t(v.fragment),new x.t(v.data),v.outlet,v.component,v)}(R.value),z=R.children.map(ge=>ji(v,ge));return new or(O,z)}}class Qi{constructor(R,E){this.redirectTo=R,this.navigationBehaviorOptions=E}}const bo="ngNavigationCancelingError";function gs(v,R){const{redirectTo:E,navigationBehaviorOptions:O}=bs(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,z=o(!1,ve.Redirect);return z.url=E,z.navigationBehaviorOptions=O,z}function o(v,R){const E=new Error(`NavigationCancelingError: ${v||""}`);return E[bo]=!0,E.cancellationCode=R,E}function M(v){return!!v&&v[bo]}let N=(()=>{class v{static#e=this.\u0275fac=function(O){return new(O||v)};static#t=this.\u0275cmp=f.VBU({type:v,selectors:[["ng-component"]],standalone:!0,features:[f.aNF],decls:1,vars:0,template:function(O,z){1&O&&f.nrm(0,"router-outlet")},dependencies:[As],encapsulation:2})}return v})();function fn(v){const R=v.children&&v.children.map(fn),E=R?{...v,children:R}:{...v};return!E.component&&!E.loadComponent&&(R||E.loadChildren)&&E.outlet&&E.outlet!==B&&(E.component=N),E}function Yn(v){return v.outlet||B}function Zn(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let R=v.parent;R;R=R.parent){const E=R.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class Is{constructor(R,E,O,z,ge){this.routeReuseStrategy=R,this.futureState=E,this.currState=O,this.forwardEvent=z,this.inputBindingEnabled=ge}activate(R){const E=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,O,R),is(this.futureState.root),this.activateChildRoutes(E,O,R)}deactivateChildRoutes(R,E,O){const z=_r(E);R.children.forEach(ge=>{const Ue=ge.value.outlet;this.deactivateRoutes(ge,z[Ue],O),delete z[Ue]}),Object.values(z).forEach(ge=>{this.deactivateRouteAndItsChildren(ge,O)})}deactivateRoutes(R,E,O){const z=R.value,ge=E?E.value:null;if(z===ge)if(z.component){const Ue=O.getContext(z.outlet);Ue&&this.deactivateChildRoutes(R,E,Ue.children)}else this.deactivateChildRoutes(R,E,O);else ge&&this.deactivateRouteAndItsChildren(E,O)}deactivateRouteAndItsChildren(R,E){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,E):this.deactivateRouteAndOutlet(R,E)}detachAndStoreRouteSubtree(R,E){const O=E.getContext(R.value.outlet),z=O&&R.value.component?O.children:E,ge=_r(R);for(const Ue of Object.values(ge))this.deactivateRouteAndItsChildren(Ue,z);if(O&&O.outlet){const Ue=O.outlet.detach(),Pt=O.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:Ue,route:R,contexts:Pt})}}deactivateRouteAndOutlet(R,E){const O=E.getContext(R.value.outlet),z=O&&R.value.component?O.children:E,ge=_r(R);for(const Ue of Object.values(ge))this.deactivateRouteAndItsChildren(Ue,z);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(R,E,O){const z=_r(E);R.children.forEach(ge=>{this.activateRoutes(ge,z[ge.value.outlet],O),this.forwardEvent(new Ct(ge.value.snapshot))}),R.children.length&&this.forwardEvent(new Be(R.value.snapshot))}activateRoutes(R,E,O){const z=R.value,ge=E?E.value:null;if(is(z),z===ge)if(z.component){const Ue=O.getOrCreateContext(z.outlet);this.activateChildRoutes(R,E,Ue.children)}else this.activateChildRoutes(R,E,O);else if(z.component){const Ue=O.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const Pt=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),Ue.children.onOutletReAttached(Pt.contexts),Ue.attachRef=Pt.componentRef,Ue.route=Pt.route.value,Ue.outlet&&Ue.outlet.attach(Pt.componentRef,Pt.route.value),is(Pt.route.value),this.activateChildRoutes(R,null,Ue.children)}else{const Pt=Zn(z.snapshot);Ue.attachRef=null,Ue.route=z,Ue.injector=Pt??Ue.injector,Ue.outlet&&Ue.outlet.activateWith(z,Ue.injector),this.activateChildRoutes(R,null,Ue.children)}}else this.activateChildRoutes(R,null,O)}}class Ys{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Mi{constructor(R,E){this.component=R,this.route=E}}function ao(v,R,E){const O=v._root;return Ns(O,R?R._root:null,E,[O.value])}function vr(v,R){const E=Symbol(),O=R.get(v,E);return O===E?"function"!=typeof v||(0,f.LfX)(v)?R.get(v):v:O}function Ns(v,R,E,O,z={canDeactivateChecks:[],canActivateChecks:[]}){const ge=_r(R);return v.children.forEach(Ue=>{(function Io(v,R,E,O,z={canDeactivateChecks:[],canActivateChecks:[]}){const ge=v.value,Ue=R?R.value:null,Pt=E?E.getContext(v.value.outlet):null;if(Ue&&ge.routeConfig===Ue.routeConfig){const Et=function hr(v,R,E){if("function"==typeof E)return E(v,R);switch(E){case"pathParamsChange":return!Cr(v.url,R.url);case"pathParamsOrQueryParamsChange":return!Cr(v.url,R.url)||!un(v.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gs(v,R)||!un(v.queryParams,R.queryParams);default:return!Gs(v,R)}}(Ue,ge,ge.routeConfig.runGuardsAndResolvers);Et?z.canActivateChecks.push(new Ys(O)):(ge.data=Ue.data,ge._resolvedData=Ue._resolvedData),Ns(v,R,ge.component?Pt?Pt.children:null:E,O,z),Et&&Pt&&Pt.outlet&&Pt.outlet.isActivated&&z.canDeactivateChecks.push(new Mi(Pt.outlet.component,Ue))}else Ue&&no(R,Pt,z),z.canActivateChecks.push(new Ys(O)),Ns(v,null,ge.component?Pt?Pt.children:null:E,O,z)})(Ue,ge[Ue.value.outlet],E,O.concat([Ue.value]),z),delete ge[Ue.value.outlet]}),Object.entries(ge).forEach(([Ue,Pt])=>no(Pt,E.getContext(Ue),z)),z}function no(v,R,E){const O=_r(v),z=v.value;Object.entries(O).forEach(([ge,Ue])=>{no(Ue,z.component?R?R.children.getContext(ge):null:R,E)}),E.canDeactivateChecks.push(new Mi(z.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,z))}function Ss(v){return"function"==typeof v}function ss(v){return v instanceof j.G||"EmptyError"===v?.name}const ro=Symbol("INITIAL_VALUE");function po(){return(0,Tt.n)(v=>(0,k.z)(v.map(R=>R.pipe((0,It.s)(1),(0,Bt.Z)(ro)))).pipe((0,m.T)(R=>{for(const E of R)if(!0!==E){if(E===ro)return ro;if(!1===E||tr(E))return E}return!0}),(0,wt.p)(R=>R!==ro),(0,It.s)(1)))}function tr(v){return bs(v)||v instanceof Qi}function Rr(v){return(0,oe.F)((0,On.M)(R=>{if("boolean"!=typeof R)throw gs(0,R)}),(0,m.T)(R=>!0===R))}class Cs{constructor(R){this.segmentGroup=R||null}}class zs extends Error{constructor(R){super(),this.urlTree=R}}function Tr(v){return(0,te.$)(new Cs(v))}class zo{constructor(R,E){this.urlSerializer=R,this.urlTree=E}lineralizeSegments(R,E){let O=[],z=E.root;for(;;){if(O=O.concat(z.segments),0===z.numberOfChildren)return(0,D.of)(O);if(z.numberOfChildren>1||!z.children[B])return(0,te.$)(new f.wOt(4e3,!1));z=z.children[B]}}applyRedirectCommands(R,E,O,z,ge){if("string"!=typeof E){const Pt=E,{queryParams:Et,fragment:Rn,routeConfig:Si,url:Ai,outlet:Pr,params:jo,data:Qs,title:Do}=z,vi=(0,f.N4e)(ge,()=>Pt({params:jo,data:Qs,queryParams:Et,fragment:Rn,routeConfig:Si,url:Ai,outlet:Pr,title:Do}));if(vi instanceof ki)throw new zs(vi);E=vi}const Ue=this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),R,O);if("/"===E[0])throw new zs(Ue);return Ue}applyRedirectCreateUrlTree(R,E,O,z){const ge=this.createSegmentGroup(R,E.root,O,z);return new ki(ge,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(R,E){const O={};return Object.entries(R).forEach(([z,ge])=>{if("string"==typeof ge&&":"===ge[0]){const Pt=ge.substring(1);O[z]=E[Pt]}else O[z]=ge}),O}createSegmentGroup(R,E,O,z){const ge=this.createSegments(R,E.segments,O,z);let Ue={};return Object.entries(E.children).forEach(([Pt,Et])=>{Ue[Pt]=this.createSegmentGroup(R,Et,O,z)}),new ci(ge,Ue)}createSegments(R,E,O,z){return E.map(ge=>":"===ge.path[0]?this.findPosParam(R,ge,z):this.findOrReturn(ge,O))}findPosParam(R,E,O){const z=O[E.path.substring(1)];if(!z)throw new f.wOt(4001,!1);return z}findOrReturn(R,E){let O=0;for(const z of E){if(z.path===R.path)return E.splice(O),z;O++}return R}}const No={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function go(v,R,E,O,z){const ge=Fs(v,R,E);return ge.matched?(O=function Y(v,R){return v.providers&&!v._injector&&(v._injector=(0,f.Ol2)(v.providers,R,`Route: ${v.path}`)),v._injector??R}(R,O),function Ms(v,R,E,O){const z=R.canMatch;if(!z||0===z.length)return(0,D.of)(!0);const ge=z.map(Ue=>{const Pt=vr(Ue,v);return gi(function Os(v){return v&&Ss(v.canMatch)}(Pt)?Pt.canMatch(R,E):(0,f.N4e)(v,()=>Pt(R,E)))});return(0,D.of)(ge).pipe(po(),Rr())}(O,R,E).pipe((0,m.T)(Ue=>!0===Ue?ge:{...No}))):(0,D.of)(ge)}function Fs(v,R,E){if("**"===R.path)return function Ne(v){return{matched:!0,parameters:v.length>0?ii(v).parameters:{},consumedSegments:v,remainingSegments:[],positionalParamSegments:{}}}(E);if(""===R.path)return"full"===R.pathMatch&&(v.hasChildren()||E.length>0)?{...No}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const z=(R.matcher||qe)(E,v,R);if(!z)return{...No};const ge={};Object.entries(z.posParams??{}).forEach(([Pt,Et])=>{ge[Pt]=Et.path});const Ue=z.consumed.length>0?{...ge,...z.consumed[z.consumed.length-1].parameters}:ge;return{matched:!0,consumedSegments:z.consumed,remainingSegments:E.slice(z.consumed.length),parameters:Ue,positionalParamSegments:z.posParams??{}}}function ot(v,R,E,O){return E.length>0&&function Yt(v,R,E){return E.some(O=>vn(v,R,O)&&Yn(O)!==B)}(v,E,O)?{segmentGroup:new ci(R,Nt(O,new ci(E,v.children))),slicedSegments:[]}:0===E.length&&function Sn(v,R,E){return E.some(O=>vn(v,R,O))}(v,E,O)?{segmentGroup:new ci(v.segments,St(v,E,O,v.children)),slicedSegments:E}:{segmentGroup:new ci(v.segments,v.children),slicedSegments:E}}function St(v,R,E,O){const z={};for(const ge of E)if(vn(v,R,ge)&&!O[Yn(ge)]){const Ue=new ci([],{});z[Yn(ge)]=Ue}return{...O,...z}}function Nt(v,R){const E={};E[B]=R;for(const O of v)if(""===O.path&&Yn(O)!==B){const z=new ci([],{});E[Yn(O)]=z}return E}function vn(v,R,E){return(!(v.hasChildren()||R.length>0)||"full"!==E.pathMatch)&&""===E.path}class Ki{}class Hi{constructor(R,E,O,z,ge,Ue,Pt){this.injector=R,this.configLoader=E,this.rootComponentType=O,this.config=z,this.urlTree=ge,this.paramsInheritanceStrategy=Ue,this.urlSerializer=Pt,this.applyRedirects=new zo(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(R){return new f.wOt(4002,`'${R.segmentGroup}'`)}recognize(){const R=ot(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(R).pipe((0,m.T)(({children:E,rootSnapshot:O})=>{const z=new or(O,E),ge=new ds("",z),Ue=function ut(v,R,E=null,O=null){return Ve(zn(v),R,E,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return Ue.queryParams=this.urlTree.queryParams,ge.url=this.urlSerializer.serialize(Ue),{state:ge,tree:Ue}}))}match(R){const E=new to([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),B,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,R,B,E).pipe((0,m.T)(O=>({children:O,rootSnapshot:E})),(0,Tn.W)(O=>{if(O instanceof zs)return this.urlTree=O.urlTree,this.match(O.urlTree.root);throw O instanceof Cs?this.noMatchError(O):O}))}processSegmentGroup(R,E,O,z,ge){return 0===O.segments.length&&O.hasChildren()?this.processChildren(R,E,O,ge):this.processSegment(R,E,O,O.segments,z,!0,ge).pipe((0,m.T)(Ue=>Ue instanceof or?[Ue]:[]))}processChildren(R,E,O,z){const ge=[];for(const Ue of Object.keys(O.children))"primary"===Ue?ge.unshift(Ue):ge.push(Ue);return(0,b.H)(ge).pipe((0,Pn.H)(Ue=>{const Pt=O.children[Ue],Et=function Bi(v,R){const E=v.filter(O=>Yn(O)===R);return E.push(...v.filter(O=>Yn(O)!==R)),E}(E,Ue);return this.processSegmentGroup(R,Et,Pt,Ue,z)}),(0,Cn.S)((Ue,Pt)=>(Ue.push(...Pt),Ue)),(0,nn.U)(null),function xt(v,R){const E=arguments.length>=2;return O=>O.pipe(v?(0,wt.p)((z,ge)=>v(z,ge,O)):Rt.D,tt(1),E?(0,nn.U)(R):(0,bt.v)(()=>new j.G))}(),(0,mn.Z)(Ue=>{if(null===Ue)return Tr(O);const Pt=yr(Ue);return function ri(v){v.sort((R,E)=>R.value.outlet===B?-1:E.value.outlet===B?1:R.value.outlet.localeCompare(E.value.outlet))}(Pt),(0,D.of)(Pt)}))}processSegment(R,E,O,z,ge,Ue,Pt){return(0,b.H)(E).pipe((0,Pn.H)(Et=>this.processSegmentAgainstRoute(Et._injector??R,E,Et,O,z,ge,Ue,Pt).pipe((0,Tn.W)(Rn=>{if(Rn instanceof Cs)return(0,D.of)(null);throw Rn}))),(0,tn.$)(Et=>!!Et),(0,Tn.W)(Et=>{if(ss(Et))return function Nn(v,R,E){return 0===R.length&&!v.children[E]}(O,z,ge)?(0,D.of)(new Ki):Tr(O);throw Et}))}processSegmentAgainstRoute(R,E,O,z,ge,Ue,Pt,Et){return function Vn(v,R,E,O){return!!(Yn(v)===O||O!==B&&vn(R,E,v))&&Fs(R,v,E).matched}(O,z,ge,Ue)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(R,z,O,ge,Ue,Et):this.allowRedirects&&Pt?this.expandSegmentAgainstRouteUsingRedirect(R,z,E,O,ge,Ue,Et):Tr(z):Tr(z)}expandSegmentAgainstRouteUsingRedirect(R,E,O,z,ge,Ue,Pt){const{matched:Et,parameters:Rn,consumedSegments:Si,positionalParamSegments:Ai,remainingSegments:Pr}=Fs(E,z,ge);if(!Et)return Tr(E);"string"==typeof z.redirectTo&&"/"===z.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const jo=new to(ge,Rn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ls(z),Yn(z),z.component??z._loadedComponent??null,z,qs(z)),Qs=yo(jo,Pt,this.paramsInheritanceStrategy);jo.params=Object.freeze(Qs.params),jo.data=Object.freeze(Qs.data);const Do=this.applyRedirects.applyRedirectCommands(Si,z.redirectTo,Ai,jo,R);return this.applyRedirects.lineralizeSegments(z,Do).pipe((0,mn.Z)(vi=>this.processSegment(R,O,E,vi.concat(Pr),Ue,!1,Pt)))}matchSegmentAgainstRoute(R,E,O,z,ge,Ue){const Pt=go(E,O,z,R);return"**"===O.path&&(E.children={}),Pt.pipe((0,Tt.n)(Et=>Et.matched?this.getChildConfig(R=O._injector??R,O,z).pipe((0,Tt.n)(({routes:Rn})=>{const Si=O._loadedInjector??R,{parameters:Ai,consumedSegments:Pr,remainingSegments:jo}=Et,Qs=new to(Pr,Ai,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ls(O),Yn(O),O.component??O._loadedComponent??null,O,qs(O)),Do=yo(Qs,Ue,this.paramsInheritanceStrategy);Qs.params=Object.freeze(Do.params),Qs.data=Object.freeze(Do.data);const{segmentGroup:vi,slicedSegments:ya}=ot(E,Pr,jo,Rn);if(0===ya.length&&vi.hasChildren())return this.processChildren(Si,Rn,vi,Qs).pipe((0,m.T)(ba=>new or(Qs,ba)));if(0===Rn.length&&0===ya.length)return(0,D.of)(new or(Qs,[]));const Ia=Yn(O)===ge;return this.processSegment(Si,Rn,vi,ya,Ia?B:ge,!0,Qs).pipe((0,m.T)(ba=>new or(Qs,ba instanceof or?[ba]:[])))})):Tr(E)))}getChildConfig(R,E,O){return E.children?(0,D.of)({routes:E.children,injector:R}):E.loadChildren?void 0!==E._loadedRoutes?(0,D.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function ni(v,R,E,O){const z=R.canLoad;if(void 0===z||0===z.length)return(0,D.of)(!0);const ge=z.map(Ue=>{const Pt=vr(Ue,v);return gi(function Mr(v){return v&&Ss(v.canLoad)}(Pt)?Pt.canLoad(R,E):(0,f.N4e)(v,()=>Pt(R,E)))});return(0,D.of)(ge).pipe(po(),Rr())}(R,E,O).pipe((0,mn.Z)(z=>z?this.configLoader.loadChildren(R,E).pipe((0,On.M)(ge=>{E._loadedRoutes=ge.routes,E._loadedInjector=ge.injector})):function qo(v){return(0,te.$)(o(!1,ve.GuardRejected))}())):(0,D.of)({routes:[],injector:R})}}function Gi(v){const R=v.value.routeConfig;return R&&""===R.path}function yr(v){const R=[],E=new Set;for(const O of v){if(!Gi(O)){R.push(O);continue}const z=R.find(ge=>O.value.routeConfig===ge.value.routeConfig);void 0!==z?(z.children.push(...O.children),E.add(z)):R.push(O)}for(const O of E){const z=yr(O.children);R.push(new or(O.value,z))}return R.filter(O=>!E.has(O))}function Ls(v){return v.data||{}}function qs(v){return v.resolve||{}}function Zo(v){const R=v.children.map(E=>Zo(E)).flat();return[v,...R]}function Lo(v){return(0,Tt.n)(R=>{const E=v(R);return E?(0,b.H)(E).pipe((0,m.T)(()=>R)):(0,D.of)(R)})}let $o=(()=>{class v{buildTitle(E){let O,z=E.root;for(;void 0!==z;)O=this.getResolvedTitleForRoute(z)??O,z=z.children.find(ge=>ge.outlet===B);return O}getResolvedTitleForRoute(E){return E.data[J]}static#e=this.\u0275fac=function(O){return new(O||v)};static#t=this.\u0275prov=f.jDH({token:v,factory:()=>(0,f.WQX)(Za),providedIn:"root"})}return v})(),Za=(()=>{class v extends $o{constructor(E){super(),this.title=E}updateTitle(E){const O=this.buildTitle(E);void 0!==O&&this.title.setTitle(O)}static#e=this.\u0275fac=function(O){return new(O||v)(f.KVO(Le.hE))};static#t=this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const wo=new f.nKC("",{providedIn:"root",factory:()=>({})}),Co=new f.nKC("");let Bo=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.WQX)(f.Ql9)}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,D.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const O=gi(E.loadComponent()).pipe((0,m.T)(oa),(0,On.M)(ge=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=ge}),(0,$t.j)(()=>{this.componentLoaders.delete(E)})),z=new ke(O,()=>new Ye.B).pipe(ye());return this.componentLoaders.set(E,z),z}loadChildren(E,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,D.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const ge=function co(v,R,E,O){return gi(v.loadChildren()).pipe((0,m.T)(oa),(0,mn.Z)(z=>z instanceof f.Co$||Array.isArray(z)?(0,D.of)(z):(0,b.H)(R.compileModuleAsync(z))),(0,m.T)(z=>{O&&O(v);let ge,Ue,Pt=!1;return Array.isArray(z)?(Ue=z,!0):(ge=z.create(E).injector,Ue=ge.get(Co,[],{optional:!0,self:!0}).flat()),{routes:Ue.map(fn),injector:ge}}))}(O,this.compiler,E,this.onLoadEndListener).pipe((0,$t.j)(()=>{this.childrenLoaders.delete(O)})),Ue=new ke(ge,()=>new Ye.B).pipe(ye());return this.childrenLoaders.set(O,Ue),Ue}static#e=this.\u0275fac=function(O){return new(O||v)};static#t=this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function oa(v){return function $s(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let ea=(()=>{class v{static#e=this.\u0275fac=function(O){return new(O||v)};static#t=this.\u0275prov=f.jDH({token:v,factory:()=>(0,f.WQX)(Aa),providedIn:"root"})}return v})(),Aa=(()=>{class v{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,O){return E}static#e=this.\u0275fac=function(O){return new(O||v)};static#t=this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const Ka=new f.nKC(""),Ga=new f.nKC("");function el(v,R,E){const O=v.get(Ga),z=v.get(nt.qQ);return v.get(f.SKi).runOutsideAngular(()=>{if(!z.startViewTransition||O.skipNextTransition)return O.skipNextTransition=!1,new Promise(Rn=>setTimeout(Rn));let ge;const Ue=new Promise(Rn=>{ge=Rn}),Pt=z.startViewTransition(()=>(ge(),function Oo(v){return new Promise(R=>{(0,f.mal)(R,{injector:v})})}(v))),{onViewTransitionCreated:Et}=O;return Et&&(0,f.N4e)(v,()=>Et({transition:Pt,from:R,to:E})),Ue})}const Oa=new f.nKC("");let aa=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ye.B,this.transitionAbortSubject=new Ye.B,this.configLoader=(0,f.WQX)(Bo),this.environmentInjector=(0,f.WQX)(f.uvJ),this.urlSerializer=(0,f.WQX)(Ht),this.rootContexts=(0,f.WQX)(zi),this.location=(0,f.WQX)(nt.aZ),this.inputBindingEnabled=null!==(0,f.WQX)(rs,{optional:!0}),this.titleStrategy=(0,f.WQX)($o),this.options=(0,f.WQX)(wo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,f.WQX)(ea),this.createViewTransition=(0,f.WQX)(Ka,{optional:!0}),this.navigationErrorHandler=(0,f.WQX)(Oa,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,D.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=z=>this.events.next(new Ae(z)),this.configLoader.onLoadStartListener=z=>this.events.next(new ee(z))}complete(){this.transitions?.complete()}handleNavigationRequest(E){const O=++this.navigationId;this.transitions?.next({...this.transitions.value,...E,id:O})}setupNavigations(E,O,z){return this.transitions=new x.t({id:0,currentUrlTree:O,currentRawUrl:O,extractedUrl:this.urlHandlingStrategy.extract(O),urlAfterRedirects:this.urlHandlingStrategy.extract(O),rawUrl:O,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:W,restoredState:null,currentSnapshot:z.snapshot,targetSnapshot:null,currentRouterState:z,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,wt.p)(ge=>0!==ge.id),(0,m.T)(ge=>({...ge,extractedUrl:this.urlHandlingStrategy.extract(ge.rawUrl)})),(0,Tt.n)(ge=>{let Ue=!1,Pt=!1;return(0,D.of)(ge).pipe((0,Tt.n)(Et=>{if(this.navigationId>ge.id)return this.cancelNavigationTransition(ge,"",ve.SupersededByNewNavigation),ue.w;this.currentTransition=ge,this.currentNavigation={id:Et.id,initialUrl:Et.rawUrl,extractedUrl:Et.extractedUrl,trigger:Et.source,extras:Et.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Rn=!E.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Rn&&"reload"!==(Et.extras.onSameUrlNavigation??E.onSameUrlNavigation)){const Ai="";return this.events.next(new st(Et.id,this.urlSerializer.serialize(Et.rawUrl),Ai,Ie.IgnoredSameUrlNavigation)),Et.resolve(!1),ue.w}if(this.urlHandlingStrategy.shouldProcessUrl(Et.rawUrl))return(0,D.of)(Et).pipe((0,Tt.n)(Ai=>{const Pr=this.transitions?.getValue();return this.events.next(new he(Ai.id,this.urlSerializer.serialize(Ai.extractedUrl),Ai.source,Ai.restoredState)),Pr!==this.transitions?.getValue()?ue.w:Promise.resolve(Ai)}),function lo(v,R,E,O,z,ge){return(0,mn.Z)(Ue=>function fi(v,R,E,O,z,ge,Ue="emptyOnly"){return new Hi(v,R,E,O,z,Ue,ge).recognize()}(v,R,E,O,Ue.extractedUrl,z,ge).pipe((0,m.T)(({state:Pt,tree:Et})=>({...Ue,targetSnapshot:Pt,urlAfterRedirects:Et}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,E.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,On.M)(Ai=>{ge.targetSnapshot=Ai.targetSnapshot,ge.urlAfterRedirects=Ai.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ai.urlAfterRedirects};const Pr=new vt(Ai.id,this.urlSerializer.serialize(Ai.extractedUrl),this.urlSerializer.serialize(Ai.urlAfterRedirects),Ai.targetSnapshot);this.events.next(Pr)}));if(Rn&&this.urlHandlingStrategy.shouldProcessUrl(Et.currentRawUrl)){const{id:Ai,extractedUrl:Pr,source:jo,restoredState:Qs,extras:Do}=Et,vi=new he(Ai,this.urlSerializer.serialize(Pr),jo,Qs);this.events.next(vi);const ya=Ws(this.rootComponentType).snapshot;return this.currentTransition=ge={...Et,targetSnapshot:ya,urlAfterRedirects:Pr,extras:{...Do,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Pr,(0,D.of)(ge)}{const Ai="";return this.events.next(new st(Et.id,this.urlSerializer.serialize(Et.extractedUrl),Ai,Ie.IgnoredByUrlHandlingStrategy)),Et.resolve(!1),ue.w}}),(0,On.M)(Et=>{const Rn=new de(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects),Et.targetSnapshot);this.events.next(Rn)}),(0,m.T)(Et=>(this.currentTransition=ge={...Et,guards:ao(Et.targetSnapshot,Et.currentSnapshot,this.rootContexts)},ge)),function so(v,R){return(0,mn.Z)(E=>{const{targetSnapshot:O,currentSnapshot:z,guards:{canActivateChecks:ge,canDeactivateChecks:Ue}}=E;return 0===Ue.length&&0===ge.length?(0,D.of)({...E,guardsResult:!0}):function os(v,R,E,O){return(0,b.H)(v).pipe((0,mn.Z)(z=>function Fn(v,R,E,O,z){const ge=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!ge||0===ge.length)return(0,D.of)(!0);const Ue=ge.map(Pt=>{const Et=Zn(R)??z,Rn=vr(Pt,Et);return gi(function io(v){return v&&Ss(v.canDeactivate)}(Rn)?Rn.canDeactivate(v,R,E,O):(0,f.N4e)(Et,()=>Rn(v,R,E,O))).pipe((0,tn.$)())});return(0,D.of)(Ue).pipe(po())}(z.component,z.route,E,R,O)),(0,tn.$)(z=>!0!==z,!0))}(Ue,O,z,v).pipe((0,mn.Z)(Pt=>Pt&&function zr(v){return"boolean"==typeof v}(Pt)?function K(v,R,E,O){return(0,b.H)(R).pipe((0,Pn.H)(z=>(0,X.x)(function P(v,R){return null!==v&&R&&R(new Ke(v)),(0,D.of)(!0)}(z.route.parent,O),function Q(v,R){return null!==v&&R&&R(new Mt(v)),(0,D.of)(!0)}(z.route,O),function He(v,R,E){const O=R[R.length-1],ge=R.slice(0,R.length-1).reverse().map(Ue=>function Yi(v){const R=v.routeConfig?v.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:v,guards:R}:null}(Ue)).filter(Ue=>null!==Ue).map(Ue=>q(()=>{const Pt=Ue.guards.map(Et=>{const Rn=Zn(Ue.node)??E,Si=vr(Et,Rn);return gi(function fo(v){return v&&Ss(v.canActivateChild)}(Si)?Si.canActivateChild(O,v):(0,f.N4e)(Rn,()=>Si(O,v))).pipe((0,tn.$)())});return(0,D.of)(Pt).pipe(po())}));return(0,D.of)(ge).pipe(po())}(v,z.path,E),function fe(v,R,E){const O=R.routeConfig?R.routeConfig.canActivate:null;if(!O||0===O.length)return(0,D.of)(!0);const z=O.map(ge=>q(()=>{const Ue=Zn(R)??E,Pt=vr(ge,Ue);return gi(function Es(v){return v&&Ss(v.canActivate)}(Pt)?Pt.canActivate(R,v):(0,f.N4e)(Ue,()=>Pt(R,v))).pipe((0,tn.$)())}));return(0,D.of)(z).pipe(po())}(v,z.route,E))),(0,tn.$)(z=>!0!==z,!0))}(O,ge,v,R):(0,D.of)(Pt)),(0,m.T)(Pt=>({...E,guardsResult:Pt})))})}(this.environmentInjector,Et=>this.events.next(Et)),(0,On.M)(Et=>{if(ge.guardsResult=Et.guardsResult,Et.guardsResult&&"boolean"!=typeof Et.guardsResult)throw gs(0,Et.guardsResult);const Rn=new Oe(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects),Et.targetSnapshot,!!Et.guardsResult);this.events.next(Rn)}),(0,wt.p)(Et=>!!Et.guardsResult||(this.cancelNavigationTransition(Et,"",ve.GuardRejected),!1)),Lo(Et=>{if(Et.guards.canActivateChecks.length)return(0,D.of)(Et).pipe((0,On.M)(Rn=>{const Si=new Re(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(Si)}),(0,Tt.n)(Rn=>{let Si=!1;return(0,D.of)(Rn).pipe(function ar(v,R){return(0,mn.Z)(E=>{const{targetSnapshot:O,guards:{canActivateChecks:z}}=E;if(!z.length)return(0,D.of)(E);const ge=new Set(z.map(Et=>Et.route)),Ue=new Set;for(const Et of ge)if(!Ue.has(Et))for(const Rn of Zo(Et))Ue.add(Rn);let Pt=0;return(0,b.H)(Ue).pipe((0,Pn.H)(Et=>ge.has(Et)?function Fo(v,R,E,O){const z=v.routeConfig,ge=v._resolve;return void 0!==z?.title&&!fs(z)&&(ge[J]=z.title),function Ha(v,R,E,O){const z=kn(v);if(0===z.length)return(0,D.of)({});const ge={};return(0,b.H)(z).pipe((0,mn.Z)(Ue=>function Wa(v,R,E,O){const z=Zn(R)??O,ge=vr(v,z);return gi(ge.resolve?ge.resolve(R,E):(0,f.N4e)(z,()=>ge(R,E)))}(v[Ue],R,E,O).pipe((0,tn.$)(),(0,On.M)(Pt=>{if(Pt instanceof Qi)throw gs(new Ut,Pt);ge[Ue]=Pt}))),tt(1),(0,Jt.u)(ge),(0,Tn.W)(Ue=>ss(Ue)?ue.w:(0,te.$)(Ue)))}(ge,v,R,O).pipe((0,m.T)(Ue=>(v._resolvedData=Ue,v.data=yo(v,v.parent,E).resolve,null)))}(Et,O,v,R):(Et.data=yo(Et,Et.parent,v).resolve,(0,D.of)(void 0))),(0,On.M)(()=>Pt++),tt(1),(0,mn.Z)(Et=>Pt===Ue.size?(0,D.of)(E):ue.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,On.M)({next:()=>Si=!0,complete:()=>{Si||this.cancelNavigationTransition(Rn,"",ve.NoDataFromResolver)}}))}),(0,On.M)(Rn=>{const Si=new je(Rn.id,this.urlSerializer.serialize(Rn.extractedUrl),this.urlSerializer.serialize(Rn.urlAfterRedirects),Rn.targetSnapshot);this.events.next(Si)}))}),Lo(Et=>{const Rn=Si=>{const Ai=[];Si.routeConfig?.loadComponent&&!Si.routeConfig._loadedComponent&&Ai.push(this.configLoader.loadComponent(Si.routeConfig).pipe((0,On.M)(Pr=>{Si.component=Pr}),(0,m.T)(()=>{})));for(const Pr of Si.children)Ai.push(...Rn(Pr));return Ai};return(0,k.z)(Rn(Et.targetSnapshot.root)).pipe((0,nn.U)(null),(0,It.s)(1))}),Lo(()=>this.afterPreactivation()),(0,Tt.n)(()=>{const{currentSnapshot:Et,targetSnapshot:Rn}=ge,Si=this.createViewTransition?.(this.environmentInjector,Et.root,Rn.root);return Si?(0,b.H)(Si).pipe((0,m.T)(()=>ge)):(0,D.of)(ge)}),(0,m.T)(Et=>{const Rn=function Ur(v,R,E){const O=ji(v,R._root,E?E._root:void 0);return new ws(O,R)}(E.routeReuseStrategy,Et.targetSnapshot,Et.currentRouterState);return this.currentTransition=ge={...Et,targetRouterState:Rn},this.currentNavigation.targetRouterState=Rn,ge}),(0,On.M)(()=>{this.events.next(new Xn)}),((v,R,E,O)=>(0,m.T)(z=>(new Is(R,z.targetRouterState,z.currentRouterState,E,O).activate(v),z)))(this.rootContexts,E.routeReuseStrategy,Et=>this.events.next(Et),this.inputBindingEnabled),(0,It.s)(1),(0,On.M)({next:Et=>{Ue=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new be(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects))),this.titleStrategy?.updateTitle(Et.targetRouterState.snapshot),Et.resolve(!0)},complete:()=>{Ue=!0}}),(0,Bn.Q)(this.transitionAbortSubject.pipe((0,On.M)(Et=>{throw Et}))),(0,$t.j)(()=>{!Ue&&!Pt&&this.cancelNavigationTransition(ge,"",ve.SupersededByNewNavigation),this.currentTransition?.id===ge.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,Tn.W)(Et=>{if(Pt=!0,M(Et))this.events.next(new ze(ge.id,this.urlSerializer.serialize(ge.extractedUrl),Et.message,Et.cancellationCode)),function g(v){return M(v)&&bs(v.url)}(Et)?this.events.next(new ui(Et.url,Et.navigationBehaviorOptions)):ge.resolve(!1);else{const Rn=new _t(ge.id,this.urlSerializer.serialize(ge.extractedUrl),Et,ge.targetSnapshot??void 0);try{const Si=(0,f.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Rn));if(Si instanceof Qi){const{message:Ai,cancellationCode:Pr}=gs(0,Si);this.events.next(new ze(ge.id,this.urlSerializer.serialize(ge.extractedUrl),Ai,Pr)),this.events.next(new ui(Si.redirectTo,Si.navigationBehaviorOptions))}else{this.events.next(Rn);const Ai=E.errorHandler(Et);ge.resolve(!!Ai)}}catch(Si){this.options.resolveNavigationPromiseOnError?ge.resolve(!1):ge.reject(Si)}}return ue.w}))}))}cancelNavigationTransition(E,O,z){const ge=new ze(E.id,this.urlSerializer.serialize(E.extractedUrl),O,z);this.events.next(ge),E.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(O){return new(O||v)};static#t=this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Xo(v){return v!==W}let la=(()=>{class v{static#e=this.\u0275fac=function(O){return new(O||v)};static#t=this.\u0275prov=f.jDH({token:v,factory:()=>(0,f.WQX)(tl),providedIn:"root"})}return v})();class ca{shouldDetach(R){return!1}store(R,E){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,E){return R.routeConfig===E.routeConfig}}let tl=(()=>{class v extends ca{static#e=this.\u0275fac=(()=>{let E;return function(z){return(E||(E=f.xGo(v)))(z||v)}})();static#t=this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),Me=(()=>{class v{static#e=this.\u0275fac=function(O){return new(O||v)};static#t=this.\u0275prov=f.jDH({token:v,factory:()=>(0,f.WQX)(U),providedIn:"root"})}return v})(),U=(()=>{class v extends Me{constructor(){super(...arguments),this.location=(0,f.WQX)(nt.aZ),this.urlSerializer=(0,f.WQX)(Ht),this.options=(0,f.WQX)(wo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,f.WQX)(ea),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ki,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ws(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(E){return this.location.subscribe(O=>{"popstate"===O.type&&E(O.url,O.state)})}handleRouterEvent(E,O){if(E instanceof he)this.stateMemento=this.createStateMemento();else if(E instanceof st)this.rawUrlTree=O.initialUrl;else if(E instanceof vt){if("eager"===this.urlUpdateStrategy&&!O.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(O.finalUrl,O.initialUrl);this.setBrowserUrl(z,O)}}else E instanceof Xn?(this.currentUrlTree=O.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(O.finalUrl,O.initialUrl),this.routerState=O.targetRouterState,"deferred"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,O))):E instanceof ze&&(E.code===ve.GuardRejected||E.code===ve.NoDataFromResolver)?this.restoreHistory(O):E instanceof _t?this.restoreHistory(O,!0):E instanceof be&&(this.lastSuccessfulId=E.id,this.currentPageId=this.browserPageId)}setBrowserUrl(E,O){const z=this.urlSerializer.serialize(E);if(this.location.isCurrentPathEqualTo(z)||O.extras.replaceUrl){const Ue={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState(z,"",Ue)}else{const ge={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId+1)};this.location.go(z,"",ge)}}restoreHistory(E,O=!1){if("computed"===this.canceledNavigationResolution){const ge=this.currentPageId-this.browserPageId;0!==ge?this.location.historyGo(ge):this.currentUrlTree===E.finalUrl&&0===ge&&(this.resetState(E),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(E,O){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:O}:{navigationId:E}}static#e=this.\u0275fac=(()=>{let E;return function(z){return(E||(E=f.xGo(v)))(z||v)}})();static#t=this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();var L=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(L||{});function ie(v,R){v.events.pipe((0,wt.p)(E=>E instanceof be||E instanceof ze||E instanceof _t||E instanceof st),(0,m.T)(E=>E instanceof be||E instanceof st?L.COMPLETE:E instanceof ze&&(E.code===ve.Redirect||E.code===ve.SupersededByNewNavigation)?L.REDIRECTING:L.FAILED),(0,wt.p)(E=>E!==L.REDIRECTING),(0,It.s)(1)).subscribe(()=>{R()})}function Te(v){throw v}const ct={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xt=(()=>{class v{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,f.WQX)(f.H3F),this.stateManager=(0,f.WQX)(Me),this.options=(0,f.WQX)(wo,{optional:!0})||{},this.pendingTasks=(0,f.WQX)(f.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,f.WQX)(aa),this.urlSerializer=(0,f.WQX)(Ht),this.location=(0,f.WQX)(nt.aZ),this.urlHandlingStrategy=(0,f.WQX)(ea),this._events=new Ye.B,this.errorHandler=this.options.errorHandler||Te,this.navigated=!1,this.routeReuseStrategy=(0,f.WQX)(la),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,f.WQX)(Co,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,f.WQX)(rs,{optional:!0}),this.eventsSubscription=new Ge.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:E=>{this.console.warn(E)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const E=this.navigationTransitions.events.subscribe(O=>{try{const z=this.navigationTransitions.currentTransition,ge=this.navigationTransitions.currentNavigation;if(null!==z&&null!==ge)if(this.stateManager.handleRouterEvent(O,ge),O instanceof ze&&O.code!==ve.Redirect&&O.code!==ve.SupersededByNewNavigation)this.navigated=!0;else if(O instanceof be)this.navigated=!0;else if(O instanceof ui){const Ue=O.navigationBehaviorOptions,Pt=this.urlHandlingStrategy.merge(O.url,z.currentRawUrl),Et={info:z.extras.info,skipLocationChange:z.extras.skipLocationChange,replaceUrl:z.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Xo(z.source),...Ue};this.scheduleNavigation(Pt,W,null,Et,{resolve:z.resolve,reject:z.reject,promise:z.promise})}(function li(v){return!(v instanceof Xn||v instanceof ui)})(O)&&this._events.next(O)}catch(z){this.navigationTransitions.transitionAbortSubject.next(z)}});this.eventsSubscription.add(E)}resetRootComponentType(E){this.routerState.root.component=E,this.navigationTransitions.rootComponentType=E}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),W,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((E,O)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(E,"popstate",O)},0)})}navigateToSyncWithBrowser(E,O,z){const ge={replaceUrl:!0},Ue=z?.navigationId?z:null;if(z){const Et={...z};delete Et.navigationId,delete Et.\u0275routerPageId,0!==Object.keys(Et).length&&(ge.state=Et)}const Pt=this.parseUrl(E);this.scheduleNavigation(Pt,O,Ue,ge)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(E){this.config=E.map(fn),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(E,O={}){const{relativeTo:z,queryParams:ge,fragment:Ue,queryParamsHandling:Pt,preserveFragment:Et}=O,Rn=Et?this.currentUrlTree.fragment:Ue;let Ai,Si=null;switch(Pt){case"merge":Si={...this.currentUrlTree.queryParams,...ge};break;case"preserve":Si=this.currentUrlTree.queryParams;break;default:Si=ge||null}null!==Si&&(Si=this.removeEmptyProps(Si));try{Ai=zn(z?z.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof E[0]||"/"!==E[0][0])&&(E=[]),Ai=this.currentUrlTree.root}return Ve(Ai,E,Si,Rn??null)}navigateByUrl(E,O={skipLocationChange:!1}){const z=bs(E)?E:this.parseUrl(E),ge=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(ge,W,null,O)}navigate(E,O={skipLocationChange:!1}){return function An(v){for(let R=0;R<v.length;R++)if(null==v[R])throw new f.wOt(4008,!1)}(E),this.navigateByUrl(this.createUrlTree(E,O),O)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){try{return this.urlSerializer.parse(E)}catch{return this.urlSerializer.parse("/")}}isActive(E,O){let z;if(z=!0===O?{...ct}:!1===O?{...Lt}:O,bs(E))return gt(this.currentUrlTree,E,z);const ge=this.parseUrl(E);return gt(this.currentUrlTree,ge,z)}removeEmptyProps(E){return Object.entries(E).reduce((O,[z,ge])=>(null!=ge&&(O[z]=ge),O),{})}scheduleNavigation(E,O,z,ge,Ue){if(this.disposed)return Promise.resolve(!1);let Pt,Et,Rn;Ue?(Pt=Ue.resolve,Et=Ue.reject,Rn=Ue.promise):Rn=new Promise((Ai,Pr)=>{Pt=Ai,Et=Pr});const Si=this.pendingTasks.add();return ie(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Si))}),this.navigationTransitions.handleNavigationRequest({source:O,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:E,extras:ge,resolve:Pt,reject:Et,promise:Rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rn.catch(Ai=>Promise.reject(Ai))}static#e=this.\u0275fac=function(O){return new(O||v)};static#t=this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),nr=(()=>{class v{constructor(E,O,z,ge,Ue,Pt){this.router=E,this.route=O,this.tabIndexAttribute=z,this.renderer=ge,this.el=Ue,this.locationStrategy=Pt,this.href=null,this.commands=null,this.onChanges=new Ye.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Et=Ue.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Et||"area"===Et,this.isAnchorElement?this.subscription=E.events.subscribe(Rn=>{Rn instanceof be&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(E){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",E)}ngOnChanges(E){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(E,O,z,ge,Ue){const Pt=this.urlTree;return!!(null===Pt||this.isAnchorElement&&(0!==E||O||z||ge||Ue||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Pt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const E=this.urlTree;this.href=null!==E&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(E)):null;const O=null===this.href?null:(0,f.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",O)}applyAttributeValue(E,O){const z=this.renderer,ge=this.el.nativeElement;null!==O?z.setAttribute(ge,E,O):z.removeAttribute(ge,E)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(O){return new(O||v)(f.rXU(Xt),f.rXU(ts),f.kS0("tabindex"),f.rXU(f.sFG),f.rXU(f.aKT),f.rXU(nt.hb))};static#t=this.\u0275dir=f.FsC({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,z){1&O&&f.bIt("click",function(Ue){return z.onClick(Ue.button,Ue.ctrlKey,Ue.shiftKey,Ue.altKey,Ue.metaKey)}),2&O&&f.BMQ("target",z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",f.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",f.L39],replaceUrl:[2,"replaceUrl","replaceUrl",f.L39],routerLink:"routerLink"},standalone:!0,features:[f.GFd,f.OA$]})}return v})(),Jr=(()=>{class v{get isActive(){return this._isActive}constructor(E,O,z,ge,Ue){this.router=E,this.element=O,this.renderer=z,this.cdr=ge,this.link=Ue,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.bkB,this.routerEventsSubscription=E.events.subscribe(Pt=>{Pt instanceof be&&this.update()})}ngAfterContentInit(){(0,D.of)(this.links.changes,(0,D.of)(null)).pipe((0,Hn.U)()).subscribe(E=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const E=[...this.links.toArray(),this.link].filter(O=>!!O).map(O=>O.onChanges);this.linkInputChangesSubscription=(0,b.H)(E).pipe((0,Hn.U)()).subscribe(O=>{this._isActive!==this.isLinkActive(this.router)(O)&&this.update()})}set routerLinkActive(E){const O=Array.isArray(E)?E:E.split(" ");this.classes=O.filter(z=>!!z)}ngOnChanges(E){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const E=this.hasActiveLinks();this.classes.forEach(O=>{E?this.renderer.addClass(this.element.nativeElement,O):this.renderer.removeClass(this.element.nativeElement,O)}),E&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==E&&(this._isActive=E,this.cdr.markForCheck(),this.isActiveChange.emit(E))})}isLinkActive(E){const O=function Xs(v){return!!v.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return z=>{const ge=z.urlTree;return!!ge&&E.isActive(ge,O)}}hasActiveLinks(){const E=this.isLinkActive(this.router);return this.link&&E(this.link)||this.links.some(E)}static#e=this.\u0275fac=function(O){return new(O||v)(f.rXU(Xt),f.rXU(f.aKT),f.rXU(f.sFG),f.rXU(f.gRc),f.rXU(nr,8))};static#t=this.\u0275dir=f.FsC({type:v,selectors:[["","routerLinkActive",""]],contentQueries:function(O,z,ge){if(1&O&&f.wni(ge,nr,5),2&O){let Ue;f.mGM(Ue=f.lsd())&&(z.links=Ue)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[f.OA$]})}return v})();class Bs{}let Yr=(()=>{class v{constructor(E,O,z,ge,Ue){this.router=E,this.injector=z,this.preloadingStrategy=ge,this.loader=Ue}setUpPreloading(){this.subscription=this.router.events.pipe((0,wt.p)(E=>E instanceof be),(0,Pn.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,O){const z=[];for(const ge of O){ge.providers&&!ge._injector&&(ge._injector=(0,f.Ol2)(ge.providers,E,`Route: ${ge.path}`));const Ue=ge._injector??E,Pt=ge._loadedInjector??Ue;(ge.loadChildren&&!ge._loadedRoutes&&void 0===ge.canLoad||ge.loadComponent&&!ge._loadedComponent)&&z.push(this.preloadConfig(Ue,ge)),(ge.children||ge._loadedRoutes)&&z.push(this.processRoutes(Pt,ge.children??ge._loadedRoutes))}return(0,b.H)(z).pipe((0,Hn.U)())}preloadConfig(E,O){return this.preloadingStrategy.preload(O,()=>{let z;z=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(E,O):(0,D.of)(null);const ge=z.pipe((0,mn.Z)(Ue=>null===Ue?(0,D.of)(void 0):(O._loadedRoutes=Ue.routes,O._loadedInjector=Ue.injector,this.processRoutes(Ue.injector??E,Ue.routes))));if(O.loadComponent&&!O._loadedComponent){const Ue=this.loader.loadComponent(O);return(0,b.H)([ge,Ue]).pipe((0,Hn.U)())}return ge})}static#e=this.\u0275fac=function(O){return new(O||v)(f.KVO(Xt),f.KVO(f.Ql9),f.KVO(f.uvJ),f.KVO(Bs),f.KVO(Bo))};static#t=this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const Uo=new f.nKC("");let Qo=(()=>{class v{constructor(E,O,z,ge,Ue={}){this.urlSerializer=E,this.transitions=O,this.viewportScroller=z,this.zone=ge,this.options=Ue,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,f.WQX)(f.uvJ),Ue.scrollPositionRestoration||="disabled",Ue.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof he?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof be?(this.lastId=E.id,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.urlAfterRedirects).fragment)):E instanceof st&&E.code===Ie.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(E,this.urlSerializer.parse(E.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(E=>{E instanceof ln&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,O){var z=this;this.zone.runOutsideAngular((0,e.A)(function*(){yield new Promise(ge=>{setTimeout(()=>{ge()}),(0,f.mal)(()=>{ge()},{injector:z.environmentInjector})}),z.zone.run(()=>{z.transitions.events.next(new ln(E,"popstate"===z.lastSource?z.store[z.restoredId]:null,O))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(O){f.QTQ()};static#t=this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac})}return v})();function Mo(v,R){return{\u0275kind:v,\u0275providers:R}}function oo(){const v=(0,f.WQX)(f.zZn);return R=>{const E=v.get(f.o8S);if(R!==E.components[0])return;const O=v.get(Xt),z=v.get(Vo);1===v.get(Us)&&O.initialNavigation(),v.get(va,null,f.$GK.Optional)?.setUpPreloading(),v.get(Uo,null,f.$GK.Optional)?.init(),O.resetRootComponentType(E.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const Vo=new f.nKC("",{factory:()=>new Ye.B}),Us=new f.nKC("",{providedIn:"root",factory:()=>1}),va=new f.nKC("");function ua(v){return Mo(0,[{provide:va,useExisting:Yr},{provide:Bs,useExisting:v}])}function Ra(v){return Mo(9,[{provide:Ka,useValue:el},{provide:Ga,useValue:{skipNextTransition:!!v?.skipInitialTransition,...v}}])}const Ro=new f.nKC("ROUTER_FORROOT_GUARD"),za=[nt.aZ,{provide:Ht,useClass:Ut},Xt,zi,{provide:ts,useFactory:function ta(v){return v.routerState.root},deps:[Xt]},Bo,[]];let uo=(()=>{class v{constructor(E){}static forRoot(E,O){return{ngModule:v,providers:[za,[],{provide:Co,multi:!0,useValue:E},{provide:Ro,useFactory:To,deps:[[Xt,new f.Xx1,new f.kdw]]},{provide:wo,useValue:O||{}},O?.useHash?{provide:nt.hb,useClass:nt.fw}:{provide:nt.hb,useClass:nt.Sm},{provide:Uo,useFactory:()=>{const v=(0,f.WQX)(nt.Xr),R=(0,f.WQX)(f.SKi),E=(0,f.WQX)(wo),O=(0,f.WQX)(aa),z=(0,f.WQX)(Ht);return E.scrollOffset&&v.setOffset(E.scrollOffset),new Qo(z,O,v,R,E)}},O?.preloadingStrategy?ua(O.preloadingStrategy).\u0275providers:[],O?.initialNavigation?sl(O):[],O?.bindToComponentInputs?Mo(8,[Br,{provide:rs,useExisting:Br}]).\u0275providers:[],O?.enableViewTransitions?Ra().\u0275providers:[],[{provide:ha,useFactory:oo},{provide:f.iLQ,multi:!0,useExisting:ha}]]}}static forChild(E){return{ngModule:v,providers:[{provide:Co,multi:!0,useValue:E}]}}static#e=this.\u0275fac=function(O){return new(O||v)(f.KVO(Ro,8))};static#t=this.\u0275mod=f.$C({type:v});static#n=this.\u0275inj=f.G2t({})}return v})();function To(v){return"guarded"}function sl(v){return["disabled"===v.initialNavigation?Mo(3,[{provide:f.hnV,multi:!0,useFactory:()=>{const R=(0,f.WQX)(Xt);return()=>{R.setUpLocationChangeListener()}}},{provide:Us,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?Mo(2,[{provide:Us,useValue:0},{provide:f.hnV,multi:!0,deps:[f.zZn],useFactory:R=>{const E=R.get(nt.hj,Promise.resolve());return()=>E.then(()=>new Promise(O=>{const z=R.get(Xt),ge=R.get(Vo);ie(z,()=>{O(!0)}),R.get(aa).afterPreactivation=()=>(O(!0),ge.closed?(0,D.of)(void 0):ge),z.initialNavigation()}))}}]).\u0275providers:[]]}const ha=new f.nKC("")},9968:(_n,We,p)=>{"use strict";p.d(We,{Lw:()=>Ri,$G:()=>Lo,tg:()=>zt,_H:()=>Qe,U0:()=>it,do:()=>Zt,Bq:()=>pi,UN:()=>au,s5:()=>$i,ZM:()=>Vc,hC:()=>we,Nb:()=>Di,md:()=>Wo});var e=p(3953),d=(p(9079),p(1985)),G=p(983),H=p(7673),b=p(1413),D=p(3726),x=p(1807),k=p(1033),X=(p(7786),p(4437)),se=p(8793),oe=p(6977),te=p(5964),ue=p(6697),Ge=p(8141),Ee=p(6354),Fe=p(3993),ye=p(5335),ke=p(1397),Ye=p(5558),It=(p(9172),p(3294),p(5245),p(177)),Bt=p(4341),wt={left:"right",right:"left",bottom:"top",top:"bottom"};function mn(n){return n.replace(/left|right|bottom|top/g,function(T){return wt[T]})}function tn(n){return n.split("-")[0]}var Pn={start:"end",end:"start"};function On(n){return n.replace(/start|end/g,function(T){return Pn[T]})}var Tn="top",Cn="bottom",nn="right",tt="left",bt="auto",Rt=[Tn,Cn,nn,tt],xt="start",Jt="end",Bn="viewport",Hn="popper",B=Rt.reduce(function(n,T){return n.concat([T+"-"+xt,T+"-"+Jt])},[]),J=[].concat(Rt,[bt]).reduce(function(n,T){return n.concat([T,T+"-"+xt,T+"-"+Jt])},[]),pn=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function rn(n){if(null==n)return window;if("[object Window]"!==n.toString()){var T=n.ownerDocument;return T&&T.defaultView||window}return n}function gt(n){return n instanceof rn(n).Element||n instanceof Element}function dt(n){return n instanceof rn(n).HTMLElement||n instanceof HTMLElement}function sn(n){return!(typeof ShadowRoot>"u")&&(n instanceof rn(n).ShadowRoot||n instanceof ShadowRoot)}function on(n){return((gt(n)?n.ownerDocument:n.document)||window.document).documentElement}var hn=Math.max,_i=Math.min,_e=Math.round;function ki(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(T){return T.brand+"/"+T.version}).join(" "):navigator.userAgent}function ci(){return!/^((?!chrome|android).)*safari/i.test(ki())}function gn(n,T,t){void 0===T&&(T=!1),void 0===t&&(t=!1);var l=n.getBoundingClientRect(),y=1,$=1;T&&dt(n)&&(y=n.offsetWidth>0&&_e(l.width)/n.offsetWidth||1,$=n.offsetHeight>0&&_e(l.height)/n.offsetHeight||1);var at=(gt(n)?rn(n):window).visualViewport,Dt=!ci()&&t,Wt=(l.left+(Dt&&at?at.offsetLeft:0))/y,en=(l.top+(Dt&&at?at.offsetTop:0))/$,Kn=l.width/y,Ln=l.height/$;return{width:Kn,height:Ln,top:en,right:Wt+Kn,bottom:en+Ln,left:Wt,x:Wt,y:en}}function cs(n){var T=rn(n);return{scrollLeft:T.pageXOffset,scrollTop:T.pageYOffset}}function Cr(n){return gn(on(n)).left+cs(n).scrollLeft}function Ht(n){return rn(n).getComputedStyle(n)}function re(n){return n?(n.nodeName||"").toLowerCase():null}function Se(n){return"html"===re(n)?n:n.assignedSlot||n.parentNode||(sn(n)?n.host:null)||on(n)}function rt(n){var T=Ht(n);return/auto|scroll|overlay|hidden/.test(T.overflow+T.overflowY+T.overflowX)}function yt(n){return["html","body","#document"].indexOf(re(n))>=0?n.ownerDocument.body:dt(n)&&rt(n)?n:yt(Se(n))}function pt(n,T){var t;void 0===T&&(T=[]);var l=yt(n),y=l===(null==(t=n.ownerDocument)?void 0:t.body),$=rn(l),me=y?[$].concat($.visualViewport||[],rt(l)?l:[]):l,at=T.concat(me);return y?at:at.concat(pt(Se(me)))}function mt(n){return["table","td","th"].indexOf(re(n))>=0}function Kt(n){return dt(n)&&"fixed"!==Ht(n).position?n.offsetParent:null}function jn(n){for(var T=rn(n),t=Kt(n);t&&mt(t)&&"static"===Ht(t).position;)t=Kt(t);return t&&("html"===re(t)||"body"===re(t)&&"static"===Ht(t).position)?T:t||function Un(n){var T=/firefox/i.test(ki());if(/Trident/i.test(ki())&&dt(n)&&"fixed"===Ht(n).position)return null;var y=Se(n);for(sn(y)&&(y=y.host);dt(y)&&["html","body"].indexOf(re(y))<0;){var $=Ht(y);if("none"!==$.transform||"none"!==$.perspective||"paint"===$.contain||-1!==["transform","perspective"].indexOf($.willChange)||T&&"filter"===$.willChange||T&&$.filter&&"none"!==$.filter)return y;y=y.parentNode}return null}(n)||T}function Qt(n,T){var t=T.getRootNode&&T.getRootNode();if(n.contains(T))return!0;if(t&&sn(t)){var l=T;do{if(l&&n.isSameNode(l))return!0;l=l.parentNode||l.host}while(l)}return!1}function dn(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function si(n,T,t){return T===Bn?dn(function wr(n,T){var t=rn(n),l=on(n),y=t.visualViewport,$=l.clientWidth,me=l.clientHeight,at=0,Dt=0;if(y){$=y.width,me=y.height;var Wt=ci();(Wt||!Wt&&"fixed"===T)&&(at=y.offsetLeft,Dt=y.offsetTop)}return{width:$,height:me,x:at+Cr(n),y:Dt}}(n,t)):gt(T)?function Mn(n,T){var t=gn(n,!1,"fixed"===T);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(T,t):dn(function Ut(n){var T,t=on(n),l=cs(n),y=null==(T=n.ownerDocument)?void 0:T.body,$=hn(t.scrollWidth,t.clientWidth,y?y.scrollWidth:0,y?y.clientWidth:0),me=hn(t.scrollHeight,t.clientHeight,y?y.scrollHeight:0,y?y.clientHeight:0),at=-l.scrollLeft+Cr(n),Dt=-l.scrollTop;return"rtl"===Ht(y||t).direction&&(at+=hn(t.clientWidth,y?y.clientWidth:0)-$),{width:$,height:me,x:at,y:Dt}}(on(n)))}function Zi(n){return n.split("-")[1]}function oi(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Wr(n){var Dt,T=n.reference,t=n.element,l=n.placement,y=l?tn(l):null,$=l?Zi(l):null,me=T.x+T.width/2-t.width/2,at=T.y+T.height/2-t.height/2;switch(y){case Tn:Dt={x:me,y:T.y-t.height};break;case Cn:Dt={x:me,y:T.y+T.height};break;case nn:Dt={x:T.x+T.width,y:at};break;case tt:Dt={x:T.x-t.width,y:at};break;default:Dt={x:T.x,y:T.y}}var Wt=y?oi(y):null;if(null!=Wt){var en="y"===Wt?"height":"width";switch($){case xt:Dt[Wt]=Dt[Wt]-(T[en]/2-t[en]/2);break;case Jt:Dt[Wt]=Dt[Wt]+(T[en]/2-t[en]/2)}}return Dt}function Zr(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function ys(n,T){return T.reduce(function(t,l){return t[l]=n,t},{})}function hs(n,T){void 0===T&&(T={});var l=T.placement,y=void 0===l?n.placement:l,$=T.strategy,me=void 0===$?n.strategy:$,at=T.boundary,Dt=void 0===at?"clippingParents":at,Wt=T.rootBoundary,en=void 0===Wt?Bn:Wt,Kn=T.elementContext,Ln=void 0===Kn?Hn:Kn,Qn=T.altBoundary,cr=void 0!==Qn&&Qn,Ni=T.padding,dr=void 0===Ni?0:Ni,Fr=Zr("number"!=typeof dr?dr:ys(dr,Rt)),Rs=n.rects.popper,mr=n.elements[cr?Ln===Hn?"reference":Hn:Ln],Hr=function Ar(n,T,t,l){var y="clippingParents"===T?function Vi(n){var T=pt(Se(n)),l=["absolute","fixed"].indexOf(Ht(n).position)>=0&&dt(n)?jn(n):n;return gt(l)?T.filter(function(y){return gt(y)&&Qt(y,l)&&"body"!==re(y)}):[]}(n):[].concat(T),$=[].concat(y,[t]),at=$.reduce(function(Dt,Wt){var en=si(n,Wt,l);return Dt.top=hn(en.top,Dt.top),Dt.right=_i(en.right,Dt.right),Dt.bottom=_i(en.bottom,Dt.bottom),Dt.left=hn(en.left,Dt.left),Dt},si(n,$[0],l));return at.width=at.right-at.left,at.height=at.bottom-at.top,at.x=at.left,at.y=at.top,at}(gt(mr)?mr:mr.contextElement||on(n.elements.popper),Dt,en,me),Qr=gn(n.elements.reference),Ps=Wr({reference:Qr,element:Rs,strategy:"absolute",placement:y}),xs=dn(Object.assign({},Rs,Ps)),Eo=Ln===Hn?xs:Qr,vo={top:Hr.top-Eo.top+Fr.top,bottom:Eo.bottom-Hr.bottom+Fr.bottom,left:Hr.left-Eo.left+Fr.left,right:Eo.right-Hr.right+Fr.right},ko=n.modifiersData.offset;if(Ln===Hn&&ko){var Da=ko[y];Object.keys(vo).forEach(function(Ko){var Al=[nn,Cn].indexOf(Ko)>=0?1:-1,Ol=[Tn,Cn].indexOf(Ko)>=0?"y":"x";vo[Ko]+=Da[Ol]*Al})}return vo}const ut={name:"flip",enabled:!0,phase:"main",fn:function bs(n){var T=n.state,t=n.options,l=n.name;if(!T.modifiersData[l]._skip){for(var y=t.mainAxis,$=void 0===y||y,me=t.altAxis,at=void 0===me||me,Dt=t.fallbackPlacements,Wt=t.padding,en=t.boundary,Kn=t.rootBoundary,Ln=t.altBoundary,Qn=t.flipVariations,cr=void 0===Qn||Qn,Ni=t.allowedAutoPlacements,dr=T.options.placement,Fr=tn(dr),Rs=Dt||(Fr!==dr&&cr?function ur(n){if(tn(n)===bt)return[];var T=mn(n);return[On(n),T,On(T)]}(dr):[mn(dr)]),mr=[dr].concat(Rs).reduce(function(Hl,pl){return Hl.concat(tn(pl)===bt?function Hs(n,T){void 0===T&&(T={});var y=T.boundary,$=T.rootBoundary,me=T.padding,at=T.flipVariations,Dt=T.allowedAutoPlacements,Wt=void 0===Dt?J:Dt,en=Zi(T.placement),Kn=en?at?B:B.filter(function(cr){return Zi(cr)===en}):Rt,Ln=Kn.filter(function(cr){return Wt.indexOf(cr)>=0});0===Ln.length&&(Ln=Kn);var Qn=Ln.reduce(function(cr,Ni){return cr[Ni]=hs(n,{placement:Ni,boundary:y,rootBoundary:$,padding:me})[tn(Ni)],cr},{});return Object.keys(Qn).sort(function(cr,Ni){return Qn[cr]-Qn[Ni]})}(T,{placement:pl,boundary:en,rootBoundary:Kn,padding:Wt,flipVariations:cr,allowedAutoPlacements:Ni}):pl)},[]),Hr=T.rects.reference,Qr=T.rects.popper,Ps=new Map,xs=!0,Eo=mr[0],vo=0;vo<mr.length;vo++){var ko=mr[vo],Da=tn(ko),Ko=Zi(ko)===xt,Al=[Tn,Cn].indexOf(Da)>=0,Ol=Al?"width":"height",sa=hs(T,{placement:ko,boundary:en,rootBoundary:Kn,altBoundary:Ln,padding:Wt}),xa=Al?Ko?nn:tt:Ko?Cn:Tn;Hr[Ol]>Qr[Ol]&&(xa=mn(xa));var Ac=mn(xa),Ml=[];if($&&Ml.push(sa[Da]<=0),at&&Ml.push(sa[xa]<=0,sa[Ac]<=0),Ml.every(function(Hl){return Hl})){Eo=ko,xs=!1;break}Ps.set(ko,Ml)}if(xs)for(var Wc=function(pl){var uc=mr.find(function(Rc){var Rl=Ps.get(Rc);if(Rl)return Rl.slice(0,pl).every(function(Kc){return Kc})});if(uc)return Eo=uc,"break"},cc=cr?3:1;cc>0&&"break"!==Wc(cc);cc--);T.placement!==Eo&&(T.modifiersData[l]._skip=!0,T.placement=Eo,T.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ve(n,T,t){return hn(n,_i(T,t))}function jt(n){var T=gn(n),t=n.offsetWidth,l=n.offsetHeight;return Math.abs(T.width-t)<=1&&(t=T.width),Math.abs(T.height-l)<=1&&(l=T.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:l}}const In={name:"preventOverflow",enabled:!0,phase:"main",fn:function Wn(n){var T=n.state,t=n.options,l=n.name,y=t.mainAxis,$=void 0===y||y,me=t.altAxis,at=void 0!==me&&me,Ln=t.tether,Qn=void 0===Ln||Ln,cr=t.tetherOffset,Ni=void 0===cr?0:cr,dr=hs(T,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),Fr=tn(T.placement),Er=Zi(T.placement),Rs=!Er,mr=oi(Fr),Hr=function zn(n){return"x"===n?"y":"x"}(mr),Qr=T.modifiersData.popperOffsets,Ps=T.rects.reference,xs=T.rects.popper,Eo="function"==typeof Ni?Ni(Object.assign({},T.rects,{placement:T.placement})):Ni,vo="number"==typeof Eo?{mainAxis:Eo,altAxis:Eo}:Object.assign({mainAxis:0,altAxis:0},Eo),ko=T.modifiersData.offset?T.modifiersData.offset[T.placement]:null,Da={x:0,y:0};if(Qr){if($){var Ko,Al="y"===mr?Tn:tt,Ol="y"===mr?Cn:nn,sa="y"===mr?"height":"width",xa=Qr[mr],Ac=xa+dr[Al],Ml=xa-dr[Ol],Oc=Qn?-xs[sa]/2:0,Wc=Er===xt?Ps[sa]:xs[sa],cc=Er===xt?-xs[sa]:-Ps[sa],Mc=T.elements.arrow,Hl=Qn&&Mc?jt(Mc):{width:0,height:0},pl=T.modifiersData["arrow#persistent"]?T.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},uc=pl[Al],Rc=pl[Ol],Rl=Ve(0,Ps[sa],Hl[sa]),Kc=Rs?Ps[sa]/2-Oc-Rl-uc-vo.mainAxis:Wc-Rl-uc-vo.mainAxis,lu=Rs?-Ps[sa]/2+Oc+Rl+Rc+vo.mainAxis:cc+Rl+Rc+vo.mainAxis,Gc=T.elements.arrow&&jn(T.elements.arrow),cu=Gc?"y"===mr?Gc.clientTop||0:Gc.clientLeft||0:0,Jc=null!=(Ko=ko?.[mr])?Ko:0,hu=xa+lu-Jc,Yc=Ve(Qn?_i(Ac,xa+Kc-Jc-cu):Ac,xa,Qn?hn(Ml,hu):Ml);Qr[mr]=Yc,Da[mr]=Yc-xa}if(at){var qc,Pl=Qr[Hr],Pc="y"===Hr?"height":"width",Zc=Pl+dr["x"===mr?Tn:tt],eu=Pl-dr["x"===mr?Cn:nn],zc=-1!==[Tn,tt].indexOf(Fr),tu=null!=(qc=ko?.[Hr])?qc:0,nu=zc?Zc:Pl-Ps[Pc]-xs[Pc]-tu+vo.altAxis,iu=zc?Pl+Ps[Pc]+xs[Pc]-tu-vo.altAxis:eu,ru=Qn&&zc?function et(n,T,t){var l=Ve(n,T,t);return l>t?t:l}(nu,Pl,iu):Ve(Qn?nu:Zc,Pl,Qn?iu:eu);Qr[Hr]=ru,Da[Hr]=ru-Pl}T.modifiersData[l]=Da}},requiresIfExists:["offset"]},$r={name:"arrow",enabled:!0,phase:"main",fn:function ai(n){var T,t=n.state,l=n.name,y=n.options,$=t.elements.arrow,me=t.modifiersData.popperOffsets,at=tn(t.placement),Dt=oi(at),en=[tt,nn].indexOf(at)>=0?"height":"width";if($&&me){var Kn=function(T,t){return Zr("number"!=typeof(T="function"==typeof T?T(Object.assign({},t.rects,{placement:t.placement})):T)?T:ys(T,Rt))}(y.padding,t),Ln=jt($),Qn="y"===Dt?Tn:tt,cr="y"===Dt?Cn:nn,Ni=t.rects.reference[en]+t.rects.reference[Dt]-me[Dt]-t.rects.popper[en],dr=me[Dt]-t.rects.reference[Dt],Fr=jn($),Er=Fr?"y"===Dt?Fr.clientHeight||0:Fr.clientWidth||0:0,Qr=Er/2-Ln[en]/2+(Ni/2-dr/2),Ps=Ve(Kn[Qn],Qr,Er-Ln[en]-Kn[cr]);t.modifiersData[l]=((T={})[Dt]=Ps,T.centerOffset=Ps-Qr,T)}},effect:function Ii(n){var T=n.state,l=n.options.element,y=void 0===l?"[data-popper-arrow]":l;null!=y&&("string"==typeof y&&!(y=T.elements.popper.querySelector(y))||Qt(T.elements.popper,y)&&(T.elements.arrow=y))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function r(n,T,t){void 0===t&&(t=!1);var l=dt(T),y=dt(T)&&function Or(n){var T=n.getBoundingClientRect(),t=_e(T.width)/n.offsetWidth||1,l=_e(T.height)/n.offsetHeight||1;return 1!==t||1!==l}(T),$=on(T),me=gn(n,y,t),at={scrollLeft:0,scrollTop:0},Dt={x:0,y:0};return(l||!l&&!t)&&(("body"!==re(T)||rt($))&&(at=function es(n){return n!==rn(n)&&dt(n)?function Kr(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):cs(n)}(T)),dt(T)?((Dt=gn(T,!0)).x+=T.clientLeft,Dt.y+=T.clientTop):$&&(Dt.x=Cr($))),{x:me.left+at.scrollLeft-Dt.x,y:me.top+at.scrollTop-Dt.y,width:me.width,height:me.height}}function i(n){var T=new Map,t=new Set,l=[];function y($){t.add($.name),[].concat($.requires||[],$.requiresIfExists||[]).forEach(function(at){if(!t.has(at)){var Dt=T.get(at);Dt&&y(Dt)}}),l.push($)}return n.forEach(function($){T.set($.name,$)}),n.forEach(function($){t.has($.name)||y($)}),l}function c(n){var T;return function(){return T||(T=new Promise(function(t){Promise.resolve().then(function(){T=void 0,t(n())})})),T}}var A={placement:"bottom",modifiers:[],strategy:"absolute"};function W(){for(var n=arguments.length,T=new Array(n),t=0;t<n;t++)T[t]=arguments[t];return!T.some(function(l){return!(l&&"function"==typeof l.getBoundingClientRect)})}function ne(n){void 0===n&&(n={});var t=n.defaultModifiers,l=void 0===t?[]:t,y=n.defaultOptions,$=void 0===y?A:y;return function(at,Dt,Wt){void 0===Wt&&(Wt=$);var en={placement:"bottom",orderedModifiers:[],options:Object.assign({},A,$),modifiersData:{},elements:{reference:at,popper:Dt},attributes:{},styles:{}},Kn=[],Ln=!1,Qn={state:en,setOptions:function(Fr){var Er="function"==typeof Fr?Fr(en.options):Fr;Ni(),en.options=Object.assign({},$,en.options,Er),en.scrollParents={reference:gt(at)?pt(at):at.contextElement?pt(at.contextElement):[],popper:pt(Dt)};var Rs=function u(n){var T=i(n);return pn.reduce(function(t,l){return t.concat(T.filter(function(y){return y.phase===l}))},[])}(function S(n){var T=n.reduce(function(t,l){var y=t[l.name];return t[l.name]=y?Object.assign({},y,l,{options:Object.assign({},y.options,l.options),data:Object.assign({},y.data,l.data)}):l,t},{});return Object.keys(T).map(function(t){return T[t]})}([].concat(l,en.options.modifiers)));return en.orderedModifiers=Rs.filter(function(mr){return mr.enabled}),function cr(){en.orderedModifiers.forEach(function(dr){var Er=dr.options,mr=dr.effect;if("function"==typeof mr){var Hr=mr({state:en,name:dr.name,instance:Qn,options:void 0===Er?{}:Er});Kn.push(Hr||function(){})}})}(),Qn.update()},forceUpdate:function(){if(!Ln){var Fr=en.elements,Er=Fr.reference,Rs=Fr.popper;if(W(Er,Rs)){en.rects={reference:r(Er,jn(Rs),"fixed"===en.options.strategy),popper:jt(Rs)},en.reset=!1,en.placement=en.options.placement,en.orderedModifiers.forEach(function(vo){return en.modifiersData[vo.name]=Object.assign({},vo.data)});for(var mr=0;mr<en.orderedModifiers.length;mr++)if(!0!==en.reset){var Hr=en.orderedModifiers[mr],Qr=Hr.fn,Ps=Hr.options;"function"==typeof Qr&&(en=Qr({state:en,options:void 0===Ps?{}:Ps,name:Hr.name,instance:Qn})||en)}else en.reset=!1,mr=-1}}},update:c(function(){return new Promise(function(dr){Qn.forceUpdate(),dr(en)})}),destroy:function(){Ni(),Ln=!0}};if(!W(at,Dt))return Qn;function Ni(){Kn.forEach(function(dr){return dr()}),Kn=[]}return Qn.setOptions(Wt).then(function(dr){!Ln&&Wt.onFirstUpdate&&Wt.onFirstUpdate(dr)}),Qn}}var he={passive:!0},st={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vt(n){var T,t=n.popper,l=n.popperRect,y=n.placement,$=n.variation,me=n.offsets,at=n.position,Dt=n.gpuAcceleration,Wt=n.adaptive,en=n.roundOffsets,Kn=n.isFixed,Ln=me.x,Qn=void 0===Ln?0:Ln,cr=me.y,Ni=void 0===cr?0:cr,dr="function"==typeof en?en({x:Qn,y:Ni}):{x:Qn,y:Ni};Qn=dr.x,Ni=dr.y;var Fr=me.hasOwnProperty("x"),Er=me.hasOwnProperty("y"),Rs=tt,mr=Tn,Hr=window;if(Wt){var Qr=jn(t),Ps="clientHeight",xs="clientWidth";Qr===rn(t)&&"static"!==Ht(Qr=on(t)).position&&"absolute"===at&&(Ps="scrollHeight",xs="scrollWidth"),(y===Tn||(y===tt||y===nn)&&$===Jt)&&(mr=Cn,Ni-=(Kn&&Qr===Hr&&Hr.visualViewport?Hr.visualViewport.height:Qr[Ps])-l.height,Ni*=Dt?1:-1),y!==tt&&(y!==Tn&&y!==Cn||$!==Jt)||(Rs=nn,Qn-=(Kn&&Qr===Hr&&Hr.visualViewport?Hr.visualViewport.width:Qr[xs])-l.width,Qn*=Dt?1:-1)}var Ko,ko=Object.assign({position:at},Wt&&st),Da=!0===en?function _t(n,T){var l=n.y,y=T.devicePixelRatio||1;return{x:_e(n.x*y)/y||0,y:_e(l*y)/y||0}}({x:Qn,y:Ni},rn(t)):{x:Qn,y:Ni};return Qn=Da.x,Ni=Da.y,Object.assign({},ko,Dt?((Ko={})[mr]=Er?"0":"",Ko[Rs]=Fr?"0":"",Ko.transform=(Hr.devicePixelRatio||1)<=1?"translate("+Qn+"px, "+Ni+"px)":"translate3d("+Qn+"px, "+Ni+"px, 0)",Ko):((T={})[mr]=Er?Ni+"px":"",T[Rs]=Fr?Qn+"px":"",T.transform="",T))}var Ke=ne({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function be(n){var T=n.state,t=n.instance,l=n.options,y=l.scroll,$=void 0===y||y,me=l.resize,at=void 0===me||me,Dt=rn(T.elements.popper),Wt=[].concat(T.scrollParents.reference,T.scrollParents.popper);return $&&Wt.forEach(function(en){en.addEventListener("scroll",t.update,he)}),at&&Dt.addEventListener("resize",t.update,he),function(){$&&Wt.forEach(function(en){en.removeEventListener("scroll",t.update,he)}),at&&Dt.removeEventListener("resize",t.update,he)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Ie(n){var T=n.state;T.modifiersData[n.name]=Wr({reference:T.rects.reference,element:T.rects.popper,strategy:"absolute",placement:T.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function de(n){var T=n.state,t=n.options,l=t.gpuAcceleration,y=void 0===l||l,$=t.adaptive,me=void 0===$||$,at=t.roundOffsets,Dt=void 0===at||at,Wt={placement:tn(T.placement),variation:Zi(T.placement),popper:T.elements.popper,popperRect:T.rects.popper,gpuAcceleration:y,isFixed:"fixed"===T.options.strategy};null!=T.modifiersData.popperOffsets&&(T.styles.popper=Object.assign({},T.styles.popper,vt(Object.assign({},Wt,{offsets:T.modifiersData.popperOffsets,position:T.options.strategy,adaptive:me,roundOffsets:Dt})))),null!=T.modifiersData.arrow&&(T.styles.arrow=Object.assign({},T.styles.arrow,vt(Object.assign({},Wt,{offsets:T.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Dt})))),T.attributes.popper=Object.assign({},T.attributes.popper,{"data-popper-placement":T.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function Re(n){var T=n.state;Object.keys(T.elements).forEach(function(t){var l=T.styles[t]||{},y=T.attributes[t]||{},$=T.elements[t];!dt($)||!re($)||(Object.assign($.style,l),Object.keys(y).forEach(function(me){var at=y[me];!1===at?$.removeAttribute(me):$.setAttribute(me,!0===at?"":at)}))})},effect:function je(n){var T=n.state,t={popper:{position:T.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(T.elements.popper.style,t.popper),T.styles=t,T.elements.arrow&&Object.assign(T.elements.arrow.style,t.arrow),function(){Object.keys(T.elements).forEach(function(l){var y=T.elements[l],$=T.attributes[l]||{},at=Object.keys(T.styles.hasOwnProperty(l)?T.styles[l]:t[l]).reduce(function(Dt,Wt){return Dt[Wt]="",Dt},{});!dt(y)||!re(y)||(Object.assign(y.style,at),Object.keys($).forEach(function(Dt){y.removeAttribute(Dt)}))})}},requires:["computeStyles"]}]});const Ct={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Mt(n){var T=n.state,l=n.name,y=n.options.offset,$=void 0===y?[0,0]:y,me=J.reduce(function(en,Kn){return en[Kn]=function Be(n,T,t){var l=tn(n),y=[tt,Tn].indexOf(l)>=0?-1:1,$="function"==typeof t?t(Object.assign({},T,{placement:n})):t,me=$[0],at=$[1];return me=me||0,at=(at||0)*y,[tt,nn].indexOf(l)>=0?{x:at,y:me}:{x:me,y:at}}(Kn,T.rects,$),en},{}),at=me[T.placement],Wt=at.y;null!=T.modifiersData.popperOffsets&&(T.modifiersData.popperOffsets.x+=at.x,T.modifiersData.popperOffsets.y+=Wt),T.modifiersData[l]=me}},ln=["*"],g=["dialog"],pe=(n,T,t)=>({$implicit:n,pages:T,disabled:t}),Je=n=>({disabled:!0,currentPage:n}),Xe=(n,T,t)=>({disabled:n,$implicit:T,currentPage:t}),ht=(n,T)=>({disabled:n,currentPage:T}),Vt=n=>({disabled:n});function Gt(n,T){1&n&&(e.j41(0,"span",13),e.pXf(1,7),e.k0s())}function Ot(n,T){1&n&&(e.j41(0,"span",13),e.pXf(1,8),e.k0s())}function fn(n,T){1&n&&(e.j41(0,"span",13),e.pXf(1,9),e.k0s())}function Yn(n,T){1&n&&(e.j41(0,"span",13),e.pXf(1,10),e.k0s())}function Bi(n,T){1&n&&e.EFF(0,"...")}function Zn(n,T){1&n&&e.EFF(0),2&n&&e.JRh(T.$implicit)}function Vr(n,T){}function Ji(n,T){if(1&n&&(e.j41(0,"a",16),e.DNE(1,Vr,0,0,"ng-template",12),e.k0s()),2&n){const t=e.XpG(2).$implicit,l=e.XpG(),y=e.sdS(9);e.R7$(),e.Y8G("ngTemplateOutlet",(null==l.tplEllipsis?null:l.tplEllipsis.templateRef)||y)("ngTemplateOutletContext",e.eq3(2,Je,t))}}function Is(n,T){}function Ys(n,T){if(1&n){const t=e.RV6();e.j41(0,"a",18),e.bIt("click",function(y){e.eBV(t);const $=e.XpG().$implicit;return e.XpG(2).selectPage($),e.Njj(y.preventDefault())}),e.DNE(1,Is,0,0,"ng-template",12),e.k0s()}if(2&n){const t=e.XpG().$implicit,l=e.XpG(),y=l.$implicit,$=l.disabled,me=e.XpG(),at=e.sdS(11);e.BMQ("tabindex",$?"-1":null)("aria-disabled",$?"true":null),e.R7$(),e.Y8G("ngTemplateOutlet",(null==me.tplNumber?null:me.tplNumber.templateRef)||at)("ngTemplateOutletContext",e.sMw(4,Xe,$,t,y))}}function Mi(n,T){if(1&n&&(e.j41(0,"li",15),e.DNE(1,Ji,2,4,"a",16)(2,Ys,2,8,"a",17),e.k0s()),2&n){const t=T.$implicit,l=e.XpG(),y=l.$implicit,$=l.disabled,me=e.XpG();e.AVh("active",t===y)("disabled",me.isEllipsis(t)||$),e.BMQ("aria-current",t===y?"page":null),e.R7$(),e.vxM(me.isEllipsis(t)?1:2)}}function ao(n,T){1&n&&e.Z7z(0,Mi,3,6,"li",14,e.Vm6),2&n&&e.Dyx(T.pages)}function Yi(n,T){}function vr(n,T){if(1&n){const t=e.RV6();e.j41(0,"li",15)(1,"a",19),e.bIt("click",function(y){return e.eBV(t),e.XpG().selectPage(1),e.Njj(y.preventDefault())}),e.DNE(2,Yi,0,0,"ng-template",12),e.k0s()()}if(2&n){const t=e.XpG(),l=e.sdS(1);e.AVh("disabled",t.previousDisabled()),e.R7$(),e.BMQ("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),e.R7$(),e.Y8G("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||l)("ngTemplateOutletContext",e.l_i(6,ht,t.previousDisabled(),t.page))}}function Ns(n,T){}function Io(n,T){if(1&n){const t=e.RV6();e.j41(0,"li",15)(1,"a",20),e.bIt("click",function(y){e.eBV(t);const $=e.XpG();return $.selectPage($.page-1),e.Njj(y.preventDefault())}),e.DNE(2,Ns,0,0,"ng-template",12),e.k0s()()}if(2&n){const t=e.XpG(),l=e.sdS(3);e.AVh("disabled",t.previousDisabled()),e.R7$(),e.BMQ("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),e.R7$(),e.Y8G("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||l)("ngTemplateOutletContext",e.eq3(6,Vt,t.previousDisabled()))}}function hr(n,T){}function no(n,T){}function Ss(n,T){if(1&n){const t=e.RV6();e.j41(0,"li",15)(1,"a",21),e.bIt("click",function(y){e.eBV(t);const $=e.XpG();return $.selectPage($.page+1),e.Njj(y.preventDefault())}),e.DNE(2,no,0,0,"ng-template",12),e.k0s()()}if(2&n){const t=e.XpG(),l=e.sdS(5);e.AVh("disabled",t.nextDisabled()),e.R7$(),e.BMQ("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),e.R7$(),e.Y8G("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||l)("ngTemplateOutletContext",e.l_i(6,ht,t.nextDisabled(),t.page))}}function zr(n,T){}function Mr(n,T){if(1&n){const t=e.RV6();e.j41(0,"li",15)(1,"a",22),e.bIt("click",function(y){e.eBV(t);const $=e.XpG();return $.selectPage($.pageCount),e.Njj(y.preventDefault())}),e.DNE(2,zr,0,0,"ng-template",12),e.k0s()()}if(2&n){const t=e.XpG(),l=e.sdS(7);e.AVh("disabled",t.nextDisabled()),e.R7$(),e.BMQ("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),e.R7$(),e.Y8G("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||l)("ngTemplateOutletContext",e.l_i(6,ht,t.nextDisabled(),t.page))}}function Es(n,T){if(1&n&&e.EFF(0),2&n){const t=e.XpG(2);e.JRh(t.title)}}function fo(n,T){}function io(n,T){if(1&n&&(e.j41(0,"h3",2),e.DNE(1,Es,1,1,"ng-template",null,0,e.C5r)(3,fo,0,0,"ng-template",4),e.k0s()),2&n){const t=e.sdS(2),l=e.XpG();e.R7$(3),e.Y8G("ngTemplateOutlet",l.isTitleTemplate()?l.title:t)("ngTemplateOutletContext",l.context)}}function ss(n,T){1&n&&e.EFF(0),2&n&&e.JRh(100===T.fill?"\u2605":"\u2606")}function ro(n,T){}function po(n,T){if(1&n){const t=e.RV6();e.j41(0,"span",1),e.EFF(1),e.k0s(),e.j41(2,"span",2),e.bIt("mouseenter",function(){const y=e.eBV(t).$index,$=e.XpG();return e.Njj($.enter(y+1))})("click",function(){const y=e.eBV(t).$index,$=e.XpG();return e.Njj($.handleClick(y+1))}),e.DNE(3,ro,0,0,"ng-template",3),e.k0s()}if(2&n){const t=T.$index,l=e.XpG(),y=e.sdS(1);e.R7$(),e.SpI("(",t<l.nextRate?"*":" ",")"),e.R7$(),e.xc7("cursor",l.isInteractive()?"pointer":"default"),e.R7$(),e.Y8G("ngTemplateOutlet",l.starTemplate||l.starTemplateFromContent||y)("ngTemplateOutletContext",l.contexts[t])}}function Rr(n,T){if(1&n&&(e.j41(0,"strong",3),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.JRh(t.header)}}function Ms(n,T){}function Cs(n,T){if(1&n){const t=e.RV6();e.j41(0,"div",1),e.DNE(1,Ms,0,0,"ng-template",4),e.j41(2,"button",5),e.bIt("click",function(){e.eBV(t);const y=e.XpG();return e.Njj(y.hide())}),e.k0s()()}if(2&n){const t=e.XpG(),l=e.sdS(1);e.R7$(),e.Y8G("ngTemplateOutlet",t.contentHeaderTpl||l)}}const go={animation:!0,transitionTimerDelayMs:5};let Fs=(()=>{class n{constructor(){this.animation=go.animation}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yt(n,T,t=0){return Math.max(Math.min(n,T),t)}function Sn(n){return"string"==typeof n}function vn(n){return!isNaN(function St(n){return parseInt(`${n}`,10)}(n))}function Nn(n){return null!=n}function ri(n){return(n||document.body).getBoundingClientRect()}function Ts(n=document){const T=n?.activeElement;return T?T.shadowRoot?Ts(T.shadowRoot):T:null}const Ls=()=>{},{transitionTimerDelayMs:qs}=go,lo=new Map,ar=(n,T,t,l)=>{let y=l.context||{};const $=lo.get(T);if($)switch(l.runningTransition){case"continue":return G.w;case"stop":n.run(()=>$.transition$.complete()),y=Object.assign($.context,y),lo.delete(T)}const me=t(T,l.animation,y)||Ls;if(!l.animation||"none"===window.getComputedStyle(T).transitionProperty)return n.run(()=>me()),(0,H.of)(void 0).pipe(function Gi(n){return T=>new d.c(t=>T.subscribe({next:me=>n.run(()=>t.next(me)),error:me=>n.run(()=>t.error(me)),complete:()=>n.run(()=>t.complete())}))}(n));const at=new b.B,Dt=new b.B,Wt=at.pipe(function q(...n){return T=>(0,se.x)(T,(0,H.of)(...n))}(!0));lo.set(T,{transition$:at,complete:()=>{Dt.next(),Dt.complete()},context:y});const en=function ot(n){const{transitionDelay:T,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(T)+parseFloat(t))}(T);return n.runOutsideAngular(()=>{const Kn=(0,D.R)(T,"transitionend").pipe((0,oe.Q)(Wt),(0,te.p)(({target:Qn})=>Qn===T)),Ln=(0,x.O)(en+qs).pipe((0,oe.Q)(Wt));(0,k.O)(Ln,Kn,Dt).pipe((0,oe.Q)(Wt)).subscribe(()=>{lo.delete(T),n.run(()=>{me(),at.next(),at.complete()})})}),at.asObservable()},Ha=(n,T,t)=>{let{direction:l,maxSize:y,dimension:$}=t;const{classList:me}=n;function at(){me.add("collapse"),"show"===l?me.add("show"):me.remove("show")}if(T)return y||(y=function Fo(n,T){if(typeof navigator>"u")return"0px";const{classList:t}=n,l=t.contains("show");l||t.add("show"),n.style[T]="";const y=n.getBoundingClientRect()[T]+"px";return l||t.remove("show"),y}(n,$),t.maxSize=y,n.style[$]="show"!==l?y:"0px",me.remove("collapse","collapsing","show"),ri(n),me.add("collapsing")),n.style[$]="show"===l?y:"0px",()=>{at(),me.remove("collapsing"),n.style[$]=""};at()};let Wa=(()=>{class n{constructor(){this._ngbConfig=(0,e.WQX)(Fs),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lo=(()=>{class n{constructor(){this._config=(0,e.WQX)(Wa),this._element=(0,e.WQX)(e.aKT),this._zone=(0,e.WQX)(e.SKi),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new e.bkB,this.horizontal=this._config.horizontal,this.shown=new e.bkB,this.hidden=new e.bkB}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,l){return ar(this._zone,this._element.nativeElement,Ha,{animation:l,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,l){this._runTransition(t,l).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(l,y){2&l&&e.AVh("collapse-horizontal",y.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}return n})(),Aa=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})(),Oo=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})(),Lt=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})(),Xt=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})();const uo=(n,T)=>!!T&&T.some(t=>t.contains(n)),pr=(n,T)=>!T||null!=function Hi(n,T){return!T||typeof n.closest>"u"?null:n.closest(T)}(n,T),$a=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function To(n,T,t,l,y,$,me,at){t&&n.runOutsideAngular((n=>$a?()=>setTimeout(()=>n(),100):n)(()=>{const Wt=(0,D.R)(T,"keydown").pipe((0,oe.Q)(y),(0,te.p)(Ln=>"Escape"===Ln.key),(0,Ge.M)(Ln=>Ln.preventDefault())),en=(0,D.R)(T,"mousedown").pipe((0,Ee.T)(Ln=>{const Qn=Ln.target;return 2!==Ln.button&&!uo(Qn,me)&&("inside"===t?uo(Qn,$)&&pr(Qn,at):"outside"===t?!uo(Qn,$):pr(Qn,at)||!uo(Qn,$))}),(0,oe.Q)(y)),Kn=(0,D.R)(T,"mouseup").pipe((0,Fe.E)(en),(0,te.p)(([Ln,Qn])=>Qn),(0,ye.c)(0),(0,oe.Q)(y));(0,k.O)([Wt.pipe((0,Ee.T)(Ln=>0)),Kn.pipe((0,Ee.T)(Ln=>1))]).subscribe(Ln=>n.run(()=>l(Ln)))}))}const sl=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ha(n){const T=Array.from(n.querySelectorAll(sl)).filter(t=>-1!==t.tabIndex);return[T[0],T[T.length-1]]}let ol=(()=>{class n{constructor(){this._element=(0,e.WQX)(It.qQ).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ka=/\s+/,Xa=/  +/gi,kl={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Wl=/^left/,v=/^right/,R=/^start/,E=/^end/;function z({placement:n,baseClass:T},t){let l=Array.isArray(n)?n:n.split(ka),$=l.findIndex(Wt=>"auto"===Wt);$>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(Wt){null==l.find(en=>-1!==en.search("^"+Wt))&&l.splice($++,1,Wt)});const me=l.map(Wt=>function al(n,T){const[t,l]=kl[n];return T&&l||t}(Wt,t.isRTL()));return{placement:me.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!T,phase:"write",fn({state:Wt}){const en=new RegExp(T+"(-[a-z]+)*","gi"),Kn=Wt.elements.popper,Ln=Wt.placement;let Qn=Kn.className;Qn=Qn.replace(en,""),Qn+=` ${function O(n,T){let[t,l]=T.split("-");const y=t.replace(Wl,"start").replace(v,"end");let $=[y];if(l){let me=l;("left"===t||"right"===t)&&(me=me.replace(R,"top").replace(E,"bottom")),$.push(`${y}-${me}`)}return n&&($=$.map(me=>`${n}-${me}`)),$.join(" ")}(T,Ln)}`,Qn=Qn.trim().replace(Xa," "),Kn.className=Qn}},ut,In,$r,{enabled:!0,name:"flip",options:{fallbackPlacements:me}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function ge(n){return n}function Ue(){const n=(0,e.WQX)(ol);let T=null;return{createPopper(t){if(!T){let y=(t.updatePopperOptions||ge)(z(t,n));T=Ke(t.hostElement,t.targetElement,y)}},update(){T&&T.update()},setOptions(t){if(T){let y=(t.updatePopperOptions||ge)(z(t,n));T.setOptions(y)}},destroy(){T&&(T.destroy(),T=null)}}}function Ai(n){return T=>(T.modifiers.push(Ct,{name:"offset",options:{offset:()=>n}}),T)}new Date(1882,10,12),new Date(2174,10,25);let xe=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})(),De=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t,this.container=null}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qe=(()=>{class n{constructor(){this._disabled=!1,this.nativeElement=(0,e.WQX)(e.aKT).nativeElement,this.tabindex=0}set disabled(t){this._disabled=""===t||!0===t}get disabled(){return this._disabled}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(l,y){2&l&&(e.Mr5("tabIndex",y.disabled?-1:y.tabindex),e.AVh("disabled",y.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}return n})(),it=(()=>{class n{constructor(){this.dropdown=(0,e.WQX)(zt),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(l,y,$){if(1&l&&e.wni($,Qe,4),2&l){let me;e.mGM(me=e.lsd())&&(y.menuItems=me)}},hostAttrs:[1,"dropdown-menu"],hostVars:2,hostBindings:function(l,y){1&l&&e.bIt("keydown.ArrowUp",function(me){return y.dropdown.onKeyDown(me)})("keydown.ArrowDown",function(me){return y.dropdown.onKeyDown(me)})("keydown.Home",function(me){return y.dropdown.onKeyDown(me)})("keydown.End",function(me){return y.dropdown.onKeyDown(me)})("keydown.Enter",function(me){return y.dropdown.onKeyDown(me)})("keydown.Space",function(me){return y.dropdown.onKeyDown(me)})("keydown.Tab",function(me){return y.dropdown.onKeyDown(me)})("keydown.Shift.Tab",function(me){return y.dropdown.onKeyDown(me)}),2&l&&e.AVh("show",y.dropdown.isOpen())},standalone:!0})}return n})(),kt=(()=>{class n{constructor(){this.dropdown=(0,e.WQX)(zt),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(l,y){2&l&&(e.BMQ("aria-expanded",y.dropdown.isOpen()),e.AVh("show",y.dropdown.isOpen()))},standalone:!0})}return n})(),Zt=(()=>{class n extends kt{static#e=this.\u0275fac=(()=>{let t;return function(y){return(t||(t=e.xGo(n)))(y||n)}})();static#t=this.\u0275dir=e.FsC({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(l,y){1&l&&e.bIt("click",function(){return y.dropdown.toggle()})("keydown.ArrowUp",function(me){return y.dropdown.onKeyDown(me)})("keydown.ArrowDown",function(me){return y.dropdown.onKeyDown(me)})("keydown.Home",function(me){return y.dropdown.onKeyDown(me)})("keydown.End",function(me){return y.dropdown.onKeyDown(me)})("keydown.Tab",function(me){return y.dropdown.onKeyDown(me)})("keydown.Shift.Tab",function(me){return y.dropdown.onKeyDown(me)}),2&l&&(e.BMQ("aria-expanded",y.dropdown.isOpen()),e.AVh("show",y.dropdown.isOpen()))},standalone:!0,features:[e.Jv_([{provide:kt,useExisting:(0,e.Rfq)(()=>n)}]),e.Vt3]})}return n})(),zt=(()=>{class n{constructor(){this._changeDetector=(0,e.WQX)(e.gRc),this._config=(0,e.WQX)(De),this._document=(0,e.WQX)(It.qQ),this._ngZone=(0,e.WQX)(e.SKi),this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._destroyCloseHandlers$=new b.B,this._bodyContainer=null,this._positioning=Ue(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new e.bkB}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe((0,ue.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement}),this._applyPlacementClasses()),t.dropdownClass){const{currentValue:l,previousValue:y}=t.dropdownClass;this._applyCustomDropdownClass(l,y)}t.autoClose&&this._open&&(this.autoClose=t.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,updatePopperOptions:t=>this.popperOptions(Ai([0,2])(t))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),To(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(t){const{key:l}=t,y=this._getMenuElements();let $=-1,me=null;const at=this._isEventFromToggle(t);if(!at&&y.length&&y.forEach((Dt,Wt)=>{Dt.contains(t.target)&&(me=Dt),Dt===Ts(this._document)&&($=Wt)})," "!==l&&"Enter"!==l){if("Tab"!==l){if(at||me){if(this.open(),y.length){switch(l){case"ArrowDown":$=Math.min($+1,y.length-1);break;case"ArrowUp":if(this._isDropup()&&-1===$){$=y.length-1;break}$=Math.max($-1,0);break;case"Home":$=0;break;case"End":$=y.length-1}y[$].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const Dt=this._menu.nativeElement.querySelectorAll(sl);t.shiftKey&&t.target===Dt[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===Dt[Dt.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,D.R)(t.target,"focusout").pipe((0,ue.s)(1)).subscribe(({relatedTarget:Dt})=>{this._nativeElement.contains(Dt)||this.close()})}}else me&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,D.R)(me,"click").pipe((0,ue.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:t})=>!t).map(({nativeElement:t})=>t):[]}_positionMenu(){const t=this._menu;this.isOpen()&&t&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const l=this._menu.nativeElement,y=this._bodyContainer=this._bodyContainer||this._document.createElement("div");y.style.position="absolute",l.style.position="static",y.style.zIndex="1055",y.appendChild(l),this._document.body.appendChild(y)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,l){const y="body"===this.container?this._bodyContainer:this._nativeElement;y&&(l&&y.classList.remove(l),t&&y.classList.add(t))}_applyPlacementClasses(t){if(this._menu){t||(t=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const l=-1!==t.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(l),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(l))}}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(l,y,$){if(1&l&&(e.wni($,it,5),e.wni($,kt,5)),2&l){let me;e.mGM(me=e.lsd())&&(y._menu=me.first),e.mGM(me=e.lsd())&&(y._anchor=me.first)}},hostVars:2,hostBindings:function(l,y){2&l&&e.AVh("show",y.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[0,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[e.OA$]})}return n})(),Wi=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})(),Sr=(()=>{class n{constructor(){this._ngbConfig=(0,e.WQX)(Fs),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class yn{constructor(T,t,l){this.nodes=T,this.viewRef=t,this.componentRef=l}}class bn{constructor(T){this._componentType=T,this._windowRef=null,this._contentRef=null,this._document=(0,e.WQX)(It.qQ),this._applicationRef=(0,e.WQX)(e.o8S),this._injector=(0,e.WQX)(e.zZn),this._viewContainerRef=(0,e.WQX)(e.c1b),this._ngZone=(0,e.WQX)(e.SKi)}open(T,t,l=!1){this._windowRef||(this._contentRef=this._getContentRef(T,t),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:y}=this._windowRef.location,$=this._ngZone.onStable.pipe((0,ue.s)(1),(0,ke.Z)(()=>ar(this._ngZone,y,({classList:me})=>me.add("show"),{animation:l,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:$}}close(T=!1){return this._windowRef?ar(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:T,runningTransition:"stop"}).pipe((0,Ge.M)(()=>{this._windowRef?.destroy(),this._contentRef?.viewRef?.destroy(),this._windowRef=null,this._contentRef=null})):(0,H.of)(void 0)}_getContentRef(T,t){if(T){if(T instanceof e.C4Q){const l=T.createEmbeddedView(t);return this._applicationRef.attachView(l),new yn([l.rootNodes],l)}return new yn([[this._document.createTextNode(`${T}`)]])}return new yn([])}}let hi=(()=>{class n{constructor(){this._document=(0,e.WQX)(It.qQ)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),l=this._document.body,y=l.style,{overflow:$,paddingRight:me}=y;if(t>0){const at=parseFloat(window.getComputedStyle(l).paddingRight);y.paddingRight=`${at+t}px`}return y.overflow="hidden",()=>{t>0&&(y.paddingRight=me),y.overflow=$}}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jn=(()=>{class n{constructor(){this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._zone=(0,e.WQX)(e.SKi)}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ue.s)(1)).subscribe(()=>{ar(this._zone,this._nativeElement,(t,l)=>{l&&ri(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ar(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(l,y){2&l&&(e.HbH("modal-backdrop"+(y.backdropClass?" "+y.backdropClass:"")),e.AVh("show",!y.animation)("fade",y.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(l,y){},encapsulation:2})}return n})();class Ri{update(T){}close(T){}dismiss(T){}}const yi=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],lr=["animation","backdropClass"];class Xr{_applyWindowOptions(T,t){yi.forEach(l=>{Nn(t[l])&&(T[l]=t[l])})}_applyBackdropOptions(T,t){lr.forEach(l=>{Nn(t[l])&&(T[l]=t[l])})}update(T){this._applyWindowOptions(this._windowCmptRef.instance,T),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,T)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,oe.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,oe.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(T,t,l,y){this._windowCmptRef=T,this._contentRef=t,this._backdropCmptRef=l,this._beforeDismiss=y,this._closed=new b.B,this._dismissed=new b.B,this._hidden=new b.B,T.instance.dismissEvent.subscribe($=>{this.dismiss($)}),this.result=new Promise(($,me)=>{this._resolve=$,this._reject=me}),this.result.then(null,()=>{})}close(T){this._windowCmptRef&&(this._closed.next(T),this._resolve(T),this._removeModalElements())}_dismiss(T){this._dismissed.next(T),this._reject(T),this._removeModalElements()}dismiss(T){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Ki(n){return n&&n.then}(t)?!1!==t&&this._dismiss(T):t.then(l=>{!1!==l&&this._dismiss(T)},()=>{})}else this._dismiss(T)}_removeModalElements(){const T=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,H.of)(void 0);T.subscribe(()=>{const{nativeElement:l}=this._windowCmptRef.location;l.parentNode.removeChild(l),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:l}=this._backdropCmptRef.location;l.parentNode.removeChild(l),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,X.y)(T,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Dr=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(Dr||{});let ms=(()=>{class n{constructor(){this._document=(0,e.WQX)(It.qQ),this._elRef=(0,e.WQX)(e.aKT),this._zone=(0,e.WQX)(e.SKi),this._closed$=new b.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.bkB,this.shown=new b.B,this.hidden=new b.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Sn(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ue.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,l={animation:this.animation,runningTransition:"stop"},y=ar(this._zone,t,()=>t.classList.remove("show"),l),$=ar(this._zone,this._dialogEl.nativeElement,()=>{},l),me=(0,X.y)(y,$);return me.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),me}_show(){const t={animation:this.animation,runningTransition:"continue"},l=ar(this._zone,this._elRef.nativeElement,($,me)=>{me&&ri($),$.classList.add("show")},t),y=ar(this._zone,this._dialogEl.nativeElement,()=>{},t);(0,X.y)(l,y).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{(0,D.R)(t,"keydown").pipe((0,oe.Q)(this._closed$),(0,te.p)(y=>"Escape"===y.key)).subscribe(y=>{this.keyboard?requestAnimationFrame(()=>{y.defaultPrevented||this._zone.run(()=>this.dismiss(Dr.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let l=!1;(0,D.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,oe.Q)(this._closed$),(0,Ge.M)(()=>l=!1),(0,Ye.n)(()=>(0,D.R)(t,"mouseup").pipe((0,oe.Q)(this._closed$),(0,ue.s)(1))),(0,te.p)(({target:y})=>t===y)).subscribe(()=>{l=!0}),(0,D.R)(t,"click").pipe((0,oe.Q)(this._closed$)).subscribe(({target:y})=>{t===y&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!l&&this._zone.run(()=>this.dismiss(Dr.BACKDROP_CLICK))),l=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const l=t.querySelector("[ngbAutofocus]"),y=ha(t)[0];(l||y||t).focus()}}_restoreFocus(){const t=this._document.body,l=this._elWithFocus;let y;y=l&&l.focus&&t.contains(l)?l:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>y.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ar(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(l,y){if(1&l&&e.GBs(g,7),2&l){let $;e.mGM($=e.lsd())&&(y._dialogEl=$.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(l,y){2&l&&(e.BMQ("aria-modal",!0)("aria-labelledby",y.ariaLabelledBy)("aria-describedby",y.ariaDescribedBy),e.HbH("modal d-block"+(y.windowClass?" "+y.windowClass:"")),e.AVh("fade",y.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.aNF],ngContentSelectors:ln,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(l,y){1&l&&(e.NAR(),e.j41(0,"div",1,0)(2,"div",2),e.SdG(3),e.k0s()()),2&l&&e.HbH("modal-dialog"+(y.size?" modal-"+y.size:"")+(y.centered?" modal-dialog-centered":"")+y.fullscreenClass+(y.scrollable?" modal-dialog-scrollable":"")+(y.modalDialogClass?" "+y.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),kr=(()=>{class n{constructor(){this._applicationRef=(0,e.WQX)(e.o8S),this._injector=(0,e.WQX)(e.zZn),this._environmentInjector=(0,e.WQX)(e.uvJ),this._document=(0,e.WQX)(It.qQ),this._scrollBar=(0,e.WQX)(hi),this._activeWindowCmptHasChanged=new b.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.bkB;const t=(0,e.WQX)(e.SKi);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,T,t,l=!1)=>{n.runOutsideAngular(()=>{const y=(0,D.R)(T,"focusin").pipe((0,oe.Q)(t),(0,Ee.T)($=>$.target));(0,D.R)(T,"keydown").pipe((0,oe.Q)(t),(0,te.p)($=>"Tab"===$.key),(0,Fe.E)(y)).subscribe(([$,me])=>{const[at,Dt]=ha(T);(me===at||me===T)&&$.shiftKey&&(Dt.focus(),$.preventDefault()),me===Dt&&!$.shiftKey&&(at.focus(),$.preventDefault())}),l&&(0,D.R)(T,"click").pipe((0,oe.Q)(t),(0,Fe.E)(y),(0,Ee.T)($=>$[1])).subscribe($=>$.focus())})})(t,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,l,y){const $=y.container instanceof HTMLElement?y.container:Nn(y.container)?this._document.querySelector(y.container):this._document.body;if(!$)throw new Error(`The specified modal container "${y.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const me=new Ri,at=(t=y.injector||t).get(e.uvJ,null)||this._environmentInjector,Dt=this._getContentRef(t,at,l,me,y);let Wt=!1!==y.backdrop?this._attachBackdrop($):void 0,en=this._attachWindowComponent($,Dt.nodes),Kn=new Xr(en,Dt,Wt,y.beforeDismiss);return this._registerModalRef(Kn),this._registerWindowCmpt(en),Kn.hidden.pipe((0,ue.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),me.close=Ln=>{Kn.close(Ln)},me.dismiss=Ln=>{Kn.dismiss(Ln)},me.update=Ln=>{Kn.update(Ln)},Kn.update(y),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),Wt&&Wt.instance&&Wt.changeDetectorRef.detectChanges(),en.changeDetectorRef.detectChanges(),Kn}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(l=>l.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let l=(0,e.a0P)(Jn,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(l.hostView),t.appendChild(l.location.nativeElement),l}_attachWindowComponent(t,l){let y=(0,e.a0P)(ms,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:l});return this._applicationRef.attachView(y.hostView),t.appendChild(y.location.nativeElement),y}_getContentRef(t,l,y,$,me){return y?y instanceof e.C4Q?this._createFromTemplateRef(y,$):Sn(y)?this._createFromString(y):this._createFromComponent(t,l,y,$,me):new yn([])}_createFromTemplateRef(t,l){const $=t.createEmbeddedView({$implicit:l,close(me){l.close(me)},dismiss(me){l.dismiss(me)}});return this._applicationRef.attachView($),new yn([$.rootNodes],$)}_createFromString(t){const l=this._document.createTextNode(`${t}`);return new yn([[l]])}_createFromComponent(t,l,y,$,me){const at=e.zZn.create({providers:[{provide:Ri,useValue:$}],parent:t}),Dt=(0,e.a0P)(y,{environmentInjector:l,elementInjector:at}),Wt=Dt.location.nativeElement;return me.scrollable&&Wt.classList.add("component-host-scrollable"),this._applicationRef.attachView(Dt.hostView),new yn([[Wt]],Dt.hostView,Dt)}_setAriaHidden(t){const l=t.parentElement;l&&t!==this._document.body&&(Array.from(l.children).forEach(y=>{y!==t&&"SCRIPT"!==y.nodeName&&(this._ariaHiddenValues.set(y,y.getAttribute("aria-hidden")),y.setAttribute("aria-hidden","true"))}),this._setAriaHidden(l))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,l)=>{t?l.setAttribute("aria-hidden",t):l.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const l=()=>{const y=this._modalRefs.indexOf(t);y>-1&&(this._modalRefs.splice(y,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(l,l)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const l=this._windowCmpts.indexOf(t);l>-1&&(this._windowCmpts.splice(l,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pi=(()=>{class n{constructor(){this._injector=(0,e.WQX)(e.zZn),this._modalStack=(0,e.WQX)(kr),this._config=(0,e.WQX)(Sr)}open(t,l={}){const y={...this._config,animation:this._config.animation,...l};return this._modalStack.open(this._injector,t,y)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jr=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({providers:[pi]})}return n})(),_o=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})(),Ba=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ua=(()=>{class n{constructor(){this.templateRef=(0,e.WQX)(e.C4Q)}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0})}return n})(),Tl=(()=>{class n{constructor(){this.templateRef=(0,e.WQX)(e.C4Q)}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0})}return n})(),Ir=(()=>{class n{constructor(){this.templateRef=(0,e.WQX)(e.C4Q)}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0})}return n})(),mi=(()=>{class n{constructor(){this.templateRef=(0,e.WQX)(e.C4Q)}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0})}return n})(),Dl=(()=>{class n{constructor(){this.templateRef=(0,e.WQX)(e.C4Q)}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0})}return n})(),Vl=(()=>{class n{constructor(){this.templateRef=(0,e.WQX)(e.C4Q)}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0})}return n})(),jl=(()=>{class n{constructor(){this.templateRef=(0,e.WQX)(e.C4Q)}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0})}return n})(),$i=(()=>{class n{constructor(){this._config=(0,e.WQX)(Ba),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new e.bkB(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,l){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),l<this.pageCount&&(l<this.pageCount-2?this.pages.push(-1):l===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,l=this.pageCount,y=Math.floor(this.maxSize/2);return this.page<=y?l=this.maxSize:this.pageCount-this.page<y?t=this.pageCount-this.maxSize:(t=this.page-y-1,l=this.page+(this.maxSize%2==0?y-1:y)),[t,l]}_applyPagination(){let l=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[l,l+this.maxSize]}_setPageInRange(t){const l=this.page;this.page=Yt(t,this.pageCount,1),this.page!==l&&vn(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),vn(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let l=1;l<=this.pageCount;l++)this.pages.push(l);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let l=0,y=this.pageCount;[l,y]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(l,y),this._applyEllipses(l,y)}}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["ngb-pagination"]],contentQueries:function(l,y,$){if(1&l&&(e.wni($,Ua,5),e.wni($,Tl,5),e.wni($,Ir,5),e.wni($,mi,5),e.wni($,Dl,5),e.wni($,Vl,5),e.wni($,jl,5)),2&l){let me;e.mGM(me=e.lsd())&&(y.tplEllipsis=me.first),e.mGM(me=e.lsd())&&(y.tplFirst=me.first),e.mGM(me=e.lsd())&&(y.tplLast=me.first),e.mGM(me=e.lsd())&&(y.tplNext=me.first),e.mGM(me=e.lsd())&&(y.tplNumber=me.first),e.mGM(me=e.lsd())&&(y.tplPrevious=me.first),e.mGM(me=e.lsd())&&(y.tplPages=me.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[e.OA$,e.aNF],decls:20,vars:12,consts:()=>{let t,l,y,$,me,at,Dt,Wt;return t=$localize`:@@ngb.pagination.first:««`,l=$localize`:@@ngb.pagination.previous:«`,y=$localize`:@@ngb.pagination.next:»`,$=$localize`:@@ngb.pagination.last:»»`,me=$localize`:@@ngb.pagination.first-aria:First`,at=$localize`:@@ngb.pagination.previous-aria:Previous`,Dt=$localize`:@@ngb.pagination.next-aria:Next`,Wt=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],t,l,y,$,[1,"page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],[1,"page-item",3,"active","disabled"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",me,"href","",1,"page-link",3,"click"],["aria-label",at,"href","",1,"page-link",3,"click"],["aria-label",Dt,"href","",1,"page-link",3,"click"],["aria-label",Wt,"href","",1,"page-link",3,"click"]]},template:function(l,y){if(1&l&&(e.DNE(0,Gt,2,0,"ng-template",null,0,e.C5r)(2,Ot,2,0,"ng-template",null,1,e.C5r)(4,fn,2,0,"ng-template",null,2,e.C5r)(6,Yn,2,0,"ng-template",null,3,e.C5r)(8,Bi,1,0,"ng-template",null,4,e.C5r)(10,Zn,1,1,"ng-template",null,5,e.C5r)(12,ao,2,0,"ng-template",null,6,e.C5r),e.j41(14,"ul"),e.DNE(15,vr,3,9,"li",11)(16,Io,3,8,"li",11)(17,hr,0,0,"ng-template",12)(18,Ss,3,9,"li",11)(19,Mr,3,9,"li",11),e.k0s()),2&l){const $=e.sdS(13);e.R7$(14),e.HbH("pagination"+(y.size?" pagination-"+y.size:"")),e.R7$(),e.vxM(y.boundaryLinks?15:-1),e.R7$(),e.vxM(y.directionLinks?16:-1),e.R7$(),e.Y8G("ngTemplateOutlet",(null==y.tplPages?null:y.tplPages.templateRef)||$)("ngTemplateOutletContext",e.sMw(8,pe,y.page,y.pages,y.disabled)),e.R7$(),e.vxM(y.directionLinks?18:-1),e.R7$(),e.vxM(y.boundaryLinks?19:-1)}},dependencies:[It.T3],encapsulation:2,changeDetection:0})}return n})(),Va=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})();const fa={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};function Cc(n,T,t,l,y,$=0,me=0){const at=function Fc(n){const T=(n||"").trim();if(0===T.length)return[];const t=T.split(/\s+/).map(y=>y.split(":")).map(y=>fa[y[0]]||y),l=t.filter(y=>y.includes("manual"));if(l.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===l.length&&t.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return l.length?[]:t}(T);if(0===at.length)return()=>{};const Dt=new Set,Wt=[];let en;function Kn(Qn,cr){n.addEventListener(Qn,cr),Wt.push(()=>n.removeEventListener(Qn,cr))}function Ln(Qn,cr){clearTimeout(en),cr>0?en=setTimeout(Qn,cr):Qn()}for(const[Qn,cr]of at)cr?(Kn(Qn,()=>{Dt.add(Qn),Ln(()=>Dt.size>0&&l(),$)}),Kn(cr,()=>{Dt.delete(Qn),Ln(()=>0===Dt.size&&y(),me)})):Kn(Qn,()=>t()?Ln(y,me):Ln(l,$));return()=>Wt.forEach(Qn=>Qn())}let Lc=(()=>{class n{constructor(){this._ngbConfig=(0,e.WQX)(Fs),this.autoClose=!0,this.placement="auto",this.popperOptions=t=>t,this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bc=0,Uc=(()=>{class n{isTitleTemplate(){return this.title instanceof e.C4Q}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(l,y){2&l&&(e.Mr5("id",y.id),e.HbH("popover"+(y.popoverClass?" "+y.popoverClass:"")),e.AVh("fade",y.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context"},standalone:!0,features:[e.aNF],ngContentSelectors:ln,decls:4,vars:1,consts:[["simpleTitle",""],["data-popper-arrow","",1,"popover-arrow"],[1,"popover-header"],[1,"popover-body"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(l,y){1&l&&(e.NAR(),e.nrm(0,"div",1),e.DNE(1,io,4,2,"h3",2),e.j41(2,"div",3),e.SdG(3),e.k0s()),2&l&&(e.R7$(),e.vxM(y.title?1:-1))},dependencies:[It.T3],encapsulation:2,changeDetection:0})}return n})(),Vc=(()=>{class n{constructor(){this._config=(0,e.WQX)(Lc),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disablePopover=this._config.disablePopover,this.popoverClass=this._config.popoverClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new e.bkB,this.hidden=new e.bkB,this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._ngZone=(0,e.WQX)(e.SKi),this._document=(0,e.WQX)(It.qQ),this._changeDetector=(0,e.WQX)(e.gRc),this._ngbPopoverWindowId="ngb-popover-"+Bc++,this._popupService=new bn(Uc),this._windowRef=null,this._positioning=Ue()}open(t){if(!this._windowRef&&!this._isDisabled()){const{windowRef:l,transition$:y}=this._popupService.open(this.ngbPopover,t??this.popoverContext,this.animation);this._windowRef=l,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("title",this.popoverTitle),this._windowRef.setInput("context",t??this.popoverContext),this._windowRef.setInput("popoverClass",this.popoverClass),this._windowRef.setInput("id",this._ngbPopoverWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,baseClass:"bs-popover",updatePopperOptions:$=>this.popperOptions(Ai([0,8])($))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),To(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),y.subscribe(()=>this.shown.emit())}}close(t=this.animation){this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=Cc(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:t,popoverTitle:l,disablePopover:y,popoverClass:$}){$&&this.isOpen()&&this._windowRef.setInput("popoverClass",$.currentValue),(t||l||y)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_isDisabled(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}_getPositionTargetElement(){return(Sn(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",popoverContext:"popoverContext",openDelay:"openDelay",closeDelay:"closeDelay"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],standalone:!0,features:[e.OA$]})}return n})(),w=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})(),F=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})(),ae=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),we=(()=>{class n{constructor(){this.contexts=[],this._config=(0,e.WQX)(ae),this._changeDetectorRef=(0,e.WQX)(e.gRc),this.disabled=!1,this.max=this._config.max,this.readonly=this._config.readonly,this.resettable=this._config.resettable,this.tabindex=this._config.tabindex,this.hover=new e.bkB,this.leave=new e.bkB,this.rateChange=new e.bkB(!0),this.onChange=t=>{},this.onTouched=()=>{}}ariaValueText(t,l){return`${t} out of ${l}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.key){case"ArrowDown":case"ArrowLeft":this.update(this.rate-1);break;case"ArrowUp":case"ArrowRight":this.update(this.rate+1);break;case"Home":this.update(0);break;case"End":this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,l=!0){const y=Yt(t,this.max,0);this.isInteractive()&&this.rate!==y&&(this.rate=y,this.rateChange.emit(this.rate)),l&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((l,y)=>l.fill=Math.round(100*Yt(t-y,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,l)=>({fill:0,index:l}))}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["ngb-rating"]],contentQueries:function(l,y,$){if(1&l&&e.wni($,e.C4Q,5),2&l){let me;e.mGM(me=e.lsd())&&(y.starTemplateFromContent=me.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:6,hostBindings:function(l,y){1&l&&e.bIt("blur",function(){return y.handleBlur()})("keydown",function(me){return y.handleKeyDown(me)})("mouseleave",function(){return y.reset()}),2&l&&(e.Mr5("tabindex",y.disabled?-1:y.tabindex),e.BMQ("aria-valuemax",y.max)("aria-valuenow",y.nextRate)("aria-valuetext",y.ariaValueText(y.nextRate,y.max))("aria-readonly",!(!y.readonly||y.disabled)||null)("aria-disabled",!!y.disabled||null))},inputs:{disabled:"disabled",max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[e.Jv_([{provide:Bt.kq,useExisting:(0,e.Rfq)(()=>n),multi:!0}]),e.OA$,e.aNF],decls:4,vars:0,consts:[["t",""],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(l,y){1&l&&(e.DNE(0,ss,1,1,"ng-template",null,0,e.C5r),e.Z7z(2,po,4,5,null,null,e.fX1)),2&l&&(e.R7$(2),e.Dyx(y.contexts))},dependencies:[It.T3],encapsulation:2,changeDetection:0})}return n})(),Ce=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})(),rr=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})(),ja=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})(),ac=(()=>{class n{constructor(){this._ngbConfig=(0,e.WQX)(Fs),this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Tc=(n,T)=>{const{classList:t}=n;if(T)return t.add("fade"),ri(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},Dc=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let di=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0})}return n})(),Di=(()=>{class n{constructor(t){this.ariaLive=t,this._config=(0,e.WQX)(ac),this._zone=(0,e.WQX)(e.SKi),this._element=(0,e.WQX)(e.aKT),this.animation=this._config.animation,this.delay=this._config.delay,this.autohide=this._config.autohide,this.contentHeaderTpl=null,this.shown=new e.bkB,this.hidden=new e.bkB,this.ariaLive??=this._config.ariaLive}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,ue.s)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=ar(this._zone,this._element.nativeElement,Dc,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=ar(this._zone,this._element.nativeElement,Tc,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static#e=this.\u0275fac=function(l){return new(l||n)(e.kS0("aria-live"))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["ngb-toast"]],contentQueries:function(l,y,$){if(1&l&&e.wni($,di,7,e.C4Q),2&l){let me;e.mGM(me=e.lsd())&&(y.contentHeaderTpl=me.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(l,y){2&l&&(e.BMQ("aria-live",y.ariaLive),e.AVh("fade",y.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:ln,decls:5,vars:1,consts:()=>{let t;return t=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[1,"toast-header"],[1,"toast-body"],[1,"me-auto"],[3,"ngTemplateOutlet"],["type","button","aria-label",t,1,"btn-close",3,"click"]]},template:function(l,y){1&l&&(e.NAR(),e.DNE(0,Rr,2,1,"ng-template",null,0,e.C5r)(2,Cs,3,1,"div",1),e.j41(3,"div",2),e.SdG(4),e.k0s()),2&l&&(e.R7$(2),e.vxM(y.contentHeaderTpl||y.header?2:-1))},dependencies:[It.T3],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2})}return n})(),Pi=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})(),xr=(()=>{class n{constructor(){this._ngbConfig=(0,e.WQX)(Fs),this.autoClose=!0,this.placement="auto",this.popperOptions=t=>t,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ho=0,ga=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(l,y){2&l&&(e.Mr5("id",y.id),e.HbH("tooltip"+(y.tooltipClass?" "+y.tooltipClass:"")),e.AVh("fade",y.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[e.aNF],ngContentSelectors:ln,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(l,y){1&l&&(e.NAR(),e.nrm(0,"div",0),e.j41(1,"div",1),e.SdG(2),e.k0s())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}return n})(),Wo=(()=>{class n{constructor(){this._config=(0,e.WQX)(xr),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disableTooltip=this._config.disableTooltip,this.tooltipClass=this._config.tooltipClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new e.bkB,this.hidden=new e.bkB,this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._ngZone=(0,e.WQX)(e.SKi),this._document=(0,e.WQX)(It.qQ),this._changeDetector=(0,e.WQX)(e.gRc),this._ngbTooltipWindowId="ngb-tooltip-"+ho++,this._popupService=new bn(ga),this._windowRef=null,this._positioning=Ue()}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:l,transition$:y}=this._popupService.open(this._ngbTooltip,t??this.tooltipContext,this.animation);this._windowRef=l,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,baseClass:"bs-tooltip",updatePopperOptions:$=>this.popperOptions(Ai([0,6])($))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),To(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._nativeElement]),y.subscribe(()=>this.shown.emit())}}close(t=this.animation){null!=this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=Cc(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&this._windowRef.setInput("tooltipClass",t.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(Sn(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[e.OA$]})}return n})(),Ta=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})();new e.nKC("live announcer delay",{providedIn:"root",factory:()=>100});let Xc=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})(),Qc=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({})}return n})();const ou=[Aa,Oo,Lt,Xt,xe,Wi,jr,_o,Qc,Va,w,F,Ce,rr,ja,Pi,Ta,Xc];let au=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({imports:[ou,Aa,Oo,Lt,Xt,xe,Wi,jr,_o,Qc,Va,w,F,Ce,rr,ja,Pi,Ta,Xc]})}return n})()},9640:(_n,We,p)=>{"use strict";p.d(We,{A5:()=>Pe,SS:()=>It,Zz:()=>Tt,N_:()=>tn,Bh:()=>rn,QU:()=>pn,sA:()=>on,h1:()=>_i,il:()=>gn,ae:()=>de,md:()=>Oe,wc:()=>vt,q6:()=>gt,VP:()=>te,UX:()=>ys,vy:()=>je,Mz:()=>Wr,Lg:()=>si,on:()=>Re,xk:()=>ue,Lt:()=>Cr});var e=p(3953),f=p(4412),d=p(1985),G=p(1413),H=p(7242),b=p(941),D=p(3993),x=p(2816),k=p(6354),X=p(3294),se=p(9079);const q={};function te(ee,Ae){if(q[ee]=(q[ee]||0)+1,"function"==typeof Ae)return Ee(ee,(...Be)=>({...Ae(...Be),type:ee}));switch(Ae?Ae._as:"empty"){case"empty":return Ee(ee,()=>({type:ee}));case"props":return Ee(ee,Be=>({...Be,type:ee}));default:throw new Error("Unexpected config.")}}function ue(){return{_as:"props",_p:void 0}}function Ee(ee,Ae){return Object.defineProperty(Ae,"type",{value:ee,writable:!1})}const Tt="@ngrx/store/init";let It=(()=>{class ee extends f.t{constructor(){super({type:Tt})}next(Ke){if("function"==typeof Ke)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Ke>"u")throw new TypeError("Actions must be objects");if(typeof Ke.type>"u")throw new TypeError("Actions must have a type property");super.next(Ke)}complete(){}ngOnDestroy(){super.complete()}static#e=this.\u0275fac=function(Be){return new(Be||ee)};static#t=this.\u0275prov=e.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const Bt=[It],wt=new e.nKC("@ngrx/store Internal Root Guard"),mn=new e.nKC("@ngrx/store Internal Initial State"),tn=new e.nKC("@ngrx/store Initial State"),Pn=new e.nKC("@ngrx/store Reducer Factory"),On=new e.nKC("@ngrx/store Internal Reducer Factory Provider"),Tn=new e.nKC("@ngrx/store Initial Reducers"),Cn=new e.nKC("@ngrx/store Internal Initial Reducers"),nn=new e.nKC("@ngrx/store Store Features"),tt=new e.nKC("@ngrx/store Internal Store Reducers"),bt=new e.nKC("@ngrx/store Internal Feature Reducers"),Rt=new e.nKC("@ngrx/store Internal Feature Configs"),xt=new e.nKC("@ngrx/store Internal Store Features"),Jt=new e.nKC("@ngrx/store Internal Feature Reducers Token"),$t=new e.nKC("@ngrx/store Feature Reducers"),Bn=new e.nKC("@ngrx/store User Provided Meta Reducers"),Hn=new e.nKC("@ngrx/store Meta Reducers"),Le=new e.nKC("@ngrx/store Internal Resolved Meta Reducers"),B=new e.nKC("@ngrx/store User Runtime Checks Config"),J=new e.nKC("@ngrx/store Internal User Runtime Checks Config"),Pe=new e.nKC("@ngrx/store Internal Runtime Checks"),$e=new e.nKC("@ngrx/store Check if Action types are unique");function un(ee,Ae={}){const Ke=Object.keys(ee),Be={};for(let Ct=0;Ct<Ke.length;Ct++){const ln=Ke[Ct];"function"==typeof ee[ln]&&(Be[ln]=ee[ln])}const Mt=Object.keys(Be);return function(ln,Xn){ln=void 0===ln?Ae:ln;let ui=!1;const Ei={};for(let Ti=0;Ti<Mt.length;Ti++){const zi=Mt[Ti],er=ln[zi],fr=(0,Be[zi])(er,Xn);Ei[zi]=fr,ui=ui||fr!==er}return ui?Ei:ln}}function ti(...ee){return function(Ae){if(0===ee.length)return Ae;const Ke=ee[ee.length-1];return ee.slice(0,-1).reduceRight((Mt,Ct)=>Ct(Mt),Ke(Ae))}}function ii(ee,Ae){return Array.isArray(Ae)&&Ae.length>0&&(ee=ti.apply(null,[...Ae,ee])),(Ke,Be)=>{const Mt=ee(Ke);return(Ct,ln)=>Mt(Ct=void 0===Ct?Be:Ct,ln)}}new e.nKC("@ngrx/store Root Store Provider"),new e.nKC("@ngrx/store Feature State Provider");class pn extends d.c{}class rn extends It{}const gt="@ngrx/store/update-reducers";let dt=(()=>{class ee extends f.t{get currentReducers(){return this.reducers}constructor(Ke,Be,Mt,Ct){super(Ct(Mt,Be)),this.dispatcher=Ke,this.initialState=Be,this.reducers=Mt,this.reducerFactory=Ct}addFeature(Ke){this.addFeatures([Ke])}addFeatures(Ke){const Be=Ke.reduce((Mt,{reducers:Ct,reducerFactory:ln,metaReducers:Xn,initialState:ui,key:Ei})=>{const Ti="function"==typeof Ct?function gi(ee){const Ae=Array.isArray(ee)&&ee.length>0?ti(...ee):Ke=>Ke;return(Ke,Be)=>(Ke=Ae(Ke),(Mt,Ct)=>Ke(Mt=void 0===Mt?Be:Mt,Ct))}(Xn)(Ct,ui):ii(ln,Xn)(Ct,ui);return Mt[Ei]=Ti,Mt},{});this.addReducers(Be)}removeFeature(Ke){this.removeFeatures([Ke])}removeFeatures(Ke){this.removeReducers(Ke.map(Be=>Be.key))}addReducer(Ke,Be){this.addReducers({[Ke]:Be})}addReducers(Ke){this.reducers={...this.reducers,...Ke},this.updateReducers(Object.keys(Ke))}removeReducer(Ke){this.removeReducers([Ke])}removeReducers(Ke){Ke.forEach(Be=>{this.reducers=function kn(ee,Ae){return Object.keys(ee).filter(Ke=>Ke!==Ae).reduce((Ke,Be)=>Object.assign(Ke,{[Be]:ee[Be]}),{})}(this.reducers,Be)}),this.updateReducers(Ke)}updateReducers(Ke){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:gt,features:Ke})}ngOnDestroy(){this.complete()}static#e=this.\u0275fac=function(Be){return new(Be||ee)(e.KVO(rn),e.KVO(tn),e.KVO(Tn),e.KVO(Pn))};static#t=this.\u0275prov=e.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const sn=[dt,{provide:pn,useExisting:dt},{provide:rn,useExisting:It}];let on=(()=>{class ee extends G.B{ngOnDestroy(){this.complete()}static#e=this.\u0275fac=(()=>{let Ke;return function(Mt){return(Ke||(Ke=e.xGo(ee)))(Mt||ee)}})();static#t=this.\u0275prov=e.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const hn=[on];class _i extends d.c{}let _e=(()=>{class ee extends f.t{static#e=this.INIT=Tt;constructor(Ke,Be,Mt,Ct){super(Ct);const Ei=Ke.pipe((0,b.Q)(H.T)).pipe((0,D.E)(Be)).pipe((0,x.S)(ki,{state:Ct}));this.stateSubscription=Ei.subscribe(({state:Ti,action:zi})=>{this.next(Ti),Mt.next(zi)}),this.state=(0,se.ot)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#t=this.\u0275fac=function(Be){return new(Be||ee)(e.KVO(It),e.KVO(pn),e.KVO(on),e.KVO(tn))};static#n=this.\u0275prov=e.jDH({token:ee,factory:ee.\u0275fac})}return ee})();function ki(ee={state:void 0},[Ae,Ke]){const{state:Be}=ee;return{state:Ke(Be,Ae),action:Ae}}const ci=[_e,{provide:_i,useExisting:_e}];let gn=(()=>{class ee extends d.c{constructor(Ke,Be,Mt){super(),this.actionsObserver=Be,this.reducerManager=Mt,this.source=Ke,this.state=Ke.state}select(Ke,...Be){return Cr.call(null,Ke,...Be)(this)}selectSignal(Ke,Be){return(0,e.EWP)(()=>Ke(this.state()),Be)}lift(Ke){const Be=new ee(this,this.actionsObserver,this.reducerManager);return Be.operator=Ke,Be}dispatch(Ke){this.actionsObserver.next(Ke)}next(Ke){this.actionsObserver.next(Ke)}error(Ke){this.actionsObserver.error(Ke)}complete(){this.actionsObserver.complete()}addReducer(Ke,Be){this.reducerManager.addReducer(Ke,Be)}removeReducer(Ke){this.reducerManager.removeReducer(Ke)}static#e=this.\u0275fac=function(Be){return new(Be||ee)(e.KVO(_i),e.KVO(It),e.KVO(dt))};static#t=this.\u0275prov=e.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const cs=[gn];function Cr(ee,Ae,...Ke){return function(Mt){let Ct;if("string"==typeof ee){const ln=[Ae,...Ke].filter(Boolean);Ct=Mt.pipe(function j(...ee){const Ae=ee.length;if(0===Ae)throw new Error("list of properties cannot be empty.");return(0,k.T)(Ke=>{let Be=Ke;for(let Mt=0;Mt<Ae;Mt++){const Ct=Be?.[ee[Mt]];if(!(typeof Ct<"u"))return;Be=Ct}return Be})}(ee,...ln))}else{if("function"!=typeof ee)throw new TypeError(`Unexpected type '${typeof ee}' in select operator, expected 'string' or 'function'`);Ct=Mt.pipe((0,k.T)(ln=>ee(ln,Ae)))}return Ct.pipe((0,X.F)())}}const wr="https://ngrx.io/guide/store/configuration/runtime-checks";function Ht(ee){return void 0===ee}function Ut(ee){return null===ee}function re(ee){return Array.isArray(ee)}function pt(ee){return"object"==typeof ee&&null!==ee}function Un(ee){return"function"==typeof ee}let dn=!1;function si(){return dn}function Vi(ee,Ae){return ee===Ae}function oi(ee,Ae=Vi,Ke=Vi){let Ct,Be=null,Mt=null;return{memoized:function Ei(){if(void 0!==Ct)return Ct.result;if(!Be)return Mt=ee.apply(null,arguments),Be=arguments,Mt;if(!function Ar(ee,Ae,Ke){for(let Be=0;Be<ee.length;Be++)if(!Ke(ee[Be],Ae[Be]))return!0;return!1}(arguments,Be,Ae))return Mt;const Ti=ee.apply(null,arguments);return Be=arguments,Ke(Mt,Ti)?Mt:(Mt=Ti,Ti)},reset:function ln(){Be=null,Mt=null},setResult:function Xn(Ti=void 0){Ct={result:Ti}},clearResult:function ui(){Ct=void 0}}}function Wr(...ee){return function Zr(ee,Ae={stateFn:us}){return function(...Ke){let Be=Ke;if(Array.isArray(Be[0])){const[Ti,...zi]=Be;Be=[...Ti,...zi]}else 1===Be.length&&function hs(ee){return!!ee&&"object"==typeof ee&&Object.values(ee).every(Ae=>"function"==typeof Ae)}(Be[0])&&(Be=function Hs(ee){const Ae=Object.values(ee),Ke=Object.keys(ee);return[...Ae,(...Mt)=>Ke.reduce((Ct,ln,Xn)=>({...Ct,[ln]:Mt[Xn]}),{})]}(Be[0]));const Mt=Be.slice(0,Be.length-1),Ct=Be[Be.length-1],ln=Mt.filter(Ti=>Ti.release&&"function"==typeof Ti.release),Xn=ee(function(...Ti){return Ct.apply(null,Ti)}),ui=oi(function(Ti,zi){return Ae.stateFn.apply(null,[Ti,Mt,zi,Xn])});return Object.assign(ui.memoized,{release:function Ei(){ui.reset(),Xn.reset(),ln.forEach(Ti=>Ti.release())},projector:Xn.memoized,setResult:ui.setResult,clearResult:ui.clearResult})}}(oi)(...ee)}function us(ee,Ae,Ke,Be){if(void 0===Ke){const Ct=Ae.map(ln=>ln(ee));return Be.memoized.apply(null,Ct)}const Mt=Ae.map(Ct=>Ct(ee,Ke));return Be.memoized.apply(null,[...Mt,Ke])}function ys(ee){return Wr(Ae=>{const Ke=Ae[ee];return!si()&&(0,e.naY)()&&!(ee in Ae)&&console.warn(`@ngrx/store: The feature name "${ee}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${ee}', ...) or StoreModule.forFeature('${ee}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Ke},Ae=>Ae)}function zn(ee){return ee instanceof e.nKC?(0,e.WQX)(ee):ee}function Ve(ee,Ae){return Ae.map((Ke,Be)=>{if(ee[Be]instanceof e.nKC){const Mt=(0,e.WQX)(ee[Be]);return{key:Ke.key,reducerFactory:Mt.reducerFactory?Mt.reducerFactory:un,metaReducers:Mt.metaReducers?Mt.metaReducers:[],initialState:Mt.initialState}}return Ke})}function et(ee){return ee.map(Ae=>Ae instanceof e.nKC?(0,e.WQX)(Ae):Ae)}function jt(ee){return"function"==typeof ee?ee():ee}function Wn(ee,Ae){return ee.concat(Ae)}function In(){if((0,e.WQX)(gn,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function ai(ee){Object.freeze(ee);const Ae=Un(ee);return Object.getOwnPropertyNames(ee).forEach(Ke=>{if(!Ke.startsWith("\u0275")&&function Qt(ee,Ae){return Object.prototype.hasOwnProperty.call(ee,Ae)}(ee,Ke)&&(!Ae||"caller"!==Ke&&"callee"!==Ke&&"arguments"!==Ke)){const Be=ee[Ke];(pt(Be)||Un(Be))&&!Object.isFrozen(Be)&&ai(Be)}}),ee}function $r(ee,Ae=[]){return(Ht(ee)||Ut(ee))&&0===Ae.length?{path:["root"],value:ee}:Object.keys(ee).reduce((Be,Mt)=>{if(Be)return Be;const Ct=ee[Mt];return function jn(ee){return Un(ee)&&ee.hasOwnProperty("\u0275cmp")}(Ct)?Be:!(Ht(Ct)||Ut(Ct)||function yt(ee){return"number"==typeof ee}(Ct)||function rt(ee){return"boolean"==typeof ee}(Ct)||function Se(ee){return"string"==typeof ee}(Ct)||re(Ct))&&(function Kt(ee){if(!function mt(ee){return pt(ee)&&!re(ee)}(ee))return!1;const Ae=Object.getPrototypeOf(ee);return Ae===Object.prototype||null===Ae}(Ct)?$r(Ct,[...Ae,Mt]):{path:[...Ae,Mt],value:Ct})},!1)}function Kr(ee,Ae){if(!1===ee)return;const Ke=ee.path.join("."),Be=new Error(`Detected unserializable ${Ae} at "${Ke}". ${wr}#strict${Ae}serializability`);throw Be.value=ee.value,Be.unserializablePath=Ke,Be}function Or(ee){return(0,e.naY)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...ee}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function r({strictActionSerializability:ee,strictStateSerializability:Ae}){return Ke=>ee||Ae?function Ii(ee,Ae){return function(Ke,Be){Ae.action(Be)&&Kr($r(Be),"action");const Mt=ee(Ke,Be);return Ae.state()&&Kr($r(Mt),"state"),Mt}}(Ke,{action:Be=>ee&&!u(Be),state:()=>Ae}):Ke}function i({strictActionImmutability:ee,strictStateImmutability:Ae}){return Ke=>ee||Ae?function Oi(ee,Ae){return function(Ke,Be){const Mt=Ae.action(Be)?ai(Be):Be,Ct=ee(Ke,Mt);return Ae.state()?ai(Ct):Ct}}(Ke,{action:Be=>ee&&!u(Be),state:()=>Ae}):Ke}function u(ee){return ee.type.startsWith("@ngrx")}function c({strictActionWithinNgZone:ee}){return Ae=>ee?function es(ee,Ae){return function(Ke,Be){if(Ae.action(Be)&&!e.SKi.isInAngularZone())throw new Error(`Action '${Be.type}' running outside NgZone. ${wr}#strictactionwithinngzone`);return ee(Ke,Be)}}(Ae,{action:Ke=>ee&&!u(Ke)}):Ae}function S(ee){return[{provide:J,useValue:ee},{provide:B,useFactory:W,deps:[J]},{provide:Pe,deps:[B],useFactory:Or},{provide:Hn,multi:!0,deps:[Pe],useFactory:i},{provide:Hn,multi:!0,deps:[Pe],useFactory:r},{provide:Hn,multi:!0,deps:[Pe],useFactory:c}]}function A(){return[{provide:$e,multi:!0,deps:[Pe],useFactory:ne}]}function W(ee){return ee}function ne(ee){if(!ee.strictActionTypeUniqueness)return;const Ae=Object.entries(q).filter(([,Ke])=>Ke>1).map(([Ke])=>Ke);if(Ae.length)throw new Error(`Action types are registered more than once, ${Ae.map(Ke=>`"${Ke}"`).join(", ")}. ${wr}#strictactiontypeuniqueness`)}function he(ee={},Ae={}){return[{provide:wt,useFactory:In},{provide:mn,useValue:Ae.initialState},{provide:tn,useFactory:jt,deps:[mn]},{provide:Cn,useValue:ee},{provide:tt,useExisting:ee instanceof e.nKC?ee:Cn},{provide:Tn,deps:[Cn,[new e.y_5(tt)]],useFactory:zn},{provide:Bn,useValue:Ae.metaReducers?Ae.metaReducers:[]},{provide:Le,deps:[Hn,Bn],useFactory:Wn},{provide:On,useValue:Ae.reducerFactory?Ae.reducerFactory:un},{provide:Pn,deps:[On,Le],useFactory:ii},Bt,sn,hn,ci,cs,S(Ae.runtimeChecks),A()]}function _t(ee,Ae,Ke={}){return[{provide:Rt,multi:!0,useValue:ee instanceof Object?{}:Ke},{provide:nn,multi:!0,useValue:{key:ee instanceof Object?ee.name:ee,reducerFactory:Ke instanceof e.nKC||!Ke.reducerFactory?un:Ke.reducerFactory,metaReducers:Ke instanceof e.nKC||!Ke.metaReducers?[]:Ke.metaReducers,initialState:Ke instanceof e.nKC||!Ke.initialState?void 0:Ke.initialState}},{provide:xt,deps:[Rt,nn],useFactory:Ve},{provide:bt,multi:!0,useValue:ee instanceof Object?ee.reducer:Ae},{provide:Jt,multi:!0,useExisting:Ae instanceof e.nKC?Ae:bt},{provide:$t,multi:!0,deps:[bt,[new e.y_5(Jt)]],useFactory:et},A()]}let vt=(()=>{class ee{constructor(Ke,Be,Mt,Ct,ln,Xn){}static#e=this.\u0275fac=function(Be){return new(Be||ee)(e.KVO(It),e.KVO(pn),e.KVO(on),e.KVO(gn),e.KVO(wt,8),e.KVO($e,8))};static#t=this.\u0275mod=e.$C({type:ee});static#n=this.\u0275inj=e.G2t({})}return ee})(),de=(()=>{class ee{constructor(Ke,Be,Mt,Ct,ln){this.features=Ke,this.featureReducers=Be,this.reducerManager=Mt;const Xn=Ke.map((ui,Ei)=>{const zi=Be.shift()[Ei];return{...ui,reducers:zi,initialState:jt(ui.initialState)}});Mt.addFeatures(Xn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static#e=this.\u0275fac=function(Be){return new(Be||ee)(e.KVO(xt),e.KVO($t),e.KVO(dt),e.KVO(vt),e.KVO($e,8))};static#t=this.\u0275mod=e.$C({type:ee});static#n=this.\u0275inj=e.G2t({})}return ee})(),Oe=(()=>{class ee{static forRoot(Ke,Be){return{ngModule:vt,providers:[...he(Ke,Be)]}}static forFeature(Ke,Be,Mt={}){return{ngModule:de,providers:[..._t(Ke,Be,Mt)]}}static#e=this.\u0275fac=function(Be){return new(Be||ee)};static#t=this.\u0275mod=e.$C({type:ee});static#n=this.\u0275inj=e.G2t({})}return ee})();function Re(...ee){return{reducer:ee.pop(),types:ee.map(Be=>Be.type)}}function je(ee,...Ae){const Ke=new Map;for(const Be of Ae)for(const Mt of Be.types){const Ct=Ke.get(Mt);Ke.set(Mt,Ct?(Xn,ui)=>Be.reducer(Ct(Xn,ui),ui):Be.reducer)}return function(Be=ee,Mt){const Ct=Ke.get(Mt.type);return Ct?Ct(Be,Mt):Be}}},1244:(_n,We,p)=>{"use strict";p.d(We,{PD:()=>tn,TC:()=>sn,gn:()=>gn,ie:()=>mn});var e=p(467),f=p(3953),d=p(177),G=p(1626),H=p(1413),b=p(7673),D=p(2806),x=p(1033),k=p(8810),j=p(4572),X=p(7786),se=p(5964),q=p(8141),oe=p(152),te=p(5335),ue=p(5558),Ge=p(6354),Ee=p(1594),Fe=p(9437),ye=p(2087),ke=p(6697),Ye=p(1397);class nt{validateSignature(Ut){return Promise.resolve(null)}validateAtHash(Ut){return Promise.resolve(!0)}}class m{}class It{}let Bt=(()=>{class Ht extends It{now(){return Date.now()}new(){return new Date}static#e=this.\u0275fac=(()=>{let re;return function(rt){return(re||(re=f.xGo(Ht)))(rt||Ht)}})();static#t=this.\u0275prov=f.jDH({token:Ht,factory:Ht.\u0275fac})}return Ht})();class mn{}class tn{}let Pn=(()=>{class Ht{constructor(){this.data=new Map}getItem(re){return this.data.get(re)}removeItem(re){this.data.delete(re)}setItem(re,Se){this.data.set(re,Se)}static#e=this.\u0275fac=function(Se){return new(Se||Ht)};static#t=this.\u0275prov=f.jDH({token:Ht,factory:Ht.\u0275fac})}return Ht})();class Tn{constructor(Ut){this.type=Ut}}class Cn extends Tn{constructor(Ut,re=null){super(Ut),this.info=re}}class nn extends Tn{constructor(Ut,re=null){super(Ut),this.info=re}}class tt extends Tn{constructor(Ut,re,Se=null){super(Ut),this.reason=re,this.params=Se}}function bt(Ht){const Ut=Ht.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(Ut).split("").map(function(re){return"%"+("00"+re.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function Rt(Ht){return btoa(Ht).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class xt{constructor(Ut){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=re=>{location.href=re},Ut&&Object.assign(this,Ut)}}class Jt{encodeKey(Ut){return encodeURIComponent(Ut)}encodeValue(Ut){return encodeURIComponent(Ut)}decodeKey(Ut){return decodeURIComponent(Ut)}decodeValue(Ut){return decodeURIComponent(Ut)}}class $t{}let Hn=(()=>{class Ht{getHashFragmentParams(re){let Se=re||window.location.hash;if(Se=decodeURIComponent(Se),0!==Se.indexOf("#"))return{};const rt=Se.indexOf("?");return Se=Se.substr(rt>-1?rt+1:1),this.parseQueryString(Se)}parseQueryString(re){const Se={};let rt,yt,pt,mt,Kt,Un;if(null===re)return Se;const jn=re.split("&");for(let Qt=0;Qt<jn.length;Qt++)rt=jn[Qt],yt=rt.indexOf("="),-1===yt?(pt=rt,mt=null):(pt=rt.substr(0,yt),mt=rt.substr(yt+1)),Kt=decodeURIComponent(pt),Un=decodeURIComponent(mt),"/"===Kt.substr(0,1)&&(Kt=Kt.substr(1)),Se[Kt]=Un;return Se}static#e=this.\u0275fac=function(Se){return new(Se||Ht)};static#t=this.\u0275prov=f.jDH({token:Ht,factory:Ht.\u0275fac})}return Ht})();const J=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Pe(Ht,Ut,re,Se,rt){let yt,pt,mt,Kt,Un,jn,Qt,dn,Mn,si,Vi,Ar,Zi;for(;rt>=64;){for(yt=Ut[0],pt=Ut[1],mt=Ut[2],Kt=Ut[3],Un=Ut[4],jn=Ut[5],Qt=Ut[6],dn=Ut[7],si=0;si<16;si++)Vi=Se+4*si,Ht[si]=(255&re[Vi])<<24|(255&re[Vi+1])<<16|(255&re[Vi+2])<<8|255&re[Vi+3];for(si=16;si<64;si++)Mn=Ht[si-2],Ar=(Mn>>>17|Mn<<15)^(Mn>>>19|Mn<<13)^Mn>>>10,Mn=Ht[si-15],Zi=(Mn>>>7|Mn<<25)^(Mn>>>18|Mn<<14)^Mn>>>3,Ht[si]=(Ar+Ht[si-7]|0)+(Zi+Ht[si-16]|0);for(si=0;si<64;si++)Ar=(((Un>>>6|Un<<26)^(Un>>>11|Un<<21)^(Un>>>25|Un<<7))+(Un&jn^~Un&Qt)|0)+(dn+(J[si]+Ht[si]|0)|0)|0,Zi=((yt>>>2|yt<<30)^(yt>>>13|yt<<19)^(yt>>>22|yt<<10))+(yt&pt^yt&mt^pt&mt)|0,dn=Qt,Qt=jn,jn=Un,Un=Kt+Ar|0,Kt=mt,mt=pt,pt=yt,yt=Ar+Zi|0;Ut[0]+=yt,Ut[1]+=pt,Ut[2]+=mt,Ut[3]+=Kt,Ut[4]+=Un,Ut[5]+=jn,Ut[6]+=Qt,Ut[7]+=dn,Se+=64,rt-=64}return Se}class $e{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let Ut=0;Ut<this.buffer.length;Ut++)this.buffer[Ut]=0;for(let Ut=0;Ut<this.temp.length;Ut++)this.temp[Ut]=0;this.reset()}update(Ut,re=Ut.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let Se=0;if(this.bytesHashed+=re,this.bufferLength>0){for(;this.bufferLength<64&&re>0;)this.buffer[this.bufferLength++]=Ut[Se++],re--;64===this.bufferLength&&(Pe(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(re>=64&&(Se=Pe(this.temp,this.state,Ut,Se,re),re%=64);re>0;)this.buffer[this.bufferLength++]=Ut[Se++],re--;return this}finish(Ut){if(!this.finished){const re=this.bytesHashed,Se=this.bufferLength,rt=re/536870912|0,yt=re<<3,pt=re%64<56?64:128;this.buffer[Se]=128;for(let mt=Se+1;mt<pt-8;mt++)this.buffer[mt]=0;this.buffer[pt-8]=rt>>>24&255,this.buffer[pt-7]=rt>>>16&255,this.buffer[pt-6]=rt>>>8&255,this.buffer[pt-5]=rt>>>0&255,this.buffer[pt-4]=yt>>>24&255,this.buffer[pt-3]=yt>>>16&255,this.buffer[pt-2]=yt>>>8&255,this.buffer[pt-1]=yt>>>0&255,Pe(this.temp,this.state,this.buffer,0,pt),this.finished=!0}for(let re=0;re<8;re++)Ut[4*re+0]=this.state[re]>>>24&255,Ut[4*re+1]=this.state[re]>>>16&255,Ut[4*re+2]=this.state[re]>>>8&255,Ut[4*re+3]=this.state[re]>>>0&255;return this}digest(){const Ut=new Uint8Array(this.digestLength);return this.finish(Ut),Ut}_saveState(Ut){for(let re=0;re<this.state.length;re++)Ut[re]=this.state[re]}_restoreState(Ut,re){for(let Se=0;Se<this.state.length;Se++)this.state[Se]=Ut[Se];this.bytesHashed=re,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);class pn{}let dt=(()=>{class Ht{calcHash(re,Se){return(0,e.A)(function*(){return function gt(Ht){const Ut=[];for(let re=0;re<Ht.length;re++)Ut.push(String.fromCharCode(Ht[re]));return Ut.join("")}(function At(Ht){const Ut=(new $e).update(Ht),re=Ut.digest();return Ut.clean(),re}(function rn(Ht){if("string"!=typeof Ht)throw new TypeError("expected string");const Ut=Ht,re=new Uint8Array(Ut.length);for(let Se=0;Se<Ut.length;Se++)re[Se]=Ut.charCodeAt(Se);return re}(re)))})()}toHashString2(re){let Se="";for(const rt of re)Se+=String.fromCharCode(rt);return Se}toHashString(re){const Se=new Uint8Array(re);let rt="";for(const yt of Se)rt+=String.fromCharCode(yt);return rt}static#e=this.\u0275fac=function(Se){return new(Se||Ht)};static#t=this.\u0275prov=f.jDH({token:Ht,factory:Ht.\u0275fac})}return Ht})(),sn=(()=>{class Ht extends xt{constructor(re,Se,rt,yt,pt,mt,Kt,Un,jn,Qt){super(),this.ngZone=re,this.http=Se,this.config=pt,this.urlHelper=mt,this.logger=Kt,this.crypto=Un,this.dateTimeService=Qt,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new H.B,this.discoveryDocumentLoadedSubject=new H.B,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=jn,pt||(pt={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),yt&&(this.tokenValidationHandler=yt),pt&&this.configure(pt);try{rt?this.setStorage(rt):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(dn){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",dn)}if(this.checkLocalStorageAccessable()){const dn=window?.navigator?.userAgent;(dn?.includes("MSIE ")||dn?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;const re="test";try{return!(typeof window.localStorage>"u"||(localStorage.setItem(re,re),localStorage.removeItem(re),0))}catch{return!1}}configure(re){Object.assign(this,new xt,re),this.config=Object.assign({},new xt,re),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe((0,se.p)(re=>"token_received"===re.type)).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(re={},Se,rt=!0){let yt=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,q.M)(pt=>{"token_received"===pt.type?yt=!0:"logout"===pt.type&&(yt=!1)}),(0,se.p)(pt=>"token_expires"===pt.type&&(null==Se||"any"===Se||pt.info===Se)),(0,oe.B)(1e3)).subscribe(()=>{yt&&this.refreshInternal(re,rt).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(re,Se){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(re,Se):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(re=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(re))}loadDiscoveryDocumentAndLogin(re=null){return this.loadDiscoveryDocumentAndTryLogin(re=re||{}).then(()=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof re.state?re.state:""),!1))}debug(...re){this.showDebugInformation&&this.logger.debug(...re)}validateUrlFromDiscoveryDocument(re){const Se=[],rt=this.validateUrlForHttps(re),yt=this.validateUrlAgainstIssuer(re);return rt||Se.push("https for all urls required. Also for urls received by discovery."),yt||Se.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),Se}validateUrlForHttps(re){if(!re)return!0;const Se=re.toLowerCase();return!(!1!==this.requireHttps&&(!Se.match(/^http:\/\/localhost($|[:/])/)&&!Se.match(/^http:\/\/localhost($|[:/])/)||"remoteOnly"!==this.requireHttps))||Se.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(re,Se){if(!re)throw new Error(`'${Se}' should not be null`);if(!this.validateUrlForHttps(re))throw new Error(`'${Se}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(re){return!this.strictDiscoveryDocumentValidation||!re||re.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){typeof window>"u"?this.debug("timer not supported on this plattform"):((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe((0,se.p)(re=>"token_received"===re.type)).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()}))}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const re=this.getAccessTokenExpiration(),Se=this.getAccessTokenStoredAt(),rt=this.calcTimeout(Se,re);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=(0,b.of)(new nn("token_expires","access_token")).pipe((0,te.c)(rt)).subscribe(yt=>{this.ngZone.run(()=>{this.eventsSubject.next(yt)})})})}setupIdTokenTimer(){const re=this.getIdTokenExpiration(),Se=this.getIdTokenStoredAt(),rt=this.calcTimeout(Se,re);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=(0,b.of)(new nn("token_expires","id_token")).pipe((0,te.c)(rt)).subscribe(yt=>{this.ngZone.run(()=>{this.eventsSubject.next(yt)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(re,Se){const rt=this.dateTimeService.now(),pt=Math.max(0,(Se-re)*this.timeoutFactor-(rt-re)),mt=2147483647;return pt>mt?mt:pt}setStorage(re){this._storage=re,this.configChanged()}loadDiscoveryDocument(re=null){return new Promise((Se,rt)=>{re||((re=this.issuer||"").endsWith("/")||(re+="/"),re+=".well-known/openid-configuration"),this.validateUrlForHttps(re)?this.http.get(re).subscribe(yt=>{if(!this.validateDiscoveryDocument(yt))return this.eventsSubject.next(new tt("discovery_document_validation_error",null)),void rt("discovery_document_validation_error");this.loginUrl=yt.authorization_endpoint,this.logoutUrl=yt.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=yt.grant_types_supported,this.issuer=yt.issuer,this.tokenEndpoint=yt.token_endpoint,this.userinfoEndpoint=yt.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=yt.jwks_uri,this.sessionCheckIFrameUrl=yt.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(yt),this.revocationEndpoint=yt.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(pt=>{const Kt=new Cn("discovery_document_loaded",{discoveryDocument:yt,jwks:pt});this.eventsSubject.next(Kt),Se(Kt)}).catch(pt=>{this.eventsSubject.next(new tt("discovery_document_load_error",pt)),rt(pt)})},yt=>{this.logger.error("error loading discovery document",yt),this.eventsSubject.next(new tt("discovery_document_load_error",yt)),rt(yt)}):rt("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((re,Se)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(rt=>{this.jwks=rt,re(rt)},rt=>{this.logger.error("error loading jwks",rt),this.eventsSubject.next(new tt("jwks_load_error",rt)),Se(rt)}):re(null)})}validateDiscoveryDocument(re){let Se;return this.skipIssuerCheck||re.issuer===this.issuer?(Se=this.validateUrlFromDiscoveryDocument(re.authorization_endpoint),Se.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",Se),!1):(Se=this.validateUrlFromDiscoveryDocument(re.end_session_endpoint),Se.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",Se),!1):(Se=this.validateUrlFromDiscoveryDocument(re.token_endpoint),Se.length>0&&this.logger.error("error validating token_endpoint in discovery document",Se),Se=this.validateUrlFromDiscoveryDocument(re.revocation_endpoint),Se.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",Se),Se=this.validateUrlFromDiscoveryDocument(re.userinfo_endpoint),Se.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",Se),!1):(Se=this.validateUrlFromDiscoveryDocument(re.jwks_uri),Se.length>0?(this.logger.error("error validating jwks_uri in discovery document",Se),!1):(this.sessionChecksEnabled&&!re.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+re.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(re,Se,rt=new G.Lr){return this.fetchTokenUsingPasswordFlow(re,Se,rt).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((re,Se)=>{const rt=(new G.Lr).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:rt,observe:"response",responseType:"text"}).subscribe(yt=>{if(this.debug("userinfo received",JSON.stringify(yt)),yt.headers.get("content-type").startsWith("application/json")){let pt=JSON.parse(yt.body);const mt=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!mt.sub||pt.sub!==mt.sub))return void Se("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");pt=Object.assign({},mt,pt),this._storage.setItem("id_token_claims_obj",JSON.stringify(pt)),this.eventsSubject.next(new Cn("user_profile_loaded")),re({info:pt})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new Cn("user_profile_loaded")),re(JSON.parse(yt.body))},yt=>{this.logger.error("error loading user info",yt),this.eventsSubject.next(new tt("user_profile_load_error",yt)),Se(yt)})})}fetchTokenUsingPasswordFlow(re,Se,rt=new G.Lr){return this.fetchTokenUsingGrant("password",{username:re,password:Se},rt)}fetchTokenUsingGrant(re,Se,rt=new G.Lr){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let yt=new G.Nl({encoder:new Jt}).set("grant_type",re).set("scope",this.scope);if(this.useHttpBasicAuth){const pt=btoa(`${this.clientId}:${this.dummyClientSecret}`);rt=rt.set("Authorization","Basic "+pt)}if(this.useHttpBasicAuth||(yt=yt.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(yt=yt.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const pt of Object.getOwnPropertyNames(this.customQueryParams))yt=yt.set(pt,this.customQueryParams[pt]);for(const pt of Object.keys(Se))yt=yt.set(pt,Se[pt]);return rt=rt.set("Content-Type","application/x-www-form-urlencoded"),new Promise((pt,mt)=>{this.http.post(this.tokenEndpoint,yt,{headers:rt}).subscribe(Kt=>{this.debug("tokenResponse",Kt),this.storeAccessTokenResponse(Kt.access_token,Kt.refresh_token,Kt.expires_in||this.fallbackAccessTokenExpirationTimeInSec,Kt.scope,this.extractRecognizedCustomParameters(Kt)),this.oidc&&Kt.id_token&&this.processIdToken(Kt.id_token,Kt.access_token).then(Un=>{this.storeIdToken(Un),pt(Kt)}),this.eventsSubject.next(new Cn("token_received")),pt(Kt)},Kt=>{this.logger.error("Error performing ${grantType} flow",Kt),this.eventsSubject.next(new tt("token_error",Kt)),mt(Kt)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((re,Se)=>{let rt=new G.Nl({encoder:new Jt}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),yt=(new G.Lr).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const pt=btoa(`${this.clientId}:${this.dummyClientSecret}`);yt=yt.set("Authorization","Basic "+pt)}if(this.useHttpBasicAuth||(rt=rt.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(rt=rt.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const pt of Object.getOwnPropertyNames(this.customQueryParams))rt=rt.set(pt,this.customQueryParams[pt]);this.http.post(this.tokenEndpoint,rt,{headers:yt}).pipe((0,ue.n)(pt=>this.oidc&&pt.id_token?(0,D.H)(this.processIdToken(pt.id_token,pt.access_token,!0)).pipe((0,q.M)(mt=>this.storeIdToken(mt)),(0,Ge.T)(()=>pt)):(0,b.of)(pt))).subscribe(pt=>{this.debug("refresh tokenResponse",pt),this.storeAccessTokenResponse(pt.access_token,pt.refresh_token,pt.expires_in||this.fallbackAccessTokenExpirationTimeInSec,pt.scope,this.extractRecognizedCustomParameters(pt)),this.eventsSubject.next(new Cn("token_received")),this.eventsSubject.next(new Cn("token_refreshed")),re(pt)},pt=>{this.logger.error("Error refreshing token",pt),this.eventsSubject.next(new tt("token_refresh_error",pt)),Se(pt)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=re=>{const Se=this.processMessageEventMessage(re);this.checkOrigin&&re.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:Se,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(rt=>this.debug("tryLogin during silent refresh failed",rt))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(re={},Se=!0){const rt=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(re.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");const yt=this.document.getElementById(this.silentRefreshIFrameName);yt&&this.document.body.removeChild(yt),this.silentRefreshSubject=rt.sub;const pt=this.document.createElement("iframe");pt.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,Se,re).then(Qt=>{pt.setAttribute("src",Qt),this.silentRefreshShowIFrame||(pt.style.display="none"),this.document.body.appendChild(pt)});const Kt=this.events.pipe((0,se.p)(Qt=>Qt instanceof tt),(0,Ee.$)()),Un=this.events.pipe((0,se.p)(Qt=>"token_received"===Qt.type),(0,Ee.$)()),jn=(0,b.of)(new tt("silent_refresh_timeout",null)).pipe((0,te.c)(this.silentRefreshTimeout));return(0,x.O)([Kt,Un,jn]).pipe((0,Ge.T)(Qt=>{if(Qt instanceof tt)throw"silent_refresh_timeout"===Qt.type||(Qt=new tt("silent_refresh_error",Qt)),this.eventsSubject.next(Qt),Qt;return"token_received"===Qt.type&&(Qt=new Cn("silently_refreshed"),this.eventsSubject.next(Qt)),Qt})).toPromise()}initImplicitFlowInPopup(re){return this.initLoginFlowInPopup(re)}initLoginFlowInPopup(re){return re=re||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(Se=>new Promise((rt,yt)=>{let Kt,mt=null;re.windowRef?re.windowRef&&!re.windowRef.closed&&(mt=re.windowRef,mt.location.href=Se):mt=window.open(Se,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(re));const Un=si=>{this.tryLogin({customHashFragment:si,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{Qt(),rt(!0)},Vi=>{Qt(),yt(Vi)})};mt?Kt=window.setInterval(()=>{(!mt||mt.closed)&&(Qt(),yt(new tt("popup_closed",{})))},500):yt(new tt("popup_blocked",{}));const Qt=()=>{window.clearInterval(Kt),window.removeEventListener("storage",Mn),window.removeEventListener("message",dn),null!==mt&&mt.close(),mt=null},dn=si=>{const Vi=this.processMessageEventMessage(si);Vi&&null!==Vi?(window.removeEventListener("storage",Mn),Un(Vi)):console.log("false event firing")},Mn=si=>{"auth_hash"===si.key&&(window.removeEventListener("message",dn),Un(si.newValue))};window.addEventListener("message",dn),window.addEventListener("storage",Mn)}))}calculatePopupFeatures(re){const Se=re.height||470,rt=re.width||500,yt=window.screenLeft+(window.outerWidth-rt)/2;return`location=no,toolbar=no,width=${rt},height=${Se},top=${window.screenTop+(window.outerHeight-Se)/2},left=${yt}`}processMessageEventMessage(re){let Se="#";if(this.silentRefreshMessagePrefix&&(Se+=this.silentRefreshMessagePrefix),!re||!re.data||"string"!=typeof re.data)return;const rt=re.data;return rt.startsWith(Se)?"#"+rt.substr(Se.length):void 0}canPerformSessionCheck(){return!(!this.sessionChecksEnabled||(this.sessionCheckIFrameUrl?this.getSessionState()?typeof this.document>"u":(console.warn("sessionChecksEnabled is activated but there is no session_state"),1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),1)))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=re=>{const Se=re.origin.toLowerCase(),rt=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),rt.startsWith(Se)){switch(re.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",re)}else this.debug("sessionCheckEventListener","wrong origin",Se,"expected",rt,"event",re)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new nn("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new nn("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new nn("session_terminated")),this.logOut(!0)):this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new nn("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe((0,se.p)(re=>"silently_refreshed"===re.type||"silent_refresh_timeout"===re.type||"silent_refresh_error"===re.type),(0,Ee.$)()).subscribe(re=>{"silently_refreshed"!==re.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new nn("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new nn("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const re=this.document.getElementById(this.sessionCheckIFrameName);re&&this.document.body.removeChild(re);const Se=this.document.createElement("iframe");Se.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),Se.setAttribute("src",this.sessionCheckIFrameUrl),Se.style.display="none",this.document.body.appendChild(Se),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const re=this.document.getElementById(this.sessionCheckIFrameName);re||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const Se=this.getSessionState();Se||this.stopSessionCheckTimer(),re.contentWindow.postMessage(this.clientId+" "+Se,this.issuer)}createLoginUrl(re="",Se="",rt="",yt=!1,pt={}){var mt=this;return(0,e.A)(function*(){const Kt=mt;let Un;Un=rt||mt.redirectUri;const jn=yield mt.createAndSaveNonce();if(re=re?jn+mt.config.nonceStateSeparator+encodeURIComponent(re):jn,!mt.requestAccessToken&&!mt.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");mt.responseType=mt.config.responseType?mt.config.responseType:mt.oidc&&mt.requestAccessToken?"id_token token":mt.oidc&&!mt.requestAccessToken?"id_token":"token";const Qt=Kt.loginUrl.indexOf("?")>-1?"&":"?";let dn=Kt.scope;mt.oidc&&!dn.match(/(^|\s)openid($|\s)/)&&(dn="openid "+dn);let Mn=Kt.loginUrl+Qt+"response_type="+encodeURIComponent(Kt.responseType)+"&client_id="+encodeURIComponent(Kt.clientId)+"&state="+encodeURIComponent(re)+"&redirect_uri="+encodeURIComponent(Un)+"&scope="+encodeURIComponent(dn);if(mt.responseType.includes("code")&&!mt.disablePKCE){const[si,Vi]=yield mt.createChallangeVerifierPairForPKCE();mt.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",Vi):mt._storage.setItem("PKCE_verifier",Vi),Mn+="&code_challenge="+si,Mn+="&code_challenge_method=S256"}Se&&(Mn+="&login_hint="+encodeURIComponent(Se)),Kt.resource&&(Mn+="&resource="+encodeURIComponent(Kt.resource)),Kt.oidc&&(Mn+="&nonce="+encodeURIComponent(jn)),yt&&(Mn+="&prompt=none");for(const si of Object.keys(pt))Mn+="&"+encodeURIComponent(si)+"="+encodeURIComponent(pt[si]);if(mt.customQueryParams)for(const si of Object.getOwnPropertyNames(mt.customQueryParams))Mn+="&"+si+"="+encodeURIComponent(mt.customQueryParams[si]);return Mn})()}initImplicitFlowInternal(re="",Se=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let rt={},yt=null;"string"==typeof Se?yt=Se:"object"==typeof Se&&(rt=Se),this.createLoginUrl(re,yt,null,!1,rt).then(this.config.openUri).catch(pt=>{console.error("Error in initImplicitFlow",pt),this.inImplicitFlow=!1})}initImplicitFlow(re="",Se=""){""!==this.loginUrl?this.initImplicitFlowInternal(re,Se):this.events.pipe((0,se.p)(rt=>"discovery_document_loaded"===rt.type)).subscribe(()=>this.initImplicitFlowInternal(re,Se))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(re){const Se=this;if(re.onTokenReceived){const rt={idClaims:Se.getIdentityClaims(),idToken:Se.getIdToken(),accessToken:Se.getAccessToken(),state:Se.state};re.onTokenReceived(rt)}}storeAccessTokenResponse(re,Se,rt,yt,pt){if(this._storage.setItem("access_token",re),yt&&!Array.isArray(yt)?this._storage.setItem("granted_scopes",JSON.stringify(yt.split(" "))):yt&&Array.isArray(yt)&&this._storage.setItem("granted_scopes",JSON.stringify(yt)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),rt){const mt=1e3*rt,Un=this.dateTimeService.new().getTime()+mt;this._storage.setItem("expires_at",""+Un)}Se&&this._storage.setItem("refresh_token",Se),pt&&pt.forEach((mt,Kt)=>{this._storage.setItem(Kt,mt)})}tryLogin(re=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(re).then(()=>!0):this.tryLoginImplicitFlow(re)}parseQueryString(re){return re&&0!==re.length?("?"===re.charAt(0)&&(re=re.substr(1)),this.urlHelper.parseQueryString(re)):{}}tryLoginCodeFlow(re=null){var Se=this;return(0,e.A)(function*(){const rt=(re=re||{}).customHashFragment?re.customHashFragment.substring(1):window.location.search,yt=Se.getCodePartsFromUrl(rt),pt=yt.code,mt=yt.state,Kt=yt.session_state;if(!re.preventClearHashAfterLogin){const Qt=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,Qt)}const[Un,jn]=Se.parseState(mt);if(Se.state=jn,yt.error){Se.debug("error trying to login"),Se.handleLoginError(re,yt);const Qt=new tt("code_error",{},yt);return Se.eventsSubject.next(Qt),Promise.reject(Qt)}if(!re.disableNonceCheck){if(!Un)return Se.saveRequestedRoute(),Promise.resolve();if(!re.disableOAuth2StateCheck&&!Se.validateNonce(Un)){const dn=new tt("invalid_nonce_in_state",null);return Se.eventsSubject.next(dn),Promise.reject(dn)}}return Se.storeSessionState(Kt),pt&&(yield Se.getTokenFromCode(pt,re),Se.restoreRequestedRoute()),Promise.resolve()})()}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const re=this._storage.getItem("requested_route");re&&history.replaceState(null,"",window.location.origin+re)}getCodePartsFromUrl(re){return re&&0!==re.length?("?"===re.charAt(0)&&(re=re.substr(1)),this.urlHelper.parseQueryString(re)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(re,Se){let rt=new G.Nl({encoder:new Jt}).set("grant_type","authorization_code").set("code",re).set("redirect_uri",Se.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let yt;yt=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),yt?rt=rt.set("code_verifier",yt):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(rt,Se)}fetchAndProcessToken(re,Se){Se=Se||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let rt=(new G.Lr).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const yt=btoa(`${this.clientId}:${this.dummyClientSecret}`);rt=rt.set("Authorization","Basic "+yt)}return this.useHttpBasicAuth||(re=re.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(re=re.set("client_secret",this.dummyClientSecret)),new Promise((yt,pt)=>{if(this.customQueryParams)for(const mt of Object.getOwnPropertyNames(this.customQueryParams))re=re.set(mt,this.customQueryParams[mt]);this.http.post(this.tokenEndpoint,re,{headers:rt}).subscribe(mt=>{this.debug("refresh tokenResponse",mt),this.storeAccessTokenResponse(mt.access_token,mt.refresh_token,mt.expires_in||this.fallbackAccessTokenExpirationTimeInSec,mt.scope,this.extractRecognizedCustomParameters(mt)),this.oidc&&mt.id_token?this.processIdToken(mt.id_token,mt.access_token,Se.disableNonceCheck).then(Kt=>{this.storeIdToken(Kt),this.eventsSubject.next(new Cn("token_received")),this.eventsSubject.next(new Cn("token_refreshed")),yt(mt)}).catch(Kt=>{this.eventsSubject.next(new tt("token_validation_error",Kt)),console.error("Error validating tokens"),console.error(Kt),pt(Kt)}):(this.eventsSubject.next(new Cn("token_received")),this.eventsSubject.next(new Cn("token_refreshed")),yt(mt))},mt=>{console.error("Error getting token",mt),this.eventsSubject.next(new tt("token_refresh_error",mt)),pt(mt)})})}tryLoginImplicitFlow(re=null){let Se;Se=(re=re||{}).customHashFragment?this.urlHelper.getHashFragmentParams(re.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",Se);const rt=Se.state,[yt,pt]=this.parseState(rt);if(this.state=pt,Se.error){this.debug("error trying to login"),this.handleLoginError(re,Se);const Qt=new tt("token_error",{},Se);return this.eventsSubject.next(Qt),Promise.reject(Qt)}const mt=Se.access_token,Kt=Se.id_token,Un=Se.session_state,jn=Se.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!mt||this.requestAccessToken&&!re.disableOAuth2StateCheck&&!rt||this.oidc&&!Kt)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!Un&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!re.disableNonceCheck&&!this.validateNonce(yt)){const dn=new tt("invalid_nonce_in_state",null);return this.eventsSubject.next(dn),Promise.reject(dn)}return this.requestAccessToken&&this.storeAccessTokenResponse(mt,null,Se.expires_in||this.fallbackAccessTokenExpirationTimeInSec,jn),this.oidc?this.processIdToken(Kt,mt,re.disableNonceCheck).then(Qt=>re.validationHandler?re.validationHandler({accessToken:mt,idClaims:Qt.idTokenClaims,idToken:Qt.idToken,state:rt}).then(()=>Qt):Qt).then(Qt=>(this.storeIdToken(Qt),this.storeSessionState(Un),this.clearHashAfterLogin&&!re.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new Cn("token_received")),this.callOnTokenReceivedIfExists(re),this.inImplicitFlow=!1,!0)).catch(Qt=>(this.eventsSubject.next(new tt("token_validation_error",Qt)),this.logger.error("Error validating tokens"),this.logger.error(Qt),Promise.reject(Qt))):(this.eventsSubject.next(new Cn("token_received")),this.clearHashAfterLogin&&!re.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(re),Promise.resolve(!0))}parseState(re){let Se=re,rt="";if(re){const yt=re.indexOf(this.config.nonceStateSeparator);yt>-1&&(Se=re.substr(0,yt),rt=re.substr(yt+this.config.nonceStateSeparator.length))}return[Se,rt]}validateNonce(re){let Se;return Se=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Se===re||(console.error("Validating access_token failed, wrong state/nonce.",Se,re),!1)}storeIdToken(re){this._storage.setItem("id_token",re.idToken),this._storage.setItem("id_token_claims_obj",re.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+re.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(re){this._storage.setItem("session_state",re)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(re,Se){re.onLoginError&&re.onLoginError(Se),this.clearHashAfterLogin&&!re.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(re=6e5){return this.clockSkewInSec||0===this.clockSkewInSec?1e3*this.clockSkewInSec:re}processIdToken(re,Se,rt=!1){const yt=re.split("."),mt=bt(this.padBase64(yt[0])),Kt=JSON.parse(mt),jn=bt(this.padBase64(yt[1])),Qt=JSON.parse(jn);let dn;if(dn=this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(Qt.aud)){if(Qt.aud.every(oi=>oi!==this.clientId)){const oi="Wrong audience: "+Qt.aud.join(",");return this.logger.warn(oi),Promise.reject(oi)}}else if(Qt.aud!==this.clientId){const oi="Wrong audience: "+Qt.aud;return this.logger.warn(oi),Promise.reject(oi)}if(!Qt.sub){const oi="No sub claim in id_token";return this.logger.warn(oi),Promise.reject(oi)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==Qt.sub){const oi=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${Qt.sub}`;return this.logger.warn(oi),Promise.reject(oi)}if(!Qt.iat){const oi="No iat claim in id_token";return this.logger.warn(oi),Promise.reject(oi)}if(!this.skipIssuerCheck&&Qt.iss!==this.issuer){const oi="Wrong issuer: "+Qt.iss;return this.logger.warn(oi),Promise.reject(oi)}if(!rt&&Qt.nonce!==dn){const oi="Wrong nonce: "+Qt.nonce;return this.logger.warn(oi),Promise.reject(oi)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!Qt.at_hash){const oi="An at_hash is needed!";return this.logger.warn(oi),Promise.reject(oi)}const Mn=this.dateTimeService.now(),si=1e3*Qt.iat,Vi=1e3*Qt.exp,Ar=this.getClockSkewInMsec();if(si-Ar>=Mn||Vi+Ar-this.decreaseExpirationBySec<=Mn){const oi="Token has expired";return console.error(oi),console.error({now:Mn,issuedAtMSec:si,expiresAtMSec:Vi}),Promise.reject(oi)}const Zi={accessToken:Se,idToken:re,jwks:this.jwks,idTokenClaims:Qt,idTokenHeader:Kt,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(Zi).then(()=>({idToken:re,idTokenClaims:Qt,idTokenClaimsJson:jn,idTokenHeader:Kt,idTokenHeaderJson:mt,idTokenExpiresAt:Vi})):this.checkAtHash(Zi).then(oi=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!oi){const Wr="Wrong at_hash";return this.logger.warn(Wr),Promise.reject(Wr)}return this.checkSignature(Zi).then(()=>{const us={idToken:re,idTokenClaims:Qt,idTokenClaimsJson:jn,idTokenHeader:Kt,idTokenHeaderJson:mt,idTokenExpiresAt:Vi};return this.disableAtHashCheck?us:this.checkAtHash(Zi).then(Zr=>{if(this.requestAccessToken&&!Zr){const ys="Wrong at_hash";return this.logger.warn(ys),Promise.reject(ys)}return us})})})}getIdentityClaims(){const re=this._storage.getItem("id_token_claims_obj");return re?JSON.parse(re):null}getGrantedScopes(){const re=this._storage.getItem("granted_scopes");return re?JSON.parse(re):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(re){for(;re.length%4!=0;)re+="=";return re}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const re=this._storage.getItem("expires_at"),Se=this.dateTimeService.new();return!(re&&parseInt(re,10)-this.decreaseExpirationBySec<Se.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const re=this._storage.getItem("id_token_expires_at"),Se=this.dateTimeService.new();return!(re&&parseInt(re,10)-this.decreaseExpirationBySec<Se.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(re){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(re)>=0&&null!==this._storage.getItem(re)?JSON.parse(this._storage.getItem(re)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(re={},Se=""){let rt=!1;"boolean"==typeof re&&(rt=re,re={});const yt=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(mt=>this._storage.removeItem(mt)),this.silentRefreshSubject=null,this.eventsSubject.next(new nn("logout")),!this.logoutUrl||rt)return;let pt;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)pt=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(yt)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let mt=new G.Nl({encoder:new Jt});yt&&(mt=mt.set("id_token_hint",yt));const Kt=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";Kt&&(mt=mt.set("post_logout_redirect_uri",Kt),Se&&(mt=mt.set("state",Se)));for(const Un in re)mt=mt.set(Un,re[Un]);pt=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+mt.toString()}this.config.openUri(pt)}createAndSaveNonce(){const re=this;return this.createNonce().then(function(Se){return re.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",Se):re._storage.setItem("nonce",Se),Se})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const re=this.document.getElementById(this.silentRefreshIFrameName);re&&re.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const Se=this.document.getElementById(this.sessionCheckIFrameName);Se&&Se.remove()}createNonce(){return new Promise(re=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const Se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let rt=45,yt="";const pt=typeof self>"u"?null:self.crypto||self.msCrypto;if(pt){let mt=new Uint8Array(rt);pt.getRandomValues(mt),mt.map||(mt.map=Array.prototype.map),mt=mt.map(Kt=>Se.charCodeAt(Kt%66)),yt=String.fromCharCode.apply(null,mt)}else for(;0<rt--;)yt+=Se[66*Math.random()|0];re(Rt(yt))})}checkAtHash(re){var Se=this;return(0,e.A)(function*(){return Se.tokenValidationHandler?Se.tokenValidationHandler.validateAtHash(re):(Se.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})()}checkSignature(re){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(re):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(re="",Se={}){return"code"===this.responseType?this.initCodeFlow(re,Se):this.initImplicitFlow(re,Se)}initCodeFlow(re="",Se={}){""!==this.loginUrl?this.initCodeFlowInternal(re,Se):this.events.pipe((0,se.p)(rt=>"discovery_document_loaded"===rt.type)).subscribe(()=>this.initCodeFlowInternal(re,Se))}initCodeFlowInternal(re="",Se={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let rt={},yt=null;"string"==typeof Se?yt=Se:"object"==typeof Se&&(rt=Se),this.createLoginUrl(re,yt,null,!1,rt).then(this.config.openUri).catch(pt=>{console.error("Error in initAuthorizationCodeFlow"),console.error(pt)})}createChallangeVerifierPairForPKCE(){var re=this;return(0,e.A)(function*(){if(!re.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const Se=yield re.createNonce();return[Rt(yield re.crypto.calcHash(Se,"sha-256")),Se]})()}extractRecognizedCustomParameters(re){const Se=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(rt=>{re[rt]&&Se.set(rt,JSON.stringify(re[rt]))}),Se}revokeTokenAndLogout(re={},Se=!1){const rt=this.revocationEndpoint,yt=this.getAccessToken(),pt=this.getRefreshToken();if(!yt)return Promise.resolve();let mt=new G.Nl({encoder:new Jt}),Kt=(new G.Lr).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const Un=btoa(`${this.clientId}:${this.dummyClientSecret}`);Kt=Kt.set("Authorization","Basic "+Un)}if(this.useHttpBasicAuth||(mt=mt.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(mt=mt.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const Un of Object.getOwnPropertyNames(this.customQueryParams))mt=mt.set(Un,this.customQueryParams[Un]);return new Promise((Un,jn)=>{let Qt,dn;if(yt){const Mn=mt.set("token",yt).set("token_type_hint","access_token");Qt=this.http.post(rt,Mn,{headers:Kt})}else Qt=(0,b.of)(null);if(pt){const Mn=mt.set("token",pt).set("token_type_hint","refresh_token");dn=this.http.post(rt,Mn,{headers:Kt})}else dn=(0,b.of)(null);Se&&(Qt=Qt.pipe((0,Fe.W)(Mn=>0===Mn.status?(0,b.of)(null):(0,k.$)(Mn))),dn=dn.pipe((0,Fe.W)(Mn=>0===Mn.status?(0,b.of)(null):(0,k.$)(Mn)))),(0,j.z)([Qt,dn]).subscribe(Mn=>{this.logOut(re),Un(Mn),this.logger.info("Token successfully revoked")},Mn=>{this.logger.error("Error revoking token",Mn),this.eventsSubject.next(new tt("token_revoke_error",Mn)),jn(Mn)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}static#e=this.\u0275fac=function(Se){return new(Se||Ht)(f.KVO(f.SKi),f.KVO(G.Qq),f.KVO(tn,8),f.KVO($t,8),f.KVO(xt,8),f.KVO(Hn),f.KVO(mn),f.KVO(pn,8),f.KVO(d.qQ),f.KVO(It))};static#t=this.\u0275prov=f.jDH({token:Ht,factory:Ht.\u0275fac})}return Ht})();class on{}class hn{handleError(Ut){return(0,k.$)(Ut)}}let _i=(()=>{class Ht{constructor(re,Se,rt){this.oAuthService=re,this.errorHandler=Se,this.moduleConfig=rt}checkUrl(re){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(re):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(Se=>re.toLowerCase().startsWith(Se.toLowerCase()))}intercept(re,Se){const rt=re.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(rt)?this.moduleConfig.resourceServer.sendAccessToken?(0,X.h)((0,b.of)(this.oAuthService.getAccessToken()).pipe((0,se.p)(pt=>!!pt)),this.oAuthService.events.pipe((0,se.p)(pt=>"token_received"===pt.type),(0,ye.w)(this.oAuthService.waitForTokenInMsec||0),(0,Fe.W)(()=>(0,b.of)(null)),(0,Ge.T)(()=>this.oAuthService.getAccessToken()))).pipe((0,ke.s)(1),(0,Ye.Z)(pt=>{if(pt){const Kt=re.headers.set("Authorization","Bearer "+pt);re=re.clone({headers:Kt})}return Se.handle(re).pipe((0,Fe.W)(mt=>this.errorHandler.handleError(mt)))})):Se.handle(re).pipe((0,Fe.W)(pt=>this.errorHandler.handleError(pt))):Se.handle(re)}static#e=this.\u0275fac=function(Se){return new(Se||Ht)(f.KVO(sn),f.KVO(on),f.KVO(m,8))};static#t=this.\u0275prov=f.jDH({token:Ht,factory:Ht.\u0275fac})}return Ht})();function _e(){return console}function ki(){return typeof sessionStorage<"u"?sessionStorage:new Pn}function ci(Ht=null,Ut=nt){return(0,f.EmA)([sn,Hn,{provide:mn,useFactory:_e},{provide:tn,useFactory:ki},{provide:$t,useClass:Ut},{provide:pn,useClass:dt},{provide:on,useClass:hn},{provide:m,useValue:Ht},{provide:G.a7,useClass:_i,multi:!0},{provide:It,useClass:Bt}])}let gn=(()=>{class Ht{static forRoot(re=null,Se=nt){return{ngModule:Ht,providers:[ci(re,Se)]}}static#e=this.\u0275fac=function(Se){return new(Se||Ht)};static#t=this.\u0275mod=f.$C({type:Ht});static#n=this.\u0275inj=f.G2t({imports:[d.MD]})}return Ht})();new f.nKC("AUTH_CONFIG")},3880:(_n,We,p)=>{"use strict";p.d(We,{Yh:()=>Zr,Id:()=>Hs});var e=p(467),f=p(3953),d=p(1985),G=p(3236),H=p(9974),b=p(4360),D=p(8750),k=p(1807);var X=p(8141),se=p(6354),q=p(3726),oe=p(5558),te=p(7673),ue=p(6977),Ge=p(7786),Ee=p(9172),Fe=p(5335),ye=p(983);function ke(ut,zn=!1){return(0,H.N)((Ve,et)=>{let jt=0;Ve.subscribe((0,b._)(et,Wn=>{const In=ut(Wn,jt++);(In||zn)&&et.next(Wn),!In&&et.complete()}))})}var Ye=p(605),nt=p(536),m=p(6860),Tt=p(8203),It=p(9079),Bt=p(177),wt=p(4085),mn=p(1413),tn=p(6697),Pn=p(980);const Rt="function"==typeof Float32Array;function xt(ut,zn){return 1-3*zn+3*ut}function Jt(ut,zn){return 3*zn-6*ut}function $t(ut){return 3*ut}function Bn(ut,zn,Ve){return((xt(zn,Ve)*ut+Jt(zn,Ve))*ut+$t(zn))*ut}function Hn(ut,zn,Ve){return 3*xt(zn,Ve)*ut*ut+2*Jt(zn,Ve)*ut+$t(zn)}function J(ut){return ut}function Pe(ut,zn,Ve,et){if(!(0<=ut&&ut<=1&&0<=Ve&&Ve<=1))throw new Error("bezier x values must be in [0, 1] range");if(ut===zn&&Ve===et)return J;const jt=Rt?new Float32Array(11):new Array(11);for(let In=0;In<11;++In)jt[In]=Bn(.1*In,ut,Ve);return function(Oi){return 0===Oi?0:1===Oi?1:Bn(function Wn(In){let Oi=0,ai=1;for(;10!==ai&&jt[ai]<=In;++ai)Oi+=.1;--ai;const Kr=Oi+(In-jt[ai])/(jt[ai+1]-jt[ai])*.1,es=Hn(Kr,ut,Ve);return es>=.001?function B(ut,zn,Ve,et){for(let jt=0;jt<4;++jt){const Wn=Hn(zn,Ve,et);if(0===Wn)return zn;zn-=(Bn(zn,Ve,et)-ut)/Wn}return zn}(In,Kr,ut,Ve):0===es?Kr:function Le(ut,zn,Ve,et,jt){let Wn,In,Oi=0;do{In=zn+(Ve-zn)/2,Wn=Bn(In,et,jt)-ut,Wn>0?Ve=In:zn=In}while(Math.abs(Wn)>1e-7&&++Oi<10);return In}(In,Oi,Oi+.1,ut,Ve)}(Oi),zn,et)}}const $e=new f.nKC("SMOOTH_SCROLL_OPTIONS");let At=(()=>{class ut{constructor(){this.document=(0,f.WQX)(Bt.qQ),this.zone=(0,f.WQX)(f.SKi),this._defaultOptions={duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1},...(0,f.WQX)($e,{optional:!0})},this.onGoingScrolls=new Map}get now(){return this.document.defaultView.performance?.now?.bind(this.document.defaultView.performance)||Date.now}scrollElement(Ve,et,jt){Ve.scrollLeft=et,Ve.scrollTop=jt}getElement(Ve,et){return"string"==typeof Ve?(et||this.document).querySelector(Ve):(0,wt.i8)(Ve)}getScrollDestroyerRef(Ve){return this.onGoingScrolls.has(Ve)&&this.onGoingScrolls.get(Ve).next(),this.onGoingScrolls.set(Ve,new mn.B).get(Ve)}step(Ve){return new d.c(et=>{let jt=(this.now()-Ve.startTime)/Ve.duration;jt=jt>1?1:jt;const Wn=Ve.easing(jt);Ve.currentX=Ve.startX+(Ve.x-Ve.startX)*Wn,Ve.currentY=Ve.startY+(Ve.y-Ve.startY)*Wn,this.scrollElement(Ve.scrollable,Ve.currentX,Ve.currentY),requestAnimationFrame(()=>{et.next(),et.complete()})})}isReached(Ve,et){return Ve.currentX===Ve.x&&Ve.currentY===Ve.y&&(et.next(),!0)}scrolling(Ve,et){return this.step(Ve).pipe(ke(()=>!this.isReached(Ve,et)),(0,oe.n)(()=>this.scrolling(Ve,et)))}onScrollReached(Ve,et,jt){jt.complete(),this.onGoingScrolls.delete(Ve),this.zone.run(()=>et())}interrupted(Ve,et){return(0,Ge.h)((0,q.R)(Ve,"wheel",{passive:!0,capture:!0}),(0,q.R)(Ve,"touchmove",{passive:!0,capture:!0}),et).pipe((0,tn.s)(1))}applyScrollToOptions(Ve,et){return et.duration?new Promise(jt=>{this.zone.runOutsideAngular(()=>{const Wn=this.getScrollDestroyerRef(Ve),In={scrollable:Ve,startTime:this.now(),startX:Ve.scrollLeft,startY:Ve.scrollTop,x:null==et.left?Ve.scrollLeft:~~et.left,y:null==et.top?Ve.scrollTop:~~et.top,duration:et.duration,easing:Pe(et.easing.x1,et.easing.y1,et.easing.x2,et.easing.y2)};this.scrolling(In,Wn).pipe((0,ue.Q)(this.interrupted(Ve,Wn)),(0,Pn.j)(()=>this.onScrollReached(Ve,jt,Wn))).subscribe()})}):(this.scrollElement(Ve,et.left,et.top),Promise.resolve())}scrollTo(Ve,et){const jt=this.getElement(Ve),Wn="rtl"===getComputedStyle(jt).direction,In={...this._defaultOptions,...et,left:null==et.left?Wn?et.end:et.start:et.left,right:null==et.right?Wn?et.start:et.end:et.right};return null!=In.bottom&&(In.top=jt.scrollHeight-jt.clientHeight-In.bottom),Wn?(null!=In.left&&(In.right=jt.scrollWidth-jt.clientWidth-In.left),In.left=In.right?-In.right:In.right):null!=In.right&&(In.left=jt.scrollWidth-jt.clientWidth-In.right),this.applyScrollToOptions(jt,In)}scrollToElement(Ve,et,jt={}){const Wn=this.getElement(Ve),In=this.getElement(et,Wn);if(In&&Wn){const Oi=Wn.getBoundingClientRect(),ai=In.getBoundingClientRect(),Ii={...jt,left:ai.left+Wn.scrollLeft-Oi.left+(jt.left||0),top:ai.top+Wn.scrollTop-Oi.top+(jt.top||0)};return this.scrollTo(Wn,Ii)}return Promise.resolve()}static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275prov=f.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();const kn=["scrollbarButton",""];function ti(ut,zn){if(1&ut&&f.nrm(0,"button",5)(1,"button",6),2&ut){const Ve=f.XpG();f.ZvI("ng-scrollbar-button ",Ve.cmp.buttonClass,""),f.R7$(),f.ZvI("ng-scrollbar-button ",Ve.cmp.buttonClass,"")}}function ii(ut,zn){if(1&ut&&f.nrm(0,"button",5)(1,"button",6),2&ut){const Ve=f.XpG();f.ZvI("ng-scrollbar-button ",Ve.cmp.buttonClass,""),f.R7$(),f.ZvI("ng-scrollbar-button ",Ve.cmp.buttonClass,"")}}function pn(ut,zn){1&ut&&f.nrm(0,"scrollbar-y")}function rn(ut,zn){1&ut&&f.nrm(0,"scrollbar-x")}const gt=["contentWrapper"],dt=["*"];let hn=(()=>{class ut{constructor(){this.nativeElement=(0,f.WQX)(f.aKT).nativeElement}static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275dir=f.FsC({type:ut,selectors:[["","scrollViewport",""]],standalone:!0})}return ut})();var _i=function(ut){return ut.AfterInit="AfterInit",ut.Resized="ResizeObserver",ut}(_i||{});const _e=new f.nKC("NG_SCROLLBAR_OPTIONS"),ki=new f.nKC("NG_SCROLLBAR_POLYFILL");function ci({element:ut,contentWrapper:zn,throttleDuration:Ve}){let jt,et=_i.AfterInit;const Wn=new d.c(In=>(jt=new ResizeObserver(()=>{In.next(et),et=_i.Resized}),jt.observe(ut),zn&&jt.observe(zn),()=>{jt?.disconnect()}));return Ve?Wn.pipe(function j(ut,zn=G.E,Ve){const et=(0,k.O)(ut,zn);return function x(ut,zn){return(0,H.N)((Ve,et)=>{const{leading:jt=!0,trailing:Wn=!1}=zn??{};let In=!1,Oi=null,ai=null,Ii=!1;const $r=()=>{ai?.unsubscribe(),ai=null,Wn&&(Or(),Ii&&et.complete())},Kr=()=>{ai=null,Ii&&et.complete()},es=r=>ai=(0,D.Tg)(ut(r)).subscribe((0,b._)(et,$r,Kr)),Or=()=>{if(In){In=!1;const r=Oi;Oi=null,et.next(r),!Ii&&es(r)}};Ve.subscribe((0,b._)(et,r=>{In=!0,Oi=r,(!ai||ai.closed)&&(jt?Or():es(r))},()=>{Ii=!0,(!(Wn&&In&&ai)||ai.closed)&&et.complete()}))})}(()=>et,Ve)}(Ve,null,{leading:!0,trailing:!0})):Wn}function cs(ut){return(0,X.M)(()=>ut.onselectstart=()=>!1)}function Cr(ut){return(0,X.M)(()=>ut.onselectstart=null)}function wr(){return(0,X.M)(ut=>{ut.preventDefault(),ut.stopPropagation()})}var Ht=function(ut){return ut.Viewport="ng-scroll-viewport",ut.Content="ng-scroll-content",ut}(Ht||{});class Ut{constructor(){this.initialized=(0,f.vPA)(!1)}get offsetHeight(){return this.nativeElement.offsetHeight}get offsetWidth(){return this.nativeElement.offsetWidth}get scrollTop(){return this.nativeElement.scrollTop}get scrollLeft(){return this.nativeElement.scrollLeft}get contentHeight(){return this.contentWrapperElement.offsetHeight}get contentWidth(){return this.contentWrapperElement.offsetWidth}get scrollMaxX(){return this.contentWidth-this.offsetWidth}get scrollMaxY(){return this.contentHeight-this.offsetHeight}init(zn,Ve,et){zn.classList.add(Ht.Viewport),this.nativeElement=zn,Ve.classList.add(Ht.Content),et?(et.style.position="relative",this.contentWrapperElement=et):this.contentWrapperElement=Ve,this.initialized.set(!0)}scrollYTo(zn){this.nativeElement.scrollTop=zn}scrollXTo(zn){this.nativeElement.scrollLeft=zn}}const re=new f.nKC("NG_SCROLLBAR"),Se={trackClass:"",thumbClass:"",buttonClass:"",orientation:"auto",appearance:"native",visibility:"native",position:"native",trackScrollDuration:50,sensorThrottleTime:0,disableSensor:!1,disableInteraction:!1,buttons:!1};let rt=(()=>{class ut{constructor(){this.injectedOptions=(0,f.WQX)(_e,{optional:!0}),this.options=this.injectedOptions?{...Se,...this.injectedOptions}:Se,this.zone=(0,f.WQX)(f.SKi),this.platform=(0,f.WQX)(m.OD),this.injector=(0,f.WQX)(f.zZn),this.isMobile=this.platform.IOS||this.platform.ANDROID,this.dir=(0,f.WQX)(Tt.dS),this.smoothScroll=(0,f.WQX)(At),this.nativeElement=(0,f.WQX)(f.aKT).nativeElement,this.dragging=(0,f.vPA)("none"),this.orientation=(0,f.hFB)(this.options.orientation),this.visibility=(0,f.hFB)(this.options.visibility),this.buttons=(0,f.hFB)(this.options.buttons,{transform:f.L39}),this.disableInteraction=(0,f.hFB)(this.options.disableInteraction,{transform:f.L39}),this.disableSensor=(0,f.hFB)(this.options.disableSensor,{transform:f.L39}),this.sensorThrottleTime=(0,f.hFB)(this.options.sensorThrottleTime,{transform:f.Udg}),this.viewportDimension=(0,f.vPA)({contentHeight:0,contentWidth:0,offsetHeight:0,offsetWidth:0}),this.state=(0,f.EWP)(()=>{let Ve=!1,et=!1,jt=!1,Wn=!1;const In=this.orientation(),Oi=this.visibility(),ai=this.viewportDimension();return("auto"===In||"vertical"===In)&&(jt=ai.contentHeight>ai.offsetHeight,Ve="visible"===Oi||jt),("auto"===In||"horizontal"===In)&&(Wn=ai.contentWidth>ai.offsetWidth,et="visible"===Oi||Wn),{verticalUsed:Ve,horizontalUsed:et,isVerticallyScrollable:jt,isHorizontallyScrollable:Wn}}),this.isVerticallyScrollable=(0,f.EWP)(()=>this.state().isVerticallyScrollable),this.isHorizontallyScrollable=(0,f.EWP)(()=>this.state().isHorizontallyScrollable),this.verticalUsed=(0,f.EWP)(()=>this.state().verticalUsed),this.horizontalUsed=(0,f.EWP)(()=>this.state().horizontalUsed),this.trackScrollDuration=this.options.trackScrollDuration,this.appearance=this.options.appearance,this.position=this.options.position,this.trackClass=this.options.trackClass,this.thumbClass=this.options.thumbClass,this.buttonClass=this.options.thumbClass,this.afterInit=new f.bkB,this.afterUpdate=new f.bkB,this.viewport=new Ut}ngOnInit(){(0,f.N4e)(this.injector,()=>{this.direction=(0,It.ot)(this.dir.change.pipe((0,se.T)(()=>this.dir.value)),{initialValue:this.dir.value}),(0,f.QZP)(Ve=>{this.disableSensor()?this.sizeChangeSub?.unsubscribe():this.platform.isBrowser&&this.viewport.initialized()&&(this.sizeChangeSub?.unsubscribe(),this.zone.runOutsideAngular(()=>{this.sizeChangeSub=ci({element:this.viewport.nativeElement,contentWrapper:this.viewport.contentWrapperElement,throttleDuration:this.sensorThrottleTime()}).pipe((0,X.M)(et=>this.update(et))).subscribe()})),Ve(()=>this.sizeChangeSub?.unsubscribe())})})}ngAfterViewInit(){this.platform.isBrowser&&this.disableSensor()&&requestAnimationFrame(()=>{this.update(_i.AfterInit)})}update(Ve){this.updateCSSVariables(),this.zone.run(()=>{this.viewportDimension.set({contentHeight:this.viewport.contentHeight,contentWidth:this.viewport.contentWidth,offsetHeight:this.viewport.offsetHeight,offsetWidth:this.viewport.offsetWidth}),Ve===_i.AfterInit?this.afterInit.emit():this.afterUpdate.emit()})}scrollTo(Ve){return this.smoothScroll.scrollTo(this.viewport.nativeElement,Ve)}scrollToElement(Ve,et){return this.smoothScroll.scrollToElement(this.viewport.nativeElement,Ve,et)}updateCSSVariables(){this.nativeElement.style.setProperty("--content-height",`${this.viewport.contentHeight}`),this.nativeElement.style.setProperty("--content-width",`${this.viewport.contentWidth}`),this.nativeElement.style.setProperty("--viewport-height",`${this.viewport.offsetHeight}`),this.nativeElement.style.setProperty("--viewport-width",`${this.viewport.offsetWidth}`)}static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275dir=f.FsC({type:ut,hostVars:14,hostBindings:function(et,jt){2&et&&(f.BMQ("verticalUsed",jt.verticalUsed())("horizontalUsed",jt.horizontalUsed())("isVerticallyScrollable",jt.isVerticallyScrollable())("isHorizontallyScrollable",jt.isHorizontallyScrollable())("mobile",jt.isMobile)("dir",jt.direction())("position",jt.position)("dragging",jt.dragging())("appearance",jt.appearance)("visibility",jt.visibility())("orientation",jt.orientation())("disableInteraction",jt.disableInteraction()),f.AVh("ng-scrollbar",!0))},inputs:{orientation:[1,"orientation"],visibility:[1,"visibility"],buttons:[1,"buttons"],disableInteraction:[1,"disableInteraction"],disableSensor:[1,"disableSensor"],sensorThrottleTime:[1,"sensorThrottleTime"],trackScrollDuration:[2,"trackScrollDuration","trackScrollDuration",f.Udg],appearance:"appearance",position:"position",trackClass:"trackClass",thumbClass:"thumbClass",buttonClass:"buttonClass"},outputs:{afterInit:"afterInit",afterUpdate:"afterUpdate"},features:[f.Jv_([{provide:re,useExisting:ut}]),f.GFd]})}return ut})(),pt=(()=>{class ut{constructor(){this.isBrowser=(0,Bt.UE)((0,f.WQX)(f.Agw)),this._polyfillUrl=(0,f.WQX)(ki,{optional:!0})||"https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js",this.document=(0,f.WQX)(Bt.qQ),this.window=this.document.defaultView,this.scrollTimelinePolyfill=(0,f.vPA)(null),this.isBrowser&&(!this.window.ScrollTimeline||!CSS.supports("animation-timeline","scroll()"))&&this.initPolyfill()}initPolyfill(){var Ve=this;return(0,e.A)(function*(){try{const et=Ve.document.createElement("script");et.src=Ve._polyfillUrl,yield new Promise((jt,Wn)=>{et.onload=jt,et.onerror=Wn,Ve.document.head.appendChild(et)}),Ve.window.ScrollTimeline?Ve.scrollTimelinePolyfill.set(Ve.window.ScrollTimeline):console.error("[NgScrollbar]: ScrollTimeline is not attached to the window object.")}catch(et){console.error("[NgScrollbar]: Error loading ScrollTimeline script:",et)}})()}static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275prov=f.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();const mt=new f.nKC("SCROLLBAR_CONTROL");let Kt=(()=>{class ut{constructor(){this.cmp=(0,f.WQX)(re)}static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275dir=f.FsC({type:ut})}return ut})(),Un=(()=>{class ut{constructor(){this.cmp=(0,f.WQX)(re),this.control=(0,f.WQX)(mt),this.document=(0,f.WQX)(Bt.qQ),this.zone=(0,f.WQX)(f.SKi),this.nativeElement=(0,f.WQX)(f.aKT).nativeElement,(0,f.QZP)(Ve=>{this.cmp.disableInteraction()?this._pointerEventsSub?.unsubscribe():this.zone.runOutsideAngular(()=>{this._pointerEventsSub=this.pointerEvents.subscribe()}),Ve(()=>this._pointerEventsSub?.unsubscribe())})}static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275dir=f.FsC({type:ut})}return ut})(),jn=(()=>{class ut extends Un{get size(){return this.nativeElement[this.control.sizeProperty]}get trackMax(){return this.track.size-this.size}get pointerEvents(){return(0,q.R)(this.nativeElement,"pointerdown").pipe(wr(),cs(this.document),(0,oe.n)(Ve=>{let et,jt;const Wn=(0,te.of)(Ve).pipe((0,X.M)(()=>{et=this.trackMax,jt=this.control.viewportScrollMax,this.setDragging(this.control.axis)})),In=(0,q.R)(this.document,"pointermove").pipe(wr()),Oi=(0,q.R)(this.document,"pointerup",{capture:!0}).pipe(wr(),Cr(this.document),(0,X.M)(()=>this.setDragging("none")));return Wn.pipe((0,se.T)(ai=>ai[this.control.offsetProperty]),(0,oe.n)(ai=>In.pipe((0,se.T)(Ii=>Ii[this.control.clientProperty]),(0,se.T)(Ii=>Ii-this.track.offset),(0,se.T)(Ii=>jt*(Ii-ai)/et),(0,X.M)(Ii=>this.control.instantScrollTo(Ii,jt)),(0,ue.Q)(Oi))))}))}constructor(){(0,f.QZP)(()=>{const Ve=this.manager.scrollTimelinePolyfill();Ve&&!this._animation&&(this._animation=function Qt(ut,zn,Ve,et){return zn.animate({translate:["var(--_scrollbar-thumb-transform-from)","var(--_scrollbar-thumb-transform-to)"]},{fill:"both",easing:"linear",timeline:new ut({source:Ve,axis:et})})}(Ve,this.nativeElement,this.cmp.viewport.nativeElement,this.control.axis))}),super(),this.manager=(0,f.WQX)(pt),this.track=(0,f.WQX)(dn)}setDragging(Ve){this.zone.run(()=>this.cmp.dragging.set(Ve))}static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275dir=f.FsC({type:ut,features:[f.Vt3]})}return ut})(),dn=(()=>{class ut extends Un{get viewportSize(){return this.cmp.viewport[this.control.sizeProperty]}get clientRect(){return this.nativeElement.getBoundingClientRect()}get offset(){return this.clientRect[this.control.clientRectProperty]}get size(){return this.nativeElement[this.control.sizeProperty]}get pointerEvents(){const Ve=(0,q.R)(this.nativeElement,"pointerdown").pipe(wr(),cs(this.document)),et=(0,q.R)(this.document,"pointerup",{passive:!0}).pipe(Cr(this.document)),jt=(0,q.R)(this.nativeElement,"pointerover",{passive:!0}).pipe((0,X.M)(ai=>this.currMousePosition=ai[this.control.offsetProperty]),(0,se.T)(()=>!0)),Wn=(0,q.R)(this.nativeElement,"pointerout",{passive:!0}).pipe((0,se.T)(()=>!1)),In=(0,Ge.h)(jt,Wn).pipe((0,Ee.Z)(!0)),Oi=(0,q.R)(this.nativeElement,"pointermove",{passive:!0}).pipe((0,X.M)(ai=>this.currMousePosition=ai[this.control.offsetProperty]));return Ve.pipe((0,oe.n)(ai=>(Oi.pipe((0,ue.Q)(et)).subscribe(),this.onTrackFirstClick(ai).pipe((0,Fe.c)(200),(0,oe.n)(()=>In.pipe((0,oe.n)(Ii=>{const $r=this.getScrollDirection(this.currMousePosition);return Ii&&this.scrollDirection===$r?this.onTrackOngoingMousedown():ye.w}))),(0,ue.Q)(et)))))}constructor(){(0,f.QZP)(Ve=>{this.cmp.disableSensor()?(this.update(),this.sizeChangeSub?.unsubscribe()):this.zone.runOutsideAngular(()=>{this.sizeChangeSub=ci({element:this.nativeElement,throttleDuration:this.cmp.sensorThrottleTime()}).pipe((0,X.M)(()=>this.update())).subscribe()}),Ve(()=>this.sizeChangeSub?.unsubscribe())}),super()}update(){this.cmp.nativeElement.style.setProperty(this.cssLengthProperty,`${this.size}`)}onTrackFirstClick(Ve){return this.currMousePosition=Ve[this.control.offsetProperty],this.scrollDirection=this.getScrollDirection(this.currMousePosition),this.scrollMax=this.control.viewportScrollMax,this.scrollTo(this.nextStep())}nextStep(){if("forward"===this.scrollDirection){const et=this.getScrollForwardStep();return et>=this.scrollMax?this.scrollMax:et}const Ve=this.getScrollBackwardStep();return Ve<=0?0:Ve}onTrackOngoingMousedown(){const Ve=this.nextStep();return this.scrollTo(Ve).pipe(ke(()=>!this.isReached(Ve)),(0,oe.n)(()=>this.onTrackOngoingMousedown()))}isReached(Ve){return"forward"===this.scrollDirection?Ve>=this.scrollMax:Ve<=0}static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275dir=f.FsC({type:ut,contentQueries:function(et,jt,Wn){if(1&et&&f.wni(Wn,jn,5),2&et){let In;f.mGM(In=f.lsd())&&(jt.thumb=In.first)}},features:[f.Vt3]})}return ut})(),Mn=(()=>{class ut extends dn{get viewportScrollSize(){return this.cmp.viewport.contentWidth}constructor(){(0,f.QZP)(()=>{"rtl"===this.cmp.direction()?(this.getCurrPosition=()=>(this.viewportScrollSize-this.viewportSize-this.control.viewportScrollOffset)*this.size/this.viewportScrollSize,this.getScrollDirection=Ve=>Ve<this.getCurrPosition()?"forward":"backward"):(this.getCurrPosition=()=>this.control.viewportScrollOffset*this.size/this.viewportScrollSize,this.getScrollDirection=Ve=>Ve>this.getCurrPosition()?"forward":"backward")}),super(),this.cssLengthProperty="--track-x-length"}scrollTo(Ve){return(0,D.Sx)(this.cmp.scrollTo({start:Ve,duration:this.cmp.trackScrollDuration}))}getScrollForwardStep(){return this.control.viewportScrollOffset+this.viewportSize}getScrollBackwardStep(){return this.control.viewportScrollOffset-this.viewportSize}static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275dir=f.FsC({type:ut,selectors:[["","scrollbarTrackX",""]],standalone:!0,features:[f.Jv_([{provide:dn,useExisting:ut}]),f.Vt3]})}return ut})(),si=(()=>{class ut extends dn{constructor(){super(...arguments),this.cssLengthProperty="--track-y-length"}get viewportScrollSize(){return this.cmp.viewport.contentHeight}getCurrPosition(){return this.control.viewportScrollOffset*this.size/this.viewportScrollSize}getScrollDirection(Ve){return Ve>this.getCurrPosition()?"forward":"backward"}scrollTo(Ve){return(0,D.Sx)(this.cmp.scrollTo({top:Ve,duration:this.cmp.trackScrollDuration}))}getScrollForwardStep(){return this.control.viewportScrollOffset+this.viewportSize}getScrollBackwardStep(){return this.control.viewportScrollOffset-this.viewportSize}static#e=this.\u0275fac=(()=>{let Ve;return function(jt){return(Ve||(Ve=f.xGo(ut)))(jt||ut)}})();static#t=this.\u0275dir=f.FsC({type:ut,selectors:[["","scrollbarTrackY",""]],standalone:!0,features:[f.Jv_([{provide:dn,useExisting:ut}]),f.Vt3]})}return ut})(),Vi=(()=>{class ut extends jn{static#e=this.\u0275fac=(()=>{let Ve;return function(jt){return(Ve||(Ve=f.xGo(ut)))(jt||ut)}})();static#t=this.\u0275dir=f.FsC({type:ut,selectors:[["","scrollbarThumbX",""]],standalone:!0,features:[f.Jv_([{provide:jn,useExisting:ut}]),f.Vt3]})}return ut})(),Ar=(()=>{class ut extends jn{static#e=this.\u0275fac=(()=>{let Ve;return function(jt){return(Ve||(Ve=f.xGo(ut)))(jt||ut)}})();static#t=this.\u0275dir=f.FsC({type:ut,selectors:[["","scrollbarThumbY",""]],standalone:!0,features:[f.Jv_([{provide:jn,useExisting:ut}]),f.Vt3]})}return ut})(),Zi=(()=>{class ut extends Un{constructor(){super(...arguments),this.injector=(0,f.WQX)(f.zZn),this.afterFirstClickDelay=120,this.firstClickDuration=100,this.scrollBy=50,this.onGoingScrollBy=12,this.canScrollFunc={forward:(Ve,et)=>Ve<et,backward:Ve=>Ve>0},this.scrollStepFunc={forward:(Ve,et)=>et+Ve,backward:(Ve,et)=>et-Ve},this.horizontalScrollStepFunc={rtl:{forward:(Ve,et,jt)=>jt-et-Ve,backward:(Ve,et,jt)=>jt-et+Ve},ltr:this.scrollStepFunc}}get pointerEvents(){const Ve=(0,q.R)(this.nativeElement,"pointerdown").pipe(wr(),cs(this.document)),et=(0,q.R)(this.document,"pointerup",{passive:!0}).pipe(Cr(this.document)),jt=(0,q.R)(this.nativeElement,"pointerleave",{passive:!0}),Wn=(0,Ge.h)(et,jt);return Ve.pipe((0,oe.n)(()=>this.firstScrollStep().pipe((0,Fe.c)(this.afterFirstClickDelay),(0,oe.n)(()=>this.onOngoingPointerdown()),(0,ue.Q)(Wn))))}ngOnInit(){this.canScroll=this.canScrollFunc[this.scrollDirection],"x"===this.control.axis?(0,f.N4e)(this.injector,()=>{(0,f.QZP)(()=>{const Ve=this.cmp.direction();this.nextStep=this.horizontalScrollStepFunc[Ve][this.scrollDirection]})}):this.nextStep=this.scrollStepFunc[this.scrollDirection]}firstScrollStep(){const Ve=this.nextStep(this.scrollBy,this.control.viewportScrollOffset,this.control.viewportScrollMax);return this.control.scrollTo(Ve,this.firstClickDuration)}onGoingScrollStep(){const Ve=this.control.viewportScrollMax,et=this.nextStep(this.onGoingScrollBy,this.control.viewportScrollOffset,Ve);this.control.instantScrollTo(et,Ve)}onOngoingPointerdown(){return(0,Ye.Y)(0,nt.X).pipe(ke(()=>this.canScroll(this.control.viewportScrollOffset,this.control.viewportScrollMax)),(0,X.M)(()=>this.onGoingScrollStep()))}static#e=this.\u0275fac=(()=>{let Ve;return function(jt){return(Ve||(Ve=f.xGo(ut)))(jt||ut)}})();static#t=this.\u0275cmp=f.VBU({type:ut,selectors:[["button","scrollbarButton",""]],inputs:{scrollbarButton:"scrollbarButton",scrollDirection:"scrollDirection"},standalone:!0,features:[f.Vt3,f.aNF],attrs:kn,decls:3,vars:0,consts:[[1,"ng-scrollbar-button-icon"],["viewBox","0 0 512 512","xmlns","http://www.w3.org/2000/svg"],["d","M413.1,327.3l-1.8-2.1l-136-156.5c-4.6-5.3-11.5-8.6-19.2-8.6c-7.7,0-14.6,3.4-19.2,8.6L101,324.9l-2.3,2.6  C97,330,96,333,96,336.2c0,8.7,7.4,15.8,16.6,15.8v0h286.8v0c9.2,0,16.6-7.1,16.6-15.8C416,332.9,414.9,329.8,413.1,327.3z"]],template:function(et,jt){1&et&&(f.j41(0,"div",0),f.qSk(),f.j41(1,"svg",1),f.nrm(2,"path",2),f.k0s()())},styles:["[_nghost-%COMP%]{--scrollbar-button-size: 20px;position:relative;border:none;margin:0;padding:0;border-radius:0;appearance:none;background-color:var(--scrollbar-button-color)}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--scrollbar-button-fill)}[_nghost-%COMP%]:hover{background:var(--scrollbar-button-hover-color)}[_nghost-%COMP%]:hover   svg[_ngcontent-%COMP%]{fill:var(--scrollbar-button-hover-fill)}[_nghost-%COMP%]:active{background:var(--scrollbar-button-active-color)}[_nghost-%COMP%]:active   svg[_ngcontent-%COMP%]{fill:var(--scrollbar-button-active-fill)}[scrollbarButton=top][_nghost-%COMP%], [scrollbarButton=start][_nghost-%COMP%]{order:1}[scrollbarButton=bottom][_nghost-%COMP%], [scrollbarButton=end][_nghost-%COMP%]{order:3}[scrollbarButton=top][_nghost-%COMP%], [scrollbarButton=bottom][_nghost-%COMP%]{width:100%;height:var(--scrollbar-button-size)}[scrollbarButton=start][_nghost-%COMP%], [scrollbarButton=end][_nghost-%COMP%]{width:var(--scrollbar-button-size);height:100%}[scrollbarButton=bottom][_nghost-%COMP%]{--_button-rotate: 180deg}[scrollbarButton=start][_nghost-%COMP%]{--_button-rotate: -90deg}[scrollbarButton=start][_nghost-%COMP%]   .ng-scrollbar-button-icon[_ngcontent-%COMP%]{writing-mode:vertical-lr}[scrollbarButton=end][_nghost-%COMP%]{--_button-rotate: 90deg}[scrollbarButton=end][_nghost-%COMP%]   .ng-scrollbar-button-icon[_ngcontent-%COMP%]{writing-mode:vertical-rl}.ng-scrollbar-button-icon[_ngcontent-%COMP%]{rotate:var(--_button-rotate);display:flex;place-content:center;place-items:center;width:100%;height:100%}"],changeDetection:0})}return ut})(),oi=(()=>{class ut extends Kt{constructor(){super(...arguments),this.clientRectProperty="top",this.sizeProperty="offsetHeight",this.clientProperty="clientY",this.offsetProperty="offsetY",this.axis="y"}get viewportScrollMax(){return this.cmp.viewport.scrollMaxY}get viewportScrollOffset(){return this.cmp.viewport.scrollTop}scrollTo(Ve,et){return(0,D.Sx)(this.cmp.scrollTo({top:Ve,duration:et}))}instantScrollTo(Ve){this.cmp.viewport.scrollYTo(Ve)}static#e=this.\u0275fac=(()=>{let Ve;return function(jt){return(Ve||(Ve=f.xGo(ut)))(jt||ut)}})();static#t=this.\u0275cmp=f.VBU({type:ut,selectors:[["scrollbar-y"]],standalone:!0,features:[f.Jv_([{provide:mt,useExisting:ut}]),f.Vt3,f.aNF],decls:6,vars:7,consts:[["sticky",""],[1,"ng-scrollbar-sticky"],[1,"ng-scrollbar-track-wrapper"],["scrollbarTrackY",""],["scrollbarThumbY",""],["scrollbarButton","top","scrollDirection","backward"],["scrollbarButton","bottom","scrollDirection","forward"]],template:function(et,jt){1&et&&(f.j41(0,"div",1,0)(2,"div",2)(3,"div",3),f.nrm(4,"div",4),f.k0s(),f.DNE(5,ti,2,6),f.k0s()()),2&et&&(f.R7$(3),f.ZvI("ng-scrollbar-track ",jt.cmp.trackClass,""),f.R7$(),f.ZvI("ng-scrollbar-thumb ",jt.cmp.thumbClass,""),f.R7$(),f.vxM(jt.cmp.buttons()?5:-1))},dependencies:[si,Ar,Zi],styles:["[_nghost-%COMP%]{position:absolute;inset:0;pointer-events:none;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}.ng-scrollbar-sticky[_ngcontent-%COMP%]{top:calc(var(--_scrollbar-wrapper-top) * 1px);left:calc(var(--_scrollbar-wrapper-left) * 1px);right:calc(var(--_scrollbar-wrapper-right) * 1px);height:calc(var(--_scrollbar-wrapper-height) * 1px);width:calc(var(--_scrollbar-wrapper-width) * 1px);position:sticky;z-index:100;opacity:var(--_scrollbar-hover-opacity);transition:var(--_scrollbar-opacity-transition)}.ng-scrollbar-track-wrapper[_ngcontent-%COMP%]{touch-action:none;-webkit-user-select:none;user-select:none;top:var(--_scrollbar-track-top);bottom:var(--_scrollbar-track-bottom);right:var(--_scrollbar-track-right);left:var(--_scrollbar-track-left);pointer-events:var(--_scrollbar-pointer-events);transition:var(--scrollbar-track-wrapper-transition);position:absolute;overflow:hidden;display:flex;place-items:center}.ng-scrollbar-track[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background-color:var(--scrollbar-track-color);border-radius:var(--scrollbar-border-radius);cursor:default;z-index:1;order:2}.ng-scrollbar-thumb[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;transition:var(--scrollbar-thumb-transition);border-radius:var(--scrollbar-border-radius);height:var(--_thumb-height);width:var(--_thumb-width);animation-name:_ngcontent-%COMP%_scrollbarThumbAnimation;animation-duration:1ms;animation-timing-function:linear}@keyframes _ngcontent-%COMP%_scrollbarThumbAnimation{0%{translate:var(--_scrollbar-thumb-transform-from)}to{translate:var(--_scrollbar-thumb-transform-to)}}","[_nghost-%COMP%]{--_scrollbar-wrapper-top: 0;--_scrollbar-wrapper-left: var(--_scrollbar-wrapper-y-left);--_scrollbar-wrapper-right: var(--_scrollbar-wrapper-y-right);--_scrollbar-wrapper-height: var(--viewport-height);--_scrollbar-wrapper-width: var(--_scrollbar-thickness);--_scrollbar-track-top: var(--_vertical-top);--_scrollbar-track-bottom: var(--_vertical-bottom);--_scrollbar-track-right: var(--_vertical-right);--_scrollbar-track-left: var(--_vertical-left);--_thumb-height: calc(var(--thumb-y-length) * 1px);--_thumb-width: 100%;--_scrollbar-thumb-transform-from: 0 0;--_scrollbar-thumb-transform-to: 0 calc(var(--_scrollbar-y-thumb-transform-to-value) * 1px)}.ng-scrollbar-track-wrapper[_ngcontent-%COMP%]{width:var(--_track-y-thickness);flex-direction:column}.ng-scrollbar-track-wrapper[_ngcontent-%COMP%]:hover{--_track-y-thickness: var(--_scrollbar-hover-thickness-px);--_thumb-y-color: var(--scrollbar-thumb-hover-color)}.ng-scrollbar-thumb[_ngcontent-%COMP%]{animation-timeline:var(--_animation-timeline-y);min-height:calc(var(--scrollbar-thumb-min-size) * 1px);display:var(--_vertical-thumb-display);background-color:var(--_thumb-y-color)}"],changeDetection:0})}return ut})(),Wr=(()=>{class ut extends Kt{get viewportScrollMax(){return this.cmp.viewport.scrollMaxX}get viewportScrollOffset(){return Math.abs(this.cmp.viewport.scrollLeft)}constructor(){(0,f.QZP)(()=>{this.handlePosition="rtl"===this.cmp.direction()?(Ve,et)=>-(et-Ve):Ve=>Ve}),super(),this.manager=(0,f.WQX)(pt),this.clientRectProperty="left",this.sizeProperty="offsetWidth",this.clientProperty="clientX",this.offsetProperty="offsetX",this.axis="x"}scrollTo(Ve,et){return(0,D.Sx)(this.cmp.scrollTo({left:Ve,duration:et}))}instantScrollTo(Ve,et){this.cmp.viewport.scrollXTo(this.handlePosition(Ve,et))}static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275cmp=f.VBU({type:ut,selectors:[["scrollbar-x"]],hostVars:1,hostBindings:function(et,jt){2&et&&f.BMQ("dir",jt.cmp.direction())},standalone:!0,features:[f.Jv_([{provide:mt,useExisting:ut}]),f.Vt3,f.aNF],decls:6,vars:7,consts:[["sticky",""],[1,"ng-scrollbar-sticky"],[1,"ng-scrollbar-track-wrapper"],["scrollbarTrackX",""],["scrollbarThumbX",""],["scrollbarButton","start","scrollDirection","backward"],["scrollbarButton","end","scrollDirection","forward"]],template:function(et,jt){1&et&&(f.j41(0,"div",1,0)(2,"div",2)(3,"div",3),f.nrm(4,"div",4),f.k0s(),f.DNE(5,ii,2,6),f.k0s()()),2&et&&(f.R7$(3),f.ZvI("ng-scrollbar-track ",jt.cmp.trackClass,""),f.R7$(),f.ZvI("ng-scrollbar-thumb ",jt.cmp.thumbClass,""),f.R7$(),f.vxM(jt.cmp.buttons()?5:-1))},dependencies:[Mn,Vi,Zi],styles:["[_nghost-%COMP%]{position:absolute;inset:0;pointer-events:none;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}.ng-scrollbar-sticky[_ngcontent-%COMP%]{top:calc(var(--_scrollbar-wrapper-top) * 1px);left:calc(var(--_scrollbar-wrapper-left) * 1px);right:calc(var(--_scrollbar-wrapper-right) * 1px);height:calc(var(--_scrollbar-wrapper-height) * 1px);width:calc(var(--_scrollbar-wrapper-width) * 1px);position:sticky;z-index:100;opacity:var(--_scrollbar-hover-opacity);transition:var(--_scrollbar-opacity-transition)}.ng-scrollbar-track-wrapper[_ngcontent-%COMP%]{touch-action:none;-webkit-user-select:none;user-select:none;top:var(--_scrollbar-track-top);bottom:var(--_scrollbar-track-bottom);right:var(--_scrollbar-track-right);left:var(--_scrollbar-track-left);pointer-events:var(--_scrollbar-pointer-events);transition:var(--scrollbar-track-wrapper-transition);position:absolute;overflow:hidden;display:flex;place-items:center}.ng-scrollbar-track[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background-color:var(--scrollbar-track-color);border-radius:var(--scrollbar-border-radius);cursor:default;z-index:1;order:2}.ng-scrollbar-thumb[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;transition:var(--scrollbar-thumb-transition);border-radius:var(--scrollbar-border-radius);height:var(--_thumb-height);width:var(--_thumb-width);animation-name:_ngcontent-%COMP%_scrollbarThumbAnimation;animation-duration:1ms;animation-timing-function:linear}@keyframes _ngcontent-%COMP%_scrollbarThumbAnimation{0%{translate:var(--_scrollbar-thumb-transform-from)}to{translate:var(--_scrollbar-thumb-transform-to)}}","[_nghost-%COMP%]{--_scrollbar-wrapper-top: var(--_scrollbar-wrapper-x-top);--_scrollbar-wrapper-left: 0;--_scrollbar-wrapper-right: 0;--_scrollbar-wrapper-height: var(--_scrollbar-thickness);--_scrollbar-wrapper-width: var(--viewport-width);--_scrollbar-track-top: var(--_horizontal-top);--_scrollbar-track-bottom: var(--_horizontal-bottom);--_scrollbar-track-right: var(--_horizontal-right);--_scrollbar-track-left: var(--_horizontal-left);--_thumb-height: 100%;--_thumb-width: calc(var(--thumb-x-length) * 1px);--_scrollbar-thumb-transform-from: 0;--_scrollbar-thumb-transform-to: calc(var(--_scrollbar-x-thumb-transform-to-value) * 1px)}[_nghost-%COMP%]   .ng-scrollbar-button[scrollbarButton=start][_ngcontent-%COMP%]{_--button-rotate:90}[_nghost-%COMP%]   .ng-scrollbar-button[scrollbarButton=end][_ngcontent-%COMP%]{_--button-rotate:-90}[dir=rtl][_nghost-%COMP%]   .ng-scrollbar-thumb[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_scrollbarThumbRTLAnimation;will-change:right;--_scrollbar-thumb-transform-to: calc(var(--_scrollbar-x-thumb-transform-to-value) * -1px)}[dir=rtl][_nghost-%COMP%]   .ng-scrollbar-button[scrollbarButton=start][_ngcontent-%COMP%]{--_button-rotate: 90deg}[dir=rtl][_nghost-%COMP%]   .ng-scrollbar-button[scrollbarButton=end][_ngcontent-%COMP%]{--_button-rotate: -90deg}.ng-scrollbar-track-wrapper[_ngcontent-%COMP%]{height:var(--_track-x-thickness);flex-direction:row}.ng-scrollbar-track-wrapper[_ngcontent-%COMP%]:hover{--_track-x-thickness: var(--_scrollbar-hover-thickness-px);--_thumb-x-color: var(--scrollbar-thumb-hover-color)}.ng-scrollbar-thumb[_ngcontent-%COMP%]{animation-timeline:var(--_animation-timeline-x);min-width:calc(var(--scrollbar-thumb-min-size) * 1px);display:var(--_horizontal-thumb-display);background-color:var(--_thumb-x-color)}@keyframes _ngcontent-%COMP%_scrollbarThumbRTLAnimation{0%{right:var(--_scrollbar-thumb-transform-from)}to{right:calc(var(--_scrollbar-thumb-transform-to) * -1)}}"],changeDetection:0})}return ut})(),us=(()=>{class ut{constructor(){this.cmp=(0,f.WQX)(re)}static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275cmp=f.VBU({type:ut,selectors:[["scrollbars"]],standalone:!0,features:[f.aNF],decls:2,vars:2,template:function(et,jt){1&et&&f.DNE(0,pn,1,0,"scrollbar-y")(1,rn,1,0,"scrollbar-x"),2&et&&(f.vxM(jt.cmp.verticalUsed()?0:-1),f.R7$(),f.vxM(jt.cmp.horizontalUsed()?1:-1))},dependencies:[Wr,oi],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0})}return ut})(),Zr=(()=>{class ut extends rt{ngOnInit(){this.viewport.init(this.nativeElement,this.contentWrapper.nativeElement),super.ngOnInit()}static#e=this.\u0275fac=(()=>{let Ve;return function(jt){return(Ve||(Ve=f.xGo(ut)))(jt||ut)}})();static#t=this.\u0275cmp=f.VBU({type:ut,selectors:[["ng-scrollbar",3,"externalViewport",""]],viewQuery:function(et,jt){if(1&et&&(f.GBs(gt,7),f.GBs(us,7)),2&et){let Wn;f.mGM(Wn=f.lsd())&&(jt.contentWrapper=Wn.first),f.mGM(Wn=f.lsd())&&(jt._scrollbars=Wn.first)}},exportAs:["ngScrollbar"],standalone:!0,features:[f.Jv_([{provide:re,useExisting:ut}]),f.nM4([hn]),f.Vt3,f.aNF],ngContentSelectors:dt,decls:4,vars:0,consts:[["contentWrapper",""]],template:function(et,jt){1&et&&(f.NAR(),f.j41(0,"div",null,0),f.SdG(2),f.nrm(3,"scrollbars"),f.k0s())},dependencies:[us],styles:["[_nghost-%COMP%]{display:block;position:relative;max-height:100%;max-width:100%;--scrollbar-border-radius: 0px;--scrollbar-thickness: 5;--scrollbar-offset: 0;--scrollbar-track-wrapper-transition: width 60ms linear, height 60ms linear;--scrollbar-track-color: transparent;--scrollbar-thumb-color: rgb(0 0 0 / 20%);--scrollbar-thumb-hover-color: var(--scrollbar-thumb-color);--scrollbar-hover-thickness: var(--scrollbar-thickness);--scrollbar-thumb-transition: none;--scrollbar-thumb-min-size: 20;--scrollbar-button-color: var(--scrollbar-thumb-color);--scrollbar-button-hover-color: var(--scrollbar-button-color);--scrollbar-button-active-color: var(--scrollbar-button-hover-color);--scrollbar-button-fill: white;--scrollbar-button-hover-fill: var(--scrollbar-button-fill);--scrollbar-button-active-fill: var(--scrollbar-button-hover-fill);--scrollbar-hover-opacity-transition-enter-duration: 0;--scrollbar-hover-opacity-transition-leave-duration: .4s;--scrollbar-hover-opacity-transition-leave-delay: 1s;--scrollbar-overscroll-behavior: initial;--scrollbar-mobile-overscroll-behavior: none;--_scrollbar-thickness: calc(var(--scrollbar-thickness) + var(--scrollbar-offset) * 2);--_scrollbar-pointer-events: auto;--_scrollbar-offset-px: calc(var(--scrollbar-offset) * 1px);--_scrollbar-thickness-px: calc(var(--scrollbar-thickness) * 1px);--_scrollbar-hover-thickness-px: calc(var(--scrollbar-hover-thickness) * 1px);--_viewport-padding-top: 0;--_viewport-padding-bottom: 0;--_viewport-padding-left: 0;--_viewport-padding-right: 0;--_horizontal-thumb-display: block;--_vertical-thumb-display: block;--_viewport-overflow: auto;--_thumb-x-color: var(--scrollbar-thumb-color);--_thumb-y-color: var(--scrollbar-thumb-color);--_track-y-thickness: var(--_scrollbar-thickness-px);--_track-x-thickness: var(--_scrollbar-thickness-px);--_viewport-overscroll-behavior: var(--scrollbar-overscroll-behavior);--_scrollbar-content-width: fit-content}[_nghost-%COMP%]{--_vertical-top: var(--_scrollbar-offset-px);--_vertical-bottom: var(--_scrollbar-offset-px);--_horizontal-left: var(--_scrollbar-offset-px);--_horizontal-right: var(--_scrollbar-offset-px);--_horizontal-top: initial;--_horizontal-bottom: var(--_scrollbar-offset-px);--_scrollbar-wrapper-x-top: calc(var(--viewport-height) - var(--_scrollbar-thickness));--reached-offset: 1px;--reached-offset-top: var(--reached-offset);--reached-offset-bottom: var(--reached-offset);--reached-offset-start: var(--reached-offset);--reached-offset-end: var(--reached-offset);--dropped-offset: 1px;--dropped-offset-top: var(--dropped-offset);--dropped-offset-bottom: var(--dropped-offset);--dropped-offset-start: var(--dropped-offset);--dropped-offset-end: var(--dropped-offset);--_viewport_scroll-timeline: unset;--_animation-timeline-y: unset;--_scrollbar-y-thumb-transform-to-value: unset;--_scrollbar-x-thumb-transform-to-value: unset;--_scrollbar-thumb-transform-from: unset;--_scrollbar-thumb-transform-to: unset}.ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport{min-height:100%;min-width:100%;height:100%;max-height:100%;max-width:100%}.ng-scroll-viewport[_nghost-%COMP%], .ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport{position:relative;overflow:var(--_viewport-overflow);scroll-timeline:var(--_viewport_scroll-timeline);box-sizing:border-box!important;-webkit-overflow-scrolling:touch;will-change:scroll-position;-webkit-user-select:var(--_viewport-user-select);user-select:var(--_viewport-user-select);overscroll-behavior:var(--_viewport-overscroll-behavior)}.ng-scroll-viewport[_nghost-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], .ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport>.ng-scroll-content{width:var(--_scrollbar-content-width);z-index:1;min-width:100%;min-height:100%;contain:content;padding:var(--_viewport-padding-top, 0) var(--_viewport-padding-right, 0) var(--_viewport-padding-bottom, 0) var(--_viewport-padding-left, 0)}.ng-scroll-viewport[_nghost-%COMP%], .ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport{scrollbar-width:none!important}.ng-scroll-viewport[_nghost-%COMP%]::-webkit-scrollbar, .ng-scrollbar-external-viewport[_nghost-%COMP%]     .ng-scroll-viewport::-webkit-scrollbar{display:none!important}[position=invertX][_nghost-%COMP%], [position=invertAll][_nghost-%COMP%]{--_horizontal-top: var(--_scrollbar-offset-px);--_horizontal-bottom: initial;--_scrollbar-wrapper-x-top: 0}[dir=ltr][_nghost-%COMP%]{--_scrollbar-wrapper-y-right: initial;--_vertical-right: var(--_scrollbar-offset-px);--_vertical-left: initial;--_scrollbar-wrapper-y-left: calc(var(--viewport-width) - var(--_scrollbar-thickness))}[dir=ltr][position=invertY][_nghost-%COMP%], [dir=ltr][position=invertAll][_nghost-%COMP%]{--_vertical-left: var(--_scrollbar-offset-px);--_vertical-right: initial;--_scrollbar-wrapper-y-left: 0}[dir=rtl][_nghost-%COMP%]{--_scrollbar-wrapper-y-left: initial;--_vertical-left: var(--_scrollbar-offset-px);--_vertical-right: initial;--_scrollbar-wrapper-y-right: calc(var(--viewport-width) - var(--_scrollbar-thickness))}[dir=rtl][position=invertY][_nghost-%COMP%], [dir=rtl][position=invertAll][_nghost-%COMP%]{--_vertical-right: var(--_scrollbar-offset-px);--_vertical-left: initial;--_scrollbar-wrapper-y-right: 0}[verticalUsed=true][horizontalUsed=true][_nghost-%COMP%]{--_scrollbar-thickness-margin: calc(var(--scrollbar-thickness) + var(--scrollbar-offset) * 3);--_scrollbar-thickness-margin-px: calc(var(--_scrollbar-thickness-margin) * 1px)}[horizontalUsed=true][_nghost-%COMP%]{--_vertical-top: var(--_scrollbar-offset-px);--_vertical-bottom: var(--_scrollbar-thickness-margin-px)}[horizontalUsed=true][position=invertX][_nghost-%COMP%], [horizontalUsed=true][position=invertAll][_nghost-%COMP%]{--_vertical-top: var(--_scrollbar-thickness-margin-px);--_vertical-bottom: var(--_scrollbar-offset-px)}[verticalUsed=true][dir=ltr][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-offset-px);--_horizontal-right: var(--_scrollbar-thickness-margin-px)}[verticalUsed=true][dir=rtl][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-thickness-margin-px);--_horizontal-right: var(--_scrollbar-offset-px)}[verticalUsed=true][position=invertY][dir=ltr][_nghost-%COMP%], [verticalUsed=true][position=invertAll][dir=ltr][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-thickness-margin-px);--_horizontal-right: var(--_scrollbar-offset-px)}[verticalUsed=true][position=invertY][dir=rtl][_nghost-%COMP%], [verticalUsed=true][position=invertAll][dir=rtl][_nghost-%COMP%]{--_horizontal-left: var(--_scrollbar-offset-px);--_horizontal-right: var(--_scrollbar-thickness-margin-px)}[appearance=native][verticalUsed=true][dir=ltr][_nghost-%COMP%]{--_viewport-padding-left: 0;--_viewport-padding-right: calc(var(--_scrollbar-thickness) * 1px)}[appearance=native][verticalUsed=true][dir=rtl][_nghost-%COMP%]{--_viewport-padding-left: calc(var(--_scrollbar-thickness) * 1px);--_viewport-padding-right: 0}[appearance=native][verticalUsed=true][position=invertY][dir=ltr][_nghost-%COMP%], [appearance=native][verticalUsed=true][position=invertAll][dir=ltr][_nghost-%COMP%]{--_viewport-padding-left: calc(var(--_scrollbar-thickness) * 1px);--_viewport-padding-right: 0}[appearance=native][verticalUsed=true][position=invertY][dir=rtl][_nghost-%COMP%], [appearance=native][verticalUsed=true][position=invertAll][dir=rtl][_nghost-%COMP%]{--_viewport-padding-left: 0;--_viewport-padding-right: calc(var(--_scrollbar-thickness) * 1px)}[appearance=native][horizontalUsed=true][_nghost-%COMP%]{--_viewport-padding-top: 0;--_viewport-padding-bottom: calc(var(--_scrollbar-thickness) * 1px)}[appearance=native][horizontalUsed=true][position=invertX][_nghost-%COMP%], [appearance=native][horizontalUsed=true][position=invertAll][_nghost-%COMP%]{--_viewport-padding-top: calc(var(--_scrollbar-thickness) * 1px);--_viewport-padding-bottom: 0}[visibility=hover][_nghost-%COMP%]{--_scrollbar-hover-opacity: 0;--_scrollbar-opacity-transition: opacity var(--scrollbar-hover-opacity-transition-leave-duration) var(--scrollbar-hover-opacity-transition-leave-delay)}[visibility=hover][_nghost-%COMP%]:hover, [visibility=hover][_nghost-%COMP%]:active, [visibility=hover][_nghost-%COMP%]:focus{--_scrollbar-hover-opacity: 1;--_scrollbar-opacity-transition: opacity var(--scrollbar-hover-opacity-transition-enter-duration)}[dir=ltr][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start], [dir=ltr][_nghost-%COMP%]     .scroll-dropped-trigger-element[trigger=start]{left:0;right:unset}[dir=ltr][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end], [dir=ltr][_nghost-%COMP%]     .scroll-dropped-trigger-element[trigger=end]{right:0;left:unset}[dir=rtl][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start], [dir=rtl][_nghost-%COMP%]     .scroll-dropped-trigger-element[trigger=start]{right:0;left:unset}[dir=rtl][_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end], [dir=rtl][_nghost-%COMP%]     .scroll-dropped-trigger-element[trigger=end]{left:0;right:unset}[_nghost-%COMP%]     .ng-scroll-reached-wrapper, [_nghost-%COMP%]     .ng-scroll-dropped-wrapper, [_nghost-%COMP%]     .scroll-reached-trigger-element, [_nghost-%COMP%]     .scroll-dropped-trigger-element{position:absolute;-webkit-user-select:none;user-select:none;pointer-events:none;z-index:-9999}[_nghost-%COMP%]     .ng-scroll-reached-wrapper, [_nghost-%COMP%]     .ng-scroll-dropped-wrapper{visibility:hidden;inset:0;min-width:calc(var(--viewport-width) * 1px);min-height:calc(var(--viewport-height) * 1px)}[_nghost-%COMP%]     [isHorizontallyScrollable=false] .scroll-reached-trigger-element[trigger=end], [_nghost-%COMP%]     [isHorizontallyScrollable=false] .scroll-dropped-trigger-element[trigger=end]{display:none}[_nghost-%COMP%]     [isVerticallyScrollable=false] .scroll-reached-trigger-element[trigger=bottom], [_nghost-%COMP%]     [isVerticallyScrollable=false] .scroll-dropped-trigger-element[trigger=bottom]{display:none}[_nghost-%COMP%]     .scroll-reached-trigger-element{background:red}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=top], [_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=bottom]{left:0;right:0}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start], [_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end]{top:0;bottom:0}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=top]{top:0;height:var(--reached-offset-top)}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=bottom]{bottom:0;height:var(--reached-offset-bottom)}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=start]{width:var(--reached-offset-start)}[_nghost-%COMP%]     .scroll-reached-trigger-element[trigger=end]{width:var(--reached-offset-end)}[_nghost-%COMP%]   .scroll-dropped-trigger-element[_ngcontent-%COMP%]{background:#00f}[_nghost-%COMP%]   .scroll-dropped-trigger-element[trigger=top][_ngcontent-%COMP%], [_nghost-%COMP%]   .scroll-dropped-trigger-element[trigger=bottom][_ngcontent-%COMP%]{left:0;right:0}[_nghost-%COMP%]   .scroll-dropped-trigger-element[trigger=start][_ngcontent-%COMP%], [_nghost-%COMP%]   .scroll-dropped-trigger-element[trigger=end][_ngcontent-%COMP%]{top:0;bottom:0}[_nghost-%COMP%]   .scroll-dropped-trigger-element[trigger=top][_ngcontent-%COMP%]{top:0;height:var(--dropped-offset-top)}[_nghost-%COMP%]   .scroll-dropped-trigger-element[trigger=bottom][_ngcontent-%COMP%]{bottom:0;height:var(--dropped-offset-bottom)}[_nghost-%COMP%]   .scroll-dropped-trigger-element[trigger=start][_ngcontent-%COMP%]{width:var(--dropped-offset-start)}[_nghost-%COMP%]   .scroll-dropped-trigger-element[trigger=end][_ngcontent-%COMP%]{width:var(--dropped-offset-end)}[verticalUsed=true][_nghost-%COMP%]{--_timeline-scope: --scrollerY;--_animation-timeline-y: --scrollerY;--_viewport_scroll-timeline: --scrollerY y;--_scrollbar-y-thumb-transform-to-value: calc(var(--track-y-length) - var(--thumb-y-length))}[horizontalUsed=true][_nghost-%COMP%]{--_timeline-scope: --scrollerX;--_animation-timeline-x: --scrollerX;--_viewport_scroll-timeline: --scrollerX x;--_scrollbar-x-thumb-transform-to-value: calc(var(--track-x-length) - var(--thumb-x-length))}[verticalUsed=true][horizontalUsed=true][_nghost-%COMP%]{--_timeline-scope: --scrollerX, --scrollerY;--_viewport_scroll-timeline: --scrollerX x, --scrollerY y}[orientation=vertical][_nghost-%COMP%]{--_viewport-overflow: hidden auto;--_scrollbar-content-width: unset}[orientation=horizontal][_nghost-%COMP%]{--_viewport-overflow: auto hidden}[disableInteraction=true][_nghost-%COMP%]{--_scrollbar-pointer-events: none}[isVerticallyScrollable=false][_nghost-%COMP%]{--_vertical-thumb-display: none}[isHorizontallyScrollable=false][_nghost-%COMP%]{--_horizontal-thumb-display: none}[dragging=x][_nghost-%COMP%], [dragging=y][_nghost-%COMP%]{--_viewport-user-select: none}[horizontalUsed=true][_nghost-%COMP%]{--thumb-x-length: max(calc(var(--viewport-width) * var(--track-x-length) / var(--content-width)), var(--scrollbar-thumb-min-size))}[verticalUsed=true][_nghost-%COMP%]{--thumb-y-length: max(calc(var(--viewport-height) * var(--track-y-length) / var(--content-height)), var(--scrollbar-thumb-min-size))}[dragging=x][_nghost-%COMP%]{--_track-x-thickness: calc(var(--scrollbar-hover-thickness) * 1px);--_thumb-x-color: var(--scrollbar-thumb-hover-color)}[dragging=y][_nghost-%COMP%]{--_track-y-thickness: calc(var(--scrollbar-hover-thickness) * 1px);--_thumb-y-color: var(--scrollbar-thumb-hover-color)}[mobile=true][_nghost-%COMP%]{--_viewport-overscroll-behavior: var(--scrollbar-mobile-overscroll-behavior)}"],changeDetection:0})}return ut})(),Hs=(()=>{class ut{static#e=this.\u0275fac=function(et){return new(et||ut)};static#t=this.\u0275mod=f.$C({type:ut});static#n=this.\u0275inj=f.G2t({})}return ut})()},1635:(_n,We,p)=>{"use strict";function se(tt,bt,Rt,xt){return new(Rt||(Rt=Promise))(function($t,Bn){function Hn(J){try{B(xt.next(J))}catch(Pe){Bn(Pe)}}function Le(J){try{B(xt.throw(J))}catch(Pe){Bn(Pe)}}function B(J){J.done?$t(J.value):function Jt($t){return $t instanceof Rt?$t:new Rt(function(Bn){Bn($t)})}(J.value).then(Hn,Le)}B((xt=xt.apply(tt,bt||[])).next())})}function ke(tt){return this instanceof ke?(this.v=tt,this):new ke(tt)}function Ye(tt,bt,Rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Jt,xt=Rt.apply(tt,bt||[]),$t=[];return Jt={},Hn("next"),Hn("throw"),Hn("return",function Bn(qe){return function(At){return Promise.resolve(At).then(qe,Pe)}}),Jt[Symbol.asyncIterator]=function(){return this},Jt;function Hn(qe,At){xt[qe]&&(Jt[qe]=function(un){return new Promise(function(kn,ti){$t.push([qe,un,kn,ti])>1||Le(qe,un)})},At&&(Jt[qe]=At(Jt[qe])))}function Le(qe,At){try{!function B(qe){qe.value instanceof ke?Promise.resolve(qe.value.v).then(J,Pe):$e($t[0][2],qe)}(xt[qe](At))}catch(un){$e($t[0][3],un)}}function J(qe){Le("next",qe)}function Pe(qe){Le("throw",qe)}function $e(qe,At){qe(At),$t.shift(),$t.length&&Le($t[0][0],$t[0][1])}}function m(tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Rt,bt=tt[Symbol.asyncIterator];return bt?bt.call(tt):(tt=function ue(tt){var bt="function"==typeof Symbol&&Symbol.iterator,Rt=bt&&tt[bt],xt=0;if(Rt)return Rt.call(tt);if(tt&&"number"==typeof tt.length)return{next:function(){return tt&&xt>=tt.length&&(tt=void 0),{value:tt&&tt[xt++],done:!tt}}};throw new TypeError(bt?"Object is not iterable.":"Symbol.iterator is not defined.")}(tt),Rt={},xt("next"),xt("throw"),xt("return"),Rt[Symbol.asyncIterator]=function(){return this},Rt);function xt($t){Rt[$t]=tt[$t]&&function(Bn){return new Promise(function(Hn,Le){!function Jt($t,Bn,Hn,Le){Promise.resolve(Le).then(function(B){$t({value:B,done:Hn})},Bn)}(Hn,Le,(Bn=tt[$t](Bn)).done,Bn.value)})}}}p.d(We,{AQ:()=>Ye,N3:()=>ke,sH:()=>se,xN:()=>m}),"function"==typeof SuppressedError&&SuppressedError}}]);