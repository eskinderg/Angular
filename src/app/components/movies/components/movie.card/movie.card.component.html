<div class="card-view hover-shadow">
    <div class="poster">
        <img
            class="fade-in"
            [src]="imageLoading ? imageLoadingUrl : imageUrl"
            (load)="onImageLoaded()"
            (click)="onMovieImageClick()"
            (error)="handleEmptyImage()" />
    </div>
    <div class="content">
        <div class="title">
            <strong class="title-text">
                <div class="card-title">{{ movie.title }}</div>
            </strong>
        </div>
        <hr style="margin: 5px 0px" />

        <div class="text-row">
            <div class="col-auto">
                <span class="badge bg-secondary"> {{ movie.original_language | uppercase }}</span>
            </div>
            <small class="card-text">{{ movie.overview | truncate: '100' : true }}</small>
        </div>

        <div class="year-rating">
            <div>{{ movie.release_date | truncate: '4' : false }}</div>
            <app-ngbd-rating-decimal [size]="2" [currentRate]="movieRating"></app-ngbd-rating-decimal>
            @if (isInWatchList | async) {
                <button class="btn-fav favorite" (click)="btnRemoveWatchListClick()">♥</button>
            } @else {
                <button class="btn-fav" (click)="btnAddWatchListClick()">♥</button>
            }
        </div>
    </div>
</div>
