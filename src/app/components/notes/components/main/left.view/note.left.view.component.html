<div class="note-left-menu">
    @if (!searchVisible) {
        <!-- <app-svg-icon class="search-icon" height="25" width="25" (clicked)="showSearch()" src="assets/images/search.svg" /> -->
        <svg
            class="search-icon"
            (click)="showSearch()"
            width="25px"
            height="25px"
            viewBox="0 0 24 24"
            fill="none">
            <path
                d="M15.7955 15.8111L21 21M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z"
                stroke="#2a6ada87"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round" />
        </svg>

        <div class="note-count" (click)="showSearch()">Notes ({{ NotesCount | async }})</div>

        @if (notesApiService.IsSyncingRequired | async) {
            <div class="svg-wrap" animate.leave="leaving" animate.enter="enter-animation">
                <app-svg-icon
                    [class.note-syncing]="true"
                    (click)="onSyncNotes()"
                    height="20"
                    width="20"
                    class="sync-false"
                    src="assets/images/sync.svg" />
            </div>
        }

        <app-svg-icon
            height="24"
            width="24"
            (clicked)="routeToArchivedNotes()"
            class="archive-note-icon"
            src="assets/images/archive2.svg" />

        <app-svg-icon
            height="26"
            width="26"
            (clicked)="onCreateNewNote()"
            class="add-note-icon"
            src="assets/images/add.svg" />
    } @else {
        <div class="search">
            <input
                #search
                spellcheck="false"
                (mouseup)="onSearchInputFocus($event)"
                type="text"
                placeholder="Search"
                class="search-input"
                [class.active]="searchTerm$.value.length"
                [hidden]="!searchVisible"
                [value]="searchTerm$.value"
                (input)="onSearchInput($event)" />
            <app-svg-icon (clicked)="clearSearch()" class="closex" src="assets/images/x.svg"></app-svg-icon>
        </div>
    }
</div>
<div class="main-note-list">
    <div class="list-notes">
        @if (NoteLoading | async) {
            <div class="no-content">
                <div class="spinner-border" style="width: 3rem; height: 3rem" role="status"></div>
            </div>
        } @else if ((notes$ | async).length === 0) {
            <div class="no-content">No notes</div>
        } @else {
            @for (note of notes$ | async; track note.note_id) {
                <app-note-list-item
                    [style.--index]="$index"
                    animate.enter="note-list-item-enter"
                    animate.leave="note-list-item-leave"
                    [note]="note"
                    [selectedNote]="selectedNote$ | async"
                    (updateNote)="onUpdateNote($event)"
                    (archiveNote)="onArchiveNote($event)"
                    (selectNote)="onSelectNote($event)"
                    (syncNote)="onSyncNotes()" />
            }
        }
    </div>
</div>
