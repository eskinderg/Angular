<nav class="menu">
    <div class="menu-inner">
        <!-- Brand -->
        <a class="brand" [routerLink]="['/home']">Angular</a>
        <button class="menu-toggle" aria-label="Toggle navigation" (click)="toggleMenu()">â˜°</button>
        <div class="menu-content" [class.open]="menuOpen()">
            <!-- Main navigation -->
            @if (IsLoggedIn | async) {
                <ul class="menu-main">
                    <li>
                        <a
                            routerLink="/home"
                            routerLinkActive="active-link"
                            [routerLinkActiveOptions]="{ exact: true }">
                            Home
                        </a>
                    </li>

                    <li>
                        <a routerLink="/about" routerLinkActive="active-link">About</a>
                    </li>

                    <li>
                        <a
                            [routerLinkActive]="['active-link']"
                            [routerLinkActiveOptions]="{ exact: true }"
                            [routerLink]="['/profile']">
                            Profile
                        </a>
                    </li>

                    <li>
                        <a
                            [routerLinkActive]="['active-link']"
                            [routerLinkActiveOptions]="{ exact: false }"
                            [routerLink]="['/wizard']">
                            Wizard
                        </a>
                    </li>
                    <li class="has-dropdown">
                        <a routerLink="/notes" routerLinkActive="active-link">
                            Notes
                            @if (NotesCount | async; as count) {
                                <span class="badge">{{ count }}</span>
                            }
                        </a>
                        <ul class="dropdown">
                            <li><a routerLink="/notes/mynotes">My Notes</a></li>
                            <li><a routerLink="/notes/archived">Archived</a></li>
                        </ul>
                    </li>

                    <li>
                        <a routerLink="/events" routerLinkActive="active-link">
                            Events
                            @if (EventsCount | async; as count) {
                                <span class="badge">{{ count }}</span>
                            }
                        </a>
                    </li>

                    <li class="has-dropdown">
                        <a routerLink="/movies" routerLinkActive="active-link">Movies</a>
                        <ul class="dropdown">
                            <li>
                                <a routerLink="/movies/watchlist">
                                    Watchlist
                                    @if (WatchListCount | async; as count) {
                                        <span class="badge">
                                            {{ count }}
                                        </span>
                                    }
                                </a>
                            </li>
                            <li>
                                <a routerLink="/movies/search">
                                    Search

                                    <app-svg-icon
                                        src="assets/images/search.svg"
                                        width="20"
                                        height="20"></app-svg-icon>
                                </a>
                            </li>
                            <li><a routerLink="/movies/history">History</a></li>
                        </ul>
                    </li>
                </ul>
            }

            <!-- Admin -->
            @if (permission.IsAdmin) {
                <ul class="menu-admin">
                    <li><a routerLink="/admin/dashboard">Dashboard</a></li>
                    <li><a routerLink="/admin/users">Users</a></li>
                </ul>
            }

            <!-- User -->
            <li class="user-dropdown user-info">
                <app-userinfo (signout)="onSignout()"></app-userinfo>
            </li>
        </div>
    </div>
</nav>
